{"version":3,"file":"Ndjson.js","names":["_Error","require","Channel","_interopRequireWildcard","Chunk","Effect","_Function","ChannelSchema","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","ErrorTypeId","exports","Symbol","for","encoder","TextEncoder","NdjsonError","TypeIdError","message","reason","packString","loop","readWithCause","onInput","input","zipRight","flatMap","try","of","toReadonlyArray","map","_","JSON","stringify","join","catch","cause","write","onFailure","failCause","onDone","succeed","pack","mapOut","encode","packSchema","schema","pipeTo","packSchemaString","filterEmpty","filter","line","length","filterEmptyChannel","filtered","isEmpty","void","done","unpackString","options","lines","splitLines","pipe","ignoreEmptyLines","identity","mapOutEffect","chunk","parse","decodeString","decoder","TextDecoder","decode","unpack","unpackSchema","decodeUnknown","unpackSchemaString","duplex","dual","args","isChannel","self","duplexString","duplexSchema","duplexUnknown","duplexSchemaString"],"sources":["../../src/Ndjson.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}