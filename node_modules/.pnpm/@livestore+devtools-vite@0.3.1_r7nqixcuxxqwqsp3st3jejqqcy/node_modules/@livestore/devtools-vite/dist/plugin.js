import{createRequire as oPQ}from"node:module";var iPQ=Object.create;var{getPrototypeOf:nPQ,defineProperty:Wq,getOwnPropertyNames:jQA}=Object;var xQA=Object.prototype.hasOwnProperty,SQA=(A,Q,B)=>{for(let C of jQA(Q))if(!xQA.call(A,C)&&C!=="default")Wq(A,C,{get:()=>Q[C],enumerable:!0});if(B){for(let C of jQA(Q))if(!xQA.call(B,C)&&C!=="default")Wq(B,C,{get:()=>Q[C],enumerable:!0});return B}},wN=(A,Q,B)=>{B=A!=null?iPQ(nPQ(A)):{};let C=Q||!A||!A.__esModule?Wq(B,"default",{value:A,enumerable:!0}):B;for(let E of jQA(A))if(!xQA.call(C,E))Wq(C,E,{get:()=>A[E],enumerable:!0});return C};var m=(A,Q)=>()=>(Q||A((Q={exports:{}}).exports,Q),Q.exports);var ZQ=(A,Q)=>{for(var B in Q)Wq(A,B,{get:Q[B],enumerable:!0,configurable:!0,set:(C)=>Q[B]=()=>C})};var a=oPQ(import.meta.url);var bYQ=m((yYQ)=>{Object.defineProperty(yYQ,"__esModule",{value:!0});yYQ._globalThis=void 0;yYQ._globalThis=typeof globalThis==="object"?globalThis:global});var hYQ=m((d3)=>{var nrQ=d3&&d3.__createBinding||(Object.create?function(A,Q,B,C){if(C===void 0)C=B;Object.defineProperty(A,C,{enumerable:!0,get:function(){return Q[B]}})}:function(A,Q,B,C){if(C===void 0)C=B;A[C]=Q[B]}),orQ=d3&&d3.__exportStar||function(A,Q){for(var B in A)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(Q,B))nrQ(Q,A,B)};Object.defineProperty(d3,"__esModule",{value:!0});orQ(bYQ(),d3)});var mYQ=m((u3)=>{var rrQ=u3&&u3.__createBinding||(Object.create?function(A,Q,B,C){if(C===void 0)C=B;Object.defineProperty(A,C,{enumerable:!0,get:function(){return Q[B]}})}:function(A,Q,B,C){if(C===void 0)C=B;A[C]=Q[B]}),arQ=u3&&u3.__exportStar||function(A,Q){for(var B in A)if(B!=="default"&&!Object.prototype.hasOwnProperty.call(Q,B))rrQ(Q,A,B)};Object.defineProperty(u3,"__esModule",{value:!0});arQ(hYQ(),u3)});var G4A=m((fYQ)=>{Object.defineProperty(fYQ,"__esModule",{value:!0});fYQ.VERSION=void 0;fYQ.VERSION="1.9.0"});var iYQ=m((cYQ)=>{Object.defineProperty(cYQ,"__esModule",{value:!0});cYQ.isCompatible=cYQ._makeCompatibilityCheck=void 0;var srQ=G4A(),uYQ=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function pYQ(A){let Q=new Set([A]),B=new Set,C=A.match(uYQ);if(!C)return()=>!1;let E={major:+C[1],minor:+C[2],patch:+C[3],prerelease:C[4]};if(E.prerelease!=null)return function G(J){return J===A};function I(G){return B.add(G),!1}function Y(G){return Q.add(G),!0}return function G(J){if(Q.has(J))return!0;if(B.has(J))return!1;let D=J.match(uYQ);if(!D)return I(J);let U={major:+D[1],minor:+D[2],patch:+D[3],prerelease:D[4]};if(U.prerelease!=null)return I(J);if(E.major!==U.major)return I(J);if(E.major===0){if(E.minor===U.minor&&E.patch<=U.patch)return Y(J);return I(J)}if(E.minor<=U.minor)return Y(J);return I(J)}}cYQ._makeCompatibilityCheck=pYQ;cYQ.isCompatible=pYQ(srQ.VERSION)});var p3=m((nYQ)=>{Object.defineProperty(nYQ,"__esModule",{value:!0});nYQ.unregisterGlobal=nYQ.getGlobal=nYQ.registerGlobal=void 0;var erQ=mYQ(),gO=G4A(),AaQ=iYQ(),QaQ=gO.VERSION.split(".")[0],Fg=Symbol.for(`opentelemetry.js.api.${QaQ}`),Hg=erQ._globalThis;function BaQ(A,Q,B,C=!1){var E;let I=Hg[Fg]=(E=Hg[Fg])!==null&&E!==void 0?E:{version:gO.VERSION};if(!C&&I[A]){let Y=new Error(`@opentelemetry/api: Attempted duplicate registration of API: ${A}`);return B.error(Y.stack||Y.message),!1}if(I.version!==gO.VERSION){let Y=new Error(`@opentelemetry/api: Registration of version v${I.version} for ${A} does not match previously registered API v${gO.VERSION}`);return B.error(Y.stack||Y.message),!1}return I[A]=Q,B.debug(`@opentelemetry/api: Registered a global for ${A} v${gO.VERSION}.`),!0}nYQ.registerGlobal=BaQ;function CaQ(A){var Q,B;let C=(Q=Hg[Fg])===null||Q===void 0?void 0:Q.version;if(!C||!AaQ.isCompatible(C))return;return(B=Hg[Fg])===null||B===void 0?void 0:B[A]}nYQ.getGlobal=CaQ;function EaQ(A,Q){Q.debug(`@opentelemetry/api: Unregistering a global for ${A} v${gO.VERSION}.`);let B=Hg[Fg];if(B)delete B[A]}nYQ.unregisterGlobal=EaQ});var tYQ=m((aYQ)=>{Object.defineProperty(aYQ,"__esModule",{value:!0});aYQ.DiagComponentLogger=void 0;var GaQ=p3();class rYQ{constructor(A){this._namespace=A.namespace||"DiagComponentLogger"}debug(...A){return Wg("debug",this._namespace,A)}error(...A){return Wg("error",this._namespace,A)}info(...A){return Wg("info",this._namespace,A)}warn(...A){return Wg("warn",this._namespace,A)}verbose(...A){return Wg("verbose",this._namespace,A)}}aYQ.DiagComponentLogger=rYQ;function Wg(A,Q,B){let C=GaQ.getGlobal("diag");if(!C)return;return B.unshift(Q),C[A](...B)}});var _o=m((eYQ)=>{Object.defineProperty(eYQ,"__esModule",{value:!0});eYQ.DiagLogLevel=void 0;var JaQ;(function(A){A[A.NONE=0]="NONE",A[A.ERROR=30]="ERROR",A[A.WARN=50]="WARN",A[A.INFO=60]="INFO",A[A.DEBUG=70]="DEBUG",A[A.VERBOSE=80]="VERBOSE",A[A.ALL=9999]="ALL"})(JaQ=eYQ.DiagLogLevel||(eYQ.DiagLogLevel={}))});var BGQ=m((AGQ)=>{Object.defineProperty(AGQ,"__esModule",{value:!0});AGQ.createLogLevelDiagLogger=void 0;var Z6=_o();function DaQ(A,Q){if(A<Z6.DiagLogLevel.NONE)A=Z6.DiagLogLevel.NONE;else if(A>Z6.DiagLogLevel.ALL)A=Z6.DiagLogLevel.ALL;Q=Q||{};function B(C,E){let I=Q[C];if(typeof I==="function"&&A>=E)return I.bind(Q);return function(){}}return{error:B("error",Z6.DiagLogLevel.ERROR),warn:B("warn",Z6.DiagLogLevel.WARN),info:B("info",Z6.DiagLogLevel.INFO),debug:B("debug",Z6.DiagLogLevel.DEBUG),verbose:B("verbose",Z6.DiagLogLevel.VERBOSE)}}AGQ.createLogLevelDiagLogger=DaQ});var c3=m((EGQ)=>{Object.defineProperty(EGQ,"__esModule",{value:!0});EGQ.DiagAPI=void 0;var UaQ=tYQ(),NaQ=BGQ(),CGQ=_o(),jo=p3(),ZaQ="diag";class D4A{constructor(){function A(C){return function(...E){let I=jo.getGlobal("diag");if(!I)return;return I[C](...E)}}let Q=this,B=(C,E={logLevel:CGQ.DiagLogLevel.INFO})=>{var I,Y,G;if(C===Q){let U=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return Q.error((I=U.stack)!==null&&I!==void 0?I:U.message),!1}if(typeof E==="number")E={logLevel:E};let J=jo.getGlobal("diag"),D=NaQ.createLogLevelDiagLogger((Y=E.logLevel)!==null&&Y!==void 0?Y:CGQ.DiagLogLevel.INFO,C);if(J&&!E.suppressOverrideMessage){let U=(G=new Error().stack)!==null&&G!==void 0?G:"<failed to generate stacktrace>";J.warn(`Current logger will be overwritten from ${U}`),D.warn(`Current logger will overwrite one already registered from ${U}`)}return jo.registerGlobal("diag",D,Q,!0)};Q.setLogger=B,Q.disable=()=>{jo.unregisterGlobal(ZaQ,Q)},Q.createComponentLogger=(C)=>{return new UaQ.DiagComponentLogger(C)},Q.verbose=A("verbose"),Q.debug=A("debug"),Q.info=A("info"),Q.warn=A("warn"),Q.error=A("error")}static instance(){if(!this._instance)this._instance=new D4A;return this._instance}}EGQ.DiagAPI=D4A});var JGQ=m((YGQ)=>{Object.defineProperty(YGQ,"__esModule",{value:!0});YGQ.BaggageImpl=void 0;class vO{constructor(A){this._entries=A?new Map(A):new Map}getEntry(A){let Q=this._entries.get(A);if(!Q)return;return Object.assign({},Q)}getAllEntries(){return Array.from(this._entries.entries()).map(([A,Q])=>[A,Q])}setEntry(A,Q){let B=new vO(this._entries);return B._entries.set(A,Q),B}removeEntry(A){let Q=new vO(this._entries);return Q._entries.delete(A),Q}removeEntries(...A){let Q=new vO(this._entries);for(let B of A)Q._entries.delete(B);return Q}clear(){return new vO}}YGQ.BaggageImpl=vO});var NGQ=m((DGQ)=>{Object.defineProperty(DGQ,"__esModule",{value:!0});DGQ.baggageEntryMetadataSymbol=void 0;DGQ.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")});var U4A=m((ZGQ)=>{Object.defineProperty(ZGQ,"__esModule",{value:!0});ZGQ.baggageEntryMetadataFromString=ZGQ.createBaggage=void 0;var XaQ=c3(),FaQ=JGQ(),HaQ=NGQ(),WaQ=XaQ.DiagAPI.instance();function KaQ(A={}){return new FaQ.BaggageImpl(new Map(Object.entries(A)))}ZGQ.createBaggage=KaQ;function VaQ(A){if(typeof A!=="string")WaQ.error(`Cannot create baggage metadata from unknown type: ${typeof A}`),A="";return{__TYPE__:HaQ.baggageEntryMetadataSymbol,toString(){return A}}}ZGQ.baggageEntryMetadataFromString=VaQ});var Kg=m((FGQ)=>{Object.defineProperty(FGQ,"__esModule",{value:!0});FGQ.ROOT_CONTEXT=FGQ.createContextKey=void 0;function $aQ(A){return Symbol.for(A)}FGQ.createContextKey=$aQ;class xo{constructor(A){let Q=this;Q._currentContext=A?new Map(A):new Map,Q.getValue=(B)=>Q._currentContext.get(B),Q.setValue=(B,C)=>{let E=new xo(Q._currentContext);return E._currentContext.set(B,C),E},Q.deleteValue=(B)=>{let C=new xo(Q._currentContext);return C._currentContext.delete(B),C}}}FGQ.ROOT_CONTEXT=new xo});var MGQ=m((KGQ)=>{Object.defineProperty(KGQ,"__esModule",{value:!0});KGQ.DiagConsoleLogger=void 0;var N4A=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class WGQ{constructor(){function A(Q){return function(...B){if(console){let C=console[Q];if(typeof C!=="function")C=console.log;if(typeof C==="function")return C.apply(console,B)}}}for(let Q=0;Q<N4A.length;Q++)this[N4A[Q].n]=A(N4A[Q].c)}}KGQ.DiagConsoleLogger=WGQ});var $4A=m(($GQ)=>{Object.defineProperty($GQ,"__esModule",{value:!0});$GQ.createNoopMeter=$GQ.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=$GQ.NOOP_OBSERVABLE_GAUGE_METRIC=$GQ.NOOP_OBSERVABLE_COUNTER_METRIC=$GQ.NOOP_UP_DOWN_COUNTER_METRIC=$GQ.NOOP_HISTOGRAM_METRIC=$GQ.NOOP_GAUGE_METRIC=$GQ.NOOP_COUNTER_METRIC=$GQ.NOOP_METER=$GQ.NoopObservableUpDownCounterMetric=$GQ.NoopObservableGaugeMetric=$GQ.NoopObservableCounterMetric=$GQ.NoopObservableMetric=$GQ.NoopHistogramMetric=$GQ.NoopGaugeMetric=$GQ.NoopUpDownCounterMetric=$GQ.NoopCounterMetric=$GQ.NoopMetric=$GQ.NoopMeter=void 0;class Z4A{constructor(){}createGauge(A,Q){return $GQ.NOOP_GAUGE_METRIC}createHistogram(A,Q){return $GQ.NOOP_HISTOGRAM_METRIC}createCounter(A,Q){return $GQ.NOOP_COUNTER_METRIC}createUpDownCounter(A,Q){return $GQ.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(A,Q){return $GQ.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(A,Q){return $GQ.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(A,Q){return $GQ.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(A,Q){}removeBatchObservableCallback(A){}}$GQ.NoopMeter=Z4A;class yO{}$GQ.NoopMetric=yO;class X4A extends yO{add(A,Q){}}$GQ.NoopCounterMetric=X4A;class F4A extends yO{add(A,Q){}}$GQ.NoopUpDownCounterMetric=F4A;class H4A extends yO{record(A,Q){}}$GQ.NoopGaugeMetric=H4A;class W4A extends yO{record(A,Q){}}$GQ.NoopHistogramMetric=W4A;class Vg{addCallback(A){}removeCallback(A){}}$GQ.NoopObservableMetric=Vg;class K4A extends Vg{}$GQ.NoopObservableCounterMetric=K4A;class V4A extends Vg{}$GQ.NoopObservableGaugeMetric=V4A;class M4A extends Vg{}$GQ.NoopObservableUpDownCounterMetric=M4A;$GQ.NOOP_METER=new Z4A;$GQ.NOOP_COUNTER_METRIC=new X4A;$GQ.NOOP_GAUGE_METRIC=new H4A;$GQ.NOOP_HISTOGRAM_METRIC=new W4A;$GQ.NOOP_UP_DOWN_COUNTER_METRIC=new F4A;$GQ.NOOP_OBSERVABLE_COUNTER_METRIC=new K4A;$GQ.NOOP_OBSERVABLE_GAUGE_METRIC=new V4A;$GQ.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new M4A;function waQ(){return $GQ.NOOP_METER}$GQ.createNoopMeter=waQ});var xGQ=m((jGQ)=>{Object.defineProperty(jGQ,"__esModule",{value:!0});jGQ.ValueType=void 0;var gaQ;(function(A){A[A.INT=0]="INT",A[A.DOUBLE=1]="DOUBLE"})(gaQ=jGQ.ValueType||(jGQ.ValueType={}))});var w4A=m((SGQ)=>{Object.defineProperty(SGQ,"__esModule",{value:!0});SGQ.defaultTextMapSetter=SGQ.defaultTextMapGetter=void 0;SGQ.defaultTextMapGetter={get(A,Q){if(A==null)return;return A[Q]},keys(A){if(A==null)return[];return Object.keys(A)}};SGQ.defaultTextMapSetter={set(A,Q,B){if(A==null)return;A[Q]=B}}});var bGQ=m((yGQ)=>{Object.defineProperty(yGQ,"__esModule",{value:!0});yGQ.NoopContextManager=void 0;var yaQ=Kg();class vGQ{active(){return yaQ.ROOT_CONTEXT}with(A,Q,B,...C){return Q.call(B,...C)}bind(A,Q){return Q}enable(){return this}disable(){return this}}yGQ.NoopContextManager=vGQ});var Mg=m((mGQ)=>{Object.defineProperty(mGQ,"__esModule",{value:!0});mGQ.ContextAPI=void 0;var kaQ=bGQ(),L4A=p3(),hGQ=c3(),O4A="context",baQ=new kaQ.NoopContextManager;class R4A{constructor(){}static getInstance(){if(!this._instance)this._instance=new R4A;return this._instance}setGlobalContextManager(A){return L4A.registerGlobal(O4A,A,hGQ.DiagAPI.instance())}active(){return this._getContextManager().active()}with(A,Q,B,...C){return this._getContextManager().with(A,Q,B,...C)}bind(A,Q){return this._getContextManager().bind(A,Q)}_getContextManager(){return L4A.getGlobal(O4A)||baQ}disable(){this._getContextManager().disable(),L4A.unregisterGlobal(O4A,hGQ.DiagAPI.instance())}}mGQ.ContextAPI=R4A});var q4A=m((dGQ)=>{Object.defineProperty(dGQ,"__esModule",{value:!0});dGQ.TraceFlags=void 0;var haQ;(function(A){A[A.NONE=0]="NONE",A[A.SAMPLED=1]="SAMPLED"})(haQ=dGQ.TraceFlags||(dGQ.TraceFlags={}))});var So=m((uGQ)=>{Object.defineProperty(uGQ,"__esModule",{value:!0});uGQ.INVALID_SPAN_CONTEXT=uGQ.INVALID_TRACEID=uGQ.INVALID_SPANID=void 0;var maQ=q4A();uGQ.INVALID_SPANID="0000000000000000";uGQ.INVALID_TRACEID="00000000000000000000000000000000";uGQ.INVALID_SPAN_CONTEXT={traceId:uGQ.INVALID_TRACEID,spanId:uGQ.INVALID_SPANID,traceFlags:maQ.TraceFlags.NONE}});var go=m((nGQ)=>{Object.defineProperty(nGQ,"__esModule",{value:!0});nGQ.NonRecordingSpan=void 0;var faQ=So();class iGQ{constructor(A=faQ.INVALID_SPAN_CONTEXT){this._spanContext=A}spanContext(){return this._spanContext}setAttribute(A,Q){return this}setAttributes(A){return this}addEvent(A,Q){return this}addLink(A){return this}addLinks(A){return this}setStatus(A){return this}updateName(A){return this}end(A){}isRecording(){return!1}recordException(A,Q){}}nGQ.NonRecordingSpan=iGQ});var j4A=m((aGQ)=>{Object.defineProperty(aGQ,"__esModule",{value:!0});aGQ.getSpanContext=aGQ.setSpanContext=aGQ.deleteSpan=aGQ.setSpan=aGQ.getActiveSpan=aGQ.getSpan=void 0;var daQ=Kg(),uaQ=go(),paQ=Mg(),P4A=daQ.createContextKey("OpenTelemetry Context Key SPAN");function _4A(A){return A.getValue(P4A)||void 0}aGQ.getSpan=_4A;function caQ(){return _4A(paQ.ContextAPI.getInstance().active())}aGQ.getActiveSpan=caQ;function rGQ(A,Q){return A.setValue(P4A,Q)}aGQ.setSpan=rGQ;function laQ(A){return A.deleteValue(P4A)}aGQ.deleteSpan=laQ;function iaQ(A,Q){return rGQ(A,new uaQ.NonRecordingSpan(Q))}aGQ.setSpanContext=iaQ;function naQ(A){var Q;return(Q=_4A(A))===null||Q===void 0?void 0:Q.spanContext()}aGQ.getSpanContext=naQ});var vo=m((QJQ)=>{Object.defineProperty(QJQ,"__esModule",{value:!0});QJQ.wrapSpanContext=QJQ.isSpanContextValid=QJQ.isValidSpanId=QJQ.isValidTraceId=void 0;var tGQ=So(),eaQ=go(),AsQ=/^([0-9a-f]{32})$/i,QsQ=/^[0-9a-f]{16}$/i;function eGQ(A){return AsQ.test(A)&&A!==tGQ.INVALID_TRACEID}QJQ.isValidTraceId=eGQ;function AJQ(A){return QsQ.test(A)&&A!==tGQ.INVALID_SPANID}QJQ.isValidSpanId=AJQ;function BsQ(A){return eGQ(A.traceId)&&AJQ(A.spanId)}QJQ.isSpanContextValid=BsQ;function CsQ(A){return new eaQ.NonRecordingSpan(A)}QJQ.wrapSpanContext=CsQ});var g4A=m((IJQ)=>{Object.defineProperty(IJQ,"__esModule",{value:!0});IJQ.NoopTracer=void 0;var GsQ=Mg(),CJQ=j4A(),x4A=go(),JsQ=vo(),S4A=GsQ.ContextAPI.getInstance();class EJQ{startSpan(A,Q,B=S4A.active()){if(Boolean(Q===null||Q===void 0?void 0:Q.root))return new x4A.NonRecordingSpan;let E=B&&CJQ.getSpanContext(B);if(DsQ(E)&&JsQ.isSpanContextValid(E))return new x4A.NonRecordingSpan(E);else return new x4A.NonRecordingSpan}startActiveSpan(A,Q,B,C){let E,I,Y;if(arguments.length<2)return;else if(arguments.length===2)Y=Q;else if(arguments.length===3)E=Q,Y=B;else E=Q,I=B,Y=C;let G=I!==null&&I!==void 0?I:S4A.active(),J=this.startSpan(A,E,G),D=CJQ.setSpan(G,J);return S4A.with(D,Y,void 0,J)}}IJQ.NoopTracer=EJQ;function DsQ(A){return typeof A==="object"&&typeof A.spanId==="string"&&typeof A.traceId==="string"&&typeof A.traceFlags==="number"}});var v4A=m((JJQ)=>{Object.defineProperty(JJQ,"__esModule",{value:!0});JJQ.ProxyTracer=void 0;var UsQ=g4A(),NsQ=new UsQ.NoopTracer;class GJQ{constructor(A,Q,B,C){this._provider=A,this.name=Q,this.version=B,this.options=C}startSpan(A,Q,B){return this._getTracer().startSpan(A,Q,B)}startActiveSpan(A,Q,B,C){let E=this._getTracer();return Reflect.apply(E.startActiveSpan,E,arguments)}_getTracer(){if(this._delegate)return this._delegate;let A=this._provider.getDelegateTracer(this.name,this.version,this.options);if(!A)return NsQ;return this._delegate=A,this._delegate}}JJQ.ProxyTracer=GJQ});var XJQ=m((NJQ)=>{Object.defineProperty(NJQ,"__esModule",{value:!0});NJQ.NoopTracerProvider=void 0;var ZsQ=g4A();class UJQ{getTracer(A,Q,B){return new ZsQ.NoopTracer}}NJQ.NoopTracerProvider=UJQ});var y4A=m((HJQ)=>{Object.defineProperty(HJQ,"__esModule",{value:!0});HJQ.ProxyTracerProvider=void 0;var XsQ=v4A(),FsQ=XJQ(),HsQ=new FsQ.NoopTracerProvider;class FJQ{getTracer(A,Q,B){var C;return(C=this.getDelegateTracer(A,Q,B))!==null&&C!==void 0?C:new XsQ.ProxyTracer(this,A,Q,B)}getDelegate(){var A;return(A=this._delegate)!==null&&A!==void 0?A:HsQ}setDelegate(A){this._delegate=A}getDelegateTracer(A,Q,B){var C;return(C=this._delegate)===null||C===void 0?void 0:C.getTracer(A,Q,B)}}HJQ.ProxyTracerProvider=FJQ});var VJQ=m((KJQ)=>{Object.defineProperty(KJQ,"__esModule",{value:!0});KJQ.SamplingDecision=void 0;var WsQ;(function(A){A[A.NOT_RECORD=0]="NOT_RECORD",A[A.RECORD=1]="RECORD",A[A.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(WsQ=KJQ.SamplingDecision||(KJQ.SamplingDecision={}))});var $JQ=m((MJQ)=>{Object.defineProperty(MJQ,"__esModule",{value:!0});MJQ.SpanKind=void 0;var KsQ;(function(A){A[A.INTERNAL=0]="INTERNAL",A[A.SERVER=1]="SERVER",A[A.CLIENT=2]="CLIENT",A[A.PRODUCER=3]="PRODUCER",A[A.CONSUMER=4]="CONSUMER"})(KsQ=MJQ.SpanKind||(MJQ.SpanKind={}))});var wJQ=m((zJQ)=>{Object.defineProperty(zJQ,"__esModule",{value:!0});zJQ.SpanStatusCode=void 0;var VsQ;(function(A){A[A.UNSET=0]="UNSET",A[A.OK=1]="OK",A[A.ERROR=2]="ERROR"})(VsQ=zJQ.SpanStatusCode||(zJQ.SpanStatusCode={}))});var RJQ=m((LJQ)=>{Object.defineProperty(LJQ,"__esModule",{value:!0});LJQ.validateValue=LJQ.validateKey=void 0;var m4A="[_0-9a-z-*/]",MsQ=`[a-z]${m4A}{0,255}`,$sQ=`[a-z0-9]${m4A}{0,240}@[a-z]${m4A}{0,13}`,zsQ=new RegExp(`^(?:${MsQ}|${$sQ})$`),wsQ=/^[ -~]{0,255}[!-~]$/,LsQ=/,|=/;function OsQ(A){return zsQ.test(A)}LJQ.validateKey=OsQ;function RsQ(A){return wsQ.test(A)&&!LsQ.test(A)}LJQ.validateValue=RsQ});var SJQ=m((jJQ)=>{Object.defineProperty(jJQ,"__esModule",{value:!0});jJQ.TraceStateImpl=void 0;var TJQ=RJQ(),qJQ=32,qsQ=512,PJQ=",",_JQ="=";class f4A{constructor(A){if(this._internalState=new Map,A)this._parse(A)}set(A,Q){let B=this._clone();if(B._internalState.has(A))B._internalState.delete(A);return B._internalState.set(A,Q),B}unset(A){let Q=this._clone();return Q._internalState.delete(A),Q}get(A){return this._internalState.get(A)}serialize(){return this._keys().reduce((A,Q)=>{return A.push(Q+_JQ+this.get(Q)),A},[]).join(PJQ)}_parse(A){if(A.length>qsQ)return;if(this._internalState=A.split(PJQ).reverse().reduce((Q,B)=>{let C=B.trim(),E=C.indexOf(_JQ);if(E!==-1){let I=C.slice(0,E),Y=C.slice(E+1,B.length);if(TJQ.validateKey(I)&&TJQ.validateValue(Y))Q.set(I,Y)}return Q},new Map),this._internalState.size>qJQ)this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,qJQ))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let A=new f4A;return A._internalState=new Map(this._internalState),A}}jJQ.TraceStateImpl=f4A});var yJQ=m((gJQ)=>{Object.defineProperty(gJQ,"__esModule",{value:!0});gJQ.createTraceState=void 0;var PsQ=SJQ();function _sQ(A){return new PsQ.TraceStateImpl(A)}gJQ.createTraceState=_sQ});var hJQ=m((kJQ)=>{Object.defineProperty(kJQ,"__esModule",{value:!0});kJQ.context=void 0;var jsQ=Mg();kJQ.context=jsQ.ContextAPI.getInstance()});var dJQ=m((mJQ)=>{Object.defineProperty(mJQ,"__esModule",{value:!0});mJQ.diag=void 0;var xsQ=c3();mJQ.diag=xsQ.DiagAPI.instance()});var cJQ=m((uJQ)=>{Object.defineProperty(uJQ,"__esModule",{value:!0});uJQ.NOOP_METER_PROVIDER=uJQ.NoopMeterProvider=void 0;var SsQ=$4A();class d4A{getMeter(A,Q,B){return SsQ.NOOP_METER}}uJQ.NoopMeterProvider=d4A;uJQ.NOOP_METER_PROVIDER=new d4A});var oJQ=m((iJQ)=>{Object.defineProperty(iJQ,"__esModule",{value:!0});iJQ.MetricsAPI=void 0;var vsQ=cJQ(),u4A=p3(),lJQ=c3(),p4A="metrics";class c4A{constructor(){}static getInstance(){if(!this._instance)this._instance=new c4A;return this._instance}setGlobalMeterProvider(A){return u4A.registerGlobal(p4A,A,lJQ.DiagAPI.instance())}getMeterProvider(){return u4A.getGlobal(p4A)||vsQ.NOOP_METER_PROVIDER}getMeter(A,Q,B){return this.getMeterProvider().getMeter(A,Q,B)}disable(){u4A.unregisterGlobal(p4A,lJQ.DiagAPI.instance())}}iJQ.MetricsAPI=c4A});var sJQ=m((rJQ)=>{Object.defineProperty(rJQ,"__esModule",{value:!0});rJQ.metrics=void 0;var ysQ=oJQ();rJQ.metrics=ysQ.MetricsAPI.getInstance()});var Q2Q=m((eJQ)=>{Object.defineProperty(eJQ,"__esModule",{value:!0});eJQ.NoopTextMapPropagator=void 0;class tJQ{inject(A,Q){}extract(A,Q){return A}fields(){return[]}}eJQ.NoopTextMapPropagator=tJQ});var I2Q=m((C2Q)=>{Object.defineProperty(C2Q,"__esModule",{value:!0});C2Q.deleteBaggage=C2Q.setBaggage=C2Q.getActiveBaggage=C2Q.getBaggage=void 0;var ksQ=Mg(),bsQ=Kg(),l4A=bsQ.createContextKey("OpenTelemetry Baggage Key");function B2Q(A){return A.getValue(l4A)||void 0}C2Q.getBaggage=B2Q;function hsQ(){return B2Q(ksQ.ContextAPI.getInstance().active())}C2Q.getActiveBaggage=hsQ;function msQ(A,Q){return A.setValue(l4A,Q)}C2Q.setBaggage=msQ;function fsQ(A){return A.deleteValue(l4A)}C2Q.deleteBaggage=fsQ});var U2Q=m((J2Q)=>{Object.defineProperty(J2Q,"__esModule",{value:!0});J2Q.PropagationAPI=void 0;var i4A=p3(),csQ=Q2Q(),Y2Q=w4A(),yo=I2Q(),lsQ=U4A(),G2Q=c3(),n4A="propagation",isQ=new csQ.NoopTextMapPropagator;class o4A{constructor(){this.createBaggage=lsQ.createBaggage,this.getBaggage=yo.getBaggage,this.getActiveBaggage=yo.getActiveBaggage,this.setBaggage=yo.setBaggage,this.deleteBaggage=yo.deleteBaggage}static getInstance(){if(!this._instance)this._instance=new o4A;return this._instance}setGlobalPropagator(A){return i4A.registerGlobal(n4A,A,G2Q.DiagAPI.instance())}inject(A,Q,B=Y2Q.defaultTextMapSetter){return this._getGlobalPropagator().inject(A,Q,B)}extract(A,Q,B=Y2Q.defaultTextMapGetter){return this._getGlobalPropagator().extract(A,Q,B)}fields(){return this._getGlobalPropagator().fields()}disable(){i4A.unregisterGlobal(n4A,G2Q.DiagAPI.instance())}_getGlobalPropagator(){return i4A.getGlobal(n4A)||isQ}}J2Q.PropagationAPI=o4A});var X2Q=m((N2Q)=>{Object.defineProperty(N2Q,"__esModule",{value:!0});N2Q.propagation=void 0;var nsQ=U2Q();N2Q.propagation=nsQ.PropagationAPI.getInstance()});var M2Q=m((K2Q)=>{Object.defineProperty(K2Q,"__esModule",{value:!0});K2Q.TraceAPI=void 0;var r4A=p3(),F2Q=y4A(),H2Q=vo(),kO=j4A(),W2Q=c3(),a4A="trace";class s4A{constructor(){this._proxyTracerProvider=new F2Q.ProxyTracerProvider,this.wrapSpanContext=H2Q.wrapSpanContext,this.isSpanContextValid=H2Q.isSpanContextValid,this.deleteSpan=kO.deleteSpan,this.getSpan=kO.getSpan,this.getActiveSpan=kO.getActiveSpan,this.getSpanContext=kO.getSpanContext,this.setSpan=kO.setSpan,this.setSpanContext=kO.setSpanContext}static getInstance(){if(!this._instance)this._instance=new s4A;return this._instance}setGlobalTracerProvider(A){let Q=r4A.registerGlobal(a4A,this._proxyTracerProvider,W2Q.DiagAPI.instance());if(Q)this._proxyTracerProvider.setDelegate(A);return Q}getTracerProvider(){return r4A.getGlobal(a4A)||this._proxyTracerProvider}getTracer(A,Q){return this.getTracerProvider().getTracer(A,Q)}disable(){r4A.unregisterGlobal(a4A,W2Q.DiagAPI.instance()),this._proxyTracerProvider=new F2Q.ProxyTracerProvider}}K2Q.TraceAPI=s4A});var w2Q=m(($2Q)=>{Object.defineProperty($2Q,"__esModule",{value:!0});$2Q.trace=void 0;var osQ=M2Q();$2Q.trace=osQ.TraceAPI.getInstance()});var j2Q=m((UE)=>{Object.defineProperty(UE,"__esModule",{value:!0});UE.trace=UE.propagation=UE.metrics=UE.diag=UE.context=UE.INVALID_SPAN_CONTEXT=UE.INVALID_TRACEID=UE.INVALID_SPANID=UE.isValidSpanId=UE.isValidTraceId=UE.isSpanContextValid=UE.createTraceState=UE.TraceFlags=UE.SpanStatusCode=UE.SpanKind=UE.SamplingDecision=UE.ProxyTracerProvider=UE.ProxyTracer=UE.defaultTextMapSetter=UE.defaultTextMapGetter=UE.ValueType=UE.createNoopMeter=UE.DiagLogLevel=UE.DiagConsoleLogger=UE.ROOT_CONTEXT=UE.createContextKey=UE.baggageEntryMetadataFromString=void 0;var rsQ=U4A();Object.defineProperty(UE,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return rsQ.baggageEntryMetadataFromString}});var L2Q=Kg();Object.defineProperty(UE,"createContextKey",{enumerable:!0,get:function(){return L2Q.createContextKey}});Object.defineProperty(UE,"ROOT_CONTEXT",{enumerable:!0,get:function(){return L2Q.ROOT_CONTEXT}});var asQ=MGQ();Object.defineProperty(UE,"DiagConsoleLogger",{enumerable:!0,get:function(){return asQ.DiagConsoleLogger}});var ssQ=_o();Object.defineProperty(UE,"DiagLogLevel",{enumerable:!0,get:function(){return ssQ.DiagLogLevel}});var tsQ=$4A();Object.defineProperty(UE,"createNoopMeter",{enumerable:!0,get:function(){return tsQ.createNoopMeter}});var esQ=xGQ();Object.defineProperty(UE,"ValueType",{enumerable:!0,get:function(){return esQ.ValueType}});var O2Q=w4A();Object.defineProperty(UE,"defaultTextMapGetter",{enumerable:!0,get:function(){return O2Q.defaultTextMapGetter}});Object.defineProperty(UE,"defaultTextMapSetter",{enumerable:!0,get:function(){return O2Q.defaultTextMapSetter}});var AtQ=v4A();Object.defineProperty(UE,"ProxyTracer",{enumerable:!0,get:function(){return AtQ.ProxyTracer}});var QtQ=y4A();Object.defineProperty(UE,"ProxyTracerProvider",{enumerable:!0,get:function(){return QtQ.ProxyTracerProvider}});var BtQ=VJQ();Object.defineProperty(UE,"SamplingDecision",{enumerable:!0,get:function(){return BtQ.SamplingDecision}});var CtQ=$JQ();Object.defineProperty(UE,"SpanKind",{enumerable:!0,get:function(){return CtQ.SpanKind}});var EtQ=wJQ();Object.defineProperty(UE,"SpanStatusCode",{enumerable:!0,get:function(){return EtQ.SpanStatusCode}});var ItQ=q4A();Object.defineProperty(UE,"TraceFlags",{enumerable:!0,get:function(){return ItQ.TraceFlags}});var YtQ=yJQ();Object.defineProperty(UE,"createTraceState",{enumerable:!0,get:function(){return YtQ.createTraceState}});var t4A=vo();Object.defineProperty(UE,"isSpanContextValid",{enumerable:!0,get:function(){return t4A.isSpanContextValid}});Object.defineProperty(UE,"isValidTraceId",{enumerable:!0,get:function(){return t4A.isValidTraceId}});Object.defineProperty(UE,"isValidSpanId",{enumerable:!0,get:function(){return t4A.isValidSpanId}});var e4A=So();Object.defineProperty(UE,"INVALID_SPANID",{enumerable:!0,get:function(){return e4A.INVALID_SPANID}});Object.defineProperty(UE,"INVALID_TRACEID",{enumerable:!0,get:function(){return e4A.INVALID_TRACEID}});Object.defineProperty(UE,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return e4A.INVALID_SPAN_CONTEXT}});var R2Q=hJQ();Object.defineProperty(UE,"context",{enumerable:!0,get:function(){return R2Q.context}});var T2Q=dJQ();Object.defineProperty(UE,"diag",{enumerable:!0,get:function(){return T2Q.diag}});var q2Q=sJQ();Object.defineProperty(UE,"metrics",{enumerable:!0,get:function(){return q2Q.metrics}});var P2Q=X2Q();Object.defineProperty(UE,"propagation",{enumerable:!0,get:function(){return P2Q.propagation}});var _2Q=w2Q();Object.defineProperty(UE,"trace",{enumerable:!0,get:function(){return _2Q.trace}});UE.default={context:R2Q.context,diag:T2Q.diag,metrics:q2Q.metrics,propagation:P2Q.propagation,trace:_2Q.trace}});var U8Q=m((k80,D8Q)=>{var J8Q=()=>process.platform==="linux",tr=null,oQB=()=>{if(!tr)if(J8Q()&&process.report){let A=process.report.excludeNetwork;process.report.excludeNetwork=!0,tr=process.report.getReport(),process.report.excludeNetwork=A}else tr={};return tr};D8Q.exports={isLinux:J8Q,getReport:oQB}});var X8Q=m((b80,Z8Q)=>{var N8Q=a("fs"),rQB=(A)=>N8Q.readFileSync(A,"utf-8"),aQB=(A)=>new Promise((Q,B)=>{N8Q.readFile(A,"utf-8",(C,E)=>{if(C)B(C);else Q(E)})});Z8Q.exports={LDD_PATH:"/usr/bin/ldd",readFileSync:rQB,readFile:aQB}});var j8Q=m((h80,_8Q)=>{var H8Q=a("child_process"),{isLinux:QR,getReport:W8Q}=U8Q(),{LDD_PATH:er,readFile:K8Q,readFileSync:V8Q}=X8Q(),R4,T4,bW="",M8Q=()=>{if(!bW)return new Promise((A)=>{H8Q.exec("getconf GNU_LIBC_VERSION 2>&1 || true; ldd --version 2>&1 || true",(Q,B)=>{bW=Q?" ":B,A(bW)})});return bW},$8Q=()=>{if(!bW)try{bW=H8Q.execSync("getconf GNU_LIBC_VERSION 2>&1 || true; ldd --version 2>&1 || true",{encoding:"utf8"})}catch(A){bW=" "}return bW},hW="glibc",z8Q=/LIBC[a-z0-9 \-).]*?(\d+\.\d+)/i,AR="musl",sQB=(A)=>A.includes("libc.musl-")||A.includes("ld-musl-"),w8Q=()=>{let A=W8Q();if(A.header&&A.header.glibcVersionRuntime)return hW;if(Array.isArray(A.sharedObjects)){if(A.sharedObjects.some(sQB))return AR}return null},L8Q=(A)=>{let[Q,B]=A.split(/[\r\n]+/);if(Q&&Q.includes(hW))return hW;if(B&&B.includes(AR))return AR;return null},O8Q=(A)=>{if(A.includes("musl"))return AR;if(A.includes("GNU C Library"))return hW;return null},tQB=async()=>{if(R4!==void 0)return R4;R4=null;try{let A=await K8Q(er);R4=O8Q(A)}catch(A){}return R4},eQB=()=>{if(R4!==void 0)return R4;R4=null;try{let A=V8Q(er);R4=O8Q(A)}catch(A){}return R4},R8Q=async()=>{let A=null;if(QR()){if(A=await tQB(),!A)A=w8Q();if(!A){let Q=await M8Q();A=L8Q(Q)}}return A},T8Q=()=>{let A=null;if(QR()){if(A=eQB(),!A)A=w8Q();if(!A){let Q=$8Q();A=L8Q(Q)}}return A},ABB=async()=>QR()&&await R8Q()!==hW,QBB=()=>QR()&&T8Q()!==hW,BBB=async()=>{if(T4!==void 0)return T4;T4=null;try{let Q=(await K8Q(er)).match(z8Q);if(Q)T4=Q[1]}catch(A){}return T4},CBB=()=>{if(T4!==void 0)return T4;T4=null;try{let Q=V8Q(er).match(z8Q);if(Q)T4=Q[1]}catch(A){}return T4},q8Q=()=>{let A=W8Q();if(A.header&&A.header.glibcVersionRuntime)return A.header.glibcVersionRuntime;return null},F8Q=(A)=>A.trim().split(/\s+/)[1],P8Q=(A)=>{let[Q,B,C]=A.split(/[\r\n]+/);if(Q&&Q.includes(hW))return F8Q(Q);if(B&&C&&B.includes(AR))return F8Q(C);return null},EBB=async()=>{let A=null;if(QR()){if(A=await BBB(),!A)A=q8Q();if(!A){let Q=await M8Q();A=P8Q(Q)}}return A},IBB=()=>{let A=null;if(QR()){if(A=CBB(),!A)A=q8Q();if(!A){let Q=$8Q();A=P8Q(Q)}}return A};_8Q.exports={GLIBC:hW,MUSL:AR,family:R8Q,familySync:T8Q,isNonGlibcLinux:ABB,isNonGlibcLinuxSync:QBB,version:EBB,versionSync:IBB}});var c8Q=m((m80,p8Q)=>{var YBB=a("fs"),O9=a("path"),GBB=a("url"),g8Q=a("os"),v8Q=typeof __webpack_require__==="function"?__non_webpack_require__:a,JBB=process.config&&process.config.variables||{},DBB=!!process.env.PREBUILDS_ONLY,A6A=process.versions,s5A=A6A.modules;if(A6A.deno||process.isBun)s5A="unsupported";var a5A=ZBB()?"electron":NBB()?"node-webkit":"node",Aa=process.env.npm_config_arch||g8Q.arch(),Qa=process.env.npm_config_platform||g8Q.platform(),y8Q=process.env.LIBC||(XBB(Qa)?"musl":"glibc"),t5A=process.env.ARM_VERSION||(Aa==="arm64"?"8":JBB.arm_version)||"",k8Q=(A6A.uv||"").split(".")[0];p8Q.exports=q4;function q4(A){return v8Q(q4.resolve(A))}q4.resolve=q4.path=function(A){A=O9.resolve(A||".");var Q="",B;try{Q=v8Q(O9.join(A,"package.json")).name;var C=Q.toUpperCase().replace(/-/g,"_");if(process.env[C+"_PREBUILD"])A=process.env[C+"_PREBUILD"]}catch(K){B=K}if(!DBB){var E=x8Q(O9.join(A,"build/Release"),S8Q);if(E)return E;var I=x8Q(O9.join(A,"build/Debug"),S8Q);if(I)return I}var Y=X(A);if(Y)return Y;var G=X(O9.dirname(process.execPath));if(G)return G;var J=(Q[0]=="@"?"":"@"+Q+"/")+Q+"-"+Qa+"-"+Aa,D;try{var U=O9.dirname(a("module").createRequire(GBB.pathToFileURL(O9.join(A,"package.json"))).resolve(J));return W(U)}catch(K){D=K}var N=["platform="+Qa,"arch="+Aa,"runtime="+a5A,"abi="+s5A,"uv="+k8Q,t5A?"armv="+t5A:"","libc="+y8Q,"node="+process.versions.node,process.versions.electron?"electron="+process.versions.electron:"",typeof __webpack_require__==="function"?"webpack=true":""].filter(Boolean).join(" ");let Z="No native build was found for "+N+`
    attempted loading from: `+A+" and package: "+J+`
`;if(B)Z+="Error finding package.json: "+B.message+`
`;if(D)Z+="Error resolving package: "+D.message+`
`;throw new Error(Z);function X(K){var V=e5A(O9.join(K,"prebuilds")).map(b8Q),M=V.filter(h8Q(Qa,Aa)).sort(m8Q)[0];if(!M)return;return W(O9.join(K,"prebuilds",M.name))}function W(K){var V=e5A(K).map(f8Q),M=V.filter(d8Q(a5A,s5A)),z=M.sort(u8Q(a5A))[0];if(z)return O9.join(K,z.file)}};function e5A(A){try{return YBB.readdirSync(A)}catch(Q){return[]}}function x8Q(A,Q){var B=e5A(A).filter(Q);return B[0]&&O9.join(A,B[0])}function S8Q(A){return/\.node$/.test(A)}function b8Q(A){var Q=A.split("-");if(Q.length!==2)return;var B=Q[0],C=Q[1].split("+");if(!B)return;if(!C.length)return;if(!C.every(Boolean))return;return{name:A,platform:B,architectures:C}}function h8Q(A,Q){return function(B){if(B==null)return!1;if(B.platform!==A)return!1;return B.architectures.includes(Q)}}function m8Q(A,Q){return A.architectures.length-Q.architectures.length}function f8Q(A){var Q=A.split("."),B=Q.pop(),C={file:A,specificity:0};if(B!=="node")return;for(var E=0;E<Q.length;E++){var I=Q[E];if(I==="node"||I==="electron"||I==="node-webkit")C.runtime=I;else if(I==="napi")C.napi=!0;else if(I.slice(0,3)==="abi")C.abi=I.slice(3);else if(I.slice(0,2)==="uv")C.uv=I.slice(2);else if(I.slice(0,4)==="armv")C.armv=I.slice(4);else if(I==="glibc"||I==="musl")C.libc=I;else continue;C.specificity++}return C}function d8Q(A,Q){return function(B){if(B==null)return!1;if(B.runtime!==A&&!UBB(B))return!1;if(B.abi!==Q&&!B.napi)return!1;if(B.uv&&B.uv!==k8Q)return!1;if(B.armv&&B.armv!==t5A)return!1;if(B.libc&&B.libc!==y8Q)return!1;return!0}}function UBB(A){return A.runtime==="node"&&A.napi}function u8Q(A){return function(Q,B){if(Q.runtime!==B.runtime)return Q.runtime===A?-1:1;else if(Q.abi!==B.abi)return Q.abi?-1:1;else if(Q.specificity!==B.specificity)return Q.specificity>B.specificity?-1:1;else return 0}}function NBB(){return!!(process.versions&&process.versions.nw)}function ZBB(){if(process.versions&&process.versions.electron)return!0;if(process.env.ELECTRON_RUN_AS_NODE)return!0;return typeof window!=="undefined"&&window.process&&window.process.type==="renderer"}function XBB(A){if(A!=="linux")return!1;let{familySync:Q,MUSL:B}=j8Q();return Q()===B}q4.parseTags=f8Q;q4.matchTags=d8Q;q4.compareTags=u8Q;q4.parseTuple=b8Q;q4.matchTuple=h8Q;q4.compareTuples=m8Q});var l8Q=m((d80,B6A)=>{var Q6A=typeof __webpack_require__==="function"?__non_webpack_require__:a;if(typeof Q6A.addon==="function")B6A.exports=Q6A.addon.bind(Q6A);else B6A.exports=c8Q()});var n8Q=m((p80,i8Q)=>{var __dirname="/Users/schickling/Code/overtone/node_modules/.pnpm/msgpackr-extract@3.0.3/node_modules/msgpackr-extract";i8Q.exports=l8Q()(__dirname)});var G4Q=m((hH0,$CB)=>{$CB.exports={name:"systeminformation",version:"5.25.11",description:"Advanced, lightweight system and OS information library",license:"MIT",author:"Sebastian Hildebrandt <hildebrandt@plus-innovations.com> (https://plus-innovations.com)",homepage:"https://systeminformation.io",main:"./lib/index.js",type:"commonjs",bin:{systeminformation:"lib/cli.js"},types:"./lib/index.d.ts",scripts:{test:"node ./test/test.js",testDeno:"deno run -A ./test/test.js"},files:["lib/"],keywords:["system information","sysinfo","monitor","monitoring","os","linux","osx","windows","freebsd","openbsd","netbsd","cpu","cpuload","physical cores","logical cores","processor","cores","threads","socket type","memory","file system","fsstats","diskio","block devices","netstats","network","network interfaces","network connections","network stats","iface","printer","processes","users","internet","battery","docker","docker stats","docker processes","graphics","graphic card","graphic controller","gpu","display","smart","disk layout","usb","audio","bluetooth","wifi","wifinetworks","virtual box","virtualbox","vm","backend","hardware","BIOS","chassis"],repository:{type:"git",url:"https://github.com/sebhildebrandt/systeminformation.git"},funding:{type:"Buy me a coffee",url:"https://www.buymeacoffee.com/systeminfo"},os:["darwin","linux","win32","freebsd","openbsd","netbsd","sunos","android"],engines:{node:">=8.0.0"}}});var aY=m((ZEB)=>{var rW=a("os"),_9=a("fs"),zCB=a("path"),sFA=a("child_process").spawn,wCB=a("child_process").exec,MR=a("child_process").execSync,LCB=a("util"),FM=process.platform,tFA=FM==="linux"||FM==="android",N4Q=FM==="darwin",ia=FM==="win32",Z4Q=FM==="freebsd",X4Q=FM==="openbsd",F4Q=FM==="netbsd",lFA=0,XM="",q9="",oW=null,P9=null,eFA=process.env.WINDIR||"C:\\Windows",RG,VR="",qv=[],AHA=!1,ca="",J4Q="$OutputEncoding = [System.Console]::OutputEncoding = [System.Console]::InputEncoding = [System.Text.Encoding]::UTF8 ; ",nFA="--###START###--",D4Q="--ERROR--",la="--###ENDCMD###--",oFA="--##ID##--",Pv={windowsHide:!0,maxBuffer:20480000,encoding:"UTF-8",env:Object.assign({},process.env,{LANG:"en_US.UTF-8"})},na={maxBuffer:20480000,encoding:"UTF-8",stdio:["pipe","pipe","ignore"]};function OCB(A){let Q=parseInt(A,10);if(isNaN(Q))Q=0;return Q}function RCB(A){let Q=!1,B="",C="";for(let E of A)if(E>="0"&&E<="9"||Q)Q=!0,B+=E;else C+=E;return[C,B]}var pa=new String,rFA=new String().replace,aFA=new String().toLowerCase,H4Q=new String().toString,W4Q=new String().substr,K4Q=new String().substring,V4Q=new String().trim,M4Q=new String().startsWith,$4Q=Math.min;function TCB(A){return A&&{}.toString.call(A)==="[object Function]"}function qCB(A){let Q=[],B={};for(let C=0;C<A.length;C++){let E=Object.keys(A[C]);E.sort(function(Y,G){return Y-G});let I="";for(let Y=0;Y<E.length;Y++)I+=JSON.stringify(E[Y]),I+=JSON.stringify(A[C][E[Y]]);if(!{}.hasOwnProperty.call(B,I))Q.push(A[C]),B[I]=!0}return Q}function PCB(A,Q){return A.sort(function(B,C){let E="",I="";return Q.forEach(function(Y){E=E+B[Y],I=I+C[Y]}),E<I?-1:E>I?1:0})}function _CB(){if(lFA===0)lFA=rW.cpus().length;return lFA}function aW(A,Q,B,C,E){B=B||":",Q=Q.toLowerCase(),C=C||!1,E=E||!1;let I="";return A.some((Y)=>{let G=Y.toLowerCase().replace(/\t/g,"");if(C)G=G.trim();if(G.startsWith(Q)&&(E?G.match(Q+B)||G.match(Q+" "+B):!0)){let J=C?Y.trim().split(B):Y.split(B);if(J.length>=2)return J.shift(),I=J.join(B).trim(),!0}}),I}function jCB(A,Q){return Q=Q||16,A.replace(/\\x([0-9A-Fa-f]{2})/g,function(){return String.fromCharCode(parseInt(arguments[1],Q))})}function xCB(A){let Q="",B=0;return A.split("").forEach((C)=>{if(C>="0"&&C<="9"){if(B===1)B++}else{if(B===0)B++;if(B===1)Q+=C}}),Q}function SCB(A,Q){Q=Q||"",A=A.toUpperCase();let B=0,C=0,E=xCB(A),I=A.split(E);if(I.length>=2){if(I[2])I[1]+=I[2];let Y=I[1]&&I[1].toLowerCase().indexOf("pm")>-1||I[1].toLowerCase().indexOf("p.m.")>-1||I[1].toLowerCase().indexOf("p. m.")>-1||I[1].toLowerCase().indexOf("n")>-1||I[1].toLowerCase().indexOf("ch")>-1||I[1].toLowerCase().indexOf("ös")>-1||Q&&I[1].toLowerCase().indexOf(Q)>-1;return B=parseInt(I[0],10),C=parseInt(I[1],10),B=Y&&B<12?B+12:B,("0"+B).substr(-2)+":"+("0"+C).substr(-2)}}function gCB(A,Q){let B={date:"",time:""};Q=Q||{};let C=(Q.dateFormat||"").toLowerCase(),E=Q.pmDesignator||"",I=A.split(" ");if(I[0]){if(I[0].indexOf("/")>=0){let Y=I[0].split("/");if(Y.length===3)if(Y[0].length===4)B.date=Y[0]+"-"+("0"+Y[1]).substr(-2)+"-"+("0"+Y[2]).substr(-2);else if(Y[2].length===2)if(C.indexOf("/d/")>-1||C.indexOf("/dd/")>-1)B.date="20"+Y[2]+"-"+("0"+Y[1]).substr(-2)+"-"+("0"+Y[0]).substr(-2);else B.date="20"+Y[2]+"-"+("0"+Y[1]).substr(-2)+"-"+("0"+Y[0]).substr(-2);else if((A.toLowerCase().indexOf("pm")>-1||A.toLowerCase().indexOf("p.m.")>-1||A.toLowerCase().indexOf("p. m.")>-1||A.toLowerCase().indexOf("am")>-1||A.toLowerCase().indexOf("a.m.")>-1||A.toLowerCase().indexOf("a. m.")>-1||C.indexOf("/d/")>-1||C.indexOf("/dd/")>-1)&&C.indexOf("dd/")!==0)B.date=Y[2]+"-"+("0"+Y[0]).substr(-2)+"-"+("0"+Y[1]).substr(-2);else B.date=Y[2]+"-"+("0"+Y[1]).substr(-2)+"-"+("0"+Y[0]).substr(-2)}if(I[0].indexOf(".")>=0){let Y=I[0].split(".");if(Y.length===3)if(C.indexOf(".d.")>-1||C.indexOf(".dd.")>-1)B.date=Y[2]+"-"+("0"+Y[0]).substr(-2)+"-"+("0"+Y[1]).substr(-2);else B.date=Y[2]+"-"+("0"+Y[1]).substr(-2)+"-"+("0"+Y[0]).substr(-2)}if(I[0].indexOf("-")>=0){let Y=I[0].split("-");if(Y.length===3)B.date=Y[0]+"-"+("0"+Y[1]).substr(-2)+"-"+("0"+Y[2]).substr(-2)}}if(I[1]){I.shift();let Y=I.join(" ");B.time=SCB(Y,E)}return B}function vCB(A,Q){let B=Q>0,C=1,E=0,I=0,Y=[];for(let J=0;J<A.length;J++)if(C<=Q){if(/\s/.test(A[J])&&!B)I=J-1,Y.push({from:E,to:I+1,cap:A.substring(E,I+1)}),E=I+2,C++;B=A[J]===" "}else{if(!/\s/.test(A[J])&&B){if(I=J-1,E<I)Y.push({from:E,to:I,cap:A.substring(E,I)});E=I+1,C++}B=A[J]===" "}I=5000,Y.push({from:E,to:I,cap:A.substring(E,I)});let G=Y.length;for(let J=0;J<G;J++)if(Y[J].cap.replace(/\s/g,"").length===0){if(J+1<G)Y[J].to=Y[J+1].to,Y[J].cap=Y[J].cap+Y[J+1].cap,Y.splice(J+1,1),G=G-1}return Y}function yCB(A,Q,B){for(let C=0;C<A.length;C++)if(A[C][Q]===B)return C;return-1}function kCB(){if(ca="powershell.exe",ia){let A=`${eFA}\\system32\\WindowsPowerShell\\v1.0\\powershell.exe`;if(_9.existsSync(A))ca=A}}function z4Q(){if(rW.type()==="Windows_NT"&&!XM){if(XM=eFA+"\\system32\\wbem\\wmic.exe",!_9.existsSync(XM))try{let A=MR("WHERE WMIC",Pv).toString().split(`\r
`);if(A&&A.length)XM=A[0];else XM="wmic"}catch(A){XM="wmic"}}return XM}function bCB(A){return new Promise((Q)=>{process.nextTick(()=>{try{w4Q(z4Q()+" "+A).then((B)=>{Q(B,"")})}catch(B){Q("",B)}})})}function hCB(){return ia?`"${process.env.VBOX_INSTALL_PATH||process.env.VBOX_MSI_INSTALL_PATH}\\VBoxManage.exe"`:"vboxmanage"}function iFA(A){let Q="",B,C="";if(A.indexOf(nFA)>=0){B=A.split(nFA);let I=B[1].split(oFA);if(Q=I[0],I.length>1)A=I.slice(1).join(oFA)}if(A.indexOf(la)>=0)B=A.split(la),C=B[0];let E=-1;for(let I=0;I<qv.length;I++)if(qv[I].id===Q)E=I,qv[I].callback(C);if(E>=0)qv.splice(E,1)}function mCB(){if(!RG){if(RG=sFA(ca,["-NoProfile","-NoLogo","-InputFormat","Text","-NoExit","-Command","-"],{stdio:"pipe",windowsHide:!0,maxBuffer:20480000,encoding:"UTF-8",env:Object.assign({},process.env,{LANG:"en_US.UTF-8"})}),RG&&RG.pid)AHA=!0,RG.stdout.on("data",function(A){if(VR=VR+A.toString("utf8"),A.indexOf(la)>=0)iFA(VR),VR=""}),RG.stderr.on("data",function(){iFA(VR+D4Q)}),RG.on("error",function(){iFA(VR+D4Q)}),RG.on("close",function(){if(RG)RG.kill()})}}function fCB(){try{if(RG)RG.stdin.write("exit"+rW.EOL),RG.stdin.end(),AHA=!1}catch(A){if(RG)RG.kill()}RG=null}function w4Q(A){if(AHA){let Q=Math.random().toString(36).substring(2,12);return new Promise((B)=>{process.nextTick(()=>{function C(E){B(E)}qv.push({id:Q,cmd:A,callback:C,start:new Date});try{if(RG&&RG.pid)RG.stdin.write(J4Q+"echo "+nFA+Q+oFA+"; "+rW.EOL+A+rW.EOL+"echo "+la+rW.EOL)}catch(E){B("")}})})}else{let Q="";return new Promise((B)=>{process.nextTick(()=>{try{let C=sFA(ca,["-NoProfile","-NoLogo","-InputFormat","Text","-NoExit","-ExecutionPolicy","Unrestricted","-Command","-"],{stdio:"pipe",windowsHide:!0,maxBuffer:20480000,encoding:"UTF-8",env:Object.assign({},process.env,{LANG:"en_US.UTF-8"})});if(C&&!C.pid)C.on("error",function(){B(Q)});if(C&&C.pid){C.stdout.on("data",function(E){Q=Q+E.toString("utf8")}),C.stderr.on("data",function(){C.kill(),B(Q)}),C.on("close",function(){C.kill(),B(Q)}),C.on("error",function(){C.kill(),B(Q)});try{C.stdin.write(J4Q+A+rW.EOL),C.stdin.write("exit"+rW.EOL),C.stdin.end()}catch(E){C.kill(),B(Q)}}else B(Q)}catch(C){B(Q)}})})}}function dCB(A,Q,B){let C="";return B=B||{},new Promise((E)=>{process.nextTick(()=>{try{let I=sFA(A,Q,B);if(I&&!I.pid)I.on("error",function(){E(C)});if(I&&I.pid)I.stdout.on("data",function(Y){C+=Y.toString()}),I.on("close",function(){I.kill(),E(C)}),I.on("error",function(){I.kill(),E(C)});else E(C)}catch(I){E(C)}})})}function uCB(){if(ia){if(!q9)try{let B=MR("chcp",Pv).toString().split(`\r
`)[0].split(":");q9=B.length>1?B[1].replace(".","").trim():""}catch(A){q9="437"}return q9}if(tFA||N4Q||Z4Q||X4Q||F4Q){if(!q9)try{let B=MR("echo $LANG",na).toString().split(`\r
`)[0].split(".");if(q9=B.length>1?B[1].trim():"",!q9)q9="UTF-8"}catch(A){q9="UTF-8"}return q9}}function pCB(){if(oW!==null)return oW;if(oW=!1,ia)try{let A=MR("WHERE smartctl 2>nul",Pv).toString().split(`\r
`);if(A&&A.length)oW=A[0].indexOf(":\\")>=0;else oW=!1}catch(A){oW=!1}if(tFA||N4Q||Z4Q||X4Q||F4Q)try{oW=MR("which smartctl 2>/dev/null",na).toString().split(`\r
`).length>0}catch(A){LCB.noop()}return oW}function cCB(A){let Q=["BCM2708","BCM2709","BCM2710","BCM2711","BCM2712","BCM2835","BCM2836","BCM2837","BCM2837B0"];if(P9!==null)A=P9;else if(A===void 0)try{A=_9.readFileSync("/proc/cpuinfo",{encoding:"utf8"}).toString().split(`
`),P9=A}catch(E){return!1}let B=aW(A,"hardware"),C=aW(A,"model");return B&&Q.indexOf(B)>-1||C&&C.indexOf("Raspberry Pi")>-1}function lCB(){let A=[];try{A=_9.readFileSync("/etc/os-release",{encoding:"utf8"}).toString().split(`
`)}catch(B){return!1}let Q=aW(A,"id","=");return Q&&Q.indexOf("raspbian")>-1}function iCB(A,Q,B){if(!B)B=Q,Q=Pv;let C="chcp 65001 > nul && cmd /C "+A+" && chcp "+q9+" > nul";wCB(C,Q,function(E,I){B(E,I)})}function nCB(){let A=_9.existsSync("/Library/Developer/CommandLineTools/usr/bin/"),Q=_9.existsSync("/Applications/Xcode.app/Contents/Developer/Tools"),B=_9.existsSync("/Library/Developer/Xcode/");return A||B||Q}function oCB(){let A=process.hrtime();if(!Array.isArray(A)||A.length!==2)return 0;return+A[0]*1e9+ +A[1]}function rCB(A,Q){Q=Q||"";let B=[];return A.forEach((C)=>{if(C.startsWith(Q)){if(B.indexOf(C)===-1)B.push(C)}}),B.length}function aCB(A,Q){Q=Q||"";let B=[];return A.forEach((C)=>{if(C.startsWith(Q))B.push(C)}),B.length}function sCB(A,Q){if(typeof Q==="undefined")Q=!1;let B=A||"",C="",E=$4Q(B.length,2000);for(let I=0;I<=E;I++)if(!(B[I]===void 0||B[I]===">"||B[I]==="<"||B[I]==="*"||B[I]==="?"||B[I]==="["||B[I]==="]"||B[I]==="|"||B[I]==="˚"||B[I]==="$"||B[I]===";"||B[I]==="&"||B[I]==="]"||B[I]==="#"||B[I]==="\\"||B[I]==="\t"||B[I]===`
`||B[I]==="\r"||B[I]==="'"||B[I]==="`"||B[I]==='"'||B[I].length>1||Q&&B[I]==="("||Q&&B[I]===")"||Q&&B[I]==="@"||Q&&B[I]===" "||Q&&B[I]=="{"||Q&&B[I]==";"||Q&&B[I]=="}"))C=C+B[I];return C}function tCB(){let Q=!0,B="";try{B.__proto__.replace=rFA,B.__proto__.toLowerCase=aFA,B.__proto__.toString=H4Q,B.__proto__.substr=W4Q,B.__proto__.substring=K4Q,B.__proto__.trim=V4Q,B.__proto__.startsWith=M4Q}catch(E){Object.setPrototypeOf(B,pa)}Q=Q||!1;let C=Date.now();if(typeof C==="number"&&C>1600000000000){let E=C%100+15;for(let D=0;D<E;D++){let U=Math.random()*61.99999999+1,N=parseInt(Math.floor(U).toString(),10),Z=parseInt(U.toString().split(".")[0],10),X=Math.random()*61.99999999+1,W=parseInt(Math.floor(X).toString(),10),K=parseInt(X.toString().split(".")[0],10);Q=Q&&U!==X,Q=Q&&N===Z&&W===K,B+="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[N-1]}Q=Q&&B.length===E;let I=Math.random()*E*0.9999999999,Y=B.substr(0,I)+" "+B.substr(I,2000);try{Y.__proto__.replace=rFA}catch(D){Object.setPrototypeOf(Y,pa)}let G=Y.replace(/ /g,"");Q=Q&&B===G,I=Math.random()*E*0.9999999999,Y=B.substr(0,I)+"{"+B.substr(I,2000),G=Y.replace(/{/g,""),Q=Q&&B===G,I=Math.random()*E*0.9999999999,Y=B.substr(0,I)+"*"+B.substr(I,2000),G=Y.replace(/\*/g,""),Q=Q&&B===G,I=Math.random()*E*0.9999999999,Y=B.substr(0,I)+"$"+B.substr(I,2000),G=Y.replace(/\$/g,""),Q=Q&&B===G;let J=B.toLowerCase();Q=Q&&J.length===E&&J[E-1]&&!J[E];for(let D=0;D<E;D++){let U=B[D];try{U.__proto__.toLowerCase=aFA}catch(X){Object.setPrototypeOf(B,pa)}let N=J?J[D]:"",Z=U.toLowerCase();Q=Q&&Z[0]===N&&Z[0]&&!Z[1]}}return!Q}function eCB(A){return("00000000"+parseInt(A,16).toString(2)).substr(-8)}function AEB(A){let{lstatSync:Q,readdirSync:B}=_9,C=zCB.join;function E(D){return Q(D).isDirectory()}function I(D){return Q(D).isFile()}function Y(D){return B(D).map(function(U){return C(D,U)}).filter(E)}function G(D){return B(D).map(function(U){return C(D,U)}).filter(I)}function J(D){try{return Y(D).map(function(Z){return J(Z)}).reduce(function(Z,X){return Z.concat(X)},[]).concat(G(D))}catch(U){return[]}}if(_9.existsSync(A))return J(A);else return[]}function L4Q(A){if(P9===null)P9=A;else if(A===void 0)A=P9;let Q={"0002":{type:"B",revision:"1.0",memory:256,manufacturer:"Egoman",processor:"BCM2835"},"0003":{type:"B",revision:"1.0",memory:256,manufacturer:"Egoman",processor:"BCM2835"},"0004":{type:"B",revision:"2.0",memory:256,manufacturer:"Sony UK",processor:"BCM2835"},"0005":{type:"B",revision:"2.0",memory:256,manufacturer:"Qisda",processor:"BCM2835"},"0006":{type:"B",revision:"2.0",memory:256,manufacturer:"Egoman",processor:"BCM2835"},"0007":{type:"A",revision:"2.0",memory:256,manufacturer:"Egoman",processor:"BCM2835"},"0008":{type:"A",revision:"2.0",memory:256,manufacturer:"Sony UK",processor:"BCM2835"},"0009":{type:"A",revision:"2.0",memory:256,manufacturer:"Qisda",processor:"BCM2835"},"000d":{type:"B",revision:"2.0",memory:512,manufacturer:"Egoman",processor:"BCM2835"},"000e":{type:"B",revision:"2.0",memory:512,manufacturer:"Sony UK",processor:"BCM2835"},"000f":{type:"B",revision:"2.0",memory:512,manufacturer:"Egoman",processor:"BCM2835"},"0010":{type:"B+",revision:"1.2",memory:512,manufacturer:"Sony UK",processor:"BCM2835"},"0011":{type:"CM1",revision:"1.0",memory:512,manufacturer:"Sony UK",processor:"BCM2835"},"0012":{type:"A+",revision:"1.1",memory:256,manufacturer:"Sony UK",processor:"BCM2835"},"0013":{type:"B+",revision:"1.2",memory:512,manufacturer:"Embest",processor:"BCM2835"},"0014":{type:"CM1",revision:"1.0",memory:512,manufacturer:"Embest",processor:"BCM2835"},"0015":{type:"A+",revision:"1.1",memory:256,manufacturer:"512MB	Embest",processor:"BCM2835"}},B=["BCM2835","BCM2836","BCM2837","BCM2711","BCM2712"],C=["Sony UK","Egoman","Embest","Sony Japan","Embest","Stadium"],E={"00":"A","01":"B","02":"A+","03":"B+","04":"2B","05":"Alpha (early prototype)","06":"CM1","08":"3B","09":"Zero","0a":"CM3","0c":"Zero W","0d":"3B+","0e":"3A+","0f":"Internal use only","10":"CM3+","11":"4B","12":"Zero 2 W","13":"400","14":"CM4","15":"CM4S","16":"Internal use only","17":"5","18":"CM5","19":"500","1a":"CM5 Lite"},I=aW(A,"revision",":",!0),Y=aW(A,"model:",":",!0),G=aW(A,"serial",":",!0),J={};if({}.hasOwnProperty.call(Q,I))J={model:Y,serial:G,revisionCode:I,memory:Q[I].memory,manufacturer:Q[I].manufacturer,processor:Q[I].processor,type:Q[I].type,revision:Q[I].revision};else{let D=("00000000"+aW(A,"revision",":",!0).toLowerCase()).substr(-8),U=parseInt(eCB(D.substr(2,1)).substr(5,3),2)||0,N=C[parseInt(D.substr(3,1),10)],Z=B[parseInt(D.substr(4,1),10)],X=D.substr(5,2);J={model:Y,serial:G,revisionCode:I,memory:256*Math.pow(2,U),manufacturer:N,processor:Z,type:{}.hasOwnProperty.call(E,X)?E[X]:"",revision:"1."+D.substr(7,1)}}return J}function QEB(A){if(P9===null&&A!==void 0)P9=A;else if(A===void 0&&P9!==null)A=P9;else try{A=_9.readFileSync("/proc/cpuinfo",{encoding:"utf8"}).toString().split(`
`),P9=A}catch(B){return!1}let Q=L4Q(A);if(Q.type==="4B"||Q.type==="CM4"||Q.type==="CM4S"||Q.type==="400")return"VideoCore VI";if(Q.type==="5"||Q.type==="500")return"VideoCore VII";return"VideoCore IV"}function BEB(A){let Q=A.map(function(E){return new Promise(function(I){let Y=new Array(2);E.then(function(G){Y[0]=G}).catch(function(G){Y[1]=G}).then(function(){I(Y)})})}),B=[],C=[];return Promise.all(Q).then(function(E){return E.forEach(function(I){if(I[1])B.push(I[1]),C.push(null);else B.push(null),C.push(I[0])}),{errors:B,results:C}})}function CEB(A){return function(){let Q=Array.prototype.slice.call(arguments);return new Promise(function(B,C){Q.push(function(E,I){if(E)C(E);else B(I)}),A.apply(null,Q)})}}function EEB(A){return function(){let Q=Array.prototype.slice.call(arguments);return new Promise(function(B){Q.push(function(C,E){B(E)}),A.apply(null,Q)})}}function IEB(){let A="";if(tFA)try{A=MR("uname -v",na).toString()}catch(Q){A=""}return A}function YEB(A){let Q=["array","dict","key","string","integer","date","real","data","boolean","arrayEmpty"],B="<plist version",C=A.indexOf("<plist version"),E=A.length;while(A[C]!==">"&&C<E)C++;let I=0,Y=!1,G=!1,J=!1,D=[{tagStart:"",tagEnd:"",tagContent:"",key:"",data:null}],U="",N=A[C];while(C<E){if(U=N,C+1<E)N=A[C+1];if(U==="<"){if(G=!1,N==="/")J=!0;else if(D[I].tagStart){if(D[I].tagContent="",!D[I].data)D[I].data=D[I].tagStart==="array"?[]:{};I++,D.push({tagStart:"",tagEnd:"",tagContent:"",key:null,data:null}),Y=!0,G=!1}else if(!Y)Y=!0}else if(U===">"){if(D[I].tagStart==="true/")Y=!1,J=!0,D[I].tagStart="",D[I].tagEnd="/boolean",D[I].data=!0;if(D[I].tagStart==="false/")Y=!1,J=!0,D[I].tagStart="",D[I].tagEnd="/boolean",D[I].data=!1;if(D[I].tagStart==="array/")Y=!1,J=!0,D[I].tagStart="",D[I].tagEnd="/arrayEmpty",D[I].data=[];if(G)G=!1;if(Y){if(Y=!1,G=!0,D[I].tagStart==="array")D[I].data=[];if(D[I].tagStart==="dict")D[I].data={}}if(J){if(J=!1,D[I].tagEnd&&Q.indexOf(D[I].tagEnd.substr(1))>=0)if(D[I].tagEnd==="/dict"||D[I].tagEnd==="/array"){if(I>1&&D[I-2].tagStart==="array")D[I-2].data.push(D[I-1].data);if(I>1&&D[I-2].tagStart==="dict")D[I-2].data[D[I-1].key]=D[I-1].data;I--,D.pop(),D[I].tagContent="",D[I].tagStart="",D[I].tagEnd=""}else{if(D[I].tagEnd==="/key"&&D[I].tagContent)D[I].key=D[I].tagContent;else{if(D[I].tagEnd==="/real"&&D[I].tagContent)D[I].data=parseFloat(D[I].tagContent)||0;if(D[I].tagEnd==="/integer"&&D[I].tagContent)D[I].data=parseInt(D[I].tagContent)||0;if(D[I].tagEnd==="/string"&&D[I].tagContent)D[I].data=D[I].tagContent||"";if(D[I].tagEnd==="/boolean")D[I].data=D[I].tagContent||!1;if(D[I].tagEnd==="/arrayEmpty")D[I].data=D[I].tagContent||[];if(I>0&&D[I-1].tagStart==="array")D[I-1].data.push(D[I].data);if(I>0&&D[I-1].tagStart==="dict")D[I-1].data[D[I].key]=D[I].data}D[I].tagContent="",D[I].tagStart="",D[I].tagEnd=""}D[I].tagEnd="",Y=!1,G=!1}}else{if(Y)D[I].tagStart+=U;if(J)D[I].tagEnd+=U;if(G)D[I].tagContent+=U}C++}return D[0].data}function U4Q(A){return typeof A==="string"&&!isNaN(A)&&!isNaN(parseFloat(A))}function GEB(A){let Q=A.split(`
`);for(let C=0;C<Q.length;C++){if(Q[C].indexOf(" = ")>=0){let E=Q[C].split(" = ");if(E[0]=E[0].trim(),!E[0].startsWith('"'))E[0]='"'+E[0]+'"';if(E[1]=E[1].trim(),E[1].indexOf('"')===-1&&E[1].endsWith(";")){let I=E[1].substring(0,E[1].length-1);if(!U4Q(I))E[1]=`"${I}";`}if(E[1].indexOf('"')>=0&&E[1].endsWith(";")){let I=E[1].substring(0,E[1].length-1).replace(/"/g,"");if(U4Q(I))E[1]=`${I};`}Q[C]=E.join(" : ")}if(Q[C]=Q[C].replace(/\(/g,"[").replace(/\)/g,"]").replace(/;/g,",").trim(),Q[C].startsWith("}")&&Q[C-1]&&Q[C-1].endsWith(","))Q[C-1]=Q[C-1].substring(0,Q[C-1].length-1)}A=Q.join("");let B={};try{B=JSON.parse(A)}catch(C){O4Q()}return B}function JEB(A,Q){let B=0,C=A.split("."),E=Q.split(".");if(C[0]<E[0])B=1;else if(C[0]>E[0])B=-1;else if(C[0]===E[0]&&C.length>=2&&E.length>=2){if(C[1]<E[1])B=1;else if(C[1]>E[1])B=-1;else if(C[1]===E[1]){if(C.length>=3&&E.length>=3){if(C[2]<E[2])B=1;else if(C[2]>E[2])B=-1}else if(E.length>=3)B=1}}return B}function DEB(A){let B=[{key:"Mac15,12",name:"MacBook Air",size:"13-inch",processor:"M3",year:"2024",additional:""},{key:"Mac14,15",name:"MacBook Air",size:"15-inch",processor:"M2",year:"2024",additional:""},{key:"Mac14,2",name:"MacBook Air",size:"13-inch",processor:"M2",year:"2022",additional:""},{key:"MacBookAir10,1",name:"MacBook Air",size:"13-inch",processor:"M1",year:"2020",additional:""},{key:"MacBookAir9,1",name:"MacBook Air",size:"13-inch",processor:"",year:"2020",additional:""},{key:"MacBookAir8,2",name:"MacBook Air",size:"13-inch",processor:"",year:"2019",additional:""},{key:"MacBookAir8,1",name:"MacBook Air",size:"13-inch",processor:"",year:"2018",additional:""},{key:"MacBookAir7,2",name:"MacBook Air",size:"13-inch",processor:"",year:"2017",additional:""},{key:"MacBookAir7,2",name:"MacBook Air",size:"13-inch",processor:"",year:"Early 2015",additional:""},{key:"MacBookAir7,1",name:"MacBook Air",size:"11-inch",processor:"",year:"Early 2015",additional:""},{key:"MacBookAir6,2",name:"MacBook Air",size:"13-inch",processor:"",year:"Early 2014",additional:""},{key:"MacBookAir6,1",name:"MacBook Air",size:"11-inch",processor:"",year:"Early 2014",additional:""},{key:"MacBookAir6,2",name:"MacBook Air",size:"13-inch",processor:"",year:"Mid 2013",additional:""},{key:"MacBookAir6,1",name:"MacBook Air",size:"11-inch",processor:"",year:"Mid 2013",additional:""},{key:"MacBookAir5,2",name:"MacBook Air",size:"13-inch",processor:"",year:"Mid 2012",additional:""},{key:"MacBookAir5,1",name:"MacBook Air",size:"11-inch",processor:"",year:"Mid 2012",additional:""},{key:"MacBookAir4,2",name:"MacBook Air",size:"13-inch",processor:"",year:"Mid 2011",additional:""},{key:"MacBookAir4,1",name:"MacBook Air",size:"11-inch",processor:"",year:"Mid 2011",additional:""},{key:"MacBookAir3,2",name:"MacBook Air",size:"13-inch",processor:"",year:"Late 2010",additional:""},{key:"MacBookAir3,1",name:"MacBook Air",size:"11-inch",processor:"",year:"Late 2010",additional:""},{key:"MacBookAir2,1",name:"MacBook Air",size:"13-inch",processor:"",year:"Mid 2009",additional:""},{key:"Mac16,1",name:"MacBook Pro",size:"14-inch",processor:"M4",year:"2024",additional:""},{key:"Mac16,6",name:"MacBook Pro",size:"14-inch",processor:"M4 Pro",year:"2024",additional:""},{key:"Mac16,8",name:"MacBook Pro",size:"14-inch",processor:"M4 Max",year:"2024",additional:""},{key:"Mac16,5",name:"MacBook Pro",size:"16-inch",processor:"M4 Pro",year:"2024",additional:""},{key:"Mac16,6",name:"MacBook Pro",size:"16-inch",processor:"M4 Max",year:"2024",additional:""},{key:"Mac15,3",name:"MacBook Pro",size:"14-inch",processor:"M3",year:"Nov 2023",additional:""},{key:"Mac15,6",name:"MacBook Pro",size:"14-inch",processor:"M3 Pro",year:"Nov 2023",additional:""},{key:"Mac15,8",name:"MacBook Pro",size:"14-inch",processor:"M3 Pro",year:"Nov 2023",additional:""},{key:"Mac15,10",name:"MacBook Pro",size:"14-inch",processor:"M3 Max",year:"Nov 2023",additional:""},{key:"Mac15,7",name:"MacBook Pro",size:"16-inch",processor:"M3 Pro",year:"Nov 2023",additional:""},{key:"Mac15,9",name:"MacBook Pro",size:"16-inch",processor:"M3 Pro",year:"Nov 2023",additional:""},{key:"Mac15,11",name:"MacBook Pro",size:"16-inch",processor:"M3 Max",year:"Nov 2023",additional:""},{key:"Mac14,5",name:"MacBook Pro",size:"14-inch",processor:"M2 Max",year:"2023",additional:""},{key:"Mac14,9",name:"MacBook Pro",size:"14-inch",processor:"M2 Max",year:"2023",additional:""},{key:"Mac14,6",name:"MacBook Pro",size:"16-inch",processor:"M2 Max",year:"2023",additional:""},{key:"Mac14,10",name:"MacBook Pro",size:"16-inch",processor:"M2 Max",year:"2023",additional:""},{key:"Mac14,7",name:"MacBook Pro",size:"13-inch",processor:"M2",year:"2022",additional:""},{key:"MacBookPro18,3",name:"MacBook Pro",size:"14-inch",processor:"M1 Pro",year:"2021",additional:""},{key:"MacBookPro18,4",name:"MacBook Pro",size:"14-inch",processor:"M1 Max",year:"2021",additional:""},{key:"MacBookPro18,1",name:"MacBook Pro",size:"16-inch",processor:"M1 Pro",year:"2021",additional:""},{key:"MacBookPro18,2",name:"MacBook Pro",size:"16-inch",processor:"M1 Max",year:"2021",additional:""},{key:"MacBookPro17,1",name:"MacBook Pro",size:"13-inch",processor:"M1",year:"2020",additional:""},{key:"MacBookPro16,3",name:"MacBook Pro",size:"13-inch",processor:"",year:"2020",additional:"Two Thunderbolt 3 ports"},{key:"MacBookPro16,2",name:"MacBook Pro",size:"13-inch",processor:"",year:"2020",additional:"Four Thunderbolt 3 ports"},{key:"MacBookPro16,1",name:"MacBook Pro",size:"16-inch",processor:"",year:"2019",additional:""},{key:"MacBookPro16,4",name:"MacBook Pro",size:"16-inch",processor:"",year:"2019",additional:""},{key:"MacBookPro15,3",name:"MacBook Pro",size:"15-inch",processor:"",year:"2019",additional:""},{key:"MacBookPro15,2",name:"MacBook Pro",size:"13-inch",processor:"",year:"2019",additional:""},{key:"MacBookPro15,1",name:"MacBook Pro",size:"15-inch",processor:"",year:"2019",additional:""},{key:"MacBookPro15,4",name:"MacBook Pro",size:"13-inch",processor:"",year:"2019",additional:"Two Thunderbolt 3 ports"},{key:"MacBookPro15,1",name:"MacBook Pro",size:"15-inch",processor:"",year:"2018",additional:""},{key:"MacBookPro15,2",name:"MacBook Pro",size:"13-inch",processor:"",year:"2018",additional:"Four Thunderbolt 3 ports"},{key:"MacBookPro14,1",name:"MacBook Pro",size:"13-inch",processor:"",year:"2017",additional:"Two Thunderbolt 3 ports"},{key:"MacBookPro14,2",name:"MacBook Pro",size:"13-inch",processor:"",year:"2017",additional:"Four Thunderbolt 3 ports"},{key:"MacBookPro14,3",name:"MacBook Pro",size:"15-inch",processor:"",year:"2017",additional:""},{key:"MacBookPro13,1",name:"MacBook Pro",size:"13-inch",processor:"",year:"2016",additional:"Two Thunderbolt 3 ports"},{key:"MacBookPro13,2",name:"MacBook Pro",size:"13-inch",processor:"",year:"2016",additional:"Four Thunderbolt 3 ports"},{key:"MacBookPro13,3",name:"MacBook Pro",size:"15-inch",processor:"",year:"2016",additional:""},{key:"MacBookPro11,4",name:"MacBook Pro",size:"15-inch",processor:"",year:"Mid 2015",additional:""},{key:"MacBookPro11,5",name:"MacBook Pro",size:"15-inch",processor:"",year:"Mid 2015",additional:""},{key:"MacBookPro12,1",name:"MacBook Pro",size:"13-inch",processor:"",year:"Early 2015",additional:""},{key:"MacBookPro11,2",name:"MacBook Pro",size:"15-inch",processor:"",year:"Late 2013",additional:""},{key:"MacBookPro11,3",name:"MacBook Pro",size:"15-inch",processor:"",year:"Late 2013",additional:""},{key:"MacBookPro11,1",name:"MacBook Pro",size:"13-inch",processor:"",year:"Late 2013",additional:""},{key:"MacBookPro10,1",name:"MacBook Pro",size:"15-inch",processor:"",year:"Mid 2012",additional:""},{key:"MacBookPro10,2",name:"MacBook Pro",size:"13-inch",processor:"",year:"Late 2012",additional:""},{key:"MacBookPro9,1",name:"MacBook Pro",size:"15-inch",processor:"",year:"Mid 2012",additional:""},{key:"MacBookPro9,2",name:"MacBook Pro",size:"13-inch",processor:"",year:"Mid 2012",additional:""},{key:"MacBookPro8,3",name:"MacBook Pro",size:"17-inch",processor:"",year:"Early 2011",additional:""},{key:"MacBookPro8,2",name:"MacBook Pro",size:"15-inch",processor:"",year:"Early 2011",additional:""},{key:"MacBookPro8,1",name:"MacBook Pro",size:"13-inch",processor:"",year:"Early 2011",additional:""},{key:"MacBookPro6,1",name:"MacBook Pro",size:"17-inch",processor:"",year:"Mid 2010",additional:""},{key:"MacBookPro6,2",name:"MacBook Pro",size:"15-inch",processor:"",year:"Mid 2010",additional:""},{key:"MacBookPro7,1",name:"MacBook Pro",size:"13-inch",processor:"",year:"Mid 2010",additional:""},{key:"MacBookPro5,2",name:"MacBook Pro",size:"17-inch",processor:"",year:"Early 2009",additional:""},{key:"MacBookPro5,3",name:"MacBook Pro",size:"15-inch",processor:"",year:"Mid 2009",additional:""},{key:"MacBookPro5,5",name:"MacBook Pro",size:"13-inch",processor:"",year:"Mid 2009",additional:""},{key:"MacBookPro5,1",name:"MacBook Pro",size:"15-inch",processor:"",year:"Late 2008",additional:""},{key:"MacBookPro4,1",name:"MacBook Pro",size:"15-inch",processor:"",year:"Early 2008",additional:""},{key:"MacBook10,1",name:"MacBook",size:"12-inch",processor:"",year:"2017",additional:""},{key:"MacBook9,1",name:"MacBook",size:"12-inch",processor:"",year:"Early 2016",additional:""},{key:"MacBook8,1",name:"MacBook",size:"12-inch",processor:"",year:"Early 2015",additional:""},{key:"MacBook7,1",name:"MacBook",size:"13-inch",processor:"",year:"Mid 2010",additional:""},{key:"MacBook6,1",name:"MacBook",size:"13-inch",processor:"",year:"Late 2009",additional:""},{key:"MacBook5,2",name:"MacBook",size:"13-inch",processor:"",year:"Early 2009",additional:""},{key:"Mac14,13",name:"Mac Studio",size:"",processor:"",year:"2023",additional:""},{key:"Mac14,14",name:"Mac Studio",size:"",processor:"",year:"2023",additional:""},{key:"Mac13,1",name:"Mac Studio",size:"",processor:"",year:"2022",additional:""},{key:"Mac13,2",name:"Mac Studio",size:"",processor:"",year:"2022",additional:""},{key:"Mac16,11",name:"Mac mini",size:"",processor:"M4 Pro",year:"2024",additional:""},{key:"Mac16,10",name:"Mac mini",size:"",processor:"M4",year:"2024",additional:""},{key:"Mac14,3",name:"Mac mini",size:"",processor:"M2",year:"2023",additional:""},{key:"Mac14,12",name:"Mac mini",size:"",processor:"M2 Pro",year:"2023",additional:""},{key:"Macmini9,1",name:"Mac mini",size:"",processor:"M1",year:"2020",additional:""},{key:"Macmini8,1",name:"Mac mini",size:"",processor:"",year:"Late 2018",additional:""},{key:"Macmini7,1",name:"Mac mini",size:"",processor:"",year:"Late 2014",additional:""},{key:"Macmini6,1",name:"Mac mini",size:"",processor:"",year:"Late 2012",additional:""},{key:"Macmini6,2",name:"Mac mini",size:"",processor:"",year:"Late 2012",additional:""},{key:"Macmini5,1",name:"Mac mini",size:"",processor:"",year:"Mid 2011",additional:""},{key:"Macmini5,2",name:"Mac mini",size:"",processor:"",year:"Mid 2011",additional:""},{key:"Macmini4,1",name:"Mac mini",size:"",processor:"",year:"Mid 2010",additional:""},{key:"Macmini3,1",name:"Mac mini",size:"",processor:"",year:"Early 2009",additional:""},{key:"Mac16,3",name:"iMac",size:"24-inch",processor:"M4",year:"2024",additional:"Four ports"},{key:"Mac16,2",name:"iMac",size:"24-inch",processor:"M4",year:"2024",additional:"Two ports"},{key:"Mac15,5",name:"iMac",size:"24-inch",processor:"M3",year:"2023",additional:"Four ports"},{key:"Mac15,4",name:"iMac",size:"24-inch",processor:"M3",year:"2023",additional:"Two ports"},{key:"iMac21,1",name:"iMac",size:"24-inch",processor:"M1",year:"2021",additional:""},{key:"iMac21,2",name:"iMac",size:"24-inch",processor:"M1",year:"2021",additional:""},{key:"iMac20,1",name:"iMac",size:"27-inch",processor:"",year:"2020",additional:"Retina 5K"},{key:"iMac20,2",name:"iMac",size:"27-inch",processor:"",year:"2020",additional:"Retina 5K"},{key:"iMac19,1",name:"iMac",size:"27-inch",processor:"",year:"2019",additional:"Retina 5K"},{key:"iMac19,2",name:"iMac",size:"21.5-inch",processor:"",year:"2019",additional:"Retina 4K"},{key:"iMacPro1,1",name:"iMac Pro",size:"",processor:"",year:"2017",additional:""},{key:"iMac18,3",name:"iMac",size:"27-inch",processor:"",year:"2017",additional:"Retina 5K"},{key:"iMac18,2",name:"iMac",size:"21.5-inch",processor:"",year:"2017",additional:"Retina 4K"},{key:"iMac18,1",name:"iMac",size:"21.5-inch",processor:"",year:"2017",additional:""},{key:"iMac17,1",name:"iMac",size:"27-inch",processor:"",year:"Late 2015",additional:"Retina 5K"},{key:"iMac16,2",name:"iMac",size:"21.5-inch",processor:"",year:"Late 2015",additional:"Retina 4K"},{key:"iMac16,1",name:"iMac",size:"21.5-inch",processor:"",year:"Late 2015",additional:""},{key:"iMac15,1",name:"iMac",size:"27-inch",processor:"",year:"Late 2014",additional:"Retina 5K"},{key:"iMac14,4",name:"iMac",size:"21.5-inch",processor:"",year:"Mid 2014",additional:""},{key:"iMac14,2",name:"iMac",size:"27-inch",processor:"",year:"Late 2013",additional:""},{key:"iMac14,1",name:"iMac",size:"21.5-inch",processor:"",year:"Late 2013",additional:""},{key:"iMac13,2",name:"iMac",size:"27-inch",processor:"",year:"Late 2012",additional:""},{key:"iMac13,1",name:"iMac",size:"21.5-inch",processor:"",year:"Late 2012",additional:""},{key:"iMac12,2",name:"iMac",size:"27-inch",processor:"",year:"Mid 2011",additional:""},{key:"iMac12,1",name:"iMac",size:"21.5-inch",processor:"",year:"Mid 2011",additional:""},{key:"iMac11,3",name:"iMac",size:"27-inch",processor:"",year:"Mid 2010",additional:""},{key:"iMac11,2",name:"iMac",size:"21.5-inch",processor:"",year:"Mid 2010",additional:""},{key:"iMac10,1",name:"iMac",size:"21.5-inch",processor:"",year:"Late 2009",additional:""},{key:"iMac9,1",name:"iMac",size:"20-inch",processor:"",year:"Early 2009",additional:""},{key:"Mac14,8",name:"Mac Pro",size:"",processor:"",year:"2023",additional:""},{key:"Mac14,8",name:"Mac Pro",size:"",processor:"",year:"2023",additional:"Rack"},{key:"MacPro7,1",name:"Mac Pro",size:"",processor:"",year:"2019",additional:""},{key:"MacPro7,1",name:"Mac Pro",size:"",processor:"",year:"2019",additional:"Rack"},{key:"MacPro6,1",name:"Mac Pro",size:"",processor:"",year:"Late 2013",additional:""},{key:"MacPro5,1",name:"Mac Pro",size:"",processor:"",year:"Mid 2012",additional:""},{key:"MacPro5,1",name:"Mac Pro Server",size:"",processor:"",year:"Mid 2012",additional:"Server"},{key:"MacPro5,1",name:"Mac Pro",size:"",processor:"",year:"Mid 2010",additional:""},{key:"MacPro5,1",name:"Mac Pro Server",size:"",processor:"",year:"Mid 2010",additional:"Server"},{key:"MacPro4,1",name:"Mac Pro",size:"",processor:"",year:"Early 2009",additional:""}].filter((E)=>E.key===A);if(B.length===0)return{key:A,model:"Apple",version:"Unknown"};let C=[];if(B[0].size)C.push(B[0].size);if(B[0].processor)C.push(B[0].processor);if(B[0].year)C.push(B[0].year);if(B[0].additional)C.push(B[0].additional);return{key:A,model:B[0].name,version:B[0].name+" ("+C.join(", ")+")"}}function UEB(A,Q=5000){let B=A.startsWith("https:")||A.indexOf(":443/")>0||A.indexOf(":8443/")>0?a("https"):a("http"),C=Date.now();return new Promise((E)=>{let I=B.get(A,function(Y){Y.on("data",()=>{}),Y.on("end",()=>{E({url:A,statusCode:Y.statusCode,message:Y.statusMessage,time:Date.now()-C})})}).on("error",function(Y){E({url:A,statusCode:404,message:Y.message,time:Date.now()-C})}).setTimeout(Q,()=>{I.close(),E({url:A,statusCode:408,message:"Request Timeout",time:Date.now()-C})})})}function NEB(A){return A.replace(/To Be Filled By O.E.M./g,"")}function O4Q(){}ZEB.toInt=OCB;ZEB.splitByNumber=RCB;ZEB.execOptsWin=Pv;ZEB.execOptsLinux=na;ZEB.getCodepage=uCB;ZEB.execWin=iCB;ZEB.isFunction=TCB;ZEB.unique=qCB;ZEB.sortByKey=PCB;ZEB.cores=_CB;ZEB.getValue=aW;ZEB.decodeEscapeSequence=jCB;ZEB.parseDateTime=gCB;ZEB.parseHead=vCB;ZEB.findObjectByKey=yCB;ZEB.getWmic=z4Q;ZEB.wmic=bCB;ZEB.darwinXcodeExists=nCB;ZEB.getVboxmanage=hCB;ZEB.powerShell=w4Q;ZEB.powerShellStart=mCB;ZEB.powerShellRelease=fCB;ZEB.execSafe=dCB;ZEB.nanoSeconds=oCB;ZEB.countUniqueLines=rCB;ZEB.countLines=aCB;ZEB.noop=O4Q;ZEB.isRaspberry=cCB;ZEB.isRaspbian=lCB;ZEB.sanitizeShellString=sCB;ZEB.isPrototypePolluted=tCB;ZEB.decodePiCpuinfo=L4Q;ZEB.getRpiGpu=QEB;ZEB.promiseAll=BEB;ZEB.promisify=CEB;ZEB.promisifySave=EEB;ZEB.smartMonToolsInstalled=pCB;ZEB.linuxVersion=IEB;ZEB.plistParser=YEB;ZEB.plistReader=GEB;ZEB.stringObj=pa;ZEB.stringReplace=rFA;ZEB.stringToLower=aFA;ZEB.stringToString=H4Q;ZEB.stringSubstr=W4Q;ZEB.stringSubstring=K4Q;ZEB.stringTrim=V4Q;ZEB.stringStartWith=M4Q;ZEB.mathMin=$4Q;ZEB.WINDIR=eFA;ZEB.getFilesInPath=AEB;ZEB.semverCompare=JEB;ZEB.getAppleModel=DEB;ZEB.checkWebsite=UEB;ZEB.cleanString=NEB;ZEB.getPowershell=kCB});var T4Q=m((MIB)=>{var QHA=a("fs"),HM=a("os"),OA=aY(),zR=a("child_process").exec,$R=a("child_process").execSync,oa=OA.promisify(a("child_process").exec),sW=process.platform,ra=sW==="linux"||sW==="android",aa=sW==="darwin",sa=sW==="win32",_v=sW==="freebsd",jv=sW==="openbsd",xv=sW==="netbsd",ta=sW==="sunos";function HIB(A){return new Promise((Q)=>{process.nextTick(()=>{let B={manufacturer:"",model:"Computer",version:"",serial:"-",uuid:"-",sku:"-",virtual:!1};if(ra||_v||jv||xv)zR("export LC_ALL=C; dmidecode -t system 2>/dev/null; unset LC_ALL",function(C,E){let I=E.toString().split(`
`);B.manufacturer=X0(OA.getValue(I,"manufacturer")),B.model=X0(OA.getValue(I,"product name")),B.version=X0(OA.getValue(I,"version")),B.serial=X0(OA.getValue(I,"serial number")),B.uuid=X0(OA.getValue(I,"uuid")).toLowerCase(),B.sku=X0(OA.getValue(I,"sku number"));let Y=`echo -n "product_name: "; cat /sys/devices/virtual/dmi/id/product_name 2>/dev/null; echo;
            echo -n "product_serial: "; cat /sys/devices/virtual/dmi/id/product_serial 2>/dev/null; echo;
            echo -n "product_uuid: "; cat /sys/devices/virtual/dmi/id/product_uuid 2>/dev/null; echo;
            echo -n "product_version: "; cat /sys/devices/virtual/dmi/id/product_version 2>/dev/null; echo;
            echo -n "sys_vendor: "; cat /sys/devices/virtual/dmi/id/sys_vendor 2>/dev/null; echo;`;try{I=$R(Y,OA.execOptsLinux).toString().split(`
`),B.manufacturer=X0(B.manufacturer===""?OA.getValue(I,"sys_vendor"):B.manufacturer),B.model=X0(B.model===""?OA.getValue(I,"product_name"):B.model),B.version=X0(B.version===""?OA.getValue(I,"product_version"):B.version),B.serial=X0(B.serial===""?OA.getValue(I,"product_serial"):B.serial),B.uuid=X0(B.uuid===""?OA.getValue(I,"product_uuid").toLowerCase():B.uuid)}catch(G){OA.noop()}if(!B.serial)B.serial="-";if(!B.manufacturer)B.manufacturer="";if(!B.model)B.model="Computer";if(!B.version)B.version="";if(!B.sku)B.sku="-";if(B.model.toLowerCase()==="virtualbox"||B.model.toLowerCase()==="kvm"||B.model.toLowerCase()==="virtual machine"||B.model.toLowerCase()==="bochs"||B.model.toLowerCase().startsWith("vmware")||B.model.toLowerCase().startsWith("droplet"))switch(B.virtual=!0,B.model.toLowerCase()){case"virtualbox":B.virtualHost="VirtualBox";break;case"vmware":B.virtualHost="VMware";break;case"kvm":B.virtualHost="KVM";break;case"bochs":B.virtualHost="bochs";break}if(B.manufacturer.toLowerCase().startsWith("vmware")||B.manufacturer.toLowerCase()==="xen")switch(B.virtual=!0,B.manufacturer.toLowerCase()){case"vmware":B.virtualHost="VMware";break;case"xen":B.virtualHost="Xen";break}if(!B.virtual)try{let G=$R("ls -1 /dev/disk/by-id/ 2>/dev/null",OA.execOptsLinux).toString();if(G.indexOf("_QEMU_")>=0)B.virtual=!0,B.virtualHost="QEMU";if(G.indexOf("_VBOX_")>=0)B.virtual=!0,B.virtualHost="VirtualBox"}catch(G){OA.noop()}if(!B.virtual&&(HM.release().toLowerCase().indexOf("microsoft")>=0||HM.release().toLowerCase().endsWith("wsl2"))){let G=parseFloat(HM.release().toLowerCase());B.virtual=!0,B.manufacturer="Microsoft",B.model="WSL",B.version=G<4.19?"1":"2"}if((_v||jv||xv)&&!B.virtualHost)try{let J=$R("dmidecode -t 4",OA.execOptsLinux).toString().split(`
`);switch(OA.getValue(J,"manufacturer",":",!0).toLowerCase()){case"virtualbox":B.virtualHost="VirtualBox";break;case"vmware":B.virtualHost="VMware";break;case"kvm":B.virtualHost="KVM";break;case"bochs":B.virtualHost="bochs";break}}catch(G){OA.noop()}if(QHA.existsSync("/.dockerenv")||QHA.existsSync("/.dockerinit"))B.model="Docker Container";try{let G=$R('dmesg 2>/dev/null | grep -iE "virtual|hypervisor" | grep -iE "vmware|qemu|kvm|xen" | grep -viE "Nested Virtualization|/virtual/"');if(G.toString().split(`
`).length>0){if(B.model==="Computer")B.model="Virtual machine";if(B.virtual=!0,G.toString().toLowerCase().indexOf("vmware")>=0&&!B.virtualHost)B.virtualHost="VMware";if(G.toString().toLowerCase().indexOf("qemu")>=0&&!B.virtualHost)B.virtualHost="QEMU";if(G.toString().toLowerCase().indexOf("xen")>=0&&!B.virtualHost)B.virtualHost="Xen";if(G.toString().toLowerCase().indexOf("kvm")>=0&&!B.virtualHost)B.virtualHost="KVM"}}catch(G){OA.noop()}if(B.manufacturer===""&&B.model==="Computer"&&B.version==="")QHA.readFile("/proc/cpuinfo",function(G,J){if(!G){let D=J.toString().split(`
`);B.model=OA.getValue(D,"hardware",":",!0).toUpperCase(),B.version=OA.getValue(D,"revision",":",!0).toLowerCase(),B.serial=OA.getValue(D,"serial",":",!0);let U=OA.getValue(D,"model:",":",!0);if(OA.isRaspberry(D)){let N=OA.decodePiCpuinfo(D);B.model=N.model,B.version=N.revisionCode,B.manufacturer="Raspberry Pi Foundation",B.raspberry={manufacturer:N.manufacturer,processor:N.processor,type:N.type,revision:N.revision}}}if(A)A(B);Q(B)});else{if(A)A(B);Q(B)}});if(aa)zR("ioreg -c IOPlatformExpertDevice -d 2",function(C,E){if(!C){let I=E.toString().replace(/[<>"]/g,"").split(`
`),Y=OA.getAppleModel(OA.getValue(I,"model","=",!0));B.manufacturer=OA.getValue(I,"manufacturer","=",!0),B.model=Y.key,B.type=R4Q(Y.version),B.version=Y.version,B.serial=OA.getValue(I,"ioplatformserialnumber","=",!0),B.uuid=OA.getValue(I,"ioplatformuuid","=",!0).toLowerCase(),B.sku=OA.getValue(I,"board-id","=",!0)||OA.getValue(I,"target-sub-type","=",!0)}if(A)A(B);Q(B)});if(ta){if(A)A(B);Q(B)}if(sa)try{OA.powerShell("Get-CimInstance Win32_ComputerSystemProduct | select Name,Vendor,Version,IdentifyingNumber,UUID | fl").then((C,E)=>{if(!E){let I=C.split(`\r
`);B.manufacturer=OA.getValue(I,"vendor",":"),B.model=OA.getValue(I,"name",":"),B.version=OA.getValue(I,"version",":"),B.serial=OA.getValue(I,"identifyingnumber",":"),B.uuid=OA.getValue(I,"uuid",":").toLowerCase();let Y=B.model.toLowerCase();if(Y==="virtualbox"||Y==="kvm"||Y==="virtual machine"||Y==="bochs"||Y.startsWith("vmware")||Y.startsWith("qemu")||Y.startsWith("parallels")){if(B.virtual=!0,Y.startsWith("virtualbox"))B.virtualHost="VirtualBox";if(Y.startsWith("vmware"))B.virtualHost="VMware";if(Y.startsWith("kvm"))B.virtualHost="KVM";if(Y.startsWith("bochs"))B.virtualHost="bochs";if(Y.startsWith("qemu"))B.virtualHost="KVM";if(Y.startsWith("parallels"))B.virtualHost="Parallels"}let G=B.manufacturer.toLowerCase();if(G.startsWith("vmware")||G.startsWith("qemu")||G==="xen"||G.startsWith("parallels")){if(B.virtual=!0,G.startsWith("vmware"))B.virtualHost="VMware";if(G.startsWith("xen"))B.virtualHost="Xen";if(G.startsWith("qemu"))B.virtualHost="KVM";if(G.startsWith("parallels"))B.virtualHost="Parallels"}OA.powerShell('Get-CimInstance MS_Systeminformation -Namespace "root/wmi" | select systemsku | fl ').then((J,D)=>{if(!D){let U=J.split(`\r
`);B.sku=OA.getValue(U,"systemsku",":")}if(!B.virtual)OA.powerShell("Get-CimInstance Win32_bios | select Version, SerialNumber, SMBIOSBIOSVersion").then((U,N)=>{if(!N){let Z=U.toString();if(Z.indexOf("VRTUAL")>=0||Z.indexOf("A M I ")>=0||Z.indexOf("VirtualBox")>=0||Z.indexOf("VMWare")>=0||Z.indexOf("Xen")>=0||Z.indexOf("Parallels")>=0){if(B.virtual=!0,Z.indexOf("VirtualBox")>=0&&!B.virtualHost)B.virtualHost="VirtualBox";if(Z.indexOf("VMware")>=0&&!B.virtualHost)B.virtualHost="VMware";if(Z.indexOf("Xen")>=0&&!B.virtualHost)B.virtualHost="Xen";if(Z.indexOf("VRTUAL")>=0&&!B.virtualHost)B.virtualHost="Hyper-V";if(Z.indexOf("A M I")>=0&&!B.virtualHost)B.virtualHost="Virtual PC";if(Z.indexOf("Parallels")>=0&&!B.virtualHost)B.virtualHost="Parallels"}if(A)A(B);Q(B)}else{if(A)A(B);Q(B)}});else{if(A)A(B);Q(B)}})}else{if(A)A(B);Q(B)}})}catch(C){if(A)A(B);Q(B)}})})}MIB.system=HIB;function X0(A){let Q=A.toLowerCase();if(Q.indexOf("o.e.m.")===-1&&Q.indexOf("default string")===-1&&Q!=="default")return A||"";return""}function WIB(A){return new Promise((Q)=>{process.nextTick(()=>{let B={vendor:"",version:"",releaseDate:"",revision:""},C="";if(ra||_v||jv||xv){if(process.arch==="arm")C="cat /proc/cpuinfo | grep Serial";else C="export LC_ALL=C; dmidecode -t bios 2>/dev/null; unset LC_ALL";zR(C,function(E,I){let Y=I.toString().split(`
`);B.vendor=OA.getValue(Y,"Vendor"),B.version=OA.getValue(Y,"Version");let G=OA.getValue(Y,"Release Date");B.releaseDate=OA.parseDateTime(G).date,B.revision=OA.getValue(Y,"BIOS Revision"),B.serial=OA.getValue(Y,"SerialNumber");let J=OA.getValue(Y,"Currently Installed Language").split("|")[0];if(J)B.language=J;if(Y.length&&I.toString().indexOf("Characteristics:")>=0){let U=[];Y.forEach((N)=>{if(N.indexOf(" is supported")>=0){let Z=N.split(" is supported")[0].trim();U.push(Z)}}),B.features=U}let D=`echo -n "bios_date: "; cat /sys/devices/virtual/dmi/id/bios_date 2>/dev/null; echo;
            echo -n "bios_vendor: "; cat /sys/devices/virtual/dmi/id/bios_vendor 2>/dev/null; echo;
            echo -n "bios_version: "; cat /sys/devices/virtual/dmi/id/bios_version 2>/dev/null; echo;`;try{Y=$R(D,OA.execOptsLinux).toString().split(`
`),B.vendor=!B.vendor?OA.getValue(Y,"bios_vendor"):B.vendor,B.version=!B.version?OA.getValue(Y,"bios_version"):B.version,G=OA.getValue(Y,"bios_date"),B.releaseDate=!B.releaseDate?OA.parseDateTime(G).date:B.releaseDate}catch(U){OA.noop()}if(A)A(B);Q(B)})}if(aa)B.vendor="Apple Inc.",zR("system_profiler SPHardwareDataType -json",function(E,I){try{let Y=JSON.parse(I.toString());if(Y&&Y.SPHardwareDataType&&Y.SPHardwareDataType.length){let G=Y.SPHardwareDataType[0].boot_rom_version;G=G?G.split("(")[0].trim():null,B.version=G}}catch(Y){OA.noop()}if(A)A(B);Q(B)});if(ta){if(B.vendor="Sun Microsystems",A)A(B);Q(B)}if(sa)try{OA.powerShell('Get-CimInstance Win32_bios | select Description,Version,Manufacturer,@{n="ReleaseDate";e={$_.ReleaseDate.ToString("yyyy-MM-dd")}},BuildNumber,SerialNumber,SMBIOSBIOSVersion | fl').then((E,I)=>{if(!I){let Y=E.toString().split(`\r
`),G=OA.getValue(Y,"description",":"),J=OA.getValue(Y,"SMBIOSBIOSVersion",":");if(G.indexOf(" Version ")!==-1)B.vendor=G.split(" Version ")[0].trim(),B.version=G.split(" Version ")[1].trim();else if(G.indexOf(" Ver: ")!==-1)B.vendor=OA.getValue(Y,"manufacturer",":"),B.version=G.split(" Ver: ")[1].trim();else B.vendor=OA.getValue(Y,"manufacturer",":"),B.version=J||OA.getValue(Y,"version",":");B.releaseDate=OA.getValue(Y,"releasedate",":"),B.revision=OA.getValue(Y,"buildnumber",":"),B.serial=X0(OA.getValue(Y,"serialnumber",":"))}if(A)A(B);Q(B)})}catch(E){if(A)A(B);Q(B)}})})}MIB.bios=WIB;function KIB(A){return new Promise((Q)=>{process.nextTick(()=>{let B={manufacturer:"",model:"",version:"",serial:"-",assetTag:"-",memMax:null,memSlots:null},C="";if(ra||_v||jv||xv){if(process.arch==="arm")C="cat /proc/cpuinfo | grep Serial";else C="export LC_ALL=C; dmidecode -t 2 2>/dev/null; unset LC_ALL";let E=[];E.push(oa(C)),E.push(oa("export LC_ALL=C; dmidecode -t memory 2>/dev/null")),OA.promiseAll(E).then((I)=>{let Y=I.results[0]?I.results[0].toString().split(`
`):[""];B.manufacturer=X0(OA.getValue(Y,"Manufacturer")),B.model=X0(OA.getValue(Y,"Product Name")),B.version=X0(OA.getValue(Y,"Version")),B.serial=X0(OA.getValue(Y,"Serial Number")),B.assetTag=X0(OA.getValue(Y,"Asset Tag"));let G=`echo -n "board_asset_tag: "; cat /sys/devices/virtual/dmi/id/board_asset_tag 2>/dev/null; echo;
            echo -n "board_name: "; cat /sys/devices/virtual/dmi/id/board_name 2>/dev/null; echo;
            echo -n "board_serial: "; cat /sys/devices/virtual/dmi/id/board_serial 2>/dev/null; echo;
            echo -n "board_vendor: "; cat /sys/devices/virtual/dmi/id/board_vendor 2>/dev/null; echo;
            echo -n "board_version: "; cat /sys/devices/virtual/dmi/id/board_version 2>/dev/null; echo;`;try{Y=$R(G,OA.execOptsLinux).toString().split(`
`),B.manufacturer=X0(!B.manufacturer?OA.getValue(Y,"board_vendor"):B.manufacturer),B.model=X0(!B.model?OA.getValue(Y,"board_name"):B.model),B.version=X0(!B.version?OA.getValue(Y,"board_version"):B.version),B.serial=X0(!B.serial?OA.getValue(Y,"board_serial"):B.serial),B.assetTag=X0(!B.assetTag?OA.getValue(Y,"board_asset_tag"):B.assetTag)}catch(J){OA.noop()}if(Y=I.results[1]?I.results[1].toString().split(`
`):[""],B.memMax=OA.toInt(OA.getValue(Y,"Maximum Capacity"))*1024*1024*1024||null,B.memSlots=OA.toInt(OA.getValue(Y,"Number Of Devices"))||null,OA.isRaspberry()){let J=OA.decodePiCpuinfo();B.manufacturer=J.manufacturer,B.model="Raspberry Pi",B.serial=J.serial,B.version=J.type+" - "+J.revision,B.memMax=HM.totalmem(),B.memSlots=0}if(A)A(B);Q(B)})}if(aa){let E=[];E.push(oa("ioreg -c IOPlatformExpertDevice -d 2")),E.push(oa("system_profiler SPMemoryDataType")),OA.promiseAll(E).then((I)=>{let Y=I.results[0]?I.results[0].toString().replace(/[<>"]/g,"").split(`
`):[""];B.manufacturer=OA.getValue(Y,"manufacturer","=",!0),B.model=OA.getValue(Y,"model","=",!0),B.version=OA.getValue(Y,"version","=",!0),B.serial=OA.getValue(Y,"ioplatformserialnumber","=",!0),B.assetTag=OA.getValue(Y,"board-id","=",!0);let G=I.results[1]?I.results[1].toString().split("        BANK "):[""];if(G.length===1)G=I.results[1]?I.results[1].toString().split("        DIMM"):[""];if(G.shift(),B.memSlots=G.length,HM.arch()==="arm64")B.memSlots=0,B.memMax=HM.totalmem();if(A)A(B);Q(B)})}if(ta){if(A)A(B);Q(B)}if(sa)try{let E=[],I=parseInt(HM.release())>=10,Y=I?"MaxCapacityEx":"MaxCapacity";E.push(OA.powerShell("Get-CimInstance Win32_baseboard | select Model,Manufacturer,Product,Version,SerialNumber,PartNumber,SKU | fl")),E.push(OA.powerShell(`Get-CimInstance Win32_physicalmemoryarray | select ${Y}, MemoryDevices | fl`)),OA.promiseAll(E).then((G)=>{let J=G.results[0]?G.results[0].toString().split(`\r
`):[""];if(B.manufacturer=X0(OA.getValue(J,"manufacturer",":")),B.model=X0(OA.getValue(J,"model",":")),!B.model)B.model=X0(OA.getValue(J,"product",":"));if(B.version=X0(OA.getValue(J,"version",":")),B.serial=X0(OA.getValue(J,"serialnumber",":")),B.assetTag=X0(OA.getValue(J,"partnumber",":")),!B.assetTag)B.assetTag=X0(OA.getValue(J,"sku",":"));if(J=G.results[1]?G.results[1].toString().split(`\r
`):[""],B.memMax=OA.toInt(OA.getValue(J,Y,":"))*(I?1024:1)||null,B.memSlots=OA.toInt(OA.getValue(J,"MemoryDevices",":"))||null,A)A(B);Q(B)})}catch(E){if(A)A(B);Q(B)}})})}MIB.baseboard=KIB;function R4Q(A){if(A=A.toLowerCase(),A.indexOf("macbookair")>=0||A.indexOf("macbook air")>=0)return"Notebook";if(A.indexOf("macbookpro")>=0||A.indexOf("macbook pro")>=0)return"Notebook";if(A.indexOf("macbook")>=0)return"Notebook";if(A.indexOf("macmini")>=0||A.indexOf("mac mini")>=0)return"Desktop";if(A.indexOf("imac")>=0)return"Desktop";if(A.indexOf("macstudio")>=0||A.indexOf("mac studio")>=0)return"Desktop";if(A.indexOf("macpro")>=0||A.indexOf("mac pro")>=0)return"Tower";return"Other"}function VIB(A){let Q=["Other","Unknown","Desktop","Low Profile Desktop","Pizza Box","Mini Tower","Tower","Portable","Laptop","Notebook","Hand Held","Docking Station","All in One","Sub Notebook","Space-Saving","Lunch Box","Main System Chassis","Expansion Chassis","SubChassis","Bus Expansion Chassis","Peripheral Chassis","Storage Chassis","Rack Mount Chassis","Sealed-Case PC","Multi-System Chassis","Compact PCI","Advanced TCA","Blade","Blade Enclosure","Tablet","Convertible","Detachable","IoT Gateway ","Embedded PC","Mini PC","Stick PC"];return new Promise((B)=>{process.nextTick(()=>{let C={manufacturer:"",model:"",type:"",version:"",serial:"-",assetTag:"-",sku:""};if(ra||_v||jv||xv)zR(`echo -n "chassis_asset_tag: "; cat /sys/devices/virtual/dmi/id/chassis_asset_tag 2>/dev/null; echo;
            echo -n "chassis_serial: "; cat /sys/devices/virtual/dmi/id/chassis_serial 2>/dev/null; echo;
            echo -n "chassis_type: "; cat /sys/devices/virtual/dmi/id/chassis_type 2>/dev/null; echo;
            echo -n "chassis_vendor: "; cat /sys/devices/virtual/dmi/id/chassis_vendor 2>/dev/null; echo;
            echo -n "chassis_version: "; cat /sys/devices/virtual/dmi/id/chassis_version 2>/dev/null; echo;`,function(I,Y){let G=Y.toString().split(`
`);C.manufacturer=X0(OA.getValue(G,"chassis_vendor"));let J=parseInt(OA.getValue(G,"chassis_type").replace(/\D/g,""));if(C.type=X0(J&&!isNaN(J)&&J<Q.length?Q[J-1]:""),C.version=X0(OA.getValue(G,"chassis_version")),C.serial=X0(OA.getValue(G,"chassis_serial")),C.assetTag=X0(OA.getValue(G,"chassis_asset_tag")),A)A(C);B(C)});if(aa)zR("ioreg -c IOPlatformExpertDevice -d 2",function(E,I){if(!E){let Y=I.toString().replace(/[<>"]/g,"").split(`
`),G=OA.getAppleModel(OA.getValue(Y,"model","=",!0));C.manufacturer=OA.getValue(Y,"manufacturer","=",!0),C.model=G.key,C.type=R4Q(G.model),C.version=G.version,C.serial=OA.getValue(Y,"ioplatformserialnumber","=",!0),C.assetTag=OA.getValue(Y,"board-id","=",!0)||OA.getValue(Y,"target-type","=",!0),C.sku=OA.getValue(Y,"target-sub-type","=",!0)}if(A)A(C);B(C)});if(ta){if(A)A(C);B(C)}if(sa)try{OA.powerShell("Get-CimInstance Win32_SystemEnclosure | select Model,Manufacturer,ChassisTypes,Version,SerialNumber,PartNumber,SKU,SMBIOSAssetTag | fl").then((E,I)=>{if(!I){let Y=E.toString().split(`\r
`);C.manufacturer=X0(OA.getValue(Y,"manufacturer",":")),C.model=X0(OA.getValue(Y,"model",":"));let G=parseInt(OA.getValue(Y,"ChassisTypes",":").replace(/\D/g,""));if(C.type=G&&!isNaN(G)&&G<Q.length?Q[G-1]:"",C.version=X0(OA.getValue(Y,"version",":")),C.serial=X0(OA.getValue(Y,"serialnumber",":")),C.assetTag=X0(OA.getValue(Y,"partnumber",":")),!C.assetTag)C.assetTag=X0(OA.getValue(Y,"SMBIOSAssetTag",":"));C.sku=X0(OA.getValue(Y,"sku",":"))}if(A)A(C);B(C)})}catch(E){if(A)A(C);B(C)}})})}MIB.chassis=VIB});var P4Q=m((gIB)=>{var nZ=a("os"),cZ=a("fs"),oQ=aY(),AB=a("child_process").exec,gv=a("child_process").execSync,j9=process.platform,wR=j9==="linux"||j9==="android",lZ=j9==="darwin",iZ=j9==="win32",BHA=j9==="freebsd",CHA=j9==="openbsd",EHA=j9==="netbsd",OIB=j9==="sunos";function RIB(){let A=new Date().toString().split(" "),Q={current:Date.now(),uptime:nZ.uptime(),timezone:A.length>=7?A[5]:"",timezoneName:Intl?Intl.DateTimeFormat().resolvedOptions().timeZone:A.length>=7?A.slice(6).join(" ").replace(/\(/g,"").replace(/\)/g,""):""};if(lZ||wR)try{let C=gv("date +%Z && date +%z && ls -l /etc/localtime 2>/dev/null",oQ.execOptsLinux).toString().split(nZ.EOL);if(C.length>3&&!C[0])C.shift();let E=C[0]||"";if(E.startsWith("+")||E.startsWith("-"))E="GMT";return{current:Date.now(),uptime:nZ.uptime(),timezone:C[1]?E+C[1]:E,timezoneName:C[2]&&C[2].indexOf("/zoneinfo/")>0?C[2].split("/zoneinfo/")[1]||"":""}}catch(B){oQ.noop()}return Q}gIB.time=RIB;function Sv(A){A=A||"",A=A.toLowerCase();let Q=j9;if(iZ)Q="windows";else if(A.indexOf("mac os")!==-1||A.indexOf("macos")!==-1)Q="apple";else if(A.indexOf("arch")!==-1)Q="arch";else if(A.indexOf("cachy")!==-1)Q="cachy";else if(A.indexOf("centos")!==-1)Q="centos";else if(A.indexOf("coreos")!==-1)Q="coreos";else if(A.indexOf("debian")!==-1)Q="debian";else if(A.indexOf("deepin")!==-1)Q="deepin";else if(A.indexOf("elementary")!==-1)Q="elementary";else if(A.indexOf("endeavour")!==-1)Q="endeavour";else if(A.indexOf("fedora")!==-1)Q="fedora";else if(A.indexOf("gentoo")!==-1)Q="gentoo";else if(A.indexOf("mageia")!==-1)Q="mageia";else if(A.indexOf("mandriva")!==-1)Q="mandriva";else if(A.indexOf("manjaro")!==-1)Q="manjaro";else if(A.indexOf("mint")!==-1)Q="mint";else if(A.indexOf("mx")!==-1)Q="mx";else if(A.indexOf("openbsd")!==-1)Q="openbsd";else if(A.indexOf("freebsd")!==-1)Q="freebsd";else if(A.indexOf("opensuse")!==-1)Q="opensuse";else if(A.indexOf("pclinuxos")!==-1)Q="pclinuxos";else if(A.indexOf("puppy")!==-1)Q="puppy";else if(A.indexOf("popos")!==-1)Q="popos";else if(A.indexOf("raspbian")!==-1)Q="raspbian";else if(A.indexOf("reactos")!==-1)Q="reactos";else if(A.indexOf("redhat")!==-1)Q="redhat";else if(A.indexOf("slackware")!==-1)Q="slackware";else if(A.indexOf("sugar")!==-1)Q="sugar";else if(A.indexOf("steam")!==-1)Q="steam";else if(A.indexOf("suse")!==-1)Q="suse";else if(A.indexOf("mate")!==-1)Q="ubuntu-mate";else if(A.indexOf("lubuntu")!==-1)Q="lubuntu";else if(A.indexOf("xubuntu")!==-1)Q="xubuntu";else if(A.indexOf("ubuntu")!==-1)Q="ubuntu";else if(A.indexOf("solaris")!==-1)Q="solaris";else if(A.indexOf("tails")!==-1)Q="tails";else if(A.indexOf("feren")!==-1)Q="ferenos";else if(A.indexOf("robolinux")!==-1)Q="robolinux";else if(wR&&A)Q=A.toLowerCase().trim().replace(/\s+/g,"-");return Q}function TIB(){let A=nZ.hostname;if(wR||lZ)try{A=gv("hostname -f 2>/dev/null",oQ.execOptsLinux).toString().split(nZ.EOL)[0]}catch(Q){oQ.noop()}if(BHA||CHA||EHA)try{A=gv("hostname 2>/dev/null").toString().split(nZ.EOL)[0]}catch(Q){oQ.noop()}if(iZ)try{A=gv("echo %COMPUTERNAME%.%USERDNSDOMAIN%",oQ.execOptsWin).toString().replace(".%USERDNSDOMAIN%","").split(nZ.EOL)[0]}catch(Q){oQ.noop()}return A}function qIB(A){return new Promise((Q)=>{process.nextTick(()=>{let B={platform:j9==="win32"?"Windows":j9,distro:"unknown",release:"unknown",codename:"",kernel:nZ.release(),arch:nZ.arch(),hostname:nZ.hostname(),fqdn:TIB(),codepage:"",logofile:"",serial:"",build:"",servicepack:"",uefi:!1};if(wR)AB("cat /etc/*-release; cat /usr/lib/os-release; cat /etc/openwrt_release",function(C,E){let I={};E.toString().split(`
`).forEach(function(U){if(U.indexOf("=")!==-1)I[U.split("=")[0].trim().toUpperCase()]=U.split("=")[1].trim()}),B.distro=(I.DISTRIB_ID||I.NAME||"unknown").replace(/"/g,""),B.logofile=Sv(B.distro);let G=(I.VERSION||"").replace(/"/g,""),J=(I.DISTRIB_CODENAME||I.VERSION_CODENAME||"").replace(/"/g,""),D=(I.PRETTY_NAME||"").replace(/"/g,"");if(D.indexOf(B.distro+" ")===0)G=D.replace(B.distro+" ","").trim();if(G.indexOf("(")>=0)J=G.split("(")[1].replace(/[()]/g,"").trim(),G=G.split("(")[0].trim();B.release=(G||I.DISTRIB_RELEASE||I.VERSION_ID||"unknown").replace(/"/g,""),B.codename=J,B.codepage=oQ.getCodepage(),B.build=(I.BUILD_ID||"").replace(/"/g,"").trim(),PIB().then((U)=>{B.uefi=U,q4Q().then((N)=>{if(B.serial=N.os,A)A(B);Q(B)})})});if(BHA||CHA||EHA)AB("sysctl kern.ostype kern.osrelease kern.osrevision kern.hostuuid machdep.bootmethod kern.geom.confxml",function(C,E){let I=E.toString().split(`
`),Y=oQ.getValue(I,"kern.ostype"),G=Sv(Y),J=oQ.getValue(I,"kern.osrelease").split("-")[0],D=oQ.getValue(I,"kern.uuid"),U=oQ.getValue(I,"machdep.bootmethod"),N=E.toString().indexOf("<type>efi</type>")>=0,Z=U?U.toLowerCase().indexOf("uefi")>=0:N?N:null;if(B.distro=Y||B.distro,B.logofile=G||B.logofile,B.release=J||B.release,B.serial=D||B.serial,B.codename="",B.codepage=oQ.getCodepage(),B.uefi=Z||null,A)A(B);Q(B)});if(lZ)AB("sw_vers; sysctl kern.ostype kern.osrelease kern.osrevision kern.uuid",function(C,E){let I=E.toString().split(`
`);if(B.serial=oQ.getValue(I,"kern.uuid"),B.distro=oQ.getValue(I,"ProductName"),B.release=(oQ.getValue(I,"ProductVersion",":",!0,!0)+" "+oQ.getValue(I,"ProductVersionExtra",":",!0,!0)).trim(),B.build=oQ.getValue(I,"BuildVersion"),B.logofile=Sv(B.distro),B.codename="macOS",B.codename=B.release.indexOf("10.4")>-1?"OS X Tiger":B.codename,B.codename=B.release.indexOf("10.5")>-1?"OS X Leopard":B.codename,B.codename=B.release.indexOf("10.6")>-1?"OS X Snow Leopard":B.codename,B.codename=B.release.indexOf("10.7")>-1?"OS X Lion":B.codename,B.codename=B.release.indexOf("10.8")>-1?"OS X Mountain Lion":B.codename,B.codename=B.release.indexOf("10.9")>-1?"OS X Mavericks":B.codename,B.codename=B.release.indexOf("10.10")>-1?"OS X Yosemite":B.codename,B.codename=B.release.indexOf("10.11")>-1?"OS X El Capitan":B.codename,B.codename=B.release.indexOf("10.12")>-1?"Sierra":B.codename,B.codename=B.release.indexOf("10.13")>-1?"High Sierra":B.codename,B.codename=B.release.indexOf("10.14")>-1?"Mojave":B.codename,B.codename=B.release.indexOf("10.15")>-1?"Catalina":B.codename,B.codename=B.release.startsWith("11.")?"Big Sur":B.codename,B.codename=B.release.startsWith("12.")?"Monterey":B.codename,B.codename=B.release.startsWith("13.")?"Ventura":B.codename,B.codename=B.release.startsWith("14.")?"Sonoma":B.codename,B.codename=B.release.startsWith("15.")?"Sequoia":B.codename,B.uefi=!0,B.codepage=oQ.getCodepage(),A)A(B);Q(B)});if(OIB)B.release=B.kernel,AB("uname -o",function(C,E){let I=E.toString().split(`
`);if(B.distro=I[0],B.logofile=Sv(B.distro),A)A(B);Q(B)});if(iZ){B.logofile=Sv(),B.release=B.kernel;try{let C=[];C.push(oQ.powerShell("Get-CimInstance Win32_OperatingSystem | select Caption,SerialNumber,BuildNumber,ServicePackMajorVersion,ServicePackMinorVersion | fl")),C.push(oQ.powerShell("(Get-CimInstance Win32_ComputerSystem).HypervisorPresent")),C.push(oQ.powerShell("Add-Type -AssemblyName System.Windows.Forms; [System.Windows.Forms.SystemInformation]::TerminalServerSession")),oQ.promiseAll(C).then((E)=>{let I=E.results[0]?E.results[0].toString().split(`\r
`):[""];B.distro=oQ.getValue(I,"Caption",":").trim(),B.serial=oQ.getValue(I,"SerialNumber",":").trim(),B.build=oQ.getValue(I,"BuildNumber",":").trim(),B.servicepack=oQ.getValue(I,"ServicePackMajorVersion",":").trim()+"."+oQ.getValue(I,"ServicePackMinorVersion",":").trim(),B.codepage=oQ.getCodepage();let Y=E.results[1]?E.results[1].toString().toLowerCase():"";B.hypervisor=Y.indexOf("true")!==-1;let G=E.results[2]?E.results[2].toString():"";B.remoteSession=G.toString().toLowerCase().indexOf("true")>=0,_IB().then((J)=>{if(B.uefi=J,A)A(B);Q(B)})})}catch(C){if(A)A(B);Q(B)}}})})}gIB.osInfo=qIB;function PIB(){return new Promise((A)=>{process.nextTick(()=>{cZ.stat("/sys/firmware/efi",function(Q){if(!Q)return A(!0);else AB('dmesg | grep -E "EFI v"',function(B,C){if(!B){let E=C.toString().split(`
`);return A(E.length>0)}return A(!1)})})})})}function _IB(){return new Promise((A)=>{process.nextTick(()=>{try{AB('findstr /C:"Detected boot environment" "%windir%\\Panther\\setupact.log"',oQ.execOptsWin,function(Q,B){if(!Q){let C=B.toString().split(`
\r`)[0];return A(C.toLowerCase().indexOf("efi")>=0)}else AB("echo %firmware_type%",oQ.execOptsWin,function(C,E){if(!C){let I=E.toString()||"";return A(I.toLowerCase().indexOf("efi")>=0)}else return A(!1)})})}catch(Q){return A(!1)}})})}function jIB(A,Q){let B={kernel:nZ.release(),apache:"",bash:"",bun:"",deno:"",docker:"",dotnet:"",fish:"",gcc:"",git:"",grunt:"",gulp:"",homebrew:"",java:"",mongodb:"",mysql:"",nginx:"",node:"",npm:"",openssl:"",perl:"",php:"",pip3:"",pip:"",pm2:"",postfix:"",postgresql:"",powershell:"",python3:"",python:"",redis:"",systemOpenssl:"",systemOpensslLib:"",tsc:"",v8:process.versions.v8,virtualbox:"",yarn:"",zsh:""};function C(E){if(E==="*")return{versions:B,counter:34};if(!Array.isArray(E)){E=E.trim().toLowerCase().replace(/,+/g,"|").replace(/ /g,"|"),E=E.split("|");let I={versions:{},counter:0};return E.forEach((Y)=>{if(Y){for(let G in B)if({}.hasOwnProperty.call(B,G)){if(G.toLowerCase()===Y.toLowerCase()&&!{}.hasOwnProperty.call(I.versions,G)){if(I.versions[G]=B[G],G==="openssl")I.versions.systemOpenssl="",I.versions.systemOpensslLib="";if(!I.versions[G])I.counter++}}}}),I}}return new Promise((E)=>{process.nextTick(()=>{if(oQ.isFunction(A)&&!Q)Q=A,A="*";else if(A=A||"*",typeof A!=="string"){if(Q)Q({});return E({})}let I=C(A),Y=I.counter,G=function(){return function(){if(--Y===0){if(Q)Q(I.versions);E(I.versions)}}}(),J="";try{if({}.hasOwnProperty.call(I.versions,"openssl"))I.versions.openssl=process.versions.openssl,AB("openssl version",function(D,U){if(!D){let Z=U.toString().split(`
`)[0].trim().split(" ");I.versions.systemOpenssl=Z.length>0?Z[1]:Z[0],I.versions.systemOpensslLib=Z.length>0?Z[0]:"openssl"}G()});if({}.hasOwnProperty.call(I.versions,"npm"))AB("npm -v",function(D,U){if(!D)I.versions.npm=U.toString().split(`
`)[0];G()});if({}.hasOwnProperty.call(I.versions,"pm2")){if(J="pm2",iZ)J+=".cmd";AB(`${J} -v`,function(D,U){if(!D){let N=U.toString().split(`
`)[0].trim();if(!N.startsWith("[PM2]"))I.versions.pm2=N}G()})}if({}.hasOwnProperty.call(I.versions,"yarn"))AB("yarn --version",function(D,U){if(!D)I.versions.yarn=U.toString().split(`
`)[0];G()});if({}.hasOwnProperty.call(I.versions,"gulp")){if(J="gulp",iZ)J+=".cmd";AB(`${J} --version`,function(D,U){if(!D){let N=U.toString().split(`
`)[0]||"";I.versions.gulp=(N.toLowerCase().split("version")[1]||"").trim()}G()})}if({}.hasOwnProperty.call(I.versions,"homebrew"))J="brew",AB(`${J} --version`,function(D,U){if(!D){let N=U.toString().split(`
`)[0]||"";I.versions.homebrew=(N.toLowerCase().split(" ")[1]||"").trim()}G()});if({}.hasOwnProperty.call(I.versions,"tsc")){if(J="tsc",iZ)J+=".cmd";AB(`${J} --version`,function(D,U){if(!D){let N=U.toString().split(`
`)[0]||"";I.versions.tsc=(N.toLowerCase().split("version")[1]||"").trim()}G()})}if({}.hasOwnProperty.call(I.versions,"grunt")){if(J="grunt",iZ)J+=".cmd";AB(`${J} --version`,function(D,U){if(!D){let N=U.toString().split(`
`)[0]||"";I.versions.grunt=(N.toLowerCase().split("cli v")[1]||"").trim()}G()})}if({}.hasOwnProperty.call(I.versions,"git"))if(lZ){let D=cZ.existsSync("/usr/local/Cellar/git")||cZ.existsSync("/opt/homebrew/bin/git");if(oQ.darwinXcodeExists()||D)AB("git --version",function(U,N){if(!U){let Z=N.toString().split(`
`)[0]||"";Z=(Z.toLowerCase().split("version")[1]||"").trim(),I.versions.git=(Z.split(" ")[0]||"").trim()}G()});else G()}else AB("git --version",function(D,U){if(!D){let N=U.toString().split(`
`)[0]||"";N=(N.toLowerCase().split("version")[1]||"").trim(),I.versions.git=(N.split(" ")[0]||"").trim()}G()});if({}.hasOwnProperty.call(I.versions,"apache"))AB("apachectl -v 2>&1",function(D,U){if(!D){let N=(U.toString().split(`
`)[0]||"").split(":");I.versions.apache=N.length>1?N[1].replace("Apache","").replace("/","").split("(")[0].trim():""}G()});if({}.hasOwnProperty.call(I.versions,"nginx"))AB("nginx -v 2>&1",function(D,U){if(!D){let N=U.toString().split(`
`)[0]||"";I.versions.nginx=(N.toLowerCase().split("/")[1]||"").trim()}G()});if({}.hasOwnProperty.call(I.versions,"mysql"))AB("mysql -V",function(D,U){if(!D){let N=U.toString().split(`
`)[0]||"";if(N=N.toLowerCase(),N.indexOf(",")>-1){N=(N.split(",")[0]||"").trim();let Z=N.split(" ");I.versions.mysql=(Z[Z.length-1]||"").trim()}else if(N.indexOf(" ver ")>-1)N=N.split(" ver ")[1],I.versions.mysql=N.split(" ")[0]}G()});if({}.hasOwnProperty.call(I.versions,"php"))AB("php -v",function(D,U){if(!D){let Z=(U.toString().split(`
`)[0]||"").split("(");if(Z[0].indexOf("-"))Z=Z[0].split("-");I.versions.php=Z[0].replace(/[^0-9.]/g,"")}G()});if({}.hasOwnProperty.call(I.versions,"redis"))AB("redis-server --version",function(D,U){if(!D){let Z=(U.toString().split(`
`)[0]||"").split(" ");I.versions.redis=oQ.getValue(Z,"v","=",!0)}G()});if({}.hasOwnProperty.call(I.versions,"docker"))AB("docker --version",function(D,U){if(!D){let Z=(U.toString().split(`
`)[0]||"").split(" ");I.versions.docker=Z.length>2&&Z[2].endsWith(",")?Z[2].slice(0,-1):""}G()});if({}.hasOwnProperty.call(I.versions,"postfix"))AB("postconf -d | grep mail_version",function(D,U){if(!D){let N=U.toString().split(`
`)||[];I.versions.postfix=oQ.getValue(N,"mail_version","=",!0)}G()});if({}.hasOwnProperty.call(I.versions,"mongodb"))AB("mongod --version",function(D,U){if(!D){let N=U.toString().split(`
`)[0]||"";I.versions.mongodb=(N.toLowerCase().split(",")[0]||"").replace(/[^0-9.]/g,"")}G()});if({}.hasOwnProperty.call(I.versions,"postgresql"))if(wR)AB("locate bin/postgres",function(D,U){if(!D){let N=U.toString().split(`
`).sort();if(N.length)AB(N[N.length-1]+" -V",function(Z,X){if(!Z){let W=X.toString().split(`
`)[0].split(" ")||[];I.versions.postgresql=W.length?W[W.length-1]:""}G()});else G()}else AB("psql -V",function(N,Z){if(!N){let X=Z.toString().split(`
`)[0].split(" ")||[];I.versions.postgresql=X.length?X[X.length-1]:"",I.versions.postgresql=I.versions.postgresql.split("-")[0]}G()})});else if(iZ)oQ.powerShell("Get-CimInstance Win32_Service | select caption | fl").then((D)=>{D.split(/\n\s*\n/).forEach((N)=>{if(N.trim()!==""){let Z=N.trim().split(`\r
`),X=oQ.getValue(Z,"caption",":",!0).toLowerCase();if(X.indexOf("postgresql")>-1){let W=X.split(" server ");if(W.length>1)I.versions.postgresql=W[1]}}}),G()});else AB("postgres -V",function(D,U){if(!D){let N=U.toString().split(`
`)[0].split(" ")||[];I.versions.postgresql=N.length?N[N.length-1]:""}else AB("pg_config --version",function(N,Z){if(!N){let X=Z.toString().split(`
`)[0].split(" ")||[];I.versions.postgresql=X.length?X[X.length-1]:""}});G()});if({}.hasOwnProperty.call(I.versions,"perl"))AB("perl -v",function(D,U){if(!D){let N=U.toString().split(`
`)||"";while(N.length>0&&N[0].trim()==="")N.shift();if(N.length>0)I.versions.perl=N[0].split("(").pop().split(")")[0].replace("v","")}G()});if({}.hasOwnProperty.call(I.versions,"python"))if(lZ)try{let U=gv("sw_vers").toString().split(`
`),N=oQ.getValue(U,"ProductVersion",":"),Z=cZ.existsSync("/usr/local/Cellar/python"),X=cZ.existsSync("/opt/homebrew/bin/python");if(oQ.darwinXcodeExists()&&oQ.semverCompare("12.0.1",N)<0||Z||X)AB(Z?"/usr/local/Cellar/python -V 2>&1":X?"/opt/homebrew/bin/python -V 2>&1":"python -V 2>&1",function(K,V){if(!K){let M=V.toString().split(`
`)[0]||"";I.versions.python=M.toLowerCase().replace("python","").trim()}G()});else G()}catch(D){G()}else AB("python -V 2>&1",function(D,U){if(!D){let N=U.toString().split(`
`)[0]||"";I.versions.python=N.toLowerCase().replace("python","").trim()}G()});if({}.hasOwnProperty.call(I.versions,"python3"))if(lZ){let D=cZ.existsSync("/usr/local/Cellar/python3")||cZ.existsSync("/opt/homebrew/bin/python3");if(oQ.darwinXcodeExists()||D)AB("python3 -V 2>&1",function(U,N){if(!U){let Z=N.toString().split(`
`)[0]||"";I.versions.python3=Z.toLowerCase().replace("python","").trim()}G()});else G()}else AB("python3 -V 2>&1",function(D,U){if(!D){let N=U.toString().split(`
`)[0]||"";I.versions.python3=N.toLowerCase().replace("python","").trim()}G()});if({}.hasOwnProperty.call(I.versions,"pip"))if(lZ){let D=cZ.existsSync("/usr/local/Cellar/pip")||cZ.existsSync("/opt/homebrew/bin/pip");if(oQ.darwinXcodeExists()||D)AB("pip -V 2>&1",function(U,N){if(!U){let X=(N.toString().split(`
`)[0]||"").split(" ");I.versions.pip=X.length>=2?X[1]:""}G()});else G()}else AB("pip -V 2>&1",function(D,U){if(!D){let Z=(U.toString().split(`
`)[0]||"").split(" ");I.versions.pip=Z.length>=2?Z[1]:""}G()});if({}.hasOwnProperty.call(I.versions,"pip3"))if(lZ){let D=cZ.existsSync("/usr/local/Cellar/pip3")||cZ.existsSync("/opt/homebrew/bin/pip3");if(oQ.darwinXcodeExists()||D)AB("pip3 -V 2>&1",function(U,N){if(!U){let X=(N.toString().split(`
`)[0]||"").split(" ");I.versions.pip3=X.length>=2?X[1]:""}G()});else G()}else AB("pip3 -V 2>&1",function(D,U){if(!D){let Z=(U.toString().split(`
`)[0]||"").split(" ");I.versions.pip3=Z.length>=2?Z[1]:""}G()});if({}.hasOwnProperty.call(I.versions,"java"))if(lZ)AB("/usr/libexec/java_home -V 2>&1",function(D,U){if(!D&&U.toString().toLowerCase().indexOf("no java runtime")===-1)AB("java -version 2>&1",function(N,Z){if(!N){let W=(Z.toString().split(`
`)[0]||"").split('"');I.versions.java=W.length===3?W[1].trim():""}G()});else G()});else AB("java -version 2>&1",function(D,U){if(!D){let Z=(U.toString().split(`
`)[0]||"").split('"');I.versions.java=Z.length===3?Z[1].trim():""}G()});if({}.hasOwnProperty.call(I.versions,"gcc"))if(lZ&&oQ.darwinXcodeExists()||!lZ)AB("gcc -dumpversion",function(D,U){if(!D)I.versions.gcc=U.toString().split(`
`)[0].trim()||"";if(I.versions.gcc.indexOf(".")>-1)G();else AB("gcc --version",function(N,Z){if(!N){let X=Z.toString().split(`
`)[0].trim();if(X.indexOf("gcc")>-1&&X.indexOf(")")>-1){let W=X.split(")");I.versions.gcc=W[1].trim()||I.versions.gcc}}G()})});else G();if({}.hasOwnProperty.call(I.versions,"virtualbox"))AB(oQ.getVboxmanage()+" -v 2>&1",function(D,U){if(!D){let Z=(U.toString().split(`
`)[0]||"").split("r");I.versions.virtualbox=Z[0]}G()});if({}.hasOwnProperty.call(I.versions,"bash"))AB("bash --version",function(D,U){if(!D){let Z=U.toString().split(`
`)[0].split(" version ");if(Z.length>1)I.versions.bash=Z[1].split(" ")[0].split("(")[0]}G()});if({}.hasOwnProperty.call(I.versions,"zsh"))AB("zsh --version",function(D,U){if(!D){let Z=U.toString().split(`
`)[0].split("zsh ");if(Z.length>1)I.versions.zsh=Z[1].split(" ")[0]}G()});if({}.hasOwnProperty.call(I.versions,"fish"))AB("fish --version",function(D,U){if(!D){let Z=U.toString().split(`
`)[0].split(" version ");if(Z.length>1)I.versions.fish=Z[1].split(" ")[0]}G()});if({}.hasOwnProperty.call(I.versions,"bun"))AB("bun -v",function(D,U){if(!D){let N=U.toString().split(`
`)[0].trim();I.versions.bun=N}G()});if({}.hasOwnProperty.call(I.versions,"deno"))AB("deno -v",function(D,U){if(!D){let Z=U.toString().split(`
`)[0].trim().split(" ");if(Z.length>1)I.versions.deno=Z[1]}G()});if({}.hasOwnProperty.call(I.versions,"node"))AB("node -v",function(D,U){if(!D){let N=U.toString().split(`
`)[0].trim();if(N.startsWith("v"))N=N.slice(1);I.versions.node=N}G()});if({}.hasOwnProperty.call(I.versions,"powershell"))if(iZ)oQ.powerShell("$PSVersionTable").then((D)=>{let U=D.toString().toLowerCase().split(`
`).map((N)=>N.replace(/ +/g," ").replace(/ +/g,":"));I.versions.powershell=oQ.getValue(U,"psversion"),G()});else G();if({}.hasOwnProperty.call(I.versions,"dotnet"))if(iZ)oQ.powerShell('gci "HKLM:\\SOFTWARE\\Microsoft\\NET Framework Setup\\NDP" -recurse | gp -name Version,Release -EA 0 | where { $_.PSChildName -match "^(?!S)\\p{L}"} | select PSChildName, Version, Release').then((D)=>{let U=D.toString().split(`\r
`),N="";U.forEach((Z)=>{Z=Z.replace(/ +/g," ");let X=Z.split(" ");N=N||(X[0].toLowerCase().startsWith("client")&&X.length>2?X[1].trim():X[0].toLowerCase().startsWith("full")&&X.length>2?X[1].trim():"")}),I.versions.dotnet=N.trim(),G()});else G()}catch(D){if(Q)Q(I.versions);E(I.versions)}})})}gIB.versions=jIB;function xIB(A){return new Promise((Q)=>{process.nextTick(()=>{if(iZ)try{oQ.powerShell(`Get-CimInstance -className win32_process | where-object {$_.ProcessId -eq ${process.ppid} } | select Name`).then((C)=>{let E="CMD";if(C){if(C.toString().toLowerCase().indexOf("powershell")>=0)E="PowerShell"}if(A)A(E);Q(E)})}catch{if(A)A(result);Q(result)}else{let B="";AB("echo $SHELL",function(C,E){if(!C)B=E.toString().split(`
`)[0];if(A)A(B);Q(B)})}})})}gIB.shell=xIB;function SIB(){let A=[];try{let Q=nZ.networkInterfaces();for(let B in Q)if({}.hasOwnProperty.call(Q,B))Q[B].forEach(function(C){if(C&&C.mac&&C.mac!=="00:00:00:00:00:00"){let E=C.mac.toLowerCase();if(A.indexOf(E)===-1)A.push(E)}});A=A.sort(function(B,C){if(B<C)return-1;if(B>C)return 1;return 0})}catch(Q){A.push("00:00:00:00:00:00")}return A}function q4Q(A){return new Promise((Q)=>{process.nextTick(()=>{let B={os:"",hardware:"",macs:SIB()},C;if(lZ)AB("system_profiler SPHardwareDataType -json",function(E,I){if(!E)try{let Y=JSON.parse(I.toString());if(Y.SPHardwareDataType&&Y.SPHardwareDataType.length>0){let G=Y.SPHardwareDataType[0];B.os=G.platform_UUID.toLowerCase(),B.hardware=G.serial_number}}catch(Y){oQ.noop()}if(A)A(B);Q(B)});if(wR)AB(`echo -n "os: "; cat /var/lib/dbus/machine-id 2> /dev/null ||
cat /etc/machine-id 2> /dev/null; echo;
echo -n "hardware: "; cat /sys/class/dmi/id/product_uuid 2> /dev/null; echo;`,function(I,Y){let G=Y.toString().split(`
`);if(B.os=oQ.getValue(G,"os").toLowerCase(),B.hardware=oQ.getValue(G,"hardware").toLowerCase(),!B.hardware){let J=cZ.readFileSync("/proc/cpuinfo",{encoding:"utf8"}).toString().split(`
`),D=oQ.getValue(J,"serial");B.hardware=D||""}if(A)A(B);Q(B)});if(BHA||CHA||EHA)AB("sysctl -i kern.hostid kern.hostuuid",function(E,I){let Y=I.toString().split(`
`);if(B.os=oQ.getValue(Y,"kern.hostid",":").toLowerCase(),B.hardware=oQ.getValue(Y,"kern.hostuuid",":").toLowerCase(),B.os.indexOf("unknown")>=0)B.os="";if(B.hardware.indexOf("unknown")>=0)B.hardware="";if(A)A(B);Q(B)});if(iZ){let E="%windir%\\System32";if(process.arch==="ia32"&&Object.prototype.hasOwnProperty.call(process.env,"PROCESSOR_ARCHITEW6432"))E="%windir%\\sysnative\\cmd.exe /c %windir%\\System32";oQ.powerShell("Get-CimInstance Win32_ComputerSystemProduct | select UUID | fl").then((I)=>{let Y=I.split(`\r
`);B.hardware=oQ.getValue(Y,"uuid",":").toLowerCase(),AB(`${E}\\reg query "HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography" /v MachineGuid`,oQ.execOptsWin,function(G,J){if(C=J.toString().split(`
\r`)[0].split("REG_SZ"),B.os=C.length>1?C[1].replace(/\r+|\n+|\s+/ig,"").toLowerCase():"",A)A(B);Q(B)})})}})})}gIB.uuid=q4Q});var v4Q=m((oIB)=>{var x9=a("os"),e2=a("child_process").exec,Bs=a("child_process").execSync,Qs=a("fs"),nA=aY(),tW=process.platform,OR=tW==="linux"||tW==="android",Cs=tW==="darwin",Es=tW==="win32",Is=tW==="freebsd",Ys=tW==="openbsd",Gs=tW==="netbsd",Js=tW==="sunos",LR=0,g0={user:0,nice:0,system:0,idle:0,irq:0,steal:0,guest:0,load:0,tick:0,ms:0,currentLoad:0,currentLoadUser:0,currentLoadSystem:0,currentLoadNice:0,currentLoadIdle:0,currentLoadIrq:0,currentLoadSteal:0,currentLoadGuest:0,rawCurrentLoad:0,rawCurrentLoadUser:0,rawCurrentLoadSystem:0,rawCurrentLoadNice:0,rawCurrentLoadIdle:0,rawCurrentLoadIrq:0,rawCurrentLoadSteal:0,rawCurrentLoadGuest:0},_A=[],IHA=0,YHA={"8346":"1.8","8347":"1.9","8350":"2.0","8354":"2.2","8356|SE":"2.4","8356":"2.3","8360":"2.5","2372":"2.1","2373":"2.1","2374":"2.2","2376":"2.3","2377":"2.3","2378":"2.4","2379":"2.4","2380":"2.5","2381":"2.5","2382":"2.6","2384":"2.7","2386":"2.8","2387":"2.8","2389":"2.9","2393":"3.1","8374":"2.2","8376":"2.3","8378":"2.4","8379":"2.4","8380":"2.5","8381":"2.5","8382":"2.6","8384":"2.7","8386":"2.8","8387":"2.8","8389":"2.9","8393":"3.1","2419EE":"1.8","2423HE":"2.0","2425HE":"2.1","2427":"2.2","2431":"2.4","2435":"2.6","2439SE":"2.8","8425HE":"2.1","8431":"2.4","8435":"2.6","8439SE":"2.8","4122":"2.2","4130":"2.6","4162EE":"1.7","4164EE":"1.8","4170HE":"2.1","4174HE":"2.3","4176HE":"2.4","4180":"2.6","4184":"2.8","6124HE":"1.8","6128HE":"2.0","6132HE":"2.2","6128":"2.0","6134":"2.3","6136":"2.4","6140":"2.6","6164HE":"1.7","6166HE":"1.8","6168":"1.9","6172":"2.1","6174":"2.2","6176":"2.3","6176SE":"2.3","6180SE":"2.5","3250":"2.5","3260":"2.7","3280":"2.4","4226":"2.7","4228":"2.8","4230":"2.9","4234":"3.1","4238":"3.3","4240":"3.4","4256":"1.6","4274":"2.5","4276":"2.6","4280":"2.8","4284":"3.0","6204":"3.3","6212":"2.6","6220":"3.0","6234":"2.4","6238":"2.6","6262HE":"1.6","6272":"2.1","6274":"2.2","6276":"2.3","6278":"2.4","6282SE":"2.6","6284SE":"2.7","6308":"3.5","6320":"2.8","6328":"3.2","6338P":"2.3","6344":"2.6","6348":"2.8","6366":"1.8","6370P":"2.0","6376":"2.3","6378":"2.4","6380":"2.5","6386":"2.8","FX|4100":"3.6","FX|4120":"3.9","FX|4130":"3.8","FX|4150":"3.8","FX|4170":"4.2","FX|6100":"3.3","FX|6120":"3.6","FX|6130":"3.6","FX|6200":"3.8","FX|8100":"2.8","FX|8120":"3.1","FX|8140":"3.2","FX|8150":"3.6","FX|8170":"3.9","FX|4300":"3.8","FX|4320":"4.0","FX|4350":"4.2","FX|6300":"3.5","FX|6350":"3.9","FX|8300":"3.3","FX|8310":"3.4","FX|8320":"3.5","FX|8350":"4.0","FX|8370":"4.0","FX|9370":"4.4","FX|9590":"4.7","FX|8320E":"3.2","FX|8370E":"3.3","1200":"3.1","Pro 1200":"3.1","1300X":"3.5","Pro 1300":"3.5","1400":"3.2","1500X":"3.5","Pro 1500":"3.5","1600":"3.2","1600X":"3.6","Pro 1600":"3.2","1700":"3.0","Pro 1700":"3.0","1700X":"3.4","Pro 1700X":"3.4","1800X":"3.6","1900X":"3.8","1920":"3.2","1920X":"3.5","1950X":"3.4","200GE":"3.2","Pro 200GE":"3.2","220GE":"3.4","240GE":"3.5","3000G":"3.5","300GE":"3.4","3050GE":"3.4","2200G":"3.5","Pro 2200G":"3.5","2200GE":"3.2","Pro 2200GE":"3.2","2400G":"3.6","Pro 2400G":"3.6","2400GE":"3.2","Pro 2400GE":"3.2","Pro 200U":"2.3","300U":"2.4","2200U":"2.5","3200U":"2.6","2300U":"2.0","Pro 2300U":"2.0","2500U":"2.0","Pro 2500U":"2.2","2600H":"3.2","2700U":"2.0","Pro 2700U":"2.2","2800H":"3.3","7351":"2.4","7351P":"2.4","7401":"2.0","7401P":"2.0","7551P":"2.0","7551":"2.0","7251":"2.1","7261":"2.5","7281":"2.1","7301":"2.2","7371":"3.1","7451":"2.3","7501":"2.0","7571":"2.2","7601":"2.2",V1500B:"2.2",V1780B:"3.35",V1202B:"2.3",V1404I:"2.0",V1605B:"2.0",V1756B:"3.25",V1807B:"3.35","3101":"2.1","3151":"2.7","3201":"1.5","3251":"2.5","3255":"2.5","3301":"2.0","3351":"1.9","3401":"1.85","3451":"2.15","1200|AF":"3.1","2300X":"3.5","2500X":"3.6","2600":"3.4","2600E":"3.1","1600|AF":"3.2","2600X":"3.6","2700":"3.2","2700E":"2.8","Pro 2700":"3.2","2700X":"3.7","Pro 2700X":"3.6","2920X":"3.5","2950X":"3.5","2970WX":"3.0","2990WX":"3.0","Pro 300GE":"3.4","Pro 3125GE":"3.4","3150G":"3.5","Pro 3150G":"3.5","3150GE":"3.3","Pro 3150GE":"3.3","3200G":"3.6","Pro 3200G":"3.6","3200GE":"3.3","Pro 3200GE":"3.3","3350G":"3.6","Pro 3350G":"3.6","3350GE":"3.3","Pro 3350GE":"3.3","3400G":"3.7","Pro 3400G":"3.7","3400GE":"3.3","Pro 3400GE":"3.3","3300U":"2.1","PRO 3300U":"2.1","3450U":"2.1","3500U":"2.1","PRO 3500U":"2.1","3500C":"2.1","3550H":"2.1","3580U":"2.1","3700U":"2.3","PRO 3700U":"2.3","3700C":"2.3","3750H":"2.3","3780U":"2.3","3100":"3.6","3300X":"3.8","3500":"3.6","3500X":"3.6","3600":"3.6","Pro 3600":"3.6","3600X":"3.8","3600XT":"3.8","Pro 3700":"3.6","3700X":"3.6","3800X":"3.9","3800XT":"3.9","3900":"3.1","Pro 3900":"3.1","3900X":"3.8","3900XT":"3.8","3950X":"3.5","3960X":"3.8","3970X":"3.7","3990X":"2.9","3945WX":"4.0","3955WX":"3.9","3975WX":"3.5","3995WX":"2.7","4300GE":"3.5","Pro 4300GE":"3.5","4300G":"3.8","Pro 4300G":"3.8","4600GE":"3.3","Pro 4650GE":"3.3","4600G":"3.7","Pro 4650G":"3.7","4700GE":"3.1","Pro 4750GE":"3.1","4700G":"3.6","Pro 4750G":"3.6","4300U":"2.7","4450U":"2.5","Pro 4450U":"2.5","4500U":"2.3","4600U":"2.1","PRO 4650U":"2.1","4680U":"2.1","4600HS":"3.0","4600H":"3.0","4700U":"2.0","PRO 4750U":"1.7","4800U":"1.8","4800HS":"2.9","4800H":"2.9","4900HS":"3.0","4900H":"3.3","5300U":"2.6","5500U":"2.1","5700U":"1.8","7232P":"3.1","7302P":"3.0","7402P":"2.8","7502P":"2.5","7702P":"2.0","7252":"3.1","7262":"3.2","7272":"2.9","7282":"2.8","7302":"3.0","7352":"2.3","7402":"2.8","7452":"2.35","7502":"2.5","7532":"2.4","7542":"2.9","7552":"2.2","7642":"2.3","7662":"2.0","7702":"2.0","7742":"2.25","7H12":"2.6","7F32":"3.7","7F52":"3.5","7F72":"3.2","7773X":"2.2","7763":"2.45","7713":"2.0","7713P":"2.0","7663":"2.0","7643":"2.3","7573X":"2.8","75F3":"2.95","7543":"2.8","7543P":"2.8","7513":"2.6","7473X":"2.8","7453":"2.75","74F3":"3.2","7443":"2.85","7443P":"2.85","7413":"2.65","7373X":"3.05","73F3":"3.5","7343":"3.2","7313":"3.0","7313P":"3.0","72F3":"3.7","5600X":"3.7","5800X":"3.8","5900X":"3.7","5950X":"3.4","5945WX":"4.1","5955WX":"4.0","5965WX":"3.8","5975WX":"3.6","5995WX":"2.7","7960X":"4.2","7970X":"4.0","7980X":"3.2","7965WX":"4.2","7975WX":"4.0","7985WX":"3.2","7995WX":"2.5","9754":"2.25","9754S":"2.25","9734":"2.2","9684X":"2.55","9384X":"3.1","9184X":"3.55","9654P":"2.4","9654":"2.4","9634":"2.25","9554P":"3.1","9554":"3.1","9534":"2.45","9474F":"3.6","9454P":"2.75","9454":"2.75","9374F":"3.85","9354P":"3.25","9354":"3.25","9334":"2.7","9274F":"4.05","9254":"2.9","9224":"2.5","9174F":"4.1","9124":"3.0"},_4Q={1:"Other",2:"Unknown",3:"Daughter Board",4:"ZIF Socket",5:"Replacement/Piggy Back",6:"None",7:"LIF Socket",8:"Slot 1",9:"Slot 2",10:"370 Pin Socket",11:"Slot A",12:"Slot M",13:"423",14:"A (Socket 462)",15:"478",16:"754",17:"940",18:"939",19:"mPGA604",20:"LGA771",21:"LGA775",22:"S1",23:"AM2",24:"F (1207)",25:"LGA1366",26:"G34",27:"AM3",28:"C32",29:"LGA1156",30:"LGA1567",31:"PGA988A",32:"BGA1288",33:"rPGA988B",34:"BGA1023",35:"BGA1224",36:"LGA1155",37:"LGA1356",38:"LGA2011",39:"FS1",40:"FS2",41:"FM1",42:"FM2",43:"LGA2011-3",44:"LGA1356-3",45:"LGA1150",46:"BGA1168",47:"BGA1234",48:"BGA1364",49:"AM4",50:"LGA1151",51:"BGA1356",52:"BGA1440",53:"BGA1515",54:"LGA3647-1",55:"SP3",56:"SP3r2",57:"LGA2066",58:"BGA1392",59:"BGA1510",60:"BGA1528",61:"LGA4189",62:"LGA1200",63:"LGA4677",64:"LGA1700",65:"BGA1744",66:"BGA1781",67:"BGA1211",68:"BGA2422",69:"LGA1211",70:"LGA2422",71:"LGA5773",72:"BGA5773"},j4Q={LGA1150:"i7-5775C i3-4340 i3-4170 G3250 i3-4160T i3-4160 E3-1231 G3258 G3240 i7-4790S i7-4790K i7-4790 i5-4690K i5-4690 i5-4590T i5-4590S i5-4590 i5-4460 i3-4360 i3-4150 G1820 G3420 G3220 i7-4771 i5-4440 i3-4330 i3-4130T i3-4130 E3-1230 i7-4770S i7-4770K i7-4770 i5-4670K i5-4670 i5-4570T i5-4570S i5-4570 i5-4430",LGA1151:"i9-9900KS E-2288G E-2224 G5420 i9-9900T i9-9900 i7-9700T i7-9700F i7-9700E i7-9700 i5-9600 i5-9500T i5-9500F i5-9500 i5-9400T i3-9350K i3-9300 i3-9100T i3-9100F i3-9100 G4930 i9-9900KF i7-9700KF i5-9600KF i5-9400F i5-9400 i3-9350KF i9-9900K i7-9700K i5-9600K G5500 G5400 i7-8700T i7-8086K i5-8600 i5-8500T i5-8500 i5-8400T i3-8300 i3-8100T G4900 i7-8700K i7-8700 i5-8600K i5-8400 i3-8350K i3-8100 E3-1270 G4600 G4560 i7-7700T i7-7700K i7-7700 i5-7600K i5-7600 i5-7500T i5-7500 i5-7400 i3-7350K i3-7300 i3-7100T i3-7100 G3930 G3900 G4400 i7-6700T i7-6700K i7-6700 i5-6600K i5-6600 i5-6500T i5-6500 i5-6400T i5-6400 i3-6300 i3-6100T i3-6100 E3-1270 E3-1270 T4500 T4400","1155":"G440 G460 G465 G470 G530T G540T G550T G1610T G1620T G530 G540 G1610 G550 G1620 G555 G1630 i3-2100T i3-2120T i3-3220T i3-3240T i3-3250T i3-2100 i3-2105 i3-2102 i3-3210 i3-3220 i3-2125 i3-2120 i3-3225 i3-2130 i3-3245 i3-3240 i3-3250 i5-3570T i5-2500T i5-2400S i5-2405S i5-2390T i5-3330S i5-2500S i5-3335S i5-2300 i5-3450S i5-3340S i5-3470S i5-3475S i5-3470T i5-2310 i5-3550S i5-2320 i5-3330 i5-3350P i5-3450 i5-2400 i5-3340 i5-3570S i5-2380P i5-2450P i5-3470 i5-2500K i5-3550 i5-2500 i5-3570 i5-3570K i5-2550K i7-3770T i7-2600S i7-3770S i7-2600K i7-2600 i7-3770 i7-3770K i7-2700K G620T G630T G640T G2020T G645T G2100T G2030T G622 G860T G620 G632 G2120T G630 G640 G2010 G840 G2020 G850 G645 G2030 G860 G2120 G870 G2130 G2140 E3-1220L E3-1220L E3-1260L E3-1265L E3-1220 E3-1225 E3-1220 E3-1235 E3-1225 E3-1230 E3-1230 E3-1240 E3-1245 E3-1270 E3-1275 E3-1240 E3-1245 E3-1270 E3-1280 E3-1275 E3-1290 E3-1280 E3-1290"};function mIB(A){let Q="";for(let B in j4Q)j4Q[B].split(" ").forEach((E)=>{if(A.indexOf(E)>=0)Q=B});return Q}function As(A){let Q=A;if(A=A.toLowerCase(),A.indexOf("intel")>=0)Q="Intel";if(A.indexOf("amd")>=0)Q="AMD";if(A.indexOf("qemu")>=0)Q="QEMU";if(A.indexOf("hygon")>=0)Q="Hygon";if(A.indexOf("centaur")>=0)Q="WinChip/Via";if(A.indexOf("vmware")>=0)Q="VMware";if(A.indexOf("Xen")>=0)Q="Xen Hypervisor";if(A.indexOf("tcg")>=0)Q="QEMU";if(A.indexOf("apple")>=0)Q="Apple";if(A.indexOf("sifive")>=0)Q="SiFive";if(A.indexOf("thead")>=0)Q="T-Head";if(A.indexOf("andestech")>=0)Q="Andes Technology";return Q}function ea(A){A.brand=A.brand.replace(/\(R\)+/g,"®").replace(/\s+/g," ").trim(),A.brand=A.brand.replace(/\(TM\)+/g,"™").replace(/\s+/g," ").trim(),A.brand=A.brand.replace(/\(C\)+/g,"©").replace(/\s+/g," ").trim(),A.brand=A.brand.replace(/CPU+/g,"").replace(/\s+/g," ").trim(),A.manufacturer=As(A.brand);let Q=A.brand.split(" ");return Q.shift(),A.brand=Q.join(" "),A}function GHA(A){let Q="0";for(let B in YHA)if({}.hasOwnProperty.call(YHA,B)){let C=B.split("|"),E=0;if(C.forEach((I)=>{if(A.indexOf(I)>-1)E++}),E===C.length)Q=YHA[B]}return parseFloat(Q)}function fIB(){return new Promise((A)=>{process.nextTick(()=>{let B={manufacturer:"unknown",brand:"unknown",vendor:"",family:"",model:"",stepping:"",revision:"",voltage:"",speed:0,speedMin:0,speedMax:0,governor:"",cores:nA.cores(),physicalCores:nA.cores(),performanceCores:nA.cores(),efficiencyCores:0,processors:1,socket:"",flags:"",virtualization:!1,cache:{}};x4Q().then((C)=>{if(B.flags=C,B.virtualization=C.indexOf("vmx")>-1||C.indexOf("svm")>-1,Cs)e2("sysctl machdep.cpu hw.cpufrequency_max hw.cpufrequency_min hw.packages hw.physicalcpu_max hw.ncpu hw.tbfrequency hw.cpufamily hw.cpusubfamily",function(E,I){let Y=I.toString().split(`
`),J=nA.getValue(Y,"machdep.cpu.brand_string").split("@");B.brand=J[0].trim();let D=J[1]?J[1].trim():"0";B.speed=parseFloat(D.replace(/GHz+/g,""));let U=nA.getValue(Y,"hw.tbfrequency")/1e9;U=U<0.1?U*100:U,B.speed=B.speed===0?U:B.speed,LR=B.speed,B=ea(B),B.speedMin=nA.getValue(Y,"hw.cpufrequency_min")?nA.getValue(Y,"hw.cpufrequency_min")/1e9:B.speed,B.speedMax=nA.getValue(Y,"hw.cpufrequency_max")?nA.getValue(Y,"hw.cpufrequency_max")/1e9:B.speed,B.vendor=nA.getValue(Y,"machdep.cpu.vendor")||"Apple",B.family=nA.getValue(Y,"machdep.cpu.family")||nA.getValue(Y,"hw.cpufamily"),B.model=nA.getValue(Y,"machdep.cpu.model"),B.stepping=nA.getValue(Y,"machdep.cpu.stepping")||nA.getValue(Y,"hw.cpusubfamily"),B.virtualization=!0;let N=nA.getValue(Y,"hw.packages"),Z=nA.getValue(Y,"hw.physicalcpu_max"),X=nA.getValue(Y,"hw.ncpu");if(x9.arch()==="arm64"){B.socket="SOC";try{let W=Bs("ioreg -c IOPlatformDevice -d 3 -r | grep cluster-type").toString().split(`
`),K=W.filter((M)=>M.indexOf('"E"')>=0).length,V=W.filter((M)=>M.indexOf('"P"')>=0).length;B.efficiencyCores=K,B.performanceCores=V}catch(W){nA.noop()}}if(N)B.processors=parseInt(N)||1;if(Z&&X)B.cores=parseInt(X)||nA.cores(),B.physicalCores=parseInt(Z)||nA.cores();S4Q().then((W)=>{B.cache=W,A(B)})});if(OR){let E="",I=[];if(x9.cpus()[0]&&x9.cpus()[0].model)E=x9.cpus()[0].model;e2('export LC_ALL=C; lscpu; echo -n "Governor: "; cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor 2>/dev/null; echo; unset LC_ALL',function(Y,G){if(!Y)I=G.toString().split(`
`);E=nA.getValue(I,"model name")||E,E=nA.getValue(I,"bios model name")||E,E=nA.cleanString(E);let J=E.split("@");if(B.brand=J[0].trim(),B.speed=J[1]?parseFloat(J[1].trim()):0,B.speed===0&&(B.brand.indexOf("AMD")>-1||B.brand.toLowerCase().indexOf("ryzen")>-1))B.speed=GHA(B.brand);if(B.speed===0){let K=JHA();if(K.avg!==0)B.speed=K.avg}if(LR=B.speed,B.speedMin=Math.round(parseFloat(nA.getValue(I,"cpu min mhz").replace(/,/g,"."))/10)/100,B.speedMax=Math.round(parseFloat(nA.getValue(I,"cpu max mhz").replace(/,/g,"."))/10)/100,B=ea(B),B.vendor=As(nA.getValue(I,"vendor id")),B.family=nA.getValue(I,"cpu family"),B.model=nA.getValue(I,"model:"),B.stepping=nA.getValue(I,"stepping"),B.revision=nA.getValue(I,"cpu revision"),B.cache.l1d=nA.getValue(I,"l1d cache"),B.cache.l1d)B.cache.l1d=parseInt(B.cache.l1d)*(B.cache.l1d.indexOf("M")!==-1?1048576:B.cache.l1d.indexOf("K")!==-1?1024:1);if(B.cache.l1i=nA.getValue(I,"l1i cache"),B.cache.l1i)B.cache.l1i=parseInt(B.cache.l1i)*(B.cache.l1i.indexOf("M")!==-1?1048576:B.cache.l1i.indexOf("K")!==-1?1024:1);if(B.cache.l2=nA.getValue(I,"l2 cache"),B.cache.l2)B.cache.l2=parseInt(B.cache.l2)*(B.cache.l2.indexOf("M")!==-1?1048576:B.cache.l2.indexOf("K")!==-1?1024:1);if(B.cache.l3=nA.getValue(I,"l3 cache"),B.cache.l3)B.cache.l3=parseInt(B.cache.l3)*(B.cache.l3.indexOf("M")!==-1?1048576:B.cache.l3.indexOf("K")!==-1?1024:1);let D=nA.getValue(I,"thread(s) per core")||"1",U=nA.getValue(I,"socket(s)")||"1",N=parseInt(D,10),Z=parseInt(U,10)||1,X=parseInt(nA.getValue(I,"core(s) per socket"),10);if(B.physicalCores=X?X*Z:B.cores/N,B.performanceCores=N>1?B.cores-B.physicalCores:B.cores,B.efficiencyCores=N>1?B.cores-N*B.performanceCores:0,B.processors=Z,B.governor=nA.getValue(I,"governor")||"",B.vendor==="ARM"&&nA.isRaspberry()){let K=nA.decodePiCpuinfo();B.family=B.manufacturer,B.manufacturer=K.manufacturer,B.brand=K.processor,B.revision=K.revisionCode,B.socket="SOC"}if(nA.getValue(I,"architecture")==="riscv64"){let K=Qs.readFileSync("/proc/cpuinfo").toString().split(`
`),V=nA.getValue(K,"uarch")||"";if(V.indexOf(",")>-1){let M=V.split(",");B.manufacturer=As(M[0]),B.brand=M[1]}}let W=[];e2('export LC_ALL=C; dmidecode –t 4 2>/dev/null | grep "Upgrade: Socket"; unset LC_ALL',function(K,V){if(W=V.toString().split(`
`),W&&W.length)B.socket=nA.getValue(W,"Upgrade").replace("Socket","").trim()||B.socket;A(B)})})}if(Is||Ys||Gs){let E="",I=[];if(x9.cpus()[0]&&x9.cpus()[0].model)E=x9.cpus()[0].model;e2("export LC_ALL=C; dmidecode -t 4; dmidecode -t 7 unset LC_ALL",function(Y,G){let J=[];if(!Y){let X=G.toString().split("# dmidecode"),W=X.length>1?X[1]:"";J=X.length>2?X[2].split("Cache Information"):[],I=W.split(`
`)}if(B.brand=E.split("@")[0].trim(),B.speed=E.split("@")[1]?parseFloat(E.split("@")[1].trim()):0,B.speed===0&&(B.brand.indexOf("AMD")>-1||B.brand.toLowerCase().indexOf("ryzen")>-1))B.speed=GHA(B.brand);if(B.speed===0){let X=JHA();if(X.avg!==0)B.speed=X.avg}LR=B.speed,B.speedMin=B.speed,B.speedMax=Math.round(parseFloat(nA.getValue(I,"max speed").replace(/Mhz/g,""))/10)/100,B=ea(B),B.vendor=As(nA.getValue(I,"manufacturer"));let D=nA.getValue(I,"signature");D=D.split(",");for(let X=0;X<D.length;X++)D[X]=D[X].trim();B.family=nA.getValue(D,"Family"," ",!0),B.model=nA.getValue(D,"Model"," ",!0),B.stepping=nA.getValue(D,"Stepping"," ",!0),B.revision="";let U=parseFloat(nA.getValue(I,"voltage"));B.voltage=isNaN(U)?"":U.toFixed(2);for(let X=0;X<J.length;X++){I=J[X].split(`
`);let W=nA.getValue(I,"Socket Designation").toLowerCase().replace(" ","-").split("-");W=W.length?W[0]:"";let K=nA.getValue(I,"Installed Size").split(" "),V=parseInt(K[0],10),M=K.length>1?K[1]:"kb";if(V=V*(M==="kb"?1024:M==="mb"?1048576:M==="gb"?1073741824:1),W)if(W==="l1")B.cache[W+"d"]=V/2,B.cache[W+"i"]=V/2;else B.cache[W]=V}B.socket=nA.getValue(I,"Upgrade").replace("Socket","").trim();let N=nA.getValue(I,"thread count").trim(),Z=nA.getValue(I,"core count").trim();if(Z&&N)B.cores=parseInt(N,10),B.physicalCores=parseInt(Z,10);A(B)})}if(Js)A(B);if(Es)try{let E=[];E.push(nA.powerShell("Get-CimInstance Win32_processor | select Name, Revision, L2CacheSize, L3CacheSize, Manufacturer, MaxClockSpeed, Description, UpgradeMethod, Caption, NumberOfLogicalProcessors, NumberOfCores | fl")),E.push(nA.powerShell("Get-CimInstance Win32_CacheMemory | select CacheType,InstalledSize,Level | fl")),E.push(nA.powerShell("(Get-CimInstance Win32_ComputerSystem).HypervisorPresent")),Promise.all(E).then((I)=>{let Y=I[0].split(`\r
`),G=nA.getValue(Y,"name",":")||"";if(G.indexOf("@")>=0)B.brand=G.split("@")[0].trim(),B.speed=G.split("@")[1]?parseFloat(G.split("@")[1].trim()):0,LR=B.speed;else B.brand=G.trim(),B.speed=0;if(B=ea(B),B.revision=nA.getValue(Y,"revision",":"),B.vendor=nA.getValue(Y,"manufacturer",":"),B.speedMax=Math.round(parseFloat(nA.getValue(Y,"maxclockspeed",":").replace(/,/g,"."))/10)/100,B.speed===0&&(B.brand.indexOf("AMD")>-1||B.brand.toLowerCase().indexOf("ryzen")>-1))B.speed=GHA(B.brand);if(B.speed===0)B.speed=B.speedMax;B.speedMin=B.speed;let J=nA.getValue(Y,"description",":").split(" ");for(let K=0;K<J.length;K++){if(J[K].toLowerCase().startsWith("family")&&K+1<J.length&&J[K+1])B.family=J[K+1];if(J[K].toLowerCase().startsWith("model")&&K+1<J.length&&J[K+1])B.model=J[K+1];if(J[K].toLowerCase().startsWith("stepping")&&K+1<J.length&&J[K+1])B.stepping=J[K+1]}let D=nA.getValue(Y,"UpgradeMethod",":");if(_4Q[D])B.socket=_4Q[D];let U=mIB(G);if(U)B.socket=U;let N=nA.countLines(Y,"Caption"),Z=nA.getValue(Y,"NumberOfLogicalProcessors",":"),X=nA.getValue(Y,"NumberOfCores",":");if(N)B.processors=parseInt(N)||1;if(X&&Z)B.cores=parseInt(Z)||nA.cores(),B.physicalCores=parseInt(X)||nA.cores();if(N>1)B.cores=B.cores*N,B.physicalCores=B.physicalCores*N;B.cache=g4Q(I[0],I[1]);let W=I[2]?I[2].toString().toLowerCase():"";B.virtualization=W.indexOf("true")!==-1,A(B)})}catch(E){A(B)}})})})}function dIB(A){return new Promise((Q)=>{process.nextTick(()=>{fIB().then((B)=>{if(A)A(B);Q(B)})})})}oIB.cpu=dIB;function JHA(){let A=x9.cpus(),Q=999999999,B=0,C=0,E=[],I=[];if(A&&A.length&&A[0].speed)for(let Y in A)I.push(A[Y].speed>100?(A[Y].speed+1)/1000:A[Y].speed/10);else if(OR)try{let Y=Bs('cat /proc/cpuinfo | grep "cpu MHz" | cut -d " " -f 3',nA.execOptsLinux).toString().split(`
`).filter((G)=>G.length>0);for(let G in Y)I.push(Math.floor(parseInt(Y[G],10)/10)/100)}catch{nA.noop()}if(I&&I.length){for(let Y in I){if(C=C+I[Y],I[Y]>B)B=I[Y];if(I[Y]<Q)Q=I[Y];E.push(parseFloat(I[Y].toFixed(2)))}return C=C/I.length,{min:parseFloat(Q.toFixed(2)),max:parseFloat(B.toFixed(2)),avg:parseFloat(C.toFixed(2)),cores:E}}else return{min:0,max:0,avg:0,cores:E}}function uIB(A){return new Promise((Q)=>{process.nextTick(()=>{let B=JHA();if(B.avg===0&&LR!==0){let C=parseFloat(LR);B={min:C,max:C,avg:C,cores:[]}}if(A)A(B);Q(B)})})}oIB.cpuCurrentSpeed=uIB;function pIB(A){return new Promise((Q)=>{process.nextTick(()=>{let B={main:null,cores:[],max:null,socket:[],chipset:null};if(OR){try{let I=Bs('cat /sys/class/thermal/thermal_zone*/type  2>/dev/null; echo "-----"; cat /sys/class/thermal/thermal_zone*/temp 2>/dev/null;',nA.execOptsLinux).toString().split(`-----
`);if(I.length===2){let Y=I[0].split(`
`),G=I[1].split(`
`);for(let J=0;J<Y.length;J++){let D=Y[J].trim();if(D.startsWith("acpi")&&G[J])B.socket.push(Math.round(parseInt(G[J],10)/100)/10);if(D.startsWith("pch")&&G[J])B.chipset=Math.round(parseInt(G[J],10)/100)/10}}}catch(E){nA.noop()}let C='for mon in /sys/class/hwmon/hwmon*; do for label in "$mon"/temp*_label; do if [ -f $label ]; then value=${label%_*}_input; echo $(cat "$label")___$(cat "$value"); fi; done; done;';try{e2(C,function(E,I){I=I.toString();let Y=I.toLowerCase().indexOf("tdie");if(Y!==-1)I=I.substring(Y);let G=I.split(`
`),J=0;if(G.forEach((D)=>{let U=D.split("___"),N=U[0],Z=U.length>1&&U[1]?U[1]:"0";if(Z&&N&&N.toLowerCase()==="tctl")J=B.main=Math.round(parseInt(Z,10)/100)/10;if(Z&&(N===void 0||N&&N.toLowerCase().startsWith("core")))B.cores.push(Math.round(parseInt(Z,10)/100)/10);else if(Z&&N&&B.main===null&&(N.toLowerCase().indexOf("package")>=0||N.toLowerCase().indexOf("physical")>=0||N.toLowerCase()==="tccd1"))B.main=Math.round(parseInt(Z,10)/100)/10}),J&&B.main===null)B.main=J;if(B.cores.length>0){if(B.main===null)B.main=Math.round(B.cores.reduce((U,N)=>U+N,0)/B.cores.length);let D=Math.max.apply(Math,B.cores);B.max=D>B.main?D:B.main}if(B.main!==null){if(B.max===null)B.max=B.main;if(A)A(B);Q(B);return}e2("sensors",function(D,U){if(!D){let N=U.toString().split(`
`),Z=null,X=!0,W="";if(N.forEach(function(K){if(K.trim()==="")X=!0;else if(X){if(K.trim().toLowerCase().startsWith("acpi"))W="acpi";if(K.trim().toLowerCase().startsWith("pch"))W="pch";if(K.trim().toLowerCase().startsWith("core"))W="core";X=!1}let V=/[+-]([^°]*)/g,M=K.match(V),z=K.split(":")[0].toUpperCase();if(W==="acpi"){if(z.indexOf("TEMP")!==-1)B.socket.push(parseFloat(M))}else if(W==="pch"){if(z.indexOf("TEMP")!==-1&&!B.chipset)B.chipset=parseFloat(M)}if(z.indexOf("PHYSICAL")!==-1||z.indexOf("PACKAGE")!==-1)B.main=parseFloat(M);if(z.indexOf("CORE ")!==-1)B.cores.push(parseFloat(M));if(z.indexOf("TDIE")!==-1&&Z===null)Z=parseFloat(M)}),B.cores.length>0){B.main=Math.round(B.cores.reduce((V,M)=>V+M,0)/B.cores.length);let K=Math.max.apply(Math,B.cores);B.max=K>B.main?K:B.main}else if(B.main===null&&Z!==null)B.main=Z,B.max=Z;if(B.main!==null||B.max!==null){if(A)A(B);Q(B);return}}Qs.stat("/sys/class/thermal/thermal_zone0/temp",function(N){if(N===null)Qs.readFile("/sys/class/thermal/thermal_zone0/temp",function(Z,X){if(!Z){let W=X.toString().split(`
`);if(W.length>0)B.main=parseFloat(W[0])/1000,B.max=B.main}if(A)A(B);Q(B)});else e2("/opt/vc/bin/vcgencmd measure_temp",function(Z,X){if(!Z){let W=X.toString().split(`
`);if(W.length>0&&W[0].indexOf("="))B.main=parseFloat(W[0].split("=")[1]),B.max=B.main}if(A)A(B);Q(B)})})})})}catch(E){if(A)A(B);Q(B)}}if(Is||Ys||Gs)e2("sysctl dev.cpu | grep temp",function(C,E){if(!C){let I=E.toString().split(`
`),Y=0;if(I.forEach(function(G){let J=G.split(":");if(J.length>1){let D=parseFloat(J[1].replace(",","."));if(D>B.max)B.max=D;Y=Y+D,B.cores.push(D)}}),B.cores.length)B.main=Math.round(Y/B.cores.length*100)/100}if(A)A(B);Q(B)});if(Cs){let C=null;try{C=(()=>{throw new Error("Cannot require module "+"osx-temperature-sensor");})()}catch(E){C=null}if(C){if(B=C.cpuTemperature(),B.main)B.main=Math.round(B.main*100)/100;if(B.max)B.max=Math.round(B.max*100)/100;if(B.cores&&B.cores.length)for(let E=0;E<B.cores.length;E++)B.cores[E]=Math.round(B.cores[E]*100)/100}if(A)A(B);Q(B)}if(Js){if(A)A(B);Q(B)}if(Es)try{nA.powerShell('Get-CimInstance MSAcpi_ThermalZoneTemperature -Namespace "root/wmi" | Select CurrentTemperature').then((C,E)=>{if(!E){let I=0;if(C.split(`\r
`).filter((G)=>G.trim()!=="").filter((G,J)=>J>0).forEach(function(G){let J=(parseInt(G,10)-2732)/10;if(!isNaN(J)){if(I=I+J,J>B.max)B.max=J;B.cores.push(J)}}),B.cores.length)B.main=I/B.cores.length}if(A)A(B);Q(B)})}catch(C){if(A)A(B);Q(B)}})})}oIB.cpuTemperature=pIB;function x4Q(A){return new Promise((Q)=>{process.nextTick(()=>{let B="";if(Es)try{e2('reg query "HKEY_LOCAL_MACHINE\\HARDWARE\\DESCRIPTION\\System\\CentralProcessor\\0" /v FeatureSet',nA.execOptsWin,function(C,E){if(!C){let I=E.split("0x").pop().trim(),Y=parseInt(I,16).toString(2),G="0".repeat(32-Y.length)+Y,J=["fpu","vme","de","pse","tsc","msr","pae","mce","cx8","apic","","sep","mtrr","pge","mca","cmov","pat","pse-36","psn","clfsh","","ds","acpi","mmx","fxsr","sse","sse2","ss","htt","tm","ia64","pbe"];for(let D=0;D<J.length;D++)if(G[D]==="1"&&J[D]!=="")B+=" "+J[D];B=B.trim().toLowerCase()}if(A)A(B);Q(B)})}catch(C){if(A)A(B);Q(B)}if(OR)try{e2("export LC_ALL=C; lscpu; unset LC_ALL",function(C,E){if(!C)E.toString().split(`
`).forEach(function(Y){if(Y.split(":")[0].toUpperCase().indexOf("FLAGS")!==-1)B=Y.split(":")[1].trim().toLowerCase()});if(!B)Qs.readFile("/proc/cpuinfo",function(I,Y){if(!I){let G=Y.toString().split(`
`);B=nA.getValue(G,"features",":",!0).toLowerCase()}if(A)A(B);Q(B)});else{if(A)A(B);Q(B)}})}catch(C){if(A)A(B);Q(B)}if(Is||Ys||Gs)e2("export LC_ALL=C; dmidecode -t 4 2>/dev/null; unset LC_ALL",function(C,E){let I=[];if(!C){let Y=E.toString().split("\tFlags:");(Y.length>1?Y[1].split("\tVersion:")[0].split(`
`):[]).forEach(function(J){let D=(J.indexOf("(")?J.split("(")[0].toLowerCase():"").trim().replace(/\t/g,"");if(D)I.push(D)})}if(B=I.join(" ").trim().toLowerCase(),A)A(B);Q(B)});if(Cs)e2("sysctl machdep.cpu.features",function(C,E){if(!C){let I=E.toString().split(`
`);if(I.length>0&&I[0].indexOf("machdep.cpu.features:")!==-1)B=I[0].split(":")[1].trim().toLowerCase()}if(A)A(B);Q(B)});if(Js){if(A)A(B);Q(B)}})})}oIB.cpuFlags=x4Q;function S4Q(A){return new Promise((Q)=>{process.nextTick(()=>{let B={l1d:null,l1i:null,l2:null,l3:null};if(OR)try{e2("export LC_ALL=C; lscpu; unset LC_ALL",function(C,E){if(!C)E.toString().split(`
`).forEach(function(Y){let G=Y.split(":");if(G[0].toUpperCase().indexOf("L1D CACHE")!==-1)B.l1d=parseInt(G[1].trim())*(G[1].indexOf("M")!==-1?1048576:G[1].indexOf("K")!==-1?1024:1);if(G[0].toUpperCase().indexOf("L1I CACHE")!==-1)B.l1i=parseInt(G[1].trim())*(G[1].indexOf("M")!==-1?1048576:G[1].indexOf("K")!==-1?1024:1);if(G[0].toUpperCase().indexOf("L2 CACHE")!==-1)B.l2=parseInt(G[1].trim())*(G[1].indexOf("M")!==-1?1048576:G[1].indexOf("K")!==-1?1024:1);if(G[0].toUpperCase().indexOf("L3 CACHE")!==-1)B.l3=parseInt(G[1].trim())*(G[1].indexOf("M")!==-1?1048576:G[1].indexOf("K")!==-1?1024:1)});if(A)A(B);Q(B)})}catch(C){if(A)A(B);Q(B)}if(Is||Ys||Gs)e2("export LC_ALL=C; dmidecode -t 7 2>/dev/null; unset LC_ALL",function(C,E){let I=[];if(!C)I=E.toString().split("Cache Information"),I.shift();for(let Y=0;Y<I.length;Y++){let G=I[Y].split(`
`),J=nA.getValue(G,"Socket Designation").toLowerCase().replace(" ","-").split("-");J=J.length?J[0]:"";let D=nA.getValue(G,"Installed Size").split(" "),U=parseInt(D[0],10),N=D.length>1?D[1]:"kb";if(U=U*(N==="kb"?1024:N==="mb"?1048576:N==="gb"?1073741824:1),J)if(J==="l1")B.cache[J+"d"]=U/2,B.cache[J+"i"]=U/2;else B.cache[J]=U}if(A)A(B);Q(B)});if(Cs)e2("sysctl hw.l1icachesize hw.l1dcachesize hw.l2cachesize hw.l3cachesize",function(C,E){if(!C)E.toString().split(`
`).forEach(function(Y){let G=Y.split(":");if(G[0].toLowerCase().indexOf("hw.l1icachesize")!==-1)B.l1d=parseInt(G[1].trim())*(G[1].indexOf("K")!==-1?1024:1);if(G[0].toLowerCase().indexOf("hw.l1dcachesize")!==-1)B.l1i=parseInt(G[1].trim())*(G[1].indexOf("K")!==-1?1024:1);if(G[0].toLowerCase().indexOf("hw.l2cachesize")!==-1)B.l2=parseInt(G[1].trim())*(G[1].indexOf("K")!==-1?1024:1);if(G[0].toLowerCase().indexOf("hw.l3cachesize")!==-1)B.l3=parseInt(G[1].trim())*(G[1].indexOf("K")!==-1?1024:1)});if(A)A(B);Q(B)});if(Js){if(A)A(B);Q(B)}if(Es)try{let C=[];C.push(nA.powerShell("Get-CimInstance Win32_processor | select L2CacheSize, L3CacheSize | fl")),C.push(nA.powerShell("Get-CimInstance Win32_CacheMemory | select CacheType,InstalledSize,Level | fl")),Promise.all(C).then((E)=>{if(B=g4Q(E[0],E[1]),A)A(B);Q(B)})}catch(C){if(A)A(B);Q(B)}})})}function g4Q(A,Q){let B={l1d:null,l1i:null,l2:null,l3:null},C=A.split(`\r
`);if(B.l1d=0,B.l1i=0,B.l2=nA.getValue(C,"l2cachesize",":"),B.l3=nA.getValue(C,"l3cachesize",":"),B.l2)B.l2=parseInt(B.l2,10)*1024;else B.l2=0;if(B.l3)B.l3=parseInt(B.l3,10)*1024;else B.l3=0;let E=Q.split(/\n\s*\n/),I=0,Y=0,G=0;if(E.forEach(function(J){let D=J.split(`\r
`),U=nA.getValue(D,"CacheType"),N=nA.getValue(D,"Level"),Z=nA.getValue(D,"InstalledSize");if(N==="3"&&U==="3")B.l1i=B.l1i+parseInt(Z,10)*1024;if(N==="3"&&U==="4")B.l1d=B.l1d+parseInt(Z,10)*1024;if(N==="3"&&U==="5")I=parseInt(Z,10)/2,Y=parseInt(Z,10)/2;if(N==="4"&&U==="5")G=G+parseInt(Z,10)*1024}),!B.l1i&&!B.l1d)B.l1i=I,B.l1d=Y;if(G)B.l2=G;return B}oIB.cpuCache=S4Q;function cIB(){return new Promise((A)=>{process.nextTick(()=>{let Q=x9.loadavg().map(function(I){return I/nA.cores()}),B=parseFloat(Math.max.apply(Math,Q).toFixed(2)),C={};if(Date.now()-g0.ms>=200){g0.ms=Date.now();let I=x9.cpus().map(function(M){return M.times.steal=0,M.times.guest=0,M}),Y=0,G=0,J=0,D=0,U=0,N=0,Z=0,X=[];if(IHA=I&&I.length?I.length:0,OR)try{let M=Bs("cat /proc/stat 2>/dev/null | grep cpu",nA.execOptsLinux).toString().split(`
`);if(M.length>1){if(M.shift(),M.length===I.length)for(let z=0;z<M.length;z++){let L=M[z].split(" ");if(L.length>=10){let O=parseFloat(L[8])||0,R=parseFloat(L[9])||0;I[z].times.steal=O,I[z].times.guest=R}}}}catch(M){nA.noop()}for(let M=0;M<IHA;M++){let z=I[M].times;Y+=z.user,G+=z.sys,J+=z.nice,U+=z.idle,D+=z.irq,N+=z.steal||0,Z+=z.guest||0;let L=_A&&_A[M]&&_A[M].totalTick?_A[M].totalTick:0,O=_A&&_A[M]&&_A[M].totalLoad?_A[M].totalLoad:0,R=_A&&_A[M]&&_A[M].user?_A[M].user:0,_=_A&&_A[M]&&_A[M].sys?_A[M].sys:0,S=_A&&_A[M]&&_A[M].nice?_A[M].nice:0,q=_A&&_A[M]&&_A[M].idle?_A[M].idle:0,y=_A&&_A[M]&&_A[M].irq?_A[M].irq:0,p=_A&&_A[M]&&_A[M].steal?_A[M].steal:0,i=_A&&_A[M]&&_A[M].guest?_A[M].guest:0;_A[M]=z,_A[M].totalTick=_A[M].user+_A[M].sys+_A[M].nice+_A[M].irq+_A[M].steal+_A[M].guest+_A[M].idle,_A[M].totalLoad=_A[M].user+_A[M].sys+_A[M].nice+_A[M].irq+_A[M].steal+_A[M].guest,_A[M].currentTick=_A[M].totalTick-L,_A[M].load=_A[M].totalLoad-O,_A[M].loadUser=_A[M].user-R,_A[M].loadSystem=_A[M].sys-_,_A[M].loadNice=_A[M].nice-S,_A[M].loadIdle=_A[M].idle-q,_A[M].loadIrq=_A[M].irq-y,_A[M].loadSteal=_A[M].steal-p,_A[M].loadGuest=_A[M].guest-i,X[M]={},X[M].load=_A[M].load/_A[M].currentTick*100,X[M].loadUser=_A[M].loadUser/_A[M].currentTick*100,X[M].loadSystem=_A[M].loadSystem/_A[M].currentTick*100,X[M].loadNice=_A[M].loadNice/_A[M].currentTick*100,X[M].loadIdle=_A[M].loadIdle/_A[M].currentTick*100,X[M].loadIrq=_A[M].loadIrq/_A[M].currentTick*100,X[M].loadSteal=_A[M].loadSteal/_A[M].currentTick*100,X[M].loadGuest=_A[M].loadGuest/_A[M].currentTick*100,X[M].rawLoad=_A[M].load,X[M].rawLoadUser=_A[M].loadUser,X[M].rawLoadSystem=_A[M].loadSystem,X[M].rawLoadNice=_A[M].loadNice,X[M].rawLoadIdle=_A[M].loadIdle,X[M].rawLoadIrq=_A[M].loadIrq,X[M].rawLoadSteal=_A[M].loadSteal,X[M].rawLoadGuest=_A[M].loadGuest}let W=Y+G+J+D+N+Z+U,K=Y+G+J+D+N+Z,V=W-g0.tick;C={avgLoad:B,currentLoad:(K-g0.load)/V*100,currentLoadUser:(Y-g0.user)/V*100,currentLoadSystem:(G-g0.system)/V*100,currentLoadNice:(J-g0.nice)/V*100,currentLoadIdle:(U-g0.idle)/V*100,currentLoadIrq:(D-g0.irq)/V*100,currentLoadSteal:(N-g0.steal)/V*100,currentLoadGuest:(Z-g0.guest)/V*100,rawCurrentLoad:K-g0.load,rawCurrentLoadUser:Y-g0.user,rawCurrentLoadSystem:G-g0.system,rawCurrentLoadNice:J-g0.nice,rawCurrentLoadIdle:U-g0.idle,rawCurrentLoadIrq:D-g0.irq,rawCurrentLoadSteal:N-g0.steal,rawCurrentLoadGuest:Z-g0.guest,cpus:X},g0={user:Y,nice:J,system:G,idle:U,irq:D,steal:N,guest:Z,tick:W,load:K,ms:g0.ms,currentLoad:C.currentLoad,currentLoadUser:C.currentLoadUser,currentLoadSystem:C.currentLoadSystem,currentLoadNice:C.currentLoadNice,currentLoadIdle:C.currentLoadIdle,currentLoadIrq:C.currentLoadIrq,currentLoadSteal:C.currentLoadSteal,currentLoadGuest:C.currentLoadGuest,rawCurrentLoad:C.rawCurrentLoad,rawCurrentLoadUser:C.rawCurrentLoadUser,rawCurrentLoadSystem:C.rawCurrentLoadSystem,rawCurrentLoadNice:C.rawCurrentLoadNice,rawCurrentLoadIdle:C.rawCurrentLoadIdle,rawCurrentLoadIrq:C.rawCurrentLoadIrq,rawCurrentLoadSteal:C.rawCurrentLoadSteal,rawCurrentLoadGuest:C.rawCurrentLoadGuest}}else{let I=[];for(let Y=0;Y<IHA;Y++)I[Y]={},I[Y].load=_A[Y].load/_A[Y].currentTick*100,I[Y].loadUser=_A[Y].loadUser/_A[Y].currentTick*100,I[Y].loadSystem=_A[Y].loadSystem/_A[Y].currentTick*100,I[Y].loadNice=_A[Y].loadNice/_A[Y].currentTick*100,I[Y].loadIdle=_A[Y].loadIdle/_A[Y].currentTick*100,I[Y].loadIrq=_A[Y].loadIrq/_A[Y].currentTick*100,I[Y].rawLoad=_A[Y].load,I[Y].rawLoadUser=_A[Y].loadUser,I[Y].rawLoadSystem=_A[Y].loadSystem,I[Y].rawLoadNice=_A[Y].loadNice,I[Y].rawLoadIdle=_A[Y].loadIdle,I[Y].rawLoadIrq=_A[Y].loadIrq,I[Y].rawLoadSteal=_A[Y].loadSteal,I[Y].rawLoadGuest=_A[Y].loadGuest;C={avgLoad:B,currentLoad:g0.currentLoad,currentLoadUser:g0.currentLoadUser,currentLoadSystem:g0.currentLoadSystem,currentLoadNice:g0.currentLoadNice,currentLoadIdle:g0.currentLoadIdle,currentLoadIrq:g0.currentLoadIrq,currentLoadSteal:g0.currentLoadSteal,currentLoadGuest:g0.currentLoadGuest,rawCurrentLoad:g0.rawCurrentLoad,rawCurrentLoadUser:g0.rawCurrentLoadUser,rawCurrentLoadSystem:g0.rawCurrentLoadSystem,rawCurrentLoadNice:g0.rawCurrentLoadNice,rawCurrentLoadIdle:g0.rawCurrentLoadIdle,rawCurrentLoadIrq:g0.rawCurrentLoadIrq,rawCurrentLoadSteal:g0.rawCurrentLoadSteal,rawCurrentLoadGuest:g0.rawCurrentLoadGuest,cpus:I}}A(C)})})}function lIB(A){return new Promise((Q)=>{process.nextTick(()=>{cIB().then((B)=>{if(A)A(B);Q(B)})})})}oIB.currentLoad=lIB;function iIB(){return new Promise((A)=>{process.nextTick(()=>{let Q=x9.cpus(),B=0,C=0,E=0,I=0,Y=0,G=0;if(Q&&Q.length){for(let D=0,U=Q.length;D<U;D++){let N=Q[D].times;B+=N.user,C+=N.sys,E+=N.nice,I+=N.irq,Y+=N.idle}let J=Y+I+E+C+B;G=(J-Y)/J*100}A(G)})})}function nIB(A){return new Promise((Q)=>{process.nextTick(()=>{iIB().then((B)=>{if(A)A(B);Q(B)})})})}oIB.fullLoad=nIB});var c4Q=m((IYB)=>{var v4=a("os"),vv=a("child_process").exec,Ds=a("child_process").execSync,NQ=aY(),BYB=a("fs"),eW=process.platform,b4Q=eW==="linux"||eW==="android",h4Q=eW==="darwin",m4Q=eW==="win32",f4Q=eW==="freebsd",d4Q=eW==="openbsd",u4Q=eW==="netbsd",p4Q=eW==="sunos",y4Q={"0x014F":"Transcend Information","0x2C00":"Micron Technology Inc.","0x802C":"Micron Technology Inc.","0x80AD":"Hynix Semiconductor Inc.","0x80CE":"Samsung Electronics Inc.","0xAD00":"Hynix Semiconductor Inc.","0xCE00":"Samsung Electronics Inc.","0x02FE":"Elpida","0x5105":"Qimonda AG i. In.","0x8551":"Qimonda AG i. In.","0x859B":"Crucial","0x04CD":"G-Skill"},k4Q={"017A":"Apacer","0198":"HyperX","029E":"Corsair","04CB":"A-DATA","04CD":"G-Skill","059B":"Crucial","00CE":"Samsung","1315":"Crucial","014F":"Transcend Information","2C00":"Micron Technology Inc.","802C":"Micron Technology Inc.","80AD":"Hynix Semiconductor Inc.","80CE":"Samsung Electronics Inc.",AD00:"Hynix Semiconductor Inc.",CE00:"Samsung Electronics Inc.","02FE":"Elpida","5105":"Qimonda AG i. In.","8551":"Qimonda AG i. In.","859B":"Crucial"};function CYB(A){return new Promise((Q)=>{process.nextTick(()=>{let B={total:v4.totalmem(),free:v4.freemem(),used:v4.totalmem()-v4.freemem(),active:v4.totalmem()-v4.freemem(),available:v4.freemem(),buffers:0,cached:0,slab:0,buffcache:0,swaptotal:0,swapused:0,swapfree:0,writeback:null,dirty:null};if(b4Q)try{BYB.readFile("/proc/meminfo",function(C,E){if(!C){let I=E.toString().split(`
`);B.total=parseInt(NQ.getValue(I,"memtotal"),10),B.total=B.total?B.total*1024:v4.totalmem(),B.free=parseInt(NQ.getValue(I,"memfree"),10),B.free=B.free?B.free*1024:v4.freemem(),B.used=B.total-B.free,B.buffers=parseInt(NQ.getValue(I,"buffers"),10),B.buffers=B.buffers?B.buffers*1024:0,B.cached=parseInt(NQ.getValue(I,"cached"),10),B.cached=B.cached?B.cached*1024:0,B.slab=parseInt(NQ.getValue(I,"slab"),10),B.slab=B.slab?B.slab*1024:0,B.buffcache=B.buffers+B.cached+B.slab;let Y=parseInt(NQ.getValue(I,"memavailable"),10);B.available=Y?Y*1024:B.free+B.buffcache,B.active=B.total-B.available,B.swaptotal=parseInt(NQ.getValue(I,"swaptotal"),10),B.swaptotal=B.swaptotal?B.swaptotal*1024:0,B.swapfree=parseInt(NQ.getValue(I,"swapfree"),10),B.swapfree=B.swapfree?B.swapfree*1024:0,B.swapused=B.swaptotal-B.swapfree,B.writeback=parseInt(NQ.getValue(I,"writeback"),10),B.writeback=B.writeback?B.writeback*1024:0,B.dirty=parseInt(NQ.getValue(I,"dirty"),10),B.dirty=B.dirty?B.dirty*1024:0}if(A)A(B);Q(B)})}catch(C){if(A)A(B);Q(B)}if(f4Q||d4Q||u4Q)try{vv("/sbin/sysctl hw.realmem hw.physmem vm.stats.vm.v_page_count vm.stats.vm.v_wire_count vm.stats.vm.v_active_count vm.stats.vm.v_inactive_count vm.stats.vm.v_cache_count vm.stats.vm.v_free_count vm.stats.vm.v_page_size",function(C,E){if(!C){let I=E.toString().split(`
`),Y=parseInt(NQ.getValue(I,"vm.stats.vm.v_page_size"),10),G=parseInt(NQ.getValue(I,"vm.stats.vm.v_inactive_count"),10)*Y,J=parseInt(NQ.getValue(I,"vm.stats.vm.v_cache_count"),10)*Y;if(B.total=parseInt(NQ.getValue(I,"hw.realmem"),10),isNaN(B.total))B.total=parseInt(NQ.getValue(I,"hw.physmem"),10);B.free=parseInt(NQ.getValue(I,"vm.stats.vm.v_free_count"),10)*Y,B.buffcache=G+J,B.available=B.buffcache+B.free,B.active=B.total-B.free-B.buffcache,B.swaptotal=0,B.swapfree=0,B.swapused=0}if(A)A(B);Q(B)})}catch(C){if(A)A(B);Q(B)}if(p4Q){if(A)A(B);Q(B)}if(h4Q){let C=4096;try{C=NQ.toInt(Ds("sysctl -n vm.pagesize").toString())||C}catch(E){NQ.noop()}try{vv('vm_stat 2>/dev/null | grep "Pages active"',function(E,I){if(!E){let Y=I.toString().split(`
`);B.active=parseInt(Y[0].split(":")[1],10)*C,B.buffcache=B.used-B.active,B.available=B.free+B.buffcache}vv("sysctl -n vm.swapusage 2>/dev/null",function(Y,G){if(!Y){let J=G.toString().split(`
`);if(J.length>0)J[0].replace(/,/g,".").replace(/M/g,"").trim().split("  ").forEach((N)=>{if(N.toLowerCase().indexOf("total")!==-1)B.swaptotal=parseFloat(N.split("=")[1].trim())*1024*1024;if(N.toLowerCase().indexOf("used")!==-1)B.swapused=parseFloat(N.split("=")[1].trim())*1024*1024;if(N.toLowerCase().indexOf("free")!==-1)B.swapfree=parseFloat(N.split("=")[1].trim())*1024*1024})}if(A)A(B);Q(B)})})}catch(E){if(A)A(B);Q(B)}}if(m4Q){let C=0,E=0;try{NQ.powerShell("Get-CimInstance Win32_PageFileUsage | Select AllocatedBaseSize, CurrentUsage").then((I,Y)=>{if(!Y)I.split(`\r
`).filter((J)=>J.trim()!=="").filter((J,D)=>D>0).forEach(function(J){if(J!=="")J=J.trim().split(/\s\s+/),C=C+(parseInt(J[0],10)||0),E=E+(parseInt(J[1],10)||0)});if(B.swaptotal=C*1024*1024,B.swapused=E*1024*1024,B.swapfree=B.swaptotal-B.swapused,A)A(B);Q(B)})}catch(I){if(A)A(B);Q(B)}}})})}IYB.mem=CYB;function EYB(A){function Q(C){if({}.hasOwnProperty.call(y4Q,C))return y4Q[C];return C}function B(C){let E=C.replace("0x","").toUpperCase();if(E.length===4&&{}.hasOwnProperty.call(k4Q,E))return k4Q[E];return C}return new Promise((C)=>{process.nextTick(()=>{let E=[];if(b4Q||f4Q||d4Q||u4Q)vv('export LC_ALL=C; dmidecode -t memory 2>/dev/null | grep -iE "Size:|Type|Speed|Manufacturer|Form Factor|Locator|Memory Device|Serial Number|Voltage|Part Number"; unset LC_ALL',function(I,Y){if(!I){let G=Y.toString().split("Memory Device");G.shift(),G.forEach(function(J){let D=J.split(`
`),U=NQ.getValue(D,"Size"),N=U.indexOf("GB")>=0?parseInt(U,10)*1024*1024*1024:parseInt(U,10)*1024*1024,Z=NQ.getValue(D,"Bank Locator");if(Z.toLowerCase().indexOf("bad")>=0)Z="";if(parseInt(NQ.getValue(D,"Size"),10)>0){let X=NQ.toInt(NQ.getValue(D,"Total Width")),W=NQ.toInt(NQ.getValue(D,"Data Width"));E.push({size:N,bank:Z,type:NQ.getValue(D,"Type:"),ecc:W&&X?X>W:!1,clockSpeed:NQ.getValue(D,"Configured Clock Speed:")?parseInt(NQ.getValue(D,"Configured Clock Speed:"),10):NQ.getValue(D,"Speed:")?parseInt(NQ.getValue(D,"Speed:"),10):null,formFactor:NQ.getValue(D,"Form Factor:"),manufacturer:B(NQ.getValue(D,"Manufacturer:")),partNum:NQ.getValue(D,"Part Number:"),serialNum:NQ.getValue(D,"Serial Number:"),voltageConfigured:parseFloat(NQ.getValue(D,"Configured Voltage:"))||null,voltageMin:parseFloat(NQ.getValue(D,"Minimum Voltage:"))||null,voltageMax:parseFloat(NQ.getValue(D,"Maximum Voltage:"))||null})}else E.push({size:0,bank:Z,type:"Empty",ecc:null,clockSpeed:0,formFactor:NQ.getValue(D,"Form Factor:"),partNum:"",serialNum:"",voltageConfigured:null,voltageMin:null,voltageMax:null})})}if(!E.length){E.push({size:v4.totalmem(),bank:"",type:"",ecc:null,clockSpeed:0,formFactor:"",partNum:"",serialNum:"",voltageConfigured:null,voltageMin:null,voltageMax:null});try{let G=Ds("cat /proc/cpuinfo 2>/dev/null",NQ.execOptsLinux),J=G.toString().split(`
`),D=NQ.getValue(J,"revision",":",!0).toLowerCase();if(NQ.isRaspberry(J)){let U={"0":400,"1":450,"2":450,"3":3200,"4":4267};E[0].type="LPDDR2",E[0].type=D&&D[2]&&D[2]==="3"?"LPDDR4":E[0].type,E[0].type=D&&D[2]&&D[2]==="4"?"LPDDR4X":E[0].type,E[0].ecc=!1,E[0].clockSpeed=D&&D[2]&&U[D[2]]||400,E[0].clockSpeed=D&&D[4]&&D[4]==="d"?500:E[0].clockSpeed,E[0].formFactor="SoC",G=Ds("vcgencmd get_config sdram_freq 2>/dev/null",NQ.execOptsLinux),J=G.toString().split(`
`);let N=parseInt(NQ.getValue(J,"sdram_freq","=",!0),10)||0;if(N)E[0].clockSpeed=N;G=Ds("vcgencmd measure_volts sdram_p 2>/dev/null",NQ.execOptsLinux),J=G.toString().split(`
`);let Z=parseFloat(NQ.getValue(J,"volt","=",!0))||0;if(Z)E[0].voltageConfigured=Z,E[0].voltageMin=Z,E[0].voltageMax=Z}}catch(G){NQ.noop()}}if(A)A(E);C(E)});if(h4Q)vv("system_profiler SPMemoryDataType",function(I,Y){if(!I){let G=Y.toString().split(`
`),J=NQ.getValue(G,"ecc",":",!0).toLowerCase(),D=Y.toString().split("        BANK "),U=!0;if(D.length===1)D=Y.toString().split("        DIMM"),U=!1;D.shift(),D.forEach(function(N){let Z=N.split(`
`),X=(U?"BANK ":"DIMM")+Z[0].trim().split("/")[0],W=parseInt(NQ.getValue(Z,"          Size"));if(W)E.push({size:W*1024*1024*1024,bank:X,type:NQ.getValue(Z,"          Type:"),ecc:J?J==="enabled":null,clockSpeed:parseInt(NQ.getValue(Z,"          Speed:"),10),formFactor:"",manufacturer:Q(NQ.getValue(Z,"          Manufacturer:")),partNum:NQ.getValue(Z,"          Part Number:"),serialNum:NQ.getValue(Z,"          Serial Number:"),voltageConfigured:null,voltageMin:null,voltageMax:null});else E.push({size:0,bank:X,type:"Empty",ecc:null,clockSpeed:0,formFactor:"",manufacturer:"",partNum:"",serialNum:"",voltageConfigured:null,voltageMin:null,voltageMax:null})})}if(!E.length){let G=Y.toString().split(`
`),J=parseInt(NQ.getValue(G,"      Memory:")),D=NQ.getValue(G,"      Type:"),U=NQ.getValue(G,"      Manufacturer:");if(J&&D)E.push({size:J*1024*1024*1024,bank:"0",type:D,ecc:!1,clockSpeed:null,formFactor:"SOC",manufacturer:Q(U),partNum:"",serialNum:"",voltageConfigured:null,voltageMin:null,voltageMax:null})}if(A)A(E);C(E)});if(p4Q){if(A)A(E);C(E)}if(m4Q){let I="Unknown|Other|DRAM|Synchronous DRAM|Cache DRAM|EDO|EDRAM|VRAM|SRAM|RAM|ROM|FLASH|EEPROM|FEPROM|EPROM|CDRAM|3DRAM|SDRAM|SGRAM|RDRAM|DDR|DDR2|DDR2 FB-DIMM|Reserved|DDR3|FBD2|DDR4|LPDDR|LPDDR2|LPDDR3|LPDDR4|Logical non-volatile device|HBM|HBM2|DDR5|LPDDR5".split("|"),Y="Unknown|Other|SIP|DIP|ZIP|SOJ|Proprietary|SIMM|DIMM|TSOP|PGA|RIMM|SODIMM|SRIMM|SMD|SSMP|QFP|TQFP|SOIC|LCC|PLCC|BGA|FPBGA|LGA".split("|");try{NQ.powerShell("Get-CimInstance Win32_PhysicalMemory | select DataWidth,TotalWidth,Capacity,BankLabel,MemoryType,SMBIOSMemoryType,ConfiguredClockSpeed,Speed,FormFactor,Manufacturer,PartNumber,SerialNumber,ConfiguredVoltage,MinVoltage,MaxVoltage,Tag | fl").then((G,J)=>{if(!J){let D=G.toString().split(/\n\s*\n/);D.shift(),D.forEach(function(U){let N=U.split(`\r
`),Z=NQ.toInt(NQ.getValue(N,"DataWidth",":")),X=NQ.toInt(NQ.getValue(N,"TotalWidth",":")),W=parseInt(NQ.getValue(N,"Capacity",":"),10)||0,K=NQ.getValue(N,"Tag",":"),V=NQ.splitByNumber(K);if(W)E.push({size:W,bank:NQ.getValue(N,"BankLabel",":")+(V[1]?"/"+V[1]:""),type:I[parseInt(NQ.getValue(N,"MemoryType",":"),10)||parseInt(NQ.getValue(N,"SMBIOSMemoryType",":"),10)],ecc:Z&&X?X>Z:!1,clockSpeed:parseInt(NQ.getValue(N,"ConfiguredClockSpeed",":"),10)||parseInt(NQ.getValue(N,"Speed",":"),10)||0,formFactor:Y[parseInt(NQ.getValue(N,"FormFactor",":"),10)||0],manufacturer:NQ.getValue(N,"Manufacturer",":"),partNum:NQ.getValue(N,"PartNumber",":"),serialNum:NQ.getValue(N,"SerialNumber",":"),voltageConfigured:(parseInt(NQ.getValue(N,"ConfiguredVoltage",":"),10)||0)/1000,voltageMin:(parseInt(NQ.getValue(N,"MinVoltage",":"),10)||0)/1000,voltageMax:(parseInt(NQ.getValue(N,"MaxVoltage",":"),10)||0)/1000})})}if(A)A(E);C(E)})}catch(G){if(A)A(E);C(E)}}})})}IYB.memLayout=EYB});var n4Q=m((cH0,i4Q)=>{var l4Q=a("child_process").exec,RR=a("fs"),A0=aY(),AK=process.platform,JYB=AK==="linux"||AK==="android",DYB=AK==="darwin",UYB=AK==="win32",NYB=AK==="freebsd",ZYB=AK==="openbsd",XYB=AK==="netbsd",FYB=AK==="sunos";function HYB(A,Q,B){let C={},E=A0.getValue(A,"BatteryStatus",":").trim();if(E>=0){let I=E?parseInt(E):0;C.status=I,C.hasBattery=!0,C.maxCapacity=B||parseInt(A0.getValue(A,"DesignCapacity",":")||0),C.designedCapacity=parseInt(A0.getValue(A,"DesignCapacity",":")||Q),C.voltage=parseInt(A0.getValue(A,"DesignVoltage",":")||0)/1000,C.capacityUnit="mWh",C.percent=parseInt(A0.getValue(A,"EstimatedChargeRemaining",":")||0),C.currentCapacity=parseInt(C.maxCapacity*C.percent/100),C.isCharging=I>=6&&I<=9||I===11||I!==3&&I!==1&&C.percent<100,C.acConnected=C.isCharging||I===2,C.model=A0.getValue(A,"DeviceID",":")}else C.status=-1;return C}i4Q.exports=function(A){return new Promise((Q)=>{process.nextTick(()=>{let B={hasBattery:!1,cycleCount:0,isCharging:!1,designedCapacity:0,maxCapacity:0,currentCapacity:0,voltage:0,capacityUnit:"",percent:0,timeRemaining:null,acConnected:!0,type:"",model:"",manufacturer:"",serial:""};if(JYB){let C="";if(RR.existsSync("/sys/class/power_supply/BAT1/uevent"))C="/sys/class/power_supply/BAT1/";else if(RR.existsSync("/sys/class/power_supply/BAT0/uevent"))C="/sys/class/power_supply/BAT0/";let E=!1,I="";if(RR.existsSync("/sys/class/power_supply/AC/online"))I="/sys/class/power_supply/AC/online";else if(RR.existsSync("/sys/class/power_supply/AC0/online"))I="/sys/class/power_supply/AC0/online";if(I)E=RR.readFileSync(I).toString().trim()==="1";if(C)RR.readFile(C+"uevent",function(Y,G){if(!Y){let J=G.toString().split(`
`);B.isCharging=A0.getValue(J,"POWER_SUPPLY_STATUS","=").toLowerCase()==="charging",B.acConnected=E||B.isCharging,B.voltage=parseInt("0"+A0.getValue(J,"POWER_SUPPLY_VOLTAGE_NOW","="),10)/1e6,B.capacityUnit=B.voltage?"mWh":"mAh",B.cycleCount=parseInt("0"+A0.getValue(J,"POWER_SUPPLY_CYCLE_COUNT","="),10),B.maxCapacity=Math.round(parseInt("0"+A0.getValue(J,"POWER_SUPPLY_CHARGE_FULL","=",!0,!0),10)/1000*(B.voltage||1));let D=parseInt("0"+A0.getValue(J,"POWER_SUPPLY_VOLTAGE_MIN_DESIGN","="),10)/1e6;if(B.designedCapacity=Math.round(parseInt("0"+A0.getValue(J,"POWER_SUPPLY_CHARGE_FULL_DESIGN","=",!0,!0),10)/1000*(D||B.voltage||1)),B.currentCapacity=Math.round(parseInt("0"+A0.getValue(J,"POWER_SUPPLY_CHARGE_NOW","="),10)/1000*(B.voltage||1)),!B.maxCapacity)B.maxCapacity=parseInt("0"+A0.getValue(J,"POWER_SUPPLY_ENERGY_FULL","=",!0,!0),10)/1000,B.designedCapacity=parseInt("0"+A0.getValue(J,"POWER_SUPPLY_ENERGY_FULL_DESIGN","=",!0,!0),10)/1000|B.maxCapacity,B.currentCapacity=parseInt("0"+A0.getValue(J,"POWER_SUPPLY_ENERGY_NOW","="),10)/1000;let U=A0.getValue(J,"POWER_SUPPLY_CAPACITY","="),N=parseInt("0"+A0.getValue(J,"POWER_SUPPLY_ENERGY_NOW","="),10),Z=parseInt("0"+A0.getValue(J,"POWER_SUPPLY_POWER_NOW","="),10),X=parseInt("0"+A0.getValue(J,"POWER_SUPPLY_CURRENT_NOW","="),10),W=parseInt("0"+A0.getValue(J,"POWER_SUPPLY_CHARGE_NOW","="),10);if(B.percent=parseInt("0"+U,10),B.maxCapacity&&B.currentCapacity){if(B.hasBattery=!0,!U)B.percent=100*B.currentCapacity/B.maxCapacity}if(B.isCharging)B.hasBattery=!0;if(N&&Z)B.timeRemaining=Math.floor(N/Z*60);else if(X&&W)B.timeRemaining=Math.floor(W/X*60);else if(X&&B.currentCapacity)B.timeRemaining=Math.floor(B.currentCapacity/X*60);if(B.type=A0.getValue(J,"POWER_SUPPLY_TECHNOLOGY","="),B.model=A0.getValue(J,"POWER_SUPPLY_MODEL_NAME","="),B.manufacturer=A0.getValue(J,"POWER_SUPPLY_MANUFACTURER","="),B.serial=A0.getValue(J,"POWER_SUPPLY_SERIAL_NUMBER","="),A)A(B);Q(B)}else{if(A)A(B);Q(B)}});else{if(A)A(B);Q(B)}}if(NYB||ZYB||XYB)l4Q("sysctl -i hw.acpi.battery hw.acpi.acline",function(C,E){let I=E.toString().split(`
`),Y=parseInt("0"+A0.getValue(I,"hw.acpi.battery.units"),10),G=parseInt("0"+A0.getValue(I,"hw.acpi.battery.life"),10);if(B.hasBattery=Y>0,B.cycleCount=null,B.isCharging=A0.getValue(I,"hw.acpi.acline")!=="1",B.acConnected=B.isCharging,B.maxCapacity=null,B.currentCapacity=null,B.capacityUnit="unknown",B.percent=Y?G:null,A)A(B);Q(B)});if(DYB)l4Q('ioreg -n AppleSmartBattery -r | egrep "CycleCount|IsCharging|DesignCapacity|MaxCapacity|CurrentCapacity|DeviceName|BatterySerialNumber|Serial|TimeRemaining|Voltage"; pmset -g batt | grep %',function(C,E){if(E){let I=E.toString().replace(/ +/g,"").replace(/"+/g,"").replace(/-/g,"").split(`
`);B.cycleCount=parseInt("0"+A0.getValue(I,"cyclecount","="),10),B.voltage=parseInt("0"+A0.getValue(I,"voltage","="),10)/1000,B.capacityUnit=B.voltage?"mWh":"mAh",B.maxCapacity=Math.round(parseInt("0"+A0.getValue(I,"applerawmaxcapacity","="),10)*(B.voltage||1)),B.currentCapacity=Math.round(parseInt("0"+A0.getValue(I,"applerawcurrentcapacity","="),10)*(B.voltage||1)),B.designedCapacity=Math.round(parseInt("0"+A0.getValue(I,"DesignCapacity","="),10)*(B.voltage||1)),B.manufacturer="Apple",B.serial=A0.getValue(I,"BatterySerialNumber","=")||A0.getValue(I,"Serial","="),B.model=A0.getValue(I,"DeviceName","=");let Y=null,J=A0.getValue(I,"internal","Battery").split(";");if(J&&J[0]){let D=J[0].split("\t");if(D&&D[1])Y=parseFloat(D[1].trim().replace(/%/g,""))}if(J&&J[1])B.isCharging=J[1].trim()==="charging",B.acConnected=J[1].trim()!=="discharging";else B.isCharging=A0.getValue(I,"ischarging","=").toLowerCase()==="yes",B.acConnected=B.isCharging;if(B.maxCapacity&&B.currentCapacity){if(B.hasBattery=!0,B.type="Li-ion",B.percent=Y!==null?Y:Math.round(100*B.currentCapacity/B.maxCapacity),!B.isCharging)B.timeRemaining=parseInt("0"+A0.getValue(I,"TimeRemaining","="),10)}}if(A)A(B);Q(B)});if(FYB){if(A)A(B);Q(B)}if(UYB)try{let C=[];C.push(A0.powerShell("Get-CimInstance Win32_Battery | select BatteryStatus, DesignCapacity, DesignVoltage, EstimatedChargeRemaining, DeviceID | fl")),C.push(A0.powerShell("(Get-WmiObject -Class BatteryStaticData -Namespace ROOT/WMI).DesignedCapacity")),C.push(A0.powerShell("(Get-CimInstance -Class BatteryFullChargedCapacity -Namespace ROOT/WMI).FullChargedCapacity")),A0.promiseAll(C).then((E)=>{if(E){let I=E.results[0].split(/\n\s*\n/),Y=[],G=(U)=>/\S/.test(U);for(let U=0;U<I.length;U++){if(G(I[U])&&(!Y.length||!G(I[U-1])))Y.push([]);if(G(I[U]))Y[Y.length-1].push(I[U])}let J=E.results[1].split(`\r
`).filter((U)=>U),D=E.results[2].split(`\r
`).filter((U)=>U);if(Y.length){let U=!1,N=[];for(let Z=0;Z<Y.length;Z++){let X=Y[Z][0].split(`\r
`),W=J&&J.length>=Z+1&&J[Z]?A0.toInt(J[Z]):0,K=D&&D.length>=Z+1&&D[Z]?A0.toInt(D[Z]):0,V=HYB(X,W,K);if(!U&&V.status>0&&V.status!==10)B.hasBattery=V.hasBattery,B.maxCapacity=V.maxCapacity,B.designedCapacity=V.designedCapacity,B.voltage=V.voltage,B.capacityUnit=V.capacityUnit,B.percent=V.percent,B.currentCapacity=V.currentCapacity,B.isCharging=V.isCharging,B.acConnected=V.acConnected,B.model=V.model,U=!0;else if(V.status!==-1)N.push({hasBattery:V.hasBattery,maxCapacity:V.maxCapacity,designedCapacity:V.designedCapacity,voltage:V.voltage,capacityUnit:V.capacityUnit,percent:V.percent,currentCapacity:V.currentCapacity,isCharging:V.isCharging,timeRemaining:null,acConnected:V.acConnected,model:V.model,type:"",manufacturer:"",serial:""})}if(!U&&N.length)B=N[0],N.shift();if(N.length)B.additionalBatteries=N}}if(A)A(B);Q(B)})}catch(C){if(A)A(B);Q(B)}})})}});var s4Q=m((RYB)=>{var Us=a("fs"),TR=a("child_process").exec,DHA=a("child_process").execSync,wQ=aY(),QK=process.platform,yv="",Ns=QK==="linux"||QK==="android",WYB=QK==="darwin",o4Q=QK==="win32",KYB=QK==="freebsd",VYB=QK==="openbsd",MYB=QK==="netbsd",$YB=QK==="sunos",kv=0,bv=0,Zs=0,Xs=0,r4Q={"-2":"UNINITIALIZED","-1":"OTHER","0":"HD15","1":"SVIDEO","2":"Composite video","3":"Component video","4":"DVI","5":"HDMI","6":"LVDS","8":"D_JPN","9":"SDI","10":"DP","11":"DP embedded","12":"UDI","13":"UDI embedded","14":"SDTVDONGLE","15":"MIRACAST","2147483648":"INTERNAL"};function a4Q(A){let Q=[{pattern:"^LG.+",manufacturer:"LG"},{pattern:"^BENQ.+",manufacturer:"BenQ"},{pattern:"^ASUS.+",manufacturer:"Asus"},{pattern:"^DELL.+",manufacturer:"Dell"},{pattern:"^SAMSUNG.+",manufacturer:"Samsung"},{pattern:"^VIEWSON.+",manufacturer:"ViewSonic"},{pattern:"^SONY.+",manufacturer:"Sony"},{pattern:"^ACER.+",manufacturer:"Acer"},{pattern:"^AOC.+",manufacturer:"AOC Monitors"},{pattern:"^HP.+",manufacturer:"HP"},{pattern:"^EIZO.?",manufacturer:"Eizo"},{pattern:"^PHILIPS.?",manufacturer:"Philips"},{pattern:"^IIYAMA.?",manufacturer:"Iiyama"},{pattern:"^SHARP.?",manufacturer:"Sharp"},{pattern:"^NEC.?",manufacturer:"NEC"},{pattern:"^LENOVO.?",manufacturer:"Lenovo"},{pattern:"COMPAQ.?",manufacturer:"Compaq"},{pattern:"APPLE.?",manufacturer:"Apple"},{pattern:"INTEL.?",manufacturer:"Intel"},{pattern:"AMD.?",manufacturer:"AMD"},{pattern:"NVIDIA.?",manufacturer:"NVDIA"}],B="";if(A)A=A.toUpperCase(),Q.forEach((C)=>{if(RegExp(C.pattern).test(A))B=C.manufacturer});return B}function zYB(A){return{"610":"Apple","1e6d":"LG","10ac":"DELL","4dd9":"Sony","38a3":"NEC"}[A]||""}function wYB(A){let Q="";if(A=(A||"").toLowerCase(),A.indexOf("apple")>=0)Q="0x05ac";else if(A.indexOf("nvidia")>=0)Q="0x10de";else if(A.indexOf("intel")>=0)Q="0x8086";else if(A.indexOf("ati")>=0||A.indexOf("amd")>=0)Q="0x1002";return Q}function LYB(A){return{spdisplays_mtlgpufamilymac1:"mac1",spdisplays_mtlgpufamilymac2:"mac2",spdisplays_mtlgpufamilyapple1:"apple1",spdisplays_mtlgpufamilyapple2:"apple2",spdisplays_mtlgpufamilyapple3:"apple3",spdisplays_mtlgpufamilyapple4:"apple4",spdisplays_mtlgpufamilyapple5:"apple5",spdisplays_mtlgpufamilyapple6:"apple6",spdisplays_mtlgpufamilyapple7:"apple7",spdisplays_metalfeaturesetfamily11:"family1_v1",spdisplays_metalfeaturesetfamily12:"family1_v2",spdisplays_metalfeaturesetfamily13:"family1_v3",spdisplays_metalfeaturesetfamily14:"family1_v4",spdisplays_metalfeaturesetfamily21:"family2_v1"}[A]||""}function OYB(A){function Q(Z){let X={controllers:[],displays:[]};try{return Z.forEach(function(W){let K=(W.sppci_bus||"").indexOf("builtin")>-1?"Built-In":(W.sppci_bus||"").indexOf("pcie")>-1?"PCIe":"",V=(parseInt(W.spdisplays_vram||"",10)||0)*((W.spdisplays_vram||"").indexOf("GB")>-1?1024:1),M=(parseInt(W.spdisplays_vram_shared||"",10)||0)*((W.spdisplays_vram_shared||"").indexOf("GB")>-1?1024:1),z=LYB(W.spdisplays_metal||W.spdisplays_metalfamily||"");if(X.controllers.push({vendor:a4Q(W.spdisplays_vendor||"")||W.spdisplays_vendor||"",model:W.sppci_model||"",bus:K,vramDynamic:K==="Built-In",vram:V||M||null,deviceId:W["spdisplays_device-id"]||"",vendorId:W["spdisplays_vendor-id"]||wYB((W.spdisplays_vendor||"")+(W.sppci_model||"")),external:W.sppci_device_type==="spdisplays_egpu",cores:W.sppci_cores||null,metalVersion:z}),W.spdisplays_ndrvs&&W.spdisplays_ndrvs.length)W.spdisplays_ndrvs.forEach(function(L){let O=L.spdisplays_connection_type||"",R=(L._spdisplays_resolution||"").split("@"),_=R[0].split("x"),S=(L._spdisplays_pixels||"").split("x"),q=L.spdisplays_depth||"",y=L["_spdisplays_display-serial-number"]||L["_spdisplays_display-serial-number2"]||null;X.displays.push({vendor:zYB(L["_spdisplays_display-vendor-id"]||"")||a4Q(L._name||""),vendorId:L["_spdisplays_display-vendor-id"]||"",model:L._name||"",productionYear:L["_spdisplays_display-year"]||null,serial:y!=="0"?y:null,displayId:L._spdisplays_displayID||null,main:L.spdisplays_main?L.spdisplays_main==="spdisplays_yes":!1,builtin:(L.spdisplays_display_type||"").indexOf("built-in")>-1,connection:O.indexOf("_internal")>-1?"Internal":O.indexOf("_displayport")>-1?"Display Port":O.indexOf("_hdmi")>-1?"HDMI":null,sizeX:null,sizeY:null,pixelDepth:q==="CGSThirtyBitColor"?30:q==="CGSThirtytwoBitColor"?32:q==="CGSTwentyfourBitColor"?24:null,resolutionX:S.length>1?parseInt(S[0],10):null,resolutionY:S.length>1?parseInt(S[1],10):null,currentResX:_.length>1?parseInt(_[0],10):null,currentResY:_.length>1?parseInt(_[1],10):null,positionX:0,positionY:0,currentRefreshRate:R.length>1?parseInt(R[1],10):null})})}),X}catch(W){return X}}function B(Z){let X=[],W={vendor:"",subVendor:"",model:"",bus:"",busAddress:"",vram:null,vramDynamic:!1,pciID:""},K=!1,V=[];try{V=DHA('export LC_ALL=C; dmidecode -t 9 2>/dev/null; unset LC_ALL | grep "Bus Address: "',wQ.execOptsLinux).toString().split(`
`);for(let z=0;z<V.length;z++)V[z]=V[z].replace("Bus Address:","").replace("0000:","").trim();V=V.filter(function(z){return z!=null&&z})}catch(z){wQ.noop()}let M=1;if(Z.forEach((z)=>{let L="";if(M<Z.length&&Z[M]){if(L=Z[M],L.indexOf(":")>0)L=L.split(":")[1]}if(z.trim()!==""){if(z[0]!==" "&&z[0]!=="\t"){let O=V.indexOf(z.split(" ")[0])>=0,R=z.toLowerCase().indexOf(" vga "),_=z.toLowerCase().indexOf("3d controller");if(R!==-1||_!==-1){if(_!==-1&&R===-1)R=_;if(W.vendor||W.model||W.bus||W.vram!==null||W.vramDynamic)X.push(W),W={vendor:"",model:"",bus:"",busAddress:"",vram:null,vramDynamic:!1};let S=z.split(" ")[0];if(/[\da-fA-F]{2}:[\da-fA-F]{2}\.[\da-fA-F]/.test(S))W.busAddress=S;K=!0;let q=z.search(/\[[0-9a-f]{4}:[0-9a-f]{4}]|$/),y=z.substr(R,q-R).split(":");if(W.busAddress=z.substr(0,R).trim(),y.length>1){if(y[1]=y[1].trim(),y[1].toLowerCase().indexOf("corporation")>=0)W.vendor=y[1].substr(0,y[1].toLowerCase().indexOf("corporation")+11).trim(),W.model=y[1].substr(y[1].toLowerCase().indexOf("corporation")+11,200).split("(")[0].trim(),W.bus=V.length>0&&O?"PCIe":"Onboard",W.vram=null,W.vramDynamic=!1;else if(y[1].toLowerCase().indexOf(" inc.")>=0){if((y[1].match(/]/g)||[]).length>1)W.vendor=y[1].substr(0,y[1].toLowerCase().indexOf("]")+1).trim(),W.model=y[1].substr(y[1].toLowerCase().indexOf("]")+1,200).trim().split("(")[0].trim();else W.vendor=y[1].substr(0,y[1].toLowerCase().indexOf(" inc.")+5).trim(),W.model=y[1].substr(y[1].toLowerCase().indexOf(" inc.")+5,200).trim().split("(")[0].trim();W.bus=V.length>0&&O?"PCIe":"Onboard",W.vram=null,W.vramDynamic=!1}else if(y[1].toLowerCase().indexOf(" ltd.")>=0)if((y[1].match(/]/g)||[]).length>1)W.vendor=y[1].substr(0,y[1].toLowerCase().indexOf("]")+1).trim(),W.model=y[1].substr(y[1].toLowerCase().indexOf("]")+1,200).trim().split("(")[0].trim();else W.vendor=y[1].substr(0,y[1].toLowerCase().indexOf(" ltd.")+5).trim(),W.model=y[1].substr(y[1].toLowerCase().indexOf(" ltd.")+5,200).trim().split("(")[0].trim();if(W.model&&L.indexOf(W.model)!==-1){let p=L.split(W.model)[0].trim();if(p)W.subVendor=p}}}else K=!1}if(K){let O=z.split(":");if(O.length>1&&O[0].replace(/ +/g,"").toLowerCase().indexOf("devicename")!==-1&&O[1].toLowerCase().indexOf("onboard")!==-1)W.bus="Onboard";if(O.length>1&&O[0].replace(/ +/g,"").toLowerCase().indexOf("region")!==-1&&O[1].toLowerCase().indexOf("memory")!==-1){let R=O[1].split("=");if(R.length>1)W.vram=parseInt(R[1])}}}M++}),W.vendor||W.model||W.bus||W.busAddress||W.vram!==null||W.vramDynamic)X.push(W);return X}function C(Z,X){let W=/\[([^\]]+)\]\s+(\w+)\s+(.*)/,K=X.reduce((V,M)=>{let z=W.exec(M.trim());if(z){if(!V[z[1]])V[z[1]]={};V[z[1]][z[2]]=z[3]}return V},{});for(let V in K){let M=K[V];if(M.CL_DEVICE_TYPE==="CL_DEVICE_TYPE_GPU"){let z;if(M.CL_DEVICE_TOPOLOGY_AMD){let L=M.CL_DEVICE_TOPOLOGY_AMD.match(/[a-zA-Z0-9]+:\d+\.\d+/);if(L)z=L[0]}else if(M.CL_DEVICE_PCI_BUS_ID_NV&&M.CL_DEVICE_PCI_SLOT_ID_NV){let L=parseInt(M.CL_DEVICE_PCI_BUS_ID_NV),O=parseInt(M.CL_DEVICE_PCI_SLOT_ID_NV);if(!isNaN(L)&&!isNaN(O)){let R=L&255,_=O>>3&255,S=O&7;z=`${R.toString().padStart(2,"0")}:${_.toString().padStart(2,"0")}.${S}`}}if(z){let L=Z.find((R)=>R.busAddress===z);if(!L)L={vendor:"",model:"",bus:"",busAddress:z,vram:null,vramDynamic:!1},Z.push(L);if(L.vendor=M.CL_DEVICE_VENDOR,M.CL_DEVICE_BOARD_NAME_AMD)L.model=M.CL_DEVICE_BOARD_NAME_AMD;else L.model=M.CL_DEVICE_NAME;let O=parseInt(M.CL_DEVICE_GLOBAL_MEM_SIZE);if(!isNaN(O))L.vram=Math.round(O/1024/1024)}}}return Z}function E(){if(yv)return yv;if(o4Q)try{let Z=wQ.WINDIR+"\\System32\\DriverStore\\FileRepository",W=Us.readdirSync(Z).filter((K)=>{return Us.readdirSync([Z,K].join("/")).includes("nvidia-smi.exe")}).reduce((K,V)=>{let M=Us.statSync([Z,K,"nvidia-smi.exe"].join("/")),z=Us.statSync([Z,V,"nvidia-smi.exe"].join("/"));return M.ctimeMs>z.ctimeMs?K:V});if(W)yv=[Z,W,"nvidia-smi.exe"].join("/")}catch(Z){wQ.noop()}else if(Ns)yv="nvidia-smi";return yv}function I(Z){let X=E();if(Z=Z||wQ.execOptsWin,X){let K=X+" --query-gpu=driver_version,pci.sub_device_id,name,pci.bus_id,fan.speed,memory.total,memory.used,memory.free,utilization.gpu,utilization.memory,temperature.gpu,temperature.memory,power.draw,power.limit,clocks.gr,clocks.mem --format=csv,noheader,nounits"+(Ns?"  2>/dev/null":"");if(Ns)Z.stdio=["pipe","pipe","ignore"];try{return DHA(K,Z).toString()}catch(V){wQ.noop()}}return""}function Y(){function Z(V){if([null,void 0].includes(V))return V;return parseFloat(V)}let X=I();if(!X)return[];let K=X.split(`
`).filter(Boolean).map((V)=>{let M=V.split(", ").map((z)=>z.includes("N/A")?void 0:z);if(M.length===16)return{driverVersion:M[0],subDeviceId:M[1],name:M[2],pciBus:M[3],fanSpeed:Z(M[4]),memoryTotal:Z(M[5]),memoryUsed:Z(M[6]),memoryFree:Z(M[7]),utilizationGpu:Z(M[8]),utilizationMemory:Z(M[9]),temperatureGpu:Z(M[10]),temperatureMemory:Z(M[11]),powerDraw:Z(M[12]),powerLimit:Z(M[13]),clockCore:Z(M[14]),clockMemory:Z(M[15])};else return{}});return K=K.filter((V)=>{return"pciBus"in V}),K}function G(Z,X){if(X.driverVersion)Z.driverVersion=X.driverVersion;if(X.subDeviceId)Z.subDeviceId=X.subDeviceId;if(X.name)Z.name=X.name;if(X.pciBus)Z.pciBus=X.pciBus;if(X.fanSpeed)Z.fanSpeed=X.fanSpeed;if(X.memoryTotal)Z.memoryTotal=X.memoryTotal,Z.vram=X.memoryTotal,Z.vramDynamic=!1;if(X.memoryUsed)Z.memoryUsed=X.memoryUsed;if(X.memoryFree)Z.memoryFree=X.memoryFree;if(X.utilizationGpu)Z.utilizationGpu=X.utilizationGpu;if(X.utilizationMemory)Z.utilizationMemory=X.utilizationMemory;if(X.temperatureGpu)Z.temperatureGpu=X.temperatureGpu;if(X.temperatureMemory)Z.temperatureMemory=X.temperatureMemory;if(X.powerDraw)Z.powerDraw=X.powerDraw;if(X.powerLimit)Z.powerLimit=X.powerLimit;if(X.clockCore)Z.clockCore=X.clockCore;if(X.clockMemory)Z.clockMemory=X.clockMemory;return Z}function J(Z){let X={vendor:"",model:"",deviceName:"",main:!1,builtin:!1,connection:"",sizeX:null,sizeY:null,pixelDepth:null,resolutionX:null,resolutionY:null,currentResX:null,currentResY:null,positionX:0,positionY:0,currentRefreshRate:null},W=108;if(Z.substr(W,6)==="000000")W+=36;if(Z.substr(W,6)==="000000")W+=36;if(Z.substr(W,6)==="000000")W+=36;if(Z.substr(W,6)==="000000")W+=36;if(X.resolutionX=parseInt("0x0"+Z.substr(W+8,1)+Z.substr(W+4,2)),X.resolutionY=parseInt("0x0"+Z.substr(W+14,1)+Z.substr(W+10,2)),X.sizeX=parseInt("0x0"+Z.substr(W+28,1)+Z.substr(W+24,2)),X.sizeY=parseInt("0x0"+Z.substr(W+29,1)+Z.substr(W+26,2)),W=Z.indexOf("000000fc00"),W>=0){let K=Z.substr(W+10,26);if(K.indexOf("0a")!==-1)K=K.substr(0,K.indexOf("0a"));try{if(K.length>2)X.model=K.match(/.{1,2}/g).map(function(V){return String.fromCharCode(parseInt(V,16))}).join("")}catch(V){wQ.noop()}}else X.model="";return X}function D(Z,X){let W=[],K={vendor:"",model:"",deviceName:"",main:!1,builtin:!1,connection:"",sizeX:null,sizeY:null,pixelDepth:null,resolutionX:null,resolutionY:null,currentResX:null,currentResY:null,positionX:0,positionY:0,currentRefreshRate:null},V=!1,M=!1,z="",L=0;for(let O=1;O<Z.length;O++)if(Z[O].trim()!==""){if(Z[O][0]!==" "&&Z[O][0]!=="\t"&&Z[O].toLowerCase().indexOf(" connected ")!==-1){if(K.model||K.main||K.builtin||K.connection||K.sizeX!==null||K.pixelDepth!==null||K.resolutionX!==null)W.push(K),K={vendor:"",model:"",main:!1,builtin:!1,connection:"",sizeX:null,sizeY:null,pixelDepth:null,resolutionX:null,resolutionY:null,currentResX:null,currentResY:null,positionX:0,positionY:0,currentRefreshRate:null};let R=Z[O].split(" ");K.connection=R[0],K.main=Z[O].toLowerCase().indexOf(" primary ")>=0,K.builtin=R[0].toLowerCase().indexOf("edp")>=0}if(V)if(Z[O].search(/\S|$/)>L)z+=Z[O].toLowerCase().trim();else{let R=J(z);K.vendor=R.vendor,K.model=R.model,K.resolutionX=R.resolutionX,K.resolutionY=R.resolutionY,K.sizeX=R.sizeX,K.sizeY=R.sizeY,K.pixelDepth=X,V=!1}if(Z[O].toLowerCase().indexOf("edid:")>=0)V=!0,L=Z[O].search(/\S|$/);if(Z[O].toLowerCase().indexOf("*current")>=0){let R=Z[O].split("(");if(R&&R.length>1&&R[0].indexOf("x")>=0){let _=R[0].trim().split("x");K.currentResX=wQ.toInt(_[0]),K.currentResY=wQ.toInt(_[1])}M=!0}if(M&&Z[O].toLowerCase().indexOf("clock")>=0&&Z[O].toLowerCase().indexOf("hz")>=0&&Z[O].toLowerCase().indexOf("v: height")>=0){let R=Z[O].split("clock");if(R&&R.length>1&&R[1].toLowerCase().indexOf("hz")>=0)K.currentRefreshRate=wQ.toInt(R[1]);M=!1}}if(K.model||K.main||K.builtin||K.connection||K.sizeX!==null||K.pixelDepth!==null||K.resolutionX!==null)W.push(K);return W}return new Promise((Z)=>{process.nextTick(()=>{let X={controllers:[],displays:[]};if(WYB)TR("system_profiler -xml -detailLevel full SPDisplaysDataType",function(K,V){if(!K){try{let M=V.toString();X=Q(wQ.plistParser(M)[0]._items)}catch(M){wQ.noop()}try{V=DHA('defaults read /Library/Preferences/com.apple.windowserver.plist 2>/dev/null;defaults read /Library/Preferences/com.apple.windowserver.displays.plist 2>/dev/null; echo ""',{maxBuffer:20480000});let M=(V||"").toString(),z=wQ.plistReader(M);if(z.DisplayAnyUserSets&&z.DisplayAnyUserSets.Configs&&z.DisplayAnyUserSets.Configs[0]&&z.DisplayAnyUserSets.Configs[0].DisplayConfig){let L=z.DisplayAnyUserSets.Configs[0].DisplayConfig,O=0;L.forEach((R)=>{if(R.CurrentInfo&&R.CurrentInfo.OriginX!==void 0&&X.displays&&X.displays[O])X.displays[O].positionX=R.CurrentInfo.OriginX;if(R.CurrentInfo&&R.CurrentInfo.OriginY!==void 0&&X.displays&&X.displays[O])X.displays[O].positionY=R.CurrentInfo.OriginY;O++})}if(z.DisplayAnyUserSets&&z.DisplayAnyUserSets.length>0&&z.DisplayAnyUserSets[0].length>0&&z.DisplayAnyUserSets[0][0].DisplayID){let L=z.DisplayAnyUserSets[0],O=0;L.forEach((R)=>{if("OriginX"in R&&X.displays&&X.displays[O])X.displays[O].positionX=R.OriginX;if("OriginY"in R&&X.displays&&X.displays[O])X.displays[O].positionY=R.OriginY;if(R.Mode&&R.Mode.BitsPerPixel!==void 0&&X.displays&&X.displays[O])X.displays[O].pixelDepth=R.Mode.BitsPerPixel;O++})}}catch(M){wQ.noop()}}if(A)A(X);Z(X)});if(Ns){if(wQ.isRaspberry())TR(`fbset -s 2> /dev/null | grep 'mode "' ; vcgencmd get_mem gpu 2> /dev/null; tvservice -s 2> /dev/null; tvservice -n 2> /dev/null;`,function(V,M){let z=M.toString().split(`
`);if(z.length>3&&z[0].indexOf('mode "')>=-1&&z[2].indexOf("0x12000a")>-1){let L=z[0].replace("mode","").replace(/"/g,"").trim().split("x");if(L.length===2)X.displays.push({vendor:"",model:wQ.getValue(z,"device_name","="),main:!0,builtin:!1,connection:"HDMI",sizeX:null,sizeY:null,pixelDepth:null,resolutionX:parseInt(L[0],10),resolutionY:parseInt(L[1],10),currentResX:null,currentResY:null,positionX:0,positionY:0,currentRefreshRate:null})}if(z.length>=1&&M.toString().indexOf("gpu=")>=-1)X.controllers.push({vendor:"Broadcom",model:wQ.getRpiGpu(),bus:"",vram:wQ.getValue(z,"gpu","=").replace("M",""),vramDynamic:!0})});TR("lspci -vvv  2>/dev/null",function(K,V){if(!K){let z=V.toString().split(`
`);if(X.controllers.length===0){X.controllers=B(z);let L=Y();X.controllers=X.controllers.map((O)=>{return G(O,L.find((R)=>R.pciBus.toLowerCase().endsWith(O.busAddress.toLowerCase()))||{})})}}TR("clinfo --raw",function(z,L){if(!z){let R=L.toString().split(`
`);X.controllers=C(X.controllers,R)}TR("xdpyinfo 2>/dev/null | grep 'depth of root window' | awk '{ print $5 }'",function(R,_){let S=0;if(!R){let y=_.toString().split(`
`);S=parseInt(y[0])||0}TR("xrandr --verbose 2>/dev/null",function(y,p){if(!y){let i=p.toString().split(`
`);X.displays=D(i,S)}if(A)A(X);Z(X)})})})})}if(KYB||VYB||MYB){if(A)A(null);Z(null)}if($YB){if(A)A(null);Z(null)}if(o4Q)try{let W=[];W.push(wQ.powerShell("Get-CimInstance win32_VideoController | fl *")),W.push(wQ.powerShell('gp "HKLM:\\SYSTEM\\ControlSet001\\Control\\Class\\{4d36e968-e325-11ce-bfc1-08002be10318}\\*" -ErrorAction SilentlyContinue | where MatchingDeviceId $null -NE | select MatchingDeviceId,HardwareInformation.qwMemorySize | fl')),W.push(wQ.powerShell("Get-CimInstance win32_desktopmonitor | fl *")),W.push(wQ.powerShell("Get-CimInstance -Namespace root\\wmi -ClassName WmiMonitorBasicDisplayParams | fl")),W.push(wQ.powerShell("Add-Type -AssemblyName System.Windows.Forms; [System.Windows.Forms.Screen]::AllScreens")),W.push(wQ.powerShell("Get-CimInstance -Namespace root\\wmi -ClassName WmiMonitorConnectionParams | fl")),W.push(wQ.powerShell('gwmi WmiMonitorID -Namespace root\\wmi | ForEach-Object {(($_.ManufacturerName -notmatch 0 | foreach {[char]$_}) -join "") + "|" + (($_.ProductCodeID -notmatch 0 | foreach {[char]$_}) -join "") + "|" + (($_.UserFriendlyName -notmatch 0 | foreach {[char]$_}) -join "") + "|" + (($_.SerialNumberID -notmatch 0 | foreach {[char]$_}) -join "") + "|" + $_.InstanceName}'));let K=Y();Promise.all(W).then((V)=>{let M=V[0].replace(/\r/g,"").split(/\n\s*\n/),z=V[1].replace(/\r/g,"").split(/\n\s*\n/);X.controllers=U(M,z),X.controllers=X.controllers.map((y)=>{if(y.vendor.toLowerCase()==="nvidia")return G(y,K.find((p)=>{let i=(y.subDeviceId||"").toLowerCase(),MA=p.subDeviceId.split("x"),d=MA.length>1?MA[1].toLowerCase():MA[0].toLowerCase(),AA=Math.abs(i.length-d.length);if(i.length>d.length)for(let IA=0;IA<AA;IA++)d="0"+d;else if(i.length<d.length)for(let IA=0;IA<AA;IA++)i="0"+i;return i===d})||{});else return y});let L=V[2].replace(/\r/g,"").split(/\n\s*\n/);if(L[0].trim()==="")L.shift();if(L.length&&L[L.length-1].trim()==="")L.pop();let O=V[3].replace(/\r/g,"").split("Active ");O.shift();let R=V[4].replace(/\r/g,"").split("BitsPerPixel ");R.shift();let _=V[5].replace(/\r/g,"").split(/\n\s*\n/);_.shift();let S=V[6].replace(/\r/g,"").split(/\n/),q=[];if(S.forEach((y)=>{let p=y.split("|");if(p.length===5)q.push({vendor:p[0],code:p[1],model:p[2],serial:p[3],instanceId:p[4]})}),X.displays=N(R,O,L,_,q),X.displays.length===1){if(kv){if(X.displays[0].resolutionX=kv,!X.displays[0].currentResX)X.displays[0].currentResX=kv}if(bv){if(X.displays[0].resolutionY=bv,X.displays[0].currentResY===0)X.displays[0].currentResY=bv}if(Zs)X.displays[0].pixelDepth=Zs}if(X.displays=X.displays.map((y)=>{if(Xs&&!y.currentRefreshRate)y.currentRefreshRate=Xs;return y}),A)A(X);Z(X)}).catch(()=>{if(A)A(X);Z(X)})}catch(W){if(A)A(X);Z(X)}})});function U(Z,X){let W={};for(let V in X)if({}.hasOwnProperty.call(X,V)){if(X[V].trim()!==""){let M=X[V].trim().split(`
`),z=wQ.getValue(M,"MatchingDeviceId").match(/PCI\\(VEN_[0-9A-F]{4})&(DEV_[0-9A-F]{4})(?:&(SUBSYS_[0-9A-F]{8}))?(?:&(REV_[0-9A-F]{2}))?/i);if(z){let L=parseInt(wQ.getValue(M,"HardwareInformation.qwMemorySize"));if(!isNaN(L)){let O=z[1].toUpperCase()+"&"+z[2].toUpperCase();if(z[3])O+="&"+z[3].toUpperCase();if(z[4])O+="&"+z[4].toUpperCase();W[O]=L}}}}let K=[];for(let V in Z)if({}.hasOwnProperty.call(Z,V)){if(Z[V].trim()!==""){let M=Z[V].trim().split(`
`),z=wQ.getValue(M,"PNPDeviceID",":").match(/PCI\\(VEN_[0-9A-F]{4})&(DEV_[0-9A-F]{4})(?:&(SUBSYS_[0-9A-F]{8}))?(?:&(REV_[0-9A-F]{2}))?/i),L=null,O=null;if(z){if(L=z[3]||"",L)L=L.split("_")[1];if(O==null&&z[3]&&z[4]){let R=z[1].toUpperCase()+"&"+z[2].toUpperCase()+"&"+z[3].toUpperCase()+"&"+z[4].toUpperCase();if({}.hasOwnProperty.call(W,R))O=W[R]}if(O==null&&z[3]){let R=z[1].toUpperCase()+"&"+z[2].toUpperCase()+"&"+z[3].toUpperCase();if({}.hasOwnProperty.call(W,R))O=W[R]}if(O==null&&z[4]){let R=z[1].toUpperCase()+"&"+z[2].toUpperCase()+"&"+z[4].toUpperCase();if({}.hasOwnProperty.call(W,R))O=W[R]}if(O==null){let R=z[1].toUpperCase()+"&"+z[2].toUpperCase();if({}.hasOwnProperty.call(W,R))O=W[R]}}K.push({vendor:wQ.getValue(M,"AdapterCompatibility",":"),model:wQ.getValue(M,"name",":"),bus:wQ.getValue(M,"PNPDeviceID",":").startsWith("PCI")?"PCI":"",vram:(O==null?wQ.toInt(wQ.getValue(M,"AdapterRAM",":")):O)/1024/1024,vramDynamic:wQ.getValue(M,"VideoMemoryType",":")==="2",subDeviceId:L}),kv=wQ.toInt(wQ.getValue(M,"CurrentHorizontalResolution",":"))||kv,bv=wQ.toInt(wQ.getValue(M,"CurrentVerticalResolution",":"))||bv,Xs=wQ.toInt(wQ.getValue(M,"CurrentRefreshRate",":"))||Xs,Zs=wQ.toInt(wQ.getValue(M,"CurrentBitsPerPixel",":"))||Zs}}return K}function N(Z,X,W,K,V){let M=[],z="",L="",O="",R=0,_=0;if(W&&W.length){let S=W[0].split(`
`);z=wQ.getValue(S,"MonitorManufacturer",":"),L=wQ.getValue(S,"Name",":"),O=wQ.getValue(S,"PNPDeviceID",":").replace(/&amp;/g,"&").toLowerCase(),R=wQ.toInt(wQ.getValue(S,"ScreenWidth",":")),_=wQ.toInt(wQ.getValue(S,"ScreenHeight",":"))}for(let S=0;S<Z.length;S++)if(Z[S].trim()!==""){if(Z[S]="BitsPerPixel "+Z[S],X[S]="Active "+X[S],K.length===0||K[S]===void 0)K[S]="Unknown";let q=Z[S].split(`
`),y=X[S].split(`
`),p=K[S].split(`
`),i=wQ.getValue(q,"BitsPerPixel"),MA=wQ.getValue(q,"Bounds").replace("{","").replace("}","").replace(/=/g,":").split(","),d=wQ.getValue(q,"Primary"),AA=wQ.getValue(y,"MaxHorizontalImageSize"),IA=wQ.getValue(y,"MaxVerticalImageSize"),UA=wQ.getValue(y,"InstanceName").toLowerCase(),NA=wQ.getValue(p,"VideoOutputTechnology"),bA=wQ.getValue(q,"DeviceName"),FQ="",IQ="";V.forEach((KQ)=>{if(KQ.instanceId.toLowerCase().startsWith(UA)&&z.startsWith("(")&&L.startsWith("PnP"))FQ=KQ.vendor,IQ=KQ.model}),M.push({vendor:UA.startsWith(O)&&FQ===""?z:FQ,model:UA.startsWith(O)&&IQ===""?L:IQ,deviceName:bA,main:d.toLowerCase()==="true",builtin:NA==="2147483648",connection:NA&&r4Q[NA]?r4Q[NA]:"",resolutionX:wQ.toInt(wQ.getValue(MA,"Width",":")),resolutionY:wQ.toInt(wQ.getValue(MA,"Height",":")),sizeX:AA?parseInt(AA,10):null,sizeY:IA?parseInt(IA,10):null,pixelDepth:i,currentResX:wQ.toInt(wQ.getValue(MA,"Width",":")),currentResY:wQ.toInt(wQ.getValue(MA,"Height",":")),positionX:wQ.toInt(wQ.getValue(MA,"X",":")),positionY:wQ.toInt(wQ.getValue(MA,"Y",":"))})}if(Z.length===0)M.push({vendor:z,model:L,main:!0,sizeX:null,sizeY:null,resolutionX:R,resolutionY:_,pixelDepth:null,currentResX:R,currentResY:_,positionX:0,positionY:0});return M}}RYB.graphics=OYB});var B1Q=m((pYB)=>{var kA=aY(),t4Q=a("fs"),W2=a("child_process").exec,BK=a("child_process").execSync,qYB=kA.promisifySave(a("child_process").exec),EK=process.platform,oZ=EK==="linux"||EK==="android",CK=EK==="darwin",qR=EK==="win32",rZ=EK==="freebsd",aZ=EK==="openbsd",sZ=EK==="netbsd",PR=EK==="sunos",ZC={},XB={};function PYB(A,Q){if(kA.isFunction(A))Q=A,A="";let B=[],C=[];function E(J){if(!J.startsWith("/"))return"NFS";let D=J.split("/"),U=D[D.length-1],N=B.filter((Z)=>Z.indexOf(U)>=0);if(N.length===1&&N[0].indexOf("APFS")>=0)return"APFS";return"HFS"}function I(J){let D=["rootfs","unionfs","squashfs","cramfs","initrd","initramfs","devtmpfs","tmpfs","udev","devfs","specfs","type","appimaged"],U=!1;return D.forEach((N)=>{if(J.toLowerCase().indexOf(N)>=0)U=!0}),U}function Y(J){let D=J.toString().split(`
`);if(D.shift(),J.toString().toLowerCase().indexOf("filesystem")){let U=0;for(let N=0;N<D.length;N++)if(D[N]&&D[N].toLowerCase().startsWith("filesystem"))U=N;for(let N=0;N<U;N++)D.shift()}return D}function G(J){let D=[];return J.forEach(function(U){if(U!==""){if(U=U.replace(/ +/g," ").split(" "),U&&(U[0].startsWith("/")||U[6]&&U[6]==="/"||U[0].indexOf("/")>0||U[0].indexOf(":")===1||!CK&&!I(U[1]))){let N=U[0],Z=oZ||rZ||aZ||sZ?U[1]:E(U[0]),X=parseInt(oZ||rZ||aZ||sZ?U[2]:U[1])*1024,W=parseInt(oZ||rZ||aZ||sZ?U[3]:U[2])*1024,K=parseInt(oZ||rZ||aZ||sZ?U[4]:U[3])*1024,V=parseFloat((100*(W/(W+K))).toFixed(2)),M=C&&Object.keys(C).length>0?C[N]||!1:null;U.splice(0,oZ||rZ||aZ||sZ?6:5);let z=U.join(" ");if(!D.find((L)=>L.fs===N&&L.type===Z))D.push({fs:N,type:Z,size:X,used:W,available:K,use:V,mount:z,rw:M})}}}),D}return new Promise((J)=>{process.nextTick(()=>{let D=[];if(oZ||rZ||aZ||sZ||CK){let U="";if(B=[],C={},CK){U="df -kP";try{B=BK("diskutil list").toString().split(`
`).filter((N)=>{return!N.startsWith("/")&&N.indexOf(":")>0}),BK("mount").toString().split(`
`).filter((N)=>{return N.startsWith("/")}).forEach((N)=>{C[N.split(" ")[0]]=N.toLowerCase().indexOf("read-only")===-1})}catch(N){kA.noop()}}if(oZ)try{U="export LC_ALL=C; df -lkPTx squashfs; unset LC_ALL",BK("cat /proc/mounts 2>/dev/null",kA.execOptsLinux).toString().split(`
`).filter((N)=>{return N.startsWith("/")}).forEach((N)=>{if(C[N.split(" ")[0]]=C[N.split(" ")[0]]||!1,N.toLowerCase().indexOf("/snap/")===-1)C[N.split(" ")[0]]=N.toLowerCase().indexOf("rw,")>=0||N.toLowerCase().indexOf(" rw ")>=0})}catch(N){kA.noop()}if(rZ||aZ||sZ)try{U="df -lkPT",BK("mount").toString().split(`
`).forEach((N)=>{C[N.split(" ")[0]]=N.toLowerCase().indexOf("read-only")===-1})}catch(N){kA.noop()}W2(U,{maxBuffer:1048576},function(N,Z){let X=Y(Z);if(D=G(X),A)D=D.filter((W)=>{return W.fs.toLowerCase().indexOf(A.toLowerCase())>=0||W.mount.toLowerCase().indexOf(A.toLowerCase())>=0});if((!N||D.length)&&Z.toString().trim()!==""){if(Q)Q(D);J(D)}else W2("df -kPT",{maxBuffer:1048576},function(W,K){if(!W){let V=Y(K);D=G(V)}if(Q)Q(D);J(D)})})}if(PR){if(Q)Q(D);J(D)}if(qR)try{let U=`Get-WmiObject Win32_logicaldisk | select Access,Caption,FileSystem,FreeSpace,Size ${A?"| where -property Caption -eq "+A:""} | fl`;kA.powerShell(U).then((N,Z)=>{if(!Z)N.toString().split(/\n\s*\n/).forEach(function(W){let K=W.split(`\r
`),V=kA.toInt(kA.getValue(K,"size",":")),M=kA.toInt(kA.getValue(K,"freespace",":")),z=kA.getValue(K,"caption",":"),L=kA.getValue(K,"access",":"),O=L?kA.toInt(L)!==1:null;if(V)D.push({fs:z,type:kA.getValue(K,"filesystem",":"),size:V,used:V-M,available:M,use:parseFloat((100*(V-M)/V).toFixed(2)),mount:z,rw:O})});if(Q)Q(D);J(D)})}catch(U){if(Q)Q(D);J(D)}})})}pYB.fsSize=PYB;function _YB(A){return new Promise((Q)=>{process.nextTick(()=>{let B={max:null,allocated:null,available:null};if(rZ||aZ||sZ||CK)W2("sysctl -i kern.maxfiles kern.num_files kern.open_files",{maxBuffer:1048576},function(E,I){if(!E){let Y=I.toString().split(`
`);B.max=parseInt(kA.getValue(Y,"kern.maxfiles",":"),10),B.allocated=parseInt(kA.getValue(Y,"kern.num_files",":"),10)||parseInt(kA.getValue(Y,"kern.open_files",":"),10),B.available=B.max-B.allocated}if(A)A(B);Q(B)});if(oZ)t4Q.readFile("/proc/sys/fs/file-nr",function(C,E){if(!C){let I=E.toString().split(`
`);if(I[0]){let Y=I[0].replace(/\s+/g," ").split(" ");if(Y.length===3){if(B.allocated=parseInt(Y[0],10),B.available=parseInt(Y[1],10),B.max=parseInt(Y[2],10),!B.available)B.available=B.max-B.allocated}}if(A)A(B);Q(B)}else t4Q.readFile("/proc/sys/fs/file-max",function(I,Y){if(!I){let G=Y.toString().split(`
`);if(G[0])B.max=parseInt(G[0],10)}if(A)A(B);Q(B)})});if(PR){if(A)A(null);Q(null)}if(qR){if(A)A(null);Q(null)}})})}pYB.fsOpenFiles=_YB;function jYB(A){return parseInt(A.substr(A.indexOf(" (")+2,A.indexOf(" Bytes)")-10))}function xYB(A){let Q=[],B=0;return A.forEach((C)=>{if(C.length>0)if(C[0]==="*")B++;else{let E=C.split(":");if(E.length>1){if(!Q[B])Q[B]={name:"",identifier:"",type:"disk",fsType:"",mount:"",size:0,physical:"HDD",uuid:"",label:"",model:"",serial:"",removable:!1,protocol:"",group:"",device:""};if(E[0]=E[0].trim().toUpperCase().replace(/ +/g,""),E[1]=E[1].trim(),E[0]==="DEVICEIDENTIFIER")Q[B].identifier=E[1];if(E[0]==="DEVICENODE")Q[B].name=E[1];if(E[0]==="VOLUMENAME"){if(E[1].indexOf("Not applicable")===-1)Q[B].label=E[1]}if(E[0]==="PROTOCOL")Q[B].protocol=E[1];if(E[0]==="DISKSIZE")Q[B].size=jYB(E[1]);if(E[0]==="FILESYSTEMPERSONALITY")Q[B].fsType=E[1];if(E[0]==="MOUNTPOINT")Q[B].mount=E[1];if(E[0]==="VOLUMEUUID")Q[B].uuid=E[1];if(E[0]==="READ-ONLYMEDIA"&&E[1]==="Yes")Q[B].physical="CD/DVD";if(E[0]==="SOLIDSTATE"&&E[1]==="Yes")Q[B].physical="SSD";if(E[0]==="VIRTUAL")Q[B].type="virtual";if(E[0]==="REMOVABLEMEDIA")Q[B].removable=E[1]==="Removable";if(E[0]==="PARTITIONTYPE")Q[B].type="part";if(E[0]==="DEVICE/MEDIANAME")Q[B].model=E[1]}}}),Q}function UHA(A){let Q=[];return A.filter((B)=>B!=="").forEach((B)=>{try{B=decodeURIComponent(B.replace(/\\x/g,"%")),B=B.replace(/\\/g,"\\\\");let C=JSON.parse(B);Q.push({name:C.name,type:C.type,fsType:C.fsType,mount:C.mountpoint,size:parseInt(C.size),physical:C.type==="disk"?C.rota==="0"?"SSD":"HDD":C.type==="rom"?"CD/DVD":"",uuid:C.uuid,label:C.label,model:(C.model||"").trim(),serial:C.serial,removable:C.rm==="1",protocol:C.tran,group:C.group||""})}catch(C){kA.noop()}}),Q=kA.unique(Q),Q=kA.sortByKey(Q,["type","name"]),Q}function SYB(A){let Q=kA.getValue(A,"md_level","="),B=kA.getValue(A,"md_name","="),C=kA.getValue(A,"md_uuid","="),E=[];return A.forEach((I)=>{if(I.toLowerCase().startsWith("md_device_dev")&&I.toLowerCase().indexOf("/dev/")>0)E.push(I.split("/dev/")[1])}),{raid:Q,label:B,uuid:C,members:E}}function e4Q(A){let Q=A;try{A.forEach((B)=>{if(B.type.startsWith("raid")){let C=BK(`mdadm --export --detail /dev/${B.name}`,kA.execOptsLinux).toString().split(`
`),E=SYB(C);if(B.label=E.label,B.uuid=E.uuid,E.members&&E.members.length&&E.raid===B.type)Q=Q.map((I)=>{if(I.fsType==="linux_raid_member"&&E.members.indexOf(I.name)>=0)I.group=B.name;return I})}})}catch(B){kA.noop()}return Q}function gYB(A){let Q=[];return A.forEach((B)=>{if(B.type.startsWith("disk"))Q.push(B.name)}),Q}function vYB(A){let Q=A;try{let B=gYB(A);Q=Q.map((C)=>{if(C.type.startsWith("part")||C.type.startsWith("disk"))B.forEach((E)=>{if(C.name.startsWith(E))C.device="/dev/"+E});return C})}catch(B){kA.noop()}return Q}function yYB(A){let Q=[];return A.forEach((B)=>{if(B.type.startsWith("disk"))Q.push({name:B.name,model:B.model,device:B.name});if(B.type.startsWith("virtual")){let C="";if(Q.forEach((E)=>{if(E.model===B.model)C=E.device}),C)Q.push({name:B.name,model:B.model,device:C})}}),Q}function kYB(A){let Q=A;try{let B=yYB(A);Q=Q.map((C)=>{if(C.type.startsWith("part")||C.type.startsWith("disk")||C.type.startsWith("virtual"))B.forEach((E)=>{if(C.name.startsWith(E.name))C.device=E.device});return C})}catch(B){kA.noop()}return Q}function bYB(A){let Q=[];return A.forEach((B)=>{let C=B.split(`\r
`),E=kA.getValue(C,"DeviceID",":"),I=B.split("@{DeviceID=");if(I.length>1)I=I.slice(1),I.forEach((Y)=>{Q.push({name:Y.split(";")[0].toUpperCase(),device:E})})}),Q}function hYB(A,Q){let B=bYB(Q);return A.map((C)=>{let E=B.filter((I)=>{return I.name===C.name.toUpperCase()});if(E.length>0)C.device=E[0].device;return C}),A}function NHA(A){return A.toString().replace(/NAME=/g,'{"name":').replace(/FSTYPE=/g,',"fsType":').replace(/TYPE=/g,',"type":').replace(/SIZE=/g,',"size":').replace(/MOUNTPOINT=/g,',"mountpoint":').replace(/UUID=/g,',"uuid":').replace(/ROTA=/g,',"rota":').replace(/RO=/g,',"ro":').replace(/RM=/g,',"rm":').replace(/TRAN=/g,',"tran":').replace(/SERIAL=/g,',"serial":').replace(/LABEL=/g,',"label":').replace(/MODEL=/g,',"model":').replace(/OWNER=/g,',"owner":').replace(/GROUP=/g,',"group":').replace(/\n/g,`}
`)}function mYB(A){return new Promise((Q)=>{process.nextTick(()=>{let B=[];if(oZ)W2("lsblk -bPo NAME,TYPE,SIZE,FSTYPE,MOUNTPOINT,UUID,ROTA,RO,RM,TRAN,SERIAL,LABEL,MODEL,OWNER 2>/dev/null",{maxBuffer:1048576},function(C,E){if(!C){let I=NHA(E).split(`
`);if(B=UHA(I),B=e4Q(B),B=vYB(B),A)A(B);Q(B)}else W2("lsblk -bPo NAME,TYPE,SIZE,FSTYPE,MOUNTPOINT,UUID,ROTA,RO,RM,LABEL,MODEL,OWNER 2>/dev/null",{maxBuffer:1048576},function(I,Y){if(!I){let G=NHA(Y).split(`
`);B=UHA(G),B=e4Q(B)}if(A)A(B);Q(B)})});if(CK)W2("diskutil info -all",{maxBuffer:1048576},function(C,E){if(!C){let I=E.toString().split(`
`);B=xYB(I),B=kYB(B)}if(A)A(B);Q(B)});if(PR){if(A)A(B);Q(B)}if(qR){let C=["Unknown","NoRoot","Removable","Local","Network","CD/DVD","RAM"];try{let E=[];E.push(kA.powerShell("Get-CimInstance -ClassName Win32_LogicalDisk | select Caption,DriveType,Name,FileSystem,Size,VolumeSerialNumber,VolumeName | fl")),E.push(kA.powerShell("Get-WmiObject -Class Win32_diskdrive | Select-Object -Property PNPDeviceId,DeviceID, Model, Size, @{L='Partitions'; E={$_.GetRelated('Win32_DiskPartition').GetRelated('Win32_LogicalDisk') | Select-Object -Property DeviceID, VolumeName, Size, FreeSpace}} | fl")),kA.promiseAll(E).then((I)=>{let Y=I.results[0].toString().split(/\n\s*\n/),G=I.results[1].toString().split(/\n\s*\n/);if(Y.forEach(function(J){let D=J.split(`\r
`),U=kA.getValue(D,"drivetype",":");if(U)B.push({name:kA.getValue(D,"name",":"),identifier:kA.getValue(D,"caption",":"),type:"disk",fsType:kA.getValue(D,"filesystem",":").toLowerCase(),mount:kA.getValue(D,"caption",":"),size:kA.getValue(D,"size",":"),physical:U>=0&&U<=6?C[U]:C[0],uuid:kA.getValue(D,"volumeserialnumber",":"),label:kA.getValue(D,"volumename",":"),model:"",serial:kA.getValue(D,"volumeserialnumber",":"),removable:U==="2",protocol:"",group:"",device:""})}),B=hYB(B,G),A)A(B);Q(B)})}catch(E){if(A)A(B);Q(B)}}if(rZ||aZ||sZ){if(A)A(null);Q(null)}})})}pYB.blockDevices=mYB;function A1Q(A,Q){let B={rx:0,wx:0,tx:0,rx_sec:null,wx_sec:null,tx_sec:null,ms:0};if(ZC&&ZC.ms)B.rx=A,B.wx=Q,B.tx=B.rx+B.wx,B.ms=Date.now()-ZC.ms,B.rx_sec=(B.rx-ZC.bytes_read)/(B.ms/1000),B.wx_sec=(B.wx-ZC.bytes_write)/(B.ms/1000),B.tx_sec=B.rx_sec+B.wx_sec,ZC.rx_sec=B.rx_sec,ZC.wx_sec=B.wx_sec,ZC.tx_sec=B.tx_sec,ZC.bytes_read=B.rx,ZC.bytes_write=B.wx,ZC.bytes_overall=B.rx+B.wx,ZC.ms=Date.now(),ZC.last_ms=B.ms;else B.rx=A,B.wx=Q,B.tx=B.rx+B.wx,ZC.rx_sec=null,ZC.wx_sec=null,ZC.tx_sec=null,ZC.bytes_read=B.rx,ZC.bytes_write=B.wx,ZC.bytes_overall=B.rx+B.wx,ZC.ms=Date.now(),ZC.last_ms=0;return B}function fYB(A){return new Promise((Q)=>{process.nextTick(()=>{if(qR||rZ||aZ||sZ||PR)return Q(null);let B={rx:0,wx:0,tx:0,rx_sec:null,wx_sec:null,tx_sec:null,ms:0},C=0,E=0;if(ZC&&!ZC.ms||ZC&&ZC.ms&&Date.now()-ZC.ms>=500){if(oZ)W2("lsblk -r 2>/dev/null | grep /",{maxBuffer:1048576},function(I,Y){if(!I){let G=Y.toString().split(`
`),J=[];G.forEach(function(U){if(U!==""){if(U=U.trim().split(" "),J.indexOf(U[0])===-1)J.push(U[0])}});let D=J.join("|");W2('cat /proc/diskstats | egrep "'+D+'"',{maxBuffer:1048576},function(U,N){if(!U)N.toString().split(`
`).forEach(function(X){if(X=X.trim(),X!=="")X=X.replace(/ +/g," ").split(" "),C+=parseInt(X[5])*512,E+=parseInt(X[9])*512}),B=A1Q(C,E);if(A)A(B);Q(B)})}else{if(A)A(B);Q(B)}});if(CK)W2(`ioreg -c IOBlockStorageDriver -k Statistics -r -w0 | sed -n "/IOBlockStorageDriver/,/Statistics/p" | grep "Statistics" | tr -cd "01234567890,
"`,{maxBuffer:1048576},function(I,Y){if(!I)Y.toString().split(`
`).forEach(function(J){if(J=J.trim(),J!=="")J=J.split(","),C+=parseInt(J[2]),E+=parseInt(J[9])}),B=A1Q(C,E);if(A)A(B);Q(B)})}else{if(B.ms=ZC.last_ms,B.rx=ZC.bytes_read,B.wx=ZC.bytes_write,B.tx=ZC.bytes_read+ZC.bytes_write,B.rx_sec=ZC.rx_sec,B.wx_sec=ZC.wx_sec,B.tx_sec=ZC.tx_sec,A)A(B);Q(B)}})})}pYB.fsStats=fYB;function Q1Q(A,Q,B,C,E){let I={rIO:0,wIO:0,tIO:0,rIO_sec:null,wIO_sec:null,tIO_sec:null,rWaitTime:0,wWaitTime:0,tWaitTime:0,rWaitPercent:null,wWaitPercent:null,tWaitPercent:null,ms:0};if(XB&&XB.ms)I.rIO=A,I.wIO=Q,I.tIO=A+Q,I.ms=Date.now()-XB.ms,I.rIO_sec=(I.rIO-XB.rIO)/(I.ms/1000),I.wIO_sec=(I.wIO-XB.wIO)/(I.ms/1000),I.tIO_sec=I.rIO_sec+I.wIO_sec,I.rWaitTime=B,I.wWaitTime=C,I.tWaitTime=E,I.rWaitPercent=(I.rWaitTime-XB.rWaitTime)*100/I.ms,I.wWaitPercent=(I.wWaitTime-XB.wWaitTime)*100/I.ms,I.tWaitPercent=(I.tWaitTime-XB.tWaitTime)*100/I.ms,XB.rIO=A,XB.wIO=Q,XB.rIO_sec=I.rIO_sec,XB.wIO_sec=I.wIO_sec,XB.tIO_sec=I.tIO_sec,XB.rWaitTime=B,XB.wWaitTime=C,XB.tWaitTime=E,XB.rWaitPercent=I.rWaitPercent,XB.wWaitPercent=I.wWaitPercent,XB.tWaitPercent=I.tWaitPercent,XB.last_ms=I.ms,XB.ms=Date.now();else I.rIO=A,I.wIO=Q,I.tIO=A+Q,I.rWaitTime=B,I.wWaitTime=C,I.tWaitTime=E,XB.rIO=A,XB.wIO=Q,XB.rIO_sec=null,XB.wIO_sec=null,XB.tIO_sec=null,XB.rWaitTime=B,XB.wWaitTime=C,XB.tWaitTime=E,XB.rWaitPercent=null,XB.wWaitPercent=null,XB.tWaitPercent=null,XB.last_ms=0,XB.ms=Date.now();return I}function dYB(A){return new Promise((Q)=>{process.nextTick(()=>{if(qR)return Q(null);if(PR)return Q(null);let B={rIO:0,wIO:0,tIO:0,rIO_sec:null,wIO_sec:null,tIO_sec:null,rWaitTime:0,wWaitTime:0,tWaitTime:0,rWaitPercent:null,wWaitPercent:null,tWaitPercent:null,ms:0},C=0,E=0,I=0,Y=0,G=0;if(XB&&!XB.ms||XB&&XB.ms&&Date.now()-XB.ms>=500){if(oZ||rZ||aZ||sZ)W2('for mount in `lsblk 2>/dev/null | grep " disk " | sed "s/[│└─├]//g" | awk \'{$1=$1};1\' | cut -d " " -f 1 | sort -u`; do cat /sys/block/$mount/stat | sed -r "s/ +/;/g" | sed -r "s/^;//"; done',{maxBuffer:1048576},function(D,U){if(!D){if(U.split(`
`).forEach(function(Z){if(!Z)return;let X=Z.split(";");C+=parseInt(X[0]),E+=parseInt(X[4]),I+=parseInt(X[3]),Y+=parseInt(X[7]),G+=parseInt(X[10])}),B=Q1Q(C,E,I,Y,G),A)A(B);Q(B)}else{if(A)A(B);Q(B)}});if(CK)W2(`ioreg -c IOBlockStorageDriver -k Statistics -r -w0 | sed -n "/IOBlockStorageDriver/,/Statistics/p" | grep "Statistics" | tr -cd "01234567890,
"`,{maxBuffer:1048576},function(J,D){if(!J)D.toString().split(`
`).forEach(function(N){if(N=N.trim(),N!=="")N=N.split(","),C+=parseInt(N[10]),E+=parseInt(N[0])}),B=Q1Q(C,E,I,Y,G);if(A)A(B);Q(B)})}else{if(B.rIO=XB.rIO,B.wIO=XB.wIO,B.tIO=XB.rIO+XB.wIO,B.ms=XB.last_ms,B.rIO_sec=XB.rIO_sec,B.wIO_sec=XB.wIO_sec,B.tIO_sec=XB.tIO_sec,B.rWaitTime=XB.rWaitTime,B.wWaitTime=XB.wWaitTime,B.tWaitTime=XB.tWaitTime,B.rWaitPercent=XB.rWaitPercent,B.wWaitPercent=XB.wWaitPercent,B.tWaitPercent=XB.tWaitPercent,A)A(B);Q(B)}})})}pYB.disksIO=dYB;function uYB(A){function Q(B){let C=[{pattern:"WESTERN.*",manufacturer:"Western Digital"},{pattern:"^WDC.*",manufacturer:"Western Digital"},{pattern:"WD.*",manufacturer:"Western Digital"},{pattern:"TOSHIBA.*",manufacturer:"Toshiba"},{pattern:"HITACHI.*",manufacturer:"Hitachi"},{pattern:"^IC.*",manufacturer:"Hitachi"},{pattern:"^HTS.*",manufacturer:"Hitachi"},{pattern:"SANDISK.*",manufacturer:"SanDisk"},{pattern:"KINGSTON.*",manufacturer:"Kingston Technology"},{pattern:"^SONY.*",manufacturer:"Sony"},{pattern:"TRANSCEND.*",manufacturer:"Transcend"},{pattern:"SAMSUNG.*",manufacturer:"Samsung"},{pattern:"^ST(?!I\\ ).*",manufacturer:"Seagate"},{pattern:"^STI\\ .*",manufacturer:"SimpleTech"},{pattern:"^D...-.*",manufacturer:"IBM"},{pattern:"^IBM.*",manufacturer:"IBM"},{pattern:"^FUJITSU.*",manufacturer:"Fujitsu"},{pattern:"^MP.*",manufacturer:"Fujitsu"},{pattern:"^MK.*",manufacturer:"Toshiba"},{pattern:"MAXTO.*",manufacturer:"Maxtor"},{pattern:"PIONEER.*",manufacturer:"Pioneer"},{pattern:"PHILIPS.*",manufacturer:"Philips"},{pattern:"QUANTUM.*",manufacturer:"Quantum Technology"},{pattern:"FIREBALL.*",manufacturer:"Quantum Technology"},{pattern:"^VBOX.*",manufacturer:"VirtualBox"},{pattern:"CORSAIR.*",manufacturer:"Corsair Components"},{pattern:"CRUCIAL.*",manufacturer:"Crucial"},{pattern:"ECM.*",manufacturer:"ECM"},{pattern:"INTEL.*",manufacturer:"INTEL"},{pattern:"EVO.*",manufacturer:"Samsung"},{pattern:"APPLE.*",manufacturer:"Apple"}],E="";if(B)B=B.toUpperCase(),C.forEach((I)=>{if(RegExp(I.pattern).test(B))E=I.manufacturer});return E}return new Promise((B)=>{process.nextTick(()=>{let C=(Y)=>{for(let G=0;G<Y.length;G++)delete Y[G].BSDName;if(A)A(Y);B(Y)},E=[],I="";if(oZ){let Y="";W2("export LC_ALL=C; lsblk -ablJO 2>/dev/null; unset LC_ALL",{maxBuffer:1048576},function(G,J){if(!G)try{let D=J.toString().trim(),U=[];try{let N=JSON.parse(D);if(N&&{}.hasOwnProperty.call(N,"blockdevices"))U=N.blockdevices.filter((Z)=>{return Z.type==="disk"&&Z.size>0&&(Z.model!==null||Z.mountpoint===null&&Z.label===null&&Z.fstype===null&&Z.parttype===null&&Z.path&&Z.path.indexOf("/ram")!==0&&Z.path.indexOf("/loop")!==0&&Z["disc-max"]&&Z["disc-max"]!==0)})}catch(N){try{let Z=BK("export LC_ALL=C; lsblk -bPo NAME,TYPE,SIZE,FSTYPE,MOUNTPOINT,UUID,ROTA,RO,RM,LABEL,MODEL,OWNER,GROUP 2>/dev/null; unset LC_ALL",kA.execOptsLinux).toString(),X=NHA(Z).split(`
`);U=UHA(X).filter((K)=>{return K.type==="disk"&&K.size>0&&(K.model!==null&&K.model!==""||K.mount===""&&K.label===""&&K.fsType==="")})}catch(Z){kA.noop()}}U.forEach((N)=>{let Z="",X="/dev/"+N.name,W=N.name;try{Z=BK("cat /sys/block/"+W+"/queue/rotational 2>/dev/null",kA.execOptsLinux).toString().split(`
`)[0]}catch(V){kA.noop()}let K=N.tran?N.tran.toUpperCase().trim():"";if(K==="NVME")Z="2",K="PCIe";E.push({device:X,type:Z==="0"?"SSD":Z==="1"?"HD":Z==="2"?"NVMe":N.model&&N.model.indexOf("SSD")>-1?"SSD":N.model&&N.model.indexOf("NVM")>-1?"NVMe":"HD",name:N.model||"",vendor:Q(N.model)||(N.vendor?N.vendor.trim():""),size:N.size||0,bytesPerSector:null,totalCylinders:null,totalHeads:null,totalSectors:null,totalTracks:null,tracksPerCylinder:null,sectorsPerTrack:null,firmwareRevision:N.rev?N.rev.trim():"",serialNum:N.serial?N.serial.trim():"",interfaceType:K,smartStatus:"unknown",temperature:null,BSDName:X}),I+=`printf "
${X}|"; smartctl -H ${X} | grep overall;`,Y+=`${Y?'printf ",";':""}smartctl -a -j ${X};`})}catch(D){kA.noop()}if(Y)W2(Y,{maxBuffer:1048576},function(D,U){try{JSON.parse(`[${U}]`).forEach((Z)=>{let X=Z.smartctl.argv[Z.smartctl.argv.length-1];for(let W=0;W<E.length;W++)if(E[W].BSDName===X){if(E[W].smartStatus=Z.smart_status.passed?"Ok":Z.smart_status.passed===!1?"Predicted Failure":"unknown",Z.temperature&&Z.temperature.current)E[W].temperature=Z.temperature.current;E[W].smartData=Z}}),C(E)}catch(N){if(I)I=I+`printf "
"`,W2(I,{maxBuffer:1048576},function(Z,X){X.toString().split(`
`).forEach((K)=>{if(K){let V=K.split("|");if(V.length===2){let M=V[0];V[1]=V[1].trim();let z=V[1].split(":");if(z.length===2){z[1]=z[1].trim();let L=z[1].toLowerCase();for(let O=0;O<E.length;O++)if(E[O].BSDName===M)E[O].smartStatus=L==="passed"?"Ok":L==="failed!"?"Predicted Failure":"unknown"}}}}),C(E)});else C(E)}});else C(E)})}if(rZ||aZ||sZ){if(A)A(E);B(E)}if(PR){if(A)A(E);B(E)}if(CK)W2("system_profiler SPSerialATADataType SPNVMeDataType SPUSBDataType",{maxBuffer:1048576},function(Y,G){if(!Y){let J=G.toString().split(`
`),D=[],U=[],N=[],Z="SATA";J.forEach((X)=>{if(X==="NVMExpress:")Z="NVMe";else if(X==="USB:")Z="USB";else if(X==="SATA/SATA Express:")Z="SATA";else if(Z==="SATA")D.push(X);else if(Z==="NVMe")U.push(X);else if(Z==="USB")N.push(X)});try{let X=D.join(`
`).split(" Physical Interconnect: ");X.shift(),X.forEach(function(W){W="InterfaceType: "+W;let K=W.split(`
`),V=kA.getValue(K,"Medium Type",":",!0).trim(),M=kA.getValue(K,"capacity",":",!0).trim(),z=kA.getValue(K,"BSD Name",":",!0).trim();if(M){let L=0;if(M.indexOf("(")>=0)L=parseInt(M.match(/\(([^)]+)\)/)[1].replace(/\./g,"").replace(/,/g,"").replace(/\s/g,""));if(!L)L=parseInt(M);if(L){let O=kA.getValue(K,"S.M.A.R.T. status",":",!0).trim().toLowerCase();E.push({device:z,type:V.startsWith("Solid")?"SSD":"HD",name:kA.getValue(K,"Model",":",!0).trim(),vendor:Q(kA.getValue(K,"Model",":",!0).trim())||kA.getValue(K,"Manufacturer",":",!0),size:L,bytesPerSector:null,totalCylinders:null,totalHeads:null,totalSectors:null,totalTracks:null,tracksPerCylinder:null,sectorsPerTrack:null,firmwareRevision:kA.getValue(K,"Revision",":",!0).trim(),serialNum:kA.getValue(K,"Serial Number",":",!0).trim(),interfaceType:kA.getValue(K,"InterfaceType",":",!0).trim(),smartStatus:O==="verified"?"OK":O||"unknown",temperature:null,BSDName:z}),I=I+`printf "
`+z+'|"; diskutil info /dev/'+z+" | grep SMART;"}}})}catch(X){kA.noop()}try{let X=U.join(`
`).split(`

          Capacity:`);X.shift(),X.forEach(function(W){W="!Capacity: "+W;let K=W.split(`
`),V=kA.getValue(K,"link width",":",!0).trim(),M=kA.getValue(K,"!capacity",":",!0).trim(),z=kA.getValue(K,"BSD Name",":",!0).trim();if(M){let L=0;if(M.indexOf("(")>=0)L=parseInt(M.match(/\(([^)]+)\)/)[1].replace(/\./g,"").replace(/,/g,"").replace(/\s/g,""));if(!L)L=parseInt(M);if(L){let O=kA.getValue(K,"S.M.A.R.T. status",":",!0).trim().toLowerCase();E.push({device:z,type:"NVMe",name:kA.getValue(K,"Model",":",!0).trim(),vendor:Q(kA.getValue(K,"Model",":",!0).trim()),size:L,bytesPerSector:null,totalCylinders:null,totalHeads:null,totalSectors:null,totalTracks:null,tracksPerCylinder:null,sectorsPerTrack:null,firmwareRevision:kA.getValue(K,"Revision",":",!0).trim(),serialNum:kA.getValue(K,"Serial Number",":",!0).trim(),interfaceType:("PCIe "+V).trim(),smartStatus:O==="verified"?"OK":O||"unknown",temperature:null,BSDName:z}),I=I+`printf "
`+z+'|"; diskutil info /dev/'+z+" | grep SMART;"}}})}catch(X){kA.noop()}try{let X=N.join(`
`).replaceAll(`Media:
 `,"Model:").split(`

          Product ID:`);X.shift(),X.forEach(function(W){let K=W.split(`
`),V=kA.getValue(K,"Capacity",":",!0).trim(),M=kA.getValue(K,"BSD Name",":",!0).trim();if(V){let z=0;if(V.indexOf("(")>=0)z=parseInt(V.match(/\(([^)]+)\)/)[1].replace(/\./g,"").replace(/,/g,"").replace(/\s/g,""));if(!z)z=parseInt(V);if(z){let L=kA.getValue(K,"S.M.A.R.T. status",":",!0).trim().toLowerCase();E.push({device:M,type:"USB",name:kA.getValue(K,"Model",":",!0).trim().replaceAll(":",""),vendor:Q(kA.getValue(K,"Model",":",!0).trim()),size:z,bytesPerSector:null,totalCylinders:null,totalHeads:null,totalSectors:null,totalTracks:null,tracksPerCylinder:null,sectorsPerTrack:null,firmwareRevision:kA.getValue(K,"Revision",":",!0).trim(),serialNum:kA.getValue(K,"Serial Number",":",!0).trim(),interfaceType:"USB",smartStatus:L==="verified"?"OK":L||"unknown",temperature:null,BSDName:M}),I=I+`printf "
`+M+'|"; diskutil info /dev/'+M+" | grep SMART;"}}})}catch(X){kA.noop()}if(I)I=I+`printf "
"`,W2(I,{maxBuffer:1048576},function(X,W){W.toString().split(`
`).forEach((V)=>{if(V){let M=V.split("|");if(M.length===2){let z=M[0];M[1]=M[1].trim();let L=M[1].split(":");if(L.length===2){L[1]=L[1].trim();let O=L[1].toLowerCase();for(let R=0;R<E.length;R++)if(E[R].BSDName===z)E[R].smartStatus=O==="not supported"?"not supported":O==="verified"?"Ok":O==="failing"?"Predicted Failure":"unknown"}}}});for(let V=0;V<E.length;V++)delete E[V].BSDName;if(A)A(E);B(E)});else{for(let X=0;X<E.length;X++)delete E[X].BSDName;if(A)A(E);B(E)}}});if(qR)try{let Y=[];if(Y.push(kA.powerShell("Get-CimInstance Win32_DiskDrive | select Caption,Size,Status,PNPDeviceId,DeviceId,BytesPerSector,TotalCylinders,TotalHeads,TotalSectors,TotalTracks,TracksPerCylinder,SectorsPerTrack,FirmwareRevision,SerialNumber,InterfaceType | fl")),Y.push(kA.powerShell("Get-PhysicalDisk | select BusType,MediaType,FriendlyName,Model,SerialNumber,Size | fl")),kA.smartMonToolsInstalled())try{let G=JSON.parse(BK("smartctl --scan -j").toString());if(G&&G.devices&&G.devices.length>0)G.devices.forEach((J)=>{Y.push(qYB(`smartctl -j -a ${J.name}`,kA.execOptsWin))})}catch(G){kA.noop()}kA.promiseAll(Y).then((G)=>{let J=G.results[0].toString().split(/\n\s*\n/);if(J.forEach(function(D){let U=D.split(`\r
`),N=kA.getValue(U,"Size",":").trim(),Z=kA.getValue(U,"Status",":").trim().toLowerCase();if(N)E.push({device:kA.getValue(U,"DeviceId",":"),type:D.indexOf("SSD")>-1?"SSD":"HD",name:kA.getValue(U,"Caption",":"),vendor:Q(kA.getValue(U,"Caption",":",!0).trim()),size:parseInt(N),bytesPerSector:parseInt(kA.getValue(U,"BytesPerSector",":")),totalCylinders:parseInt(kA.getValue(U,"TotalCylinders",":")),totalHeads:parseInt(kA.getValue(U,"TotalHeads",":")),totalSectors:parseInt(kA.getValue(U,"TotalSectors",":")),totalTracks:parseInt(kA.getValue(U,"TotalTracks",":")),tracksPerCylinder:parseInt(kA.getValue(U,"TracksPerCylinder",":")),sectorsPerTrack:parseInt(kA.getValue(U,"SectorsPerTrack",":")),firmwareRevision:kA.getValue(U,"FirmwareRevision",":").trim(),serialNum:kA.getValue(U,"SerialNumber",":").trim(),interfaceType:kA.getValue(U,"InterfaceType",":").trim(),smartStatus:Z==="ok"?"Ok":Z==="degraded"?"Degraded":Z==="pred fail"?"Predicted Failure":"Unknown",temperature:null})}),J=G.results[1].split(/\n\s*\n/),J.forEach(function(D){let U=D.split(`\r
`),N=kA.getValue(U,"SerialNumber",":").trim(),Z=kA.getValue(U,"FriendlyName",":").trim().replace("Msft ","Microsoft"),X=kA.getValue(U,"Size",":").trim(),W=kA.getValue(U,"Model",":").trim(),K=kA.getValue(U,"BusType",":").trim(),V=kA.getValue(U,"MediaType",":").trim();if(V==="3"||V==="HDD")V="HD";if(V==="4")V="SSD";if(V==="5")V="SCM";if(V==="Unspecified"&&(W.toLowerCase().indexOf("virtual")>-1||W.toLowerCase().indexOf("vbox")>-1))V="Virtual";if(X){let M=kA.findObjectByKey(E,"serialNum",N);if(M===-1||N==="")M=kA.findObjectByKey(E,"name",Z);if(M!=-1)E[M].type=V,E[M].interfaceType=K}}),G.results.shift(),G.results.shift(),G.results.length)G.results.forEach((D)=>{try{let U=JSON.parse(D);if(U.serial_number){let N=U.serial_number,Z=kA.findObjectByKey(E,"serialNum",N);if(Z!=-1){if(E[Z].smartStatus=U.smart_status&&U.smart_status.passed?"Ok":U.smart_status&&U.smart_status.passed===!1?"Predicted Failure":"unknown",U.temperature&&U.temperature.current)E[Z].temperature=U.temperature.current;E[Z].smartData=U}}}catch(U){kA.noop()}});if(A)A(E);B(E)})}catch(Y){if(A)A(E);B(E)}})})}pYB.diskLayout=uYB});var U1Q=m((MGB)=>{var Hs=a("os"),YN=a("child_process").exec,sY=a("child_process").execSync,aYB=a("fs"),eA=aY(),IK=process.platform,x6=IK==="linux"||IK==="android",S6=IK==="darwin",hv=IK==="win32",YK=IK==="freebsd",GK=IK==="openbsd",JK=IK==="netbsd",C1Q=IK==="sunos",AC={},E1Q="",_R={},I1Q=[],jR=[],xR={},WM;function KM(){let A="",Q="";try{let B=Hs.networkInterfaces(),C=9999;for(let E in B)if({}.hasOwnProperty.call(B,E))B[E].forEach(function(I){if(I&&I.internal===!1){if(Q=Q||E,I.scopeid&&I.scopeid<C)A=E,C=I.scopeid}});if(A=A||Q||"",hv){let E="";if(sY("netstat -r",eA.execOptsWin).toString().split(Hs.EOL).forEach((J)=>{if(J=J.replace(/\s+/g," ").trim(),J.indexOf("0.0.0.0 0.0.0.0")>-1&&!/[a-zA-Z]/.test(J)){let D=J.split(" ");if(D.length>=5)E=D[D.length-2]}}),E){for(let J in B)if({}.hasOwnProperty.call(B,J))B[J].forEach(function(D){if(D&&D.address&&D.address===E)A=J})}}if(x6){let Y=sY("ip route 2> /dev/null | grep default",eA.execOptsLinux).toString().split(`
`)[0].split(/\s+/);if(Y[0]==="none"&&Y[5])A=Y[5];else if(Y[4])A=Y[4];if(A.indexOf(":")>-1)A=A.split(":")[1].trim()}if(S6||YK||GK||JK||C1Q){let E="";if(x6)E="ip route 2> /dev/null | grep default | awk '{print $5}'";if(S6)E="route -n get default 2>/dev/null | grep interface: | awk '{print $2}'";if(YK||GK||JK||C1Q)E="route get 0.0.0.0 | grep interface:";if(A=sY(E).toString().split(`
`)[0],A.indexOf(":")>-1)A=A.split(":")[1].trim()}}catch(B){eA.noop()}if(A)E1Q=A;return E1Q}MGB.getDefaultNetworkInterface=KM;function Y1Q(){let A="",Q="",B={};if(x6||YK||GK||JK){if(typeof WM==="undefined")try{let C=sY("which ip",eA.execOptsLinux).toString().split(`
`);if(C.length&&C[0].indexOf(":")===-1&&C[0].indexOf("/")===0)WM=C[0];else WM=""}catch(C){WM=""}try{let C="export LC_ALL=C; "+(WM?WM+" link show up":"/sbin/ifconfig")+"; unset LC_ALL",I=sY(C,eA.execOptsLinux).toString().split(`
`);for(let Y=0;Y<I.length;Y++)if(I[Y]&&I[Y][0]!==" "){if(WM){let G=I[Y+1].trim().split(" ");if(G[0]==="link/ether")A=I[Y].split(" ")[1],A=A.slice(0,A.length-1),Q=G[1]}else A=I[Y].split(" ")[0],Q=I[Y].split("HWaddr ")[1];if(A&&Q)B[A]=Q.trim(),A="",Q=""}}catch(C){eA.noop()}}if(S6)try{let I=sY("/sbin/ifconfig").toString().split(`
`);for(let Y=0;Y<I.length;Y++)if(I[Y]&&I[Y][0]!=="\t"&&I[Y].indexOf(":")>0)A=I[Y].split(":")[0];else if(I[Y].indexOf("\tether ")===0){if(Q=I[Y].split("\tether ")[1],A&&Q)B[A]=Q.trim(),A="",Q=""}}catch(C){eA.noop()}return B}function sYB(A){return new Promise((Q)=>{process.nextTick(()=>{let B=KM();if(A)A(B);Q(B)})})}MGB.networkInterfaceDefault=sYB;function tYB(A,Q){let B=[];for(let C in A)try{if({}.hasOwnProperty.call(A,C)){if(A[C].trim()!==""){let E=A[C].trim().split(`\r
`),I=null;try{I=Q&&Q[C]?Q[C].trim().split(`\r
`):[]}catch(U){eA.noop()}let Y=eA.getValue(E,"NetEnabled",":"),G=eA.getValue(E,"AdapterTypeID",":")==="9"?"wireless":"wired",J=eA.getValue(E,"Name",":").replace(/\]/g,")").replace(/\[/g,"("),D=eA.getValue(E,"NetConnectionID",":").replace(/\]/g,")").replace(/\[/g,"(");if(J.toLowerCase().indexOf("wi-fi")>=0||J.toLowerCase().indexOf("wireless")>=0)G="wireless";if(Y!==""){let U=parseInt(eA.getValue(E,"speed",":").trim(),10)/1e6;B.push({mac:eA.getValue(E,"MACAddress",":").toLowerCase(),dhcp:eA.getValue(I,"dhcpEnabled",":").toLowerCase()==="true",name:J,iface:D,netEnabled:Y==="TRUE",speed:isNaN(U)?null:U,operstate:eA.getValue(E,"NetConnectionStatus",":")==="2"?"up":"down",type:G})}}}}catch(E){eA.noop()}return B}function eYB(){return new Promise((A)=>{process.nextTick(()=>{let Q="Get-CimInstance Win32_NetworkAdapter | fl *; echo '#-#-#-#';";Q+="Get-CimInstance Win32_NetworkAdapterConfiguration | fl DHCPEnabled";try{eA.powerShell(Q).then((B)=>{B=B.split("#-#-#-#");let C=(B[0]||"").split(/\n\s*\n/),E=(B[1]||"").split(/\n\s*\n/);A(tYB(C,E))})}catch(B){A([])}})})}function AGB(){let A={},Q={primaryDNS:"",exitCode:0,ifaces:[]};try{return sY("ipconfig /all",eA.execOptsWin).split(`\r
\r
`).forEach((E,I)=>{if(I==1){let Y=E.split(`\r
`).filter((J)=>{return J.toUpperCase().includes("DNS")}),G=Y[0].substring(Y[0].lastIndexOf(":")+1);if(Q.primaryDNS=G.trim(),!Q.primaryDNS)Q.primaryDNS="Not defined"}if(I>1)if(I%2==0){let Y=E.substring(E.lastIndexOf(" ")+1).replace(":","");A.name=Y}else{let Y=E.split(`\r
`).filter((J)=>{return J.toUpperCase().includes("DNS")}),G=Y[0].substring(Y[0].lastIndexOf(":")+1);A.dnsSuffix=G.trim(),Q.ifaces.push(A),A={}}}),Q}catch(B){return{primaryDNS:"",exitCode:0,ifaces:[]}}}function QGB(A,Q){let B="",C=Q+".";try{let E=A.filter((I)=>{return C.includes(I.name+".")}).map((I)=>I.dnsSuffix);if(E[0])B=E[0];if(!B)B="";return B}catch(E){return"Unknown"}}function BGB(){try{return sY("netsh lan show profiles",eA.execOptsWin).split(`\r
Profile on interface`)}catch(A){if(A.status===1&&A.stdout.includes("AutoConfig"))return"Disabled";return[]}}function CGB(A){try{return sY(`netsh wlan show  interface name="${A}" | findstr "SSID"`,eA.execOptsWin).split(`\r
`).shift().split(":").pop().trim()}catch(Q){return"Unknown"}}function EGB(A,Q,B){let C={state:"Unknown",protocol:"Unknown"};if(B==="Disabled")return C.state="Disabled",C.protocol="Not defined",C;if(A=="wired"&&B.length>0)try{let I=B.find((G)=>{return G.includes(Q+`\r
`)}).split(`\r
`),Y=I.find((G)=>{return G.includes("802.1x")});if(Y.includes("Disabled"))C.state="Disabled",C.protocol="Not defined";else if(Y.includes("Enabled")){let G=I.find((J)=>{return J.includes("EAP")});C.protocol=G.split(":").pop(),C.state="Enabled"}}catch(E){return C}else if(A=="wireless"){let E="",I="";try{let Y=CGB(Q);if(Y!=="Unknown"){let G="",J=eA.isPrototypePolluted()?"---":eA.sanitizeShellString(Y),D=eA.mathMin(J.length,32);for(let U=0;U<=D;U++)if(J[U]!==void 0)G=G+J[U];E=sY(`netsh wlan show profiles "${G}" | findstr "802.1X"`,eA.execOptsWin),I=sY(`netsh wlan show profiles "${G}" | findstr "EAP"`,eA.execOptsWin)}if(E.includes(":")&&I.includes(":"))C.state=E.split(":").pop(),C.protocol=I.split(":").pop()}catch(Y){if(Y.status===1&&Y.stdout.includes("AutoConfig"))C.state="Disabled",C.protocol="Not defined";return C}}return C}function G1Q(A){let Q=[],B=[];if(A.forEach(function(C){if(!C.startsWith("\t")&&!C.startsWith(" ")){if(B.length)Q.push(B),B=[]}B.push(C)}),B.length)Q.push(B);return Q}function IGB(A){let Q=[];return A.forEach((B)=>{let C={iface:"",mtu:null,mac:"",ip6:"",ip4:"",speed:null,type:"",operstate:"",duplex:"",internal:!1},E=B[0];C.iface=E.split(":")[0].trim();let I=E.split("> mtu");if(C.mtu=I.length>1?parseInt(I[1],10):null,isNaN(C.mtu))C.mtu=null;C.internal=I[0].toLowerCase().indexOf("loopback")>-1,B.forEach((J)=>{if(J.trim().startsWith("ether "))C.mac=J.split("ether ")[1].toLowerCase().trim();if(J.trim().startsWith("inet6 ")&&!C.ip6)C.ip6=J.split("inet6 ")[1].toLowerCase().split("%")[0].split(" ")[0];if(J.trim().startsWith("inet ")&&!C.ip4)C.ip4=J.split("inet ")[1].toLowerCase().split(" ")[0]});let Y=eA.getValue(B,"link rate");if(C.speed=Y?parseFloat(Y):null,C.speed===null){if(Y=eA.getValue(B,"uplink rate"),C.speed=Y?parseFloat(Y):null,C.speed!==null&&Y.toLowerCase().indexOf("gbps")>=0)C.speed=C.speed*1000}else if(Y.toLowerCase().indexOf("gbps")>=0)C.speed=C.speed*1000;C.type=eA.getValue(B,"type").toLowerCase().indexOf("wi-fi")>-1?"wireless":"wired";let G=eA.getValue(B,"status").toLowerCase();if(C.operstate=G==="active"?"up":G==="inactive"?"down":"unknown",C.duplex=eA.getValue(B,"media").toLowerCase().indexOf("half-duplex")>-1?"half":"full",C.ip6||C.ip4||C.mac)Q.push(C)}),Q}function YGB(){try{let Q=sY("/sbin/ifconfig -v",{maxBuffer:20480000}).toString().split(`
`),B=G1Q(Q);return IGB(B)}catch(Q){return[]}}function GGB(A){let Q=`nmcli device status 2>/dev/null | grep ${A}`;try{let I=sY(Q,eA.execOptsLinux).toString().replace(/\s+/g," ").trim().split(" ").slice(3).join(" ");return I!="--"?I:""}catch(B){return""}}function J1Q(A){let Q=[];try{let B=`cat ${A} 2> /dev/null | grep 'iface\\|source'`;sY(B,eA.execOptsLinux).toString().split(`
`).forEach((E)=>{let I=E.replace(/\s+/g," ").trim().split(" ");if(I.length>=4){if(E.toLowerCase().indexOf(" inet ")>=0&&E.toLowerCase().indexOf("dhcp")>=0)Q.push(I[1])}if(E.toLowerCase().includes("source")){let Y=E.split(" ")[1];Q=Q.concat(J1Q(Y))}})}catch(B){eA.noop()}return Q}function JGB(){let A="ip a 2> /dev/null",Q=[];try{let B=sY(A,eA.execOptsLinux).toString().split(`
`),C=G1Q(B);Q=DGB(C)}catch(B){eA.noop()}try{Q=J1Q("/etc/network/interfaces")}catch(B){eA.noop()}return Q}function DGB(A){let Q=[];if(A&&A.length)A.forEach((B)=>{if(B&&B.length){if(B[0].split(":").length>2){for(let E of B)if(E.indexOf(" inet ")>=0&&E.indexOf(" dynamic ")>=0){let I=E.split(" "),Y=I[I.length-1].trim();Q.push(Y);break}}}});return Q}function UGB(A,Q,B){let C=!1;if(Q){let E=`nmcli connection show "${Q}" 2>/dev/null | grep ipv4.method;`;try{switch(sY(E,eA.execOptsLinux).toString().replace(/\s+/g," ").trim().split(" ").slice(1).toString()){case"auto":C=!0;break;default:C=!1;break}return C}catch(I){return B.indexOf(A)>=0}}else return B.indexOf(A)>=0}function NGB(A){let Q=!1,B=`ipconfig getpacket "${A}" 2>/dev/null | grep lease_time;`;try{let C=sY(B).toString().split(`
`);if(C.length&&C[0].startsWith("lease_time"))Q=!0}catch(C){eA.noop()}return Q}function ZGB(A){if(A){let Q=`nmcli connection show "${A}" 2>/dev/null | grep ipv4.dns-search;`;try{let E=sY(Q,eA.execOptsLinux).toString().replace(/\s+/g," ").trim().split(" ").slice(1).toString();return E=="--"?"Not defined":E}catch(B){return"Unknown"}}else return"Unknown"}function XGB(A){if(A){let Q=`nmcli connection show "${A}" 2>/dev/null | grep 802-1x.eap;`;try{let E=sY(Q,eA.execOptsLinux).toString().replace(/\s+/g," ").trim().split(" ").slice(1).toString();return E=="--"?"":E}catch(B){return"Not defined"}}else return"Not defined"}function FGB(A){if(A){if(A=="Not defined")return"Disabled";return"Enabled"}else return"Unknown"}function ZHA(A,Q,B){let C=["00:00:00:00:00:00","00:03:FF","00:05:69","00:0C:29","00:0F:4B","00:13:07","00:13:BE","00:15:5d","00:16:3E","00:1C:42","00:21:F6","00:24:0B","00:50:56","00:A0:B1","00:E0:C8","08:00:27","0A:00:27","18:92:2C","16:DF:49","3C:F3:92","54:52:00","FC:15:97"];if(B)return C.filter((E)=>{return B.toUpperCase().toUpperCase().startsWith(E.substring(0,B.length))}).length>0||A.toLowerCase().indexOf(" virtual ")>-1||Q.toLowerCase().indexOf(" virtual ")>-1||A.toLowerCase().indexOf("vethernet ")>-1||Q.toLowerCase().indexOf("vethernet ")>-1||A.toLowerCase().startsWith("veth")||Q.toLowerCase().startsWith("veth")||A.toLowerCase().startsWith("vboxnet")||Q.toLowerCase().startsWith("vboxnet");else return!1}function XHA(A,Q,B){if(typeof A==="string")B=A,Q=!0,A=null;if(typeof A==="boolean")Q=A,A=null,B="";if(typeof Q==="undefined")Q=!0;return B=B||"",B=""+B,new Promise((C)=>{process.nextTick(()=>{let E=Hs.networkInterfaces(),I=[],Y=[],G=[],J=[];if(S6||YK||GK||JK)if(JSON.stringify(E)===JSON.stringify(_R)&&!Q){if(I=jR,A)A(I);C(I)}else{let D=KM();if(_R=JSON.parse(JSON.stringify(E)),Y=YGB(),Y.forEach((U)=>{if({}.hasOwnProperty.call(E,U.iface))E[U.iface].forEach(function(W){if(W.family==="IPv4"||W.family===4)U.ip4subnet=W.netmask;if(W.family==="IPv6"||W.family===6)U.ip6subnet=W.netmask});let N="",Z=eA.isPrototypePolluted()?"---":eA.sanitizeShellString(U.iface),X=eA.mathMin(Z.length,2000);for(let W=0;W<=X;W++)if(Z[W]!==void 0)N=N+Z[W];I.push({iface:U.iface,ifaceName:U.iface,default:U.iface===D,ip4:U.ip4,ip4subnet:U.ip4subnet||"",ip6:U.ip6,ip6subnet:U.ip6subnet||"",mac:U.mac,internal:U.internal,virtual:U.internal?!1:ZHA(U.iface,U.iface,U.mac),operstate:U.operstate,type:U.type,duplex:U.duplex,mtu:U.mtu,speed:U.speed,dhcp:NGB(N),dnsSuffix:"",ieee8021xAuth:"",ieee8021xState:"",carrierChanges:0})}),jR=I,B.toLowerCase().indexOf("default")>=0)if(I=I.filter((U)=>U.default),I.length>0)I=I[0];else I=[];if(A)A(I);C(I)}if(x6)if(JSON.stringify(E)===JSON.stringify(_R)&&!Q){if(I=jR,A)A(I);C(I)}else{_R=JSON.parse(JSON.stringify(E)),I1Q=JGB();let D=KM();for(let U in E){let N="",Z="",X="",W="",K="",V="",M="",z=null,L=0,O=!1,R="",_="",S="",q="";if({}.hasOwnProperty.call(E,U)){let y=U;E[U].forEach(function(KQ){if(KQ.family==="IPv4"||KQ.family===4)N=KQ.address,Z=KQ.netmask;if(KQ.family==="IPv6"||KQ.family===6){if(!X||X.match(/^fe80::/i))X=KQ.address,W=KQ.netmask}K=KQ.mac;let U0=parseInt(process.versions.node.split("."),10);if(K.indexOf("00:00:0")>-1&&(x6||S6)&&!KQ.internal&&U0>=8&&U0<=11){if(Object.keys(xR).length===0)xR=Y1Q();K=xR[U]||""}});let p=U.split(":")[0].trim().toLowerCase(),i="",MA=eA.isPrototypePolluted()?"---":eA.sanitizeShellString(p),d=eA.mathMin(MA.length,2000);for(let KQ=0;KQ<=d;KQ++)if(MA[KQ]!==void 0)i=i+MA[KQ];let AA=`echo -n "addr_assign_type: "; cat /sys/class/net/${i}/addr_assign_type 2>/dev/null; echo;
            echo -n "address: "; cat /sys/class/net/${i}/address 2>/dev/null; echo;
            echo -n "addr_len: "; cat /sys/class/net/${i}/addr_len 2>/dev/null; echo;
            echo -n "broadcast: "; cat /sys/class/net/${i}/broadcast 2>/dev/null; echo;
            echo -n "carrier: "; cat /sys/class/net/${i}/carrier 2>/dev/null; echo;
            echo -n "carrier_changes: "; cat /sys/class/net/${i}/carrier_changes 2>/dev/null; echo;
            echo -n "dev_id: "; cat /sys/class/net/${i}/dev_id 2>/dev/null; echo;
            echo -n "dev_port: "; cat /sys/class/net/${i}/dev_port 2>/dev/null; echo;
            echo -n "dormant: "; cat /sys/class/net/${i}/dormant 2>/dev/null; echo;
            echo -n "duplex: "; cat /sys/class/net/${i}/duplex 2>/dev/null; echo;
            echo -n "flags: "; cat /sys/class/net/${i}/flags 2>/dev/null; echo;
            echo -n "gro_flush_timeout: "; cat /sys/class/net/${i}/gro_flush_timeout 2>/dev/null; echo;
            echo -n "ifalias: "; cat /sys/class/net/${i}/ifalias 2>/dev/null; echo;
            echo -n "ifindex: "; cat /sys/class/net/${i}/ifindex 2>/dev/null; echo;
            echo -n "iflink: "; cat /sys/class/net/${i}/iflink 2>/dev/null; echo;
            echo -n "link_mode: "; cat /sys/class/net/${i}/link_mode 2>/dev/null; echo;
            echo -n "mtu: "; cat /sys/class/net/${i}/mtu 2>/dev/null; echo;
            echo -n "netdev_group: "; cat /sys/class/net/${i}/netdev_group 2>/dev/null; echo;
            echo -n "operstate: "; cat /sys/class/net/${i}/operstate 2>/dev/null; echo;
            echo -n "proto_down: "; cat /sys/class/net/${i}/proto_down 2>/dev/null; echo;
            echo -n "speed: "; cat /sys/class/net/${i}/speed 2>/dev/null; echo;
            echo -n "tx_queue_len: "; cat /sys/class/net/${i}/tx_queue_len 2>/dev/null; echo;
            echo -n "type: "; cat /sys/class/net/${i}/type 2>/dev/null; echo;
            echo -n "wireless: "; cat /proc/net/wireless 2>/dev/null | grep ${i}; echo;
            echo -n "wirelessspeed: "; iw dev ${i} link 2>&1 | grep bitrate; echo;`,IA=[];try{IA=sY(AA,eA.execOptsLinux).toString().split(`
`);let KQ=GGB(i);O=UGB(i,KQ,I1Q),R=ZGB(KQ),_=XGB(KQ),S=FGB(_)}catch(KQ){eA.noop()}V=eA.getValue(IA,"duplex"),V=V.startsWith("cat")?"":V,M=parseInt(eA.getValue(IA,"mtu"),10);let UA=parseInt(eA.getValue(IA,"speed"),10);z=isNaN(UA)?null:UA;let NA=eA.getValue(IA,"wirelessspeed").split("tx bitrate: ");if(z===null&&NA.length===2)UA=parseFloat(NA[1]),z=isNaN(UA)?null:UA;L=parseInt(eA.getValue(IA,"carrier_changes"),10);let bA=eA.getValue(IA,"operstate");if(q=bA==="up"?eA.getValue(IA,"wireless").trim()?"wireless":"wired":"unknown",i==="lo"||i.startsWith("bond"))q="virtual";let FQ=E[U]&&E[U][0]?E[U][0].internal:!1;if(U.toLowerCase().indexOf("loopback")>-1||y.toLowerCase().indexOf("loopback")>-1)FQ=!0;let IQ=FQ?!1:ZHA(U,y,K);I.push({iface:i,ifaceName:y,default:p===D,ip4:N,ip4subnet:Z,ip6:X,ip6subnet:W,mac:K,internal:FQ,virtual:IQ,operstate:bA,type:q,duplex:V,mtu:M,speed:z,dhcp:O,dnsSuffix:R,ieee8021xAuth:_,ieee8021xState:S,carrierChanges:L})}}if(jR=I,B.toLowerCase().indexOf("default")>=0)if(I=I.filter((U)=>U.default),I.length>0)I=I[0];else I=[];if(A)A(I);C(I)}if(hv)if(JSON.stringify(E)===JSON.stringify(_R)&&!Q){if(I=jR,A)A(I);C(I)}else{_R=JSON.parse(JSON.stringify(E));let D=KM();eYB().then(function(U){U.forEach((N)=>{let Z=!1;if(Object.keys(E).forEach((X)=>{if(!Z)E[X].forEach((W)=>{if(Object.keys(W).indexOf("mac")>=0)Z=W.mac===N.mac})}),!Z)E[N.name]=[{mac:N.mac}]}),J=BGB(),G=AGB();for(let N in E){let Z="",X=eA.isPrototypePolluted()?"---":eA.sanitizeShellString(N),W=eA.mathMin(X.length,2000);for(let IA=0;IA<=W;IA++)if(X[IA]!==void 0)Z=Z+X[IA];let K=N,V="",M="",z="",L="",O="",R="",_="",S=null,q=0,y="down",p=!1,i="",MA="",d="",AA="";if({}.hasOwnProperty.call(E,N)){let IA=N;E[N].forEach(function(IQ){if(IQ.family==="IPv4"||IQ.family===4)V=IQ.address,M=IQ.netmask;if(IQ.family==="IPv6"||IQ.family===6){if(!z||z.match(/^fe80::/i))z=IQ.address,L=IQ.netmask}O=IQ.mac;let KQ=parseInt(process.versions.node.split("."),10);if(O.indexOf("00:00:0")>-1&&(x6||S6)&&!IQ.internal&&KQ>=8&&KQ<=11){if(Object.keys(xR).length===0)xR=Y1Q();O=xR[N]||""}}),i=QGB(G.ifaces,Z);let UA=!1;if(U.forEach((IQ)=>{if(IQ.mac===O&&!UA)K=IQ.iface||K,IA=IQ.name,p=IQ.dhcp,y=IQ.operstate,S=y==="up"?IQ.speed:0,AA=IQ.type,UA=!0}),N.toLowerCase().indexOf("wlan")>=0||IA.toLowerCase().indexOf("wlan")>=0||IA.toLowerCase().indexOf("802.11n")>=0||IA.toLowerCase().indexOf("wireless")>=0||IA.toLowerCase().indexOf("wi-fi")>=0||IA.toLowerCase().indexOf("wifi")>=0)AA="wireless";let NA=EGB(AA,Z,J);MA=NA.protocol,d=NA.state;let bA=E[N]&&E[N][0]?E[N][0].internal:!1;if(N.toLowerCase().indexOf("loopback")>-1||IA.toLowerCase().indexOf("loopback")>-1)bA=!0;let FQ=bA?!1:ZHA(N,IA,O);I.push({iface:K,ifaceName:IA,default:K===D,ip4:V,ip4subnet:M,ip6:z,ip6subnet:L,mac:O,internal:bA,virtual:FQ,operstate:y,type:AA,duplex:R,mtu:_,speed:S,dhcp:p,dnsSuffix:i,ieee8021xAuth:MA,ieee8021xState:d,carrierChanges:q})}}if(jR=I,B.toLowerCase().indexOf("default")>=0)if(I=I.filter((N)=>N.default),I.length>0)I=I[0];else I=[];if(A)A(I);C(I)})}})})}MGB.networkInterfaces=XHA;function Fs(A,Q,B,C,E,I,Y,G){let J={iface:A,operstate:C,rx_bytes:Q,rx_dropped:E,rx_errors:I,tx_bytes:B,tx_dropped:Y,tx_errors:G,rx_sec:null,tx_sec:null,ms:0};if(AC[A]&&AC[A].ms)J.ms=Date.now()-AC[A].ms,J.rx_sec=Q-AC[A].rx_bytes>=0?(Q-AC[A].rx_bytes)/(J.ms/1000):0,J.tx_sec=B-AC[A].tx_bytes>=0?(B-AC[A].tx_bytes)/(J.ms/1000):0,AC[A].rx_bytes=Q,AC[A].tx_bytes=B,AC[A].rx_sec=J.rx_sec,AC[A].tx_sec=J.tx_sec,AC[A].ms=Date.now(),AC[A].last_ms=J.ms,AC[A].operstate=C;else{if(!AC[A])AC[A]={};AC[A].rx_bytes=Q,AC[A].tx_bytes=B,AC[A].rx_sec=null,AC[A].tx_sec=null,AC[A].ms=Date.now(),AC[A].last_ms=0,AC[A].operstate=C}return J}function D1Q(A,Q){let B=[];return new Promise((C)=>{process.nextTick(()=>{if(eA.isFunction(A)&&!Q)Q=A,B=[KM()];else{if(typeof A!=="string"&&A!==void 0){if(Q)Q([]);return C([])}A=A||KM();try{A.__proto__.toLowerCase=eA.stringToLower,A.__proto__.replace=eA.stringReplace,A.__proto__.toString=eA.stringToString,A.__proto__.substr=eA.stringSubstr,A.__proto__.substring=eA.stringSubstring,A.__proto__.trim=eA.stringTrim,A.__proto__.startsWith=eA.stringStartWith}catch(Y){Object.setPrototypeOf(A,eA.stringObj)}A=A.trim().toLowerCase().replace(/,+/g,"|"),B=A.split("|")}let E=[],I=[];if(B.length&&B[0].trim()==="*")B=[],XHA(!1).then((Y)=>{for(let G of Y)B.push(G.iface);D1Q(B.join(",")).then((G)=>{if(Q)Q(G);C(G)})});else{for(let Y of B)I.push(HGB(Y.trim()));if(I.length)Promise.all(I).then((Y)=>{if(Q)Q(Y);C(Y)});else{if(Q)Q(E);C(E)}}})})}function HGB(A){function Q(B){let C=[];for(let E in B)if({}.hasOwnProperty.call(B,E)){if(B[E].trim()!==""){let I=B[E].trim().split(`\r
`);C.push({name:eA.getValue(I,"Name",":").replace(/[()[\] ]+/g,"").replace(/#|\//g,"_").toLowerCase(),rx_bytes:parseInt(eA.getValue(I,"BytesReceivedPersec",":"),10),rx_errors:parseInt(eA.getValue(I,"PacketsReceivedErrors",":"),10),rx_dropped:parseInt(eA.getValue(I,"PacketsReceivedDiscarded",":"),10),tx_bytes:parseInt(eA.getValue(I,"BytesSentPersec",":"),10),tx_errors:parseInt(eA.getValue(I,"PacketsOutboundErrors",":"),10),tx_dropped:parseInt(eA.getValue(I,"PacketsOutboundDiscarded",":"),10)})}}return C}return new Promise((B)=>{process.nextTick(()=>{let C="",E=eA.isPrototypePolluted()?"---":eA.sanitizeShellString(A),I=eA.mathMin(E.length,2000);for(let M=0;M<=I;M++)if(E[M]!==void 0)C=C+E[M];let Y={iface:C,operstate:"unknown",rx_bytes:0,rx_dropped:0,rx_errors:0,tx_bytes:0,tx_dropped:0,tx_errors:0,rx_sec:null,tx_sec:null,ms:0},G="unknown",J=0,D=0,U=0,N=0,Z=0,X=0,W,K,V;if(!AC[C]||AC[C]&&!AC[C].ms||AC[C]&&AC[C].ms&&Date.now()-AC[C].ms>=500){if(x6)if(aYB.existsSync("/sys/class/net/"+C))W="cat /sys/class/net/"+C+"/operstate; cat /sys/class/net/"+C+"/statistics/rx_bytes; cat /sys/class/net/"+C+"/statistics/tx_bytes; cat /sys/class/net/"+C+"/statistics/rx_dropped; cat /sys/class/net/"+C+"/statistics/rx_errors; cat /sys/class/net/"+C+"/statistics/tx_dropped; cat /sys/class/net/"+C+"/statistics/tx_errors; ",YN(W,function(M,z){if(!M)K=z.toString().split(`
`),G=K[0].trim(),J=parseInt(K[1],10),D=parseInt(K[2],10),U=parseInt(K[3],10),N=parseInt(K[4],10),Z=parseInt(K[5],10),X=parseInt(K[6],10),Y=Fs(C,J,D,G,U,N,Z,X);B(Y)});else B(Y);if(YK||GK||JK)W="netstat -ibndI "+C,YN(W,function(M,z){if(!M){K=z.toString().split(`
`);for(let L=1;L<K.length;L++){let O=K[L].replace(/ +/g," ").split(" ");if(O&&O[0]&&O[7]&&O[10]){if(J=J+parseInt(O[7]),O[6].trim()!=="-")U=U+parseInt(O[6]);if(O[5].trim()!=="-")N=N+parseInt(O[5]);if(D=D+parseInt(O[10]),O[12].trim()!=="-")Z=Z+parseInt(O[12]);if(O[9].trim()!=="-")X=X+parseInt(O[9]);G="up"}}Y=Fs(C,J,D,G,U,N,Z,X)}B(Y)});if(S6)W="ifconfig "+C+' | grep "status"',YN(W,function(M,z){Y.operstate=(z.toString().split(":")[1]||"").trim(),Y.operstate=(Y.operstate||"").toLowerCase(),Y.operstate=Y.operstate==="active"?"up":Y.operstate==="inactive"?"down":"unknown",W="netstat -bdI "+C,YN(W,function(L,O){if(!L){if(K=O.toString().split(`
`),K.length>1&&K[1].trim()!==""){V=K[1].replace(/ +/g," ").split(" ");let R=V.length>11?1:0;J=parseInt(V[R+5]),U=parseInt(V[R+10]),N=parseInt(V[R+4]),D=parseInt(V[R+8]),Z=parseInt(V[R+10]),X=parseInt(V[R+7]),Y=Fs(C,J,D,Y.operstate,U,N,Z,X)}}B(Y)})});if(hv){let M=[],z=C;eA.powerShell("Get-CimInstance Win32_PerfRawData_Tcpip_NetworkInterface | select Name,BytesReceivedPersec,PacketsReceivedErrors,PacketsReceivedDiscarded,BytesSentPersec,PacketsOutboundErrors,PacketsOutboundDiscarded | fl").then((L,O)=>{if(!O){let R=L.toString().split(/\n\s*\n/);M=Q(R)}XHA(!1).then((R)=>{if(J=0,D=0,M.forEach((_)=>{R.forEach((S)=>{if((S.iface.toLowerCase()===C.toLowerCase()||S.mac.toLowerCase()===C.toLowerCase()||S.ip4.toLowerCase()===C.toLowerCase()||S.ip6.toLowerCase()===C.toLowerCase()||S.ifaceName.replace(/[()[\] ]+/g,"").replace(/#|\//g,"_").toLowerCase()===C.replace(/[()[\] ]+/g,"").replace("#","_").toLowerCase())&&S.ifaceName.replace(/[()[\] ]+/g,"").replace(/#|\//g,"_").toLowerCase()===_.name)z=S.iface,J=_.rx_bytes,U=_.rx_dropped,N=_.rx_errors,D=_.tx_bytes,Z=_.tx_dropped,X=_.tx_errors,G=S.operstate})}),J&&D)Y=Fs(z,parseInt(J),parseInt(D),G,U,N,Z,X);B(Y)})})}}else Y.rx_bytes=AC[C].rx_bytes,Y.tx_bytes=AC[C].tx_bytes,Y.rx_sec=AC[C].rx_sec,Y.tx_sec=AC[C].tx_sec,Y.ms=AC[C].last_ms,Y.operstate=AC[C].operstate,B(Y)})})}MGB.networkStats=D1Q;function WGB(A,Q){let B="";return A.forEach((C)=>{let E=C.split(" ");if((parseInt(E[0],10)||-1)===Q)E.shift(),B=E.join(" ").split(":")[0]}),B=B.split(" -")[0],B=B.split(" /")[0],B}function KGB(A){return new Promise((Q)=>{process.nextTick(()=>{let B=[];if(x6||YK||GK||JK){let C='export LC_ALL=C; netstat -tunap | grep "ESTABLISHED\\|SYN_SENT\\|SYN_RECV\\|FIN_WAIT1\\|FIN_WAIT2\\|TIME_WAIT\\|CLOSE\\|CLOSE_WAIT\\|LAST_ACK\\|LISTEN\\|CLOSING\\|UNKNOWN"; unset LC_ALL';if(YK||GK||JK)C='export LC_ALL=C; netstat -na | grep "ESTABLISHED\\|SYN_SENT\\|SYN_RECV\\|FIN_WAIT1\\|FIN_WAIT2\\|TIME_WAIT\\|CLOSE\\|CLOSE_WAIT\\|LAST_ACK\\|LISTEN\\|CLOSING\\|UNKNOWN"; unset LC_ALL';YN(C,{maxBuffer:20480000},function(E,I){let Y=I.toString().split(`
`);if(!E&&(Y.length>1||Y[0]!="")){if(Y.forEach(function(G){if(G=G.replace(/ +/g," ").split(" "),G.length>=7){let J=G[3],D="",U=G[3].split(":");if(U.length>1)D=U[U.length-1],U.pop(),J=U.join(":");let N=G[4],Z="",X=G[4].split(":");if(X.length>1)Z=X[X.length-1],X.pop(),N=X.join(":");let W=G[5],K=G[6].split("/");if(W)B.push({protocol:G[0],localAddress:J,localPort:D,peerAddress:N,peerPort:Z,state:W,pid:K[0]&&K[0]!=="-"?parseInt(K[0],10):null,process:K[1]?K[1].split(" ")[0].split(":")[0]:""})}}),A)A(B);Q(B)}else C='ss -tunap | grep "ESTAB\\|SYN-SENT\\|SYN-RECV\\|FIN-WAIT1\\|FIN-WAIT2\\|TIME-WAIT\\|CLOSE\\|CLOSE-WAIT\\|LAST-ACK\\|LISTEN\\|CLOSING"',YN(C,{maxBuffer:20480000},function(G,J){if(!G)J.toString().split(`
`).forEach(function(U){if(U=U.replace(/ +/g," ").split(" "),U.length>=6){let N=U[4],Z="",X=U[4].split(":");if(X.length>1)Z=X[X.length-1],X.pop(),N=X.join(":");let W=U[5],K="",V=U[5].split(":");if(V.length>1)K=V[V.length-1],V.pop(),W=V.join(":");let M=U[1];if(M==="ESTAB")M="ESTABLISHED";if(M==="TIME-WAIT")M="TIME_WAIT";let z=null,L="";if(U.length>=7&&U[6].indexOf("users:")>-1){let O=U[6].replace('users:(("',"").replace(/"/g,"").split(",");if(O.length>2)L=O[0].split(" ")[0].split(":")[0],z=parseInt(O[1],10)}if(M)B.push({protocol:U[0],localAddress:N,localPort:Z,peerAddress:W,peerPort:K,state:M,pid:z,process:L})}});if(A)A(B);Q(B)})})}if(S6){let C='netstat -natvln | head -n2; netstat -natvln | grep "tcp4\\|tcp6\\|udp4\\|udp6"',E="ESTABLISHED|SYN_SENT|SYN_RECV|FIN_WAIT1|FIN_WAIT_1|FIN_WAIT2|FIN_WAIT_2|TIME_WAIT|CLOSE|CLOSE_WAIT|LAST_ACK|LISTEN|CLOSING|UNKNOWN".split("|");YN(C,{maxBuffer:20480000},function(I,Y){if(!I)YN("ps -axo pid,command",{maxBuffer:20480000},function(G,J){let D=J.toString().split(`
`);D=D.map((Z)=>{return Z.trim().replace(/ +/g," ")});let U=Y.toString().split(`
`);U.shift();let N=8;if(U.length>1&&U[0].indexOf("pid")>0)N=(U.shift()||"").replace(/ Address/g,"_Address").replace(/ +/g," ").split(" ").indexOf("pid");if(U.forEach(function(Z){if(Z=Z.replace(/ +/g," ").split(" "),Z.length>=8){let X=Z[3],W="",K=Z[3].split(".");if(K.length>1)W=K[K.length-1],K.pop(),X=K.join(".");let V=Z[4],M="",z=Z[4].split(".");if(z.length>1)M=z[z.length-1],z.pop(),V=z.join(".");let L=E.indexOf(Z[5])>=0,O=L?Z[5]:"UNKNOWN",R=parseInt(Z[N+(L?0:-1)],10);if(O)B.push({protocol:Z[0],localAddress:X,localPort:W,peerAddress:V,peerPort:M,state:O,pid:R,process:WGB(D,R)})}}),A)A(B);Q(B)})})}if(hv){let C="netstat -nao";try{YN(C,eA.execOptsWin,function(E,I){if(!E){if(I.toString().split(`\r
`).forEach(function(G){if(G=G.trim().replace(/ +/g," ").split(" "),G.length>=4){let J=G[1],D="",U=G[1].split(":");if(U.length>1)D=U[U.length-1],U.pop(),J=U.join(":");J=J.replace(/\[/g,"").replace(/\]/g,"");let N=G[2],Z="",X=G[2].split(":");if(X.length>1)Z=X[X.length-1],X.pop(),N=X.join(":");N=N.replace(/\[/g,"").replace(/\]/g,"");let W=eA.toInt(G[4]),K=G[3];if(K==="HERGESTELLT")K="ESTABLISHED";if(K.startsWith("ABH"))K="LISTEN";if(K==="SCHLIESSEN_WARTEN")K="CLOSE_WAIT";if(K==="WARTEND")K="TIME_WAIT";if(K==="SYN_GESENDET")K="SYN_SENT";if(K==="LISTENING")K="LISTEN";if(K==="SYN_RECEIVED")K="SYN_RECV";if(K==="FIN_WAIT_1")K="FIN_WAIT1";if(K==="FIN_WAIT_2")K="FIN_WAIT2";if(G[0].toLowerCase()!=="udp"&&K)B.push({protocol:G[0].toLowerCase(),localAddress:J,localPort:D,peerAddress:N,peerPort:Z,state:K,pid:W,process:""});else if(G[0].toLowerCase()==="udp")B.push({protocol:G[0].toLowerCase(),localAddress:J,localPort:D,peerAddress:N,peerPort:Z,state:"",pid:parseInt(G[3],10),process:""})}}),A)A(B);Q(B)}})}catch(E){if(A)A(B);Q(B)}}})})}MGB.networkConnections=KGB;function VGB(A){return new Promise((Q)=>{process.nextTick(()=>{let B="";if(x6||YK||GK||JK){let C="ip route get 1";try{YN(C,{maxBuffer:20480000},function(E,I){if(!E){let Y=I.toString().split(`
`),J=(Y&&Y[0]?Y[0]:"").split(" via ");if(J&&J[1])J=J[1].split(" "),B=J[0];if(A)A(B);Q(B)}else{if(A)A(B);Q(B)}})}catch(E){if(A)A(B);Q(B)}}if(S6){let C="route -n get default";try{YN(C,{maxBuffer:20480000},function(E,I){if(!E){let Y=I.toString().split(`
`).map((G)=>G.trim());B=eA.getValue(Y,"gateway")}if(!B)C="netstat -rn | awk '/default/ {print $2}'",YN(C,{maxBuffer:20480000},function(Y,G){if(B=G.toString().split(`
`).map((D)=>D.trim()).find((D)=>/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(D)),A)A(B);Q(B)});else{if(A)A(B);Q(B)}})}catch(E){if(A)A(B);Q(B)}}if(hv)try{YN("netstat -r",eA.execOptsWin,function(C,E){if(E.toString().split(Hs.EOL).forEach((Y)=>{if(Y=Y.replace(/\s+/g," ").trim(),Y.indexOf("0.0.0.0 0.0.0.0")>-1&&!/[a-zA-Z]/.test(Y)){let G=Y.split(" ");if(G.length>=5&&G[G.length-3].indexOf(".")>-1)B=G[G.length-3]}}),!B)eA.powerShell("Get-CimInstance -ClassName Win32_IP4RouteTable | Where-Object { $_.Destination -eq '0.0.0.0' -and $_.Mask -eq '0.0.0.0' }").then((Y)=>{let G=Y.toString().split(`\r
`);if(G.length>1&&!B){if(B=eA.getValue(G,"NextHop"),A)A(B);Q(B)}});else{if(A)A(B);Q(B)}})}catch(C){if(A)A(B);Q(B)}})})}MGB.networkGatewayDefault=VGB});var H1Q=m((vGB)=>{var mv=a("os"),FHA=a("child_process").exec,DK=a("child_process").execSync,AQ=aY(),Ws=process.platform,HHA=Ws==="linux"||Ws==="android",WHA=Ws==="darwin",KHA=Ws==="win32";function VHA(A){let Q=parseFloat(A);if(Q<0)return 0;if(Q>=100)return-50;return Q/2-100}function Ks(A){let Q=2*(parseFloat(A)+100);return Q<=100?Q:100}var fv={1:2412,2:2417,3:2422,4:2427,5:2432,6:2437,7:2442,8:2447,9:2452,10:2457,11:2462,12:2467,13:2472,14:2484,32:5160,34:5170,36:5180,38:5190,40:5200,42:5210,44:5220,46:5230,48:5240,50:5250,52:5260,54:5270,56:5280,58:5290,60:5300,62:5310,64:5320,68:5340,96:5480,100:5500,102:5510,104:5520,106:5530,108:5540,110:5550,112:5560,114:5570,116:5580,118:5590,120:5600,122:5610,124:5620,126:5630,128:5640,132:5660,134:5670,136:5680,138:5690,140:5700,142:5710,144:5720,149:5745,151:5755,153:5765,155:5775,157:5785,159:5795,161:5805,165:5825,169:5845,173:5865,183:4915,184:4920,185:4925,187:4935,188:4940,189:4945,192:4960,196:4980};function dv(A){return{}.hasOwnProperty.call(fv,A)?fv[A]:null}function TGB(A){let Q=0;for(let B in fv)if({}.hasOwnProperty.call(fv,B)){if(fv[B]===A)Q=AQ.toInt(B)}return Q}function Z1Q(){let A=[],Q="iw dev 2>/dev/null";try{let C=DK("iw dev 2>/dev/null",AQ.execOptsLinux).toString().split(`
`).map((E)=>E.trim()).join(`
`).split(`
Interface `);return C.shift(),C.forEach((E)=>{let I=E.split(`
`),Y=I[0],G=AQ.toInt(AQ.getValue(I,"ifindex"," ")),J=AQ.getValue(I,"addr"," "),D=AQ.toInt(AQ.getValue(I,"channel"," "));A.push({id:G,iface:Y,mac:J,channel:D})}),A}catch(B){try{let E=DK("nmcli -t -f general,wifi-properties,wired-properties,interface-flags,capabilities,nsp device show 2>/dev/null",AQ.execOptsLinux).toString().split(`

`),I=1;return E.forEach((Y)=>{let G=Y.split(`
`),J=AQ.getValue(G,"GENERAL.DEVICE"),D=AQ.getValue(G,"GENERAL.TYPE"),U=I++,N=AQ.getValue(G,"GENERAL.HWADDR"),Z="";if(D.toLowerCase()==="wifi")A.push({id:U,iface:J,mac:N,channel:""})}),A}catch(C){return[]}}}function X1Q(A){let Q=`nmcli -t -f general,wifi-properties,capabilities,ip4,ip6 device show ${A} 2> /dev/null`;try{let B=DK(Q,AQ.execOptsLinux).toString().split(`
`),C=AQ.getValue(B,"GENERAL.CONNECTION");return{iface:A,type:AQ.getValue(B,"GENERAL.TYPE"),vendor:AQ.getValue(B,"GENERAL.VENDOR"),product:AQ.getValue(B,"GENERAL.PRODUCT"),mac:AQ.getValue(B,"GENERAL.HWADDR").toLowerCase(),ssid:C!=="--"?C:null}}catch(B){return{}}}function qGB(A){let Q=`nmcli -t --show-secrets connection show ${A} 2>/dev/null`;try{let B=DK(Q,AQ.execOptsLinux).toString().split(`
`),C=AQ.getValue(B,"802-11-wireless.seen-bssids").toLowerCase();return{ssid:A!=="--"?A:null,uuid:AQ.getValue(B,"connection.uuid"),type:AQ.getValue(B,"connection.type"),autoconnect:AQ.getValue(B,"connection.autoconnect")==="yes",security:AQ.getValue(B,"802-11-wireless-security.key-mgmt"),bssid:C!=="--"?C:null}}catch(B){return{}}}function PGB(A){if(!A)return{};let Q=`wpa_cli -i ${A} status 2>&1`;try{let B=DK(Q,AQ.execOptsLinux).toString().split(`
`),C=AQ.toInt(AQ.getValue(B,"freq","="));return{ssid:AQ.getValue(B,"ssid","="),uuid:AQ.getValue(B,"uuid","="),security:AQ.getValue(B,"key_mgmt","="),freq:C,channel:TGB(C),bssid:AQ.getValue(B,"bssid","=").toLowerCase()}}catch(B){return{}}}function F1Q(){let A=[],Q="nmcli -t -m multiline --fields active,ssid,bssid,mode,chan,freq,signal,security,wpa-flags,rsn-flags device wifi list 2>/dev/null";try{let C=DK("nmcli -t -m multiline --fields active,ssid,bssid,mode,chan,freq,signal,security,wpa-flags,rsn-flags device wifi list 2>/dev/null",AQ.execOptsLinux).toString().split("ACTIVE:");return C.shift(),C.forEach((E)=>{E="ACTIVE:"+E;let I=E.split(mv.EOL),Y=AQ.getValue(I,"CHAN"),G=AQ.getValue(I,"FREQ").toLowerCase().replace("mhz","").trim(),J=AQ.getValue(I,"SECURITY").replace("(","").replace(")",""),D=AQ.getValue(I,"WPA-FLAGS").replace("(","").replace(")",""),U=AQ.getValue(I,"RSN-FLAGS").replace("(","").replace(")",""),N=AQ.getValue(I,"SIGNAL");A.push({ssid:AQ.getValue(I,"SSID"),bssid:AQ.getValue(I,"BSSID").toLowerCase(),mode:AQ.getValue(I,"MODE"),channel:Y?parseInt(Y,10):null,frequency:G?parseInt(G,10):null,signalLevel:VHA(N),quality:N?parseInt(N,10):null,security:J&&J!=="none"?J.split(" "):[],wpaFlags:D&&D!=="none"?D.split(" "):[],rsnFlags:U&&U!=="none"?U.split(" "):[]})}),A}catch(B){return[]}}function N1Q(A){let Q=[];try{let B=DK(`export LC_ALL=C; iwlist ${A} scan 2>&1; unset LC_ALL`,AQ.execOptsLinux).toString().split("        Cell ");if(B[0].indexOf("resource busy")>=0)return-1;if(B.length>1)B.shift(),B.forEach((C)=>{let E=C.split(`
`),I=AQ.getValue(E,"channel",":",!0),Y=E&&E.length&&E[0].indexOf("Address:")>=0?E[0].split("Address:")[1].trim().toLowerCase():"",G=AQ.getValue(E,"mode",":",!0),J=AQ.getValue(E,"frequency",":",!0),U=AQ.getValue(E,"Quality","=",!0).toLowerCase().split("signal level="),N=U.length>1?AQ.toInt(U[1]):0,Z=N?Ks(N):0,X=AQ.getValue(E,"essid",":",!0),W=C.indexOf(" WPA ")>=0,K=C.indexOf("WPA2 ")>=0,V=[];if(W)V.push("WPA");if(K)V.push("WPA2");let M=[],z="";if(E.forEach(function(L){let O=L.trim().toLowerCase();if(O.indexOf("group cipher")>=0){if(z)M.push(z);let R=O.split(":");if(R.length>1)z=R[1].trim().toUpperCase()}if(O.indexOf("pairwise cipher")>=0){let R=O.split(":");if(R.length>1){if(R[1].indexOf("tkip"))z=z?"TKIP/"+z:"TKIP";else if(R[1].indexOf("ccmp"))z=z?"CCMP/"+z:"CCMP";else if(R[1].indexOf("proprietary"))z=z?"PROP/"+z:"PROP"}}if(O.indexOf("authentication suites")>=0){let R=O.split(":");if(R.length>1){if(R[1].indexOf("802.1x"))z=z?"802.1x/"+z:"802.1x";else if(R[1].indexOf("psk"))z=z?"PSK/"+z:"PSK"}}}),z)M.push(z);Q.push({ssid:X,bssid:Y,mode:G,channel:I?AQ.toInt(I):null,frequency:J?AQ.toInt(J.replace(".","")):null,signalLevel:N,quality:Z,security:V,wpaFlags:M,rsnFlags:[]})});return Q}catch(B){return-1}}function _GB(A){let Q=[];try{let B=JSON.parse(A);return B=B.SPAirPortDataType[0].spairport_airport_interfaces[0].spairport_airport_other_local_wireless_networks,B.forEach(function(C){let E=[],I=C.spairport_security_mode;if(I==="spairport_security_mode_wep")E.push("WEP");else if(I==="spairport_security_mode_wpa2_personal")E.push("WPA2");else if(I.startsWith("spairport_security_mode_wpa2_enterprise"))E.push("WPA2 EAP");else if(I.startsWith("pairport_security_mode_wpa3_transition"))E.push("WPA2/WPA3");else if(I.startsWith("pairport_security_mode_wpa3"))E.push("WPA3");let Y=parseInt((""+C.spairport_network_channel).split(" ")[0])||0,G=C.spairport_signal_noise||null;Q.push({ssid:C._name||"",bssid:C.spairport_network_bssid||null,mode:C.spairport_network_phymode,channel:Y,frequency:dv(Y),signalLevel:G?parseInt(G,10):null,quality:Ks(G),security:E,wpaFlags:[],rsnFlags:[]})}),Q}catch(B){return Q}}function jGB(A){return new Promise((Q)=>{process.nextTick(()=>{let B=[];if(HHA)if(B=F1Q(),B.length===0)try{let C=DK("export LC_ALL=C; iwconfig 2>/dev/null; unset LC_ALL",AQ.execOptsLinux).toString().split(`

`),E="";if(C.forEach((I)=>{if(I.indexOf("no wireless")===-1&&I.trim()!=="")E=I.split(" ")[0]}),E){let I="",Y=AQ.isPrototypePolluted()?"---":AQ.sanitizeShellString(E,!0),G=AQ.mathMin(Y.length,2000);for(let D=0;D<=G;D++)if(Y[D]!==void 0)I=I+Y[D];let J=N1Q(I);if(J===-1)setTimeout(function(D){let U=N1Q(D);if(U!=-1)B=U;if(A)A(B);Q(B)},4000);else{if(B=J,A)A(B);Q(B)}}else{if(A)A(B);Q(B)}}catch(C){if(A)A(B);Q(B)}else{if(A)A(B);Q(B)}else if(WHA)FHA("system_profiler SPAirPortDataType -json 2>/dev/null",{maxBuffer:40960000},function(E,I){if(B=_GB(I.toString()),A)A(B);Q(B)});else if(KHA){let C="netsh wlan show networks mode=Bssid";AQ.powerShell(C).then((E)=>{let I=E.toString("utf8").split(mv.EOL+mv.EOL+"SSID ");if(I.shift(),I.forEach((Y)=>{let G=Y.split(mv.EOL);if(G&&G.length>=8&&G[0].indexOf(":")>=0){let J=Y.split(" BSSID");J.shift(),J.forEach((D)=>{let U=D.split(mv.EOL),N=U[0].split(":");N.shift();let Z=N.join(":").trim().toLowerCase(),X=U[3].split(":").pop().trim(),W=U[1].split(":").pop().trim();B.push({ssid:G[0].split(":").pop().trim(),bssid:Z,mode:"",channel:X?parseInt(X,10):null,frequency:dv(X),signalLevel:VHA(W),quality:W?parseInt(W,10):null,security:[G[2].split(":").pop().trim()],wpaFlags:[G[3].split(":").pop().trim()],rsnFlags:[]})})}}),A)A(B);Q(B)})}else{if(A)A(B);Q(B)}})})}vGB.wifiNetworks=jGB;function xGB(A){A=A.toLowerCase();let Q="";if(A.indexOf("intel")>=0)Q="Intel";else if(A.indexOf("realtek")>=0)Q="Realtek";else if(A.indexOf("qualcom")>=0)Q="Qualcom";else if(A.indexOf("broadcom")>=0)Q="Broadcom";else if(A.indexOf("cavium")>=0)Q="Cavium";else if(A.indexOf("cisco")>=0)Q="Cisco";else if(A.indexOf("marvel")>=0)Q="Marvel";else if(A.indexOf("zyxel")>=0)Q="Zyxel";else if(A.indexOf("melanox")>=0)Q="Melanox";else if(A.indexOf("d-link")>=0)Q="D-Link";else if(A.indexOf("tp-link")>=0)Q="TP-Link";else if(A.indexOf("asus")>=0)Q="Asus";else if(A.indexOf("linksys")>=0)Q="Linksys";return Q}function SGB(A){return new Promise((Q)=>{process.nextTick(()=>{let B=[];if(HHA){let C=Z1Q(),E=F1Q();if(C.forEach((I)=>{let Y="",G=AQ.isPrototypePolluted()?"---":AQ.sanitizeShellString(I.iface,!0),J=AQ.mathMin(G.length,2000);for(let O=0;O<=J;O++)if(G[O]!==void 0)Y=Y+G[O];let D=X1Q(Y),U=PGB(Y),N=D.ssid||U.ssid,Z=E.filter((O)=>O.ssid===N),X="",W=AQ.isPrototypePolluted()?"---":AQ.sanitizeShellString(N,!0),K=AQ.mathMin(W.length,32);for(let O=0;O<=K;O++)if(W[O]!==void 0)X=X+W[O];let V=qGB(X),M=Z&&Z.length&&Z[0].channel?Z[0].channel:U.channel?U.channel:null,z=Z&&Z.length&&Z[0].bssid?Z[0].bssid:U.bssid?U.bssid:null,L=Z&&Z.length&&Z[0].signalLevel?Z[0].signalLevel:null;if(N&&z)B.push({id:I.id,iface:I.iface,model:D.product,ssid:N,bssid:Z&&Z.length&&Z[0].bssid?Z[0].bssid:U.bssid?U.bssid:null,channel:M,frequency:M?dv(M):null,type:V.type?V.type:"802.11",security:V.security?V.security:U.security?U.security:null,signalLevel:L,quality:Ks(L),txRate:null})}),A)A(B);Q(B)}else if(WHA)FHA('system_profiler SPNetworkDataType SPAirPortDataType -xml 2>/dev/null; echo "######" ; ioreg -n AppleBCMWLANSkywalkInterface -r 2>/dev/null',function(E,I){try{let Y=I.toString().split("######"),G=AQ.plistParser(Y[0]),J=G[0]._SPCommandLineArguments.indexOf("SPNetworkDataType")>=0?G[0]._items:G[1]._items,D=G[0]._SPCommandLineArguments.indexOf("SPAirPortDataType")>=0?G[0]._items[0].spairport_airport_interfaces:G[1]._items[0].spairport_airport_interfaces,U=[];if(Y[1].indexOf("  | {")>0&&Y[1].indexOf("  | }")>Y[1].indexOf("  | {"))U=Y[1].split("  | {")[1].split("  | }")[0].replace(/ \| /g,"").replace(/"/g,"").split(`
`);let N=J.find((M)=>{return M._name==="Wi-Fi"}),Z=D[0].spairport_current_network_information,X=parseInt((""+Z.spairport_network_channel).split(" ")[0])||0,W=Z.spairport_signal_noise||null,K=[],V=Z.spairport_security_mode;if(V==="spairport_security_mode_wep")K.push("WEP");else if(V==="spairport_security_mode_wpa2_personal")K.push("WPA2");else if(V.startsWith("spairport_security_mode_wpa2_enterprise"))K.push("WPA2 EAP");else if(V.startsWith("pairport_security_mode_wpa3_transition"))K.push("WPA2/WPA3");else if(V.startsWith("pairport_security_mode_wpa3"))K.push("WPA3");B.push({id:N._name||"Wi-Fi",iface:N.interface||"",model:N.hardware||"",ssid:Z._name||"",bssid:Z.spairport_network_bssid||"",channel:X,frequency:X?dv(X):null,type:Z.spairport_network_phymode||"802.11",security:K,signalLevel:W?parseInt(W,10):null,quality:Ks(W),txRate:Z.spairport_network_rate||null})}catch(Y){AQ.noop()}if(A)A(B);Q(B)});else if(KHA){let C="netsh wlan show interfaces";AQ.powerShell(C).then(function(E){let I=E.toString().split(`\r
`);for(let G=0;G<I.length;G++)I[G]=I[G].trim();let Y=I.join(`\r
`).split(`:\r
\r
`);if(Y.shift(),Y.forEach((G)=>{let J=G.split(`\r
`);if(J.length>=5){let D=J[0].indexOf(":")>=0?J[0].split(":")[1].trim():"",U=J[1].indexOf(":")>=0?J[1].split(":")[1].trim():"",N=J[2].indexOf(":")>=0?J[2].split(":")[1].trim():"",Z=AQ.getValue(J,"SSID",":",!0),X=AQ.getValue(J,"BSSID",":",!0)||AQ.getValue(J,"AP BSSID",":",!0),W=AQ.getValue(J,"Signal",":",!0),K=VHA(W),V=AQ.getValue(J,"Radio type",":",!0)||AQ.getValue(J,"Type de radio",":",!0)||AQ.getValue(J,"Funktyp",":",!0)||null,M=AQ.getValue(J,"authentication",":",!0)||AQ.getValue(J,"Authentification",":",!0)||AQ.getValue(J,"Authentifizierung",":",!0)||null,z=AQ.getValue(J,"Channel",":",!0)||AQ.getValue(J,"Canal",":",!0)||AQ.getValue(J,"Kanal",":",!0)||null,L=AQ.getValue(J,"Transmit rate (mbps)",":",!0)||AQ.getValue(J,"Transmission (mbit/s)",":",!0)||AQ.getValue(J,"Empfangsrate (MBit/s)",":",!0)||null;if(U&&N&&Z&&X)B.push({id:N,iface:D,model:U,ssid:Z,bssid:X,channel:AQ.toInt(z),frequency:z?dv(z):null,type:V,security:M,signalLevel:K,quality:W?parseInt(W,10):null,txRate:AQ.toInt(L)||null})}}),A)A(B);Q(B)})}else{if(A)A(B);Q(B)}})})}vGB.wifiConnections=SGB;function gGB(A){return new Promise((Q)=>{process.nextTick(()=>{let B=[];if(HHA){if(Z1Q().forEach((E)=>{let I=X1Q(E.iface);B.push({id:E.id,iface:E.iface,model:I.product?I.product:null,vendor:I.vendor?I.vendor:null,mac:E.mac})}),A)A(B);Q(B)}else if(WHA)FHA("system_profiler SPNetworkDataType",function(E,I){let Y=I.toString().split(`

    Wi-Fi:

`);if(Y.length>1){let G=Y[1].split(`

`)[0].split(`
`),J=AQ.getValue(G,"BSD Device Name",":",!0),D=AQ.getValue(G,"MAC Address",":",!0),U=AQ.getValue(G,"hardware",":",!0);B.push({id:"Wi-Fi",iface:J,model:U,vendor:"",mac:D})}if(A)A(B);Q(B)});else if(KHA){let C="netsh wlan show interfaces";AQ.powerShell(C).then(function(E){let I=E.toString().split(`\r
`);for(let G=0;G<I.length;G++)I[G]=I[G].trim();let Y=I.join(`\r
`).split(`:\r
\r
`);if(Y.shift(),Y.forEach((G)=>{let J=G.split(`\r
`);if(J.length>=5){let D=J[0].indexOf(":")>=0?J[0].split(":")[1].trim():"",U=J[1].indexOf(":")>=0?J[1].split(":")[1].trim():"",N=J[2].indexOf(":")>=0?J[2].split(":")[1].trim():"",Z=J[3].indexOf(":")>=0?J[3].split(":"):[];Z.shift();let X=Z.join(":").trim(),W=xGB(U);if(D&&U&&N&&X)B.push({id:N,iface:D,model:U,vendor:W,mac:X})}}),A)A(B);Q(B)})}else{if(A)A(B);Q(B)}})})}vGB.wifiInterfaces=gGB});var V1Q=m((lGB)=>{var Ms=a("os"),hGB=a("fs"),mGB=a("path"),uv=a("child_process").exec,MHA=a("child_process").execSync,pQ=aY(),UK=process.platform,y4=UK==="linux"||UK==="android",VM=UK==="darwin",$HA=UK==="win32",pv=UK==="freebsd",cv=UK==="openbsd",lv=UK==="netbsd",Vs=UK==="sunos",TG={all:0,all_utime:0,all_stime:0,list:{},ms:0,result:{}},SR={all:0,all_utime:0,all_stime:0,list:{},ms:0,result:{}},uD={all:0,all_utime:0,all_stime:0,list:{},ms:0,result:{}},W1Q={"0":"unknown","1":"other","2":"ready","3":"running","4":"blocked","5":"suspended blocked","6":"suspended ready","7":"terminated","8":"stopped","9":"growing"};function fGB(A){let Q=A,B=A.replace(/ +/g," ").split(" ");if(B.length===5)Q=B[4]+"-"+("0"+("JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC".indexOf(B[1].toUpperCase())/3+1)).slice(-2)+"-"+("0"+B[2]).slice(-2)+" "+B[3];return Q}function dGB(A){let Q=new Date;Q=new Date(Q.getTime()-Q.getTimezoneOffset()*60000);let B=A.split("-"),C=B.length-1,E=C>0?parseInt(B[C-1]):0,I=B[C].split(":"),Y=I.length===3?parseInt(I[0]||0):0,G=parseInt(I[I.length===3?1:0]||0),J=parseInt(I[I.length===3?2:1]||0),D=(((E*24+Y)*60+G)*60+J)*1000,U=new Date(Q.getTime()),N=U.toISOString().substring(0,10)+" "+U.toISOString().substring(11,19);try{U=new Date(Q.getTime()-D),N=U.toISOString().substring(0,10)+" "+U.toISOString().substring(11,19)}catch(Z){pQ.noop()}return N}function uGB(A,Q){if(pQ.isFunction(A)&&!Q)Q=A,A="";return new Promise((B)=>{process.nextTick(()=>{if(typeof A!=="string"){if(Q)Q([]);return B([])}if(A){let C="";try{C.__proto__.toLowerCase=pQ.stringToLower,C.__proto__.replace=pQ.stringReplace,C.__proto__.toString=pQ.stringToString,C.__proto__.substr=pQ.stringSubstr,C.__proto__.substring=pQ.stringSubstring,C.__proto__.trim=pQ.stringTrim,C.__proto__.startsWith=pQ.stringStartWith}catch(D){Object.setPrototypeOf(C,pQ.stringObj)}let E=pQ.sanitizeShellString(A),I=pQ.mathMin(E.length,2000);for(let D=0;D<=I;D++)if(E[D]!==void 0)C=C+E[D];if(C=C.trim().toLowerCase().replace(/, /g,"|").replace(/,+/g,"|"),C==="")C="*";if(pQ.isPrototypePolluted()&&C!=="*")C="------";let Y=C.split("|"),G=[],J=[];if(y4||pv||cv||lv||VM){if((y4||pv||cv||lv)&&C==="*")try{let U=MHA("systemctl --all --type=service --no-legend 2> /dev/null",pQ.execOptsLinux).toString().split(`
`);Y=[];for(let N of U){let Z=N.split(".service")[0];if(Z&&N.indexOf(" not-found ")===-1)Y.push(Z.trim())}C=Y.join("|")}catch(U){try{C="";let N=MHA("service --status-all 2> /dev/null",pQ.execOptsLinux).toString().split(`
`);for(let Z of N){let X=Z.split("]");if(X.length===2)C+=(C!==""?"|":"")+X[1].trim()}Y=C.split("|")}catch(N){try{let Z=MHA("ls /etc/init.d/ -m 2> /dev/null",pQ.execOptsLinux).toString().split(`
`).join("");if(C="",Z){let X=Z.split(",");for(let W of X){let K=W.trim();if(K)C+=(C!==""?"|":"")+K}Y=C.split("|")}}catch(Z){C="",Y=[]}}}if(VM&&C==="*"){if(Q)Q(G);B(G)}let D=VM?["-caxo","pcpu,pmem,pid,command"]:["-axo","pcpu,pmem,pid,command"];if(C!==""&&Y.length>0)pQ.execSafe("ps",D).then((U)=>{if(U){let N=U.replace(/ +/g," ").replace(/,+/g,".").split(`
`);if(Y.forEach(function(Z){let X;if(VM)X=N.filter(function(K){return K.toLowerCase().indexOf(Z)!==-1});else X=N.filter(function(K){return K.toLowerCase().indexOf(" "+Z.toLowerCase()+":")!==-1||K.toLowerCase().indexOf("/"+Z.toLowerCase())!==-1});let W=[];for(let K of X){let V=K.trim().split(" ")[2];if(V)W.push(parseInt(V,10))}G.push({name:Z,running:X.length>0,startmode:"",pids:W,cpu:parseFloat(X.reduce(function(K,V){return K+parseFloat(V.trim().split(" ")[0])},0).toFixed(2)),mem:parseFloat(X.reduce(function(K,V){return K+parseFloat(V.trim().split(" ")[1])},0).toFixed(2))})}),y4){let Z='cat /proc/stat | grep "cpu "';for(let X in G)for(let W in G[X].pids)Z+=";cat /proc/"+G[X].pids[W]+"/stat";uv(Z,{maxBuffer:20480000},function(X,W){let K=W.toString().split(`
`),V=zHA(K.shift()),M={},z={};if(K.forEach((L)=>{if(z=wHA(L,V,SR),z.pid){let O=-1;for(let R in G)for(let _ in G[R].pids)if(parseInt(G[R].pids[_])===parseInt(z.pid))O=R;if(O>=0)G[O].cpu+=z.cpuu+z.cpus;M[z.pid]={cpuu:z.cpuu,cpus:z.cpus,utime:z.utime,stime:z.stime,cutime:z.cutime,cstime:z.cstime}}}),SR.all=V,SR.list=Object.assign({},M),SR.ms=Date.now()-SR.ms,SR.result=Object.assign({},G),Q)Q(G);B(G)})}else{if(Q)Q(G);B(G)}}else D=["-o","comm"],pQ.execSafe("ps",D).then((N)=>{if(N){let Z=N.replace(/ +/g," ").replace(/,+/g,".").split(`
`);if(Y.forEach(function(X){let W=Z.filter(function(K){return K.indexOf(X)!==-1});G.push({name:X,running:W.length>0,startmode:"",cpu:0,mem:0})}),Q)Q(G);B(G)}else{if(Y.forEach(function(Z){G.push({name:Z,running:!1,startmode:"",cpu:0,mem:0})}),Q)Q(G);B(G)}})});else{if(Q)Q(G);B(G)}}if($HA)try{let D="Get-CimInstance Win32_Service";if(Y[0]!=="*")D+=' -Filter "',Y.forEach((U)=>{D+=`Name='${U}' or `}),D=`${D.slice(0,-4)}"`;D+=" | select Name,Caption,Started,StartMode,ProcessId | fl",pQ.powerShell(D).then((U,N)=>{if(!N){if(U.split(/\n\s*\n/).forEach((X)=>{if(X.trim()!==""){let W=X.trim().split(`\r
`),K=pQ.getValue(W,"Name",":",!0).toLowerCase(),V=pQ.getValue(W,"Caption",":",!0).toLowerCase(),M=pQ.getValue(W,"Started",":",!0),z=pQ.getValue(W,"StartMode",":",!0),L=pQ.getValue(W,"ProcessId",":",!0);if(C==="*"||Y.indexOf(K)>=0||Y.indexOf(V)>=0)G.push({name:K,running:M.toLowerCase()==="true",startmode:z,pids:[L],cpu:0,mem:0}),J.push(K),J.push(V)}}),C!=="*")Y.filter(function(W){return J.indexOf(W)===-1}).forEach(function(W){G.push({name:W,running:!1,startmode:"",pids:[],cpu:0,mem:0})});if(Q)Q(G);B(G)}else{if(Y.forEach(function(Z){G.push({name:Z,running:!1,startmode:"",cpu:0,mem:0})}),Q)Q(G);B(G)}})}catch(D){if(Q)Q(G);B(G)}}else{if(Q)Q([]);B([])}})})}lGB.services=uGB;function zHA(A){let Q=A.replace(/ +/g," ").split(" "),B=Q.length>=2?parseInt(Q[1]):0,C=Q.length>=3?parseInt(Q[2]):0,E=Q.length>=4?parseInt(Q[3]):0,I=Q.length>=5?parseInt(Q[4]):0,Y=Q.length>=6?parseInt(Q[5]):0,G=Q.length>=7?parseInt(Q[6]):0,J=Q.length>=8?parseInt(Q[7]):0,D=Q.length>=9?parseInt(Q[8]):0,U=Q.length>=10?parseInt(Q[9]):0,N=Q.length>=11?parseInt(Q[10]):0;return B+C+E+I+Y+G+J+D+U+N}function wHA(A,Q,B){let C=A.replace(/ +/g," ").split(")");if(C.length>=2){let E=C[1].split(" ");if(E.length>=16){let I=parseInt(C[0].split(" ")[0]),Y=parseInt(E[12]),G=parseInt(E[13]),J=parseInt(E[14]),D=parseInt(E[15]),U=0,N=0;if(B.all>0&&B.list[I])U=(Y+J-B.list[I].utime-B.list[I].cutime)/(Q-B.all)*100,N=(G+D-B.list[I].stime-B.list[I].cstime)/(Q-B.all)*100;else U=(Y+J)/Q*100,N=(G+D)/Q*100;return{pid:I,utime:Y,stime:G,cutime:J,cstime:D,cpuu:U,cpus:N}}else return{pid:0,utime:0,stime:0,cutime:0,cstime:0,cpuu:0,cpus:0}}else return{pid:0,utime:0,stime:0,cutime:0,cstime:0,cpuu:0,cpus:0}}function K1Q(A,Q,B){let C=0,E=0;if(B.all>0&&B.list[A.pid])C=(A.utime-B.list[A.pid].utime)/(Q-B.all)*100,E=(A.stime-B.list[A.pid].stime)/(Q-B.all)*100;else C=A.utime/Q*100,E=A.stime/Q*100;return{pid:A.pid,utime:A.utime,stime:A.stime,cpuu:C>0?C:0,cpus:E>0?E:0}}function pGB(A){let Q=[];function B(Y){Y=Y||"";let G=Y.split(" ")[0];if(G.substr(-1)===":")G=G.substr(0,G.length-1);if(G.substr(0,1)!=="["){let J=G.split("/");if(isNaN(parseInt(J[J.length-1])))G=J[J.length-1];else G=J[0]}return G}function C(Y){let G=0,J=0;function D(p){if(G=J,Q[p])J=Y.substring(Q[p].to+G,1e4).indexOf(" ");else J=1e4}D(0);let U=parseInt(Y.substring(Q[0].from+G,Q[0].to+J));D(1);let N=parseInt(Y.substring(Q[1].from+G,Q[1].to+J));D(2);let Z=parseFloat(Y.substring(Q[2].from+G,Q[2].to+J).replace(/,/g,"."));D(3);let X=parseFloat(Y.substring(Q[3].from+G,Q[3].to+J).replace(/,/g,"."));D(4);let W=parseInt(Y.substring(Q[4].from+G,Q[4].to+J));D(5);let K=parseInt(Y.substring(Q[5].from+G,Q[5].to+J));D(6);let V=parseInt(Y.substring(Q[6].from+G,Q[6].to+J));D(7);let M=parseInt(Y.substring(Q[7].from+G,Q[7].to+J))||0;D(8);let z=!Vs?dGB(Y.substring(Q[8].from+G,Q[8].to+J).trim()):fGB(Y.substring(Q[8].from+G,Q[8].to+J).trim());D(9);let L=Y.substring(Q[9].from+G,Q[9].to+J).trim();L=L[0]==="R"?"running":L[0]==="S"?"sleeping":L[0]==="T"?"stopped":L[0]==="W"?"paging":L[0]==="X"?"dead":L[0]==="Z"?"zombie":L[0]==="D"||L[0]==="U"?"blocked":"unknown",D(10);let O=Y.substring(Q[10].from+G,Q[10].to+J).trim();if(O==="?"||O==="??")O="";D(11);let R=Y.substring(Q[11].from+G,Q[11].to+J).trim();D(12);let _="",S="",q="",y=Y.substring(Q[12].from+G,Q[12].to+J).trim();if(y.substr(y.length-1)==="]")y=y.slice(0,-1);if(y.substr(0,1)==="[")S=y.substring(1);else{let p=y.indexOf("("),i=y.indexOf(")"),MA=y.indexOf("/"),d=y.indexOf(":");if(p<i&&p<MA&&MA<i)S=y.split(" ")[0],S=S.replace(/:/g,"");else if(d>0&&(MA===-1||MA>3))S=y.split(" ")[0],S=S.replace(/:/g,"");else{let AA=y.indexOf(" -"),IA=y.indexOf(" /");AA=AA>=0?AA:1e4,IA=IA>=0?IA:1e4;let UA=Math.min(AA,IA),NA=y.substr(0,UA),bA=y.substr(UA),FQ=NA.lastIndexOf("/");if(FQ>=0)_=NA.substr(0,FQ),NA=NA.substr(FQ+1);if(UA===1e4&&NA.indexOf(" ")>-1){let IQ=NA.split(" ");if(hGB.existsSync(mGB.join(_,IQ[0])))S=IQ.shift(),q=(IQ.join(" ")+" "+bA).trim();else S=NA.trim(),q=bA.trim()}else S=NA.trim(),q=bA.trim()}}return{pid:U,parentPid:N,name:y4?B(S):S,cpu:Z,cpuu:0,cpus:0,mem:X,priority:W,memVsz:K,memRss:V,nice:M,started:z,state:L,tty:O,user:R,command:S,params:q,path:_}}function E(Y){let G=[];if(Y.length>1){let J=Y[0];Q=pQ.parseHead(J,8),Y.shift(),Y.forEach(function(D){if(D.trim()!=="")G.push(C(D))})}return G}function I(Y){function G(U){let N=("0"+(U.getMonth()+1).toString()).slice(-2),Z=U.getFullYear().toString(),X=("0"+U.getDate().toString()).slice(-2),W=("0"+U.getHours().toString()).slice(-2),K=("0"+U.getMinutes().toString()).slice(-2),V=("0"+U.getSeconds().toString()).slice(-2);return Z+"-"+N+"-"+X+" "+W+":"+K+":"+V}function J(U){let N="";if(U.indexOf("d")>=0){let Z=U.split("d");N=G(new Date(Date.now()-(Z[0]*24+Z[1]*1)*60*60*1000))}else if(U.indexOf("h")>=0){let Z=U.split("h");N=G(new Date(Date.now()-(Z[0]*60+Z[1]*1)*60*1000))}else if(U.indexOf(":")>=0){let Z=U.split(":");N=G(new Date(Date.now()-(Z.length>1?(Z[0]*60+Z[1])*1000:Z[0]*1000)))}return N}let D=[];return Y.forEach(function(U){if(U.trim()!==""){U=U.trim().replace(/ +/g," ").replace(/,+/g,".");let N=U.split(" "),Z=N.slice(9).join(" "),X=parseFloat((1*parseInt(N[3])*1024/Ms.totalmem()).toFixed(1)),W=J(N[5]);D.push({pid:parseInt(N[0]),parentPid:parseInt(N[1]),name:B(Z),cpu:0,cpuu:0,cpus:0,mem:X,priority:0,memVsz:parseInt(N[2]),memRss:parseInt(N[3]),nice:parseInt(N[4]),started:W,state:N[6]==="R"?"running":N[6]==="S"?"sleeping":N[6]==="T"?"stopped":N[6]==="W"?"paging":N[6]==="X"?"dead":N[6]==="Z"?"zombie":N[6]==="D"||N[6]==="U"?"blocked":"unknown",tty:N[7],user:N[8],command:Z})}}),D}return new Promise((Y)=>{process.nextTick(()=>{let G={all:0,running:0,blocked:0,sleeping:0,unknown:0,list:[]},J="";if(TG.ms&&Date.now()-TG.ms>=500||TG.ms===0)if(y4||pv||cv||lv||VM||Vs){if(y4)J="export LC_ALL=C; ps -axo pid:11,ppid:11,pcpu:6,pmem:6,pri:5,vsz:11,rss:11,ni:5,etime:30,state:5,tty:15,user:20,command; unset LC_ALL";if(pv||cv||lv)J="export LC_ALL=C; ps -axo pid,ppid,pcpu,pmem,pri,vsz,rss,ni,etime,state,tty,user,command; unset LC_ALL";if(VM)J="ps -axo pid,ppid,pcpu,pmem,pri,vsz=temp_title_1,rss=temp_title_2,nice,etime=temp_title_3,state,tty,user,command -r";if(Vs)J="ps -Ao pid,ppid,pcpu,pmem,pri,vsz,rss,nice,stime,s,tty,user,comm";uv(J,{maxBuffer:20480000},function(D,U){if(!D&&U.toString().trim())if(G.list=E(U.toString().split(`
`)).slice(),G.all=G.list.length,G.running=G.list.filter(function(N){return N.state==="running"}).length,G.blocked=G.list.filter(function(N){return N.state==="blocked"}).length,G.sleeping=G.list.filter(function(N){return N.state==="sleeping"}).length,y4)J='cat /proc/stat | grep "cpu "',G.list.forEach((N)=>{J+=";cat /proc/"+N.pid+"/stat"}),uv(J,{maxBuffer:20480000},function(N,Z){let X=Z.toString().split(`
`),W=zHA(X.shift()),K={},V={};if(X.forEach((M)=>{if(V=wHA(M,W,TG),V.pid){let z=G.list.map(function(L){return L.pid}).indexOf(V.pid);if(z>=0)G.list[z].cpu=V.cpuu+V.cpus,G.list[z].cpuu=V.cpuu,G.list[z].cpus=V.cpus;K[V.pid]={cpuu:V.cpuu,cpus:V.cpus,utime:V.utime,stime:V.stime,cutime:V.cutime,cstime:V.cstime}}}),TG.all=W,TG.list=Object.assign({},K),TG.ms=Date.now()-TG.ms,TG.result=Object.assign({},G),A)A(G);Y(G)});else{if(A)A(G);Y(G)}else{if(J="ps -o pid,ppid,vsz,rss,nice,etime,stat,tty,user,comm",Vs)J="ps -o pid,ppid,vsz,rss,nice,etime,s,tty,user,comm";uv(J,{maxBuffer:20480000},function(N,Z){if(!N){let X=Z.toString().split(`
`);if(X.shift(),G.list=I(X).slice(),G.all=G.list.length,G.running=G.list.filter(function(W){return W.state==="running"}).length,G.blocked=G.list.filter(function(W){return W.state==="blocked"}).length,G.sleeping=G.list.filter(function(W){return W.state==="sleeping"}).length,A)A(G);Y(G)}else{if(A)A(G);Y(G)}})}})}else if($HA)try{pQ.powerShell('Get-CimInstance Win32_Process | select-Object ProcessId,ParentProcessId,ExecutionState,Caption,CommandLine,ExecutablePath,UserModeTime,KernelModeTime,WorkingSetSize,Priority,PageFileUsage, @{n="CreationDate";e={$_.CreationDate.ToString("yyyy-MM-dd HH:mm:ss")}} | fl').then((D,U)=>{if(!U){let N=D.split(/\n\s*\n/),Z=[],X=[],W={},K=0,V=0;N.forEach((M)=>{if(M.trim()!==""){let z=M.trim().split(`\r
`),L=parseInt(pQ.getValue(z,"ProcessId",":",!0),10),O=parseInt(pQ.getValue(z,"ParentProcessId",":",!0),10),R=pQ.getValue(z,"ExecutionState",":"),_=pQ.getValue(z,"Caption",":",!0),S=pQ.getValue(z,"CommandLine",":",!0),q=!1;z.forEach((d)=>{if(q&&d.toLowerCase().startsWith(" "))S+=" "+d.trim();else q=!1;if(d.toLowerCase().startsWith("commandline"))q=!0});let y=pQ.getValue(z,"ExecutablePath",":",!0),p=parseInt(pQ.getValue(z,"UserModeTime",":",!0),10),i=parseInt(pQ.getValue(z,"KernelModeTime",":",!0),10),MA=parseInt(pQ.getValue(z,"WorkingSetSize",":",!0),10);if(K=K+p,V=V+i,G.all++,!R)G.unknown++;if(R==="3")G.running++;if(R==="4"||R==="5")G.blocked++;X.push({pid:L,utime:p,stime:i,cpu:0,cpuu:0,cpus:0}),Z.push({pid:L,parentPid:O,name:_,cpu:0,cpuu:0,cpus:0,mem:MA/Ms.totalmem()*100,priority:parseInt(pQ.getValue(z,"Priority",":",!0),10),memVsz:parseInt(pQ.getValue(z,"PageFileUsage",":",!0),10),memRss:Math.floor(parseInt(pQ.getValue(z,"WorkingSetSize",":",!0),10)/1024),nice:0,started:pQ.getValue(z,"CreationDate",":",!0),state:!R?W1Q[0]:W1Q[R],tty:"",user:"",command:S||_,path:y,params:""})}}),G.sleeping=G.all-G.running-G.blocked-G.unknown,G.list=Z,X.forEach((M)=>{let z=K1Q(M,K+V,TG),L=G.list.map(function(O){return O.pid}).indexOf(z.pid);if(L>=0)G.list[L].cpu=z.cpuu+z.cpus,G.list[L].cpuu=z.cpuu,G.list[L].cpus=z.cpus;W[z.pid]={cpuu:z.cpuu,cpus:z.cpus,utime:z.utime,stime:z.stime}}),TG.all=K+V,TG.all_utime=K,TG.all_stime=V,TG.list=Object.assign({},W),TG.ms=Date.now()-TG.ms,TG.result=Object.assign({},G)}if(A)A(G);Y(G)})}catch(D){if(A)A(G);Y(G)}else{if(A)A(G);Y(G)}else{if(A)A(TG.result);Y(TG.result)}})})}lGB.processes=pGB;function cGB(A,Q){if(pQ.isFunction(A)&&!Q)Q=A,A="";return new Promise((B)=>{process.nextTick(()=>{if(A=A||"",typeof A!=="string"){if(Q)Q([]);return B([])}let C="";try{C.__proto__.toLowerCase=pQ.stringToLower,C.__proto__.replace=pQ.stringReplace,C.__proto__.toString=pQ.stringToString,C.__proto__.substr=pQ.stringSubstr,C.__proto__.substring=pQ.stringSubstring,C.__proto__.trim=pQ.stringTrim,C.__proto__.startsWith=pQ.stringStartWith}catch(D){Object.setPrototypeOf(C,pQ.stringObj)}let E=pQ.sanitizeShellString(A),I=pQ.mathMin(E.length,2000);for(let D=0;D<=I;D++)if(E[D]!==void 0)C=C+E[D];if(C=C.trim().toLowerCase().replace(/, /g,"|").replace(/,+/g,"|"),C==="")C="*";if(pQ.isPrototypePolluted()&&C!=="*")C="------";let Y=C.split("|"),G=[];if((pQ.isPrototypePolluted()?"":pQ.sanitizeShellString(A)||"*")&&Y.length&&Y[0]!=="------"){if($HA)try{pQ.powerShell("Get-CimInstance Win32_Process | select ProcessId,Caption,UserModeTime,KernelModeTime,WorkingSetSize | fl").then((D,U)=>{if(!U){let N=D.split(/\n\s*\n/),Z=[],X={},W=0,K=0;if(N.forEach((V)=>{if(V.trim()!==""){let M=V.trim().split(`\r
`),z=parseInt(pQ.getValue(M,"ProcessId",":",!0),10),L=pQ.getValue(M,"Caption",":",!0),O=parseInt(pQ.getValue(M,"UserModeTime",":",!0),10),R=parseInt(pQ.getValue(M,"KernelModeTime",":",!0),10),_=parseInt(pQ.getValue(M,"WorkingSetSize",":",!0),10);W=W+O,K=K+R,Z.push({pid:z,name:L,utime:O,stime:R,cpu:0,cpuu:0,cpus:0,mem:_});let S="",q=!1;if(Y.forEach(function(y){if(L.toLowerCase().indexOf(y.toLowerCase())>=0&&!q)q=!0,S=y}),C==="*"||q){let y=!1;if(G.forEach(function(p){if(p.proc.toLowerCase()===S.toLowerCase())p.pids.push(z),p.mem+=_/Ms.totalmem()*100,y=!0}),!y)G.push({proc:S,pid:z,pids:[z],cpu:0,mem:_/Ms.totalmem()*100})}}}),C!=="*")Y.filter(function(M){return Z.filter(function(z){return z.name.toLowerCase().indexOf(M)>=0}).length===0}).forEach(function(M){G.push({proc:M,pid:null,pids:[],cpu:0,mem:0})});if(Z.forEach((V)=>{let M=K1Q(V,W+K,uD),z=-1;for(let L=0;L<G.length;L++)if(G[L].pid===M.pid||G[L].pids.indexOf(M.pid)>=0)z=L;if(z>=0)G[z].cpu+=M.cpuu+M.cpus;X[M.pid]={cpuu:M.cpuu,cpus:M.cpus,utime:M.utime,stime:M.stime}}),uD.all=W+K,uD.all_utime=W,uD.all_stime=K,uD.list=Object.assign({},X),uD.ms=Date.now()-uD.ms,uD.result=JSON.parse(JSON.stringify(G)),Q)Q(G);B(G)}})}catch(D){if(Q)Q(G);B(G)}if(VM||y4||pv||cv||lv){let D=["-axo","pid,ppid,pcpu,pmem,comm"];pQ.execSafe("ps",D).then((U)=>{if(U){let N=[],Z=U.toString().split(`
`).filter(function(X){if(C==="*")return!0;if(X.toLowerCase().indexOf("grep")!==-1)return!1;let W=!1;return Y.forEach(function(K){W=W||X.toLowerCase().indexOf(K.toLowerCase())>=0}),W});if(Z.shift(),Z.forEach(function(X){let W=X.trim().replace(/ +/g," ").split(" ");if(W.length>4){let K=W[4].indexOf("/")>=0?W[4].substring(0,W[4].indexOf("/")):W[4],V=y4?K:W[4].substring(W[4].lastIndexOf("/")+1);N.push({name:V,pid:parseInt(W[0])||0,ppid:parseInt(W[1])||0,cpu:parseFloat(W[2].replace(",",".")),mem:parseFloat(W[3].replace(",","."))})}}),N.forEach(function(X){let W=-1,K=!1,V=X.name;for(let M=0;M<G.length;M++)if(X.name.toLowerCase().indexOf(G[M].proc.toLowerCase())>=0)W=M;if(Y.forEach(function(M){if(X.name.toLowerCase().indexOf(M.toLowerCase())>=0&&!K)K=!0,V=M}),C==="*"||K)if(W<0){if(V)G.push({proc:V,pid:X.pid,pids:[X.pid],cpu:X.cpu,mem:X.mem})}else{if(X.ppid<10)G[W].pid=X.pid;G[W].pids.push(X.pid),G[W].cpu+=X.cpu,G[W].mem+=X.mem}}),C!=="*")Y.filter(function(W){return N.filter(function(K){return K.name.toLowerCase().indexOf(W)>=0}).length===0}).forEach(function(W){G.push({proc:W,pid:null,pids:[],cpu:0,mem:0})});if(y4){G.forEach(function(W){W.cpu=0});let X='cat /proc/stat | grep "cpu "';for(let W in G)for(let K in G[W].pids)X+=";cat /proc/"+G[W].pids[K]+"/stat";uv(X,{maxBuffer:20480000},function(W,K){let V=K.toString().split(`
`),M=zHA(V.shift()),z={},L={};if(V.forEach((O)=>{if(L=wHA(O,M,uD),L.pid){let R=-1;for(let _ in G)if(G[_].pids.indexOf(L.pid)>=0)R=_;if(R>=0)G[R].cpu+=L.cpuu+L.cpus;z[L.pid]={cpuu:L.cpuu,cpus:L.cpus,utime:L.utime,stime:L.stime,cutime:L.cutime,cstime:L.cstime}}}),G.forEach(function(O){O.cpu=Math.round(O.cpu*100)/100}),uD.all=M,uD.list=Object.assign({},z),uD.ms=Date.now()-uD.ms,uD.result=Object.assign({},G),Q)Q(G);B(G)})}else{if(Q)Q(G);B(G)}}else{if(Q)Q(G);B(G)}})}}})})}lGB.processLoad=cGB});var $1Q=m((JJB)=>{var iv=a("child_process").exec,g6=aY(),NK=process.platform,rGB=NK==="linux"||NK==="android",aGB=NK==="darwin",sGB=NK==="win32",tGB=NK==="freebsd",eGB=NK==="openbsd",AJB=NK==="netbsd",QJB=NK==="sunos";function M1Q(A,Q){let B=[],C=[],E={},I=!0,Y=[],G=[],J={},D=!0;if(A.forEach(function(U){if(U==="---")D=!1;else{let N=U.replace(/ +/g," ").split(" ");if(D)C.push({user:N[0],tty:N[1],date:N[2],time:N[3],ip:N&&N.length>4?N[4].replace(/\(/g,"").replace(/\)/g,""):""});else if(I)Y=N,Y.forEach(function(Z){G.push(U.indexOf(Z))}),I=!1;else if(E.user=U.substring(G[0],G[1]-1).trim(),E.tty=U.substring(G[1],G[2]-1).trim(),E.ip=U.substring(G[2],G[3]-1).replace(/\(/g,"").replace(/\)/g,"").trim(),E.command=U.substring(G[7],1000).trim(),J=C.filter(function(Z){return Z.user.substring(0,8).trim()===E.user&&Z.tty===E.tty}),J.length===1)B.push({user:J[0].user,tty:J[0].tty,date:J[0].date,time:J[0].time,ip:J[0].ip,command:E.command})}}),B.length===0&&Q===2)return C;else return B}function LHA(A){let Q=[],B=[],C={},E={},I=!0;return A.forEach(function(Y){if(Y==="---")I=!1;else{let G=Y.replace(/ +/g," ").split(" ");if(I){let J=""+new Date().getFullYear()+"-"+("0"+("JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC".indexOf(G[2].toUpperCase())/3+1)).slice(-2)+"-"+("0"+G[3]).slice(-2);try{if(new Date(J)>new Date)J=""+(new Date().getFullYear()-1)+"-"+("0"+("JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC".indexOf(G[2].toUpperCase())/3+1)).slice(-2)+"-"+("0"+G[3]).slice(-2)}catch{g6.noop()}B.push({user:G[0],tty:G[1],date:J,time:G[4]})}else if(C.user=G[0],C.tty=G[1],C.ip=G[2]!=="-"?G[2]:"",C.command=G.slice(5,1000).join(" "),E=B.filter(function(J){return J.user.substring(0,10)===C.user.substring(0,10)&&(J.tty.substring(3,1000)===C.tty||J.tty===C.tty)}),E.length===1)Q.push({user:E[0].user,tty:E[0].tty,date:E[0].date,time:E[0].time,ip:C.ip,command:C.command})}}),Q}function BJB(A){return new Promise((Q)=>{process.nextTick(()=>{let B=[];if(rGB)iv('export LC_ALL=C; who --ips; echo "---"; w; unset LC_ALL | tail -n +2',function(C,E){if(!C){let I=E.toString().split(`
`);if(B=M1Q(I,1),B.length===0)iv('who; echo "---"; w | tail -n +2',function(Y,G){if(!Y)I=G.toString().split(`
`),B=M1Q(I,2);if(A)A(B);Q(B)});else{if(A)A(B);Q(B)}}else{if(A)A(B);Q(B)}});if(tGB||eGB||AJB)iv('who; echo "---"; w -ih',function(C,E){if(!C){let I=E.toString().split(`
`);B=LHA(I)}if(A)A(B);Q(B)});if(QJB)iv('who; echo "---"; w -h',function(C,E){if(!C){let I=E.toString().split(`
`);B=LHA(I)}if(A)A(B);Q(B)});if(aGB)iv('export LC_ALL=C; who; echo "---"; w -ih; unset LC_ALL',function(C,E){if(!C){let I=E.toString().split(`
`);B=LHA(I)}if(A)A(B);Q(B)});if(sGB)try{let C=`Get-CimInstance Win32_LogonSession | select LogonId,@{n="StartTime";e={$_.StartTime.ToString("yyyy-MM-dd HH:mm:ss")}} | fl; echo '#-#-#-#';`;C+="Get-CimInstance Win32_LoggedOnUser | select antecedent,dependent | fl ; echo '#-#-#-#';",C+=`$process = (Get-CimInstance Win32_Process -Filter "name = 'explorer.exe'"); Invoke-CimMethod -InputObject $process[0] -MethodName GetOwner | select user, domain | fl; get-process -name explorer | select-object sessionid | fl; echo '#-#-#-#';`,C+="query user",g6.powerShell(C).then((E)=>{if(E){E=E.split("#-#-#-#");let I=CJB((E[0]||"").split(/\n\s*\n/)),Y=YJB((E[1]||"").split(/\n\s*\n/)),G=GJB((E[3]||"").split(`\r
`)),J=IJB((E[2]||"").split(/\n\s*\n/),G);for(let D in Y)if({}.hasOwnProperty.call(Y,D))Y[D].dateTime={}.hasOwnProperty.call(I,D)?I[D]:"";J.forEach((D)=>{let U="";for(let N in Y)if({}.hasOwnProperty.call(Y,N)){if(Y[N].user===D.user&&(!U||U<Y[N].dateTime))U=Y[N].dateTime}B.push({user:D.user,tty:D.tty,date:`${U.substring(0,10)}`,time:`${U.substring(11,19)}`,ip:"",command:""})})}if(A)A(B);Q(B)})}catch(C){if(A)A(B);Q(B)}})})}function CJB(A){let Q={};return A.forEach((B)=>{let C=B.split(`\r
`),E=g6.getValue(C,"LogonId"),I=g6.getValue(C,"starttime");if(E)Q[E]=I}),Q}function EJB(A,Q){A=A.toLowerCase(),Q=Q.toLowerCase();let B=0,C=A.length;if(Q.length>C)C=Q.length;for(let E=0;E<C;E++){let I=A[E]||"",Y=Q[E]||"";if(I===Y)B++}return C>10?B/C>0.9:C>0?B/C>0.8:!1}function IJB(A,Q){let B=[];return A.forEach((C)=>{let E=C.split(`\r
`),I=g6.getValue(E,"domain",":",!0),Y=g6.getValue(E,"user",":",!0),G=g6.getValue(E,"sessionid",":",!0);if(Y){let J=Q.filter((D)=>EJB(D.user,Y));B.push({domain:I,user:Y,tty:J&&J[0]&&J[0].tty?J[0].tty:G})}}),B}function YJB(A){let Q={};return A.forEach((B)=>{let C=B.split(`\r
`),I=g6.getValue(C,"antecedent",":",!0).split("="),Y=I.length>2?I[1].split(",")[0].replace(/"/g,"").trim():"",G=I.length>2?I[2].replace(/"/g,"").replace(/\)/g,"").trim():"";I=g6.getValue(C,"dependent",":",!0).split("=");let D=I.length>1?I[1].replace(/"/g,"").replace(/\)/g,"").trim():"";if(D)Q[D]={domain:G,user:Y}}),Q}function GJB(A){A=A.filter((E)=>E);let Q=[],B=A[0],C=[];if(B){let E=B[0]===" "?1:0;C.push(E-1);let I=0;for(let Y=E+1;Y<B.length;Y++)if(B[Y]===" "&&(B[Y-1]===" "||B[Y-1]==="."))I=Y;else if(I)C.push(I),I=0;for(let Y=1;Y<A.length;Y++)if(A[Y].trim()){let G=A[Y].substring(C[0]+1,C[1]).trim()||"",J=A[Y].substring(C[1]+1,C[2]-2).trim()||"";Q.push({user:G,tty:J})}}return Q}JJB.users=BJB});var T1Q=m((FJB)=>{var tY=aY(),ZK=process.platform,z1Q=ZK==="linux"||ZK==="android",w1Q=ZK==="darwin",UJB=ZK==="win32",L1Q=ZK==="freebsd",O1Q=ZK==="openbsd",R1Q=ZK==="netbsd",NJB=ZK==="sunos";function ZJB(A,Q){return new Promise((B)=>{process.nextTick(()=>{let C={url:A,ok:!1,status:404,ms:null};if(typeof A!=="string"){if(Q)Q(C);return B(C)}let E="",I=tY.sanitizeShellString(A,!0),Y=tY.mathMin(I.length,2000);for(let G=0;G<=Y;G++)if(I[G]!==void 0){try{I[G].__proto__.toLowerCase=tY.stringToLower}catch(D){Object.setPrototypeOf(I[G],tY.stringObj)}let J=I[G].toLowerCase();if(J&&J[0]&&!J[1]&&J[0].length===1)E=E+J[0]}C.url=E;try{if(E&&!tY.isPrototypePolluted()){try{E.__proto__.startsWith=tY.stringStartWith}catch(G){Object.setPrototypeOf(E,tY.stringObj)}if(E.startsWith("file:")||E.startsWith("gopher:")||E.startsWith("telnet:")||E.startsWith("mailto:")||E.startsWith("news:")||E.startsWith("nntp:")){if(Q)Q(C);return B(C)}tY.checkWebsite(E).then((G)=>{if(C.status=G.statusCode,C.ok=G.statusCode>=200&&G.statusCode<=399,C.ms=C.ok?G.time:null,Q)Q(C);B(C)})}else{if(Q)Q(C);B(C)}}catch(G){if(Q)Q(C);B(C)}})})}FJB.inetChecksite=ZJB;function XJB(A,Q){if(tY.isFunction(A)&&!Q)Q=A,A="";return A=A||"8.8.8.8",new Promise((B)=>{process.nextTick(()=>{if(typeof A!=="string"){if(Q)Q(null);return B(null)}let C="",E=(tY.isPrototypePolluted()?"8.8.8.8":tY.sanitizeShellString(A,!0)).trim(),I=tY.mathMin(E.length,2000);for(let G=0;G<=I;G++)if(E[G]!==void 0){try{E[G].__proto__.toLowerCase=tY.stringToLower}catch(D){Object.setPrototypeOf(E[G],tY.stringObj)}let J=E[G].toLowerCase();if(J&&J[0]&&!J[1])C=C+J[0]}try{C.__proto__.startsWith=tY.stringStartWith}catch(G){Object.setPrototypeOf(C,tY.stringObj)}if(C.startsWith("file:")||C.startsWith("gopher:")||C.startsWith("telnet:")||C.startsWith("mailto:")||C.startsWith("news:")||C.startsWith("nntp:")){if(Q)Q(null);return B(null)}let Y;if(z1Q||L1Q||O1Q||R1Q||w1Q){if(z1Q)Y=["-c","2","-w","3",C];if(L1Q||O1Q||R1Q)Y=["-c","2","-t","3",C];if(w1Q)Y=["-c2","-t3",C];tY.execSafe("ping",Y).then((G)=>{let J=null;if(G){let U=G.split(`
`).filter((N)=>N.indexOf("rtt")>=0||N.indexOf("round-trip")>=0||N.indexOf("avg")>=0).join(`
`).split("=");if(U.length>1){let N=U[1].split("/");if(N.length>1)J=parseFloat(N[1])}}if(Q)Q(J);B(J)})}if(NJB){let G=["-s","-a",C,"56","2"],J="avg";tY.execSafe("ping",G,{timeout:3000}).then((D)=>{let U=null;if(D){let Z=D.split(`
`).filter((X)=>X.indexOf("avg")>=0).join(`
`).split("=");if(Z.length>1){let X=Z[1].split("/");if(X.length>1)U=parseFloat(X[1].replace(",","."))}}if(Q)Q(U);B(U)})}if(UJB){let G=null;try{let J=[C,"-n","1"];tY.execSafe("ping",J,tY.execOptsWin).then((D)=>{if(D){let U=D.split(`\r
`);U.shift(),U.forEach(function(N){if((N.toLowerCase().match(/ms/g)||[]).length===3){let Z=N.replace(/ +/g," ").split(" ");if(Z.length>6)G=parseFloat(Z[Z.length-1])}})}if(Q)Q(G);B(G)})}catch(J){if(Q)Q(G);B(G)}}})})}FJB.inetLatency=XJB});var _1Q=m((tH0,P1Q)=>{var XK=a("net"),KJB=a("os").type()==="Windows_NT",FK=KJB?"//./pipe/docker_engine":"/var/run/docker.sock";class q1Q{getInfo(A){try{let Q=XK.createConnection({path:FK}),B="",C;Q.on("connect",()=>{Q.write(`GET http:/info HTTP/1.0\r
\r
`)}),Q.on("data",(E)=>{B=B+E.toString()}),Q.on("error",()=>{Q=!1,A({})}),Q.on("end",()=>{let E=B.indexOf(`\r
\r
`);B=B.substring(E+4),Q=!1;try{C=JSON.parse(B),A(C)}catch(I){A({})}})}catch(Q){A({})}}listImages(A,Q){try{let B=XK.createConnection({path:FK}),C="",E;B.on("connect",()=>{B.write("GET http:/images/json"+(A?"?all=1":"")+` HTTP/1.0\r
\r
`)}),B.on("data",(I)=>{C=C+I.toString()}),B.on("error",()=>{B=!1,Q({})}),B.on("end",()=>{let I=C.indexOf(`\r
\r
`);C=C.substring(I+4),B=!1;try{E=JSON.parse(C),Q(E)}catch(Y){Q({})}})}catch(B){Q({})}}inspectImage(A,Q){if(A=A||"",A)try{let B=XK.createConnection({path:FK}),C="",E;B.on("connect",()=>{B.write("GET http:/images/"+A+`/json?stream=0 HTTP/1.0\r
\r
`)}),B.on("data",(I)=>{C=C+I.toString()}),B.on("error",()=>{B=!1,Q({})}),B.on("end",()=>{let I=C.indexOf(`\r
\r
`);C=C.substring(I+4),B=!1;try{E=JSON.parse(C),Q(E)}catch(Y){Q({})}})}catch(B){Q({})}else Q({})}listContainers(A,Q){try{let B=XK.createConnection({path:FK}),C="",E;B.on("connect",()=>{B.write("GET http:/containers/json"+(A?"?all=1":"")+` HTTP/1.0\r
\r
`)}),B.on("data",(I)=>{C=C+I.toString()}),B.on("error",()=>{B=!1,Q({})}),B.on("end",()=>{let I=C.indexOf(`\r
\r
`);C=C.substring(I+4),B=!1;try{E=JSON.parse(C),Q(E)}catch(Y){Q({})}})}catch(B){Q({})}}getStats(A,Q){if(A=A||"",A)try{let B=XK.createConnection({path:FK}),C="",E;B.on("connect",()=>{B.write("GET http:/containers/"+A+`/stats?stream=0 HTTP/1.0\r
\r
`)}),B.on("data",(I)=>{C=C+I.toString()}),B.on("error",()=>{B=!1,Q({})}),B.on("end",()=>{let I=C.indexOf(`\r
\r
`);C=C.substring(I+4),B=!1;try{E=JSON.parse(C),Q(E)}catch(Y){Q({})}})}catch(B){Q({})}else Q({})}getInspect(A,Q){if(A=A||"",A)try{let B=XK.createConnection({path:FK}),C="",E;B.on("connect",()=>{B.write("GET http:/containers/"+A+`/json?stream=0 HTTP/1.0\r
\r
`)}),B.on("data",(I)=>{C=C+I.toString()}),B.on("error",()=>{B=!1,Q({})}),B.on("end",()=>{let I=C.indexOf(`\r
\r
`);C=C.substring(I+4),B=!1;try{E=JSON.parse(C),Q(E)}catch(Y){Q({})}})}catch(B){Q({})}else Q({})}getProcesses(A,Q){if(A=A||"",A)try{let B=XK.createConnection({path:FK}),C="",E;B.on("connect",()=>{B.write("GET http:/containers/"+A+`/top?ps_args=-opid,ppid,pgid,vsz,time,etime,nice,ruser,user,rgroup,group,stat,rss,args HTTP/1.0\r
\r
`)}),B.on("data",(I)=>{C=C+I.toString()}),B.on("error",()=>{B=!1,Q({})}),B.on("end",()=>{let I=C.indexOf(`\r
\r
`);C=C.substring(I+4),B=!1;try{E=JSON.parse(C),Q(E)}catch(Y){Q({})}})}catch(B){Q({})}else Q({})}listVolumes(A){try{let Q=XK.createConnection({path:FK}),B="",C;Q.on("connect",()=>{Q.write(`GET http:/volumes HTTP/1.0\r
\r
`)}),Q.on("data",(E)=>{B=B+E.toString()}),Q.on("error",()=>{Q=!1,A({})}),Q.on("end",()=>{let E=B.indexOf(`\r
\r
`);B=B.substring(E+4),Q=!1;try{C=JSON.parse(B),A(C)}catch(I){A({})}})}catch(Q){A({})}}}P1Q.exports=q1Q});var x1Q=m((jJB)=>{var FI=aY(),HK=_1Q(),VJB=process.platform,MJB=VJB==="win32",gR={},HI,OHA=0;function $JB(A){return new Promise((Q)=>{process.nextTick(()=>{if(!HI)HI=new HK;let B={};HI.getInfo((C)=>{if(B.id=C.ID,B.containers=C.Containers,B.containersRunning=C.ContainersRunning,B.containersPaused=C.ContainersPaused,B.containersStopped=C.ContainersStopped,B.images=C.Images,B.driver=C.Driver,B.memoryLimit=C.MemoryLimit,B.swapLimit=C.SwapLimit,B.kernelMemory=C.KernelMemory,B.cpuCfsPeriod=C.CpuCfsPeriod,B.cpuCfsQuota=C.CpuCfsQuota,B.cpuShares=C.CPUShares,B.cpuSet=C.CPUSet,B.ipv4Forwarding=C.IPv4Forwarding,B.bridgeNfIptables=C.BridgeNfIptables,B.bridgeNfIp6tables=C.BridgeNfIp6tables,B.debug=C.Debug,B.nfd=C.NFd,B.oomKillDisable=C.OomKillDisable,B.ngoroutines=C.NGoroutines,B.systemTime=C.SystemTime,B.loggingDriver=C.LoggingDriver,B.cgroupDriver=C.CgroupDriver,B.nEventsListener=C.NEventsListener,B.kernelVersion=C.KernelVersion,B.operatingSystem=C.OperatingSystem,B.osType=C.OSType,B.architecture=C.Architecture,B.ncpu=C.NCPU,B.memTotal=C.MemTotal,B.dockerRootDir=C.DockerRootDir,B.httpProxy=C.HttpProxy,B.httpsProxy=C.HttpsProxy,B.noProxy=C.NoProxy,B.name=C.Name,B.labels=C.Labels,B.experimentalBuild=C.ExperimentalBuild,B.serverVersion=C.ServerVersion,B.clusterStore=C.ClusterStore,B.clusterAdvertise=C.ClusterAdvertise,B.defaultRuntime=C.DefaultRuntime,B.liveRestoreEnabled=C.LiveRestoreEnabled,B.isolation=C.Isolation,B.initBinary=C.InitBinary,B.productLicense=C.ProductLicense,A)A(B);Q(B)})})})}jJB.dockerInfo=$JB;function zJB(A,Q){if(FI.isFunction(A)&&!Q)Q=A,A=!1;if(typeof A==="string"&&A==="true")A=!0;if(typeof A!=="boolean"&&A!==void 0)A=!1;A=A||!1;let B=[];return new Promise((C)=>{process.nextTick(()=>{if(!HI)HI=new HK;let E=[];HI.listImages(A,(I)=>{let Y={};try{if(Y=I,Y&&Object.prototype.toString.call(Y)==="[object Array]"&&Y.length>0)if(Y.forEach(function(G){if(G.Names&&Object.prototype.toString.call(G.Names)==="[object Array]"&&G.Names.length>0)G.Name=G.Names[0].replace(/^\/|\/$/g,"");E.push(wJB(G.Id.trim(),G))}),E.length)Promise.all(E).then((G)=>{if(Q)Q(G);C(G)});else{if(Q)Q(B);C(B)}else{if(Q)Q(B);C(B)}}catch(G){if(Q)Q(B);C(B)}})})})}function wJB(A,Q){return new Promise((B)=>{process.nextTick(()=>{if(A=A||"",typeof A!=="string")return B();let C=(FI.isPrototypePolluted()?"":FI.sanitizeShellString(A,!0)).trim();if(C){if(!HI)HI=new HK;HI.inspectImage(C.trim(),(E)=>{try{B({id:Q.Id,container:E.Container,comment:E.Comment,os:E.Os,architecture:E.Architecture,parent:E.Parent,dockerVersion:E.DockerVersion,size:E.Size,sharedSize:Q.SharedSize,virtualSize:E.VirtualSize,author:E.Author,created:E.Created?Math.round(new Date(E.Created).getTime()/1000):0,containerConfig:E.ContainerConfig?E.ContainerConfig:{},graphDriver:E.GraphDriver?E.GraphDriver:{},repoDigests:E.RepoDigests?E.RepoDigests:{},repoTags:E.RepoTags?E.RepoTags:{},config:E.Config?E.Config:{},rootFS:E.RootFS?E.RootFS:{}})}catch(I){B()}})}else B()})})}jJB.dockerImages=zJB;function RHA(A,Q){function B(E,I){return E.filter((G)=>{return G.Id&&G.Id===I}).length>0}if(FI.isFunction(A)&&!Q)Q=A,A=!1;if(typeof A==="string"&&A==="true")A=!0;if(typeof A!=="boolean"&&A!==void 0)A=!1;A=A||!1;let C=[];return new Promise((E)=>{process.nextTick(()=>{if(!HI)HI=new HK;let I=[];HI.listContainers(A,(Y)=>{let G={};try{if(G=Y,G&&Object.prototype.toString.call(G)==="[object Array]"&&G.length>0){for(let J in gR)if({}.hasOwnProperty.call(gR,J)){if(!B(G,J))delete gR[J]}if(G.forEach(function(J){if(J.Names&&Object.prototype.toString.call(J.Names)==="[object Array]"&&J.Names.length>0)J.Name=J.Names[0].replace(/^\/|\/$/g,"");I.push(LJB(J.Id.trim(),J))}),I.length)Promise.all(I).then((J)=>{if(Q)Q(J);E(J)});else{if(Q)Q(C);E(C)}}else{if(Q)Q(C);E(C)}}catch(J){for(let D in gR)if({}.hasOwnProperty.call(gR,D)){if(!B(G,D))delete gR[D]}if(Q)Q(C);E(C)}})})})}function LJB(A,Q){return new Promise((B)=>{process.nextTick(()=>{if(A=A||"",typeof A!=="string")return B();let C=(FI.isPrototypePolluted()?"":FI.sanitizeShellString(A,!0)).trim();if(C){if(!HI)HI=new HK;HI.getInspect(C.trim(),(E)=>{try{B({id:Q.Id,name:Q.Name,image:Q.Image,imageID:Q.ImageID,command:Q.Command,created:Q.Created,started:E.State&&E.State.StartedAt?Math.round(new Date(E.State.StartedAt).getTime()/1000):0,finished:E.State&&E.State.FinishedAt&&!E.State.FinishedAt.startsWith("0001-01-01")?Math.round(new Date(E.State.FinishedAt).getTime()/1000):0,createdAt:E.Created?E.Created:"",startedAt:E.State&&E.State.StartedAt?E.State.StartedAt:"",finishedAt:E.State&&E.State.FinishedAt&&!E.State.FinishedAt.startsWith("0001-01-01")?E.State.FinishedAt:"",state:Q.State,restartCount:E.RestartCount||0,platform:E.Platform||"",driver:E.Driver||"",ports:Q.Ports,mounts:Q.Mounts})}catch(I){B()}})}else B()})})}jJB.dockerContainers=RHA;function OJB(A,Q){if(!MJB){let B=0,C=A.cpu_usage.total_usage-Q.cpu_usage.total_usage,E=A.system_cpu_usage-Q.system_cpu_usage;if(E>0&&C>0)if(Q.online_cpus)B=C/E*Q.online_cpus*100;else B=C/E*A.cpu_usage.percpu_usage.length*100;return B}else{let B=FI.nanoSeconds(),C=0;if(OHA>0){let E=B-OHA,I=A.cpu_usage.total_usage-Q.cpu_usage.total_usage;if(E>0)C=100*I/E}return OHA=B,C}}function RJB(A){let Q,B;for(let C in A){if(!{}.hasOwnProperty.call(A,C))continue;let E=A[C];Q=+E.rx_bytes,B=+E.tx_bytes}return{rx:Q,wx:B}}function TJB(A){let Q={r:0,w:0};if(A&&A.io_service_bytes_recursive&&Object.prototype.toString.call(A.io_service_bytes_recursive)==="[object Array]"&&A.io_service_bytes_recursive.length>0)A.io_service_bytes_recursive.forEach(function(B){if(B.op&&B.op.toLowerCase()==="read"&&B.value)Q.r+=B.value;if(B.op&&B.op.toLowerCase()==="write"&&B.value)Q.w+=B.value});return Q}function THA(A,Q){let B=[];return new Promise((C)=>{process.nextTick(()=>{if(FI.isFunction(A)&&!Q)Q=A,B=["*"];else{if(A=A||"*",typeof A!=="string"){if(Q)Q([]);return C([])}let Y="";try{Y.__proto__.toLowerCase=FI.stringToLower,Y.__proto__.replace=FI.stringReplace,Y.__proto__.toString=FI.stringToString,Y.__proto__.substr=FI.stringSubstr,Y.__proto__.substring=FI.stringSubstring,Y.__proto__.trim=FI.stringTrim,Y.__proto__.startsWith=FI.stringStartWith}catch(G){Object.setPrototypeOf(Y,FI.stringObj)}if(Y=A,Y=Y.trim(),Y!=="*"){Y="";let G=(FI.isPrototypePolluted()?"":FI.sanitizeShellString(A,!0)).trim(),J=FI.mathMin(G.length,2000);for(let D=0;D<=J;D++)if(G[D]!==void 0){G[D].__proto__.toLowerCase=FI.stringToLower;let U=G[D].toLowerCase();if(U&&U[0]&&!U[1])Y=Y+U[0]}}Y=Y.trim().toLowerCase().replace(/,+/g,"|"),B=Y.split("|")}let E=[],I=[];if(B.length&&B[0].trim()==="*")B=[],RHA().then((Y)=>{for(let G of Y)B.push(G.id.substring(0,12));if(B.length)THA(B.join(",")).then((G)=>{if(Q)Q(G);C(G)});else{if(Q)Q(E);C(E)}});else{for(let Y of B)I.push(qJB(Y.trim()));if(I.length)Promise.all(I).then((Y)=>{if(Q)Q(Y);C(Y)});else{if(Q)Q(E);C(E)}}})})}function qJB(A){A=A||"";let Q={id:A,memUsage:0,memLimit:0,memPercent:0,cpuPercent:0,pids:0,netIO:{rx:0,wx:0},blockIO:{r:0,w:0},restartCount:0,cpuStats:{},precpuStats:{},memoryStats:{},networks:{}};return new Promise((B)=>{process.nextTick(()=>{if(A){if(!HI)HI=new HK;HI.getInspect(A,(C)=>{try{HI.getStats(A,(E)=>{try{let I=E;if(!I.message){if(E.id)Q.id=E.id;if(Q.memUsage=I.memory_stats&&I.memory_stats.usage?I.memory_stats.usage:0,Q.memLimit=I.memory_stats&&I.memory_stats.limit?I.memory_stats.limit:0,Q.memPercent=I.memory_stats&&I.memory_stats.usage&&I.memory_stats.limit?I.memory_stats.usage/I.memory_stats.limit*100:0,Q.cpuPercent=I.cpu_stats&&I.precpu_stats?OJB(I.cpu_stats,I.precpu_stats):0,Q.pids=I.pids_stats&&I.pids_stats.current?I.pids_stats.current:0,Q.restartCount=C.RestartCount?C.RestartCount:0,I.networks)Q.netIO=RJB(I.networks);if(I.blkio_stats)Q.blockIO=TJB(I.blkio_stats);Q.cpuStats=I.cpu_stats?I.cpu_stats:{},Q.precpuStats=I.precpu_stats?I.precpu_stats:{},Q.memoryStats=I.memory_stats?I.memory_stats:{},Q.networks=I.networks?I.networks:{}}}catch(I){FI.noop()}B(Q)})}catch(E){FI.noop()}})}else B(Q)})})}jJB.dockerContainerStats=THA;function j1Q(A,Q){let B=[];return new Promise((C)=>{process.nextTick(()=>{if(A=A||"",typeof A!=="string")return C(B);let E=(FI.isPrototypePolluted()?"":FI.sanitizeShellString(A,!0)).trim();if(E){if(!HI)HI=new HK;HI.getProcesses(E,(I)=>{try{if(I&&I.Titles&&I.Processes){let Y=I.Titles.map(function(R){return R.toUpperCase()}),G=Y.indexOf("PID"),J=Y.indexOf("PPID"),D=Y.indexOf("PGID"),U=Y.indexOf("VSZ"),N=Y.indexOf("TIME"),Z=Y.indexOf("ELAPSED"),X=Y.indexOf("NI"),W=Y.indexOf("RUSER"),K=Y.indexOf("USER"),V=Y.indexOf("RGROUP"),M=Y.indexOf("GROUP"),z=Y.indexOf("STAT"),L=Y.indexOf("RSS"),O=Y.indexOf("COMMAND");I.Processes.forEach((R)=>{B.push({pidHost:G>=0?R[G]:"",ppid:J>=0?R[J]:"",pgid:D>=0?R[D]:"",user:K>=0?R[K]:"",ruser:W>=0?R[W]:"",group:M>=0?R[M]:"",rgroup:V>=0?R[V]:"",stat:z>=0?R[z]:"",time:N>=0?R[N]:"",elapsed:Z>=0?R[Z]:"",nice:X>=0?R[X]:"",rss:L>=0?R[L]:"",vsz:U>=0?R[U]:"",command:O>=0?R[O]:""})})}}catch(Y){FI.noop()}if(Q)Q(B);C(B)})}else{if(Q)Q(B);C(B)}})})}jJB.dockerContainerProcesses=j1Q;function PJB(A){let Q=[];return new Promise((B)=>{process.nextTick(()=>{if(!HI)HI=new HK;HI.listVolumes((C)=>{let E={};try{if(E=C,E&&E.Volumes&&Object.prototype.toString.call(E.Volumes)==="[object Array]"&&E.Volumes.length>0){if(E.Volumes.forEach(function(I){Q.push({name:I.Name,driver:I.Driver,labels:I.Labels,mountpoint:I.Mountpoint,options:I.Options,scope:I.Scope,created:I.CreatedAt?Math.round(new Date(I.CreatedAt).getTime()/1000):0})}),A)A(Q);B(Q)}else{if(A)A(Q);B(Q)}}catch(I){if(A)A(Q);B(Q)}})})})}jJB.dockerVolumes=PJB;function _JB(A){return new Promise((Q)=>{process.nextTick(()=>{RHA(!0).then((B)=>{if(B&&Object.prototype.toString.call(B)==="[object Array]"&&B.length>0){let C=B.length;B.forEach(function(E){THA(E.id).then((I)=>{E.memUsage=I[0].memUsage,E.memLimit=I[0].memLimit,E.memPercent=I[0].memPercent,E.cpuPercent=I[0].cpuPercent,E.pids=I[0].pids,E.netIO=I[0].netIO,E.blockIO=I[0].blockIO,E.cpuStats=I[0].cpuStats,E.precpuStats=I[0].precpuStats,E.memoryStats=I[0].memoryStats,E.networks=I[0].networks,j1Q(E.id).then((Y)=>{if(E.processes=Y,C-=1,C===0){if(A)A(B);Q(B)}})})})}else{if(A)A(B);Q(B)}})})})}jJB.dockerAll=_JB});var S1Q=m((fJB)=>{var qHA=a("os"),hJB=a("child_process").exec,QC=aY();function mJB(A){let Q=[];return new Promise((B)=>{process.nextTick(()=>{try{hJB(QC.getVboxmanage()+" list vms --long",function(C,E){let I=(qHA.EOL+E.toString()).split(qHA.EOL+"Name:");if(I.shift(),I.forEach((Y)=>{let G=("Name:"+Y).split(qHA.EOL),J=QC.getValue(G,"State"),D=J.startsWith("running"),U=D?J.replace("running (since ","").replace(")","").trim():"",N=0;try{if(D){let W=new Date(U),K=W.getTimezoneOffset();N=Math.round((Date.now()-Date.parse(W))/1000)+K*60}}catch(W){QC.noop()}let Z=!D?J.replace("powered off (since","").replace(")","").trim():"",X=0;try{if(!D){let W=new Date(Z),K=W.getTimezoneOffset();X=Math.round((Date.now()-Date.parse(W))/1000)+K*60}}catch(W){QC.noop()}Q.push({id:QC.getValue(G,"UUID"),name:QC.getValue(G,"Name"),running:D,started:U,runningSince:N,stopped:Z,stoppedSince:X,guestOS:QC.getValue(G,"Guest OS"),hardwareUUID:QC.getValue(G,"Hardware UUID"),memory:parseInt(QC.getValue(G,"Memory size","     "),10),vram:parseInt(QC.getValue(G,"VRAM size"),10),cpus:parseInt(QC.getValue(G,"Number of CPUs"),10),cpuExepCap:QC.getValue(G,"CPU exec cap"),cpuProfile:QC.getValue(G,"CPUProfile"),chipset:QC.getValue(G,"Chipset"),firmware:QC.getValue(G,"Firmware"),pageFusion:QC.getValue(G,"Page Fusion")==="enabled",configFile:QC.getValue(G,"Config file"),snapshotFolder:QC.getValue(G,"Snapshot folder"),logFolder:QC.getValue(G,"Log folder"),hpet:QC.getValue(G,"HPET")==="enabled",pae:QC.getValue(G,"PAE")==="enabled",longMode:QC.getValue(G,"Long Mode")==="enabled",tripleFaultReset:QC.getValue(G,"Triple Fault Reset")==="enabled",apic:QC.getValue(G,"APIC")==="enabled",x2Apic:QC.getValue(G,"X2APIC")==="enabled",acpi:QC.getValue(G,"ACPI")==="enabled",ioApic:QC.getValue(G,"IOAPIC")==="enabled",biosApicMode:QC.getValue(G,"BIOS APIC mode"),bootMenuMode:QC.getValue(G,"Boot menu mode"),bootDevice1:QC.getValue(G,"Boot Device 1"),bootDevice2:QC.getValue(G,"Boot Device 2"),bootDevice3:QC.getValue(G,"Boot Device 3"),bootDevice4:QC.getValue(G,"Boot Device 4"),timeOffset:QC.getValue(G,"Time offset"),rtc:QC.getValue(G,"RTC")})}),A)A(Q);B(Q)})}catch(C){if(A)A(Q);B(Q)}})})}fJB.vboxInfo=mJB});var y1Q=m((A2B)=>{var PHA=a("child_process").exec,UJ=aY(),WK=process.platform,g1Q=WK==="linux"||WK==="android",uJB=WK==="darwin",pJB=WK==="win32",cJB=WK==="freebsd",lJB=WK==="openbsd",iJB=WK==="netbsd",nJB=WK==="sunos",v1Q={1:"Other",2:"Unknown",3:"Idle",4:"Printing",5:"Warmup",6:"Stopped Printing",7:"Offline"};function oJB(A){let Q={};if(A&&A.length){if(A[0].indexOf(" CUPS v")>0){let B=A[0].split(" CUPS v");Q.cupsVersion=B[1]}}return Q}function rJB(A){let Q={},B=UJ.getValue(A,"PrinterId"," ");return Q.id=B?parseInt(B,10):null,Q.name=UJ.getValue(A,"Info"," "),Q.model=A.length>0&&A[0]?A[0].split(" ")[0]:"",Q.uri=UJ.getValue(A,"DeviceURI"," "),Q.uuid=UJ.getValue(A,"UUID"," "),Q.status=UJ.getValue(A,"State"," "),Q.local=UJ.getValue(A,"Location"," ").toLowerCase().startsWith("local"),Q.default=null,Q.shared=UJ.getValue(A,"Shared"," ").toLowerCase().startsWith("yes"),Q}function aJB(A,Q){let B={};return B.id=Q,B.name=UJ.getValue(A,"Description",":",!0),B.model=A.length>0&&A[0]?A[0].split(" ")[0]:"",B.uri=null,B.uuid=null,B.status=A.length>0&&A[0]?A[0].indexOf(" idle")>0?"idle":A[0].indexOf(" printing")>0?"printing":"unknown":null,B.local=UJ.getValue(A,"Location",":",!0).toLowerCase().startsWith("local"),B.default=null,B.shared=UJ.getValue(A,"Shared"," ").toLowerCase().startsWith("yes"),B}function sJB(A,Q){let B={},C=A.uri.split("/");return B.id=Q,B.name=A._name,B.model=C.length?C[C.length-1]:"",B.uri=A.uri,B.uuid=null,B.status=A.status,B.local=A.printserver==="local",B.default=A.default==="yes",B.shared=A.shared==="yes",B}function tJB(A,Q){let B={},C=parseInt(UJ.getValue(A,"PrinterStatus",":"),10);return B.id=Q,B.name=UJ.getValue(A,"name",":"),B.model=UJ.getValue(A,"DriverName",":"),B.uri=null,B.uuid=null,B.status=v1Q[C]?v1Q[C]:null,B.local=UJ.getValue(A,"Local",":").toUpperCase()==="TRUE",B.default=UJ.getValue(A,"Default",":").toUpperCase()==="TRUE",B.shared=UJ.getValue(A,"Shared",":").toUpperCase()==="TRUE",B}function eJB(A){return new Promise((Q)=>{process.nextTick(()=>{let B=[];if(g1Q||cJB||lJB||iJB){let C="cat /etc/cups/printers.conf 2>/dev/null";PHA(C,function(E,I){if(!E){let Y=I.toString().split("<Printer "),G=oJB(Y[0]);for(let J=1;J<Y.length;J++){let D=rJB(Y[J].split(`
`));if(D.name)D.engine="CUPS",D.engineVersion=G.cupsVersion,B.push(D)}}if(B.length===0)if(g1Q){if(C="export LC_ALL=C; lpstat -lp 2>/dev/null; unset LC_ALL",PHA(C,function(Y,G){let J=(`
`+G.toString()).split(`
printer `);for(let D=1;D<J.length;D++){let U=aJB(J[D].split(`
`),D);B.push(U)}}),A)A(B);Q(B)}else{if(A)A(B);Q(B)}else{if(A)A(B);Q(B)}})}if(uJB)PHA("system_profiler SPPrintersDataType -json",function(E,I){if(!E)try{let Y=JSON.parse(I.toString());if(Y.SPPrintersDataType&&Y.SPPrintersDataType.length)for(let G=0;G<Y.SPPrintersDataType.length;G++){let J=sJB(Y.SPPrintersDataType[G],G);B.push(J)}}catch(Y){UJ.noop()}if(A)A(B);Q(B)});if(pJB)UJ.powerShell("Get-CimInstance Win32_Printer | select PrinterStatus,Name,DriverName,Local,Default,Shared | fl").then((C,E)=>{if(!E){let I=C.toString().split(/\n\s*\n/);for(let Y=0;Y<I.length;Y++){let G=tJB(I[Y].split(`
`),Y);if(G.name||G.model)B.push(G)}}if(A)A(B);Q(B)});if(nJB)Q(null)})})}A2B.printer=eJB});var b1Q=m((W2B)=>{var k1Q=a("child_process").exec,tZ=aY(),KK=process.platform,B2B=KK==="linux"||KK==="android",C2B=KK==="darwin",E2B=KK==="win32",I2B=KK==="freebsd",Y2B=KK==="openbsd",G2B=KK==="netbsd",J2B=KK==="sunos";function D2B(A,Q){let B=A,C=(Q+" "+A).toLowerCase();if(C.indexOf("camera")>=0)B="Camera";else if(C.indexOf("hub")>=0)B="Hub";else if(C.indexOf("keybrd")>=0)B="Keyboard";else if(C.indexOf("keyboard")>=0)B="Keyboard";else if(C.indexOf("mouse")>=0)B="Mouse";else if(C.indexOf("stora")>=0)B="Storage";else if(C.indexOf("microp")>=0)B="Microphone";else if(C.indexOf("headset")>=0)B="Audio";else if(C.indexOf("audio")>=0)B="Audio";return B}function U2B(A){let Q={},B=A.split(`
`);if(B&&B.length&&B[0].indexOf("Device")>=0){let z=B[0].split(" ");if(Q.bus=parseInt(z[0],10),z[2])Q.deviceId=parseInt(z[2],10);else Q.deviceId=null}else Q.bus=null,Q.deviceId=null;let C=tZ.getValue(B,"idVendor"," ",!0).trim(),E=C.split(" ");E.shift();let I=E.join(" "),Y=tZ.getValue(B,"idProduct"," ",!0).trim(),G=Y.split(" ");G.shift();let J=G.join(" "),U=tZ.getValue(B,"bInterfaceClass"," ",!0).trim().split(" ");U.shift();let N=U.join(" "),X=tZ.getValue(B,"iManufacturer"," ",!0).trim().split(" ");X.shift();let W=X.join(" "),V=tZ.getValue(B,"iSerial"," ",!0).trim().split(" ");V.shift();let M=V.join(" ");return Q.id=(C.startsWith("0x")?C.split(" ")[0].substr(2,10):"")+":"+(Y.startsWith("0x")?Y.split(" ")[0].substr(2,10):""),Q.name=J,Q.type=D2B(N,J),Q.removable=null,Q.vendor=I,Q.manufacturer=W,Q.maxPower=tZ.getValue(B,"MaxPower"," ",!0),Q.serialNumber=M,Q}function N2B(A){let Q="";if(A.indexOf("camera")>=0)Q="Camera";else if(A.indexOf("touch bar")>=0)Q="Touch Bar";else if(A.indexOf("controller")>=0)Q="Controller";else if(A.indexOf("headset")>=0)Q="Audio";else if(A.indexOf("keyboard")>=0)Q="Keyboard";else if(A.indexOf("trackpad")>=0)Q="Trackpad";else if(A.indexOf("sensor")>=0)Q="Sensor";else if(A.indexOf("bthusb")>=0)Q="Bluetooth";else if(A.indexOf("bth")>=0)Q="Bluetooth";else if(A.indexOf("rfcomm")>=0)Q="Bluetooth";else if(A.indexOf("usbhub")>=0)Q="Hub";else if(A.indexOf(" hub")>=0)Q="Hub";else if(A.indexOf("mouse")>=0)Q="Mouse";else if(A.indexOf("microp")>=0)Q="Microphone";else if(A.indexOf("removable")>=0)Q="Storage";return Q}function Z2B(A,Q){let B={};B.id=Q,A=A.replace(/ \|/g,""),A=A.trim();let C=A.split(`
`);C.shift();try{for(let Y=0;Y<C.length;Y++){if(C[Y]=C[Y].trim(),C[Y]=C[Y].replace(/=/g,":"),C[Y]!=="{"&&C[Y]!=="}"&&C[Y+1]&&C[Y+1].trim()!=="}")C[Y]=C[Y]+",";C[Y]=C[Y].replace(":Yes,",':"Yes",'),C[Y]=C[Y].replace(": Yes,",': "Yes",'),C[Y]=C[Y].replace(": Yes",': "Yes"'),C[Y]=C[Y].replace(":No,",':"No",'),C[Y]=C[Y].replace(": No,",': "No",'),C[Y]=C[Y].replace(": No",': "No"'),C[Y]=C[Y].replace("((","").replace("))","");let G=/<(\w+)>/.exec(C[Y]);if(G){let J=G[0];C[Y]=C[Y].replace(J,`"${J}"`)}}let E=JSON.parse(C.join(`
`)),I=(E["Built-In"]?E["Built-In"].toLowerCase()!=="yes":!0)&&(E["non-removable"]?E["non-removable"].toLowerCase()==="no":!0);if(B.bus=null,B.deviceId=null,B.id=E["USB Address"]||null,B.name=E.kUSBProductString||E["USB Product Name"]||null,B.type=N2B((E.kUSBProductString||E["USB Product Name"]||"").toLowerCase()+(I?" removable":"")),B.removable=E["non-removable"]?E["non-removable"].toLowerCase()||!1:!0,B.vendor=E.kUSBVendorString||E["USB Vendor Name"]||null,B.manufacturer=E.kUSBVendorString||E["USB Vendor Name"]||null,B.maxPower=null,B.serialNumber=E.kUSBSerialNumberString||null,B.name)return B;else return null}catch(E){return null}}function X2B(A,Q){let B="";if(Q.indexOf("storage")>=0)B="Storage";else if(Q.indexOf("speicher")>=0)B="Storage";else if(A.indexOf("usbhub")>=0)B="Hub";else if(A.indexOf("storage")>=0)B="Storage";else if(A.indexOf("usbcontroller")>=0)B="Controller";else if(A.indexOf("keyboard")>=0)B="Keyboard";else if(A.indexOf("pointing")>=0)B="Mouse";else if(A.indexOf("microp")>=0)B="Microphone";else if(A.indexOf("disk")>=0)B="Storage";return B}function F2B(A,Q){let B=X2B(tZ.getValue(A,"CreationClassName",":").toLowerCase(),tZ.getValue(A,"name",":").toLowerCase());if(B){let C={};return C.bus=null,C.deviceId=tZ.getValue(A,"deviceid",":"),C.id=Q,C.name=tZ.getValue(A,"name",":"),C.type=B,C.removable=null,C.vendor=null,C.manufacturer=tZ.getValue(A,"Manufacturer",":"),C.maxPower=null,C.serialNumber=null,C}else return null}function H2B(A){return new Promise((Q)=>{process.nextTick(()=>{let B=[];if(B2B)k1Q("export LC_ALL=C; lsusb -v 2>/dev/null; unset LC_ALL",{maxBuffer:134217728},function(E,I){if(!E){let Y=(`

`+I.toString()).split(`

Bus `);for(let G=1;G<Y.length;G++){let J=U2B(Y[G]);B.push(J)}}if(A)A(B);Q(B)});if(C2B)k1Q("ioreg -p IOUSB -c AppleUSBRootHubDevice -w0 -l",{maxBuffer:134217728},function(E,I){if(!E){let Y=I.toString().split(" +-o ");for(let G=1;G<Y.length;G++){let J=Z2B(Y[G]);if(J)B.push(J)}if(A)A(B);Q(B)}if(A)A(B);Q(B)});if(E2B)tZ.powerShell('Get-CimInstance CIM_LogicalDevice | where { $_.Description -match "USB"} | select Name,CreationClassName,DeviceId,Manufacturer | fl').then((C,E)=>{if(!E){let I=C.toString().split(/\n\s*\n/);for(let Y=0;Y<I.length;Y++){let G=F2B(I[Y].split(`
`),Y);if(G&&B.filter((J)=>J.deviceId===G.deviceId).length===0)B.push(G)}}if(A)A(B);Q(B)});if(J2B||I2B||Y2B||G2B)Q(null)})})}W2B.usb=H2B});var m1Q=m((S2B)=>{var h1Q=a("child_process").exec,V2B=a("child_process").execSync,AD=aY(),VK=process.platform,M2B=VK==="linux"||VK==="android",$2B=VK==="darwin",z2B=VK==="win32",w2B=VK==="freebsd",L2B=VK==="openbsd",O2B=VK==="netbsd",R2B=VK==="sunos";function _HA(A,Q,B){A=A.toLowerCase();let C="";if(A.indexOf("input")>=0)C="Microphone";if(A.indexOf("display audio")>=0)C="Speaker";if(A.indexOf("speak")>=0)C="Speaker";if(A.indexOf("laut")>=0)C="Speaker";if(A.indexOf("loud")>=0)C="Speaker";if(A.indexOf("head")>=0)C="Headset";if(A.indexOf("mic")>=0)C="Microphone";if(A.indexOf("mikr")>=0)C="Microphone";if(A.indexOf("phone")>=0)C="Phone";if(A.indexOf("controll")>=0)C="Controller";if(A.indexOf("line o")>=0)C="Line Out";if(A.indexOf("digital o")>=0)C="Digital Out";if(A.indexOf("smart sound technology")>=0)C="Digital Signal Processor";if(A.indexOf("high definition audio")>=0)C="Sound Driver";if(!C&&B)C="Speaker";else if(!C&&Q)C="Microphone";return C}function T2B(){let A="lspci -v 2>/dev/null",Q=[];try{return V2B(A,AD.execOptsLinux).toString().split(`

`).forEach((C)=>{let E=C.split(`
`);if(E&&E.length&&E[0].toLowerCase().indexOf("audio")>=0){let I={};I.slotId=E[0].split(" ")[0],I.driver=AD.getValue(E,"Kernel driver in use",":",!0)||AD.getValue(E,"Kernel modules",":",!0),Q.push(I)}}),Q}catch(B){return Q}}function q2B(A,Q){let B={},C=AD.getValue(A,"Slot"),E=Q.filter(function(I){return I.slotId===C});return B.id=C,B.name=AD.getValue(A,"SDevice"),B.manufacturer=AD.getValue(A,"SVendor"),B.revision=AD.getValue(A,"Rev"),B.driver=E&&E.length===1&&E[0].driver?E[0].driver:"",B.default=null,B.channel="PCIe",B.type=_HA(B.name,null,null),B.in=null,B.out=null,B.status="online",B}function P2B(A){let Q="";if(A.indexOf("builtin")>=0)Q="Built-In";if(A.indexOf("extern")>=0)Q="Audio-Jack";if(A.indexOf("hdmi")>=0)Q="HDMI";if(A.indexOf("displayport")>=0)Q="Display-Port";if(A.indexOf("usb")>=0)Q="USB";if(A.indexOf("pci")>=0)Q="PCIe";return Q}function _2B(A,Q){let B={},C=((A.coreaudio_device_transport||"")+" "+(A._name||"")).toLowerCase();return B.id=Q,B.name=A._name,B.manufacturer=A.coreaudio_device_manufacturer,B.revision=null,B.driver=null,B.default=!!A.coreaudio_default_audio_input_device||!!A.coreaudio_default_audio_output_device,B.channel=P2B(C),B.type=_HA(B.name,!!A.coreaudio_device_input,!!A.coreaudio_device_output),B.in=!!A.coreaudio_device_input,B.out=!!A.coreaudio_device_output,B.status="online",B}function j2B(A){let Q={},B=AD.getValue(A,"StatusInfo",":");return Q.id=AD.getValue(A,"DeviceID",":"),Q.name=AD.getValue(A,"name",":"),Q.manufacturer=AD.getValue(A,"manufacturer",":"),Q.revision=null,Q.driver=null,Q.default=null,Q.channel=null,Q.type=_HA(Q.name,null,null),Q.in=null,Q.out=null,Q.status=B,Q}function x2B(A){return new Promise((Q)=>{process.nextTick(()=>{let B=[];if(M2B||w2B||L2B||O2B)h1Q("lspci -vmm 2>/dev/null",function(E,I){if(!E){let Y=T2B();I.toString().split(`

`).forEach((J)=>{let D=J.split(`
`);if(AD.getValue(D,"class",":",!0).toLowerCase().indexOf("audio")>=0){let U=q2B(D,Y);B.push(U)}})}if(A)A(B);Q(B)});if($2B)h1Q("system_profiler SPAudioDataType -json",function(E,I){if(!E)try{let Y=JSON.parse(I.toString());if(Y.SPAudioDataType&&Y.SPAudioDataType.length&&Y.SPAudioDataType[0]&&Y.SPAudioDataType[0]._items&&Y.SPAudioDataType[0]._items.length)for(let G=0;G<Y.SPAudioDataType[0]._items.length;G++){let J=_2B(Y.SPAudioDataType[0]._items[G],G);B.push(J)}}catch(Y){AD.noop()}if(A)A(B);Q(B)});if(z2B)AD.powerShell("Get-CimInstance Win32_SoundDevice | select DeviceID,StatusInfo,Name,Manufacturer | fl").then((C,E)=>{if(!E)C.toString().split(/\n\s*\n/).forEach((Y)=>{let G=Y.split(`
`);if(AD.getValue(G,"name",":"))B.push(j2B(G))});if(A)A(B);Q(B)});if(R2B)Q(null)})})}S2B.audio=x2B});var d1Q=m((EW0,f1Q)=>{f1Q.exports={0:"Ericsson Technology Licensing",1:"Nokia Mobile Phones",2:"Intel Corp.",3:"IBM Corp.",4:"Toshiba Corp.",5:"3Com",6:"Microsoft",7:"Lucent",8:"Motorola",9:"Infineon Technologies AG",10:"Cambridge Silicon Radio",11:"Silicon Wave",12:"Digianswer A/S",13:"Texas Instruments Inc.",14:"Ceva, Inc. (formerly Parthus Technologies, Inc.)",15:"Broadcom Corporation",16:"Mitel Semiconductor",17:"Widcomm, Inc",18:"Zeevo, Inc.",19:"Atmel Corporation",20:"Mitsubishi Electric Corporation",21:"RTX Telecom A/S",22:"KC Technology Inc.",23:"NewLogic",24:"Transilica, Inc.",25:"Rohde & Schwarz GmbH & Co. KG",26:"TTPCom Limited",27:"Signia Technologies, Inc.",28:"Conexant Systems Inc.",29:"Qualcomm",30:"Inventel",31:"AVM Berlin",32:"BandSpeed, Inc.",33:"Mansella Ltd",34:"NEC Corporation",35:"WavePlus Technology Co., Ltd.",36:"Alcatel",37:"NXP Semiconductors (formerly Philips Semiconductors)",38:"C Technologies",39:"Open Interface",40:"R F Micro Devices",41:"Hitachi Ltd",42:"Symbol Technologies, Inc.",43:"Tenovis",44:"Macronix International Co. Ltd.",45:"GCT Semiconductor",46:"Norwood Systems",47:"MewTel Technology Inc.",48:"ST Microelectronics",49:"Synopsis",50:"Red-M (Communications) Ltd",51:"Commil Ltd",52:"Computer Access Technology Corporation (CATC)",53:"Eclipse (HQ Espana) S.L.",54:"Renesas Electronics Corporation",55:"Mobilian Corporation",56:"Terax",57:"Integrated System Solution Corp.",58:"Matsushita Electric Industrial Co., Ltd.",59:"Gennum Corporation",60:"BlackBerry Limited (formerly Research In Motion)",61:"IPextreme, Inc.",62:"Systems and Chips, Inc.",63:"Bluetooth SIG, Inc.",64:"Seiko Epson Corporation",65:"Integrated Silicon Solution Taiwan, Inc.",66:"CONWISE Technology Corporation Ltd",67:"PARROT SA",68:"Socket Mobile",69:"Atheros Communications, Inc.",70:"MediaTek, Inc.",71:"Bluegiga",72:"Marvell Technology Group Ltd.",73:"3DSP Corporation",74:"Accel Semiconductor Ltd.",75:"Continental Automotive Systems",76:"Apple, Inc.",77:"Staccato Communications, Inc.",78:"Avago Technologies",79:"APT Licensing Ltd.",80:"SiRF Technology",81:"Tzero Technologies, Inc.",82:"J&M Corporation",83:"Free2move AB",84:"3DiJoy Corporation",85:"Plantronics, Inc.",86:"Sony Ericsson Mobile Communications",87:"Harman International Industries, Inc.",88:"Vizio, Inc.",89:"Nordic Semiconductor ASA",90:"EM Microelectronic-Marin SA",91:"Ralink Technology Corporation",92:"Belkin International, Inc.",93:"Realtek Semiconductor Corporation",94:"Stonestreet One, LLC",95:"Wicentric, Inc.",96:"RivieraWaves S.A.S",97:"RDA Microelectronics",98:"Gibson Guitars",99:"MiCommand Inc.",100:"Band XI International, LLC",101:"Hewlett-Packard Company",102:"9Solutions Oy",103:"GN Netcom A/S",104:"General Motors",105:"A&D Engineering, Inc.",106:"MindTree Ltd.",107:"Polar Electro OY",108:"Beautiful Enterprise Co., Ltd.",109:"BriarTek, Inc.",110:"Summit Data Communications, Inc.",111:"Sound ID",112:"Monster, LLC",113:"connectBlue AB",114:"ShangHai Super Smart Electronics Co. Ltd.",115:"Group Sense Ltd.",116:"Zomm, LLC",117:"Samsung Electronics Co. Ltd.",118:"Creative Technology Ltd.",119:"Laird Technologies",120:"Nike, Inc.",121:"lesswire AG",122:"MStar Semiconductor, Inc.",123:"Hanlynn Technologies",124:"A & R Cambridge",125:"Seers Technology Co. Ltd",126:"Sports Tracking Technologies Ltd.",127:"Autonet Mobile",128:"DeLorme Publishing Company, Inc.",129:"WuXi Vimicro",130:"Sennheiser Communications A/S",131:"TimeKeeping Systems, Inc.",132:"Ludus Helsinki Ltd.",133:"BlueRadios, Inc.",134:"equinox AG",135:"Garmin International, Inc.",136:"Ecotest",137:"GN ReSound A/S",138:"Jawbone",139:"Topcorn Positioning Systems, LLC",140:"Gimbal Inc. (formerly Qualcomm Labs, Inc. and Qualcomm Retail Solutions, Inc.)",141:"Zscan Software",142:"Quintic Corp.",143:"Stollman E+V GmbH",144:"Funai Electric Co., Ltd.",145:"Advanced PANMOBIL Systems GmbH & Co. KG",146:"ThinkOptics, Inc.",147:"Universal Electronics, Inc.",148:"Airoha Technology Corp.",149:"NEC Lighting, Ltd.",150:"ODM Technology, Inc.",151:"ConnecteDevice Ltd.",152:"zer01.tv GmbH",153:"i.Tech Dynamic Global Distribution Ltd.",154:"Alpwise",155:"Jiangsu Toppower Automotive Electronics Co., Ltd.",156:"Colorfy, Inc.",157:"Geoforce Inc.",158:"Bose Corporation",159:"Suunto Oy",160:"Kensington Computer Products Group",161:"SR-Medizinelektronik",162:"Vertu Corporation Limited",163:"Meta Watch Ltd.",164:"LINAK A/S",165:"OTL Dynamics LLC",166:"Panda Ocean Inc.",167:"Visteon Corporation",168:"ARP Devices Limited",169:"Magneti Marelli S.p.A",170:"CAEN RFID srl",171:"Ingenieur-Systemgruppe Zahn GmbH",172:"Green Throttle Games",173:"Peter Systemtechnik GmbH",174:"Omegawave Oy",175:"Cinetix",176:"Passif Semiconductor Corp",177:"Saris Cycling Group, Inc",178:"Bekey A/S",179:"Clarinox Technologies Pty. Ltd.",180:"BDE Technology Co., Ltd.",181:"Swirl Networks",182:"Meso international",183:"TreLab Ltd",184:"Qualcomm Innovation Center, Inc. (QuIC)",185:"Johnson Controls, Inc.",186:"Starkey Laboratories Inc.",187:"S-Power Electronics Limited",188:"Ace Sensor Inc",189:"Aplix Corporation",190:"AAMP of America",191:"Stalmart Technology Limited",192:"AMICCOM Electronics Corporation",193:"Shenzhen Excelsecu Data Technology Co.,Ltd",194:"Geneq Inc.",195:"adidas AG",196:"LG Electronics",197:"Onset Computer Corporation",198:"Selfly BV",199:"Quuppa Oy.",200:"GeLo Inc",201:"Evluma",202:"MC10",203:"Binauric SE",204:"Beats Electronics",205:"Microchip Technology Inc.",206:"Elgato Systems GmbH",207:"ARCHOS SA",208:"Dexcom, Inc.",209:"Polar Electro Europe B.V.",210:"Dialog Semiconductor B.V.",211:"Taixingbang Technology (HK) Co,. LTD.",212:"Kawantech",213:"Austco Communication Systems",214:"Timex Group USA, Inc.",215:"Qualcomm Technologies, Inc.",216:"Qualcomm Connected Experiences, Inc.",217:"Voyetra Turtle Beach",218:"txtr GmbH",219:"Biosentronics",220:"Procter & Gamble",221:"Hosiden Corporation",222:"Muzik LLC",223:"Misfit Wearables Corp",224:"Google",225:"Danlers Ltd",226:"Semilink Inc",227:"inMusic Brands, Inc",228:"L.S. Research Inc.",229:"Eden Software Consultants Ltd.",230:"Freshtemp",231:"KS Technologies",232:"ACTS Technologies",233:"Vtrack Systems",234:"Nielsen-Kellerman Company",235:"Server Technology, Inc.",236:"BioResearch Associates",237:"Jolly Logic, LLC",238:"Above Average Outcomes, Inc.",239:"Bitsplitters GmbH",240:"PayPal, Inc.",241:"Witron Technology Limited",242:"Aether Things Inc. (formerly Morse Project Inc.)",243:"Kent Displays Inc.",244:"Nautilus Inc.",245:"Smartifier Oy",246:"Elcometer Limited",247:"VSN Technologies Inc.",248:"AceUni Corp., Ltd.",249:"StickNFind",250:"Crystal Code AB",251:"KOUKAAM a.s.",252:"Delphi Corporation",253:"ValenceTech Limited",254:"Reserved",255:"Typo Products, LLC",256:"TomTom International BV",257:"Fugoo, Inc",258:"Keiser Corporation",259:"Bang & Olufsen A/S",260:"PLUS Locations Systems Pty Ltd",261:"Ubiquitous Computing Technology Corporation",262:"Innovative Yachtter Solutions",263:"William Demant Holding A/S",264:"Chicony Electronics Co., Ltd.",265:"Atus BV",266:"Codegate Ltd.",267:"ERi, Inc.",268:"Transducers Direct, LLC",269:"Fujitsu Ten Limited",270:"Audi AG",271:"HiSilicon Technologies Co., Ltd.",272:"Nippon Seiki Co., Ltd.",273:"Steelseries ApS",274:"vyzybl Inc.",275:"Openbrain Technologies, Co., Ltd.",276:"Xensr",277:"e.solutions",278:"1OAK Technologies",279:"Wimoto Technologies Inc",280:"Radius Networks, Inc.",281:"Wize Technology Co., Ltd.",282:"Qualcomm Labs, Inc.",283:"Aruba Networks",284:"Baidu",285:"Arendi AG",286:"Skoda Auto a.s.",287:"Volkswagon AG",288:"Porsche AG",289:"Sino Wealth Electronic Ltd.",290:"AirTurn, Inc.",291:"Kinsa, Inc.",292:"HID Global",293:"SEAT es",294:"Promethean Ltd.",295:"Salutica Allied Solutions",296:"GPSI Group Pty Ltd",297:"Nimble Devices Oy",298:"Changzhou Yongse Infotech Co., Ltd",299:"SportIQ",300:"TEMEC Instruments B.V.",301:"Sony Corporation",302:"ASSA ABLOY",303:"Clarion Co., Ltd.",304:"Warehouse Innovations",305:"Cypress Semiconductor Corporation",306:"MADS Inc",307:"Blue Maestro Limited",308:"Resolution Products, Inc.",309:"Airewear LLC",310:"Seed Labs, Inc. (formerly ETC sp. z.o.o.)",311:"Prestigio Plaza Ltd.",312:"NTEO Inc.",313:"Focus Systems Corporation",314:"Tencent Holdings Limited",315:"Allegion",316:"Murata Manufacuring Co., Ltd.",318:"Nod, Inc.",319:"B&B Manufacturing Company",320:"Alpine Electronics (China) Co., Ltd",321:"FedEx Services",322:"Grape Systems Inc.",323:"Bkon Connect",324:"Lintech GmbH",325:"Novatel Wireless",326:"Ciright",327:"Mighty Cast, Inc.",328:"Ambimat Electronics",329:"Perytons Ltd.",330:"Tivoli Audio, LLC",331:"Master Lock",332:"Mesh-Net Ltd",333:"Huizhou Desay SV Automotive CO., LTD.",334:"Tangerine, Inc.",335:"B&W Group Ltd.",336:"Pioneer Corporation",337:"OnBeep",338:"Vernier Software & Technology",339:"ROL Ergo",340:"Pebble Technology",341:"NETATMO",342:"Accumulate AB",343:"Anhui Huami Information Technology Co., Ltd.",344:"Inmite s.r.o.",345:"ChefSteps, Inc.",346:"micas AG",347:"Biomedical Research Ltd.",348:"Pitius Tec S.L.",349:"Estimote, Inc.",350:"Unikey Technologies, Inc.",351:"Timer Cap Co.",352:"AwoX",353:"yikes",354:"MADSGlobal NZ Ltd.",355:"PCH International",356:"Qingdao Yeelink Information Technology Co., Ltd.",357:"Milwaukee Tool (formerly Milwaukee Electric Tools)",358:"MISHIK Pte Ltd",359:"Bayer HealthCare",360:"Spicebox LLC",361:"emberlight",362:"Cooper-Atkins Corporation",363:"Qblinks",364:"MYSPHERA",365:"LifeScan Inc",366:"Volantic AB",367:"Podo Labs, Inc",368:"Roche Diabetes Care AG",369:"Amazon Fulfillment Service",370:"Connovate Technology Private Limited",371:"Kocomojo, LLC",372:"Everykey LLC",373:"Dynamic Controls",374:"SentriLock",375:"I-SYST inc.",376:"CASIO COMPUTER CO., LTD.",377:"LAPIS Semiconductor Co., Ltd.",378:"Telemonitor, Inc.",379:"taskit GmbH",380:"Daimler AG",381:"BatAndCat",382:"BluDotz Ltd",383:"XTel ApS",384:"Gigaset Communications GmbH",385:"Gecko Health Innovations, Inc.",386:"HOP Ubiquitous",387:"To Be Assigned",388:"Nectar",389:"bel’apps LLC",390:"CORE Lighting Ltd",391:"Seraphim Sense Ltd",392:"Unico RBC",393:"Physical Enterprises Inc.",394:"Able Trend Technology Limited",395:"Konica Minolta, Inc.",396:"Wilo SE",397:"Extron Design Services",398:"Fitbit, Inc.",399:"Fireflies Systems",400:"Intelletto Technologies Inc.",401:"FDK CORPORATION",402:"Cloudleaf, Inc",403:"Maveric Automation LLC",404:"Acoustic Stream Corporation",405:"Zuli",406:"Paxton Access Ltd",407:"WiSilica Inc",408:"Vengit Limited",409:"SALTO SYSTEMS S.L.",410:"TRON Forum (formerly T-Engine Forum)",411:"CUBETECH s.r.o.",412:"Cokiya Incorporated",413:"CVS Health",414:"Ceruus",415:"Strainstall Ltd",416:"Channel Enterprises (HK) Ltd.",417:"FIAMM",418:"GIGALANE.CO.,LTD",419:"EROAD",420:"Mine Safety Appliances",421:"Icon Health and Fitness",422:"Asandoo GmbH",423:"ENERGOUS CORPORATION",424:"Taobao",425:"Canon Inc.",426:"Geophysical Technology Inc.",427:"Facebook, Inc.",428:"Nipro Diagnostics, Inc.",429:"FlightSafety International",430:"Earlens Corporation",431:"Sunrise Micro Devices, Inc.",432:"Star Micronics Co., Ltd.",433:"Netizens Sp. z o.o.",434:"Nymi Inc.",435:"Nytec, Inc.",436:"Trineo Sp. z o.o.",437:"Nest Labs Inc.",438:"LM Technologies Ltd",439:"General Electric Company",440:"i+D3 S.L.",441:"HANA Micron",442:"Stages Cycling LLC",443:"Cochlear Bone Anchored Solutions AB",444:"SenionLab AB",445:"Syszone Co., Ltd",446:"Pulsate Mobile Ltd.",447:"Hong Kong HunterSun Electronic Limited",448:"pironex GmbH",449:"BRADATECH Corp.",450:"Transenergooil AG",451:"Bunch",452:"DME Microelectronics",453:"Bitcraze AB",454:"HASWARE Inc.",455:"Abiogenix Inc.",456:"Poly-Control ApS",457:"Avi-on",458:"Laerdal Medical AS",459:"Fetch My Pet",460:"Sam Labs Ltd.",461:"Chengdu Synwing Technology Ltd",462:"HOUWA SYSTEM DESIGN, k.k.",463:"BSH",464:"Primus Inter Pares Ltd",465:"August",466:"Gill Electronics",467:"Sky Wave Design",468:"Newlab S.r.l.",469:"ELAD srl",470:"G-wearables inc.",471:"Squadrone Systems Inc.",472:"Code Corporation",473:"Savant Systems LLC",474:"Logitech International SA",475:"Innblue Consulting",476:"iParking Ltd.",477:"Koninklijke Philips Electronics N.V.",478:"Minelab Electronics Pty Limited",479:"Bison Group Ltd.",480:"Widex A/S",481:"Jolla Ltd",482:"Lectronix, Inc.",483:"Caterpillar Inc",484:"Freedom Innovations",485:"Dynamic Devices Ltd",486:"Technology Solutions (UK) Ltd",487:"IPS Group Inc.",488:"STIR",489:"Sano, Inc",490:"Advanced Application Design, Inc.",491:"AutoMap LLC",492:"Spreadtrum Communications Shanghai Ltd",493:"CuteCircuit LTD",494:"Valeo Service",495:"Fullpower Technologies, Inc.",496:"KloudNation",497:"Zebra Technologies Corporation",498:"Itron, Inc.",499:"The University of Tokyo",500:"UTC Fire and Security",501:"Cool Webthings Limited",502:"DJO Global",503:"Gelliner Limited",504:"Anyka (Guangzhou) Microelectronics Technology Co, LTD",505:"Medtronic, Inc.",506:"Gozio, Inc.",507:"Form Lifting, LLC",508:"Wahoo Fitness, LLC",509:"Kontakt Micro-Location Sp. z o.o.",510:"Radio System Corporation",511:"Freescale Semiconductor, Inc.",512:"Verifone Systems PTe Ltd. Taiwan Branch",513:"AR Timing",514:"Rigado LLC",515:"Kemppi Oy",516:"Tapcentive Inc.",517:"Smartbotics Inc.",518:"Otter Products, LLC",519:"STEMP Inc.",520:"LumiGeek LLC",521:"InvisionHeart Inc.",522:"Macnica Inc. ",523:"Jaguar Land Rover Limited",524:"CoroWare Technologies, Inc",525:"Simplo Technology Co., LTD",526:"Omron Healthcare Co., LTD",527:"Comodule GMBH",528:"ikeGPS",529:"Telink Semiconductor Co. Ltd",530:"Interplan Co., Ltd",531:"Wyler AG",532:"IK Multimedia Production srl",533:"Lukoton Experience Oy",534:"MTI Ltd",535:"Tech4home, Lda",536:"Hiotech AB",537:"DOTT Limited",538:"Blue Speck Labs, LLC",539:"Cisco Systems, Inc",540:"Mobicomm Inc",541:"Edamic",542:"Goodnet, Ltd",543:"Luster Leaf Products Inc",544:"Manus Machina BV",545:"Mobiquity Networks Inc",546:"Praxis Dynamics",547:"Philip Morris Products S.A.",548:"Comarch SA",549:"Nestl Nespresso S.A.",550:"Merlinia A/S",551:"LifeBEAM Technologies",552:"Twocanoes Labs, LLC",553:"Muoverti Limited",554:"Stamer Musikanlagen GMBH",555:"Tesla Motors",556:"Pharynks Corporation",557:"Lupine",558:"Siemens AG",559:"Huami (Shanghai) Culture Communication CO., LTD",560:"Foster Electric Company, Ltd",561:"ETA SA",562:"x-Senso Solutions Kft",563:"Shenzhen SuLong Communication Ltd",564:"FengFan (BeiJing) Technology Co, Ltd",565:"Qrio Inc",566:"Pitpatpet Ltd",567:"MSHeli s.r.l.",568:"Trakm8 Ltd",569:"JIN CO, Ltd",570:"Alatech Tehnology",571:"Beijing CarePulse Electronic Technology Co, Ltd",572:"Awarepoint",573:"ViCentra B.V.",574:"Raven Industries",575:"WaveWare Technologies Inc.",576:"Argenox Technologies",577:"Bragi GmbH",578:"16Lab Inc",579:"Masimo Corp",580:"Iotera Inc",581:"Endress+Hauser",582:"ACKme Networks, Inc.",583:"FiftyThree Inc.",584:"Parker Hannifin Corp",585:"Transcranial Ltd",586:"Uwatec AG",587:"Orlan LLC",588:"Blue Clover Devices",589:"M-Way Solutions GmbH",590:"Microtronics Engineering GmbH",591:"Schneider Schreibgerte GmbH",592:"Sapphire Circuits LLC",593:"Lumo Bodytech Inc.",594:"UKC Technosolution",595:"Xicato Inc.",596:"Playbrush",597:"Dai Nippon Printing Co., Ltd.",598:"G24 Power Limited",599:"AdBabble Local Commerce Inc.",600:"Devialet SA",601:"ALTYOR",602:"University of Applied Sciences Valais/Haute Ecole Valaisanne",603:"Five Interactive, LLC dba Zendo",604:"NetEaseHangzhouNetwork co.Ltd.",605:"Lexmark International Inc.",606:"Fluke Corporation",607:"Yardarm Technologies",608:"SensaRx",609:"SECVRE GmbH",610:"Glacial Ridge Technologies",611:"Identiv, Inc.",612:"DDS, Inc.",613:"SMK Corporation",614:"Schawbel Technologies LLC",615:"XMI Systems SA",616:"Cerevo",617:"Torrox GmbH & Co KG",618:"Gemalto",619:"DEKA Research & Development Corp.",620:"Domster Tadeusz Szydlowski",621:"Technogym SPA",622:"FLEURBAEY BVBA",623:"Aptcode Solutions",624:"LSI ADL Technology",625:"Animas Corp",626:"Alps Electric Co., Ltd.",627:"OCEASOFT",628:"Motsai Research",629:"Geotab",630:"E.G.O. Elektro-Gertebau GmbH",631:"bewhere inc",632:"Johnson Outdoors Inc",633:"steute Schaltgerate GmbH & Co. KG",634:"Ekomini inc.",635:"DEFA AS",636:"Aseptika Ltd",637:"HUAWEI Technologies Co., Ltd. ( )",638:"HabitAware, LLC",639:"ruwido austria gmbh",640:"ITEC corporation",641:"StoneL",642:"Sonova AG",643:"Maven Machines, Inc.",644:"Synapse Electronics",645:"Standard Innovation Inc.",646:"RF Code, Inc.",647:"Wally Ventures S.L.",648:"Willowbank Electronics Ltd",649:"SK Telecom",650:"Jetro AS",651:"Code Gears LTD",652:"NANOLINK APS",653:"IF, LLC",654:"RF Digital Corp",655:"Church & Dwight Co., Inc",656:"Multibit Oy",657:"CliniCloud Inc",658:"SwiftSensors",659:"Blue Bite",660:"ELIAS GmbH",661:"Sivantos GmbH",662:"Petzl",663:"storm power ltd",664:"EISST Ltd",665:"Inexess Technology Simma KG",666:"Currant, Inc.",667:"C2 Development, Inc.",668:"Blue Sky Scientific, LLC",669:"ALOTTAZS LABS, LLC",670:"Kupson spol. s r.o.",671:"Areus Engineering GmbH",672:"Impossible Camera GmbH",673:"InventureTrack Systems",674:"LockedUp",675:"Itude",676:"Pacific Lock Company",677:"Tendyron Corporation ( )",678:"Robert Bosch GmbH",679:"Illuxtron international B.V.",680:"miSport Ltd.",681:"Chargelib",682:"Doppler Lab",683:"BBPOS Limited",684:"RTB Elektronik GmbH & Co. KG",685:"Rx Networks, Inc.",686:"WeatherFlow, Inc.",687:"Technicolor USA Inc.",688:"Bestechnic(Shanghai),Ltd",689:"Raden Inc",690:"JouZen Oy",691:"CLABER S.P.A.",692:"Hyginex, Inc.",693:"HANSHIN ELECTRIC RAILWAY CO.,LTD.",694:"Schneider Electric",695:"Oort Technologies LLC",696:"Chrono Therapeutics",697:"Rinnai Corporation",698:"Swissprime Technologies AG",699:"Koha.,Co.Ltd",700:"Genevac Ltd",701:"Chemtronics",702:"Seguro Technology Sp. z o.o.",703:"Redbird Flight Simulations",704:"Dash Robotics",705:"LINE Corporation",706:"Guillemot Corporation",707:"Techtronic Power Tools Technology Limited",708:"Wilson Sporting Goods",709:"Lenovo (Singapore) Pte Ltd. ( )",710:"Ayatan Sensors",711:"Electronics Tomorrow Limited",712:"VASCO Data Security International, Inc.",713:"PayRange Inc.",714:"ABOV Semiconductor",715:"AINA-Wireless Inc.",716:"Eijkelkamp Soil & Water",717:"BMA ergonomics b.v.",718:"Teva Branded Pharmaceutical Products R&D, Inc.",719:"Anima",720:"3M",721:"Empatica Srl",722:"Afero, Inc.",723:"Powercast Corporation",724:"Secuyou ApS",725:"OMRON Corporation",726:"Send Solutions",727:"NIPPON SYSTEMWARE CO.,LTD.",728:"Neosfar",729:"Fliegl Agrartechnik GmbH",730:"Gilvader",731:"Digi International Inc (R)",732:"DeWalch Technologies, Inc.",733:"Flint Rehabilitation Devices, LLC",734:"Samsung SDS Co., Ltd.",735:"Blur Product Development",736:"University of Michigan",737:"Victron Energy BV",738:"NTT docomo",739:"Carmanah Technologies Corp.",740:"Bytestorm Ltd.",741:"Espressif Incorporated ( () )",742:"Unwire",743:"Connected Yard, Inc.",744:"American Music Environments",745:"Sensogram Technologies, Inc.",746:"Fujitsu Limited",747:"Ardic Technology",748:"Delta Systems, Inc",749:"HTC Corporation",750:"Citizen Holdings Co., Ltd.",751:"SMART-INNOVATION.inc",752:"Blackrat Software",753:"The Idea Cave, LLC",754:"GoPro, Inc.",755:"AuthAir, Inc",756:"Vensi, Inc.",757:"Indagem Tech LLC",758:"Intemo Technologies",759:"DreamVisions co., Ltd.",760:"Runteq Oy Ltd",761:"IMAGINATION TECHNOLOGIES LTD",762:"CoSTAR TEchnologies",763:"Clarius Mobile Health Corp.",764:"Shanghai Frequen Microelectronics Co., Ltd.",765:"Uwanna, Inc.",766:"Lierda Science & Technology Group Co., Ltd.",767:"Silicon Laboratories",768:"World Moto Inc.",769:"Giatec Scientific Inc.",770:"Loop Devices, Inc",771:"IACA electronique",772:"Martians Inc",773:"Swipp ApS",774:"Life Laboratory Inc.",775:"FUJI INDUSTRIAL CO.,LTD.",776:"Surefire, LLC",777:"Dolby Labs",778:"Ellisys",779:"Magnitude Lighting Converters",780:"Hilti AG",781:"Devdata S.r.l.",782:"Deviceworx",783:"Shortcut Labs",784:"SGL Italia S.r.l.",785:"PEEQ DATA",786:"Ducere Technologies Pvt Ltd",787:"DiveNav, Inc.",788:"RIIG AI Sp. z o.o.",789:"Thermo Fisher Scientific",790:"AG Measurematics Pvt. Ltd.",791:"CHUO Electronics CO., LTD.",792:"Aspenta International",793:"Eugster Frismag AG",794:"Amber wireless GmbH",795:"HQ Inc",796:"Lab Sensor Solutions",797:"Enterlab ApS",798:"Eyefi, Inc.",799:"MetaSystem S.p.A.",800:"SONO ELECTRONICS. CO., LTD",801:"Jewelbots",802:"Compumedics Limited",803:"Rotor Bike Components",804:"Astro, Inc.",805:"Amotus Solutions",806:"Healthwear Technologies (Changzhou)Ltd",807:"Essex Electronics",808:"Grundfos A/S",809:"Eargo, Inc.",810:"Electronic Design Lab",811:"ESYLUX",812:"NIPPON SMT.CO.,Ltd",813:"BM innovations GmbH",814:"indoormap",815:"OttoQ Inc",816:"North Pole Engineering",817:"3flares Technologies Inc.",818:"Electrocompaniet A.S.",819:"Mul-T-Lock",820:"Corentium AS",821:"Enlighted Inc",822:"GISTIC",823:"AJP2 Holdings, LLC",824:"COBI GmbH",825:"Blue Sky Scientific, LLC",826:"Appception, Inc.",827:"Courtney Thorne Limited",828:"Virtuosys",829:"TPV Technology Limited",830:"Monitra SA",831:"Automation Components, Inc.",832:"Letsense s.r.l.",833:"Etesian Technologies LLC",834:"GERTEC BRASIL LTDA.",835:"Drekker Development Pty. Ltd.",836:"Whirl Inc",837:"Locus Positioning",838:"Acuity Brands Lighting, Inc",839:"Prevent Biometrics",840:"Arioneo",841:"VersaMe",842:"Vaddio",843:"Libratone A/S",844:"HM Electronics, Inc.",845:"TASER International, Inc.",846:"SafeTrust Inc.",847:"Heartland Payment Systems",848:"Bitstrata Systems Inc.",849:"Pieps GmbH",850:"iRiding(Xiamen)Technology Co.,Ltd.",851:"Alpha Audiotronics, Inc.",852:"TOPPAN FORMS CO.,LTD.",853:"Sigma Designs, Inc.",854:"Spectrum Brands, Inc.",855:"Polymap Wireless",856:"MagniWare Ltd.",857:"Novotec Medical GmbH",858:"Medicom Innovation Partner a/s",859:"Matrix Inc.",860:"Eaton Corporation",861:"KYS",862:"Naya Health, Inc.",863:"Acromag",864:"Insulet Corporation",865:"Wellinks Inc.",866:"ON Semiconductor",867:"FREELAP SA",868:"Favero Electronics Srl",869:"BioMech Sensor LLC",870:"BOLTT Sports technologies Private limited",871:"Saphe International",872:"Metormote AB",873:"littleBits",874:"SetPoint Medical",875:"BRControls Products BV",876:"Zipcar",877:"AirBolt Pty Ltd",878:"KeepTruckin Inc",879:"Motiv, Inc.",880:"Wazombi Labs O",881:"ORBCOMM",882:"Nixie Labs, Inc.",883:"AppNearMe Ltd",884:"Holman Industries",885:"Expain AS",886:"Electronic Temperature Instruments Ltd",887:"Plejd AB",888:"Propeller Health",889:"Shenzhen iMCO Electronic Technology Co.,Ltd",890:"Algoria",891:"Apption Labs Inc.",892:"Cronologics Corporation",893:"MICRODIA Ltd.",894:"lulabytes S.L.",895:"Nestec S.A.",896:"LLC MEGA - F service",897:"Sharp Corporation",898:"Precision Outcomes Ltd",899:"Kronos Incorporated",900:"OCOSMOS Co., Ltd.",901:"Embedded Electronic Solutions Ltd. dba e2Solutions",902:"Aterica Inc.",903:"BluStor PMC, Inc.",904:"Kapsch TrafficCom AB",905:"ActiveBlu Corporation",906:"Kohler Mira Limited",907:"Noke",908:"Appion Inc.",909:"Resmed Ltd",910:"Crownstone B.V.",911:"Xiaomi Inc.",912:"INFOTECH s.r.o.",913:"Thingsquare AB",914:"T&D",915:"LAVAZZA S.p.A.",916:"Netclearance Systems, Inc.",917:"SDATAWAY",918:"BLOKS GmbH",919:"LEGO System A/S",920:"Thetatronics Ltd",921:"Nikon Corporation",922:"NeST",923:"South Silicon Valley Microelectronics",924:"ALE International",925:"CareView Communications, Inc.",926:"SchoolBoard Limited",927:"Molex Corporation",928:"IVT Wireless Limited",929:"Alpine Labs LLC",930:"Candura Instruments",931:"SmartMovt Technology Co., Ltd",932:"Token Zero Ltd",933:"ACE CAD Enterprise Co., Ltd. (ACECAD)",934:"Medela, Inc",935:"AeroScout",936:"Esrille Inc.",937:"THINKERLY SRL",938:"Exon Sp. z o.o.",939:"Meizu Technology Co., Ltd.",940:"Smablo LTD",941:"XiQ",942:"Allswell Inc.",943:"Comm-N-Sense Corp DBA Verigo",944:"VIBRADORM GmbH",945:"Otodata Wireless Network Inc.",946:"Propagation Systems Limited",947:"Midwest Instruments & Controls",948:"Alpha Nodus, inc.",949:"petPOMM, Inc",950:"Mattel",951:"Airbly Inc.",952:"A-Safe Limited",953:"FREDERIQUE CONSTANT SA",954:"Maxscend Microelectronics Company Limited",955:"Abbott Diabetes Care",956:"ASB Bank Ltd",957:"amadas",958:"Applied Science, Inc.",959:"iLumi Solutions Inc.",960:"Arch Systems Inc.",961:"Ember Technologies, Inc.",962:"Snapchat Inc",963:"Casambi Technologies Oy",964:"Pico Technology Inc.",965:"St. Jude Medical, Inc.",966:"Intricon",967:"Structural Health Systems, Inc.",968:"Avvel International",969:"Gallagher Group",970:"In2things Automation Pvt. Ltd.",971:"SYSDEV Srl",972:"Vonkil Technologies Ltd",973:"Wynd Technologies, Inc.",974:"CONTRINEX S.A.",975:"MIRA, Inc.",976:"Watteam Ltd",977:"Density Inc.",978:"IOT Pot India Private Limited",979:"Sigma Connectivity AB",980:"PEG PEREGO SPA",981:"Wyzelink Systems Inc.",982:"Yota Devices LTD",983:"FINSECUR",984:"Zen-Me Labs Ltd",985:"3IWare Co., Ltd.",986:"EnOcean GmbH",987:"Instabeat, Inc",988:"Nima Labs",989:"Andreas Stihl AG & Co. KG",990:"Nathan Rhoades LLC",991:"Grob Technologies, LLC",992:"Actions (Zhuhai) Technology Co., Limited",993:"SPD Development Company Ltd",994:"Sensoan Oy",995:"Qualcomm Life Inc",996:"Chip-ing AG",997:"ffly4u",998:"IoT Instruments Oy",999:"TRUE Fitness Technology",1000:"Reiner Kartengeraete GmbH & Co. KG.",1001:"SHENZHEN LEMONJOY TECHNOLOGY CO., LTD.",1002:"Hello Inc.",1003:"Evollve Inc.",1004:"Jigowatts Inc.",1005:"BASIC MICRO.COM,INC.",1006:"CUBE TECHNOLOGIES",1007:"foolography GmbH",1008:"CLINK",1009:"Hestan Smart Cooking Inc.",1010:"WindowMaster A/S",1011:"Flowscape AB",1012:"PAL Technologies Ltd",1013:"WHERE, Inc.",1014:"Iton Technology Corp.",1015:"Owl Labs Inc.",1016:"Rockford Corp.",1017:"Becon Technologies Co.,Ltd.",1018:"Vyassoft Technologies Inc",1019:"Nox Medical",1020:"Kimberly-Clark",1021:"Trimble Navigation Ltd.",1022:"Littelfuse",1023:"Withings",1024:"i-developer IT Beratung UG",1026:"Sears Holdings Corporation",1027:"Gantner Electronic GmbH",1028:"Authomate Inc",1029:"Vertex International, Inc.",1030:"Airtago",1031:"Swiss Audio SA",1032:"ToGetHome Inc.",1033:"AXIS",1034:"Openmatics",1035:"Jana Care Inc.",1036:"Senix Corporation",1037:"NorthStar Battery Company, LLC",1038:"SKF (U.K.) Limited",1039:"CO-AX Technology, Inc.",1040:"Fender Musical Instruments",1041:"Luidia Inc",1042:"SEFAM",1043:"Wireless Cables Inc",1044:"Lightning Protection International Pty Ltd",1045:"Uber Technologies Inc",1046:"SODA GmbH",1047:"Fatigue Science",1048:"Alpine Electronics Inc.",1049:"Novalogy LTD",1050:"Friday Labs Limited",1051:"OrthoAccel Technologies",1052:"WaterGuru, Inc.",1053:"Benning Elektrotechnik und Elektronik GmbH & Co. KG",1054:"Dell Computer Corporation",1055:"Kopin Corporation",1056:"TecBakery GmbH",1057:"Backbone Labs, Inc.",1058:"DELSEY SA",1059:"Chargifi Limited",1060:"Trainesense Ltd.",1061:"Unify Software and Solutions GmbH & Co. KG",1062:"Husqvarna AB",1063:"Focus fleet and fuel management inc",1064:"SmallLoop, LLC",1065:"Prolon Inc.",1066:"BD Medical",1067:"iMicroMed Incorporated",1068:"Ticto N.V.",1069:"Meshtech AS",1070:"MemCachier Inc.",1071:"Danfoss A/S",1072:"SnapStyk Inc.",1073:"Amyway Corporation",1074:"Silk Labs, Inc.",1075:"Pillsy Inc.",1076:"Hatch Baby, Inc.",1077:"Blocks Wearables Ltd.",1078:"Drayson Technologies (Europe) Limited",1079:"eBest IOT Inc.",1080:"Helvar Ltd",1081:"Radiance Technologies",1082:"Nuheara Limited",1083:"Appside co., ltd.",1084:"DeLaval",1085:"Coiler Corporation",1086:"Thermomedics, Inc.",1087:"Tentacle Sync GmbH",1088:"Valencell, Inc.",1089:"iProtoXi Oy",1090:"SECOM CO., LTD.",1091:"Tucker International LLC",1092:"Metanate Limited",1093:"Kobian Canada Inc.",1094:"NETGEAR, Inc.",1095:"Fabtronics Australia Pty Ltd",1096:"Grand Centrix GmbH",1097:"1UP USA.com llc",1098:"SHIMANO INC.",1099:"Nain Inc.",1100:"LifeStyle Lock, LLC",1101:"VEGA Grieshaber KG",1102:"Xtrava Inc.",1103:"TTS Tooltechnic Systems AG & Co. KG",1104:"Teenage Engineering AB",1105:"Tunstall Nordic AB",1106:"Svep Design Center AB",1107:"GreenPeak Technologies BV",1108:"Sphinx Electronics GmbH & Co KG",1109:"Atomation",1110:"Nemik Consulting Inc",1111:"RF INNOVATION",1112:"Mini Solution Co., Ltd.",1113:"Lumenetix, Inc",1114:"2048450 Ontario Inc",1115:"SPACEEK LTD",1116:"Delta T Corporation",1117:"Boston Scientific Corporation",1118:"Nuviz, Inc.",1119:"Real Time Automation, Inc.",1120:"Kolibree",1121:"vhf elektronik GmbH",1122:"Bonsai Systems GmbH",1123:"Fathom Systems Inc.",1124:"Bellman & Symfon",1125:"International Forte Group LLC",1126:"CycleLabs Solutions inc.",1127:"Codenex Oy",1128:"Kynesim Ltd",1129:"Palago AB",1130:"INSIGMA INC.",1131:"PMD Solutions",1132:"Qingdao Realtime Technology Co., Ltd.",1133:"BEGA Gantenbrink-Leuchten KG",1134:"Pambor Ltd.",65535:"SPECIAL USE/DEFAULT"}});var u1Q=m((s2B)=>{var v2B=a("child_process").exec,y2B=a("child_process").execSync,k2B=a("path"),v6=aY(),b2B=d1Q(),h2B=a("fs"),MK=process.platform,m2B=MK==="linux"||MK==="android",f2B=MK==="darwin",d2B=MK==="win32",u2B=MK==="freebsd",p2B=MK==="openbsd",c2B=MK==="netbsd",l2B=MK==="sunos";function xHA(A){let Q="";if(A.indexOf("keyboard")>=0)Q="Keyboard";if(A.indexOf("mouse")>=0)Q="Mouse";if(A.indexOf("trackpad")>=0)Q="Trackpad";if(A.indexOf("speaker")>=0)Q="Speaker";if(A.indexOf("headset")>=0)Q="Headset";if(A.indexOf("phone")>=0)Q="Phone";if(A.indexOf("macbook")>=0)Q="Computer";if(A.indexOf("imac")>=0)Q="Computer";if(A.indexOf("ipad")>=0)Q="Tablet";if(A.indexOf("watch")>=0)Q="Watch";if(A.indexOf("headphone")>=0)Q="Headset";return Q}function i2B(A){let Q=A.split(" ")[0];if(A=A.toLowerCase(),A.indexOf("apple")>=0)Q="Apple";if(A.indexOf("ipad")>=0)Q="Apple";if(A.indexOf("imac")>=0)Q="Apple";if(A.indexOf("iphone")>=0)Q="Apple";if(A.indexOf("magic mouse")>=0)Q="Apple";if(A.indexOf("magic track")>=0)Q="Apple";if(A.indexOf("macbook")>=0)Q="Apple";return Q}function n2B(A){let Q=parseInt(A);if(!isNaN(Q))return b2B[Q]}function o2B(A,Q,B){let C={};return C.device=null,C.name=v6.getValue(A,"name","="),C.manufacturer=null,C.macDevice=Q,C.macHost=B,C.batteryPercent=null,C.type=xHA(C.name.toLowerCase()),C.connected=!1,C}function jHA(A,Q){let B={},C=((A.device_minorClassOfDevice_string||A.device_majorClassOfDevice_string||A.device_minorType||"")+(A.device_name||"")).toLowerCase();return B.device=A.device_services||"",B.name=A.device_name||"",B.manufacturer=A.device_manufacturer||n2B(A.device_vendorID)||i2B(A.device_name||"")||"",B.macDevice=(A.device_addr||A.device_address||"").toLowerCase().replace(/-/g,":"),B.macHost=Q,B.batteryPercent=A.device_batteryPercent||null,B.type=xHA(C),B.connected=A.device_isconnected==="attrib_Yes"||!1,B}function r2B(A){let Q={};return Q.device=null,Q.name=v6.getValue(A,"name",":"),Q.manufacturer=v6.getValue(A,"manufacturer",":"),Q.macDevice=null,Q.macHost=null,Q.batteryPercent=null,Q.type=xHA(Q.name.toLowerCase()),Q.connected=null,Q}function a2B(A){return new Promise((Q)=>{process.nextTick(()=>{let B=[];if(m2B){v6.getFilesInPath("/var/lib/bluetooth/").forEach((E)=>{let I=k2B.basename(E),Y=E.split("/"),G=Y.length>=6?Y[Y.length-2]:null,J=Y.length>=7?Y[Y.length-3]:null;if(I==="info"){let D=h2B.readFileSync(E,{encoding:"utf8"}).split(`
`);B.push(o2B(D,G,J))}});try{let E=y2B("hcitool con",v6.execOptsLinux).toString().toLowerCase();for(let I=0;I<B.length;I++)if(B[I].macDevice&&B[I].macDevice.length>10&&E.indexOf(B[I].macDevice.toLowerCase())>=0)B[I].connected=!0}catch(E){v6.noop()}if(A)A(B);Q(B)}if(f2B)v2B("system_profiler SPBluetoothDataType -json",function(E,I){if(!E)try{let Y=JSON.parse(I.toString());if(Y.SPBluetoothDataType&&Y.SPBluetoothDataType.length&&Y.SPBluetoothDataType[0]&&Y.SPBluetoothDataType[0].device_title&&Y.SPBluetoothDataType[0].device_title.length){let G=null;if(Y.SPBluetoothDataType[0].local_device_title&&Y.SPBluetoothDataType[0].local_device_title.general_address)G=Y.SPBluetoothDataType[0].local_device_title.general_address.toLowerCase().replace(/-/g,":");Y.SPBluetoothDataType[0].device_title.forEach((J)=>{let D=J,U=Object.keys(D);if(U&&U.length===1){let N=D[U[0]];N.device_name=U[0];let Z=jHA(N,G);B.push(Z)}})}if(Y.SPBluetoothDataType&&Y.SPBluetoothDataType.length&&Y.SPBluetoothDataType[0]&&Y.SPBluetoothDataType[0].device_connected&&Y.SPBluetoothDataType[0].device_connected.length){let G=Y.SPBluetoothDataType[0].controller_properties&&Y.SPBluetoothDataType[0].controller_properties.controller_address?Y.SPBluetoothDataType[0].controller_properties.controller_address.toLowerCase().replace(/-/g,":"):null;Y.SPBluetoothDataType[0].device_connected.forEach((J)=>{let D=J,U=Object.keys(D);if(U&&U.length===1){let N=D[U[0]];N.device_name=U[0],N.device_isconnected="attrib_Yes";let Z=jHA(N,G);B.push(Z)}})}if(Y.SPBluetoothDataType&&Y.SPBluetoothDataType.length&&Y.SPBluetoothDataType[0]&&Y.SPBluetoothDataType[0].device_not_connected&&Y.SPBluetoothDataType[0].device_not_connected.length){let G=Y.SPBluetoothDataType[0].controller_properties&&Y.SPBluetoothDataType[0].controller_properties.controller_address?Y.SPBluetoothDataType[0].controller_properties.controller_address.toLowerCase().replace(/-/g,":"):null;Y.SPBluetoothDataType[0].device_not_connected.forEach((J)=>{let D=J,U=Object.keys(D);if(U&&U.length===1){let N=D[U[0]];N.device_name=U[0],N.device_isconnected="attrib_No";let Z=jHA(N,G);B.push(Z)}})}}catch(Y){v6.noop()}if(A)A(B);Q(B)});if(d2B)v6.powerShell("Get-CimInstance Win32_PNPEntity | select PNPClass, Name, Manufacturer | fl").then((C,E)=>{if(!E)C.toString().split(/\n\s*\n/).forEach((Y)=>{if(v6.getValue(Y.split(`
`),"PNPClass",":")==="Bluetooth")B.push(r2B(Y.split(`
`)))});if(A)A(B);Q(B)});if(u2B||c2B||p2B||l2B)Q(null)})})}s2B.bluetoothDevices=a2B});var a1Q=m((av)=>{var e2B=G4Q().version,zK=aY(),$K=T4Q(),y6=P4Q(),eZ=v4Q(),zs=c4Q(),p1Q=n4Q(),c1Q=s4Q(),b4=B1Q(),k6=U1Q(),ws=H1Q(),sv=V1Q(),l1Q=$1Q(),SHA=T1Q(),MM=x1Q(),ADB=S1Q(),QDB=y1Q(),BDB=b1Q(),CDB=m1Q(),EDB=u1Q(),tv=process.platform,$s=tv==="win32",nv=tv==="freebsd",ov=tv==="openbsd",rv=tv==="netbsd",k4=tv==="sunos";if($s)zK.getCodepage(),zK.getPowershell();function i1Q(){return e2B}function n1Q(A){return new Promise((Q)=>{process.nextTick(()=>{let B={};B.version=i1Q(),Promise.all([$K.system(),$K.bios(),$K.baseboard(),$K.chassis(),y6.osInfo(),y6.uuid(),y6.versions(),eZ.cpu(),eZ.cpuFlags(),c1Q.graphics(),k6.networkInterfaces(),zs.memLayout(),b4.diskLayout()]).then((C)=>{if(B.system=C[0],B.bios=C[1],B.baseboard=C[2],B.chassis=C[3],B.os=C[4],B.uuid=C[5],B.versions=C[6],B.cpu=C[7],B.cpu.flags=C[8],B.graphics=C[9],B.net=C[10],B.memLayout=C[11],B.diskLayout=C[12],A)A(B);Q(B)})})})}function o1Q(A,Q,B){if(zK.isFunction(Q))B=Q,Q="";if(zK.isFunction(A))B=A,A="";return new Promise((C)=>{process.nextTick(()=>{Q=Q||k6.getDefaultNetworkInterface(),A=A||"";let E=function(){let Y=15;if($s)Y=13;if(nv||ov||rv)Y=11;if(k4)Y=6;return function(){if(--Y===0){if(B)B(I);C(I)}}}(),I={};if(I.time=y6.time(),I.node=process.versions.node,I.v8=process.versions.v8,eZ.cpuCurrentSpeed().then((Y)=>{I.cpuCurrentSpeed=Y,E()}),l1Q.users().then((Y)=>{I.users=Y,E()}),sv.processes().then((Y)=>{I.processes=Y,E()}),eZ.currentLoad().then((Y)=>{I.currentLoad=Y,E()}),!k4)eZ.cpuTemperature().then((Y)=>{I.temp=Y,E()});if(!ov&&!nv&&!rv&&!k4)k6.networkStats(Q).then((Y)=>{I.networkStats=Y,E()});if(!k4)k6.networkConnections().then((Y)=>{I.networkConnections=Y,E()});if(zs.mem().then((Y)=>{I.mem=Y,E()}),!k4)p1Q().then((Y)=>{I.battery=Y,E()});if(!k4)sv.services(A).then((Y)=>{I.services=Y,E()});if(!k4)b4.fsSize().then((Y)=>{I.fsSize=Y,E()});if(!$s&&!ov&&!nv&&!rv&&!k4)b4.fsStats().then((Y)=>{I.fsStats=Y,E()});if(!$s&&!ov&&!nv&&!rv&&!k4)b4.disksIO().then((Y)=>{I.disksIO=Y,E()});if(!ov&&!nv&&!rv&&!k4)ws.wifiNetworks().then((Y)=>{I.wifiNetworks=Y,E()});SHA.inetLatency().then((Y)=>{I.inetLatency=Y,E()})})})}function IDB(A,Q,B){return new Promise((C)=>{process.nextTick(()=>{let E={};if(Q&&zK.isFunction(Q)&&!B)B=Q,Q="";if(A&&zK.isFunction(A)&&!Q&&!B)B=A,A="",Q="";n1Q().then((I)=>{E=I,o1Q(A,Q).then((Y)=>{for(let G in Y)if({}.hasOwnProperty.call(Y,G))E[G]=Y[G];if(B)B(E);C(E)})})})})}function r1Q(A,Q){return new Promise((B)=>{process.nextTick(()=>{let C=Object.keys(A).filter((E)=>({}).hasOwnProperty.call(av,E)).map((E)=>{let I=A[E].substring(A[E].lastIndexOf("(")+1,A[E].lastIndexOf(")")),Y=E.indexOf(")")>=0?E.split(")")[1].trim():E;if(Y=E.indexOf("|")>=0?E.split("|")[0].trim():Y,I)return av[Y](I);else return av[Y]("")});Promise.all(C).then((E)=>{let I={},Y=0;for(let G in A)if({}.hasOwnProperty.call(A,G)&&{}.hasOwnProperty.call(av,G)&&E.length>Y){if(A[G]==="*"||A[G]==="all")I[G]=E[Y];else{let J=A[G],D="",U=[];if(J.indexOf(")")>=0)J=J.split(")")[1].trim();if(J.indexOf("|")>=0)D=J.split("|")[1].trim(),U=D.split(":"),J=J.split("|")[0].trim();if(J=J.replace(/,/g," ").replace(/ +/g," ").split(" "),E[Y])if(Array.isArray(E[Y])){let N=[];E[Y].forEach((Z)=>{let X={};if(J.length===1&&(J[0]==="*"||J[0]==="all"))X=Z;else J.forEach((W)=>{if({}.hasOwnProperty.call(Z,W))X[W]=Z[W]});if(D&&U.length===2){if({}.hasOwnProperty.call(X,U[0].trim())){let W=X[U[0].trim()];if(typeof W=="number"){if(W===parseFloat(U[1].trim()))N.push(X)}else if(typeof W=="string"){if(W.toLowerCase()===U[1].trim().toLowerCase())N.push(X)}}}else N.push(X)}),I[G]=N}else{let N={};J.forEach((Z)=>{if({}.hasOwnProperty.call(E[Y],Z))N[Z]=E[Y][Z]}),I[G]=N}else I[G]={}}Y++}if(Q)Q(I);B(I)})})})}function YDB(A,Q,B){let C=null;return setInterval(()=>{r1Q(A).then((I)=>{if(JSON.stringify(C)!==JSON.stringify(I))C=Object.assign({},I),B(I)})},Q)}av.version=i1Q;av.system=$K.system;av.bios=$K.bios;av.baseboard=$K.baseboard;av.chassis=$K.chassis;av.time=y6.time;av.osInfo=y6.osInfo;av.versions=y6.versions;av.shell=y6.shell;av.uuid=y6.uuid;av.cpu=eZ.cpu;av.cpuFlags=eZ.cpuFlags;av.cpuCache=eZ.cpuCache;av.cpuCurrentSpeed=eZ.cpuCurrentSpeed;av.cpuTemperature=eZ.cpuTemperature;av.currentLoad=eZ.currentLoad;av.fullLoad=eZ.fullLoad;av.mem=zs.mem;av.memLayout=zs.memLayout;av.battery=p1Q;av.graphics=c1Q.graphics;av.fsSize=b4.fsSize;av.fsOpenFiles=b4.fsOpenFiles;av.blockDevices=b4.blockDevices;av.fsStats=b4.fsStats;av.disksIO=b4.disksIO;av.diskLayout=b4.diskLayout;av.networkInterfaceDefault=k6.networkInterfaceDefault;av.networkGatewayDefault=k6.networkGatewayDefault;av.networkInterfaces=k6.networkInterfaces;av.networkStats=k6.networkStats;av.networkConnections=k6.networkConnections;av.wifiNetworks=ws.wifiNetworks;av.wifiInterfaces=ws.wifiInterfaces;av.wifiConnections=ws.wifiConnections;av.services=sv.services;av.processes=sv.processes;av.processLoad=sv.processLoad;av.users=l1Q.users;av.inetChecksite=SHA.inetChecksite;av.inetLatency=SHA.inetLatency;av.dockerInfo=MM.dockerInfo;av.dockerImages=MM.dockerImages;av.dockerContainers=MM.dockerContainers;av.dockerContainerStats=MM.dockerContainerStats;av.dockerContainerProcesses=MM.dockerContainerProcesses;av.dockerVolumes=MM.dockerVolumes;av.dockerAll=MM.dockerAll;av.vboxInfo=ADB.vboxInfo;av.printer=QDB.printer;av.usb=BDB.usb;av.audio=CDB.audio;av.bluetoothDevices=EDB.bluetoothDevices;av.getStaticData=n1Q;av.getDynamicData=o1Q;av.getAllData=IDB;av.get=r1Q;av.observe=YDB;av.powerShellStart=zK.powerShellStart;av.powerShellRelease=zK.powerShellRelease});var n5Q=m((tV0,i5Q)=>{var{hasOwnProperty:lHA}=Object.prototype,iHA=(A,Q={})=>{if(typeof Q==="string")Q={section:Q};Q.align=Q.align===!0,Q.newline=Q.newline===!0,Q.sort=Q.sort===!0,Q.whitespace=Q.whitespace===!0||Q.align===!0,Q.platform=Q.platform||typeof process!=="undefined"&&process.platform,Q.bracketedArray=Q.bracketedArray!==!1;let B=Q.platform==="win32"?`\r
`:`
`,C=Q.whitespace?" = ":"=",E=[],I=Q.sort?Object.keys(A).sort():Object.keys(A),Y=0;if(Q.align)Y=h6(I.filter((D)=>A[D]===null||Array.isArray(A[D])||typeof A[D]!=="object").map((D)=>Array.isArray(A[D])?`${D}[]`:D).concat([""]).reduce((D,U)=>h6(D).length>=h6(U).length?D:U)).length;let G="",J=Q.bracketedArray?"[]":"";for(let D of I){let U=A[D];if(U&&Array.isArray(U))for(let N of U)G+=h6(`${D}${J}`).padEnd(Y," ")+C+h6(N)+B;else if(U&&typeof U==="object")E.push(D);else G+=h6(D).padEnd(Y," ")+C+h6(U)+B}if(Q.section&&G.length)G="["+h6(Q.section)+"]"+(Q.newline?B+B:B)+G;for(let D of E){let U=c5Q(D,".").join("\\."),N=(Q.section?Q.section+".":"")+U,Z=iHA(A[D],{...Q,section:N});if(G.length&&Z.length)G+=B;G+=Z}return G};function c5Q(A,Q){var B=0,C=0,E=0,I=[];do if(E=A.indexOf(Q,B),E!==-1){if(B=E+Q.length,E>0&&A[E-1]==="\\")continue;I.push(A.slice(C,E)),C=E+Q.length}while(E!==-1);return I.push(A.slice(C)),I}var p5Q=(A,Q={})=>{Q.bracketedArray=Q.bracketedArray!==!1;let B=Object.create(null),C=B,E=null,I=/^\[([^\]]*)\]\s*$|^([^=]+)(=(.*))?$/i,Y=A.split(/[\r\n]+/g),G={};for(let D of Y){if(!D||D.match(/^\s*[;#]/)||D.match(/^\s*$/))continue;let U=D.match(I);if(!U)continue;if(U[1]!==void 0){if(E=qs(U[1]),E==="__proto__"){C=Object.create(null);continue}C=B[E]=B[E]||Object.create(null);continue}let N=qs(U[2]),Z;if(Q.bracketedArray)Z=N.length>2&&N.slice(-2)==="[]";else G[N]=(G?.[N]||0)+1,Z=G[N]>1;let X=Z&&N.endsWith("[]")?N.slice(0,-2):N;if(X==="__proto__")continue;let W=U[3]?qs(U[4]):!0,K=W==="true"||W==="false"||W==="null"?JSON.parse(W):W;if(Z){if(!lHA.call(C,X))C[X]=[];else if(!Array.isArray(C[X]))C[X]=[C[X]]}if(Array.isArray(C[X]))C[X].push(K);else C[X]=K}let J=[];for(let D of Object.keys(B)){if(!lHA.call(B,D)||typeof B[D]!=="object"||Array.isArray(B[D]))continue;let U=c5Q(D,".");C=B;let N=U.pop(),Z=N.replace(/\\\./g,".");for(let X of U){if(X==="__proto__")continue;if(!lHA.call(C,X)||typeof C[X]!=="object")C[X]=Object.create(null);C=C[X]}if(C===B&&Z===N)continue;C[Z]=B[D],J.push(D)}for(let D of J)delete B[D];return B},l5Q=(A)=>{return A.startsWith('"')&&A.endsWith('"')||A.startsWith("'")&&A.endsWith("'")},h6=(A)=>{if(typeof A!=="string"||A.match(/[=\r\n]/)||A.match(/^\[/)||A.length>1&&l5Q(A)||A!==A.trim())return JSON.stringify(A);return A.split(";").join("\\;").split("#").join("\\#")},qs=(A)=>{if(A=(A||"").trim(),l5Q(A)){if(A.charAt(0)==="'")A=A.slice(1,-1);try{A=JSON.parse(A)}catch{}}else{let Q=!1,B="";for(let C=0,E=A.length;C<E;C++){let I=A.charAt(C);if(Q){if("\\;#".indexOf(I)!==-1)B+=I;else B+="\\"+I;Q=!1}else if(";#".indexOf(I)!==-1)break;else if(I==="\\")Q=!0;else B+=I}if(Q)B+="\\";return B.trim()}return A};i5Q.exports={parse:p5Q,decode:p5Q,stringify:iHA,encode:iHA,safe:h6,unsafe:qs}});var r5Q=m((eV0,o5Q)=>{o5Q.exports=function(){function A(C,E){function I(){this.constructor=C}I.prototype=E.prototype,C.prototype=new I}function Q(C,E,I,Y,G,J){this.message=C,this.expected=E,this.found=I,this.offset=Y,this.line=G,this.column=J,this.name="SyntaxError"}A(Q,Error);function B(C){var E=arguments.length>1?arguments[1]:{},I={},Y={start:h$A},G=h$A,J=[],D=function(){return CzA},U=I,N="#",Z={type:"literal",value:"#",description:'"#"'},X=void 0,W={type:"any",description:"any character"},K="[",V={type:"literal",value:"[",description:'"["'},M="]",z={type:"literal",value:"]",description:'"]"'},L=function($){PQA(HJ("ObjectPath",$,XJ,FJ))},O=function($){PQA(HJ("ArrayPath",$,XJ,FJ))},R=function($,T){return $.concat(T)},_=function($){return[$]},S=function($){return $},q=".",y={type:"literal",value:".",description:'"."'},p="=",i={type:"literal",value:"=",description:'"="'},MA=function($,T){PQA(HJ("Assign",T,XJ,FJ,$))},d=function($){return $.join("")},AA=function($){return $.value},IA='"""',UA={type:"literal",value:'"""',description:'"\\"\\"\\""'},NA=null,bA=function($){return HJ("String",$.join(""),XJ,FJ)},FQ='"',IQ={type:"literal",value:'"',description:'"\\""'},KQ="'''",U0={type:"literal",value:"'''",description:`"'''"`},kJ="'",ED={type:"literal",value:"'",description:`"'"`},W8=function($){return $},KQA=function($){return $},VQA="\\",MQA={type:"literal",value:"\\",description:'"\\\\"'},$QA=function(){return""},zQA="e",Rb={type:"literal",value:"e",description:'"e"'},CQ="E",mQ={type:"literal",value:"E",description:'"E"'},QB=function($,T){return HJ("Float",parseFloat($+"e"+T),XJ,FJ)},zB=function($){return HJ("Float",parseFloat($),XJ,FJ)},MQ="+",_Q={type:"literal",value:"+",description:'"+"'},UB=function($){return $.join("")},_G="-",jG={type:"literal",value:"-",description:'"-"'},ID=function($){return"-"+$.join("")},XE=function($){return HJ("Integer",parseInt($,10),XJ,FJ)},L2="true",QG={type:"literal",value:"true",description:'"true"'},KV=function(){return HJ("Boolean",!0,XJ,FJ)},R$="false",gqQ={type:"literal",value:"false",description:'"false"'},vqQ=function(){return HJ("Boolean",!1,XJ,FJ)},yqQ=function(){return HJ("Array",[],XJ,FJ)},kqQ=function($){return HJ("Array",$?[$]:[],XJ,FJ)},bqQ=function($){return HJ("Array",$,XJ,FJ)},hqQ=function($,T){return HJ("Array",$.concat(T),XJ,FJ)},M$A=function($){return $},$$A=",",z$A={type:"literal",value:",",description:'","'},mqQ="{",fqQ={type:"literal",value:"{",description:'"{"'},dqQ="}",uqQ={type:"literal",value:"}",description:'"}"'},pqQ=function($){return HJ("InlineTable",$,XJ,FJ)},w$A=function($,T){return HJ("InlineTableValue",T,XJ,FJ,$)},cqQ=function($){return"."+$},lqQ=function($){return $.join("")},Nq=":",Zq={type:"literal",value:":",description:'":"'},L$A=function($){return $.join("")},O$A="T",R$A={type:"literal",value:"T",description:'"T"'},iqQ="Z",nqQ={type:"literal",value:"Z",description:'"Z"'},oqQ=function($,T){return HJ("Date",new Date($+"T"+T+"Z"),XJ,FJ)},rqQ=function($,T){return HJ("Date",new Date($+"T"+T),XJ,FJ)},aqQ=/^[ \t]/,sqQ={type:"class",value:"[ \\t]",description:"[ \\t]"},T$A=`
`,q$A={type:"literal",value:`
`,description:'"\\n"'},tqQ="\r",eqQ={type:"literal",value:"\r",description:'"\\r"'},APQ=/^[0-9a-f]/i,QPQ={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},BPQ=/^[0-9]/,CPQ={type:"class",value:"[0-9]",description:"[0-9]"},EPQ="_",IPQ={type:"literal",value:"_",description:'"_"'},YPQ=function(){return""},GPQ=/^[A-Za-z0-9_\-]/,JPQ={type:"class",value:"[A-Za-z0-9_\\-]",description:"[A-Za-z0-9_\\-]"},DPQ=function($){return $.join("")},P$A="\\\"",UPQ={type:"literal",value:"\\\"",description:'"\\\\\\""'},NPQ=function(){return'"'},_$A="\\\\",ZPQ={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},XPQ=function(){return"\\"},j$A="\\b",FPQ={type:"literal",value:"\\b",description:'"\\\\b"'},HPQ=function(){return"\b"},x$A="\\t",WPQ={type:"literal",value:"\\t",description:'"\\\\t"'},KPQ=function(){return"\t"},S$A="\\n",VPQ={type:"literal",value:"\\n",description:'"\\\\n"'},MPQ=function(){return`
`},g$A="\\f",$PQ={type:"literal",value:"\\f",description:'"\\\\f"'},zPQ=function(){return"\f"},v$A="\\r",wPQ={type:"literal",value:"\\r",description:'"\\\\r"'},LPQ=function(){return"\r"},y$A="\\U",OPQ={type:"literal",value:"\\U",description:'"\\\\U"'},k$A=function($){return cPQ($.join(""))},b$A="\\u",RPQ={type:"literal",value:"\\u",description:'"\\\\u"'},w=0,jQ=0,Xq=0,wQA={line:1,column:1,seenCR:!1},Tb=0,LQA=[],vA=0,uA={},qb;if("startRule"in E){if(!(E.startRule in Y))throw new Error(`Can't start parsing from rule "`+E.startRule+'".');G=Y[E.startRule]}function SvB(){return C.substring(jQ,w)}function gvB(){return jQ}function XJ(){return OQA(jQ).line}function FJ(){return OQA(jQ).column}function vvB($){throw RQA(null,[{type:"other",description:$}],jQ)}function yvB($){throw RQA($,null,jQ)}function OQA($){function T(P,k,l){var YA,RA;for(YA=k;YA<l;YA++)if(RA=C.charAt(YA),RA===`
`){if(!P.seenCR)P.line++;P.column=1,P.seenCR=!1}else if(RA==="\r"||RA==="\u2028"||RA==="\u2029")P.line++,P.column=1,P.seenCR=!0;else P.column++,P.seenCR=!1}if(Xq!==$){if(Xq>$)Xq=0,wQA={line:1,column:1,seenCR:!1};T(wQA,Xq,$),Xq=$}return wQA}function oA($){if(w<Tb)return;if(w>Tb)Tb=w,LQA=[];LQA.push($)}function RQA($,T,P){function k(HQ){var fB=1;HQ.sort(function(eC,OC){if(eC.description<OC.description)return-1;else if(eC.description>OC.description)return 1;else return 0});while(fB<HQ.length)if(HQ[fB-1]===HQ[fB])HQ.splice(fB,1);else fB++}function l(HQ,fB){function eC(q$){function WF(BU){return BU.charCodeAt(0).toString(16).toUpperCase()}return q$.replace(/\\/g,"\\\\").replace(/"/g,"\\\"").replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(BU){return"\\x0"+WF(BU)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(BU){return"\\x"+WF(BU)}).replace(/[\u0180-\u0FFF]/g,function(BU){return"\\u0"+WF(BU)}).replace(/[\u1080-\uFFFF]/g,function(BU){return"\\u"+WF(BU)})}var OC=new Array(HQ.length),_I,NY,QU;for(QU=0;QU<HQ.length;QU++)OC[QU]=HQ[QU].description;return _I=HQ.length>1?OC.slice(0,-1).join(", ")+" or "+OC[HQ.length-1]:OC[0],NY=fB?'"'+eC(fB)+'"':"end of input","Expected "+_I+" but "+NY+" found."}var YA=OQA(P),RA=P<C.length?C.charAt(P):null;if(T!==null)k(T);return new Q($!==null?$:l(T,RA),T,RA,P,YA.line,YA.column)}function h$A(){var $,T,P,k=w*49+0,l=uA[k];if(l)return w=l.nextPos,l.result;$=w,T=[],P=m$A();while(P!==I)T.push(P),P=m$A();if(T!==I)jQ=$,T=D();return $=T,uA[k]={nextPos:w,result:$},$}function m$A(){var $,T,P,k,l,YA,RA,HQ=w*49+1,fB=uA[HQ];if(fB)return w=fB.nextPos,fB.result;$=w,T=[],P=xQ();while(P!==I)T.push(P),P=xQ();if(T!==I)if(P=TPQ(),P!==I){k=[],l=xQ();while(l!==I)k.push(l),l=xQ();if(k!==I){l=[],YA=Pb();while(YA!==I)l.push(YA),YA=Pb();if(l!==I){if(YA=[],RA=$N(),RA!==I)while(RA!==I)YA.push(RA),RA=$N();else YA=U;if(YA===I)YA=jb();if(YA!==I)T=[T,P,k,l,YA],$=T;else w=$,$=U}else w=$,$=U}else w=$,$=U}else w=$,$=U;else w=$,$=U;if($===I){if($=w,T=[],P=xQ(),P!==I)while(P!==I)T.push(P),P=xQ();else T=U;if(T!==I){if(P=[],k=$N(),k!==I)while(k!==I)P.push(k),k=$N();else P=U;if(P===I)P=jb();if(P!==I)T=[T,P],$=T;else w=$,$=U}else w=$,$=U;if($===I)$=$N()}return uA[HQ]={nextPos:w,result:$},$}function TPQ(){var $,T=w*49+2,P=uA[T];if(P)return w=P.nextPos,P.result;if($=Pb(),$===I){if($=qPQ(),$===I){if($=PPQ(),$===I)$=_PQ()}}return uA[T]={nextPos:w,result:$},$}function Pb(){var $,T,P,k,l,YA,RA=w*49+3,HQ=uA[RA];if(HQ)return w=HQ.nextPos,HQ.result;if($=w,C.charCodeAt(w)===35)T=N,w++;else if(T=I,vA===0)oA(Z);if(T!==I){if(P=[],k=w,l=w,vA++,YA=$N(),YA===I)YA=jb();if(vA--,YA===I)l=X;else w=l,l=U;if(l!==I){if(C.length>w)YA=C.charAt(w),w++;else if(YA=I,vA===0)oA(W);if(YA!==I)l=[l,YA],k=l;else w=k,k=U}else w=k,k=U;while(k!==I){if(P.push(k),k=w,l=w,vA++,YA=$N(),YA===I)YA=jb();if(vA--,YA===I)l=X;else w=l,l=U;if(l!==I){if(C.length>w)YA=C.charAt(w),w++;else if(YA=I,vA===0)oA(W);if(YA!==I)l=[l,YA],k=l;else w=k,k=U}else w=k,k=U}if(P!==I)T=[T,P],$=T;else w=$,$=U}else w=$,$=U;return uA[RA]={nextPos:w,result:$},$}function qPQ(){var $,T,P,k,l,YA,RA=w*49+4,HQ=uA[RA];if(HQ)return w=HQ.nextPos,HQ.result;if($=w,C.charCodeAt(w)===91)T=K,w++;else if(T=I,vA===0)oA(V);if(T!==I){P=[],k=xQ();while(k!==I)P.push(k),k=xQ();if(P!==I)if(k=f$A(),k!==I){l=[],YA=xQ();while(YA!==I)l.push(YA),YA=xQ();if(l!==I){if(C.charCodeAt(w)===93)YA=M,w++;else if(YA=I,vA===0)oA(z);if(YA!==I)jQ=$,T=L(k),$=T;else w=$,$=U}else w=$,$=U}else w=$,$=U;else w=$,$=U}else w=$,$=U;return uA[RA]={nextPos:w,result:$},$}function PPQ(){var $,T,P,k,l,YA,RA,HQ,fB=w*49+5,eC=uA[fB];if(eC)return w=eC.nextPos,eC.result;if($=w,C.charCodeAt(w)===91)T=K,w++;else if(T=I,vA===0)oA(V);if(T!==I){if(C.charCodeAt(w)===91)P=K,w++;else if(P=I,vA===0)oA(V);if(P!==I){k=[],l=xQ();while(l!==I)k.push(l),l=xQ();if(k!==I)if(l=f$A(),l!==I){YA=[],RA=xQ();while(RA!==I)YA.push(RA),RA=xQ();if(YA!==I){if(C.charCodeAt(w)===93)RA=M,w++;else if(RA=I,vA===0)oA(z);if(RA!==I){if(C.charCodeAt(w)===93)HQ=M,w++;else if(HQ=I,vA===0)oA(z);if(HQ!==I)jQ=$,T=O(l),$=T;else w=$,$=U}else w=$,$=U}else w=$,$=U}else w=$,$=U;else w=$,$=U}else w=$,$=U}else w=$,$=U;return uA[fB]={nextPos:w,result:$},$}function f$A(){var $,T,P,k=w*49+6,l=uA[k];if(l)return w=l.nextPos,l.result;if($=w,T=[],P=u$A(),P!==I)while(P!==I)T.push(P),P=u$A();else T=U;if(T!==I)if(P=d$A(),P!==I)jQ=$,T=R(T,P),$=T;else w=$,$=U;else w=$,$=U;if($===I){if($=w,T=d$A(),T!==I)jQ=$,T=_(T);$=T}return uA[k]={nextPos:w,result:$},$}function d$A(){var $,T,P,k,l,YA=w*49+7,RA=uA[YA];if(RA)return w=RA.nextPos,RA.result;$=w,T=[],P=xQ();while(P!==I)T.push(P),P=xQ();if(T!==I)if(P=Fq(),P!==I){k=[],l=xQ();while(l!==I)k.push(l),l=xQ();if(k!==I)jQ=$,T=S(P),$=T;else w=$,$=U}else w=$,$=U;else w=$,$=U;if($===I){$=w,T=[],P=xQ();while(P!==I)T.push(P),P=xQ();if(T!==I)if(P=TQA(),P!==I){k=[],l=xQ();while(l!==I)k.push(l),l=xQ();if(k!==I)jQ=$,T=S(P),$=T;else w=$,$=U}else w=$,$=U;else w=$,$=U}return uA[YA]={nextPos:w,result:$},$}function u$A(){var $,T,P,k,l,YA,RA,HQ=w*49+8,fB=uA[HQ];if(fB)return w=fB.nextPos,fB.result;$=w,T=[],P=xQ();while(P!==I)T.push(P),P=xQ();if(T!==I)if(P=Fq(),P!==I){k=[],l=xQ();while(l!==I)k.push(l),l=xQ();if(k!==I){if(C.charCodeAt(w)===46)l=q,w++;else if(l=I,vA===0)oA(y);if(l!==I){YA=[],RA=xQ();while(RA!==I)YA.push(RA),RA=xQ();if(YA!==I)jQ=$,T=S(P),$=T;else w=$,$=U}else w=$,$=U}else w=$,$=U}else w=$,$=U;else w=$,$=U;if($===I){$=w,T=[],P=xQ();while(P!==I)T.push(P),P=xQ();if(T!==I)if(P=TQA(),P!==I){k=[],l=xQ();while(l!==I)k.push(l),l=xQ();if(k!==I){if(C.charCodeAt(w)===46)l=q,w++;else if(l=I,vA===0)oA(y);if(l!==I){YA=[],RA=xQ();while(RA!==I)YA.push(RA),RA=xQ();if(YA!==I)jQ=$,T=S(P),$=T;else w=$,$=U}else w=$,$=U}else w=$,$=U}else w=$,$=U;else w=$,$=U}return uA[HQ]={nextPos:w,result:$},$}function _PQ(){var $,T,P,k,l,YA,RA=w*49+9,HQ=uA[RA];if(HQ)return w=HQ.nextPos,HQ.result;if($=w,T=Fq(),T!==I){P=[],k=xQ();while(k!==I)P.push(k),k=xQ();if(P!==I){if(C.charCodeAt(w)===61)k=p,w++;else if(k=I,vA===0)oA(i);if(k!==I){l=[],YA=xQ();while(YA!==I)l.push(YA),YA=xQ();if(l!==I)if(YA=T$(),YA!==I)jQ=$,T=MA(T,YA),$=T;else w=$,$=U;else w=$,$=U}else w=$,$=U}else w=$,$=U}else w=$,$=U;if($===I)if($=w,T=TQA(),T!==I){P=[],k=xQ();while(k!==I)P.push(k),k=xQ();if(P!==I){if(C.charCodeAt(w)===61)k=p,w++;else if(k=I,vA===0)oA(i);if(k!==I){l=[],YA=xQ();while(YA!==I)l.push(YA),YA=xQ();if(l!==I)if(YA=T$(),YA!==I)jQ=$,T=MA(T,YA),$=T;else w=$,$=U;else w=$,$=U}else w=$,$=U}else w=$,$=U}else w=$,$=U;return uA[RA]={nextPos:w,result:$},$}function Fq(){var $,T,P,k=w*49+10,l=uA[k];if(l)return w=l.nextPos,l.result;if($=w,T=[],P=QzA(),P!==I)while(P!==I)T.push(P),P=QzA();else T=U;if(T!==I)jQ=$,T=d(T);return $=T,uA[k]={nextPos:w,result:$},$}function TQA(){var $,T,P=w*49+11,k=uA[P];if(k)return w=k.nextPos,k.result;if($=w,T=p$A(),T!==I)jQ=$,T=AA(T);if($=T,$===I){if($=w,T=c$A(),T!==I)jQ=$,T=AA(T);$=T}return uA[P]={nextPos:w,result:$},$}function T$(){var $,T=w*49+12,P=uA[T];if(P)return w=P.nextPos,P.result;if($=jPQ(),$===I){if($=dPQ(),$===I){if($=vPQ(),$===I){if($=yPQ(),$===I){if($=kPQ(),$===I){if($=bPQ(),$===I)$=hPQ()}}}}}return uA[T]={nextPos:w,result:$},$}function jPQ(){var $,T=w*49+13,P=uA[T];if(P)return w=P.nextPos,P.result;if($=xPQ(),$===I){if($=p$A(),$===I){if($=SPQ(),$===I)$=c$A()}}return uA[T]={nextPos:w,result:$},$}function xPQ(){var $,T,P,k,l,YA=w*49+14,RA=uA[YA];if(RA)return w=RA.nextPos,RA.result;if($=w,C.substr(w,3)===IA)T=IA,w+=3;else if(T=I,vA===0)oA(UA);if(T!==I){if(P=$N(),P===I)P=NA;if(P!==I){k=[],l=n$A();while(l!==I)k.push(l),l=n$A();if(k!==I){if(C.substr(w,3)===IA)l=IA,w+=3;else if(l=I,vA===0)oA(UA);if(l!==I)jQ=$,T=bA(k),$=T;else w=$,$=U}else w=$,$=U}else w=$,$=U}else w=$,$=U;return uA[YA]={nextPos:w,result:$},$}function p$A(){var $,T,P,k,l=w*49+15,YA=uA[l];if(YA)return w=YA.nextPos,YA.result;if($=w,C.charCodeAt(w)===34)T=FQ,w++;else if(T=I,vA===0)oA(IQ);if(T!==I){P=[],k=l$A();while(k!==I)P.push(k),k=l$A();if(P!==I){if(C.charCodeAt(w)===34)k=FQ,w++;else if(k=I,vA===0)oA(IQ);if(k!==I)jQ=$,T=bA(P),$=T;else w=$,$=U}else w=$,$=U}else w=$,$=U;return uA[l]={nextPos:w,result:$},$}function SPQ(){var $,T,P,k,l,YA=w*49+16,RA=uA[YA];if(RA)return w=RA.nextPos,RA.result;if($=w,C.substr(w,3)===KQ)T=KQ,w+=3;else if(T=I,vA===0)oA(U0);if(T!==I){if(P=$N(),P===I)P=NA;if(P!==I){k=[],l=o$A();while(l!==I)k.push(l),l=o$A();if(k!==I){if(C.substr(w,3)===KQ)l=KQ,w+=3;else if(l=I,vA===0)oA(U0);if(l!==I)jQ=$,T=bA(k),$=T;else w=$,$=U}else w=$,$=U}else w=$,$=U}else w=$,$=U;return uA[YA]={nextPos:w,result:$},$}function c$A(){var $,T,P,k,l=w*49+17,YA=uA[l];if(YA)return w=YA.nextPos,YA.result;if($=w,C.charCodeAt(w)===39)T=kJ,w++;else if(T=I,vA===0)oA(ED);if(T!==I){P=[],k=i$A();while(k!==I)P.push(k),k=i$A();if(P!==I){if(C.charCodeAt(w)===39)k=kJ,w++;else if(k=I,vA===0)oA(ED);if(k!==I)jQ=$,T=bA(P),$=T;else w=$,$=U}else w=$,$=U}else w=$,$=U;return uA[l]={nextPos:w,result:$},$}function l$A(){var $,T,P,k=w*49+18,l=uA[k];if(l)return w=l.nextPos,l.result;if($=BzA(),$===I){if($=w,T=w,vA++,C.charCodeAt(w)===34)P=FQ,w++;else if(P=I,vA===0)oA(IQ);if(vA--,P===I)T=X;else w=T,T=U;if(T!==I){if(C.length>w)P=C.charAt(w),w++;else if(P=I,vA===0)oA(W);if(P!==I)jQ=$,T=W8(P),$=T;else w=$,$=U}else w=$,$=U}return uA[k]={nextPos:w,result:$},$}function i$A(){var $,T,P,k=w*49+19,l=uA[k];if(l)return w=l.nextPos,l.result;if($=w,T=w,vA++,C.charCodeAt(w)===39)P=kJ,w++;else if(P=I,vA===0)oA(ED);if(vA--,P===I)T=X;else w=T,T=U;if(T!==I){if(C.length>w)P=C.charAt(w),w++;else if(P=I,vA===0)oA(W);if(P!==I)jQ=$,T=W8(P),$=T;else w=$,$=U}else w=$,$=U;return uA[k]={nextPos:w,result:$},$}function n$A(){var $,T,P,k=w*49+20,l=uA[k];if(l)return w=l.nextPos,l.result;if($=BzA(),$===I){if($=gPQ(),$===I){if($=w,T=w,vA++,C.substr(w,3)===IA)P=IA,w+=3;else if(P=I,vA===0)oA(UA);if(vA--,P===I)T=X;else w=T,T=U;if(T!==I){if(C.length>w)P=C.charAt(w),w++;else if(P=I,vA===0)oA(W);if(P!==I)jQ=$,T=KQA(P),$=T;else w=$,$=U}else w=$,$=U}}return uA[k]={nextPos:w,result:$},$}function gPQ(){var $,T,P,k,l,YA=w*49+21,RA=uA[YA];if(RA)return w=RA.nextPos,RA.result;if($=w,C.charCodeAt(w)===92)T=VQA,w++;else if(T=I,vA===0)oA(MQA);if(T!==I)if(P=$N(),P!==I){k=[],l=AzA();while(l!==I)k.push(l),l=AzA();if(k!==I)jQ=$,T=$QA(),$=T;else w=$,$=U}else w=$,$=U;else w=$,$=U;return uA[YA]={nextPos:w,result:$},$}function o$A(){var $,T,P,k=w*49+22,l=uA[k];if(l)return w=l.nextPos,l.result;if($=w,T=w,vA++,C.substr(w,3)===KQ)P=KQ,w+=3;else if(P=I,vA===0)oA(U0);if(vA--,P===I)T=X;else w=T,T=U;if(T!==I){if(C.length>w)P=C.charAt(w),w++;else if(P=I,vA===0)oA(W);if(P!==I)jQ=$,T=W8(P),$=T;else w=$,$=U}else w=$,$=U;return uA[k]={nextPos:w,result:$},$}function vPQ(){var $,T,P,k,l=w*49+23,YA=uA[l];if(YA)return w=YA.nextPos,YA.result;if($=w,T=r$A(),T===I)T=qQA();if(T!==I){if(C.charCodeAt(w)===101)P=zQA,w++;else if(P=I,vA===0)oA(Rb);if(P===I){if(C.charCodeAt(w)===69)P=CQ,w++;else if(P=I,vA===0)oA(mQ)}if(P!==I)if(k=qQA(),k!==I)jQ=$,T=QB(T,k),$=T;else w=$,$=U;else w=$,$=U}else w=$,$=U;if($===I){if($=w,T=r$A(),T!==I)jQ=$,T=zB(T);$=T}return uA[l]={nextPos:w,result:$},$}function r$A(){var $,T,P,k,l,YA,RA=w*49+24,HQ=uA[RA];if(HQ)return w=HQ.nextPos,HQ.result;if($=w,C.charCodeAt(w)===43)T=MQ,w++;else if(T=I,vA===0)oA(_Q);if(T===I)T=NA;if(T!==I){if(P=w,k=Hq(),k!==I){if(C.charCodeAt(w)===46)l=q,w++;else if(l=I,vA===0)oA(y);if(l!==I)if(YA=Hq(),YA!==I)k=[k,l,YA],P=k;else w=P,P=U;else w=P,P=U}else w=P,P=U;if(P!==I)jQ=$,T=UB(P),$=T;else w=$,$=U}else w=$,$=U;if($===I){if($=w,C.charCodeAt(w)===45)T=_G,w++;else if(T=I,vA===0)oA(jG);if(T!==I){if(P=w,k=Hq(),k!==I){if(C.charCodeAt(w)===46)l=q,w++;else if(l=I,vA===0)oA(y);if(l!==I)if(YA=Hq(),YA!==I)k=[k,l,YA],P=k;else w=P,P=U;else w=P,P=U}else w=P,P=U;if(P!==I)jQ=$,T=ID(P),$=T;else w=$,$=U}else w=$,$=U}return uA[RA]={nextPos:w,result:$},$}function yPQ(){var $,T,P=w*49+25,k=uA[P];if(k)return w=k.nextPos,k.result;if($=w,T=qQA(),T!==I)jQ=$,T=XE(T);return $=T,uA[P]={nextPos:w,result:$},$}function qQA(){var $,T,P,k,l,YA=w*49+26,RA=uA[YA];if(RA)return w=RA.nextPos,RA.result;if($=w,C.charCodeAt(w)===43)T=MQ,w++;else if(T=I,vA===0)oA(_Q);if(T===I)T=NA;if(T!==I){if(P=[],k=pC(),k!==I)while(k!==I)P.push(k),k=pC();else P=U;if(P!==I){if(k=w,vA++,C.charCodeAt(w)===46)l=q,w++;else if(l=I,vA===0)oA(y);if(vA--,l===I)k=X;else w=k,k=U;if(k!==I)jQ=$,T=UB(P),$=T;else w=$,$=U}else w=$,$=U}else w=$,$=U;if($===I){if($=w,C.charCodeAt(w)===45)T=_G,w++;else if(T=I,vA===0)oA(jG);if(T!==I){if(P=[],k=pC(),k!==I)while(k!==I)P.push(k),k=pC();else P=U;if(P!==I){if(k=w,vA++,C.charCodeAt(w)===46)l=q,w++;else if(l=I,vA===0)oA(y);if(vA--,l===I)k=X;else w=k,k=U;if(k!==I)jQ=$,T=ID(P),$=T;else w=$,$=U}else w=$,$=U}else w=$,$=U}return uA[YA]={nextPos:w,result:$},$}function kPQ(){var $,T,P=w*49+27,k=uA[P];if(k)return w=k.nextPos,k.result;if($=w,C.substr(w,4)===L2)T=L2,w+=4;else if(T=I,vA===0)oA(QG);if(T!==I)jQ=$,T=KV();if($=T,$===I){if($=w,C.substr(w,5)===R$)T=R$,w+=5;else if(T=I,vA===0)oA(gqQ);if(T!==I)jQ=$,T=vqQ();$=T}return uA[P]={nextPos:w,result:$},$}function bPQ(){var $,T,P,k,l,YA=w*49+28,RA=uA[YA];if(RA)return w=RA.nextPos,RA.result;if($=w,C.charCodeAt(w)===91)T=K,w++;else if(T=I,vA===0)oA(V);if(T!==I){P=[],k=MN();while(k!==I)P.push(k),k=MN();if(P!==I){if(C.charCodeAt(w)===93)k=M,w++;else if(k=I,vA===0)oA(z);if(k!==I)jQ=$,T=yqQ(),$=T;else w=$,$=U}else w=$,$=U}else w=$,$=U;if($===I){if($=w,C.charCodeAt(w)===91)T=K,w++;else if(T=I,vA===0)oA(V);if(T!==I){if(P=a$A(),P===I)P=NA;if(P!==I){if(C.charCodeAt(w)===93)k=M,w++;else if(k=I,vA===0)oA(z);if(k!==I)jQ=$,T=kqQ(P),$=T;else w=$,$=U}else w=$,$=U}else w=$,$=U;if($===I){if($=w,C.charCodeAt(w)===91)T=K,w++;else if(T=I,vA===0)oA(V);if(T!==I){if(P=[],k=_b(),k!==I)while(k!==I)P.push(k),k=_b();else P=U;if(P!==I){if(C.charCodeAt(w)===93)k=M,w++;else if(k=I,vA===0)oA(z);if(k!==I)jQ=$,T=bqQ(P),$=T;else w=$,$=U}else w=$,$=U}else w=$,$=U;if($===I){if($=w,C.charCodeAt(w)===91)T=K,w++;else if(T=I,vA===0)oA(V);if(T!==I){if(P=[],k=_b(),k!==I)while(k!==I)P.push(k),k=_b();else P=U;if(P!==I)if(k=a$A(),k!==I){if(C.charCodeAt(w)===93)l=M,w++;else if(l=I,vA===0)oA(z);if(l!==I)jQ=$,T=hqQ(P,k),$=T;else w=$,$=U}else w=$,$=U;else w=$,$=U}else w=$,$=U}}}return uA[YA]={nextPos:w,result:$},$}function a$A(){var $,T,P,k,l,YA=w*49+29,RA=uA[YA];if(RA)return w=RA.nextPos,RA.result;$=w,T=[],P=MN();while(P!==I)T.push(P),P=MN();if(T!==I)if(P=T$(),P!==I){k=[],l=MN();while(l!==I)k.push(l),l=MN();if(k!==I)jQ=$,T=M$A(P),$=T;else w=$,$=U}else w=$,$=U;else w=$,$=U;return uA[YA]={nextPos:w,result:$},$}function _b(){var $,T,P,k,l,YA,RA,HQ=w*49+30,fB=uA[HQ];if(fB)return w=fB.nextPos,fB.result;$=w,T=[],P=MN();while(P!==I)T.push(P),P=MN();if(T!==I)if(P=T$(),P!==I){k=[],l=MN();while(l!==I)k.push(l),l=MN();if(k!==I){if(C.charCodeAt(w)===44)l=$$A,w++;else if(l=I,vA===0)oA(z$A);if(l!==I){YA=[],RA=MN();while(RA!==I)YA.push(RA),RA=MN();if(YA!==I)jQ=$,T=M$A(P),$=T;else w=$,$=U}else w=$,$=U}else w=$,$=U}else w=$,$=U;else w=$,$=U;return uA[HQ]={nextPos:w,result:$},$}function MN(){var $,T=w*49+31,P=uA[T];if(P)return w=P.nextPos,P.result;if($=xQ(),$===I){if($=$N(),$===I)$=Pb()}return uA[T]={nextPos:w,result:$},$}function hPQ(){var $,T,P,k,l,YA,RA=w*49+32,HQ=uA[RA];if(HQ)return w=HQ.nextPos,HQ.result;if($=w,C.charCodeAt(w)===123)T=mqQ,w++;else if(T=I,vA===0)oA(fqQ);if(T!==I){P=[],k=xQ();while(k!==I)P.push(k),k=xQ();if(P!==I){k=[],l=s$A();while(l!==I)k.push(l),l=s$A();if(k!==I){l=[],YA=xQ();while(YA!==I)l.push(YA),YA=xQ();if(l!==I){if(C.charCodeAt(w)===125)YA=dqQ,w++;else if(YA=I,vA===0)oA(uqQ);if(YA!==I)jQ=$,T=pqQ(k),$=T;else w=$,$=U}else w=$,$=U}else w=$,$=U}else w=$,$=U}else w=$,$=U;return uA[RA]={nextPos:w,result:$},$}function s$A(){var $,T,P,k,l,YA,RA,HQ,fB,eC,OC,_I=w*49+33,NY=uA[_I];if(NY)return w=NY.nextPos,NY.result;$=w,T=[],P=xQ();while(P!==I)T.push(P),P=xQ();if(T!==I)if(P=Fq(),P!==I){k=[],l=xQ();while(l!==I)k.push(l),l=xQ();if(k!==I){if(C.charCodeAt(w)===61)l=p,w++;else if(l=I,vA===0)oA(i);if(l!==I){YA=[],RA=xQ();while(RA!==I)YA.push(RA),RA=xQ();if(YA!==I)if(RA=T$(),RA!==I){HQ=[],fB=xQ();while(fB!==I)HQ.push(fB),fB=xQ();if(HQ!==I){if(C.charCodeAt(w)===44)fB=$$A,w++;else if(fB=I,vA===0)oA(z$A);if(fB!==I){eC=[],OC=xQ();while(OC!==I)eC.push(OC),OC=xQ();if(eC!==I)jQ=$,T=w$A(P,RA),$=T;else w=$,$=U}else w=$,$=U}else w=$,$=U}else w=$,$=U;else w=$,$=U}else w=$,$=U}else w=$,$=U}else w=$,$=U;else w=$,$=U;if($===I){$=w,T=[],P=xQ();while(P!==I)T.push(P),P=xQ();if(T!==I)if(P=Fq(),P!==I){k=[],l=xQ();while(l!==I)k.push(l),l=xQ();if(k!==I){if(C.charCodeAt(w)===61)l=p,w++;else if(l=I,vA===0)oA(i);if(l!==I){YA=[],RA=xQ();while(RA!==I)YA.push(RA),RA=xQ();if(YA!==I)if(RA=T$(),RA!==I)jQ=$,T=w$A(P,RA),$=T;else w=$,$=U;else w=$,$=U}else w=$,$=U}else w=$,$=U}else w=$,$=U;else w=$,$=U}return uA[_I]={nextPos:w,result:$},$}function t$A(){var $,T,P,k=w*49+34,l=uA[k];if(l)return w=l.nextPos,l.result;if($=w,C.charCodeAt(w)===46)T=q,w++;else if(T=I,vA===0)oA(y);if(T!==I)if(P=Hq(),P!==I)jQ=$,T=cqQ(P),$=T;else w=$,$=U;else w=$,$=U;return uA[k]={nextPos:w,result:$},$}function e$A(){var $,T,P,k,l,YA,RA,HQ,fB,eC,OC,_I,NY=w*49+35,QU=uA[NY];if(QU)return w=QU.nextPos,QU.result;if($=w,T=w,P=pC(),P!==I)if(k=pC(),k!==I)if(l=pC(),l!==I)if(YA=pC(),YA!==I){if(C.charCodeAt(w)===45)RA=_G,w++;else if(RA=I,vA===0)oA(jG);if(RA!==I)if(HQ=pC(),HQ!==I)if(fB=pC(),fB!==I){if(C.charCodeAt(w)===45)eC=_G,w++;else if(eC=I,vA===0)oA(jG);if(eC!==I)if(OC=pC(),OC!==I)if(_I=pC(),_I!==I)P=[P,k,l,YA,RA,HQ,fB,eC,OC,_I],T=P;else w=T,T=U;else w=T,T=U;else w=T,T=U}else w=T,T=U;else w=T,T=U;else w=T,T=U}else w=T,T=U;else w=T,T=U;else w=T,T=U;else w=T,T=U;if(T!==I)jQ=$,T=lqQ(T);return $=T,uA[NY]={nextPos:w,result:$},$}function mPQ(){var $,T,P,k,l,YA,RA,HQ,fB,eC,OC,_I=w*49+36,NY=uA[_I];if(NY)return w=NY.nextPos,NY.result;if($=w,T=w,P=pC(),P!==I)if(k=pC(),k!==I){if(C.charCodeAt(w)===58)l=Nq,w++;else if(l=I,vA===0)oA(Zq);if(l!==I)if(YA=pC(),YA!==I)if(RA=pC(),RA!==I){if(C.charCodeAt(w)===58)HQ=Nq,w++;else if(HQ=I,vA===0)oA(Zq);if(HQ!==I)if(fB=pC(),fB!==I)if(eC=pC(),eC!==I){if(OC=t$A(),OC===I)OC=NA;if(OC!==I)P=[P,k,l,YA,RA,HQ,fB,eC,OC],T=P;else w=T,T=U}else w=T,T=U;else w=T,T=U;else w=T,T=U}else w=T,T=U;else w=T,T=U;else w=T,T=U}else w=T,T=U;else w=T,T=U;if(T!==I)jQ=$,T=L$A(T);return $=T,uA[_I]={nextPos:w,result:$},$}function fPQ(){var $,T,P,k,l,YA,RA,HQ,fB,eC,OC,_I,NY,QU,q$,WF,BU,EzA=w*49+37,_QA=uA[EzA];if(_QA)return w=_QA.nextPos,_QA.result;if($=w,T=w,P=pC(),P!==I)if(k=pC(),k!==I){if(C.charCodeAt(w)===58)l=Nq,w++;else if(l=I,vA===0)oA(Zq);if(l!==I)if(YA=pC(),YA!==I)if(RA=pC(),RA!==I){if(C.charCodeAt(w)===58)HQ=Nq,w++;else if(HQ=I,vA===0)oA(Zq);if(HQ!==I)if(fB=pC(),fB!==I)if(eC=pC(),eC!==I){if(OC=t$A(),OC===I)OC=NA;if(OC!==I){if(C.charCodeAt(w)===45)_I=_G,w++;else if(_I=I,vA===0)oA(jG);if(_I===I){if(C.charCodeAt(w)===43)_I=MQ,w++;else if(_I=I,vA===0)oA(_Q)}if(_I!==I)if(NY=pC(),NY!==I)if(QU=pC(),QU!==I){if(C.charCodeAt(w)===58)q$=Nq,w++;else if(q$=I,vA===0)oA(Zq);if(q$!==I)if(WF=pC(),WF!==I)if(BU=pC(),BU!==I)P=[P,k,l,YA,RA,HQ,fB,eC,OC,_I,NY,QU,q$,WF,BU],T=P;else w=T,T=U;else w=T,T=U;else w=T,T=U}else w=T,T=U;else w=T,T=U;else w=T,T=U}else w=T,T=U}else w=T,T=U;else w=T,T=U;else w=T,T=U}else w=T,T=U;else w=T,T=U;else w=T,T=U}else w=T,T=U;else w=T,T=U;if(T!==I)jQ=$,T=L$A(T);return $=T,uA[EzA]={nextPos:w,result:$},$}function dPQ(){var $,T,P,k,l,YA=w*49+38,RA=uA[YA];if(RA)return w=RA.nextPos,RA.result;if($=w,T=e$A(),T!==I){if(C.charCodeAt(w)===84)P=O$A,w++;else if(P=I,vA===0)oA(R$A);if(P!==I)if(k=mPQ(),k!==I){if(C.charCodeAt(w)===90)l=iqQ,w++;else if(l=I,vA===0)oA(nqQ);if(l!==I)jQ=$,T=oqQ(T,k),$=T;else w=$,$=U}else w=$,$=U;else w=$,$=U}else w=$,$=U;if($===I)if($=w,T=e$A(),T!==I){if(C.charCodeAt(w)===84)P=O$A,w++;else if(P=I,vA===0)oA(R$A);if(P!==I)if(k=fPQ(),k!==I)jQ=$,T=rqQ(T,k),$=T;else w=$,$=U;else w=$,$=U}else w=$,$=U;return uA[YA]={nextPos:w,result:$},$}function xQ(){var $,T=w*49+39,P=uA[T];if(P)return w=P.nextPos,P.result;if(aqQ.test(C.charAt(w)))$=C.charAt(w),w++;else if($=I,vA===0)oA(sqQ);return uA[T]={nextPos:w,result:$},$}function $N(){var $,T,P,k=w*49+40,l=uA[k];if(l)return w=l.nextPos,l.result;if(C.charCodeAt(w)===10)$=T$A,w++;else if($=I,vA===0)oA(q$A);if($===I){if($=w,C.charCodeAt(w)===13)T=tqQ,w++;else if(T=I,vA===0)oA(eqQ);if(T!==I){if(C.charCodeAt(w)===10)P=T$A,w++;else if(P=I,vA===0)oA(q$A);if(P!==I)T=[T,P],$=T;else w=$,$=U}else w=$,$=U}return uA[k]={nextPos:w,result:$},$}function AzA(){var $,T=w*49+41,P=uA[T];if(P)return w=P.nextPos,P.result;if($=$N(),$===I)$=xQ();return uA[T]={nextPos:w,result:$},$}function jb(){var $,T,P=w*49+42,k=uA[P];if(k)return w=k.nextPos,k.result;if($=w,vA++,C.length>w)T=C.charAt(w),w++;else if(T=I,vA===0)oA(W);if(vA--,T===I)$=X;else w=$,$=U;return uA[P]={nextPos:w,result:$},$}function zN(){var $,T=w*49+43,P=uA[T];if(P)return w=P.nextPos,P.result;if(APQ.test(C.charAt(w)))$=C.charAt(w),w++;else if($=I,vA===0)oA(QPQ);return uA[T]={nextPos:w,result:$},$}function pC(){var $,T,P=w*49+44,k=uA[P];if(k)return w=k.nextPos,k.result;if(BPQ.test(C.charAt(w)))$=C.charAt(w),w++;else if($=I,vA===0)oA(CPQ);if($===I){if($=w,C.charCodeAt(w)===95)T=EPQ,w++;else if(T=I,vA===0)oA(IPQ);if(T!==I)jQ=$,T=YPQ();$=T}return uA[P]={nextPos:w,result:$},$}function QzA(){var $,T=w*49+45,P=uA[T];if(P)return w=P.nextPos,P.result;if(GPQ.test(C.charAt(w)))$=C.charAt(w),w++;else if($=I,vA===0)oA(JPQ);return uA[T]={nextPos:w,result:$},$}function Hq(){var $,T,P,k=w*49+46,l=uA[k];if(l)return w=l.nextPos,l.result;if($=w,T=[],P=pC(),P!==I)while(P!==I)T.push(P),P=pC();else T=U;if(T!==I)jQ=$,T=DPQ(T);return $=T,uA[k]={nextPos:w,result:$},$}function BzA(){var $,T,P=w*49+47,k=uA[P];if(k)return w=k.nextPos,k.result;if($=w,C.substr(w,2)===P$A)T=P$A,w+=2;else if(T=I,vA===0)oA(UPQ);if(T!==I)jQ=$,T=NPQ();if($=T,$===I){if($=w,C.substr(w,2)===_$A)T=_$A,w+=2;else if(T=I,vA===0)oA(ZPQ);if(T!==I)jQ=$,T=XPQ();if($=T,$===I){if($=w,C.substr(w,2)===j$A)T=j$A,w+=2;else if(T=I,vA===0)oA(FPQ);if(T!==I)jQ=$,T=HPQ();if($=T,$===I){if($=w,C.substr(w,2)===x$A)T=x$A,w+=2;else if(T=I,vA===0)oA(WPQ);if(T!==I)jQ=$,T=KPQ();if($=T,$===I){if($=w,C.substr(w,2)===S$A)T=S$A,w+=2;else if(T=I,vA===0)oA(VPQ);if(T!==I)jQ=$,T=MPQ();if($=T,$===I){if($=w,C.substr(w,2)===g$A)T=g$A,w+=2;else if(T=I,vA===0)oA($PQ);if(T!==I)jQ=$,T=zPQ();if($=T,$===I){if($=w,C.substr(w,2)===v$A)T=v$A,w+=2;else if(T=I,vA===0)oA(wPQ);if(T!==I)jQ=$,T=LPQ();if($=T,$===I)$=uPQ()}}}}}}return uA[P]={nextPos:w,result:$},$}function uPQ(){var $,T,P,k,l,YA,RA,HQ,fB,eC,OC,_I=w*49+48,NY=uA[_I];if(NY)return w=NY.nextPos,NY.result;if($=w,C.substr(w,2)===y$A)T=y$A,w+=2;else if(T=I,vA===0)oA(OPQ);if(T!==I){if(P=w,k=zN(),k!==I)if(l=zN(),l!==I)if(YA=zN(),YA!==I)if(RA=zN(),RA!==I)if(HQ=zN(),HQ!==I)if(fB=zN(),fB!==I)if(eC=zN(),eC!==I)if(OC=zN(),OC!==I)k=[k,l,YA,RA,HQ,fB,eC,OC],P=k;else w=P,P=U;else w=P,P=U;else w=P,P=U;else w=P,P=U;else w=P,P=U;else w=P,P=U;else w=P,P=U;else w=P,P=U;if(P!==I)jQ=$,T=k$A(P),$=T;else w=$,$=U}else w=$,$=U;if($===I){if($=w,C.substr(w,2)===b$A)T=b$A,w+=2;else if(T=I,vA===0)oA(RPQ);if(T!==I){if(P=w,k=zN(),k!==I)if(l=zN(),l!==I)if(YA=zN(),YA!==I)if(RA=zN(),RA!==I)k=[k,l,YA,RA],P=k;else w=P,P=U;else w=P,P=U;else w=P,P=U;else w=P,P=U;if(P!==I)jQ=$,T=k$A(P),$=T;else w=$,$=U}else w=$,$=U}return uA[_I]={nextPos:w,result:$},$}var CzA=[];function pPQ($,T,P){var k=new Error($);throw k.line=T,k.column=P,k}function PQA($){CzA.push($)}function HJ($,T,P,k,l){var YA={type:$,value:T,line:P(),column:k()};if(l)YA.key=l;return YA}function cPQ($,T,P){var k=parseInt("0x"+$);if(!isFinite(k)||Math.floor(k)!=k||k<0||k>1114111||k>55295&&k<57344)pPQ("Invalid Unicode escape code: "+$,T,P);else return lPQ(k)}function lPQ(){var $=16384,T=[],P,k,l=-1,YA=arguments.length;if(!YA)return"";var RA="";while(++l<YA){var HQ=Number(arguments[l]);if(HQ<=65535)T.push(HQ);else HQ-=65536,P=(HQ>>10)+55296,k=HQ%1024+56320,T.push(P,k);if(l+1==YA||T.length>$)RA+=String.fromCharCode.apply(null,T),T.length=0}return RA}if(qb=G(),qb!==I&&w===C.length)return qb;else{if(qb!==I&&w<C.length)oA({type:"end",description:"end of input"});throw RQA(null,LQA,Tb)}}return{SyntaxError:Q,parse:B}}()});var s5Q=m((A70,a5Q)=>{function zUB(A){var Q=[],B=[],C="",E=Object.create(null),I=E,Y=!1;return G(A);function G(z){var L;for(var O=0;O<z.length;O++)switch(L=z[O],L.type){case"Assign":D(L);break;case"ObjectPath":X(L);break;case"ArrayPath":W(L);break}return E}function J(z,L,O){var R=new Error(z);throw R.line=L,R.column=O,R}function D(z){var{key:L,value:O,line:R,column:_}=z,S;if(C)S=C+"."+L;else S=L;if(typeof I[L]!=="undefined")J("Cannot redefine existing key '"+S+"'.",R,_);if(I[L]=N(O),!U(S))Q.push(S),B.push(S)}function U(z){return Q.indexOf(z)!==-1}function N(z){if(z.type==="Array")return V(z.value);else if(z.type==="InlineTable")return Z(z.value);else return z.value}function Z(z){var L=Object.create(null);for(var O=0;O<z.length;O++){var R=z[O];if(R.value.type==="InlineTable")L[R.key]=Z(R.value.value);else if(R.type==="InlineTableValue")L[R.key]=N(R.value)}return L}function X(z){var L=z.value,O=L.map(M).join("."),R=z.line,_=z.column;if(U(O))J("Cannot redefine existing key '"+L+"'.",R,_);Q.push(O),I=K(E,L,Object.create(null),R,_),C=L}function W(z){var L=z.value,O=L.map(M).join("."),R=z.line,_=z.column;if(!U(O))Q.push(O);if(Q=Q.filter(function(q){return q.indexOf(O)!==0}),Q.push(O),I=K(E,L,[],R,_),C=O,I instanceof Array){var S=Object.create(null);I.push(S),I=S}else J("Cannot redefine existing key '"+L+"'.",R,_)}function K(z,L,O,R,_){var S=[],q="",y=L.join("."),p=z;for(var i=0;i<L.length;i++){var MA=L[i];if(S.push(MA),q=S.join("."),typeof p[MA]==="undefined")if(i===L.length-1)p[MA]=O;else p[MA]=Object.create(null);else if(i!==L.length-1&&B.indexOf(q)>-1)J("Cannot redefine existing key '"+q+"'.",R,_);if(p=p[MA],p instanceof Array&&p.length&&i<L.length-1)p=p[p.length-1]}return p}function V(z){var L=null;for(var O=0;O<z.length;O++){var R=z[O];if(L===null)L=R.type;else if(R.type!==L)J("Cannot add value of type "+R.type+" to array of type "+L+".",R.line,R.column)}return z.map(N)}function M(z){if(z.indexOf(".")>-1)return'"'+z+'"';else return z}}a5Q.exports={compile:zUB}});var e5Q=m((Q70,t5Q)=>{var wUB=r5Q(),LUB=s5Q();t5Q.exports={parse:function(A){var Q=wUB.parse(A.toString());return LUB.compile(Q)}}});var XC=m((xUB)=>{var nHA=Symbol.for("yaml.alias"),A6Q=Symbol.for("yaml.document"),Ps=Symbol.for("yaml.map"),Q6Q=Symbol.for("yaml.pair"),oHA=Symbol.for("yaml.scalar"),_s=Symbol.for("yaml.seq"),m6=Symbol.for("yaml.node.type"),OUB=(A)=>!!A&&typeof A==="object"&&A[m6]===nHA,RUB=(A)=>!!A&&typeof A==="object"&&A[m6]===A6Q,TUB=(A)=>!!A&&typeof A==="object"&&A[m6]===Ps,qUB=(A)=>!!A&&typeof A==="object"&&A[m6]===Q6Q,B6Q=(A)=>!!A&&typeof A==="object"&&A[m6]===oHA,PUB=(A)=>!!A&&typeof A==="object"&&A[m6]===_s;function C6Q(A){if(A&&typeof A==="object")switch(A[m6]){case Ps:case _s:return!0}return!1}function _UB(A){if(A&&typeof A==="object")switch(A[m6]){case nHA:case Ps:case oHA:case _s:return!0}return!1}var jUB=(A)=>(B6Q(A)||C6Q(A))&&!!A.anchor;xUB.ALIAS=nHA;xUB.DOC=A6Q;xUB.MAP=Ps;xUB.NODE_TYPE=m6;xUB.PAIR=Q6Q;xUB.SCALAR=oHA;xUB.SEQ=_s;xUB.hasAnchor=jUB;xUB.isAlias=OUB;xUB.isCollection=C6Q;xUB.isDocument=RUB;xUB.isMap=TUB;xUB.isNode=_UB;xUB.isPair=qUB;xUB.isScalar=B6Q;xUB.isSeq=PUB});var Iy=m((oUB)=>{var qG=XC(),pD=Symbol("break visit"),E6Q=Symbol("skip children"),f4=Symbol("remove node");function js(A,Q){let B=I6Q(Q);if(qG.isDocument(A)){if(kR(null,A.contents,B,Object.freeze([A]))===f4)A.contents=null}else kR(null,A,B,Object.freeze([]))}js.BREAK=pD;js.SKIP=E6Q;js.REMOVE=f4;function kR(A,Q,B,C){let E=Y6Q(A,Q,B,C);if(qG.isNode(E)||qG.isPair(E))return G6Q(A,C,E),kR(A,E,B,C);if(typeof E!=="symbol"){if(qG.isCollection(Q)){C=Object.freeze(C.concat(Q));for(let I=0;I<Q.items.length;++I){let Y=kR(I,Q.items[I],B,C);if(typeof Y==="number")I=Y-1;else if(Y===pD)return pD;else if(Y===f4)Q.items.splice(I,1),I-=1}}else if(qG.isPair(Q)){C=Object.freeze(C.concat(Q));let I=kR("key",Q.key,B,C);if(I===pD)return pD;else if(I===f4)Q.key=null;let Y=kR("value",Q.value,B,C);if(Y===pD)return pD;else if(Y===f4)Q.value=null}}return E}async function xs(A,Q){let B=I6Q(Q);if(qG.isDocument(A)){if(await bR(null,A.contents,B,Object.freeze([A]))===f4)A.contents=null}else await bR(null,A,B,Object.freeze([]))}xs.BREAK=pD;xs.SKIP=E6Q;xs.REMOVE=f4;async function bR(A,Q,B,C){let E=await Y6Q(A,Q,B,C);if(qG.isNode(E)||qG.isPair(E))return G6Q(A,C,E),bR(A,E,B,C);if(typeof E!=="symbol"){if(qG.isCollection(Q)){C=Object.freeze(C.concat(Q));for(let I=0;I<Q.items.length;++I){let Y=await bR(I,Q.items[I],B,C);if(typeof Y==="number")I=Y-1;else if(Y===pD)return pD;else if(Y===f4)Q.items.splice(I,1),I-=1}}else if(qG.isPair(Q)){C=Object.freeze(C.concat(Q));let I=await bR("key",Q.key,B,C);if(I===pD)return pD;else if(I===f4)Q.key=null;let Y=await bR("value",Q.value,B,C);if(Y===pD)return pD;else if(Y===f4)Q.value=null}}return E}function I6Q(A){if(typeof A==="object"&&(A.Collection||A.Node||A.Value))return Object.assign({Alias:A.Node,Map:A.Node,Scalar:A.Node,Seq:A.Node},A.Value&&{Map:A.Value,Scalar:A.Value,Seq:A.Value},A.Collection&&{Map:A.Collection,Seq:A.Collection},A);return A}function Y6Q(A,Q,B,C){if(typeof B==="function")return B(A,Q,C);if(qG.isMap(Q))return B.Map?.(A,Q,C);if(qG.isSeq(Q))return B.Seq?.(A,Q,C);if(qG.isPair(Q))return B.Pair?.(A,Q,C);if(qG.isScalar(Q))return B.Scalar?.(A,Q,C);if(qG.isAlias(Q))return B.Alias?.(A,Q,C);return}function G6Q(A,Q,B){let C=Q[Q.length-1];if(qG.isCollection(C))C.items[A]=B;else if(qG.isPair(C))if(A==="key")C.key=B;else C.value=B;else if(qG.isDocument(C))C.contents=B;else{let E=qG.isAlias(C)?"alias":"scalar";throw new Error(`Cannot replace node with ${E} parent`)}}oUB.visit=js;oUB.visitAsync=xs});var rHA=m((ANB)=>{var J6Q=XC(),sUB=Iy(),tUB={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},eUB=(A)=>A.replace(/[!,[\]{}]/g,(Q)=>tUB[Q]);class A8{constructor(A,Q){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},A8.defaultYaml,A),this.tags=Object.assign({},A8.defaultTags,Q)}clone(){let A=new A8(this.yaml,this.tags);return A.docStart=this.docStart,A}atDocument(){let A=new A8(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:A8.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},A8.defaultTags);break}return A}add(A,Q){if(this.atNextDocument)this.yaml={explicit:A8.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},A8.defaultTags),this.atNextDocument=!1;let B=A.trim().split(/[ \t]+/),C=B.shift();switch(C){case"%TAG":{if(B.length!==2){if(Q(0,"%TAG directive should contain exactly two parts"),B.length<2)return!1}let[E,I]=B;return this.tags[E]=I,!0}case"%YAML":{if(this.yaml.explicit=!0,B.length!==1)return Q(0,"%YAML directive should contain exactly one part"),!1;let[E]=B;if(E==="1.1"||E==="1.2")return this.yaml.version=E,!0;else{let I=/^\d+\.\d+$/.test(E);return Q(6,`Unsupported YAML version ${E}`,I),!1}}default:return Q(0,`Unknown directive ${C}`,!0),!1}}tagName(A,Q){if(A==="!")return"!";if(A[0]!=="!")return Q(`Not a valid tag: ${A}`),null;if(A[1]==="<"){let I=A.slice(2,-1);if(I==="!"||I==="!!")return Q(`Verbatim tags aren't resolved, so ${A} is invalid.`),null;if(A[A.length-1]!==">")Q("Verbatim tags must end with a >");return I}let[,B,C]=A.match(/^(.*!)([^!]*)$/s);if(!C)Q(`The ${A} tag has no suffix`);let E=this.tags[B];if(E)try{return E+decodeURIComponent(C)}catch(I){return Q(String(I)),null}if(B==="!")return A;return Q(`Could not resolve tag: ${A}`),null}tagString(A){for(let[Q,B]of Object.entries(this.tags))if(A.startsWith(B))return Q+eUB(A.substring(B.length));return A[0]==="!"?A:`!<${A}>`}toString(A){let Q=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],B=Object.entries(this.tags),C;if(A&&B.length>0&&J6Q.isNode(A.contents)){let E={};sUB.visit(A.contents,(I,Y)=>{if(J6Q.isNode(Y)&&Y.tag)E[Y.tag]=!0}),C=Object.keys(E)}else C=[];for(let[E,I]of B){if(E==="!!"&&I==="tag:yaml.org,2002:")continue;if(!A||C.some((Y)=>Y.startsWith(I)))Q.push(`%TAG ${E} ${I}`)}return Q.join(`
`)}}A8.defaultYaml={explicit:!1,version:"1.2"};A8.defaultTags={"!!":"tag:yaml.org,2002:"};ANB.Directives=A8});var Ss=m((INB)=>{var D6Q=XC(),BNB=Iy();function CNB(A){if(/[\x00-\x19\s,[\]{}]/.test(A)){let B=`Anchor must not contain whitespace or control characters: ${JSON.stringify(A)}`;throw new Error(B)}return!0}function U6Q(A){let Q=new Set;return BNB.visit(A,{Value(B,C){if(C.anchor)Q.add(C.anchor)}}),Q}function N6Q(A,Q){for(let B=1;;++B){let C=`${A}${B}`;if(!Q.has(C))return C}}function ENB(A,Q){let B=[],C=new Map,E=null;return{onAnchor:(I)=>{if(B.push(I),!E)E=U6Q(A);let Y=N6Q(Q,E);return E.add(Y),Y},setAnchors:()=>{for(let I of B){let Y=C.get(I);if(typeof Y==="object"&&Y.anchor&&(D6Q.isScalar(Y.node)||D6Q.isCollection(Y.node)))Y.node.anchor=Y.anchor;else{let G=new Error("Failed to resolve repeated object (this should not happen)");throw G.source=I,G}}},sourceObjects:C}}INB.anchorIsValid=CNB;INB.anchorNames=U6Q;INB.createNodeAnchors=ENB;INB.findNewAnchor=N6Q});var aHA=m((UNB)=>{function Yy(A,Q,B,C){if(C&&typeof C==="object")if(Array.isArray(C))for(let E=0,I=C.length;E<I;++E){let Y=C[E],G=Yy(A,C,String(E),Y);if(G===void 0)delete C[E];else if(G!==Y)C[E]=G}else if(C instanceof Map)for(let E of Array.from(C.keys())){let I=C.get(E),Y=Yy(A,C,E,I);if(Y===void 0)C.delete(E);else if(Y!==I)C.set(E,Y)}else if(C instanceof Set)for(let E of Array.from(C)){let I=Yy(A,C,E,E);if(I===void 0)C.delete(E);else if(I!==E)C.delete(E),C.add(I)}else for(let[E,I]of Object.entries(C)){let Y=Yy(A,C,E,I);if(Y===void 0)delete C[E];else if(Y!==I)C[E]=Y}return A.call(Q,B,C)}UNB.applyReviver=Yy});var RK=m((XNB)=>{var ZNB=XC();function Z6Q(A,Q,B){if(Array.isArray(A))return A.map((C,E)=>Z6Q(C,String(E),B));if(A&&typeof A.toJSON==="function"){if(!B||!ZNB.hasAnchor(A))return A.toJSON(Q,B);let C={aliasCount:0,count:1,res:void 0};B.anchors.set(A,C),B.onCreate=(I)=>{C.res=I,delete B.onCreate};let E=A.toJSON(Q,B);if(B.onCreate)B.onCreate(E);return E}if(typeof A==="bigint"&&!B?.keep)return Number(A);return A}XNB.toJS=Z6Q});var gs=m((KNB)=>{var HNB=aHA(),X6Q=XC(),WNB=RK();class F6Q{constructor(A){Object.defineProperty(this,X6Q.NODE_TYPE,{value:A})}clone(){let A=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));if(this.range)A.range=this.range.slice();return A}toJS(A,{mapAsMap:Q,maxAliasCount:B,onAnchor:C,reviver:E}={}){if(!X6Q.isDocument(A))throw new TypeError("A document argument is required");let I={anchors:new Map,doc:A,keep:!0,mapAsMap:Q===!0,mapKeyWarned:!1,maxAliasCount:typeof B==="number"?B:100},Y=WNB.toJS(this,"",I);if(typeof C==="function")for(let{count:G,res:J}of I.anchors.values())C(J,G);return typeof E==="function"?HNB.applyReviver(E,{"":Y},"",Y):Y}}KNB.NodeBase=F6Q});var Gy=m((wNB)=>{var MNB=Ss(),H6Q=Iy(),vs=XC(),$NB=gs(),zNB=RK();class W6Q extends $NB.NodeBase{constructor(A){super(vs.ALIAS);this.source=A,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(A){let Q=void 0;return H6Q.visit(A,{Node:(B,C)=>{if(C===this)return H6Q.visit.BREAK;if(C.anchor===this.source)Q=C}}),Q}toJSON(A,Q){if(!Q)return{source:this.source};let{anchors:B,doc:C,maxAliasCount:E}=Q,I=this.resolve(C);if(!I){let G=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(G)}let Y=B.get(I);if(!Y)zNB.toJS(I,null,Q),Y=B.get(I);if(!Y||Y.res===void 0)throw new ReferenceError("This should not happen: Alias anchor was not resolved?");if(E>=0){if(Y.count+=1,Y.aliasCount===0)Y.aliasCount=ys(C,I,B);if(Y.count*Y.aliasCount>E)throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack")}return Y.res}toString(A,Q,B){let C=`*${this.source}`;if(A){if(MNB.anchorIsValid(this.source),A.options.verifyAliasOrder&&!A.anchors.has(this.source)){let E=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(E)}if(A.implicitKey)return`${C} `}return C}}function ys(A,Q,B){if(vs.isAlias(Q)){let C=Q.resolve(A),E=B&&C&&B.get(C);return E?E.count*E.aliasCount:0}else if(vs.isCollection(Q)){let C=0;for(let E of Q.items){let I=ys(A,E,B);if(I>C)C=I}return C}else if(vs.isPair(Q)){let C=ys(A,Q.key,B),E=ys(A,Q.value,B);return Math.max(C,E)}return 1}wNB.Alias=W6Q});var eY=m((PNB)=>{var ONB=XC(),RNB=gs(),TNB=RK(),qNB=(A)=>!A||typeof A!=="function"&&typeof A!=="object";class $M extends RNB.NodeBase{constructor(A){super(ONB.SCALAR);this.value=A}toJSON(A,Q){return Q?.keep?this.value:TNB.toJS(this.value,A,Q)}toString(){return String(this.value)}}$M.BLOCK_FOLDED="BLOCK_FOLDED";$M.BLOCK_LITERAL="BLOCK_LITERAL";$M.PLAIN="PLAIN";$M.QUOTE_DOUBLE="QUOTE_DOUBLE";$M.QUOTE_SINGLE="QUOTE_SINGLE";PNB.Scalar=$M;PNB.isScalarValue=qNB});var Jy=m((yNB)=>{var xNB=Gy(),zM=XC(),K6Q=eY(),SNB="tag:yaml.org,2002:";function gNB(A,Q,B){if(Q){let C=B.filter((I)=>I.tag===Q),E=C.find((I)=>!I.format)??C[0];if(!E)throw new Error(`Tag ${Q} not found`);return E}return B.find((C)=>C.identify?.(A)&&!C.format)}function vNB(A,Q,B){if(zM.isDocument(A))A=A.contents;if(zM.isNode(A))return A;if(zM.isPair(A)){let N=B.schema[zM.MAP].createNode?.(B.schema,null,B);return N.items.push(A),N}if(A instanceof String||A instanceof Number||A instanceof Boolean||typeof BigInt!=="undefined"&&A instanceof BigInt)A=A.valueOf();let{aliasDuplicateObjects:C,onAnchor:E,onTagObj:I,schema:Y,sourceObjects:G}=B,J=void 0;if(C&&A&&typeof A==="object")if(J=G.get(A),J){if(!J.anchor)J.anchor=E(A);return new xNB.Alias(J.anchor)}else J={anchor:null,node:null},G.set(A,J);if(Q?.startsWith("!!"))Q=SNB+Q.slice(2);let D=gNB(A,Q,Y.tags);if(!D){if(A&&typeof A.toJSON==="function")A=A.toJSON();if(!A||typeof A!=="object"){let N=new K6Q.Scalar(A);if(J)J.node=N;return N}D=A instanceof Map?Y[zM.MAP]:(Symbol.iterator in Object(A))?Y[zM.SEQ]:Y[zM.MAP]}if(I)I(D),delete B.onTagObj;let U=D?.createNode?D.createNode(B.schema,A,B):typeof D?.nodeClass?.from==="function"?D.nodeClass.from(B.schema,A,B):new K6Q.Scalar(A);if(Q)U.tag=Q;else if(!D.default)U.tag=D.tag;if(J)J.node=U;return U}yNB.createNode=vNB});var ks=m((mNB)=>{var bNB=Jy(),d4=XC(),hNB=gs();function sHA(A,Q,B){let C=B;for(let E=Q.length-1;E>=0;--E){let I=Q[E];if(typeof I==="number"&&Number.isInteger(I)&&I>=0){let Y=[];Y[I]=C,C=Y}else C=new Map([[I,C]])}return bNB.createNode(C,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:A,sourceObjects:new Map})}var V6Q=(A)=>A==null||typeof A==="object"&&!!A[Symbol.iterator]().next().done;class M6Q extends hNB.NodeBase{constructor(A,Q){super(A);Object.defineProperty(this,"schema",{value:Q,configurable:!0,enumerable:!1,writable:!0})}clone(A){let Q=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));if(A)Q.schema=A;if(Q.items=Q.items.map((B)=>d4.isNode(B)||d4.isPair(B)?B.clone(A):B),this.range)Q.range=this.range.slice();return Q}addIn(A,Q){if(V6Q(A))this.add(Q);else{let[B,...C]=A,E=this.get(B,!0);if(d4.isCollection(E))E.addIn(C,Q);else if(E===void 0&&this.schema)this.set(B,sHA(this.schema,C,Q));else throw new Error(`Expected YAML collection at ${B}. Remaining path: ${C}`)}}deleteIn(A){let[Q,...B]=A;if(B.length===0)return this.delete(Q);let C=this.get(Q,!0);if(d4.isCollection(C))return C.deleteIn(B);else throw new Error(`Expected YAML collection at ${Q}. Remaining path: ${B}`)}getIn(A,Q){let[B,...C]=A,E=this.get(B,!0);if(C.length===0)return!Q&&d4.isScalar(E)?E.value:E;else return d4.isCollection(E)?E.getIn(C,Q):void 0}hasAllNullValues(A){return this.items.every((Q)=>{if(!d4.isPair(Q))return!1;let B=Q.value;return B==null||A&&d4.isScalar(B)&&B.value==null&&!B.commentBefore&&!B.comment&&!B.tag})}hasIn(A){let[Q,...B]=A;if(B.length===0)return this.has(Q);let C=this.get(Q,!0);return d4.isCollection(C)?C.hasIn(B):!1}setIn(A,Q){let[B,...C]=A;if(C.length===0)this.set(B,Q);else{let E=this.get(B,!0);if(d4.isCollection(E))E.setIn(C,Q);else if(E===void 0&&this.schema)this.set(B,sHA(this.schema,C,Q));else throw new Error(`Expected YAML collection at ${B}. Remaining path: ${C}`)}}}mNB.Collection=M6Q;mNB.collectionFromPath=sHA;mNB.isEmptyPath=V6Q});var Dy=m((lNB)=>{var pNB=(A)=>A.replace(/^(?!$)(?: $)?/gm,"#");function tHA(A,Q){if(/^\n+$/.test(A))return A.substring(1);return Q?A.replace(/^(?! *$)/gm,Q):A}var cNB=(A,Q,B)=>A.endsWith(`
`)?tHA(B,Q):B.includes(`
`)?`
`+tHA(B,Q):(A.endsWith(" ")?"":" ")+B;lNB.indentComment=tHA;lNB.lineComment=cNB;lNB.stringifyComment=pNB});var z6Q=m((aNB)=>{function rNB(A,Q,B="flow",{indentAtStart:C,lineWidth:E=80,minContentWidth:I=20,onFold:Y,onOverflow:G}={}){if(!E||E<0)return A;if(E<I)I=0;let J=Math.max(1+I,1+E-Q.length);if(A.length<=J)return A;let D=[],U={},N=E-Q.length;if(typeof C==="number")if(C>E-Math.max(2,I))D.push(0);else N=E-C;let Z=void 0,X=void 0,W=!1,K=-1,V=-1,M=-1;if(B==="block"){if(K=$6Q(A,K,Q.length),K!==-1)N=K+J}for(let L;L=A[K+=1];){if(B==="quoted"&&L==="\\"){switch(V=K,A[K+1]){case"x":K+=3;break;case"u":K+=5;break;case"U":K+=9;break;default:K+=1}M=K}if(L===`
`){if(B==="block")K=$6Q(A,K,Q.length);N=K+Q.length+J,Z=void 0}else{if(L===" "&&X&&X!==" "&&X!==`
`&&X!=="\t"){let O=A[K+1];if(O&&O!==" "&&O!==`
`&&O!=="\t")Z=K}if(K>=N)if(Z)D.push(Z),N=Z+J,Z=void 0;else if(B==="quoted"){while(X===" "||X==="\t")X=L,L=A[K+=1],W=!0;let O=K>M+1?K-2:V-1;if(U[O])return A;D.push(O),U[O]=!0,N=O+J,Z=void 0}else W=!0}X=L}if(W&&G)G();if(D.length===0)return A;if(Y)Y();let z=A.slice(0,D[0]);for(let L=0;L<D.length;++L){let O=D[L],R=D[L+1]||A.length;if(O===0)z=`
${Q}${A.slice(0,R)}`;else{if(B==="quoted"&&U[O])z+=`${A[O]}\\`;z+=`
${Q}${A.slice(O+1,R)}`}}return z}function $6Q(A,Q,B){let C=Q,E=Q+1,I=A[E];while(I===" "||I==="\t")if(Q<E+B)I=A[++Q];else{do I=A[++Q];while(I&&I!==`
`);C=Q,E=Q+1,I=A[E]}return C}aNB.FOLD_BLOCK="block";aNB.FOLD_FLOW="flow";aNB.FOLD_QUOTED="quoted";aNB.foldFlowLines=rNB});var Ny=m((EZB)=>{var g9=eY(),TK=z6Q(),hs=(A,Q)=>({indentAtStart:Q?A.indent.length:A.indentAtStart,lineWidth:A.options.lineWidth,minContentWidth:A.options.minContentWidth}),ms=(A)=>/^(%|---|\.\.\.)/m.test(A);function QZB(A,Q,B){if(!Q||Q<0)return!1;let C=Q-B,E=A.length;if(E<=C)return!1;for(let I=0,Y=0;I<E;++I)if(A[I]===`
`){if(I-Y>C)return!0;if(Y=I+1,E-Y<=C)return!1}return!0}function Uy(A,Q){let B=JSON.stringify(A);if(Q.options.doubleQuotedAsJSON)return B;let{implicitKey:C}=Q,E=Q.options.doubleQuotedMinMultiLineLength,I=Q.indent||(ms(A)?"  ":""),Y="",G=0;for(let J=0,D=B[J];D;D=B[++J]){if(D===" "&&B[J+1]==="\\"&&B[J+2]==="n")Y+=B.slice(G,J)+"\\ ",J+=1,G=J,D="\\";if(D==="\\")switch(B[J+1]){case"u":{Y+=B.slice(G,J);let U=B.substr(J+2,4);switch(U){case"0000":Y+="\\0";break;case"0007":Y+="\\a";break;case"000b":Y+="\\v";break;case"001b":Y+="\\e";break;case"0085":Y+="\\N";break;case"00a0":Y+="\\_";break;case"2028":Y+="\\L";break;case"2029":Y+="\\P";break;default:if(U.substr(0,2)==="00")Y+="\\x"+U.substr(2);else Y+=B.substr(J,6)}J+=5,G=J+1}break;case"n":if(C||B[J+2]==='"'||B.length<E)J+=1;else{Y+=B.slice(G,J)+`

`;while(B[J+2]==="\\"&&B[J+3]==="n"&&B[J+4]!=='"')Y+=`
`,J+=2;if(Y+=I,B[J+2]===" ")Y+="\\";J+=1,G=J+1}break;default:J+=1}}return Y=G?Y+B.slice(G):B,C?Y:TK.foldFlowLines(Y,I,TK.FOLD_QUOTED,hs(Q,!1))}function eHA(A,Q){if(Q.options.singleQuote===!1||Q.implicitKey&&A.includes(`
`)||/[ \t]\n|\n[ \t]/.test(A))return Uy(A,Q);let B=Q.indent||(ms(A)?"  ":""),C="'"+A.replace(/'/g,"''").replace(/\n+/g,`$&
${B}`)+"'";return Q.implicitKey?C:TK.foldFlowLines(C,B,TK.FOLD_FLOW,hs(Q,!1))}function hR(A,Q){let{singleQuote:B}=Q.options,C;if(B===!1)C=Uy;else{let E=A.includes('"'),I=A.includes("'");if(E&&!I)C=eHA;else if(I&&!E)C=Uy;else C=B?eHA:Uy}return C(A,Q)}var AWA;try{AWA=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{AWA=/\n+(?!\n|$)/g}function bs({comment:A,type:Q,value:B},C,E,I){let{blockQuote:Y,commentString:G,lineWidth:J}=C.options;if(!Y||/\n[\t ]+$/.test(B)||/^\s*$/.test(B))return hR(B,C);let D=C.indent||(C.forceBlockIndent||ms(B)?"  ":""),U=Y==="literal"?!0:Y==="folded"||Q===g9.Scalar.BLOCK_FOLDED?!1:Q===g9.Scalar.BLOCK_LITERAL?!0:!QZB(B,J,D.length);if(!B)return U?`|
`:`>
`;let N,Z;for(Z=B.length;Z>0;--Z){let R=B[Z-1];if(R!==`
`&&R!=="\t"&&R!==" ")break}let X=B.substring(Z),W=X.indexOf(`
`);if(W===-1)N="-";else if(B===X||W!==X.length-1){if(N="+",I)I()}else N="";if(X){if(B=B.slice(0,-X.length),X[X.length-1]===`
`)X=X.slice(0,-1);X=X.replace(AWA,`$&${D}`)}let K=!1,V,M=-1;for(V=0;V<B.length;++V){let R=B[V];if(R===" ")K=!0;else if(R===`
`)M=V;else break}let z=B.substring(0,M<V?M+1:V);if(z)B=B.substring(z.length),z=z.replace(/\n+/g,`$&${D}`);let O=(K?D?"2":"1":"")+N;if(A){if(O+=" "+G(A.replace(/ ?[\r\n]+/g," ")),E)E()}if(!U){let R=B.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${D}`),_=!1,S=hs(C,!0);if(Y!=="folded"&&Q!==g9.Scalar.BLOCK_FOLDED)S.onOverflow=()=>{_=!0};let q=TK.foldFlowLines(`${z}${R}${X}`,D,TK.FOLD_BLOCK,S);if(!_)return`>${O}
${D}${q}`}return B=B.replace(/\n+/g,`$&${D}`),`|${O}
${D}${z}${B}${X}`}function BZB(A,Q,B,C){let{type:E,value:I}=A,{actualString:Y,implicitKey:G,indent:J,indentStep:D,inFlow:U}=Q;if(G&&I.includes(`
`)||U&&/[[\]{},]/.test(I))return hR(I,Q);if(!I||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(I))return G||U||!I.includes(`
`)?hR(I,Q):bs(A,Q,B,C);if(!G&&!U&&E!==g9.Scalar.PLAIN&&I.includes(`
`))return bs(A,Q,B,C);if(ms(I)){if(J==="")return Q.forceBlockIndent=!0,bs(A,Q,B,C);else if(G&&J===D)return hR(I,Q)}let N=I.replace(/\n+/g,`$&
${J}`);if(Y){let Z=(K)=>K.default&&K.tag!=="tag:yaml.org,2002:str"&&K.test?.test(N),{compat:X,tags:W}=Q.doc.schema;if(W.some(Z)||X?.some(Z))return hR(I,Q)}return G?N:TK.foldFlowLines(N,J,TK.FOLD_FLOW,hs(Q,!1))}function CZB(A,Q,B,C){let{implicitKey:E,inFlow:I}=Q,Y=typeof A.value==="string"?A:Object.assign({},A,{value:String(A.value)}),{type:G}=A;if(G!==g9.Scalar.QUOTE_DOUBLE){if(/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(Y.value))G=g9.Scalar.QUOTE_DOUBLE}let J=(U)=>{switch(U){case g9.Scalar.BLOCK_FOLDED:case g9.Scalar.BLOCK_LITERAL:return E||I?hR(Y.value,Q):bs(Y,Q,B,C);case g9.Scalar.QUOTE_DOUBLE:return Uy(Y.value,Q);case g9.Scalar.QUOTE_SINGLE:return eHA(Y.value,Q);case g9.Scalar.PLAIN:return BZB(Y,Q,B,C);default:return null}},D=J(G);if(D===null){let{defaultKeyType:U,defaultStringType:N}=Q.options,Z=E&&U||N;if(D=J(Z),D===null)throw new Error(`Unsupported default string type ${Z}`)}return D}EZB.stringifyString=CZB});var Zy=m((XZB)=>{var YZB=Ss(),qK=XC(),GZB=Dy(),JZB=Ny();function DZB(A,Q){let B=Object.assign({blockQuote:!0,commentString:GZB.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},A.schema.toStringOptions,Q),C;switch(B.collectionStyle){case"block":C=!1;break;case"flow":C=!0;break;default:C=null}return{anchors:new Set,doc:A,flowCollectionPadding:B.flowCollectionPadding?" ":"",indent:"",indentStep:typeof B.indent==="number"?" ".repeat(B.indent):"  ",inFlow:C,options:B}}function UZB(A,Q){if(Q.tag){let E=A.filter((I)=>I.tag===Q.tag);if(E.length>0)return E.find((I)=>I.format===Q.format)??E[0]}let B=void 0,C;if(qK.isScalar(Q)){C=Q.value;let E=A.filter((I)=>I.identify?.(C));if(E.length>1){let I=E.filter((Y)=>Y.test);if(I.length>0)E=I}B=E.find((I)=>I.format===Q.format)??E.find((I)=>!I.format)}else C=Q,B=A.find((E)=>E.nodeClass&&C instanceof E.nodeClass);if(!B){let E=C?.constructor?.name??typeof C;throw new Error(`Tag not resolved for ${E} value`)}return B}function NZB(A,Q,{anchors:B,doc:C}){if(!C.directives)return"";let E=[],I=(qK.isScalar(A)||qK.isCollection(A))&&A.anchor;if(I&&YZB.anchorIsValid(I))B.add(I),E.push(`&${I}`);let Y=A.tag?A.tag:Q.default?null:Q.tag;if(Y)E.push(C.directives.tagString(Y));return E.join(" ")}function ZZB(A,Q,B,C){if(qK.isPair(A))return A.toString(Q,B,C);if(qK.isAlias(A)){if(Q.doc.directives)return A.toString(Q);if(Q.resolvedAliases?.has(A))throw new TypeError("Cannot stringify circular structure without alias nodes");else{if(Q.resolvedAliases)Q.resolvedAliases.add(A);else Q.resolvedAliases=new Set([A]);A=A.resolve(Q.doc)}}let E=void 0,I=qK.isNode(A)?A:Q.doc.createNode(A,{onTagObj:(J)=>E=J});if(!E)E=UZB(Q.doc.schema.tags,I);let Y=NZB(I,E,Q);if(Y.length>0)Q.indentAtStart=(Q.indentAtStart??0)+Y.length+1;let G=typeof E.stringify==="function"?E.stringify(I,Q,B,C):qK.isScalar(I)?JZB.stringifyString(I,Q,B,C):I.toString(Q,B,C);if(!Y)return G;return qK.isScalar(I)||G[0]==="{"||G[0]==="["?`${Y} ${G}`:`${Y}
${Q.indent}${G}`}XZB.createStringifyContext=DZB;XZB.stringify=ZZB});var O6Q=m((KZB)=>{var f6=XC(),w6Q=eY(),L6Q=Zy(),Xy=Dy();function WZB({key:A,value:Q},B,C,E){let{allNullValues:I,doc:Y,indent:G,indentStep:J,options:{commentString:D,indentSeq:U,simpleKeys:N}}=B,Z=f6.isNode(A)&&A.comment||null;if(N){if(Z)throw new Error("With simple keys, key nodes cannot have comments");if(f6.isCollection(A)||!f6.isNode(A)&&typeof A==="object")throw new Error("With simple keys, collection cannot be used as a key value")}let X=!N&&(!A||Z&&Q==null&&!B.inFlow||f6.isCollection(A)||(f6.isScalar(A)?A.type===w6Q.Scalar.BLOCK_FOLDED||A.type===w6Q.Scalar.BLOCK_LITERAL:typeof A==="object"));B=Object.assign({},B,{allNullValues:!1,implicitKey:!X&&(N||!I),indent:G+J});let W=!1,K=!1,V=L6Q.stringify(A,B,()=>W=!0,()=>K=!0);if(!X&&!B.inFlow&&V.length>1024){if(N)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");X=!0}if(B.inFlow){if(I||Q==null){if(W&&C)C();return V===""?"?":X?`? ${V}`:V}}else if(I&&!N||Q==null&&X){if(V=`? ${V}`,Z&&!W)V+=Xy.lineComment(V,B.indent,D(Z));else if(K&&E)E();return V}if(W)Z=null;if(X){if(Z)V+=Xy.lineComment(V,B.indent,D(Z));V=`? ${V}
${G}:`}else if(V=`${V}:`,Z)V+=Xy.lineComment(V,B.indent,D(Z));let M,z,L;if(f6.isNode(Q))M=!!Q.spaceBefore,z=Q.commentBefore,L=Q.comment;else if(M=!1,z=null,L=null,Q&&typeof Q==="object")Q=Y.createNode(Q);if(B.implicitKey=!1,!X&&!Z&&f6.isScalar(Q))B.indentAtStart=V.length+1;if(K=!1,!U&&J.length>=2&&!B.inFlow&&!X&&f6.isSeq(Q)&&!Q.flow&&!Q.tag&&!Q.anchor)B.indent=B.indent.substring(2);let O=!1,R=L6Q.stringify(Q,B,()=>O=!0,()=>K=!0),_=" ";if(Z||M||z){if(_=M?`
`:"",z){let S=D(z);_+=`
${Xy.indentComment(S,B.indent)}`}if(R===""&&!B.inFlow){if(_===`
`)_=`

`}else _+=`
${B.indent}`}else if(!X&&f6.isCollection(Q)){let S=R[0],q=R.indexOf(`
`),y=q!==-1,p=B.inFlow??Q.flow??Q.items.length===0;if(y||!p){let i=!1;if(y&&(S==="&"||S==="!")){let MA=R.indexOf(" ");if(S==="&"&&MA!==-1&&MA<q&&R[MA+1]==="!")MA=R.indexOf(" ",MA+1);if(MA===-1||q<MA)i=!0}if(!i)_=`
${B.indent}`}}else if(R===""||R[0]===`
`)_="";if(V+=_+R,B.inFlow){if(O&&C)C()}else if(L&&!O)V+=Xy.lineComment(V,B.indent,D(L));else if(K&&E)E();return V}KZB.stringifyPair=WZB});var QWA=m((zZB)=>{var R6Q=a("node:process");function MZB(A,...Q){if(A==="debug")console.log(...Q)}function $ZB(A,Q){if(A==="debug"||A==="warn")if(typeof R6Q.emitWarning==="function")R6Q.emitWarning(Q);else console.warn(Q)}zZB.debug=MZB;zZB.warn=$ZB});var us=m((RZB)=>{var Fy=XC(),T6Q=eY(),fs="<<",ds={identify:(A)=>A===fs||typeof A==="symbol"&&A.description===fs,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new T6Q.Scalar(Symbol(fs)),{addToJSMap:q6Q}),stringify:()=>fs},OZB=(A,Q)=>(ds.identify(Q)||Fy.isScalar(Q)&&(!Q.type||Q.type===T6Q.Scalar.PLAIN)&&ds.identify(Q.value))&&A?.doc.schema.tags.some((B)=>B.tag===ds.tag&&B.default);function q6Q(A,Q,B){if(B=A&&Fy.isAlias(B)?B.resolve(A.doc):B,Fy.isSeq(B))for(let C of B.items)BWA(A,Q,C);else if(Array.isArray(B))for(let C of B)BWA(A,Q,C);else BWA(A,Q,B)}function BWA(A,Q,B){let C=A&&Fy.isAlias(B)?B.resolve(A.doc):B;if(!Fy.isMap(C))throw new Error("Merge sources must be maps or map aliases");let E=C.toJSON(null,A,Map);for(let[I,Y]of E)if(Q instanceof Map){if(!Q.has(I))Q.set(I,Y)}else if(Q instanceof Set)Q.add(I);else if(!Object.prototype.hasOwnProperty.call(Q,I))Object.defineProperty(Q,I,{value:Y,writable:!0,enumerable:!0,configurable:!0});return Q}RZB.addMergeToJSMap=q6Q;RZB.isMergeKey=OZB;RZB.merge=ds});var EWA=m((gZB)=>{var _ZB=QWA(),P6Q=us(),jZB=Zy(),_6Q=XC(),CWA=RK();function xZB(A,Q,{key:B,value:C}){if(_6Q.isNode(B)&&B.addToJSMap)B.addToJSMap(A,Q,C);else if(P6Q.isMergeKey(A,B))P6Q.addMergeToJSMap(A,Q,C);else{let E=CWA.toJS(B,"",A);if(Q instanceof Map)Q.set(E,CWA.toJS(C,E,A));else if(Q instanceof Set)Q.add(E);else{let I=SZB(B,E,A),Y=CWA.toJS(C,I,A);if(I in Q)Object.defineProperty(Q,I,{value:Y,writable:!0,enumerable:!0,configurable:!0});else Q[I]=Y}}return Q}function SZB(A,Q,B){if(Q===null)return"";if(typeof Q!=="object")return String(Q);if(_6Q.isNode(A)&&B?.doc){let C=jZB.createStringifyContext(B.doc,{});C.anchors=new Set;for(let I of B.anchors.keys())C.anchors.add(I.anchor);C.inFlow=!0,C.inStringifyKey=!0;let E=A.toString(C);if(!B.mapKeyWarned){let I=JSON.stringify(E);if(I.length>40)I=I.substring(0,36)+'..."';_ZB.warn(B.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${I}. Set mapAsMap: true to use object keys.`),B.mapKeyWarned=!0}return E}return JSON.stringify(Q)}gZB.addPairToJSMap=xZB});var PK=m((hZB)=>{var j6Q=Jy(),yZB=O6Q(),kZB=EWA(),ps=XC();function bZB(A,Q,B){let C=j6Q.createNode(A,void 0,B),E=j6Q.createNode(Q,void 0,B);return new cs(C,E)}class cs{constructor(A,Q=null){Object.defineProperty(this,ps.NODE_TYPE,{value:ps.PAIR}),this.key=A,this.value=Q}clone(A){let{key:Q,value:B}=this;if(ps.isNode(Q))Q=Q.clone(A);if(ps.isNode(B))B=B.clone(A);return new cs(Q,B)}toJSON(A,Q){let B=Q?.mapAsMap?new Map:{};return kZB.addPairToJSMap(Q,B,this)}toString(A,Q,B){return A?.doc?yZB.stringifyPair(this,A,Q,B):JSON.stringify(this)}}hZB.Pair=cs;hZB.createPair=bZB});var IWA=m((cZB)=>{var wM=XC(),x6Q=Zy(),ls=Dy();function dZB(A,Q,B){return(Q.inFlow??A.flow?pZB:uZB)(A,Q,B)}function uZB({comment:A,items:Q},B,{blockItemPrefix:C,flowChars:E,itemIndent:I,onChompKeep:Y,onComment:G}){let{indent:J,options:{commentString:D}}=B,U=Object.assign({},B,{indent:I,type:null}),N=!1,Z=[];for(let W=0;W<Q.length;++W){let K=Q[W],V=null;if(wM.isNode(K)){if(!N&&K.spaceBefore)Z.push("");if(is(B,Z,K.commentBefore,N),K.comment)V=K.comment}else if(wM.isPair(K)){let z=wM.isNode(K.key)?K.key:null;if(z){if(!N&&z.spaceBefore)Z.push("");is(B,Z,z.commentBefore,N)}}N=!1;let M=x6Q.stringify(K,U,()=>V=null,()=>N=!0);if(V)M+=ls.lineComment(M,I,D(V));if(N&&V)N=!1;Z.push(C+M)}let X;if(Z.length===0)X=E.start+E.end;else{X=Z[0];for(let W=1;W<Z.length;++W){let K=Z[W];X+=K?`
${J}${K}`:`
`}}if(A){if(X+=`
`+ls.indentComment(D(A),J),G)G()}else if(N&&Y)Y();return X}function pZB({items:A},Q,{flowChars:B,itemIndent:C}){let{indent:E,indentStep:I,flowCollectionPadding:Y,options:{commentString:G}}=Q;C+=I;let J=Object.assign({},Q,{indent:C,inFlow:!0,type:null}),D=!1,U=0,N=[];for(let W=0;W<A.length;++W){let K=A[W],V=null;if(wM.isNode(K)){if(K.spaceBefore)N.push("");if(is(Q,N,K.commentBefore,!1),K.comment)V=K.comment}else if(wM.isPair(K)){let z=wM.isNode(K.key)?K.key:null;if(z){if(z.spaceBefore)N.push("");if(is(Q,N,z.commentBefore,!1),z.comment)D=!0}let L=wM.isNode(K.value)?K.value:null;if(L){if(L.comment)V=L.comment;if(L.commentBefore)D=!0}else if(K.value==null&&z?.comment)V=z.comment}if(V)D=!0;let M=x6Q.stringify(K,J,()=>V=null);if(W<A.length-1)M+=",";if(V)M+=ls.lineComment(M,C,G(V));if(!D&&(N.length>U||M.includes(`
`)))D=!0;N.push(M),U=N.length}let{start:Z,end:X}=B;if(N.length===0)return Z+X;else{if(!D){let W=N.reduce((K,V)=>K+V.length+2,2);D=Q.options.lineWidth>0&&W>Q.options.lineWidth}if(D){let W=Z;for(let K of N)W+=K?`
${I}${E}${K}`:`
`;return`${W}
${E}${X}`}else return`${Z}${Y}${N.join(" ")}${Y}${X}`}}function is({indent:A,options:{commentString:Q}},B,C,E){if(C&&E)C=C.replace(/^\n+/,"");if(C){let I=ls.indentComment(Q(C),A);B.push(I.trimStart())}}cZB.stringifyCollection=dZB});var jK=m((aZB)=>{var iZB=IWA(),nZB=EWA(),oZB=ks(),_K=XC(),ns=PK(),rZB=eY();function Hy(A,Q){let B=_K.isScalar(Q)?Q.value:Q;for(let C of A)if(_K.isPair(C)){if(C.key===Q||C.key===B)return C;if(_K.isScalar(C.key)&&C.key.value===B)return C}return}class S6Q extends oZB.Collection{static get tagName(){return"tag:yaml.org,2002:map"}constructor(A){super(_K.MAP,A);this.items=[]}static from(A,Q,B){let{keepUndefined:C,replacer:E}=B,I=new this(A),Y=(G,J)=>{if(typeof E==="function")J=E.call(Q,G,J);else if(Array.isArray(E)&&!E.includes(G))return;if(J!==void 0||C)I.items.push(ns.createPair(G,J,B))};if(Q instanceof Map)for(let[G,J]of Q)Y(G,J);else if(Q&&typeof Q==="object")for(let G of Object.keys(Q))Y(G,Q[G]);if(typeof A.sortMapEntries==="function")I.items.sort(A.sortMapEntries);return I}add(A,Q){let B;if(_K.isPair(A))B=A;else if(!A||typeof A!=="object"||!("key"in A))B=new ns.Pair(A,A?.value);else B=new ns.Pair(A.key,A.value);let C=Hy(this.items,B.key),E=this.schema?.sortMapEntries;if(C){if(!Q)throw new Error(`Key ${B.key} already set`);if(_K.isScalar(C.value)&&rZB.isScalarValue(B.value))C.value.value=B.value;else C.value=B.value}else if(E){let I=this.items.findIndex((Y)=>E(B,Y)<0);if(I===-1)this.items.push(B);else this.items.splice(I,0,B)}else this.items.push(B)}delete(A){let Q=Hy(this.items,A);if(!Q)return!1;return this.items.splice(this.items.indexOf(Q),1).length>0}get(A,Q){let C=Hy(this.items,A)?.value;return(!Q&&_K.isScalar(C)?C.value:C)??void 0}has(A){return!!Hy(this.items,A)}set(A,Q){this.add(new ns.Pair(A,Q),!0)}toJSON(A,Q,B){let C=B?new B:Q?.mapAsMap?new Map:{};if(Q?.onCreate)Q.onCreate(C);for(let E of this.items)nZB.addPairToJSMap(Q,C,E);return C}toString(A,Q,B){if(!A)return JSON.stringify(this);for(let C of this.items)if(!_K.isPair(C))throw new Error(`Map items must all be pairs; found ${JSON.stringify(C)} instead`);if(!A.allNullValues&&this.hasAllNullValues(!1))A=Object.assign({},A,{allNullValues:!0});return iZB.stringifyCollection(this,A,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:A.indent||"",onChompKeep:B,onComment:Q})}}aZB.YAMLMap=S6Q;aZB.findPair=Hy});var mR=m((Q8B)=>{var eZB=XC(),g6Q=jK(),A8B={collection:"map",default:!0,nodeClass:g6Q.YAMLMap,tag:"tag:yaml.org,2002:map",resolve(A,Q){if(!eZB.isMap(A))Q("Expected a mapping for this tag");return A},createNode:(A,Q,B)=>g6Q.YAMLMap.from(A,Q,B)};Q8B.map=A8B});var xK=m((J8B)=>{var C8B=Jy(),E8B=IWA(),I8B=ks(),rs=XC(),Y8B=eY(),G8B=RK();class v6Q extends I8B.Collection{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(A){super(rs.SEQ,A);this.items=[]}add(A){this.items.push(A)}delete(A){let Q=os(A);if(typeof Q!=="number")return!1;return this.items.splice(Q,1).length>0}get(A,Q){let B=os(A);if(typeof B!=="number")return;let C=this.items[B];return!Q&&rs.isScalar(C)?C.value:C}has(A){let Q=os(A);return typeof Q==="number"&&Q<this.items.length}set(A,Q){let B=os(A);if(typeof B!=="number")throw new Error(`Expected a valid index, not ${A}.`);let C=this.items[B];if(rs.isScalar(C)&&Y8B.isScalarValue(Q))C.value=Q;else this.items[B]=Q}toJSON(A,Q){let B=[];if(Q?.onCreate)Q.onCreate(B);let C=0;for(let E of this.items)B.push(G8B.toJS(E,String(C++),Q));return B}toString(A,Q,B){if(!A)return JSON.stringify(this);return E8B.stringifyCollection(this,A,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(A.indent||"")+"  ",onChompKeep:B,onComment:Q})}static from(A,Q,B){let{replacer:C}=B,E=new this(A);if(Q&&Symbol.iterator in Object(Q)){let I=0;for(let Y of Q){if(typeof C==="function"){let G=Q instanceof Set?Y:String(I++);Y=C.call(Q,G,Y)}E.items.push(C8B.createNode(Y,void 0,B))}}return E}}function os(A){let Q=rs.isScalar(A)?A.value:A;if(Q&&typeof Q==="string")Q=Number(Q);return typeof Q==="number"&&Number.isInteger(Q)&&Q>=0?Q:null}J8B.YAMLSeq=v6Q});var fR=m((Z8B)=>{var U8B=XC(),y6Q=xK(),N8B={collection:"seq",default:!0,nodeClass:y6Q.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(A,Q){if(!U8B.isSeq(A))Q("Expected a sequence for this tag");return A},createNode:(A,Q,B)=>y6Q.YAMLSeq.from(A,Q,B)};Z8B.seq=N8B});var Wy=m((W8B)=>{var F8B=Ny(),H8B={identify:(A)=>typeof A==="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:(A)=>A,stringify(A,Q,B,C){return Q=Object.assign({actualString:!0},Q),F8B.stringifyString(A,Q,B,C)}};W8B.string=H8B});var as=m((V8B)=>{var k6Q=eY(),b6Q={identify:(A)=>A==null,createNode:()=>new k6Q.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new k6Q.Scalar(null),stringify:({source:A},Q)=>typeof A==="string"&&b6Q.test.test(A)?A:Q.options.nullStr};V8B.nullTag=b6Q});var YWA=m((z8B)=>{var $8B=eY(),h6Q={identify:(A)=>typeof A==="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:(A)=>new $8B.Scalar(A[0]==="t"||A[0]==="T"),stringify({source:A,value:Q},B){if(A&&h6Q.test.test(A)){let C=A[0]==="t"||A[0]==="T";if(Q===C)return A}return Q?B.options.trueStr:B.options.falseStr}};z8B.boolTag=h6Q});var dR=m((O8B)=>{function L8B({format:A,minFractionDigits:Q,tag:B,value:C}){if(typeof C==="bigint")return String(C);let E=typeof C==="number"?C:Number(C);if(!isFinite(E))return isNaN(E)?".nan":E<0?"-.inf":".inf";let I=JSON.stringify(C);if(!A&&Q&&(!B||B==="tag:yaml.org,2002:float")&&/^\d/.test(I)){let Y=I.indexOf(".");if(Y<0)Y=I.length,I+=".";let G=Q-(I.length-Y-1);while(G-- >0)I+="0"}return I}O8B.stringifyNumber=L8B});var JWA=m((j8B)=>{var T8B=eY(),GWA=dR(),q8B={identify:(A)=>typeof A==="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:(A)=>A.slice(-3).toLowerCase()==="nan"?NaN:A[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:GWA.stringifyNumber},P8B={identify:(A)=>typeof A==="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:(A)=>parseFloat(A),stringify(A){let Q=Number(A.value);return isFinite(Q)?Q.toExponential():GWA.stringifyNumber(A)}},_8B={identify:(A)=>typeof A==="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(A){let Q=new T8B.Scalar(parseFloat(A)),B=A.indexOf(".");if(B!==-1&&A[A.length-1]==="0")Q.minFractionDigits=A.length-B-1;return Q},stringify:GWA.stringifyNumber};j8B.float=_8B;j8B.floatExp=P8B;j8B.floatNaN=q8B});var UWA=m((b8B)=>{var m6Q=dR(),ss=(A)=>typeof A==="bigint"||Number.isInteger(A),DWA=(A,Q,B,{intAsBigInt:C})=>C?BigInt(A):parseInt(A.substring(Q),B);function f6Q(A,Q,B){let{value:C}=A;if(ss(C)&&C>=0)return B+C.toString(Q);return m6Q.stringifyNumber(A)}var v8B={identify:(A)=>ss(A)&&A>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(A,Q,B)=>DWA(A,2,8,B),stringify:(A)=>f6Q(A,8,"0o")},y8B={identify:ss,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(A,Q,B)=>DWA(A,0,10,B),stringify:m6Q.stringifyNumber},k8B={identify:(A)=>ss(A)&&A>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(A,Q,B)=>DWA(A,2,16,B),stringify:(A)=>f6Q(A,16,"0x")};b8B.int=y8B;b8B.intHex=k8B;b8B.intOct=v8B});var d6Q=m((n8B)=>{var d8B=mR(),u8B=as(),p8B=fR(),c8B=Wy(),l8B=YWA(),NWA=JWA(),ZWA=UWA(),i8B=[d8B.map,p8B.seq,c8B.string,u8B.nullTag,l8B.boolTag,ZWA.intOct,ZWA.int,ZWA.intHex,NWA.floatNaN,NWA.floatExp,NWA.float];n8B.schema=i8B});var p6Q=m((Q9B)=>{var r8B=eY(),a8B=mR(),s8B=fR();function u6Q(A){return typeof A==="bigint"||Number.isInteger(A)}var ts=({value:A})=>JSON.stringify(A),t8B=[{identify:(A)=>typeof A==="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:(A)=>A,stringify:ts},{identify:(A)=>A==null,createNode:()=>new r8B.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:ts},{identify:(A)=>typeof A==="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:(A)=>A==="true",stringify:ts},{identify:u6Q,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(A,Q,{intAsBigInt:B})=>B?BigInt(A):parseInt(A,10),stringify:({value:A})=>u6Q(A)?A.toString():JSON.stringify(A)},{identify:(A)=>typeof A==="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:(A)=>parseFloat(A),stringify:ts}],e8B={default:!0,tag:"",test:/^/,resolve(A,Q){return Q(`Unresolved plain scalar ${JSON.stringify(A)}`),A}},A9B=[a8B.map,s8B.seq].concat(t8B,e8B);Q9B.schema=A9B});var FWA=m((I9B)=>{var Ky=a("node:buffer"),XWA=eY(),C9B=Ny(),E9B={identify:(A)=>A instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(A,Q){if(typeof Ky.Buffer==="function")return Ky.Buffer.from(A,"base64");else if(typeof atob==="function"){let B=atob(A.replace(/[\n\r]/g,"")),C=new Uint8Array(B.length);for(let E=0;E<B.length;++E)C[E]=B.charCodeAt(E);return C}else return Q("This environment does not support reading binary tags; either Buffer or atob is required"),A},stringify({comment:A,type:Q,value:B},C,E,I){if(!B)return"";let Y=B,G;if(typeof Ky.Buffer==="function")G=Y instanceof Ky.Buffer?Y.toString("base64"):Ky.Buffer.from(Y.buffer).toString("base64");else if(typeof btoa==="function"){let J="";for(let D=0;D<Y.length;++D)J+=String.fromCharCode(Y[D]);G=btoa(J)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(!Q)Q=XWA.Scalar.BLOCK_LITERAL;if(Q!==XWA.Scalar.QUOTE_DOUBLE){let J=Math.max(C.options.lineWidth-C.indent.length,C.options.minContentWidth),D=Math.ceil(G.length/J),U=new Array(D);for(let N=0,Z=0;N<D;++N,Z+=J)U[N]=G.substr(Z,J);G=U.join(Q===XWA.Scalar.BLOCK_LITERAL?`
`:" ")}return C9B.stringifyString({comment:A,type:Q,value:G},C,E,I)}};I9B.binary=E9B});var At=m((U9B)=>{var es=XC(),HWA=PK(),G9B=eY(),J9B=xK();function c6Q(A,Q){if(es.isSeq(A))for(let B=0;B<A.items.length;++B){let C=A.items[B];if(es.isPair(C))continue;else if(es.isMap(C)){if(C.items.length>1)Q("Each pair must have its own sequence indicator");let E=C.items[0]||new HWA.Pair(new G9B.Scalar(null));if(C.commentBefore)E.key.commentBefore=E.key.commentBefore?`${C.commentBefore}
${E.key.commentBefore}`:C.commentBefore;if(C.comment){let I=E.value??E.key;I.comment=I.comment?`${C.comment}
${I.comment}`:C.comment}C=E}A.items[B]=es.isPair(C)?C:new HWA.Pair(C)}else Q("Expected a sequence for this tag");return A}function l6Q(A,Q,B){let{replacer:C}=B,E=new J9B.YAMLSeq(A);E.tag="tag:yaml.org,2002:pairs";let I=0;if(Q&&Symbol.iterator in Object(Q))for(let Y of Q){if(typeof C==="function")Y=C.call(Q,String(I++),Y);let G,J;if(Array.isArray(Y))if(Y.length===2)G=Y[0],J=Y[1];else throw new TypeError(`Expected [key, value] tuple: ${Y}`);else if(Y&&Y instanceof Object){let D=Object.keys(Y);if(D.length===1)G=D[0],J=Y[G];else throw new TypeError(`Expected tuple with one key, not ${D.length} keys`)}else G=Y;E.items.push(HWA.createPair(G,J,B))}return E}var D9B={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:c6Q,createNode:l6Q};U9B.createPairs=l6Q;U9B.pairs=D9B;U9B.resolvePairs=c6Q});var KWA=m((W9B)=>{var i6Q=XC(),WWA=RK(),Vy=jK(),F9B=xK(),n6Q=At();class LM extends F9B.YAMLSeq{constructor(){super();this.add=Vy.YAMLMap.prototype.add.bind(this),this.delete=Vy.YAMLMap.prototype.delete.bind(this),this.get=Vy.YAMLMap.prototype.get.bind(this),this.has=Vy.YAMLMap.prototype.has.bind(this),this.set=Vy.YAMLMap.prototype.set.bind(this),this.tag=LM.tag}toJSON(A,Q){if(!Q)return super.toJSON(A);let B=new Map;if(Q?.onCreate)Q.onCreate(B);for(let C of this.items){let E,I;if(i6Q.isPair(C))E=WWA.toJS(C.key,"",Q),I=WWA.toJS(C.value,E,Q);else E=WWA.toJS(C,"",Q);if(B.has(E))throw new Error("Ordered maps must not include duplicate keys");B.set(E,I)}return B}static from(A,Q,B){let C=n6Q.createPairs(A,Q,B),E=new this;return E.items=C.items,E}}LM.tag="tag:yaml.org,2002:omap";var H9B={collection:"seq",identify:(A)=>A instanceof Map,nodeClass:LM,default:!1,tag:"tag:yaml.org,2002:omap",resolve(A,Q){let B=n6Q.resolvePairs(A,Q),C=[];for(let{key:E}of B.items)if(i6Q.isScalar(E))if(C.includes(E.value))Q(`Ordered maps must not include duplicate keys: ${E.value}`);else C.push(E.value);return Object.assign(new LM,B)},createNode:(A,Q,B)=>LM.from(A,Q,B)};W9B.YAMLOMap=LM;W9B.omap=H9B});var t6Q=m((M9B)=>{var o6Q=eY();function r6Q({value:A,source:Q},B){if(Q&&(A?a6Q:s6Q).test.test(Q))return Q;return A?B.options.trueStr:B.options.falseStr}var a6Q={identify:(A)=>A===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new o6Q.Scalar(!0),stringify:r6Q},s6Q={identify:(A)=>A===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new o6Q.Scalar(!1),stringify:r6Q};M9B.falseTag=s6Q;M9B.trueTag=a6Q});var e6Q=m((T9B)=>{var w9B=eY(),VWA=dR(),L9B={identify:(A)=>typeof A==="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:(A)=>A.slice(-3).toLowerCase()==="nan"?NaN:A[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:VWA.stringifyNumber},O9B={identify:(A)=>typeof A==="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:(A)=>parseFloat(A.replace(/_/g,"")),stringify(A){let Q=Number(A.value);return isFinite(Q)?Q.toExponential():VWA.stringifyNumber(A)}},R9B={identify:(A)=>typeof A==="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(A){let Q=new w9B.Scalar(parseFloat(A.replace(/_/g,""))),B=A.indexOf(".");if(B!==-1){let C=A.substring(B+1).replace(/_/g,"");if(C[C.length-1]==="0")Q.minFractionDigits=C.length}return Q},stringify:VWA.stringifyNumber};T9B.float=R9B;T9B.floatExp=O9B;T9B.floatNaN=L9B});var QFQ=m((v9B)=>{var AFQ=dR(),My=(A)=>typeof A==="bigint"||Number.isInteger(A);function Qt(A,Q,B,{intAsBigInt:C}){let E=A[0];if(E==="-"||E==="+")Q+=1;if(A=A.substring(Q).replace(/_/g,""),C){switch(B){case 2:A=`0b${A}`;break;case 8:A=`0o${A}`;break;case 16:A=`0x${A}`;break}let Y=BigInt(A);return E==="-"?BigInt(-1)*Y:Y}let I=parseInt(A,B);return E==="-"?-1*I:I}function MWA(A,Q,B){let{value:C}=A;if(My(C)){let E=C.toString(Q);return C<0?"-"+B+E.substr(1):B+E}return AFQ.stringifyNumber(A)}var j9B={identify:My,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(A,Q,B)=>Qt(A,2,2,B),stringify:(A)=>MWA(A,2,"0b")},x9B={identify:My,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(A,Q,B)=>Qt(A,1,8,B),stringify:(A)=>MWA(A,8,"0")},S9B={identify:My,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(A,Q,B)=>Qt(A,0,10,B),stringify:AFQ.stringifyNumber},g9B={identify:My,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(A,Q,B)=>Qt(A,2,16,B),stringify:(A)=>MWA(A,16,"0x")};v9B.int=S9B;v9B.intBin=j9B;v9B.intHex=g9B;v9B.intOct=x9B});var $WA=m((f9B)=>{var Et=XC(),Bt=PK(),Ct=jK();class OM extends Ct.YAMLMap{constructor(A){super(A);this.tag=OM.tag}add(A){let Q;if(Et.isPair(A))Q=A;else if(A&&typeof A==="object"&&"key"in A&&"value"in A&&A.value===null)Q=new Bt.Pair(A.key,null);else Q=new Bt.Pair(A,null);if(!Ct.findPair(this.items,Q.key))this.items.push(Q)}get(A,Q){let B=Ct.findPair(this.items,A);return!Q&&Et.isPair(B)?Et.isScalar(B.key)?B.key.value:B.key:B}set(A,Q){if(typeof Q!=="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof Q}`);let B=Ct.findPair(this.items,A);if(B&&!Q)this.items.splice(this.items.indexOf(B),1);else if(!B&&Q)this.items.push(new Bt.Pair(A))}toJSON(A,Q){return super.toJSON(A,Q,Set)}toString(A,Q,B){if(!A)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},A,{allNullValues:!0}),Q,B);else throw new Error("Set items must all have null values")}static from(A,Q,B){let{replacer:C}=B,E=new this(A);if(Q&&Symbol.iterator in Object(Q))for(let I of Q){if(typeof C==="function")I=C.call(Q,I,I);E.items.push(Bt.createPair(I,null,B))}return E}}OM.tag="tag:yaml.org,2002:set";var m9B={collection:"map",identify:(A)=>A instanceof Set,nodeClass:OM,default:!1,tag:"tag:yaml.org,2002:set",createNode:(A,Q,B)=>OM.from(A,Q,B),resolve(A,Q){if(Et.isMap(A))if(A.hasAllNullValues(!0))return Object.assign(new OM,A);else Q("Set items must all have null values");else Q("Expected a mapping for this tag");return A}};f9B.YAMLSet=OM;f9B.set=m9B});var wWA=m((i9B)=>{var p9B=dR();function zWA(A,Q){let B=A[0],C=B==="-"||B==="+"?A.substring(1):A,E=(Y)=>Q?BigInt(Y):Number(Y),I=C.replace(/_/g,"").split(":").reduce((Y,G)=>Y*E(60)+E(G),E(0));return B==="-"?E(-1)*I:I}function BFQ(A){let{value:Q}=A,B=(Y)=>Y;if(typeof Q==="bigint")B=(Y)=>BigInt(Y);else if(isNaN(Q)||!isFinite(Q))return p9B.stringifyNumber(A);let C="";if(Q<0)C="-",Q*=B(-1);let E=B(60),I=[Q%E];if(Q<60)I.unshift(0);else if(Q=(Q-I[0])/E,I.unshift(Q%E),Q>=60)Q=(Q-I[0])/E,I.unshift(Q);return C+I.map((Y)=>String(Y).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}var c9B={identify:(A)=>typeof A==="bigint"||Number.isInteger(A),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(A,Q,{intAsBigInt:B})=>zWA(A,B),stringify:BFQ},l9B={identify:(A)=>typeof A==="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:(A)=>zWA(A,!1),stringify:BFQ},CFQ={identify:(A)=>A instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(A){let Q=A.match(CFQ.test);if(!Q)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,B,C,E,I,Y,G]=Q.map(Number),J=Q[7]?Number((Q[7]+"00").substr(1,3)):0,D=Date.UTC(B,C-1,E,I||0,Y||0,G||0,J),U=Q[8];if(U&&U!=="Z"){let N=zWA(U,!1);if(Math.abs(N)<30)N*=60;D-=60000*N}return new Date(D)},stringify:({value:A})=>A?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""};i9B.floatTime=l9B;i9B.intTime=c9B;i9B.timestamp=CFQ});var IFQ=m((YXB)=>{var a9B=mR(),s9B=as(),t9B=fR(),e9B=Wy(),AXB=FWA(),EFQ=t6Q(),LWA=e6Q(),It=QFQ(),QXB=us(),BXB=KWA(),CXB=At(),EXB=$WA(),OWA=wWA(),IXB=[a9B.map,t9B.seq,e9B.string,s9B.nullTag,EFQ.trueTag,EFQ.falseTag,It.intBin,It.intOct,It.int,It.intHex,LWA.floatNaN,LWA.floatExp,LWA.float,AXB.binary,QXB.merge,BXB.omap,CXB.pairs,EXB.set,OWA.intTime,OWA.floatTime,OWA.timestamp];YXB.schema=IXB});var HFQ=m((HXB)=>{var DFQ=mR(),JXB=as(),UFQ=fR(),DXB=Wy(),UXB=YWA(),RWA=JWA(),TWA=UWA(),NXB=d6Q(),ZXB=p6Q(),NFQ=FWA(),$y=us(),ZFQ=KWA(),XFQ=At(),YFQ=IFQ(),FFQ=$WA(),Yt=wWA(),GFQ=new Map([["core",NXB.schema],["failsafe",[DFQ.map,UFQ.seq,DXB.string]],["json",ZXB.schema],["yaml11",YFQ.schema],["yaml-1.1",YFQ.schema]]),JFQ={binary:NFQ.binary,bool:UXB.boolTag,float:RWA.float,floatExp:RWA.floatExp,floatNaN:RWA.floatNaN,floatTime:Yt.floatTime,int:TWA.int,intHex:TWA.intHex,intOct:TWA.intOct,intTime:Yt.intTime,map:DFQ.map,merge:$y.merge,null:JXB.nullTag,omap:ZFQ.omap,pairs:XFQ.pairs,seq:UFQ.seq,set:FFQ.set,timestamp:Yt.timestamp},XXB={"tag:yaml.org,2002:binary":NFQ.binary,"tag:yaml.org,2002:merge":$y.merge,"tag:yaml.org,2002:omap":ZFQ.omap,"tag:yaml.org,2002:pairs":XFQ.pairs,"tag:yaml.org,2002:set":FFQ.set,"tag:yaml.org,2002:timestamp":Yt.timestamp};function FXB(A,Q,B){let C=GFQ.get(Q);if(C&&!A)return B&&!C.includes($y.merge)?C.concat($y.merge):C.slice();let E=C;if(!E)if(Array.isArray(A))E=[];else{let I=Array.from(GFQ.keys()).filter((Y)=>Y!=="yaml11").map((Y)=>JSON.stringify(Y)).join(", ");throw new Error(`Unknown schema "${Q}"; use one of ${I} or define customTags array`)}if(Array.isArray(A))for(let I of A)E=E.concat(I);else if(typeof A==="function")E=A(E.slice());if(B)E=E.concat($y.merge);return E.reduce((I,Y)=>{let G=typeof Y==="string"?JFQ[Y]:Y;if(!G){let J=JSON.stringify(Y),D=Object.keys(JFQ).map((U)=>JSON.stringify(U)).join(", ");throw new Error(`Unknown custom tag ${J}; use one of ${D}`)}if(!I.includes(G))I.push(G);return I},[])}HXB.coreKnownTags=XXB;HXB.getTags=FXB});var _WA=m((wXB)=>{var qWA=XC(),VXB=mR(),MXB=fR(),$XB=Wy(),Gt=HFQ(),zXB=(A,Q)=>A.key<Q.key?-1:A.key>Q.key?1:0;class PWA{constructor({compat:A,customTags:Q,merge:B,resolveKnownTags:C,schema:E,sortMapEntries:I,toStringDefaults:Y}){this.compat=Array.isArray(A)?Gt.getTags(A,"compat"):A?Gt.getTags(null,A):null,this.name=typeof E==="string"&&E||"core",this.knownTags=C?Gt.coreKnownTags:{},this.tags=Gt.getTags(Q,this.name,B),this.toStringOptions=Y??null,Object.defineProperty(this,qWA.MAP,{value:VXB.map}),Object.defineProperty(this,qWA.SCALAR,{value:$XB.string}),Object.defineProperty(this,qWA.SEQ,{value:MXB.seq}),this.sortMapEntries=typeof I==="function"?I:I===!0?zXB:null}clone(){let A=Object.create(PWA.prototype,Object.getOwnPropertyDescriptors(this));return A.tags=this.tags.slice(),A}}wXB.Schema=PWA});var WFQ=m((TXB)=>{var OXB=XC(),jWA=Zy(),zy=Dy();function RXB(A,Q){let B=[],C=Q.directives===!0;if(Q.directives!==!1&&A.directives){let J=A.directives.toString(A);if(J)B.push(J),C=!0;else if(A.directives.docStart)C=!0}if(C)B.push("---");let E=jWA.createStringifyContext(A,Q),{commentString:I}=E.options;if(A.commentBefore){if(B.length!==1)B.unshift("");let J=I(A.commentBefore);B.unshift(zy.indentComment(J,""))}let Y=!1,G=null;if(A.contents){if(OXB.isNode(A.contents)){if(A.contents.spaceBefore&&C)B.push("");if(A.contents.commentBefore){let U=I(A.contents.commentBefore);B.push(zy.indentComment(U,""))}E.forceBlockIndent=!!A.comment,G=A.contents.comment}let J=G?void 0:()=>Y=!0,D=jWA.stringify(A.contents,E,()=>G=null,J);if(G)D+=zy.lineComment(D,"",I(G));if((D[0]==="|"||D[0]===">")&&B[B.length-1]==="---")B[B.length-1]=`--- ${D}`;else B.push(D)}else B.push(jWA.stringify(A.contents,E));if(A.directives?.docEnd)if(A.comment){let J=I(A.comment);if(J.includes(`
`))B.push("..."),B.push(zy.indentComment(J,""));else B.push(`... ${J}`)}else B.push("...");else{let J=A.comment;if(J&&Y)J=J.replace(/^\n+/,"");if(J){if((!Y||G)&&B[B.length-1]!=="")B.push("");B.push(zy.indentComment(I(J),""))}}return B.join(`
`)+`
`}TXB.stringifyDocument=RXB});var wy=m((yXB)=>{var PXB=Gy(),uR=ks(),Q8=XC(),_XB=PK(),jXB=RK(),xXB=_WA(),SXB=WFQ(),xWA=Ss(),gXB=aHA(),vXB=Jy(),SWA=rHA();class gWA{constructor(A,Q,B){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Q8.NODE_TYPE,{value:Q8.DOC});let C=null;if(typeof Q==="function"||Array.isArray(Q))C=Q;else if(B===void 0&&Q)B=Q,Q=void 0;let E=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},B);this.options=E;let{version:I}=E;if(B?._directives){if(this.directives=B._directives.atDocument(),this.directives.yaml.explicit)I=this.directives.yaml.version}else this.directives=new SWA.Directives({version:I});this.setSchema(I,B),this.contents=A===void 0?null:this.createNode(A,C,B)}clone(){let A=Object.create(gWA.prototype,{[Q8.NODE_TYPE]:{value:Q8.DOC}});if(A.commentBefore=this.commentBefore,A.comment=this.comment,A.errors=this.errors.slice(),A.warnings=this.warnings.slice(),A.options=Object.assign({},this.options),this.directives)A.directives=this.directives.clone();if(A.schema=this.schema.clone(),A.contents=Q8.isNode(this.contents)?this.contents.clone(A.schema):this.contents,this.range)A.range=this.range.slice();return A}add(A){if(pR(this.contents))this.contents.add(A)}addIn(A,Q){if(pR(this.contents))this.contents.addIn(A,Q)}createAlias(A,Q){if(!A.anchor){let B=xWA.anchorNames(this);A.anchor=!Q||B.has(Q)?xWA.findNewAnchor(Q||"a",B):Q}return new PXB.Alias(A.anchor)}createNode(A,Q,B){let C=void 0;if(typeof Q==="function")A=Q.call({"":A},"",A),C=Q;else if(Array.isArray(Q)){let K=(M)=>typeof M==="number"||M instanceof String||M instanceof Number,V=Q.filter(K).map(String);if(V.length>0)Q=Q.concat(V);C=Q}else if(B===void 0&&Q)B=Q,Q=void 0;let{aliasDuplicateObjects:E,anchorPrefix:I,flow:Y,keepUndefined:G,onTagObj:J,tag:D}=B??{},{onAnchor:U,setAnchors:N,sourceObjects:Z}=xWA.createNodeAnchors(this,I||"a"),X={aliasDuplicateObjects:E??!0,keepUndefined:G??!1,onAnchor:U,onTagObj:J,replacer:C,schema:this.schema,sourceObjects:Z},W=vXB.createNode(A,D,X);if(Y&&Q8.isCollection(W))W.flow=!0;return N(),W}createPair(A,Q,B={}){let C=this.createNode(A,null,B),E=this.createNode(Q,null,B);return new _XB.Pair(C,E)}delete(A){return pR(this.contents)?this.contents.delete(A):!1}deleteIn(A){if(uR.isEmptyPath(A)){if(this.contents==null)return!1;return this.contents=null,!0}return pR(this.contents)?this.contents.deleteIn(A):!1}get(A,Q){return Q8.isCollection(this.contents)?this.contents.get(A,Q):void 0}getIn(A,Q){if(uR.isEmptyPath(A))return!Q&&Q8.isScalar(this.contents)?this.contents.value:this.contents;return Q8.isCollection(this.contents)?this.contents.getIn(A,Q):void 0}has(A){return Q8.isCollection(this.contents)?this.contents.has(A):!1}hasIn(A){if(uR.isEmptyPath(A))return this.contents!==void 0;return Q8.isCollection(this.contents)?this.contents.hasIn(A):!1}set(A,Q){if(this.contents==null)this.contents=uR.collectionFromPath(this.schema,[A],Q);else if(pR(this.contents))this.contents.set(A,Q)}setIn(A,Q){if(uR.isEmptyPath(A))this.contents=Q;else if(this.contents==null)this.contents=uR.collectionFromPath(this.schema,Array.from(A),Q);else if(pR(this.contents))this.contents.setIn(A,Q)}setSchema(A,Q={}){if(typeof A==="number")A=String(A);let B;switch(A){case"1.1":if(this.directives)this.directives.yaml.version="1.1";else this.directives=new SWA.Directives({version:"1.1"});B={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":if(this.directives)this.directives.yaml.version=A;else this.directives=new SWA.Directives({version:A});B={resolveKnownTags:!0,schema:"core"};break;case null:if(this.directives)delete this.directives;B=null;break;default:{let C=JSON.stringify(A);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${C}`)}}if(Q.schema instanceof Object)this.schema=Q.schema;else if(B)this.schema=new xXB.Schema(Object.assign(B,Q));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:A,jsonArg:Q,mapAsMap:B,maxAliasCount:C,onAnchor:E,reviver:I}={}){let Y={anchors:new Map,doc:this,keep:!A,mapAsMap:B===!0,mapKeyWarned:!1,maxAliasCount:typeof C==="number"?C:100},G=jXB.toJS(this.contents,Q??"",Y);if(typeof E==="function")for(let{count:J,res:D}of Y.anchors.values())E(D,J);return typeof I==="function"?gXB.applyReviver(I,{"":G},"",G):G}toJSON(A,Q){return this.toJS({json:!0,jsonArg:A,mapAsMap:!1,onAnchor:Q})}toString(A={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in A&&(!Number.isInteger(A.indent)||Number(A.indent)<=0)){let Q=JSON.stringify(A.indent);throw new Error(`"indent" option must be a positive integer, not ${Q}`)}return SXB.stringifyDocument(this,A)}}function pR(A){if(Q8.isCollection(A))return!0;throw new Error("Expected a YAML collection as document contents")}yXB.Document=gWA});var Ly=m((hXB)=>{class Jt extends Error{constructor(A,Q,B,C){super();this.name=A,this.code=B,this.message=C,this.pos=Q}}class KFQ extends Jt{constructor(A,Q,B){super("YAMLParseError",A,Q,B)}}class VFQ extends Jt{constructor(A,Q,B){super("YAMLWarning",A,Q,B)}}var bXB=(A,Q)=>(B)=>{if(B.pos[0]===-1)return;B.linePos=B.pos.map((G)=>Q.linePos(G));let{line:C,col:E}=B.linePos[0];B.message+=` at line ${C}, column ${E}`;let I=E-1,Y=A.substring(Q.lineStarts[C-1],Q.lineStarts[C]).replace(/[\n\r]+$/,"");if(I>=60&&Y.length>80){let G=Math.min(I-39,Y.length-79);Y="…"+Y.substring(G),I-=G-1}if(Y.length>80)Y=Y.substring(0,79)+"…";if(C>1&&/^ *$/.test(Y.substring(0,I))){let G=A.substring(Q.lineStarts[C-2],Q.lineStarts[C-1]);if(G.length>80)G=G.substring(0,79)+`…
`;Y=G+Y}if(/[^ ]/.test(Y)){let G=1,J=B.linePos[1];if(J&&J.line===C&&J.col>E)G=Math.max(1,Math.min(J.col-E,80-I));let D=" ".repeat(I)+"^".repeat(G);B.message+=`:

${Y}
${D}
`}};hXB.YAMLError=Jt;hXB.YAMLParseError=KFQ;hXB.YAMLWarning=VFQ;hXB.prettifyError=bXB});var Oy=m((cXB)=>{function pXB(A,{flow:Q,indicator:B,next:C,offset:E,onError:I,parentIndent:Y,startOnNewline:G}){let J=!1,D=G,U=G,N="",Z="",X=!1,W=!1,K=null,V=null,M=null,z=null,L=null,O=null,R=null;for(let q of A){if(W){if(q.type!=="space"&&q.type!=="newline"&&q.type!=="comma")I(q.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space");W=!1}if(K){if(D&&q.type!=="comment"&&q.type!=="newline")I(K,"TAB_AS_INDENT","Tabs are not allowed as indentation");K=null}switch(q.type){case"space":if(!Q&&(B!=="doc-start"||C?.type!=="flow-collection")&&q.source.includes("\t"))K=q;U=!0;break;case"comment":{if(!U)I(q,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let y=q.source.substring(1)||" ";if(!N)N=y;else N+=Z+y;Z="",D=!1;break}case"newline":if(D){if(N)N+=q.source;else if(!O||B!=="seq-item-ind")J=!0}else Z+=q.source;if(D=!0,X=!0,V||M)z=q;U=!0;break;case"anchor":if(V)I(q,"MULTIPLE_ANCHORS","A node can have at most one anchor");if(q.source.endsWith(":"))I(q.offset+q.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0);if(V=q,R===null)R=q.offset;D=!1,U=!1,W=!0;break;case"tag":{if(M)I(q,"MULTIPLE_TAGS","A node can have at most one tag");if(M=q,R===null)R=q.offset;D=!1,U=!1,W=!0;break}case B:if(V||M)I(q,"BAD_PROP_ORDER",`Anchors and tags must be after the ${q.source} indicator`);if(O)I(q,"UNEXPECTED_TOKEN",`Unexpected ${q.source} in ${Q??"collection"}`);O=q,D=B==="seq-item-ind"||B==="explicit-key-ind",U=!1;break;case"comma":if(Q){if(L)I(q,"UNEXPECTED_TOKEN",`Unexpected , in ${Q}`);L=q,D=!1,U=!1;break}default:I(q,"UNEXPECTED_TOKEN",`Unexpected ${q.type} token`),D=!1,U=!1}}let _=A[A.length-1],S=_?_.offset+_.source.length:E;if(W&&C&&C.type!=="space"&&C.type!=="newline"&&C.type!=="comma"&&(C.type!=="scalar"||C.source!==""))I(C.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space");if(K&&(D&&K.indent<=Y||C?.type==="block-map"||C?.type==="block-seq"))I(K,"TAB_AS_INDENT","Tabs are not allowed as indentation");return{comma:L,found:O,spaceBefore:J,comment:N,hasNewline:X,anchor:V,tag:M,newlineAfterProp:z,end:S,start:R??S}}cXB.resolveProps=pXB});var Dt=m((iXB)=>{function vWA(A){if(!A)return null;switch(A.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(A.source.includes(`
`))return!0;if(A.end){for(let Q of A.end)if(Q.type==="newline")return!0}return!1;case"flow-collection":for(let Q of A.items){for(let B of Q.start)if(B.type==="newline")return!0;if(Q.sep){for(let B of Q.sep)if(B.type==="newline")return!0}if(vWA(Q.key)||vWA(Q.value))return!0}return!1;default:return!0}}iXB.containsNewline=vWA});var yWA=m((aXB)=>{var oXB=Dt();function rXB(A,Q,B){if(Q?.type==="flow-collection"){let C=Q.end[0];if(C.indent===A&&(C.source==="]"||C.source==="}")&&oXB.containsNewline(Q))B(C,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}aXB.flowIndentCheck=rXB});var kWA=m((eXB)=>{var MFQ=XC();function tXB(A,Q,B){let{uniqueKeys:C}=A.options;if(C===!1)return!1;let E=typeof C==="function"?C:(I,Y)=>I===Y||MFQ.isScalar(I)&&MFQ.isScalar(Y)&&I.value===Y.value;return Q.some((I)=>E(I.key,B))}eXB.mapIncludes=tXB});var OFQ=m((I4B)=>{var $FQ=PK(),Q4B=jK(),zFQ=Oy(),B4B=Dt(),wFQ=yWA(),C4B=kWA(),LFQ="All mapping items must start at the same column";function E4B({composeNode:A,composeEmptyNode:Q},B,C,E,I){let G=new(I?.nodeClass??Q4B.YAMLMap)(B.schema);if(B.atRoot)B.atRoot=!1;let J=C.offset,D=null;for(let U of C.items){let{start:N,key:Z,sep:X,value:W}=U,K=zFQ.resolveProps(N,{indicator:"explicit-key-ind",next:Z??X?.[0],offset:J,onError:E,parentIndent:C.indent,startOnNewline:!0}),V=!K.found;if(V){if(Z){if(Z.type==="block-seq")E(J,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key");else if("indent"in Z&&Z.indent!==C.indent)E(J,"BAD_INDENT",LFQ)}if(!K.anchor&&!K.tag&&!X){if(D=K.end,K.comment)if(G.comment)G.comment+=`
`+K.comment;else G.comment=K.comment;continue}if(K.newlineAfterProp||B4B.containsNewline(Z))E(Z??N[N.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else if(K.found?.indent!==C.indent)E(J,"BAD_INDENT",LFQ);B.atKey=!0;let M=K.end,z=Z?A(B,Z,K,E):Q(B,M,N,null,K,E);if(B.schema.compat)wFQ.flowIndentCheck(C.indent,Z,E);if(B.atKey=!1,C4B.mapIncludes(B,G.items,z))E(M,"DUPLICATE_KEY","Map keys must be unique");let L=zFQ.resolveProps(X??[],{indicator:"map-value-ind",next:W,offset:z.range[2],onError:E,parentIndent:C.indent,startOnNewline:!Z||Z.type==="block-scalar"});if(J=L.end,L.found){if(V){if(W?.type==="block-map"&&!L.hasNewline)E(J,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings");if(B.options.strict&&K.start<L.found.offset-1024)E(z.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key")}let O=W?A(B,W,L,E):Q(B,J,X,null,L,E);if(B.schema.compat)wFQ.flowIndentCheck(C.indent,W,E);J=O.range[2];let R=new $FQ.Pair(z,O);if(B.options.keepSourceTokens)R.srcToken=U;G.items.push(R)}else{if(V)E(z.range,"MISSING_CHAR","Implicit map keys need to be followed by map values");if(L.comment)if(z.comment)z.comment+=`
`+L.comment;else z.comment=L.comment;let O=new $FQ.Pair(z);if(B.options.keepSourceTokens)O.srcToken=U;G.items.push(O)}}if(D&&D<J)E(D,"IMPOSSIBLE","Map comment with trailing content");return G.range=[C.offset,J,D??J],G}I4B.resolveBlockMap=E4B});var RFQ=m((N4B)=>{var G4B=xK(),J4B=Oy(),D4B=yWA();function U4B({composeNode:A,composeEmptyNode:Q},B,C,E,I){let G=new(I?.nodeClass??G4B.YAMLSeq)(B.schema);if(B.atRoot)B.atRoot=!1;if(B.atKey)B.atKey=!1;let J=C.offset,D=null;for(let{start:U,value:N}of C.items){let Z=J4B.resolveProps(U,{indicator:"seq-item-ind",next:N,offset:J,onError:E,parentIndent:C.indent,startOnNewline:!0});if(!Z.found)if(Z.anchor||Z.tag||N)if(N&&N.type==="block-seq")E(Z.end,"BAD_INDENT","All sequence items must start at the same column");else E(J,"MISSING_CHAR","Sequence item without - indicator");else{if(D=Z.end,Z.comment)G.comment=Z.comment;continue}let X=N?A(B,N,Z,E):Q(B,Z.end,U,null,Z,E);if(B.schema.compat)D4B.flowIndentCheck(C.indent,N,E);J=X.range[2],G.items.push(X)}return G.range=[C.offset,J,D??J],G}N4B.resolveBlockSeq=U4B});var cR=m((F4B)=>{function X4B(A,Q,B,C){let E="";if(A){let I=!1,Y="";for(let G of A){let{source:J,type:D}=G;switch(D){case"space":I=!0;break;case"comment":{if(B&&!I)C(G,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let U=J.substring(1)||" ";if(!E)E=U;else E+=Y+U;Y="";break}case"newline":if(E)Y+=J;I=!0;break;default:C(G,"UNEXPECTED_TOKEN",`Unexpected ${D} at node end`)}Q+=J.length}}return{comment:E,offset:Q}}F4B.resolveEnd=X4B});var PFQ=m((L4B)=>{var W4B=XC(),K4B=PK(),TFQ=jK(),V4B=xK(),M4B=cR(),qFQ=Oy(),$4B=Dt(),z4B=kWA(),bWA="Block collections are not allowed within flow collections",hWA=(A)=>A&&(A.type==="block-map"||A.type==="block-seq");function w4B({composeNode:A,composeEmptyNode:Q},B,C,E,I){let Y=C.start.source==="{",G=Y?"flow map":"flow sequence",D=new(I?.nodeClass??(Y?TFQ.YAMLMap:V4B.YAMLSeq))(B.schema);D.flow=!0;let U=B.atRoot;if(U)B.atRoot=!1;if(B.atKey)B.atKey=!1;let N=C.offset+C.start.source.length;for(let V=0;V<C.items.length;++V){let M=C.items[V],{start:z,key:L,sep:O,value:R}=M,_=qFQ.resolveProps(z,{flow:G,indicator:"explicit-key-ind",next:L??O?.[0],offset:N,onError:E,parentIndent:C.indent,startOnNewline:!1});if(!_.found){if(!_.anchor&&!_.tag&&!O&&!R){if(V===0&&_.comma)E(_.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${G}`);else if(V<C.items.length-1)E(_.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${G}`);if(_.comment)if(D.comment)D.comment+=`
`+_.comment;else D.comment=_.comment;N=_.end;continue}if(!Y&&B.options.strict&&$4B.containsNewline(L))E(L,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(V===0){if(_.comma)E(_.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${G}`)}else{if(!_.comma)E(_.start,"MISSING_CHAR",`Missing , between ${G} items`);if(_.comment){let S="";A:for(let q of z)switch(q.type){case"comma":case"space":break;case"comment":S=q.source.substring(1);break A;default:break A}if(S){let q=D.items[D.items.length-1];if(W4B.isPair(q))q=q.value??q.key;if(q.comment)q.comment+=`
`+S;else q.comment=S;_.comment=_.comment.substring(S.length+1)}}}if(!Y&&!O&&!_.found){let S=R?A(B,R,_,E):Q(B,_.end,O,null,_,E);if(D.items.push(S),N=S.range[2],hWA(R))E(S.range,"BLOCK_IN_FLOW",bWA)}else{B.atKey=!0;let S=_.end,q=L?A(B,L,_,E):Q(B,S,z,null,_,E);if(hWA(L))E(q.range,"BLOCK_IN_FLOW",bWA);B.atKey=!1;let y=qFQ.resolveProps(O??[],{flow:G,indicator:"map-value-ind",next:R,offset:q.range[2],onError:E,parentIndent:C.indent,startOnNewline:!1});if(y.found){if(!Y&&!_.found&&B.options.strict){if(O)for(let MA of O){if(MA===y.found)break;if(MA.type==="newline"){E(MA,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}if(_.start<y.found.offset-1024)E(y.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else if(R)if("source"in R&&R.source&&R.source[0]===":")E(R,"MISSING_CHAR",`Missing space after : in ${G}`);else E(y.start,"MISSING_CHAR",`Missing , or : between ${G} items`);let p=R?A(B,R,y,E):y.found?Q(B,y.end,O,null,y,E):null;if(p){if(hWA(R))E(p.range,"BLOCK_IN_FLOW",bWA)}else if(y.comment)if(q.comment)q.comment+=`
`+y.comment;else q.comment=y.comment;let i=new K4B.Pair(q,p);if(B.options.keepSourceTokens)i.srcToken=M;if(Y){let MA=D;if(z4B.mapIncludes(B,MA.items,q))E(S,"DUPLICATE_KEY","Map keys must be unique");MA.items.push(i)}else{let MA=new TFQ.YAMLMap(B.schema);MA.flow=!0,MA.items.push(i);let d=(p??q).range;MA.range=[q.range[0],d[1],d[2]],D.items.push(MA)}N=p?p.range[2]:y.end}}let Z=Y?"}":"]",[X,...W]=C.end,K=N;if(X&&X.source===Z)K=X.offset+X.source.length;else{let V=G[0].toUpperCase()+G.substring(1),M=U?`${V} must end with a ${Z}`:`${V} in block collection must be sufficiently indented and end with a ${Z}`;if(E(N,U?"MISSING_CHAR":"BAD_INDENT",M),X&&X.source.length!==1)W.unshift(X)}if(W.length>0){let V=M4B.resolveEnd(W,K,B.options.strict,E);if(V.comment)if(D.comment)D.comment+=`
`+V.comment;else D.comment=V.comment;D.range=[C.offset,K,V.offset]}else D.range=[C.offset,K,K];return D}L4B.resolveFlowCollection=w4B});var _FQ=m((g4B)=>{var R4B=XC(),T4B=eY(),q4B=jK(),P4B=xK(),_4B=OFQ(),j4B=RFQ(),x4B=PFQ();function mWA(A,Q,B,C,E,I){let Y=B.type==="block-map"?_4B.resolveBlockMap(A,Q,B,C,I):B.type==="block-seq"?j4B.resolveBlockSeq(A,Q,B,C,I):x4B.resolveFlowCollection(A,Q,B,C,I),G=Y.constructor;if(E==="!"||E===G.tagName)return Y.tag=G.tagName,Y;if(E)Y.tag=E;return Y}function S4B(A,Q,B,C,E){let I=C.tag,Y=!I?null:Q.directives.tagName(I.source,(Z)=>E(I,"TAG_RESOLVE_FAILED",Z));if(B.type==="block-seq"){let{anchor:Z,newlineAfterProp:X}=C,W=Z&&I?Z.offset>I.offset?Z:I:Z??I;if(W&&(!X||X.offset<W.offset))E(W,"MISSING_CHAR","Missing newline after block sequence props")}let G=B.type==="block-map"?"map":B.type==="block-seq"?"seq":B.start.source==="{"?"map":"seq";if(!I||!Y||Y==="!"||Y===q4B.YAMLMap.tagName&&G==="map"||Y===P4B.YAMLSeq.tagName&&G==="seq")return mWA(A,Q,B,E,Y);let J=Q.schema.tags.find((Z)=>Z.tag===Y&&Z.collection===G);if(!J){let Z=Q.schema.knownTags[Y];if(Z&&Z.collection===G)Q.schema.tags.push(Object.assign({},Z,{default:!1})),J=Z;else{if(Z)E(I,"BAD_COLLECTION_TYPE",`${Z.tag} used for ${G} collection, but expects ${Z.collection??"scalar"}`,!0);else E(I,"TAG_RESOLVE_FAILED",`Unresolved tag: ${Y}`,!0);return mWA(A,Q,B,E,Y)}}let D=mWA(A,Q,B,E,Y,J),U=J.resolve?.(D,(Z)=>E(I,"TAG_RESOLVE_FAILED",Z),Q.options)??D,N=R4B.isNode(U)?U:new T4B.Scalar(U);if(N.range=D.range,N.tag=Y,J?.format)N.format=J.format;return N}g4B.composeCollection=S4B});var dWA=m((h4B)=>{var fWA=eY();function y4B(A,Q,B){let C=Q.offset,E=k4B(Q,A.options.strict,B);if(!E)return{value:"",type:null,comment:"",range:[C,C,C]};let I=E.mode===">"?fWA.Scalar.BLOCK_FOLDED:fWA.Scalar.BLOCK_LITERAL,Y=Q.source?b4B(Q.source):[],G=Y.length;for(let K=Y.length-1;K>=0;--K){let V=Y[K][1];if(V===""||V==="\r")G=K;else break}if(G===0){let K=E.chomp==="+"&&Y.length>0?`
`.repeat(Math.max(1,Y.length-1)):"",V=C+E.length;if(Q.source)V+=Q.source.length;return{value:K,type:I,comment:E.comment,range:[C,V,V]}}let J=Q.indent+E.indent,D=Q.offset+E.length,U=0;for(let K=0;K<G;++K){let[V,M]=Y[K];if(M===""||M==="\r"){if(E.indent===0&&V.length>J)J=V.length}else{if(V.length<J)B(D+V.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator");if(E.indent===0)J=V.length;if(U=K,J===0&&!A.atRoot)B(D,"BAD_INDENT","Block scalar values in collections must be indented");break}D+=V.length+M.length+1}for(let K=Y.length-1;K>=G;--K)if(Y[K][0].length>J)G=K+1;let N="",Z="",X=!1;for(let K=0;K<U;++K)N+=Y[K][0].slice(J)+`
`;for(let K=U;K<G;++K){let[V,M]=Y[K];D+=V.length+M.length+1;let z=M[M.length-1]==="\r";if(z)M=M.slice(0,-1);if(M&&V.length<J){let O=`Block scalar lines must not be less indented than their ${E.indent?"explicit indentation indicator":"first line"}`;B(D-M.length-(z?2:1),"BAD_INDENT",O),V=""}if(I===fWA.Scalar.BLOCK_LITERAL)N+=Z+V.slice(J)+M,Z=`
`;else if(V.length>J||M[0]==="\t"){if(Z===" ")Z=`
`;else if(!X&&Z===`
`)Z=`

`;N+=Z+V.slice(J)+M,Z=`
`,X=!0}else if(M==="")if(Z===`
`)N+=`
`;else Z=`
`;else N+=Z+M,Z=" ",X=!1}switch(E.chomp){case"-":break;case"+":for(let K=G;K<Y.length;++K)N+=`
`+Y[K][0].slice(J);if(N[N.length-1]!==`
`)N+=`
`;break;default:N+=`
`}let W=C+E.length+Q.source.length;return{value:N,type:I,comment:E.comment,range:[C,W,W]}}function k4B({offset:A,props:Q},B,C){if(Q[0].type!=="block-scalar-header")return C(Q[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:E}=Q[0],I=E[0],Y=0,G="",J=-1;for(let Z=1;Z<E.length;++Z){let X=E[Z];if(!G&&(X==="-"||X==="+"))G=X;else{let W=Number(X);if(!Y&&W)Y=W;else if(J===-1)J=A+Z}}if(J!==-1)C(J,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${E}`);let D=!1,U="",N=E.length;for(let Z=1;Z<Q.length;++Z){let X=Q[Z];switch(X.type){case"space":D=!0;case"newline":N+=X.source.length;break;case"comment":if(B&&!D)C(X,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");N+=X.source.length,U=X.source.substring(1);break;case"error":C(X,"UNEXPECTED_TOKEN",X.message),N+=X.source.length;break;default:{let W=`Unexpected token in block scalar header: ${X.type}`;C(X,"UNEXPECTED_TOKEN",W);let K=X.source;if(K&&typeof K==="string")N+=K.length}}}return{mode:I,indent:Y,chomp:G,comment:U,length:N}}function b4B(A){let Q=A.split(/\n( *)/),B=Q[0],C=B.match(/^( *)/),I=[C?.[1]?[C[1],B.slice(C[1].length)]:["",B]];for(let Y=1;Y<Q.length;Y+=2)I.push([Q[Y],Q[Y+1]]);return I}h4B.resolveBlockScalar=y4B});var pWA=m((o4B)=>{var uWA=eY(),f4B=cR();function d4B(A,Q,B){let{offset:C,type:E,source:I,end:Y}=A,G,J,D=(Z,X,W)=>B(C+Z,X,W);switch(E){case"scalar":G=uWA.Scalar.PLAIN,J=u4B(I,D);break;case"single-quoted-scalar":G=uWA.Scalar.QUOTE_SINGLE,J=p4B(I,D);break;case"double-quoted-scalar":G=uWA.Scalar.QUOTE_DOUBLE,J=c4B(I,D);break;default:return B(A,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${E}`),{value:"",type:null,comment:"",range:[C,C+I.length,C+I.length]}}let U=C+I.length,N=f4B.resolveEnd(Y,U,Q,B);return{value:J,type:G,comment:N.comment,range:[C,U,N.offset]}}function u4B(A,Q){let B="";switch(A[0]){case"\t":B="a tab character";break;case",":B="flow indicator character ,";break;case"%":B="directive indicator character %";break;case"|":case">":{B=`block scalar indicator ${A[0]}`;break}case"@":case"`":{B=`reserved character ${A[0]}`;break}}if(B)Q(0,"BAD_SCALAR_START",`Plain value cannot start with ${B}`);return jFQ(A)}function p4B(A,Q){if(A[A.length-1]!=="'"||A.length===1)Q(A.length,"MISSING_CHAR","Missing closing 'quote");return jFQ(A.slice(1,-1)).replace(/''/g,"'")}function jFQ(A){let Q,B;try{Q=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),B=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{Q=/(.*?)[ \t]*\r?\n/sy,B=/[ \t]*(.*?)[ \t]*\r?\n/sy}let C=Q.exec(A);if(!C)return A;let E=C[1],I=" ",Y=Q.lastIndex;B.lastIndex=Y;while(C=B.exec(A)){if(C[1]==="")if(I===`
`)E+=I;else I=`
`;else E+=I+C[1],I=" ";Y=B.lastIndex}let G=/[ \t]*(.*)/sy;return G.lastIndex=Y,C=G.exec(A),E+I+(C?.[1]??"")}function c4B(A,Q){let B="";for(let C=1;C<A.length-1;++C){let E=A[C];if(E==="\r"&&A[C+1]===`
`)continue;if(E===`
`){let{fold:I,offset:Y}=l4B(A,C);B+=I,C=Y}else if(E==="\\"){let I=A[++C],Y=i4B[I];if(Y)B+=Y;else if(I===`
`){I=A[C+1];while(I===" "||I==="\t")I=A[++C+1]}else if(I==="\r"&&A[C+1]===`
`){I=A[++C+1];while(I===" "||I==="\t")I=A[++C+1]}else if(I==="x"||I==="u"||I==="U"){let G={x:2,u:4,U:8}[I];B+=n4B(A,C+1,G,Q),C+=G}else{let G=A.substr(C-1,2);Q(C-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${G}`),B+=G}}else if(E===" "||E==="\t"){let I=C,Y=A[C+1];while(Y===" "||Y==="\t")Y=A[++C+1];if(Y!==`
`&&!(Y==="\r"&&A[C+2]===`
`))B+=C>I?A.slice(I,C+1):E}else B+=E}if(A[A.length-1]!=='"'||A.length===1)Q(A.length,"MISSING_CHAR",'Missing closing "quote');return B}function l4B(A,Q){let B="",C=A[Q+1];while(C===" "||C==="\t"||C===`
`||C==="\r"){if(C==="\r"&&A[Q+2]!==`
`)break;if(C===`
`)B+=`
`;Q+=1,C=A[Q+1]}if(!B)B=" ";return{fold:B,offset:Q}}var i4B={"0":"\x00",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"\t",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","\t":"\t"};function n4B(A,Q,B,C){let E=A.substr(Q,B),Y=E.length===B&&/^[0-9a-fA-F]+$/.test(E)?parseInt(E,16):NaN;if(isNaN(Y)){let G=A.substr(Q-2,B+2);return C(Q-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${G}`),G}return String.fromCodePoint(Y)}o4B.resolveFlowScalar=d4B});var SFQ=m((Q1B)=>{var RM=XC(),xFQ=eY(),a4B=dWA(),s4B=pWA();function t4B(A,Q,B,C){let{value:E,type:I,comment:Y,range:G}=Q.type==="block-scalar"?a4B.resolveBlockScalar(A,Q,C):s4B.resolveFlowScalar(Q,A.options.strict,C),J=B?A.directives.tagName(B.source,(N)=>C(B,"TAG_RESOLVE_FAILED",N)):null,D;if(A.options.stringKeys&&A.atKey)D=A.schema[RM.SCALAR];else if(J)D=e4B(A.schema,E,J,B,C);else if(Q.type==="scalar")D=A1B(A,E,Q,C);else D=A.schema[RM.SCALAR];let U;try{let N=D.resolve(E,(Z)=>C(B??Q,"TAG_RESOLVE_FAILED",Z),A.options);U=RM.isScalar(N)?N:new xFQ.Scalar(N)}catch(N){let Z=N instanceof Error?N.message:String(N);C(B??Q,"TAG_RESOLVE_FAILED",Z),U=new xFQ.Scalar(E)}if(U.range=G,U.source=E,I)U.type=I;if(J)U.tag=J;if(D.format)U.format=D.format;if(Y)U.comment=Y;return U}function e4B(A,Q,B,C,E){if(B==="!")return A[RM.SCALAR];let I=[];for(let G of A.tags)if(!G.collection&&G.tag===B)if(G.default&&G.test)I.push(G);else return G;for(let G of I)if(G.test?.test(Q))return G;let Y=A.knownTags[B];if(Y&&!Y.collection)return A.tags.push(Object.assign({},Y,{default:!1,test:void 0})),Y;return E(C,"TAG_RESOLVE_FAILED",`Unresolved tag: ${B}`,B!=="tag:yaml.org,2002:str"),A[RM.SCALAR]}function A1B({atKey:A,directives:Q,schema:B},C,E,I){let Y=B.tags.find((G)=>(G.default===!0||A&&G.default==="key")&&G.test?.test(C))||B[RM.SCALAR];if(B.compat){let G=B.compat.find((J)=>J.default&&J.test?.test(C))??B[RM.SCALAR];if(Y.tag!==G.tag){let J=Q.tagString(Y.tag),D=Q.tagString(G.tag),U=`Value may be parsed as either ${J} or ${D}`;I(E,"TAG_RESOLVE_FAILED",U,!0)}}return Y}Q1B.composeScalar=t4B});var gFQ=m((E1B)=>{function C1B(A,Q,B){if(Q){if(B===null)B=Q.length;for(let C=B-1;C>=0;--C){let E=Q[C];switch(E.type){case"space":case"comment":case"newline":A-=E.source.length;continue}E=Q[++C];while(E?.type==="space")A+=E.source.length,E=Q[++C];break}}return A}E1B.emptyScalarPosition=C1B});var kFQ=m((X1B)=>{var Y1B=Gy(),G1B=XC(),J1B=_FQ(),vFQ=SFQ(),D1B=cR(),U1B=gFQ(),N1B={composeNode:yFQ,composeEmptyNode:cWA};function yFQ(A,Q,B,C){let E=A.atKey,{spaceBefore:I,comment:Y,anchor:G,tag:J}=B,D,U=!0;switch(Q.type){case"alias":if(D=Z1B(A,Q,C),G||J)C(Q,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":if(D=vFQ.composeScalar(A,Q,J,C),G)D.anchor=G.source.substring(1);break;case"block-map":case"block-seq":case"flow-collection":if(D=J1B.composeCollection(N1B,A,Q,B,C),G)D.anchor=G.source.substring(1);break;default:{let N=Q.type==="error"?Q.message:`Unsupported token (type: ${Q.type})`;C(Q,"UNEXPECTED_TOKEN",N),D=cWA(A,Q.offset,void 0,null,B,C),U=!1}}if(G&&D.anchor==="")C(G,"BAD_ALIAS","Anchor cannot be an empty string");if(E&&A.options.stringKeys&&(!G1B.isScalar(D)||typeof D.value!=="string"||D.tag&&D.tag!=="tag:yaml.org,2002:str"))C(J??Q,"NON_STRING_KEY","With stringKeys, all keys must be strings");if(I)D.spaceBefore=!0;if(Y)if(Q.type==="scalar"&&Q.source==="")D.comment=Y;else D.commentBefore=Y;if(A.options.keepSourceTokens&&U)D.srcToken=Q;return D}function cWA(A,Q,B,C,{spaceBefore:E,comment:I,anchor:Y,tag:G,end:J},D){let U={type:"scalar",offset:U1B.emptyScalarPosition(Q,B,C),indent:-1,source:""},N=vFQ.composeScalar(A,U,G,D);if(Y){if(N.anchor=Y.source.substring(1),N.anchor==="")D(Y,"BAD_ALIAS","Anchor cannot be an empty string")}if(E)N.spaceBefore=!0;if(I)N.comment=I,N.range[2]=J;return N}function Z1B({options:A},{offset:Q,source:B,end:C},E){let I=new Y1B.Alias(B.substring(1));if(I.source==="")E(Q,"BAD_ALIAS","Alias cannot be an empty string");if(I.source.endsWith(":"))E(Q+B.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let Y=Q+B.length,G=D1B.resolveEnd(C,Y,A.strict,E);if(I.range=[Q,Y,G.offset],G.comment)I.comment=G.comment;return I}X1B.composeEmptyNode=cWA;X1B.composeNode=yFQ});var hFQ=m(($1B)=>{var W1B=wy(),bFQ=kFQ(),K1B=cR(),V1B=Oy();function M1B(A,Q,{offset:B,start:C,value:E,end:I},Y){let G=Object.assign({_directives:Q},A),J=new W1B.Document(void 0,G),D={atKey:!1,atRoot:!0,directives:J.directives,options:J.options,schema:J.schema},U=V1B.resolveProps(C,{indicator:"doc-start",next:E??I?.[0],offset:B,onError:Y,parentIndent:0,startOnNewline:!0});if(U.found){if(J.directives.docStart=!0,E&&(E.type==="block-map"||E.type==="block-seq")&&!U.hasNewline)Y(U.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")}J.contents=E?bFQ.composeNode(D,E,U,Y):bFQ.composeEmptyNode(D,U.end,C,null,U,Y);let N=J.contents.range[2],Z=K1B.resolveEnd(I,N,!1,Y);if(Z.comment)J.comment=Z.comment;return J.range=[B,N,Z.offset],J}$1B.composeDoc=M1B});var lWA=m((q1B)=>{var w1B=a("node:process"),L1B=rHA(),O1B=wy(),Ry=Ly(),mFQ=XC(),R1B=hFQ(),T1B=cR();function Ty(A){if(typeof A==="number")return[A,A+1];if(Array.isArray(A))return A.length===2?A:[A[0],A[1]];let{offset:Q,source:B}=A;return[Q,Q+(typeof B==="string"?B.length:1)]}function fFQ(A){let Q="",B=!1,C=!1;for(let E=0;E<A.length;++E){let I=A[E];switch(I[0]){case"#":Q+=(Q===""?"":C?`

`:`
`)+(I.substring(1)||" "),B=!0,C=!1;break;case"%":if(A[E+1]?.[0]!=="#")E+=1;B=!1;break;default:if(!B)C=!0;B=!1}}return{comment:Q,afterEmptyLine:C}}class dFQ{constructor(A={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(Q,B,C,E)=>{let I=Ty(Q);if(E)this.warnings.push(new Ry.YAMLWarning(I,B,C));else this.errors.push(new Ry.YAMLParseError(I,B,C))},this.directives=new L1B.Directives({version:A.version||"1.2"}),this.options=A}decorate(A,Q){let{comment:B,afterEmptyLine:C}=fFQ(this.prelude);if(B){let E=A.contents;if(Q)A.comment=A.comment?`${A.comment}
${B}`:B;else if(C||A.directives.docStart||!E)A.commentBefore=B;else if(mFQ.isCollection(E)&&!E.flow&&E.items.length>0){let I=E.items[0];if(mFQ.isPair(I))I=I.key;let Y=I.commentBefore;I.commentBefore=Y?`${B}
${Y}`:B}else{let I=E.commentBefore;E.commentBefore=I?`${B}
${I}`:B}}if(Q)Array.prototype.push.apply(A.errors,this.errors),Array.prototype.push.apply(A.warnings,this.warnings);else A.errors=this.errors,A.warnings=this.warnings;this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:fFQ(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(A,Q=!1,B=-1){for(let C of A)yield*this.next(C);yield*this.end(Q,B)}*next(A){if(w1B.env.LOG_STREAM)console.dir(A,{depth:null});switch(A.type){case"directive":this.directives.add(A.source,(Q,B,C)=>{let E=Ty(A);E[0]+=Q,this.onError(E,"BAD_DIRECTIVE",B,C)}),this.prelude.push(A.source),this.atDirectives=!0;break;case"document":{let Q=R1B.composeDoc(this.options,this.directives,A,this.onError);if(this.atDirectives&&!Q.directives.docStart)this.onError(A,"MISSING_CHAR","Missing directives-end/doc-start indicator line");if(this.decorate(Q,!1),this.doc)yield this.doc;this.doc=Q,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(A.source);break;case"error":{let Q=A.source?`${A.message}: ${JSON.stringify(A.source)}`:A.message,B=new Ry.YAMLParseError(Ty(A),"UNEXPECTED_TOKEN",Q);if(this.atDirectives||!this.doc)this.errors.push(B);else this.doc.errors.push(B);break}case"doc-end":{if(!this.doc){this.errors.push(new Ry.YAMLParseError(Ty(A),"UNEXPECTED_TOKEN","Unexpected doc-end without preceding document"));break}this.doc.directives.docEnd=!0;let Q=T1B.resolveEnd(A.end,A.offset+A.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),Q.comment){let B=this.doc.comment;this.doc.comment=B?`${B}
${Q.comment}`:Q.comment}this.doc.range[2]=Q.offset;break}default:this.errors.push(new Ry.YAMLParseError(Ty(A),"UNEXPECTED_TOKEN",`Unsupported token ${A.type}`))}}*end(A=!1,Q=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(A){let B=Object.assign({_directives:this.directives},this.options),C=new O1B.Document(void 0,B);if(this.atDirectives)this.onError(Q,"MISSING_CHAR","Missing directives-end indicator line");C.range=[0,Q,Q],this.decorate(C,!1),yield C}}}q1B.Composer=dFQ});var cFQ=m((k1B)=>{var _1B=dWA(),j1B=pWA(),x1B=Ly(),uFQ=Ny();function S1B(A,Q=!0,B){if(A){let C=(E,I,Y)=>{let G=typeof E==="number"?E:Array.isArray(E)?E[0]:E.offset;if(B)B(G,I,Y);else throw new x1B.YAMLParseError([G,G+1],I,Y)};switch(A.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return j1B.resolveFlowScalar(A,Q,C);case"block-scalar":return _1B.resolveBlockScalar({options:{strict:Q}},A,C)}}return null}function g1B(A,Q){let{implicitKey:B=!1,indent:C,inFlow:E=!1,offset:I=-1,type:Y="PLAIN"}=Q,G=uFQ.stringifyString({type:Y,value:A},{implicitKey:B,indent:C>0?" ".repeat(C):"",inFlow:E,options:{blockQuote:!0,lineWidth:-1}}),J=Q.end??[{type:"newline",offset:-1,indent:C,source:`
`}];switch(G[0]){case"|":case">":{let D=G.indexOf(`
`),U=G.substring(0,D),N=G.substring(D+1)+`
`,Z=[{type:"block-scalar-header",offset:I,indent:C,source:U}];if(!pFQ(Z,J))Z.push({type:"newline",offset:-1,indent:C,source:`
`});return{type:"block-scalar",offset:I,indent:C,props:Z,source:N}}case'"':return{type:"double-quoted-scalar",offset:I,indent:C,source:G,end:J};case"'":return{type:"single-quoted-scalar",offset:I,indent:C,source:G,end:J};default:return{type:"scalar",offset:I,indent:C,source:G,end:J}}}function v1B(A,Q,B={}){let{afterKey:C=!1,implicitKey:E=!1,inFlow:I=!1,type:Y}=B,G="indent"in A?A.indent:null;if(C&&typeof G==="number")G+=2;if(!Y)switch(A.type){case"single-quoted-scalar":Y="QUOTE_SINGLE";break;case"double-quoted-scalar":Y="QUOTE_DOUBLE";break;case"block-scalar":{let D=A.props[0];if(D.type!=="block-scalar-header")throw new Error("Invalid block scalar header");Y=D.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:Y="PLAIN"}let J=uFQ.stringifyString({type:Y,value:Q},{implicitKey:E||G===null,indent:G!==null&&G>0?" ".repeat(G):"",inFlow:I,options:{blockQuote:!0,lineWidth:-1}});switch(J[0]){case"|":case">":y1B(A,J);break;case'"':iWA(A,J,"double-quoted-scalar");break;case"'":iWA(A,J,"single-quoted-scalar");break;default:iWA(A,J,"scalar")}}function y1B(A,Q){let B=Q.indexOf(`
`),C=Q.substring(0,B),E=Q.substring(B+1)+`
`;if(A.type==="block-scalar"){let I=A.props[0];if(I.type!=="block-scalar-header")throw new Error("Invalid block scalar header");I.source=C,A.source=E}else{let{offset:I}=A,Y="indent"in A?A.indent:-1,G=[{type:"block-scalar-header",offset:I,indent:Y,source:C}];if(!pFQ(G,"end"in A?A.end:void 0))G.push({type:"newline",offset:-1,indent:Y,source:`
`});for(let J of Object.keys(A))if(J!=="type"&&J!=="offset")delete A[J];Object.assign(A,{type:"block-scalar",indent:Y,props:G,source:E})}}function pFQ(A,Q){if(Q)for(let B of Q)switch(B.type){case"space":case"comment":A.push(B);break;case"newline":return A.push(B),!0}return!1}function iWA(A,Q,B){switch(A.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":A.type=B,A.source=Q;break;case"block-scalar":{let C=A.props.slice(1),E=Q.length;if(A.props[0].type==="block-scalar-header")E-=A.props[0].source.length;for(let I of C)I.offset+=E;delete A.props,Object.assign(A,{type:B,source:Q,end:C});break}case"block-map":case"block-seq":{let E={type:"newline",offset:A.offset+Q.length,indent:A.indent,source:`
`};delete A.items,Object.assign(A,{type:B,source:Q,end:[E]});break}default:{let C="indent"in A?A.indent:-1,E="end"in A&&Array.isArray(A.end)?A.end.filter((I)=>I.type==="space"||I.type==="comment"||I.type==="newline"):[];for(let I of Object.keys(A))if(I!=="type"&&I!=="offset")delete A[I];Object.assign(A,{type:B,indent:C,source:Q,end:E})}}}k1B.createScalarToken=g1B;k1B.resolveAsScalar=S1B;k1B.setScalarValue=v1B});var lFQ=m((d1B)=>{var f1B=(A)=>("type"in A)?Nt(A):Ut(A);function Nt(A){switch(A.type){case"block-scalar":{let Q="";for(let B of A.props)Q+=Nt(B);return Q+A.source}case"block-map":case"block-seq":{let Q="";for(let B of A.items)Q+=Ut(B);return Q}case"flow-collection":{let Q=A.start.source;for(let B of A.items)Q+=Ut(B);for(let B of A.end)Q+=B.source;return Q}case"document":{let Q=Ut(A);if(A.end)for(let B of A.end)Q+=B.source;return Q}default:{let Q=A.source;if("end"in A&&A.end)for(let B of A.end)Q+=B.source;return Q}}}function Ut({start:A,key:Q,sep:B,value:C}){let E="";for(let I of A)E+=I.source;if(Q)E+=Nt(Q);if(B)for(let I of B)E+=I.source;if(C)E+=Nt(C);return E}d1B.stringify=f1B});var oFQ=m((c1B)=>{var nWA=Symbol("break visit"),p1B=Symbol("skip children"),iFQ=Symbol("remove item");function TM(A,Q){if("type"in A&&A.type==="document")A={start:A.start,value:A.value};nFQ(Object.freeze([]),A,Q)}TM.BREAK=nWA;TM.SKIP=p1B;TM.REMOVE=iFQ;TM.itemAtPath=(A,Q)=>{let B=A;for(let[C,E]of Q){let I=B?.[C];if(I&&"items"in I)B=I.items[E];else return}return B};TM.parentCollection=(A,Q)=>{let B=TM.itemAtPath(A,Q.slice(0,-1)),C=Q[Q.length-1][0],E=B?.[C];if(E&&"items"in E)return E;throw new Error("Parent collection not found")};function nFQ(A,Q,B){let C=B(Q,A);if(typeof C==="symbol")return C;for(let E of["key","value"]){let I=Q[E];if(I&&"items"in I){for(let Y=0;Y<I.items.length;++Y){let G=nFQ(Object.freeze(A.concat([[E,Y]])),I.items[Y],B);if(typeof G==="number")Y=G-1;else if(G===nWA)return nWA;else if(G===iFQ)I.items.splice(Y,1),Y-=1}if(typeof C==="function"&&E==="key")C=C(Q,A)}}return typeof C==="function"?C(Q,A):C}c1B.visit=TM});var Zt=m((t1B)=>{var oWA=cFQ(),i1B=lFQ(),n1B=oFQ(),rWA="\uFEFF",aWA="\x02",sWA="\x18",tWA="\x1F",o1B=(A)=>!!A&&("items"in A),r1B=(A)=>!!A&&(A.type==="scalar"||A.type==="single-quoted-scalar"||A.type==="double-quoted-scalar"||A.type==="block-scalar");function a1B(A){switch(A){case rWA:return"<BOM>";case aWA:return"<DOC>";case sWA:return"<FLOW_END>";case tWA:return"<SCALAR>";default:return JSON.stringify(A)}}function s1B(A){switch(A){case rWA:return"byte-order-mark";case aWA:return"doc-mode";case sWA:return"flow-error-end";case tWA:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(A[0]){case" ":case"\t":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}t1B.createScalarToken=oWA.createScalarToken;t1B.resolveAsScalar=oWA.resolveAsScalar;t1B.setScalarValue=oWA.setScalarValue;t1B.stringify=i1B.stringify;t1B.visit=n1B.visit;t1B.BOM=rWA;t1B.DOCUMENT=aWA;t1B.FLOW_END=sWA;t1B.SCALAR=tWA;t1B.isCollection=o1B;t1B.isScalar=r1B;t1B.prettyToken=a1B;t1B.tokenType=s1B});var AKA=m((F5B)=>{var qy=Zt();function v9(A){switch(A){case void 0:case" ":case`
`:case"\r":case"\t":return!0;default:return!1}}var rFQ=new Set("0123456789ABCDEFabcdef"),Z5B=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Xt=new Set(",[]{}"),X5B=new Set(` ,[]{}
\r	`),eWA=(A)=>!A||X5B.has(A);class aFQ{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(A,Q=!1){if(A){if(typeof A!=="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+A:A,this.lineEndPos=null}this.atEnd=!Q;let B=this.next??"stream";while(B&&(Q||this.hasChars(1)))B=yield*this.parseNext(B)}atLineEnd(){let A=this.pos,Q=this.buffer[A];while(Q===" "||Q==="\t")Q=this.buffer[++A];if(!Q||Q==="#"||Q===`
`)return!0;if(Q==="\r")return this.buffer[A+1]===`
`;return!1}charAt(A){return this.buffer[this.pos+A]}continueScalar(A){let Q=this.buffer[A];if(this.indentNext>0){let B=0;while(Q===" ")Q=this.buffer[++B+A];if(Q==="\r"){let C=this.buffer[B+A+1];if(C===`
`||!C&&!this.atEnd)return A+B+1}return Q===`
`||B>=this.indentNext||!Q&&!this.atEnd?A+B:-1}if(Q==="-"||Q==="."){let B=this.buffer.substr(A,3);if((B==="---"||B==="...")&&v9(this.buffer[A+3]))return-1}return A}getLine(){let A=this.lineEndPos;if(typeof A!=="number"||A!==-1&&A<this.pos)A=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=A;if(A===-1)return this.atEnd?this.buffer.substring(this.pos):null;if(this.buffer[A-1]==="\r")A-=1;return this.buffer.substring(this.pos,A)}hasChars(A){return this.pos+A<=this.buffer.length}setNext(A){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=A,null}peek(A){return this.buffer.substr(this.pos,A)}*parseNext(A){switch(A){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let A=this.getLine();if(A===null)return this.setNext("stream");if(A[0]===qy.BOM)yield*this.pushCount(1),A=A.substring(1);if(A[0]==="%"){let Q=A.length,B=A.indexOf("#");while(B!==-1){let E=A[B-1];if(E===" "||E==="\t"){Q=B-1;break}else B=A.indexOf("#",B+1)}while(!0){let E=A[Q-1];if(E===" "||E==="\t")Q-=1;else break}let C=(yield*this.pushCount(Q))+(yield*this.pushSpaces(!0));return yield*this.pushCount(A.length-C),this.pushNewline(),"stream"}if(this.atLineEnd()){let Q=yield*this.pushSpaces(!0);return yield*this.pushCount(A.length-Q),yield*this.pushNewline(),"stream"}return yield qy.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let A=this.charAt(0);if(!A&&!this.atEnd)return this.setNext("line-start");if(A==="-"||A==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let Q=this.peek(3);if((Q==="---"||Q==="...")&&v9(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,Q==="---"?"doc":"stream"}if(this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!v9(this.charAt(1)))this.indentNext=this.indentValue;return yield*this.parseBlockStart()}*parseBlockStart(){let[A,Q]=this.peek(2);if(!Q&&!this.atEnd)return this.setNext("block-start");if((A==="-"||A==="?"||A===":")&&v9(Q)){let B=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=B,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let A=this.getLine();if(A===null)return this.setNext("doc");let Q=yield*this.pushIndicators();switch(A[Q]){case"#":yield*this.pushCount(A.length-Q);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(eWA),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return Q+=yield*this.parseBlockScalarHeader(),Q+=yield*this.pushSpaces(!0),yield*this.pushCount(A.length-Q),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let A,Q,B=-1;do{if(A=yield*this.pushNewline(),A>0)Q=yield*this.pushSpaces(!1),this.indentValue=B=Q;else Q=0;Q+=yield*this.pushSpaces(!0)}while(A+Q>0);let C=this.getLine();if(C===null)return this.setNext("flow");if(B!==-1&&B<this.indentNext&&C[0]!=="#"||B===0&&(C.startsWith("---")||C.startsWith("..."))&&v9(C[3])){if(!(B===this.indentNext-1&&this.flowLevel===1&&(C[0]==="]"||C[0]==="}")))return this.flowLevel=0,yield qy.FLOW_END,yield*this.parseLineStart()}let E=0;while(C[E]===",")E+=yield*this.pushCount(1),E+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(E+=yield*this.pushIndicators(),C[E]){case void 0:return"flow";case"#":return yield*this.pushCount(C.length-E),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(eWA),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let I=this.charAt(1);if(this.flowKey||v9(I)||I===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let A=this.charAt(0),Q=this.buffer.indexOf(A,this.pos+1);if(A==="'")while(Q!==-1&&this.buffer[Q+1]==="'")Q=this.buffer.indexOf("'",Q+2);else while(Q!==-1){let E=0;while(this.buffer[Q-1-E]==="\\")E+=1;if(E%2===0)break;Q=this.buffer.indexOf('"',Q+1)}let B=this.buffer.substring(0,Q),C=B.indexOf(`
`,this.pos);if(C!==-1){while(C!==-1){let E=this.continueScalar(C+1);if(E===-1)break;C=B.indexOf(`
`,E)}if(C!==-1)Q=C-(B[C-1]==="\r"?2:1)}if(Q===-1){if(!this.atEnd)return this.setNext("quoted-scalar");Q=this.buffer.length}return yield*this.pushToIndex(Q+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let A=this.pos;while(!0){let Q=this.buffer[++A];if(Q==="+")this.blockScalarKeep=!0;else if(Q>"0"&&Q<="9")this.blockScalarIndent=Number(Q)-1;else if(Q!=="-")break}return yield*this.pushUntil((Q)=>v9(Q)||Q==="#")}*parseBlockScalar(){let A=this.pos-1,Q=0,B;A:for(let E=this.pos;B=this.buffer[E];++E)switch(B){case" ":Q+=1;break;case`
`:A=E,Q=0;break;case"\r":{let I=this.buffer[E+1];if(!I&&!this.atEnd)return this.setNext("block-scalar");if(I===`
`)break}default:break A}if(!B&&!this.atEnd)return this.setNext("block-scalar");if(Q>=this.indentNext){if(this.blockScalarIndent===-1)this.indentNext=Q;else this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{let E=this.continueScalar(A+1);if(E===-1)break;A=this.buffer.indexOf(`
`,E)}while(A!==-1);if(A===-1){if(!this.atEnd)return this.setNext("block-scalar");A=this.buffer.length}}let C=A+1;B=this.buffer[C];while(B===" ")B=this.buffer[++C];if(B==="\t"){while(B==="\t"||B===" "||B==="\r"||B===`
`)B=this.buffer[++C];A=C-1}else if(!this.blockScalarKeep)do{let E=A-1,I=this.buffer[E];if(I==="\r")I=this.buffer[--E];let Y=E;while(I===" ")I=this.buffer[--E];if(I===`
`&&E>=this.pos&&E+1+Q>Y)A=E;else break}while(!0);return yield qy.SCALAR,yield*this.pushToIndex(A+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let A=this.flowLevel>0,Q=this.pos-1,B=this.pos-1,C;while(C=this.buffer[++B])if(C===":"){let E=this.buffer[B+1];if(v9(E)||A&&Xt.has(E))break;Q=B}else if(v9(C)){let E=this.buffer[B+1];if(C==="\r")if(E===`
`)B+=1,C=`
`,E=this.buffer[B+1];else Q=B;if(E==="#"||A&&Xt.has(E))break;if(C===`
`){let I=this.continueScalar(B+1);if(I===-1)break;B=Math.max(B,I-2)}}else{if(A&&Xt.has(C))break;Q=B}if(!C&&!this.atEnd)return this.setNext("plain-scalar");return yield qy.SCALAR,yield*this.pushToIndex(Q+1,!0),A?"flow":"doc"}*pushCount(A){if(A>0)return yield this.buffer.substr(this.pos,A),this.pos+=A,A;return 0}*pushToIndex(A,Q){let B=this.buffer.slice(this.pos,A);if(B)return yield B,this.pos+=B.length,B.length;else if(Q)yield"";return 0}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(eWA))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{let A=this.flowLevel>0,Q=this.charAt(1);if(v9(Q)||A&&Xt.has(Q)){if(!A)this.indentNext=this.indentValue+1;else if(this.flowKey)this.flowKey=!1;return(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}}return 0}*pushTag(){if(this.charAt(1)==="<"){let A=this.pos+2,Q=this.buffer[A];while(!v9(Q)&&Q!==">")Q=this.buffer[++A];return yield*this.pushToIndex(Q===">"?A+1:A,!1)}else{let A=this.pos+1,Q=this.buffer[A];while(Q)if(Z5B.has(Q))Q=this.buffer[++A];else if(Q==="%"&&rFQ.has(this.buffer[A+1])&&rFQ.has(this.buffer[A+2]))Q=this.buffer[A+=3];else break;return yield*this.pushToIndex(A,!1)}}*pushNewline(){let A=this.buffer[this.pos];if(A===`
`)return yield*this.pushCount(1);else if(A==="\r"&&this.charAt(1)===`
`)return yield*this.pushCount(2);else return 0}*pushSpaces(A){let Q=this.pos-1,B;do B=this.buffer[++Q];while(B===" "||A&&B==="\t");let C=Q-this.pos;if(C>0)yield this.buffer.substr(this.pos,C),this.pos=Q;return C}*pushUntil(A){let Q=this.pos,B=this.buffer[Q];while(!A(B))B=this.buffer[++Q];return yield*this.pushToIndex(Q,!1)}}F5B.Lexer=aFQ});var QKA=m((W5B)=>{class sFQ{constructor(){this.lineStarts=[],this.addNewLine=(A)=>this.lineStarts.push(A),this.linePos=(A)=>{let Q=0,B=this.lineStarts.length;while(Q<B){let E=Q+B>>1;if(this.lineStarts[E]<A)Q=E+1;else B=E}if(this.lineStarts[Q]===A)return{line:Q+1,col:1};if(Q===0)return{line:0,col:A};let C=this.lineStarts[Q-1];return{line:Q,col:A-C+1}}}}W5B.LineCounter=sFQ});var BKA=m(($5B)=>{var V5B=a("node:process"),tFQ=Zt(),M5B=AKA();function SK(A,Q){for(let B=0;B<A.length;++B)if(A[B].type===Q)return!0;return!1}function eFQ(A){for(let Q=0;Q<A.length;++Q)switch(A[Q].type){case"space":case"comment":case"newline":break;default:return Q}return-1}function QHQ(A){switch(A?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Ft(A){switch(A.type){case"document":return A.start;case"block-map":{let Q=A.items[A.items.length-1];return Q.sep??Q.start}case"block-seq":return A.items[A.items.length-1].start;default:return[]}}function lR(A){if(A.length===0)return[];let Q=A.length;A:while(--Q>=0)switch(A[Q].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break A}while(A[++Q]?.type==="space");return A.splice(Q,A.length)}function AHQ(A){if(A.start.type==="flow-seq-start"){for(let Q of A.items)if(Q.sep&&!Q.value&&!SK(Q.start,"explicit-key-ind")&&!SK(Q.sep,"map-value-ind")){if(Q.key)Q.value=Q.key;if(delete Q.key,QHQ(Q.value))if(Q.value.end)Array.prototype.push.apply(Q.value.end,Q.sep);else Q.value.end=Q.sep;else Array.prototype.push.apply(Q.start,Q.sep);delete Q.sep}}}class BHQ{constructor(A){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new M5B.Lexer,this.onNewLine=A}*parse(A,Q=!1){if(this.onNewLine&&this.offset===0)this.onNewLine(0);for(let B of this.lexer.lex(A,Q))yield*this.next(B);if(!Q)yield*this.end()}*next(A){if(this.source=A,V5B.env.LOG_TOKENS)console.log("|",tFQ.prettyToken(A));if(this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=A.length;return}let Q=tFQ.tokenType(A);if(!Q){let B=`Not a YAML token: ${A}`;yield*this.pop({type:"error",offset:this.offset,message:B,source:A}),this.offset+=A.length}else if(Q==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=Q,yield*this.step(),Q){case"newline":if(this.atNewLine=!0,this.indent=0,this.onNewLine)this.onNewLine(this.offset+A.length);break;case"space":if(this.atNewLine&&A[0]===" ")this.indent+=A.length;break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":if(this.atNewLine)this.indent+=A.length;break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=A.length}}*end(){while(this.stack.length>0)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let A=this.peek(1);if(this.type==="doc-end"&&(!A||A.type!=="doc-end")){while(this.stack.length>0)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!A)return yield*this.stream();switch(A.type){case"document":return yield*this.document(A);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(A);case"block-scalar":return yield*this.blockScalar(A);case"block-map":return yield*this.blockMap(A);case"block-seq":return yield*this.blockSequence(A);case"flow-collection":return yield*this.flowCollection(A);case"doc-end":return yield*this.documentEnd(A)}yield*this.pop()}peek(A){return this.stack[this.stack.length-A]}*pop(A){let Q=A??this.stack.pop();if(!Q)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield Q;else{let B=this.peek(1);if(Q.type==="block-scalar")Q.indent="indent"in B?B.indent:0;else if(Q.type==="flow-collection"&&B.type==="document")Q.indent=0;if(Q.type==="flow-collection")AHQ(Q);switch(B.type){case"document":B.value=Q;break;case"block-scalar":B.props.push(Q);break;case"block-map":{let C=B.items[B.items.length-1];if(C.value){B.items.push({start:[],key:Q,sep:[]}),this.onKeyLine=!0;return}else if(C.sep)C.value=Q;else{Object.assign(C,{key:Q,sep:[]}),this.onKeyLine=!C.explicitKey;return}break}case"block-seq":{let C=B.items[B.items.length-1];if(C.value)B.items.push({start:[],value:Q});else C.value=Q;break}case"flow-collection":{let C=B.items[B.items.length-1];if(!C||C.value)B.items.push({start:[],key:Q,sep:[]});else if(C.sep)C.value=Q;else Object.assign(C,{key:Q,sep:[]});return}default:yield*this.pop(),yield*this.pop(Q)}if((B.type==="document"||B.type==="block-map"||B.type==="block-seq")&&(Q.type==="block-map"||Q.type==="block-seq")){let C=Q.items[Q.items.length-1];if(C&&!C.sep&&!C.value&&C.start.length>0&&eFQ(C.start)===-1&&(Q.indent===0||C.start.every((E)=>E.type!=="comment"||E.indent<Q.indent))){if(B.type==="document")B.end=C.start;else B.items.push({start:C.start});Q.items.splice(-1,1)}}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let A={type:"document",offset:this.offset,start:[]};if(this.type==="doc-start")A.start.push(this.sourceToken);this.stack.push(A);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(A){if(A.value)return yield*this.lineEnd(A);switch(this.type){case"doc-start":{if(eFQ(A.start)!==-1)yield*this.pop(),yield*this.step();else A.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":A.start.push(this.sourceToken);return}let Q=this.startBlockValue(A);if(Q)this.stack.push(Q);else yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(A){if(this.type==="map-value-ind"){let Q=Ft(this.peek(2)),B=lR(Q),C;if(A.end)C=A.end,C.push(this.sourceToken),delete A.end;else C=[this.sourceToken];let E={type:"block-map",offset:A.offset,indent:A.indent,items:[{start:B,key:A,sep:C}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=E}else yield*this.lineEnd(A)}*blockScalar(A){switch(this.type){case"space":case"comment":case"newline":A.props.push(this.sourceToken);return;case"scalar":if(A.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let Q=this.source.indexOf(`
`)+1;while(Q!==0)this.onNewLine(this.offset+Q),Q=this.source.indexOf(`
`,Q)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(A){let Q=A.items[A.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,Q.value){let B="end"in Q.value?Q.value.end:void 0;if((Array.isArray(B)?B[B.length-1]:void 0)?.type==="comment")B?.push(this.sourceToken);else A.items.push({start:[this.sourceToken]})}else if(Q.sep)Q.sep.push(this.sourceToken);else Q.start.push(this.sourceToken);return;case"space":case"comment":if(Q.value)A.items.push({start:[this.sourceToken]});else if(Q.sep)Q.sep.push(this.sourceToken);else{if(this.atIndentedComment(Q.start,A.indent)){let C=A.items[A.items.length-2]?.value?.end;if(Array.isArray(C)){Array.prototype.push.apply(C,Q.start),C.push(this.sourceToken),A.items.pop();return}}Q.start.push(this.sourceToken)}return}if(this.indent>=A.indent){let B=!this.onKeyLine&&this.indent===A.indent,C=B&&(Q.sep||Q.explicitKey)&&this.type!=="seq-item-ind",E=[];if(C&&Q.sep&&!Q.value){let I=[];for(let Y=0;Y<Q.sep.length;++Y){let G=Q.sep[Y];switch(G.type){case"newline":I.push(Y);break;case"space":break;case"comment":if(G.indent>A.indent)I.length=0;break;default:I.length=0}}if(I.length>=2)E=Q.sep.splice(I[1])}switch(this.type){case"anchor":case"tag":if(C||Q.value)E.push(this.sourceToken),A.items.push({start:E}),this.onKeyLine=!0;else if(Q.sep)Q.sep.push(this.sourceToken);else Q.start.push(this.sourceToken);return;case"explicit-key-ind":if(!Q.sep&&!Q.explicitKey)Q.start.push(this.sourceToken),Q.explicitKey=!0;else if(C||Q.value)E.push(this.sourceToken),A.items.push({start:E,explicitKey:!0});else this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]});this.onKeyLine=!0;return;case"map-value-ind":if(Q.explicitKey)if(!Q.sep)if(SK(Q.start,"newline"))Object.assign(Q,{key:null,sep:[this.sourceToken]});else{let I=lR(Q.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:I,key:null,sep:[this.sourceToken]}]})}else if(Q.value)A.items.push({start:[],key:null,sep:[this.sourceToken]});else if(SK(Q.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:E,key:null,sep:[this.sourceToken]}]});else if(QHQ(Q.key)&&!SK(Q.sep,"newline")){let I=lR(Q.start),Y=Q.key,G=Q.sep;G.push(this.sourceToken),delete Q.key,delete Q.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:I,key:Y,sep:G}]})}else if(E.length>0)Q.sep=Q.sep.concat(E,this.sourceToken);else Q.sep.push(this.sourceToken);else if(!Q.sep)Object.assign(Q,{key:null,sep:[this.sourceToken]});else if(Q.value||C)A.items.push({start:E,key:null,sep:[this.sourceToken]});else if(SK(Q.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]});else Q.sep.push(this.sourceToken);this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let I=this.flowScalar(this.type);if(C||Q.value)A.items.push({start:E,key:I,sep:[]}),this.onKeyLine=!0;else if(Q.sep)this.stack.push(I);else Object.assign(Q,{key:I,sep:[]}),this.onKeyLine=!0;return}default:{let I=this.startBlockValue(A);if(I){if(I.type==="block-seq"){if(!Q.explicitKey&&Q.sep&&!SK(Q.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else if(B)A.items.push({start:E});this.stack.push(I);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(A){let Q=A.items[A.items.length-1];switch(this.type){case"newline":if(Q.value){let B="end"in Q.value?Q.value.end:void 0;if((Array.isArray(B)?B[B.length-1]:void 0)?.type==="comment")B?.push(this.sourceToken);else A.items.push({start:[this.sourceToken]})}else Q.start.push(this.sourceToken);return;case"space":case"comment":if(Q.value)A.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(Q.start,A.indent)){let C=A.items[A.items.length-2]?.value?.end;if(Array.isArray(C)){Array.prototype.push.apply(C,Q.start),C.push(this.sourceToken),A.items.pop();return}}Q.start.push(this.sourceToken)}return;case"anchor":case"tag":if(Q.value||this.indent<=A.indent)break;Q.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==A.indent)break;if(Q.value||SK(Q.start,"seq-item-ind"))A.items.push({start:[this.sourceToken]});else Q.start.push(this.sourceToken);return}if(this.indent>A.indent){let B=this.startBlockValue(A);if(B){this.stack.push(B);return}}yield*this.pop(),yield*this.step()}*flowCollection(A){let Q=A.items[A.items.length-1];if(this.type==="flow-error-end"){let B;do yield*this.pop(),B=this.peek(1);while(B&&B.type==="flow-collection")}else if(A.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":if(!Q||Q.sep)A.items.push({start:[this.sourceToken]});else Q.start.push(this.sourceToken);return;case"map-value-ind":if(!Q||Q.value)A.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Q.sep)Q.sep.push(this.sourceToken);else Object.assign(Q,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":if(!Q||Q.value)A.items.push({start:[this.sourceToken]});else if(Q.sep)Q.sep.push(this.sourceToken);else Q.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let C=this.flowScalar(this.type);if(!Q||Q.value)A.items.push({start:[],key:C,sep:[]});else if(Q.sep)this.stack.push(C);else Object.assign(Q,{key:C,sep:[]});return}case"flow-map-end":case"flow-seq-end":A.end.push(this.sourceToken);return}let B=this.startBlockValue(A);if(B)this.stack.push(B);else yield*this.pop(),yield*this.step()}else{let B=this.peek(2);if(B.type==="block-map"&&(this.type==="map-value-ind"&&B.indent===A.indent||this.type==="newline"&&!B.items[B.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&B.type!=="flow-collection"){let C=Ft(B),E=lR(C);AHQ(A);let I=A.end.splice(1,A.end.length);I.push(this.sourceToken);let Y={type:"block-map",offset:A.offset,indent:A.indent,items:[{start:E,key:A,sep:I}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=Y}else yield*this.lineEnd(A)}}flowScalar(A){if(this.onNewLine){let Q=this.source.indexOf(`
`)+1;while(Q!==0)this.onNewLine(this.offset+Q),Q=this.source.indexOf(`
`,Q)+1}return{type:A,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(A){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let Q=Ft(A),B=lR(Q);return B.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:B,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;let Q=Ft(A),B=lR(Q);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:B,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(A,Q){if(this.type!=="comment")return!1;if(this.indent<=Q)return!1;return A.every((B)=>B.type==="newline"||B.type==="space")}*documentEnd(A){if(this.type!=="doc-mode"){if(A.end)A.end.push(this.sourceToken);else A.end=[this.sourceToken];if(this.type==="newline")yield*this.pop()}}*lineEnd(A){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:if(A.end)A.end.push(this.sourceToken);else A.end=[this.sourceToken];if(this.type==="newline")yield*this.pop()}}}$5B.Parser=BHQ});var GHQ=m((_5B)=>{var CHQ=lWA(),w5B=wy(),Py=Ly(),L5B=QWA(),O5B=XC(),R5B=QKA(),EHQ=BKA();function IHQ(A){let Q=A.prettyErrors!==!1;return{lineCounter:A.lineCounter||Q&&new R5B.LineCounter||null,prettyErrors:Q}}function T5B(A,Q={}){let{lineCounter:B,prettyErrors:C}=IHQ(Q),E=new EHQ.Parser(B?.addNewLine),I=new CHQ.Composer(Q),Y=Array.from(I.compose(E.parse(A)));if(C&&B)for(let G of Y)G.errors.forEach(Py.prettifyError(A,B)),G.warnings.forEach(Py.prettifyError(A,B));if(Y.length>0)return Y;return Object.assign([],{empty:!0},I.streamInfo())}function YHQ(A,Q={}){let{lineCounter:B,prettyErrors:C}=IHQ(Q),E=new EHQ.Parser(B?.addNewLine),I=new CHQ.Composer(Q),Y=null;for(let G of I.compose(E.parse(A),!0,A.length))if(!Y)Y=G;else if(Y.options.logLevel!=="silent"){Y.errors.push(new Py.YAMLParseError(G.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}if(C&&B)Y.errors.forEach(Py.prettifyError(A,B)),Y.warnings.forEach(Py.prettifyError(A,B));return Y}function q5B(A,Q,B){let C=void 0;if(typeof Q==="function")C=Q;else if(B===void 0&&Q&&typeof Q==="object")B=Q;let E=YHQ(A,B);if(!E)return null;if(E.warnings.forEach((I)=>L5B.warn(E.options.logLevel,I)),E.errors.length>0)if(E.options.logLevel!=="silent")throw E.errors[0];else E.errors=[];return E.toJS(Object.assign({reviver:C},B))}function P5B(A,Q,B){let C=null;if(typeof Q==="function"||Array.isArray(Q))C=Q;else if(B===void 0&&Q)B=Q;if(typeof B==="string")B=B.length;if(typeof B==="number"){let E=Math.round(B);B=E<1?void 0:E>8?{indent:8}:{indent:E}}if(A===void 0){let{keepUndefined:E}=B??Q??{};if(!E)return}if(O5B.isDocument(A)&&!C)return A.toString(B);return new w5B.Document(A,C,B).toString(B)}_5B.parse=q5B;_5B.parseAllDocuments=T5B;_5B.parseDocument=YHQ;_5B.stringify=P5B});var kE=m((p_0,GVQ)=>{GVQ.exports={kClose:Symbol("close"),kDestroy:Symbol("destroy"),kDispatch:Symbol("dispatch"),kUrl:Symbol("url"),kWriting:Symbol("writing"),kResuming:Symbol("resuming"),kQueue:Symbol("queue"),kConnect:Symbol("connect"),kConnecting:Symbol("connecting"),kKeepAliveDefaultTimeout:Symbol("default keep alive timeout"),kKeepAliveMaxTimeout:Symbol("max keep alive timeout"),kKeepAliveTimeoutThreshold:Symbol("keep alive timeout threshold"),kKeepAliveTimeoutValue:Symbol("keep alive timeout"),kKeepAlive:Symbol("keep alive"),kHeadersTimeout:Symbol("headers timeout"),kBodyTimeout:Symbol("body timeout"),kServerName:Symbol("server name"),kLocalAddress:Symbol("local address"),kHost:Symbol("host"),kNoRef:Symbol("no ref"),kBodyUsed:Symbol("used"),kBody:Symbol("abstracted request body"),kRunning:Symbol("running"),kBlocking:Symbol("blocking"),kPending:Symbol("pending"),kSize:Symbol("size"),kBusy:Symbol("busy"),kQueued:Symbol("queued"),kFree:Symbol("free"),kConnected:Symbol("connected"),kClosed:Symbol("closed"),kNeedDrain:Symbol("need drain"),kReset:Symbol("reset"),kDestroyed:Symbol.for("nodejs.stream.destroyed"),kResume:Symbol("resume"),kOnError:Symbol("on error"),kMaxHeadersSize:Symbol("max headers size"),kRunningIdx:Symbol("running index"),kPendingIdx:Symbol("pending index"),kError:Symbol("error"),kClients:Symbol("clients"),kClient:Symbol("client"),kParser:Symbol("parser"),kOnDestroyed:Symbol("destroy callbacks"),kPipelining:Symbol("pipelining"),kSocket:Symbol("socket"),kHostHeader:Symbol("host header"),kConnector:Symbol("connector"),kStrictContentLength:Symbol("strict content length"),kMaxRedirections:Symbol("maxRedirections"),kMaxRequests:Symbol("maxRequestsPerClient"),kProxy:Symbol("proxy agent options"),kCounter:Symbol("socket request counter"),kMaxResponseSize:Symbol("max response size"),kHTTP2Session:Symbol("http2Session"),kHTTP2SessionState:Symbol("http2Session state"),kRetryHandlerDefaultRetry:Symbol("retry agent default retry"),kConstruct:Symbol("constructable"),kListeners:Symbol("listeners"),kHTTPContext:Symbol("http context"),kMaxConcurrentStreams:Symbol("max concurrent streams"),kNoProxyAgent:Symbol("no proxy agent"),kHttpProxyAgent:Symbol("http proxy agent"),kHttpsProxyAgent:Symbol("https proxy agent")}});var FC=m((c_0,_VQ)=>{class JY extends Error{constructor(A,Q){super(A,Q);this.name="UndiciError",this.code="UND_ERR"}}class JVQ extends JY{constructor(A){super(A);this.name="ConnectTimeoutError",this.message=A||"Connect Timeout Error",this.code="UND_ERR_CONNECT_TIMEOUT"}}class DVQ extends JY{constructor(A){super(A);this.name="HeadersTimeoutError",this.message=A||"Headers Timeout Error",this.code="UND_ERR_HEADERS_TIMEOUT"}}class UVQ extends JY{constructor(A){super(A);this.name="HeadersOverflowError",this.message=A||"Headers Overflow Error",this.code="UND_ERR_HEADERS_OVERFLOW"}}class NVQ extends JY{constructor(A){super(A);this.name="BodyTimeoutError",this.message=A||"Body Timeout Error",this.code="UND_ERR_BODY_TIMEOUT"}}class ZVQ extends JY{constructor(A,Q,B,C){super(A);this.name="ResponseStatusCodeError",this.message=A||"Response Status Code Error",this.code="UND_ERR_RESPONSE_STATUS_CODE",this.body=C,this.status=Q,this.statusCode=Q,this.headers=B}}class XVQ extends JY{constructor(A){super(A);this.name="InvalidArgumentError",this.message=A||"Invalid Argument Error",this.code="UND_ERR_INVALID_ARG"}}class FVQ extends JY{constructor(A){super(A);this.name="InvalidReturnValueError",this.message=A||"Invalid Return Value Error",this.code="UND_ERR_INVALID_RETURN_VALUE"}}class SVA extends JY{constructor(A){super(A);this.name="AbortError",this.message=A||"The operation was aborted"}}class HVQ extends SVA{constructor(A){super(A);this.name="AbortError",this.message=A||"Request aborted",this.code="UND_ERR_ABORTED"}}class WVQ extends JY{constructor(A){super(A);this.name="InformationalError",this.message=A||"Request information",this.code="UND_ERR_INFO"}}class KVQ extends JY{constructor(A){super(A);this.name="RequestContentLengthMismatchError",this.message=A||"Request body length does not match content-length header",this.code="UND_ERR_REQ_CONTENT_LENGTH_MISMATCH"}}class VVQ extends JY{constructor(A){super(A);this.name="ResponseContentLengthMismatchError",this.message=A||"Response body length does not match content-length header",this.code="UND_ERR_RES_CONTENT_LENGTH_MISMATCH"}}class MVQ extends JY{constructor(A){super(A);this.name="ClientDestroyedError",this.message=A||"The client is destroyed",this.code="UND_ERR_DESTROYED"}}class $VQ extends JY{constructor(A){super(A);this.name="ClientClosedError",this.message=A||"The client is closed",this.code="UND_ERR_CLOSED"}}class zVQ extends JY{constructor(A,Q){super(A);this.name="SocketError",this.message=A||"Socket error",this.code="UND_ERR_SOCKET",this.socket=Q}}class wVQ extends JY{constructor(A){super(A);this.name="NotSupportedError",this.message=A||"Not supported error",this.code="UND_ERR_NOT_SUPPORTED"}}class LVQ extends JY{constructor(A){super(A);this.name="MissingUpstreamError",this.message=A||"No upstream has been added to the BalancedPool",this.code="UND_ERR_BPL_MISSING_UPSTREAM"}}class OVQ extends Error{constructor(A,Q,B){super(A);this.name="HTTPParserError",this.code=Q?`HPE_${Q}`:void 0,this.data=B?B.toString():void 0}}class RVQ extends JY{constructor(A){super(A);this.name="ResponseExceededMaxSizeError",this.message=A||"Response content exceeded max size",this.code="UND_ERR_RES_EXCEEDED_MAX_SIZE"}}class TVQ extends JY{constructor(A,Q,{headers:B,data:C}){super(A);this.name="RequestRetryError",this.message=A||"Request retry error",this.code="UND_ERR_REQ_RETRY",this.statusCode=Q,this.data=C,this.headers=B}}class qVQ extends JY{constructor(A,Q,{headers:B,body:C}){super(A);this.name="ResponseError",this.message=A||"Response error",this.code="UND_ERR_RESPONSE",this.statusCode=Q,this.body=C,this.headers=B}}class PVQ extends JY{constructor(A,Q,B={}){super(Q,{cause:A,...B});this.name="SecureProxyConnectionError",this.message=Q||"Secure Proxy Connection failed",this.code="UND_ERR_PRX_TLS",this.cause=A}}_VQ.exports={AbortError:SVA,HTTPParserError:OVQ,UndiciError:JY,HeadersTimeoutError:DVQ,HeadersOverflowError:UVQ,BodyTimeoutError:NVQ,RequestContentLengthMismatchError:KVQ,ConnectTimeoutError:JVQ,ResponseStatusCodeError:ZVQ,InvalidArgumentError:XVQ,InvalidReturnValueError:FVQ,RequestAbortedError:HVQ,ClientDestroyedError:MVQ,ClientClosedError:$VQ,InformationalError:WVQ,SocketError:zVQ,NotSupportedError:wVQ,ResponseContentLengthMismatchError:VVQ,BalancedPoolMissingUpstreamError:LVQ,ResponseExceededMaxSizeError:RVQ,RequestRetryError:TVQ,ResponseError:qVQ,SecureProxyConnectionError:PVQ}});var Je=m((l_0,xVQ)=>{var gVA=["Accept","Accept-Encoding","Accept-Language","Accept-Ranges","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Age","Allow","Alt-Svc","Alt-Used","Authorization","Cache-Control","Clear-Site-Data","Connection","Content-Disposition","Content-Encoding","Content-Language","Content-Length","Content-Location","Content-Range","Content-Security-Policy","Content-Security-Policy-Report-Only","Content-Type","Cookie","Cross-Origin-Embedder-Policy","Cross-Origin-Opener-Policy","Cross-Origin-Resource-Policy","Date","Device-Memory","Downlink","ECT","ETag","Expect","Expect-CT","Expires","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Keep-Alive","Last-Modified","Link","Location","Max-Forwards","Origin","Permissions-Policy","Pragma","Proxy-Authenticate","Proxy-Authorization","RTT","Range","Referer","Referrer-Policy","Refresh","Retry-After","Sec-WebSocket-Accept","Sec-WebSocket-Extensions","Sec-WebSocket-Key","Sec-WebSocket-Protocol","Sec-WebSocket-Version","Server","Server-Timing","Service-Worker-Allowed","Service-Worker-Navigation-Preload","Set-Cookie","SourceMap","Strict-Transport-Security","Supports-Loading-Mode","TE","Timing-Allow-Origin","Trailer","Transfer-Encoding","Upgrade","Upgrade-Insecure-Requests","User-Agent","Vary","Via","WWW-Authenticate","X-Content-Type-Options","X-DNS-Prefetch-Control","X-Frame-Options","X-Permitted-Cross-Domain-Policies","X-Powered-By","X-Requested-With","X-XSS-Protection"],Ge={};Object.setPrototypeOf(Ge,null);var jVQ={};Object.setPrototypeOf(jVQ,null);function kKB(A){let Q=jVQ[A];if(Q===void 0)Q=Buffer.from(A);return Q}for(let A=0;A<gVA.length;++A){let Q=gVA[A],B=Q.toLowerCase();Ge[Q]=Ge[B]=B}xVQ.exports={wellknownHeaderNames:gVA,headerNameLowerCasedRecord:Ge,getHeaderNameAsBuffer:kKB}});var yVQ=m((i_0,vVQ)=>{var{wellknownHeaderNames:SVQ,headerNameLowerCasedRecord:bKB}=Je();class XT{value=null;left=null;middle=null;right=null;code;constructor(A,Q,B){if(B===void 0||B>=A.length)throw new TypeError("Unreachable");if((this.code=A.charCodeAt(B))>127)throw new TypeError("key must be ascii string");if(A.length!==++B)this.middle=new XT(A,Q,B);else this.value=Q}add(A,Q){let B=A.length;if(B===0)throw new TypeError("Unreachable");let C=0,E=this;while(!0){let I=A.charCodeAt(C);if(I>127)throw new TypeError("key must be ascii string");if(E.code===I)if(B===++C){E.value=Q;break}else if(E.middle!==null)E=E.middle;else{E.middle=new XT(A,Q,C);break}else if(E.code<I)if(E.left!==null)E=E.left;else{E.left=new XT(A,Q,C);break}else if(E.right!==null)E=E.right;else{E.right=new XT(A,Q,C);break}}}search(A){let Q=A.length,B=0,C=this;while(C!==null&&B<Q){let E=A[B];if(E<=90&&E>=65)E|=32;while(C!==null){if(E===C.code){if(Q===++B)return C;C=C.middle;break}C=C.code<E?C.left:C.right}}return null}}class vVA{node=null;insert(A,Q){if(this.node===null)this.node=new XT(A,Q,0);else this.node.add(A,Q)}lookup(A){return this.node?.search(A)?.value??null}}var gVQ=new vVA;for(let A=0;A<SVQ.length;++A){let Q=bKB[SVQ[A]];gVQ.insert(Q,Q)}vVQ.exports={TernarySearchTree:vVA,tree:gVQ}});var D0=m((n_0,tVQ)=>{var Gk=a("node:assert"),{kDestroyed:bVQ,kBodyUsed:FT,kListeners:De,kBody:kVQ}=kE(),{IncomingMessage:hKB}=a("node:http"),hVQ=a("node:stream"),mKB=a("node:net"),{Blob:fKB}=a("node:buffer"),dKB=a("node:util"),{stringify:uKB}=a("node:querystring"),{EventEmitter:pKB}=a("node:events"),{InvalidArgumentError:NJ}=FC(),{headerNameLowerCasedRecord:cKB}=Je(),{tree:mVQ}=yVQ(),[lKB,iKB]=process.versions.node.split(".").map((A)=>Number(A));class yVA{constructor(A){this[kVQ]=A,this[FT]=!1}async*[Symbol.asyncIterator](){Gk(!this[FT],"disturbed"),this[FT]=!0,yield*this[kVQ]}}function nKB(A){if(Ne(A)){if(cVQ(A)===0)A.on("data",function(){Gk(!1)});if(typeof A.readableDidRead!=="boolean")A[FT]=!1,pKB.prototype.on.call(A,"data",function(){this[FT]=!0});return A}else if(A&&typeof A.pipeTo==="function")return new yVA(A);else if(A&&typeof A!=="string"&&!ArrayBuffer.isView(A)&&pVQ(A))return new yVA(A);else return A}function Ne(A){return A&&typeof A==="object"&&typeof A.pipe==="function"&&typeof A.on==="function"}function fVQ(A){if(A===null)return!1;else if(A instanceof fKB)return!0;else if(typeof A!=="object")return!1;else{let Q=A[Symbol.toStringTag];return(Q==="Blob"||Q==="File")&&(("stream"in A)&&typeof A.stream==="function"||("arrayBuffer"in A)&&typeof A.arrayBuffer==="function")}}function oKB(A,Q){if(A.includes("?")||A.includes("#"))throw new Error('Query params cannot be passed when url already contains "?" or "#".');let B=uKB(Q);if(B)A+="?"+B;return A}function dVQ(A){let Q=parseInt(A,10);return Q===Number(A)&&Q>=0&&Q<=65535}function Ue(A){return A!=null&&A[0]==="h"&&A[1]==="t"&&A[2]==="t"&&A[3]==="p"&&(A[4]===":"||A[4]==="s"&&A[5]===":")}function uVQ(A){if(typeof A==="string"){if(A=new URL(A),!Ue(A.origin||A.protocol))throw new NJ("Invalid URL protocol: the URL must start with `http:` or `https:`.");return A}if(!A||typeof A!=="object")throw new NJ("Invalid URL: The URL argument must be a non-null object.");if(!(A instanceof URL)){if(A.port!=null&&A.port!==""&&dVQ(A.port)===!1)throw new NJ("Invalid URL: port must be a valid integer or a string representation of an integer.");if(A.path!=null&&typeof A.path!=="string")throw new NJ("Invalid URL path: the path must be a string or null/undefined.");if(A.pathname!=null&&typeof A.pathname!=="string")throw new NJ("Invalid URL pathname: the pathname must be a string or null/undefined.");if(A.hostname!=null&&typeof A.hostname!=="string")throw new NJ("Invalid URL hostname: the hostname must be a string or null/undefined.");if(A.origin!=null&&typeof A.origin!=="string")throw new NJ("Invalid URL origin: the origin must be a string or null/undefined.");if(!Ue(A.origin||A.protocol))throw new NJ("Invalid URL protocol: the URL must start with `http:` or `https:`.");let Q=A.port!=null?A.port:A.protocol==="https:"?443:80,B=A.origin!=null?A.origin:`${A.protocol||""}//${A.hostname||""}:${Q}`,C=A.path!=null?A.path:`${A.pathname||""}${A.search||""}`;if(B[B.length-1]==="/")B=B.slice(0,B.length-1);if(C&&C[0]!=="/")C=`/${C}`;return new URL(`${B}${C}`)}if(!Ue(A.origin||A.protocol))throw new NJ("Invalid URL protocol: the URL must start with `http:` or `https:`.");return A}function rKB(A){if(A=uVQ(A),A.pathname!=="/"||A.search||A.hash)throw new NJ("invalid url");return A}function aKB(A){if(A[0]==="["){let B=A.indexOf("]");return Gk(B!==-1),A.substring(1,B)}let Q=A.indexOf(":");if(Q===-1)return A;return A.substring(0,Q)}function sKB(A){if(!A)return null;Gk(typeof A==="string");let Q=aKB(A);if(mKB.isIP(Q))return"";return Q}function tKB(A){return JSON.parse(JSON.stringify(A))}function eKB(A){return A!=null&&typeof A[Symbol.asyncIterator]==="function"}function pVQ(A){return A!=null&&(typeof A[Symbol.iterator]==="function"||typeof A[Symbol.asyncIterator]==="function")}function cVQ(A){if(A==null)return 0;else if(Ne(A)){let Q=A._readableState;return Q&&Q.objectMode===!1&&Q.ended===!0&&Number.isFinite(Q.length)?Q.length:null}else if(fVQ(A))return A.size!=null?A.size:null;else if(nVQ(A))return A.byteLength;return null}function lVQ(A){return A&&!!(A.destroyed||A[bVQ]||hVQ.isDestroyed?.(A))}function AVB(A,Q){if(A==null||!Ne(A)||lVQ(A))return;if(typeof A.destroy==="function"){if(Object.getPrototypeOf(A).constructor===hKB)A.socket=null;A.destroy(Q)}else if(Q)queueMicrotask(()=>{A.emit("error",Q)});if(A.destroyed!==!0)A[bVQ]=!0}var QVB=/timeout=(\d+)/;function BVB(A){let Q=A.match(QVB);return Q?parseInt(Q[1],10)*1000:null}function iVQ(A){return typeof A==="string"?cKB[A]??A.toLowerCase():mVQ.lookup(A)??A.toString("latin1").toLowerCase()}function CVB(A){return mVQ.lookup(A)??A.toString("latin1").toLowerCase()}function EVB(A,Q){if(Q===void 0)Q={};for(let B=0;B<A.length;B+=2){let C=iVQ(A[B]),E=Q[C];if(E){if(typeof E==="string")E=[E],Q[C]=E;E.push(A[B+1].toString("utf8"))}else{let I=A[B+1];if(typeof I==="string")Q[C]=I;else Q[C]=Array.isArray(I)?I.map((Y)=>Y.toString("utf8")):I.toString("utf8")}}if("content-length"in Q&&"content-disposition"in Q)Q["content-disposition"]=Buffer.from(Q["content-disposition"]).toString("latin1");return Q}function IVB(A){let Q=A.length,B=new Array(Q),C=!1,E=-1,I,Y,G=0;for(let J=0;J<Q;J+=2){if(I=A[J],Y=A[J+1],typeof I!=="string"&&(I=I.toString()),typeof Y!=="string"&&(Y=Y.toString("utf8")),G=I.length,G===14&&I[7]==="-"&&(I==="content-length"||I.toLowerCase()==="content-length"))C=!0;else if(G===19&&I[7]==="-"&&(I==="content-disposition"||I.toLowerCase()==="content-disposition"))E=J+1;B[J]=I,B[J+1]=Y}if(C&&E!==-1)B[E]=Buffer.from(B[E]).toString("latin1");return B}function YVB(A){if(!Array.isArray(A))throw new TypeError("expected headers to be an array");return A.map((Q)=>Buffer.from(Q))}function nVQ(A){return A instanceof Uint8Array||Buffer.isBuffer(A)}function GVB(A,Q,B){if(!A||typeof A!=="object")throw new NJ("handler must be an object");if(typeof A.onRequestStart==="function")return;if(typeof A.onConnect!=="function")throw new NJ("invalid onConnect method");if(typeof A.onError!=="function")throw new NJ("invalid onError method");if(typeof A.onBodySent!=="function"&&A.onBodySent!==void 0)throw new NJ("invalid onBodySent method");if(B||Q==="CONNECT"){if(typeof A.onUpgrade!=="function")throw new NJ("invalid onUpgrade method")}else{if(typeof A.onHeaders!=="function")throw new NJ("invalid onHeaders method");if(typeof A.onData!=="function")throw new NJ("invalid onData method");if(typeof A.onComplete!=="function")throw new NJ("invalid onComplete method")}}function JVB(A){return!!(A&&(hVQ.isDisturbed(A)||A[FT]))}function DVB(A){return{localAddress:A.localAddress,localPort:A.localPort,remoteAddress:A.remoteAddress,remotePort:A.remotePort,remoteFamily:A.remoteFamily,timeout:A.timeout,bytesWritten:A.bytesWritten,bytesRead:A.bytesRead}}function UVB(A){let Q;return new ReadableStream({async start(){Q=A[Symbol.asyncIterator]()},pull(B){async function C(){let{done:E,value:I}=await Q.next();if(E)queueMicrotask(()=>{B.close(),B.byobRequest?.respond(0)});else{let Y=Buffer.isBuffer(I)?I:Buffer.from(I);if(Y.byteLength)B.enqueue(new Uint8Array(Y));else return await C()}}return C()},async cancel(){await Q.return()},type:"bytes"})}function NVB(A){return A&&typeof A==="object"&&typeof A.append==="function"&&typeof A.delete==="function"&&typeof A.get==="function"&&typeof A.getAll==="function"&&typeof A.has==="function"&&typeof A.set==="function"&&A[Symbol.toStringTag]==="FormData"}function ZVB(A,Q){if("addEventListener"in A)return A.addEventListener("abort",Q,{once:!0}),()=>A.removeEventListener("abort",Q);return A.once("abort",Q),()=>A.removeListener("abort",Q)}var oVQ=(()=>{if(typeof String.prototype.toWellFormed==="function")return(A)=>`${A}`.toWellFormed();else return dKB.toUSVString})(),XVB=(()=>{if(typeof String.prototype.isWellFormed==="function")return(A)=>`${A}`.isWellFormed();else return(A)=>oVQ(A)===`${A}`})();function rVQ(A){switch(A){case 34:case 40:case 41:case 44:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 123:case 125:return!1;default:return A>=33&&A<=126}}function FVB(A){if(A.length===0)return!1;for(let Q=0;Q<A.length;++Q)if(!rVQ(A.charCodeAt(Q)))return!1;return!0}var HVB=/[^\t\x20-\x7e\x80-\xff]/;function WVB(A){return!HVB.test(A)}var KVB=/^bytes (\d+)-(\d+)\/(\d+)?$/;function VVB(A){if(A==null||A==="")return{start:0,end:null,size:null};let Q=A?A.match(KVB):null;return Q?{start:parseInt(Q[1]),end:Q[2]?parseInt(Q[2]):null,size:Q[3]?parseInt(Q[3]):null}:null}function MVB(A,Q,B){return(A[De]??=[]).push([Q,B]),A.on(Q,B),A}function $VB(A){if(A[De]!=null){for(let[Q,B]of A[De])A.removeListener(Q,B);A[De]=null}return A}function zVB(A,Q,B){try{Q.onError(B),Gk(Q.aborted)}catch(C){A.emit("error",C)}}var aVQ=Object.create(null);aVQ.enumerable=!0;var kVA={delete:"DELETE",DELETE:"DELETE",get:"GET",GET:"GET",head:"HEAD",HEAD:"HEAD",options:"OPTIONS",OPTIONS:"OPTIONS",post:"POST",POST:"POST",put:"PUT",PUT:"PUT"},sVQ={...kVA,patch:"patch",PATCH:"PATCH"};Object.setPrototypeOf(kVA,null);Object.setPrototypeOf(sVQ,null);tVQ.exports={kEnumerableProperty:aVQ,isDisturbed:JVB,toUSVString:oVQ,isUSVString:XVB,isBlobLike:fVQ,parseOrigin:rKB,parseURL:uVQ,getServerName:sKB,isStream:Ne,isIterable:pVQ,isAsyncIterable:eKB,isDestroyed:lVQ,headerNameToString:iVQ,bufferToLowerCasedHeaderName:CVB,addListener:MVB,removeAllListeners:$VB,errorRequest:zVB,parseRawHeaders:IVB,encodeRawHeaders:YVB,parseHeaders:EVB,parseKeepAliveTimeout:BVB,destroy:AVB,bodyLength:cVQ,deepClone:tKB,ReadableStreamFrom:UVB,isBuffer:nVQ,assertRequestHandler:GVB,getSocketInfo:DVB,isFormDataLike:NVB,serializePathWithQuery:oKB,addAbortListener:ZVB,isValidHTTPToken:FVB,isValidHeaderValue:WVB,isTokenCharCode:rVQ,parseRangeHeader:VVB,normalizedMethodRecordsBase:kVA,normalizedMethodRecords:sVQ,isValidPort:dVQ,isHttpOrHttpsPrefixed:Ue,nodeMajor:lKB,nodeMinor:iKB,safeHTTPMethods:Object.freeze(["GET","HEAD","OPTIONS","TRACE"]),wrapRequestBody:nKB}});var t6=m((o_0,C7Q)=>{var rE=a("node:diagnostics_channel"),bVA=a("node:util"),iM=bVA.debuglog("undici"),Jk=bVA.debuglog("fetch"),Ze=bVA.debuglog("websocket"),wVB={beforeConnect:rE.channel("undici:client:beforeConnect"),connected:rE.channel("undici:client:connected"),connectError:rE.channel("undici:client:connectError"),sendHeaders:rE.channel("undici:client:sendHeaders"),create:rE.channel("undici:request:create"),bodySent:rE.channel("undici:request:bodySent"),headers:rE.channel("undici:request:headers"),trailers:rE.channel("undici:request:trailers"),error:rE.channel("undici:request:error"),open:rE.channel("undici:websocket:open"),close:rE.channel("undici:websocket:close"),socketError:rE.channel("undici:websocket:socket_error"),ping:rE.channel("undici:websocket:ping"),pong:rE.channel("undici:websocket:pong")},eVQ=!1;function B7Q(A=iM){if(eVQ)return;eVQ=!0,rE.subscribe("undici:client:beforeConnect",(Q)=>{let{connectParams:{version:B,protocol:C,port:E,host:I}}=Q;A("connecting to %s%s using %s%s",I,E?`:${E}`:"",C,B)}),rE.subscribe("undici:client:connected",(Q)=>{let{connectParams:{version:B,protocol:C,port:E,host:I}}=Q;A("connected to %s%s using %s%s",I,E?`:${E}`:"",C,B)}),rE.subscribe("undici:client:connectError",(Q)=>{let{connectParams:{version:B,protocol:C,port:E,host:I},error:Y}=Q;A("connection to %s%s using %s%s errored - %s",I,E?`:${E}`:"",C,B,Y.message)}),rE.subscribe("undici:client:sendHeaders",(Q)=>{let{request:{method:B,path:C,origin:E}}=Q;A("sending request to %s %s/%s",B,E,C)})}var A7Q=!1;function LVB(A=iM){if(A7Q)return;A7Q=!0,rE.subscribe("undici:request:headers",(Q)=>{let{request:{method:B,path:C,origin:E},response:{statusCode:I}}=Q;A("received response to %s %s/%s - HTTP %d",B,E,C,I)}),rE.subscribe("undici:request:trailers",(Q)=>{let{request:{method:B,path:C,origin:E}}=Q;A("trailers received from %s %s/%s",B,E,C)}),rE.subscribe("undici:request:error",(Q)=>{let{request:{method:B,path:C,origin:E},error:I}=Q;A("request to %s %s/%s errored - %s",B,E,C,I.message)})}var Q7Q=!1;function OVB(A=Ze){if(Q7Q)return;Q7Q=!0,rE.subscribe("undici:websocket:open",(Q)=>{let{address:{address:B,port:C}}=Q;A("connection opened %s%s",B,C?`:${C}`:"")}),rE.subscribe("undici:websocket:close",(Q)=>{let{websocket:B,code:C,reason:E}=Q;A("closed connection to %s - %s %s",B.url,C,E)}),rE.subscribe("undici:websocket:socket_error",(Q)=>{A("connection errored - %s",Q.message)}),rE.subscribe("undici:websocket:ping",(Q)=>{A("ping received")}),rE.subscribe("undici:websocket:pong",(Q)=>{A("pong received")})}if(iM.enabled||Jk.enabled)B7Q(Jk.enabled?Jk:iM),LVB(Jk.enabled?Jk:iM);if(Ze.enabled)B7Q(iM.enabled?iM:Ze),OVB(Ze);C7Q.exports={channels:wVB}});var D7Q=m((r_0,J7Q)=>{var{InvalidArgumentError:PI,NotSupportedError:RVB}=FC(),s4=a("node:assert"),{isValidHTTPToken:Y7Q,isValidHeaderValue:E7Q,isStream:TVB,destroy:qVB,isBuffer:PVB,isFormDataLike:_VB,isIterable:jVB,isBlobLike:xVB,serializePathWithQuery:SVB,assertRequestHandler:gVB,getServerName:vVB,normalizedMethodRecords:yVB}=D0(),{channels:t4}=t6(),{headerNameLowerCasedRecord:I7Q}=Je(),kVB=/[^\u0021-\u00ff]/,G8=Symbol("handler");class G7Q{constructor(A,{path:Q,method:B,body:C,headers:E,query:I,idempotent:Y,blocking:G,upgrade:J,headersTimeout:D,bodyTimeout:U,reset:N,expectContinue:Z,servername:X,throwOnError:W},K){if(typeof Q!=="string")throw new PI("path must be a string");else if(Q[0]!=="/"&&!(Q.startsWith("http://")||Q.startsWith("https://"))&&B!=="CONNECT")throw new PI("path must be an absolute URL or start with a slash");else if(kVB.test(Q))throw new PI("invalid request path");if(typeof B!=="string")throw new PI("method must be a string");else if(yVB[B]===void 0&&!Y7Q(B))throw new PI("invalid request method");if(J&&typeof J!=="string")throw new PI("upgrade must be a string");if(D!=null&&(!Number.isFinite(D)||D<0))throw new PI("invalid headersTimeout");if(U!=null&&(!Number.isFinite(U)||U<0))throw new PI("invalid bodyTimeout");if(N!=null&&typeof N!=="boolean")throw new PI("invalid reset");if(Z!=null&&typeof Z!=="boolean")throw new PI("invalid expectContinue");if(W!=null)throw new PI("invalid throwOnError");if(this.headersTimeout=D,this.bodyTimeout=U,this.method=B,this.abort=null,C==null)this.body=null;else if(TVB(C)){this.body=C;let V=this.body._readableState;if(!V||!V.autoDestroy)this.endHandler=function M(){qVB(this)},this.body.on("end",this.endHandler);this.errorHandler=(M)=>{if(this.abort)this.abort(M);else this.error=M},this.body.on("error",this.errorHandler)}else if(PVB(C))this.body=C.byteLength?C:null;else if(ArrayBuffer.isView(C))this.body=C.buffer.byteLength?Buffer.from(C.buffer,C.byteOffset,C.byteLength):null;else if(C instanceof ArrayBuffer)this.body=C.byteLength?Buffer.from(C):null;else if(typeof C==="string")this.body=C.length?Buffer.from(C):null;else if(_VB(C)||jVB(C)||xVB(C))this.body=C;else throw new PI("body must be a string, a Buffer, a Readable stream, an iterable, or an async iterable");if(this.completed=!1,this.aborted=!1,this.upgrade=J||null,this.path=I?SVB(Q,I):Q,this.origin=A,this.idempotent=Y==null?B==="HEAD"||B==="GET":Y,this.blocking=G??this.method!=="HEAD",this.reset=N==null?null:N,this.host=null,this.contentLength=null,this.contentType=null,this.headers=[],this.expectContinue=Z!=null?Z:!1,Array.isArray(E)){if(E.length%2!==0)throw new PI("headers array must be even");for(let V=0;V<E.length;V+=2)Xe(this,E[V],E[V+1])}else if(E&&typeof E==="object")if(E[Symbol.iterator])for(let V of E){if(!Array.isArray(V)||V.length!==2)throw new PI("headers must be in key-value pair format");Xe(this,V[0],V[1])}else{let V=Object.keys(E);for(let M=0;M<V.length;++M)Xe(this,V[M],E[V[M]])}else if(E!=null)throw new PI("headers must be an object or an array");if(gVB(K,B,J),this.servername=X||vVB(this.host)||null,this[G8]=K,t4.create.hasSubscribers)t4.create.publish({request:this})}onBodySent(A){if(this[G8].onBodySent)try{return this[G8].onBodySent(A)}catch(Q){this.abort(Q)}}onRequestSent(){if(t4.bodySent.hasSubscribers)t4.bodySent.publish({request:this});if(this[G8].onRequestSent)try{return this[G8].onRequestSent()}catch(A){this.abort(A)}}onConnect(A){if(s4(!this.aborted),s4(!this.completed),this.error)A(this.error);else return this.abort=A,this[G8].onConnect(A)}onResponseStarted(){return this[G8].onResponseStarted?.()}onHeaders(A,Q,B,C){if(s4(!this.aborted),s4(!this.completed),t4.headers.hasSubscribers)t4.headers.publish({request:this,response:{statusCode:A,headers:Q,statusText:C}});try{return this[G8].onHeaders(A,Q,B,C)}catch(E){this.abort(E)}}onData(A){s4(!this.aborted),s4(!this.completed);try{return this[G8].onData(A)}catch(Q){return this.abort(Q),!1}}onUpgrade(A,Q,B){return s4(!this.aborted),s4(!this.completed),this[G8].onUpgrade(A,Q,B)}onComplete(A){if(this.onFinally(),s4(!this.aborted),s4(!this.completed),this.completed=!0,t4.trailers.hasSubscribers)t4.trailers.publish({request:this,trailers:A});try{return this[G8].onComplete(A)}catch(Q){this.onError(Q)}}onError(A){if(this.onFinally(),t4.error.hasSubscribers)t4.error.publish({request:this,error:A});if(this.aborted)return;return this.aborted=!0,this[G8].onError(A)}onFinally(){if(this.errorHandler)this.body.off("error",this.errorHandler),this.errorHandler=null;if(this.endHandler)this.body.off("end",this.endHandler),this.endHandler=null}addHeader(A,Q){return Xe(this,A,Q),this}}function Xe(A,Q,B){if(B&&(typeof B==="object"&&!Array.isArray(B)))throw new PI(`invalid ${Q} header`);else if(B===void 0)return;let C=I7Q[Q];if(C===void 0){if(C=Q.toLowerCase(),I7Q[C]===void 0&&!Y7Q(C))throw new PI("invalid header key")}if(Array.isArray(B)){let E=[];for(let I=0;I<B.length;I++)if(typeof B[I]==="string"){if(!E7Q(B[I]))throw new PI(`invalid ${Q} header`);E.push(B[I])}else if(B[I]===null)E.push("");else if(typeof B[I]==="object")throw new PI(`invalid ${Q} header`);else E.push(`${B[I]}`);B=E}else if(typeof B==="string"){if(!E7Q(B))throw new PI(`invalid ${Q} header`)}else if(B===null)B="";else B=`${B}`;if(A.host===null&&C==="host"){if(typeof B!=="string")throw new PI("invalid host header");A.host=B}else if(A.contentLength===null&&C==="content-length"){if(A.contentLength=parseInt(B,10),!Number.isFinite(A.contentLength))throw new PI("invalid content-length header")}else if(A.contentType===null&&C==="content-type")A.contentType=B,A.headers.push(Q,B);else if(C==="transfer-encoding"||C==="keep-alive"||C==="upgrade")throw new PI(`invalid ${C} header`);else if(C==="connection"){let E=typeof B==="string"?B.toLowerCase():null;if(E!=="close"&&E!=="keep-alive")throw new PI("invalid connection header");if(E==="close")A.reset=!0}else if(C==="expect")throw new RVB("expect header not supported");else A.headers.push(Q,B)}J7Q.exports=G7Q});var Fe=m((a_0,U7Q)=>{var{InvalidArgumentError:bVB}=FC();U7Q.exports=class A{#A;constructor(Q){this.#A=Q}static wrap(Q){return Q.onRequestStart?Q:new A(Q)}onConnect(Q,B){return this.#A.onConnect?.(Q,B)}onHeaders(Q,B,C,E){return this.#A.onHeaders?.(Q,B,C,E)}onUpgrade(Q,B,C){return this.#A.onUpgrade?.(Q,B,C)}onData(Q){return this.#A.onData?.(Q)}onComplete(Q){return this.#A.onComplete?.(Q)}onError(Q){if(!this.#A.onError)throw Q;return this.#A.onError?.(Q)}onRequestStart(Q,B){this.#A.onConnect?.((C)=>Q.abort(C),B)}onRequestUpgrade(Q,B,C,E){let I=[];for(let[Y,G]of Object.entries(C))I.push(Buffer.from(Y),Array.isArray(G)?G.map((J)=>Buffer.from(J)):Buffer.from(G));this.#A.onUpgrade?.(B,I,E)}onResponseStart(Q,B,C,E){let I=[];for(let[Y,G]of Object.entries(C))I.push(Buffer.from(Y),Array.isArray(G)?G.map((J)=>Buffer.from(J)):Buffer.from(G));if(this.#A.onHeaders?.(B,I,()=>Q.resume(),E)===!1)Q.pause()}onResponseData(Q,B){if(this.#A.onData?.(B)===!1)Q.pause()}onResponseEnd(Q,B){let C=[];for(let[E,I]of Object.entries(B))C.push(Buffer.from(E),Array.isArray(I)?I.map((Y)=>Buffer.from(Y)):Buffer.from(I));this.#A.onComplete?.(C)}onResponseError(Q,B){if(!this.#A.onError)throw new bVB("invalid onError method");this.#A.onError?.(B)}}});var Dk=m((s_0,Z7Q)=>{var hVB=a("node:events"),mVB=Fe(),fVB=(A)=>(Q,B)=>A(Q,mVB.wrap(B));class N7Q extends hVB{dispatch(){throw new Error("not implemented")}close(){throw new Error("not implemented")}destroy(){throw new Error("not implemented")}compose(...A){let Q=Array.isArray(A[0])?A[0]:A,B=this.dispatch.bind(this);for(let C of Q){if(C==null)continue;if(typeof C!=="function")throw new TypeError(`invalid interceptor, expected function received ${typeof C}`);if(B=C(B),B=fVB(B),B==null||typeof B!=="function"||B.length!==2)throw new TypeError("invalid interceptor")}return new Proxy(this,{get:(C,E)=>E==="dispatch"?B:C[E]})}}Z7Q.exports=N7Q});var H7Q=m((t_0,F7Q)=>{var{parseHeaders:hVA}=D0(),{InvalidArgumentError:dVB}=FC(),mVA=Symbol("resume");class X7Q{#A=!1;#Q=null;#B=!1;#C;[mVA]=null;constructor(A){this.#C=A}pause(){this.#A=!0}resume(){if(this.#A)this.#A=!1,this[mVA]?.()}abort(A){if(!this.#B)this.#B=!0,this.#Q=A,this.#C(A)}get aborted(){return this.#B}get reason(){return this.#Q}get paused(){return this.#A}}F7Q.exports=class A{#A;#Q;constructor(Q){this.#A=Q}static unwrap(Q){return!Q.onRequestStart?Q:new A(Q)}onConnect(Q,B){this.#Q=new X7Q(Q),this.#A.onRequestStart?.(this.#Q,B)}onUpgrade(Q,B,C){this.#A.onRequestUpgrade?.(this.#Q,Q,hVA(B),C)}onHeaders(Q,B,C,E){return this.#Q[mVA]=C,this.#A.onResponseStart?.(this.#Q,Q,hVA(B),E),!this.#Q.paused}onData(Q){return this.#A.onResponseData?.(this.#Q,Q),!this.#Q.paused}onComplete(Q){this.#A.onResponseEnd?.(this.#Q,hVA(Q))}onError(Q){if(!this.#A.onResponseError)throw new dVB("invalid onError method");this.#A.onResponseError?.(this.#Q,Q)}}});var KT=m((e_0,K7Q)=>{var uVB=Dk(),pVB=H7Q(),{ClientDestroyedError:fVA,ClientClosedError:cVB,InvalidArgumentError:He}=FC(),{kDestroy:lVB,kClose:iVB,kClosed:Uk,kDestroyed:HT,kDispatch:nVB}=kE(),e6=Symbol("onDestroyed"),WT=Symbol("onClosed");class W7Q extends uVB{constructor(){super();this[HT]=!1,this[e6]=null,this[Uk]=!1,this[WT]=[]}get destroyed(){return this[HT]}get closed(){return this[Uk]}close(A){if(A===void 0)return new Promise((B,C)=>{this.close((E,I)=>{return E?C(E):B(I)})});if(typeof A!=="function")throw new He("invalid callback");if(this[HT]){queueMicrotask(()=>A(new fVA,null));return}if(this[Uk]){if(this[WT])this[WT].push(A);else queueMicrotask(()=>A(null,null));return}this[Uk]=!0,this[WT].push(A);let Q=()=>{let B=this[WT];this[WT]=null;for(let C=0;C<B.length;C++)B[C](null,null)};this[iVB]().then(()=>this.destroy()).then(()=>{queueMicrotask(Q)})}destroy(A,Q){if(typeof A==="function")Q=A,A=null;if(Q===void 0)return new Promise((C,E)=>{this.destroy(A,(I,Y)=>{return I?E(I):C(Y)})});if(typeof Q!=="function")throw new He("invalid callback");if(this[HT]){if(this[e6])this[e6].push(Q);else queueMicrotask(()=>Q(null,null));return}if(!A)A=new fVA;this[HT]=!0,this[e6]=this[e6]||[],this[e6].push(Q);let B=()=>{let C=this[e6];this[e6]=null;for(let E=0;E<C.length;E++)C[E](null,null)};this[lVB](A).then(()=>{queueMicrotask(B)})}dispatch(A,Q){if(!Q||typeof Q!=="object")throw new He("handler must be an object");Q=pVB.unwrap(Q);try{if(!A||typeof A!=="object")throw new He("opts must be an object.");if(this[HT]||this[e6])throw new fVA;if(this[Uk])throw new cVB;return this[nVB](A,Q)}catch(B){if(typeof Q.onError!=="function")throw B;return Q.onError(B),!1}}}K7Q.exports=W7Q});var oVA=m((Aj0,z7Q)=>{var VT=0,dVA=1000,uVA=(dVA>>1)-1,AF,pVA=Symbol("kFastTimer"),QF=[],cVA=-2,lVA=-1,M7Q=0,V7Q=1;function iVA(){VT+=uVA;let A=0,Q=QF.length;while(A<Q){let B=QF[A];if(B._state===M7Q)B._idleStart=VT-uVA,B._state=V7Q;else if(B._state===V7Q&&VT>=B._idleStart+B._idleTimeout)B._state=lVA,B._idleStart=-1,B._onTimeout(B._timerArg);if(B._state===lVA){if(B._state=cVA,--Q!==0)QF[A]=QF[Q]}else++A}if(QF.length=Q,QF.length!==0)$7Q()}function $7Q(){if(AF)AF.refresh();else if(clearTimeout(AF),AF=setTimeout(iVA,uVA),AF.unref)AF.unref()}class nVA{[pVA]=!0;_state=cVA;_idleTimeout=-1;_idleStart=-1;_onTimeout;_timerArg;constructor(A,Q,B){this._onTimeout=A,this._idleTimeout=Q,this._timerArg=B,this.refresh()}refresh(){if(this._state===cVA)QF.push(this);if(!AF||QF.length===1)$7Q();this._state=M7Q}clear(){this._state=lVA,this._idleStart=-1}}z7Q.exports={setTimeout(A,Q,B){return Q<=dVA?setTimeout(A,Q,B):new nVA(A,Q,B)},clearTimeout(A){if(A[pVA])A.clear();else clearTimeout(A)},setFastTimeout(A,Q,B){return new nVA(A,Q,B)},clearFastTimeout(A){A.clear()},now(){return VT},tick(A=0){VT+=A-dVA+1,iVA(),iVA()},reset(){VT=0,QF.length=0,clearTimeout(AF),AF=null},kFastTimer:pVA}});var Nk=m((Qj0,T7Q)=>{var oVB=a("node:net"),w7Q=a("node:assert"),R7Q=D0(),{InvalidArgumentError:rVB,ConnectTimeoutError:aVB}=FC(),We=oVA();function L7Q(){}var rVA,aVA;if(global.FinalizationRegistry&&!(process.env.NODE_V8_COVERAGE||process.env.UNDICI_NO_FG))aVA=class A{constructor(Q){this._maxCachedSessions=Q,this._sessionCache=new Map,this._sessionRegistry=new global.FinalizationRegistry((B)=>{if(this._sessionCache.size<this._maxCachedSessions)return;let C=this._sessionCache.get(B);if(C!==void 0&&C.deref()===void 0)this._sessionCache.delete(B)})}get(Q){let B=this._sessionCache.get(Q);return B?B.deref():null}set(Q,B){if(this._maxCachedSessions===0)return;this._sessionCache.set(Q,new WeakRef(B)),this._sessionRegistry.register(B,Q)}};else aVA=class A{constructor(Q){this._maxCachedSessions=Q,this._sessionCache=new Map}get(Q){return this._sessionCache.get(Q)}set(Q,B){if(this._maxCachedSessions===0)return;if(this._sessionCache.size>=this._maxCachedSessions){let{value:C}=this._sessionCache.keys().next();this._sessionCache.delete(C)}this._sessionCache.set(Q,B)}};function sVB({allowH2:A,maxCachedSessions:Q,socketPath:B,timeout:C,session:E,...I}){if(Q!=null&&(!Number.isInteger(Q)||Q<0))throw new rVB("maxCachedSessions must be a positive integer or zero");let Y={path:B,...I},G=new aVA(Q==null?100:Q);return C=C==null?1e4:C,A=A!=null?A:!1,function J({hostname:D,host:U,protocol:N,port:Z,servername:X,localAddress:W,httpSocket:K},V){let M;if(N==="https:"){if(!rVA)rVA=a("node:tls");X=X||Y.servername||R7Q.getServerName(U)||null;let L=X||D;w7Q(L);let O=E||G.get(L)||null;Z=Z||443,M=rVA.connect({highWaterMark:16384,...Y,servername:X,session:O,localAddress:W,ALPNProtocols:A?["http/1.1","h2"]:["http/1.1"],socket:K,port:Z,host:D}),M.on("session",function(R){G.set(L,R)})}else w7Q(!K,"httpSocket can only be sent on TLS update"),Z=Z||80,M=oVB.connect({highWaterMark:65536,...Y,localAddress:W,port:Z,host:D});if(Y.keepAlive==null||Y.keepAlive){let L=Y.keepAliveInitialDelay===void 0?60000:Y.keepAliveInitialDelay;M.setKeepAlive(!0,L)}let z=tVB(new WeakRef(M),{timeout:C,hostname:D,port:Z});return M.setNoDelay(!0).once(N==="https:"?"secureConnect":"connect",function(){if(queueMicrotask(z),V){let L=V;V=null,L(null,this)}}).on("error",function(L){if(queueMicrotask(z),V){let O=V;V=null,O(L)}}),M}}var tVB=process.platform==="win32"?(A,Q)=>{if(!Q.timeout)return L7Q;let B=null,C=null,E=We.setFastTimeout(()=>{B=setImmediate(()=>{C=setImmediate(()=>O7Q(A.deref(),Q))})},Q.timeout);return()=>{We.clearFastTimeout(E),clearImmediate(B),clearImmediate(C)}}:(A,Q)=>{if(!Q.timeout)return L7Q;let B=null,C=We.setFastTimeout(()=>{B=setImmediate(()=>{O7Q(A.deref(),Q)})},Q.timeout);return()=>{We.clearFastTimeout(C),clearImmediate(B)}};function O7Q(A,Q){if(A==null)return;let B="Connect Timeout Error";if(Array.isArray(A.autoSelectFamilyAttemptedAddresses))B+=` (attempted addresses: ${A.autoSelectFamilyAttemptedAddresses.join(", ")},`;else B+=` (attempted address: ${Q.hostname}:${Q.port},`;B+=` timeout: ${Q.timeout}ms)`,R7Q.destroy(A,new aVB(B))}T7Q.exports=sVB});var _7Q=m((q7Q)=>{Object.defineProperty(q7Q,"__esModule",{value:!0});q7Q.enumToMap=void 0;function eVB(A,Q=[],B=[]){var C,E;let I=((C=Q===null||Q===void 0?void 0:Q.length)!==null&&C!==void 0?C:0)===0,Y=((E=B===null||B===void 0?void 0:B.length)!==null&&E!==void 0?E:0)===0;return Object.fromEntries(Object.entries(A).filter(([,G])=>{return typeof G==="number"&&(I||Q.includes(G))&&(Y||!B.includes(G))}))}q7Q.enumToMap=eVB});var k7Q=m((j7Q)=>{Object.defineProperty(j7Q,"__esModule",{value:!0});j7Q.SPECIAL_HEADERS=j7Q.MINOR=j7Q.MAJOR=j7Q.HTAB_SP_VCHAR_OBS_TEXT=j7Q.QUOTED_STRING=j7Q.CONNECTION_TOKEN_CHARS=j7Q.HEADER_CHARS=j7Q.TOKEN=j7Q.HEX=j7Q.URL_CHAR=j7Q.USERINFO_CHARS=j7Q.MARK=j7Q.ALPHANUM=j7Q.NUM=j7Q.HEX_MAP=j7Q.NUM_MAP=j7Q.ALPHA=j7Q.STATUSES_HTTP=j7Q.H_METHOD_MAP=j7Q.METHOD_MAP=j7Q.METHODS_RTSP=j7Q.METHODS_ICE=j7Q.METHODS_HTTP=j7Q.HEADER_STATE=j7Q.FINISH=j7Q.STATUSES=j7Q.METHODS=j7Q.LENIENT_FLAGS=j7Q.FLAGS=j7Q.TYPE=j7Q.ERROR=void 0;var A7B=_7Q();j7Q.ERROR={OK:0,INTERNAL:1,STRICT:2,CR_EXPECTED:25,LF_EXPECTED:3,UNEXPECTED_CONTENT_LENGTH:4,UNEXPECTED_SPACE:30,CLOSED_CONNECTION:5,INVALID_METHOD:6,INVALID_URL:7,INVALID_CONSTANT:8,INVALID_VERSION:9,INVALID_HEADER_TOKEN:10,INVALID_CONTENT_LENGTH:11,INVALID_CHUNK_SIZE:12,INVALID_STATUS:13,INVALID_EOF_STATE:14,INVALID_TRANSFER_ENCODING:15,CB_MESSAGE_BEGIN:16,CB_HEADERS_COMPLETE:17,CB_MESSAGE_COMPLETE:18,CB_CHUNK_HEADER:19,CB_CHUNK_COMPLETE:20,PAUSED:21,PAUSED_UPGRADE:22,PAUSED_H2_UPGRADE:23,USER:24,CB_URL_COMPLETE:26,CB_STATUS_COMPLETE:27,CB_METHOD_COMPLETE:32,CB_VERSION_COMPLETE:33,CB_HEADER_FIELD_COMPLETE:28,CB_HEADER_VALUE_COMPLETE:29,CB_CHUNK_EXTENSION_NAME_COMPLETE:34,CB_CHUNK_EXTENSION_VALUE_COMPLETE:35,CB_RESET:31};j7Q.TYPE={BOTH:0,REQUEST:1,RESPONSE:2};j7Q.FLAGS={CONNECTION_KEEP_ALIVE:1,CONNECTION_CLOSE:2,CONNECTION_UPGRADE:4,CHUNKED:8,UPGRADE:16,CONTENT_LENGTH:32,SKIPBODY:64,TRAILING:128,TRANSFER_ENCODING:512};j7Q.LENIENT_FLAGS={HEADERS:1,CHUNKED_LENGTH:2,KEEP_ALIVE:4,TRANSFER_ENCODING:8,VERSION:16,DATA_AFTER_CLOSE:32,OPTIONAL_LF_AFTER_CR:64,OPTIONAL_CRLF_AFTER_CHUNK:128,OPTIONAL_CR_BEFORE_LF:256,SPACES_AFTER_CHUNK_SIZE:512};j7Q.METHODS={DELETE:0,GET:1,HEAD:2,POST:3,PUT:4,CONNECT:5,OPTIONS:6,TRACE:7,COPY:8,LOCK:9,MKCOL:10,MOVE:11,PROPFIND:12,PROPPATCH:13,SEARCH:14,UNLOCK:15,BIND:16,REBIND:17,UNBIND:18,ACL:19,REPORT:20,MKACTIVITY:21,CHECKOUT:22,MERGE:23,"M-SEARCH":24,NOTIFY:25,SUBSCRIBE:26,UNSUBSCRIBE:27,PATCH:28,PURGE:29,MKCALENDAR:30,LINK:31,UNLINK:32,SOURCE:33,PRI:34,DESCRIBE:35,ANNOUNCE:36,SETUP:37,PLAY:38,PAUSE:39,TEARDOWN:40,GET_PARAMETER:41,SET_PARAMETER:42,REDIRECT:43,RECORD:44,FLUSH:45,QUERY:46};j7Q.STATUSES={CONTINUE:100,SWITCHING_PROTOCOLS:101,PROCESSING:102,EARLY_HINTS:103,RESPONSE_IS_STALE:110,REVALIDATION_FAILED:111,DISCONNECTED_OPERATION:112,HEURISTIC_EXPIRATION:113,MISCELLANEOUS_WARNING:199,OK:200,CREATED:201,ACCEPTED:202,NON_AUTHORITATIVE_INFORMATION:203,NO_CONTENT:204,RESET_CONTENT:205,PARTIAL_CONTENT:206,MULTI_STATUS:207,ALREADY_REPORTED:208,TRANSFORMATION_APPLIED:214,IM_USED:226,MISCELLANEOUS_PERSISTENT_WARNING:299,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,USE_PROXY:305,SWITCH_PROXY:306,TEMPORARY_REDIRECT:307,PERMANENT_REDIRECT:308,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,IM_A_TEAPOT:418,PAGE_EXPIRED:419,ENHANCE_YOUR_CALM:420,MISDIRECTED_REQUEST:421,UNPROCESSABLE_ENTITY:422,LOCKED:423,FAILED_DEPENDENCY:424,TOO_EARLY:425,UPGRADE_REQUIRED:426,PRECONDITION_REQUIRED:428,TOO_MANY_REQUESTS:429,REQUEST_HEADER_FIELDS_TOO_LARGE_UNOFFICIAL:430,REQUEST_HEADER_FIELDS_TOO_LARGE:431,LOGIN_TIMEOUT:440,NO_RESPONSE:444,RETRY_WITH:449,BLOCKED_BY_PARENTAL_CONTROL:450,UNAVAILABLE_FOR_LEGAL_REASONS:451,CLIENT_CLOSED_LOAD_BALANCED_REQUEST:460,INVALID_X_FORWARDED_FOR:463,REQUEST_HEADER_TOO_LARGE:494,SSL_CERTIFICATE_ERROR:495,SSL_CERTIFICATE_REQUIRED:496,HTTP_REQUEST_SENT_TO_HTTPS_PORT:497,INVALID_TOKEN:498,CLIENT_CLOSED_REQUEST:499,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,VARIANT_ALSO_NEGOTIATES:506,INSUFFICIENT_STORAGE:507,LOOP_DETECTED:508,BANDWIDTH_LIMIT_EXCEEDED:509,NOT_EXTENDED:510,NETWORK_AUTHENTICATION_REQUIRED:511,WEB_SERVER_UNKNOWN_ERROR:520,WEB_SERVER_IS_DOWN:521,CONNECTION_TIMEOUT:522,ORIGIN_IS_UNREACHABLE:523,TIMEOUT_OCCURED:524,SSL_HANDSHAKE_FAILED:525,INVALID_SSL_CERTIFICATE:526,RAILGUN_ERROR:527,SITE_IS_OVERLOADED:529,SITE_IS_FROZEN:530,IDENTITY_PROVIDER_AUTHENTICATION_ERROR:561,NETWORK_READ_TIMEOUT:598,NETWORK_CONNECT_TIMEOUT:599};j7Q.FINISH={SAFE:0,SAFE_WITH_CB:1,UNSAFE:2};j7Q.HEADER_STATE={GENERAL:0,CONNECTION:1,CONTENT_LENGTH:2,TRANSFER_ENCODING:3,UPGRADE:4,CONNECTION_KEEP_ALIVE:5,CONNECTION_CLOSE:6,CONNECTION_UPGRADE:7,TRANSFER_ENCODING_CHUNKED:8};j7Q.METHODS_HTTP=[j7Q.METHODS.DELETE,j7Q.METHODS.GET,j7Q.METHODS.HEAD,j7Q.METHODS.POST,j7Q.METHODS.PUT,j7Q.METHODS.CONNECT,j7Q.METHODS.OPTIONS,j7Q.METHODS.TRACE,j7Q.METHODS.COPY,j7Q.METHODS.LOCK,j7Q.METHODS.MKCOL,j7Q.METHODS.MOVE,j7Q.METHODS.PROPFIND,j7Q.METHODS.PROPPATCH,j7Q.METHODS.SEARCH,j7Q.METHODS.UNLOCK,j7Q.METHODS.BIND,j7Q.METHODS.REBIND,j7Q.METHODS.UNBIND,j7Q.METHODS.ACL,j7Q.METHODS.REPORT,j7Q.METHODS.MKACTIVITY,j7Q.METHODS.CHECKOUT,j7Q.METHODS.MERGE,j7Q.METHODS["M-SEARCH"],j7Q.METHODS.NOTIFY,j7Q.METHODS.SUBSCRIBE,j7Q.METHODS.UNSUBSCRIBE,j7Q.METHODS.PATCH,j7Q.METHODS.PURGE,j7Q.METHODS.MKCALENDAR,j7Q.METHODS.LINK,j7Q.METHODS.UNLINK,j7Q.METHODS.PRI,j7Q.METHODS.SOURCE,j7Q.METHODS.QUERY];j7Q.METHODS_ICE=[j7Q.METHODS.SOURCE];j7Q.METHODS_RTSP=[j7Q.METHODS.OPTIONS,j7Q.METHODS.DESCRIBE,j7Q.METHODS.ANNOUNCE,j7Q.METHODS.SETUP,j7Q.METHODS.PLAY,j7Q.METHODS.PAUSE,j7Q.METHODS.TEARDOWN,j7Q.METHODS.GET_PARAMETER,j7Q.METHODS.SET_PARAMETER,j7Q.METHODS.REDIRECT,j7Q.METHODS.RECORD,j7Q.METHODS.FLUSH,j7Q.METHODS.GET,j7Q.METHODS.POST];j7Q.METHOD_MAP=A7B.enumToMap(j7Q.METHODS);j7Q.H_METHOD_MAP=Object.fromEntries(Object.entries(j7Q.METHODS).filter(([A])=>A.startsWith("H")));j7Q.STATUSES_HTTP=[j7Q.STATUSES.CONTINUE,j7Q.STATUSES.SWITCHING_PROTOCOLS,j7Q.STATUSES.PROCESSING,j7Q.STATUSES.EARLY_HINTS,j7Q.STATUSES.RESPONSE_IS_STALE,j7Q.STATUSES.REVALIDATION_FAILED,j7Q.STATUSES.DISCONNECTED_OPERATION,j7Q.STATUSES.HEURISTIC_EXPIRATION,j7Q.STATUSES.MISCELLANEOUS_WARNING,j7Q.STATUSES.OK,j7Q.STATUSES.CREATED,j7Q.STATUSES.ACCEPTED,j7Q.STATUSES.NON_AUTHORITATIVE_INFORMATION,j7Q.STATUSES.NO_CONTENT,j7Q.STATUSES.RESET_CONTENT,j7Q.STATUSES.PARTIAL_CONTENT,j7Q.STATUSES.MULTI_STATUS,j7Q.STATUSES.ALREADY_REPORTED,j7Q.STATUSES.TRANSFORMATION_APPLIED,j7Q.STATUSES.IM_USED,j7Q.STATUSES.MISCELLANEOUS_PERSISTENT_WARNING,j7Q.STATUSES.MULTIPLE_CHOICES,j7Q.STATUSES.MOVED_PERMANENTLY,j7Q.STATUSES.FOUND,j7Q.STATUSES.SEE_OTHER,j7Q.STATUSES.NOT_MODIFIED,j7Q.STATUSES.USE_PROXY,j7Q.STATUSES.SWITCH_PROXY,j7Q.STATUSES.TEMPORARY_REDIRECT,j7Q.STATUSES.PERMANENT_REDIRECT,j7Q.STATUSES.BAD_REQUEST,j7Q.STATUSES.UNAUTHORIZED,j7Q.STATUSES.PAYMENT_REQUIRED,j7Q.STATUSES.FORBIDDEN,j7Q.STATUSES.NOT_FOUND,j7Q.STATUSES.METHOD_NOT_ALLOWED,j7Q.STATUSES.NOT_ACCEPTABLE,j7Q.STATUSES.PROXY_AUTHENTICATION_REQUIRED,j7Q.STATUSES.REQUEST_TIMEOUT,j7Q.STATUSES.CONFLICT,j7Q.STATUSES.GONE,j7Q.STATUSES.LENGTH_REQUIRED,j7Q.STATUSES.PRECONDITION_FAILED,j7Q.STATUSES.PAYLOAD_TOO_LARGE,j7Q.STATUSES.URI_TOO_LONG,j7Q.STATUSES.UNSUPPORTED_MEDIA_TYPE,j7Q.STATUSES.RANGE_NOT_SATISFIABLE,j7Q.STATUSES.EXPECTATION_FAILED,j7Q.STATUSES.IM_A_TEAPOT,j7Q.STATUSES.PAGE_EXPIRED,j7Q.STATUSES.ENHANCE_YOUR_CALM,j7Q.STATUSES.MISDIRECTED_REQUEST,j7Q.STATUSES.UNPROCESSABLE_ENTITY,j7Q.STATUSES.LOCKED,j7Q.STATUSES.FAILED_DEPENDENCY,j7Q.STATUSES.TOO_EARLY,j7Q.STATUSES.UPGRADE_REQUIRED,j7Q.STATUSES.PRECONDITION_REQUIRED,j7Q.STATUSES.TOO_MANY_REQUESTS,j7Q.STATUSES.REQUEST_HEADER_FIELDS_TOO_LARGE_UNOFFICIAL,j7Q.STATUSES.REQUEST_HEADER_FIELDS_TOO_LARGE,j7Q.STATUSES.LOGIN_TIMEOUT,j7Q.STATUSES.NO_RESPONSE,j7Q.STATUSES.RETRY_WITH,j7Q.STATUSES.BLOCKED_BY_PARENTAL_CONTROL,j7Q.STATUSES.UNAVAILABLE_FOR_LEGAL_REASONS,j7Q.STATUSES.CLIENT_CLOSED_LOAD_BALANCED_REQUEST,j7Q.STATUSES.INVALID_X_FORWARDED_FOR,j7Q.STATUSES.REQUEST_HEADER_TOO_LARGE,j7Q.STATUSES.SSL_CERTIFICATE_ERROR,j7Q.STATUSES.SSL_CERTIFICATE_REQUIRED,j7Q.STATUSES.HTTP_REQUEST_SENT_TO_HTTPS_PORT,j7Q.STATUSES.INVALID_TOKEN,j7Q.STATUSES.CLIENT_CLOSED_REQUEST,j7Q.STATUSES.INTERNAL_SERVER_ERROR,j7Q.STATUSES.NOT_IMPLEMENTED,j7Q.STATUSES.BAD_GATEWAY,j7Q.STATUSES.SERVICE_UNAVAILABLE,j7Q.STATUSES.GATEWAY_TIMEOUT,j7Q.STATUSES.HTTP_VERSION_NOT_SUPPORTED,j7Q.STATUSES.VARIANT_ALSO_NEGOTIATES,j7Q.STATUSES.INSUFFICIENT_STORAGE,j7Q.STATUSES.LOOP_DETECTED,j7Q.STATUSES.BANDWIDTH_LIMIT_EXCEEDED,j7Q.STATUSES.NOT_EXTENDED,j7Q.STATUSES.NETWORK_AUTHENTICATION_REQUIRED,j7Q.STATUSES.WEB_SERVER_UNKNOWN_ERROR,j7Q.STATUSES.WEB_SERVER_IS_DOWN,j7Q.STATUSES.CONNECTION_TIMEOUT,j7Q.STATUSES.ORIGIN_IS_UNREACHABLE,j7Q.STATUSES.TIMEOUT_OCCURED,j7Q.STATUSES.SSL_HANDSHAKE_FAILED,j7Q.STATUSES.INVALID_SSL_CERTIFICATE,j7Q.STATUSES.RAILGUN_ERROR,j7Q.STATUSES.SITE_IS_OVERLOADED,j7Q.STATUSES.SITE_IS_FROZEN,j7Q.STATUSES.IDENTITY_PROVIDER_AUTHENTICATION_ERROR,j7Q.STATUSES.NETWORK_READ_TIMEOUT,j7Q.STATUSES.NETWORK_CONNECT_TIMEOUT];j7Q.ALPHA=[];for(let A=65;A<=90;A++)j7Q.ALPHA.push(String.fromCharCode(A)),j7Q.ALPHA.push(String.fromCharCode(A+32));j7Q.NUM_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9};j7Q.HEX_MAP={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};j7Q.NUM=["0","1","2","3","4","5","6","7","8","9"];j7Q.ALPHANUM=j7Q.ALPHA.concat(j7Q.NUM);j7Q.MARK=["-","_",".","!","~","*","'","(",")"];j7Q.USERINFO_CHARS=j7Q.ALPHANUM.concat(j7Q.MARK).concat(["%",";",":","&","=","+","$",","]);j7Q.URL_CHAR=["!",'"',"$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","@","[","\\","]","^","_","`","{","|","}","~"].concat(j7Q.ALPHANUM);j7Q.HEX=j7Q.NUM.concat(["a","b","c","d","e","f","A","B","C","D","E","F"]);j7Q.TOKEN=["!","#","$","%","&","'","*","+","-",".","^","_","`","|","~"].concat(j7Q.ALPHANUM);j7Q.HEADER_CHARS=["\t"];for(let A=32;A<=255;A++)if(A!==127)j7Q.HEADER_CHARS.push(A);j7Q.CONNECTION_TOKEN_CHARS=j7Q.HEADER_CHARS.filter((A)=>A!==44);j7Q.QUOTED_STRING=["\t"," "];for(let A=33;A<=255;A++)if(A!==34&&A!==92)j7Q.QUOTED_STRING.push(A);j7Q.HTAB_SP_VCHAR_OBS_TEXT=["\t"," "];for(let A=33;A<=126;A++)j7Q.HTAB_SP_VCHAR_OBS_TEXT.push(A);for(let A=128;A<=255;A++)j7Q.HTAB_SP_VCHAR_OBS_TEXT.push(A);j7Q.MAJOR=j7Q.NUM_MAP;j7Q.MINOR=j7Q.MAJOR;j7Q.SPECIAL_HEADERS={connection:j7Q.HEADER_STATE.CONNECTION,"content-length":j7Q.HEADER_STATE.CONTENT_LENGTH,"proxy-connection":j7Q.HEADER_STATE.CONNECTION,"transfer-encoding":j7Q.HEADER_STATE.TRANSFER_ENCODING,upgrade:j7Q.HEADER_STATE.UPGRADE}});var Q7A=m((Ej0,b7Q)=>{var{Buffer:M7B}=a("node:buffer"),A7A;Object.defineProperty(b7Q,"exports",{get:()=>{return A7A?A7A:A7A=M7B.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAn9/AGABfwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAzQzBQYAAAMAAAAAAAADAQMAAwMDAAACAAAAAAICAgICAgICAgIBAQEBAQEBAQEDAAADAAAABAUBcAESEgUDAQACBggBfwFBgNgECwfFBygGbWVtb3J5AgALX2luaXRpYWxpemUACBlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQACRhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUANgxsbGh0dHBfYWxsb2MACwZtYWxsb2MAOAtsbGh0dHBfZnJlZQAMBGZyZWUADA9sbGh0dHBfZ2V0X3R5cGUADRVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADhVsbGh0dHBfZ2V0X2h0dHBfbWlub3IADxFsbGh0dHBfZ2V0X21ldGhvZAAQFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAERJsbGh0dHBfZ2V0X3VwZ3JhZGUAEgxsbGh0dHBfcmVzZXQAEw5sbGh0dHBfZXhlY3V0ZQAUFGxsaHR0cF9zZXR0aW5nc19pbml0ABUNbGxodHRwX2ZpbmlzaAAWDGxsaHR0cF9wYXVzZQAXDWxsaHR0cF9yZXN1bWUAGBtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGRBsbGh0dHBfZ2V0X2Vycm5vABoXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AGxdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAcFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB0RbGxodHRwX2Vycm5vX25hbWUAHhJsbGh0dHBfbWV0aG9kX25hbWUAHxJsbGh0dHBfc3RhdHVzX25hbWUAIBpsbGh0dHBfc2V0X2xlbmllbnRfaGVhZGVycwAhIWxsaHR0cF9zZXRfbGVuaWVudF9jaHVua2VkX2xlbmd0aAAiHWxsaHR0cF9zZXRfbGVuaWVudF9rZWVwX2FsaXZlACMkbGxodHRwX3NldF9sZW5pZW50X3RyYW5zZmVyX2VuY29kaW5nACQabGxodHRwX3NldF9sZW5pZW50X3ZlcnNpb24AJSNsbGh0dHBfc2V0X2xlbmllbnRfZGF0YV9hZnRlcl9jbG9zZQAmJ2xsaHR0cF9zZXRfbGVuaWVudF9vcHRpb25hbF9sZl9hZnRlcl9jcgAnLGxsaHR0cF9zZXRfbGVuaWVudF9vcHRpb25hbF9jcmxmX2FmdGVyX2NodW5rACgobGxodHRwX3NldF9sZW5pZW50X29wdGlvbmFsX2NyX2JlZm9yZV9sZgApKmxsaHR0cF9zZXRfbGVuaWVudF9zcGFjZXNfYWZ0ZXJfY2h1bmtfc2l6ZQAqGGxsaHR0cF9tZXNzYWdlX25lZWRzX2VvZgA1CRcBAEEBCxEBAgMEBQoGBzEzMi0uLCsvMAq8ywIzFgBB/NMAKAIABEAAC0H80wBBATYCAAsUACAAEDcgACACNgI4IAAgAToAKAsUACAAIAAvATQgAC0AMCAAEDYQAAseAQF/QcAAEDkiARA3IAFBgAg2AjggASAAOgAoIAELjwwBB38CQCAARQ0AIABBCGsiASAAQQRrKAIAIgBBeHEiBGohBQJAIABBAXENACAAQQNxRQ0BIAEgASgCACIAayIBQZDUACgCAEkNASAAIARqIQQCQAJAQZTUACgCACABRwRAIABB/wFNBEAgAEEDdiEDIAEoAggiACABKAIMIgJGBEBBgNQAQYDUACgCAEF+IAN3cTYCAAwFCyACIAA2AgggACACNgIMDAQLIAEoAhghBiABIAEoAgwiAEcEQCAAIAEoAggiAjYCCCACIAA2AgwMAwsgAUEUaiIDKAIAIgJFBEAgASgCECICRQ0CIAFBEGohAwsDQCADIQcgAiIAQRRqIgMoAgAiAg0AIABBEGohAyAAKAIQIgINAAsgB0EANgIADAILIAUoAgQiAEEDcUEDRw0CIAUgAEF+cTYCBEGI1AAgBDYCACAFIAQ2AgAgASAEQQFyNgIEDAMLQQAhAAsgBkUNAAJAIAEoAhwiAkECdEGw1gBqIgMoAgAgAUYEQCADIAA2AgAgAA0BQYTUAEGE1AAoAgBBfiACd3E2AgAMAgsgBkEQQRQgBigCECABRhtqIAA2AgAgAEUNAQsgACAGNgIYIAEoAhAiAgRAIAAgAjYCECACIAA2AhgLIAFBFGooAgAiAkUNACAAQRRqIAI2AgAgAiAANgIYCyABIAVPDQAgBSgCBCIAQQFxRQ0AAkACQAJAAkAgAEECcUUEQEGY1AAoAgAgBUYEQEGY1AAgATYCAEGM1ABBjNQAKAIAIARqIgA2AgAgASAAQQFyNgIEIAFBlNQAKAIARw0GQYjUAEEANgIAQZTUAEEANgIADAYLQZTUACgCACAFRgRAQZTUACABNgIAQYjUAEGI1AAoAgAgBGoiADYCACABIABBAXI2AgQgACABaiAANgIADAYLIABBeHEgBGohBCAAQf8BTQRAIABBA3YhAyAFKAIIIgAgBSgCDCICRgRAQYDUAEGA1AAoAgBBfiADd3E2AgAMBQsgAiAANgIIIAAgAjYCDAwECyAFKAIYIQYgBSAFKAIMIgBHBEBBkNQAKAIAGiAAIAUoAggiAjYCCCACIAA2AgwMAwsgBUEUaiIDKAIAIgJFBEAgBSgCECICRQ0CIAVBEGohAwsDQCADIQcgAiIAQRRqIgMoAgAiAg0AIABBEGohAyAAKAIQIgINAAsgB0EANgIADAILIAUgAEF+cTYCBCABIARqIAQ2AgAgASAEQQFyNgIEDAMLQQAhAAsgBkUNAAJAIAUoAhwiAkECdEGw1gBqIgMoAgAgBUYEQCADIAA2AgAgAA0BQYTUAEGE1AAoAgBBfiACd3E2AgAMAgsgBkEQQRQgBigCECAFRhtqIAA2AgAgAEUNAQsgACAGNgIYIAUoAhAiAgRAIAAgAjYCECACIAA2AhgLIAVBFGooAgAiAkUNACAAQRRqIAI2AgAgAiAANgIYCyABIARqIAQ2AgAgASAEQQFyNgIEIAFBlNQAKAIARw0AQYjUACAENgIADAELIARB/wFNBEAgBEF4cUGo1ABqIQACf0GA1AAoAgAiAkEBIARBA3Z0IgNxRQRAQYDUACACIANyNgIAIAAMAQsgACgCCAsiAiABNgIMIAAgATYCCCABIAA2AgwgASACNgIIDAELQR8hAiAEQf///wdNBEAgBEEmIARBCHZnIgBrdkEBcSAAQQF0a0E+aiECCyABIAI2AhwgAUIANwIQIAJBAnRBsNYAaiEAAkBBhNQAKAIAIgNBASACdCIHcUUEQCAAIAE2AgBBhNQAIAMgB3I2AgAgASAANgIYIAEgATYCCCABIAE2AgwMAQsgBEEZIAJBAXZrQQAgAkEfRxt0IQIgACgCACEAAkADQCAAIgMoAgRBeHEgBEYNASACQR12IQAgAkEBdCECIAMgAEEEcWpBEGoiBygCACIADQALIAcgATYCACABIAM2AhggASABNgIMIAEgATYCCAwBCyADKAIIIgAgATYCDCADIAE2AgggAUEANgIYIAEgAzYCDCABIAA2AggLQaDUAEGg1AAoAgBBAWsiAEF/IAAbNgIACwsHACAALQAoCwcAIAAtACoLBwAgAC0AKwsHACAALQApCwcAIAAvATQLBwAgAC0AMAtAAQR/IAAoAhghASAALwEuIQIgAC0AKCEDIAAoAjghBCAAEDcgACAENgI4IAAgAzoAKCAAIAI7AS4gACABNgIYC8X4AQIHfwN+IAEgAmohBAJAIAAiAygCDCIADQAgAygCBARAIAMgATYCBAsjAEEQayIJJAACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAygCHCICQQFrDuwB7gEB6AECAwQFBgcICQoLDA0ODxAREucBE+YBFBXlARYX5AEYGRobHB0eHyDvAe0BIeMBIiMkJSYnKCkqK+IBLC0uLzAxMuEB4AEzNN8B3gE1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk/pAVBRUlPdAdwBVNsBVdoBVldYWVpbXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fX5/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHZAdgBxgHXAccB1gHIAckBygHLAcwBzQHOAc8B0AHRAdIB0wHUAQDqAQtBAAzUAQtBDgzTAQtBDQzSAQtBDwzRAQtBEAzQAQtBEQzPAQtBEgzOAQtBEwzNAQtBFAzMAQtBFQzLAQtBFgzKAQtBFwzJAQtBGAzIAQtBGQzHAQtBGgzGAQtBGwzFAQtBHAzEAQtBHQzDAQtBHgzCAQtBHwzBAQtBCAzAAQtBIAy/AQtBIgy+AQtBIQy9AQtBBwy8AQtBIwy7AQtBJAy6AQtBJQy5AQtBJgy4AQtBJwy3AQtBzgEMtgELQSgMtQELQSkMtAELQSoMswELQSsMsgELQc8BDLEBC0EtDLABC0EuDK8BC0EvDK4BC0EwDK0BC0ExDKwBC0EyDKsBC0EzDKoBC0HQAQypAQtBNAyoAQtBOAynAQtBDAymAQtBNQylAQtBNgykAQtBNwyjAQtBPQyiAQtBOQyhAQtB0QEMoAELQQsMnwELQT4MngELQToMnQELQQoMnAELQTsMmwELQTwMmgELQdIBDJkBC0HAAAyYAQtBPwyXAQtBwQAMlgELQQkMlQELQSwMlAELQcIADJMBC0HDAAySAQtBxAAMkQELQcUADJABC0HGAAyPAQtBxwAMjgELQcgADI0BC0HJAAyMAQtBygAMiwELQcsADIoBC0HMAAyJAQtBzQAMiAELQc4ADIcBC0HPAAyGAQtB0AAMhQELQdEADIQBC0HSAAyDAQtB1AAMggELQdMADIEBC0HVAAyAAQtB1gAMfwtB1wAMfgtB2AAMfQtB2QAMfAtB2gAMewtB2wAMegtB0wEMeQtB3AAMeAtB3QAMdwtBBgx2C0HeAAx1C0EFDHQLQd8ADHMLQQQMcgtB4AAMcQtB4QAMcAtB4gAMbwtB4wAMbgtBAwxtC0HkAAxsC0HlAAxrC0HmAAxqC0HoAAxpC0HnAAxoC0HpAAxnC0HqAAxmC0HrAAxlC0HsAAxkC0ECDGMLQe0ADGILQe4ADGELQe8ADGALQfAADF8LQfEADF4LQfIADF0LQfMADFwLQfQADFsLQfUADFoLQfYADFkLQfcADFgLQfgADFcLQfkADFYLQfoADFULQfsADFQLQfwADFMLQf0ADFILQf4ADFELQf8ADFALQYABDE8LQYEBDE4LQYIBDE0LQYMBDEwLQYQBDEsLQYUBDEoLQYYBDEkLQYcBDEgLQYgBDEcLQYkBDEYLQYoBDEULQYsBDEQLQYwBDEMLQY0BDEILQY4BDEELQY8BDEALQZABDD8LQZEBDD4LQZIBDD0LQZMBDDwLQZQBDDsLQZUBDDoLQZYBDDkLQZcBDDgLQZgBDDcLQZkBDDYLQZoBDDULQZsBDDQLQZwBDDMLQZ0BDDILQZ4BDDELQZ8BDDALQaABDC8LQaEBDC4LQaIBDC0LQaMBDCwLQaQBDCsLQaUBDCoLQaYBDCkLQacBDCgLQagBDCcLQakBDCYLQaoBDCULQasBDCQLQawBDCMLQa0BDCILQa4BDCELQa8BDCALQbABDB8LQbEBDB4LQbIBDB0LQbMBDBwLQbQBDBsLQbUBDBoLQbYBDBkLQbcBDBgLQbgBDBcLQQEMFgtBuQEMFQtBugEMFAtBuwEMEwtBvAEMEgtBvQEMEQtBvgEMEAtBvwEMDwtBwAEMDgtBwQEMDQtBwgEMDAtBwwEMCwtBxAEMCgtBxQEMCQtBxgEMCAtB1AEMBwtBxwEMBgtByAEMBQtByQEMBAtBygEMAwtBywEMAgtBzQEMAQtBzAELIQIDQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAMCfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJ/AkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAMCfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCACDtQBAAECAwQFBgcICQoLDA0ODxARFBUWFxgZGhscHR4fICEjJCUnKCmIA4cDhQOEA/wC9QLuAusC6ALmAuMC4ALfAt0C2wLWAtUC1ALTAtICygLJAsgCxwLGAsUCxALDAr0CvAK6ArkCuAK3ArYCtQK0ArICsQKsAqoCqAKnAqYCpQKkAqMCogKhAqACnwKbApoCmQKYApcCkAKIAoQCgwKCAvkB9gH1AfQB8wHyAfEB8AHvAe0B6wHoAeMB4QHgAd8B3gHdAdwB2wHaAdkB2AHXAdYB1QHUAdIB0QHQAc8BzgHNAcwBywHKAckByAHHAcYBxQHEAcMBwgHBAcABvwG+Ab0BvAG7AboBuQG4AbcBtgG1AbQBswGyAbEBsAGvAa4BrQGsAasBqgGpAagBpwGmAaUBpAGjAaIBoQGgAZ8BngGdAZwBmwGaAZcBlgGRAZABjwGOAY0BjAGLAYoBiQGIAYUBhAGDAX59fHt6d3Z1LFFSU1RVVgsgASAERw1zQewBIQIMqQMLIAEgBEcNkAFB0QEhAgyoAwsgASAERw3pAUGEASECDKcDCyABIARHDfQBQfoAIQIMpgMLIAEgBEcNggJB9QAhAgylAwsgASAERw2JAkHzACECDKQDCyABIARHDYwCQfEAIQIMowMLIAEgBEcNHkEeIQIMogMLIAEgBEcNGUEYIQIMoQMLIAEgBEcNuAJBzQAhAgygAwsgASAERw3DAkHGACECDJ8DCyABIARHDcQCQcMAIQIMngMLIAEgBEcNygJBOCECDJ0DCyADLQAwQQFGDZUDDPICC0EAIQACQAJAAkAgAy0AKkUNACADLQArRQ0AIAMvATIiAkECcUUNAQwCCyADLwEyIgJBAXFFDQELQQEhACADLQAoQQFGDQAgAy8BNCIGQeQAa0HkAEkNACAGQcwBRg0AIAZBsAJGDQAgAkHAAHENAEEAIQAgAkGIBHFBgARGDQAgAkEocUEARyEACyADQQA7ATIgA0EAOgAxAkAgAEUEQCADQQA6ADEgAy0ALkEEcQ0BDJwDCyADQgA3AyALIANBADoAMSADQQE6ADYMSQtBACEAAkAgAygCOCICRQ0AIAIoAiwiAkUNACADIAIRAAAhAAsgAEUNSSAAQRVHDWMgA0EENgIcIAMgATYCFCADQb0aNgIQIANBFTYCDEEAIQIMmgMLIAEgBEYEQEEGIQIMmgMLIAEtAABBCkYNGQwBCyABIARGBEBBByECDJkDCwJAIAEtAABBCmsOBAIBAQABCyABQQFqIQFBECECDP4CCyADLQAuQYABcQ0YQQAhAiADQQA2AhwgAyABNgIUIANBqR82AhAgA0ECNgIMDJcDCyABQQFqIQEgA0Evai0AAEEBcQ0XQQAhAiADQQA2AhwgAyABNgIUIANBhB82AhAgA0EZNgIMDJYDCyADIAMpAyAiDCAEIAFrrSIKfSILQgAgCyAMWBs3AyAgCiAMWg0ZQQghAgyVAwsgASAERwRAIANBCTYCCCADIAE2AgRBEiECDPsCC0EJIQIMlAMLIAMpAyBQDZwCDEQLIAEgBEYEQEELIQIMkwMLIAEtAABBCkcNFyABQQFqIQEMGAsgA0Evai0AAEEBcUUNGgwnC0EAIQACQCADKAI4IgJFDQAgAigCSCICRQ0AIAMgAhEAACEACyAADRoMQwtBACEAAkAgAygCOCICRQ0AIAIoAkgiAkUNACADIAIRAAAhAAsgAA0bDCULQQAhAAJAIAMoAjgiAkUNACACKAJIIgJFDQAgAyACEQAAIQALIAANHAwzCyADQS9qLQAAQQFxRQ0dDCMLQQAhAAJAIAMoAjgiAkUNACACKAJMIgJFDQAgAyACEQAAIQALIAANHQxDC0EAIQACQCADKAI4IgJFDQAgAigCTCICRQ0AIAMgAhEAACEACyAADR4MIQsgASAERgRAQRMhAgyLAwsCQCABLQAAIgBBCmsOBCAkJAAjCyABQQFqIQEMIAtBACEAAkAgAygCOCICRQ0AIAIoAkwiAkUNACADIAIRAAAhAAsgAA0jDEMLIAEgBEYEQEEWIQIMiQMLIAEtAABB8D9qLQAAQQFHDSQM7QILAkADQCABLQAAQeA5ai0AACIAQQFHBEACQCAAQQJrDgIDACgLIAFBAWohAUEfIQIM8AILIAQgAUEBaiIBRw0AC0EYIQIMiAMLIAMoAgQhAEEAIQIgA0EANgIEIAMgACABQQFqIgEQMyIADSIMQgtBACEAAkAgAygCOCICRQ0AIAIoAkwiAkUNACADIAIRAAAhAAsgAA0kDCsLIAEgBEYEQEEcIQIMhgMLIANBCjYCCCADIAE2AgRBACEAAkAgAygCOCICRQ0AIAIoAkgiAkUNACADIAIRAAAhAAsgAA0mQSIhAgzrAgsgASAERwRAA0AgAS0AAEHgO2otAAAiAEEDRwRAIABBAWsOBRkbJ+wCJicLIAQgAUEBaiIBRw0AC0EbIQIMhQMLQRshAgyEAwsDQCABLQAAQeA9ai0AACIAQQNHBEAgAEEBaw4FEBIoFCcoCyAEIAFBAWoiAUcNAAtBHiECDIMDCyABIARHBEAgA0ELNgIIIAMgATYCBEEHIQIM6QILQR8hAgyCAwsgASAERgRAQSAhAgyCAwsCQCABLQAAQQ1rDhQvQEBAQEBAQEBAQEBAQEBAQEBAAEALQQAhAiADQQA2AhwgA0G3CzYCECADQQI2AgwgAyABQQFqNgIUDIEDCyADQS9qIQIDQCABIARGBEBBISECDIIDCwJAAkACQCABLQAAIgBBCWsOGAIAKioBKioqKioqKioqKioqKioqKioqAigLIAFBAWohASADQS9qLQAAQQFxRQ0LDBkLIAFBAWohAQwYCyABQQFqIQEgAi0AAEECcQ0AC0EAIQIgA0EANgIcIAMgATYCFCADQc4UNgIQIANBDDYCDAyAAwsgAUEBaiEBC0EAIQACQCADKAI4IgJFDQAgAigCVCICRQ0AIAMgAhEAACEACyAADQEM0QILIANCADcDIAw8CyAAQRVGBEAgA0EkNgIcIAMgATYCFCADQYYaNgIQIANBFTYCDEEAIQIM/QILQQAhAiADQQA2AhwgAyABNgIUIANB4g02AhAgA0EUNgIMDPwCCyADKAIEIQBBACECIANBADYCBCADIAAgASAMp2oiARAxIgBFDSsgA0EHNgIcIAMgATYCFCADIAA2AgwM+wILIAMtAC5BwABxRQ0BC0EAIQACQCADKAI4IgJFDQAgAigCUCICRQ0AIAMgAhEAACEACyAARQ0rIABBFUYEQCADQQo2AhwgAyABNgIUIANB8Rg2AhAgA0EVNgIMQQAhAgz6AgtBACECIANBADYCHCADIAE2AhQgA0GLDDYCECADQRM2AgwM+QILQQAhAiADQQA2AhwgAyABNgIUIANBsRQ2AhAgA0ECNgIMDPgCC0EAIQIgA0EANgIcIAMgATYCFCADQYwUNgIQIANBGTYCDAz3AgtBACECIANBADYCHCADIAE2AhQgA0HRHDYCECADQRk2AgwM9gILIABBFUYNPUEAIQIgA0EANgIcIAMgATYCFCADQaIPNgIQIANBIjYCDAz1AgsgAygCBCEAQQAhAiADQQA2AgQgAyAAIAEQMiIARQ0oIANBDTYCHCADIAE2AhQgAyAANgIMDPQCCyAAQRVGDTpBACECIANBADYCHCADIAE2AhQgA0GiDzYCECADQSI2AgwM8wILIAMoAgQhAEEAIQIgA0EANgIEIAMgACABEDIiAEUEQCABQQFqIQEMKAsgA0EONgIcIAMgADYCDCADIAFBAWo2AhQM8gILIABBFUYNN0EAIQIgA0EANgIcIAMgATYCFCADQaIPNgIQIANBIjYCDAzxAgsgAygCBCEAQQAhAiADQQA2AgQgAyAAIAEQMiIARQRAIAFBAWohAQwnCyADQQ82AhwgAyAANgIMIAMgAUEBajYCFAzwAgtBACECIANBADYCHCADIAE2AhQgA0HoFjYCECADQRk2AgwM7wILIABBFUYNM0EAIQIgA0EANgIcIAMgATYCFCADQc4MNgIQIANBIzYCDAzuAgsgAygCBCEAQQAhAiADQQA2AgQgAyAAIAEQMyIARQ0lIANBETYCHCADIAE2AhQgAyAANgIMDO0CCyAAQRVGDTBBACECIANBADYCHCADIAE2AhQgA0HODDYCECADQSM2AgwM7AILIAMoAgQhAEEAIQIgA0EANgIEIAMgACABEDMiAEUEQCABQQFqIQEMJQsgA0ESNgIcIAMgADYCDCADIAFBAWo2AhQM6wILIANBL2otAABBAXFFDQELQRUhAgzPAgtBACECIANBADYCHCADIAE2AhQgA0HoFjYCECADQRk2AgwM6AILIABBO0cNACABQQFqIQEMDAtBACECIANBADYCHCADIAE2AhQgA0GYFzYCECADQQI2AgwM5gILIABBFUYNKEEAIQIgA0EANgIcIAMgATYCFCADQc4MNgIQIANBIzYCDAzlAgsgA0EUNgIcIAMgATYCFCADIAA2AgwM5AILIAMoAgQhAEEAIQIgA0EANgIEIAMgACABEDMiAEUEQCABQQFqIQEM3AILIANBFTYCHCADIAA2AgwgAyABQQFqNgIUDOMCCyADKAIEIQBBACECIANBADYCBCADIAAgARAzIgBFBEAgAUEBaiEBDNoCCyADQRc2AhwgAyAANgIMIAMgAUEBajYCFAziAgsgAEEVRg0jQQAhAiADQQA2AhwgAyABNgIUIANBzgw2AhAgA0EjNgIMDOECCyADKAIEIQBBACECIANBADYCBCADIAAgARAzIgBFBEAgAUEBaiEBDB0LIANBGTYCHCADIAA2AgwgAyABQQFqNgIUDOACCyADKAIEIQBBACECIANBADYCBCADIAAgARAzIgBFBEAgAUEBaiEBDNYCCyADQRo2AhwgAyAANgIMIAMgAUEBajYCFAzfAgsgAEEVRg0fQQAhAiADQQA2AhwgAyABNgIUIANBog82AhAgA0EiNgIMDN4CCyADKAIEIQBBACECIANBADYCBCADIAAgARAyIgBFBEAgAUEBaiEBDBsLIANBHDYCHCADIAA2AgwgAyABQQFqNgIUDN0CCyADKAIEIQBBACECIANBADYCBCADIAAgARAyIgBFBEAgAUEBaiEBDNICCyADQR02AhwgAyAANgIMIAMgAUEBajYCFAzcAgsgAEE7Rw0BIAFBAWohAQtBJCECDMACC0EAIQIgA0EANgIcIAMgATYCFCADQc4UNgIQIANBDDYCDAzZAgsgASAERwRAA0AgAS0AAEEgRw3xASAEIAFBAWoiAUcNAAtBLCECDNkCC0EsIQIM2AILIAEgBEYEQEE0IQIM2AILAkACQANAAkAgAS0AAEEKaw4EAgAAAwALIAQgAUEBaiIBRw0AC0E0IQIM2QILIAMoAgQhACADQQA2AgQgAyAAIAEQMCIARQ2MAiADQTI2AhwgAyABNgIUIAMgADYCDEEAIQIM2AILIAMoAgQhACADQQA2AgQgAyAAIAEQMCIARQRAIAFBAWohAQyMAgsgA0EyNgIcIAMgADYCDCADIAFBAWo2AhRBACECDNcCCyABIARHBEACQANAIAEtAABBMGsiAEH/AXFBCk8EQEE5IQIMwAILIAMpAyAiC0KZs+bMmbPmzBlWDQEgAyALQgp+Igo3AyAgCiAArUL/AYMiC0J/hVYNASADIAogC3w3AyAgBCABQQFqIgFHDQALQcAAIQIM2AILIAMoAgQhACADQQA2AgQgAyAAIAFBAWoiARAwIgANFwzJAgtBwAAhAgzWAgsgASAERgRAQckAIQIM1gILAkADQAJAIAEtAABBCWsOGAACjwKPApMCjwKPAo8CjwKPAo8CjwKPAo8CjwKPAo8CjwKPAo8CjwKPAo8CAI8CCyAEIAFBAWoiAUcNAAtByQAhAgzWAgsgAUEBaiEBIANBL2otAABBAXENjwIgA0EANgIcIAMgATYCFCADQekPNgIQIANBCjYCDEEAIQIM1QILIAEgBEcEQANAIAEtAAAiAEEgRwRAAkACQAJAIABByABrDgsAAc0BzQHNAc0BzQHNAc0BzQECzQELIAFBAWohAUHZACECDL8CCyABQQFqIQFB2gAhAgy+AgsgAUEBaiEBQdsAIQIMvQILIAQgAUEBaiIBRw0AC0HuACECDNUCC0HuACECDNQCCyADQQI6ACgMMAtBACECIANBADYCHCADQbcLNgIQIANBAjYCDCADIAFBAWo2AhQM0gILQQAhAgy3AgtBDSECDLYCC0ERIQIMtQILQRMhAgy0AgtBFCECDLMCC0EWIQIMsgILQRchAgyxAgtBGCECDLACC0EZIQIMrwILQRohAgyuAgtBGyECDK0CC0EcIQIMrAILQR0hAgyrAgtBHiECDKoCC0EgIQIMqQILQSEhAgyoAgtBIyECDKcCC0EnIQIMpgILIANBPTYCHCADIAE2AhQgAyAANgIMQQAhAgy/AgsgA0EbNgIcIAMgATYCFCADQY8bNgIQIANBFTYCDEEAIQIMvgILIANBIDYCHCADIAE2AhQgA0GeGTYCECADQRU2AgxBACECDL0CCyADQRM2AhwgAyABNgIUIANBnhk2AhAgA0EVNgIMQQAhAgy8AgsgA0ELNgIcIAMgATYCFCADQZ4ZNgIQIANBFTYCDEEAIQIMuwILIANBEDYCHCADIAE2AhQgA0GeGTYCECADQRU2AgxBACECDLoCCyADQSA2AhwgAyABNgIUIANBjxs2AhAgA0EVNgIMQQAhAgy5AgsgA0ELNgIcIAMgATYCFCADQY8bNgIQIANBFTYCDEEAIQIMuAILIANBDDYCHCADIAE2AhQgA0GPGzYCECADQRU2AgxBACECDLcCC0EAIQIgA0EANgIcIAMgATYCFCADQa8ONgIQIANBEjYCDAy2AgsCQANAAkAgAS0AAEEKaw4EAAICAAILIAQgAUEBaiIBRw0AC0HsASECDLYCCwJAAkAgAy0ANkEBRw0AQQAhAAJAIAMoAjgiAkUNACACKAJYIgJFDQAgAyACEQAAIQALIABFDQAgAEEVRw0BIANB6wE2AhwgAyABNgIUIANB4hg2AhAgA0EVNgIMQQAhAgy3AgtBzAEhAgycAgsgA0EANgIcIAMgATYCFCADQfELNgIQIANBHzYCDEEAIQIMtQILAkACQCADLQAoQQFrDgIEAQALQcsBIQIMmwILQcQBIQIMmgILIANBAjoAMUEAIQACQCADKAI4IgJFDQAgAigCACICRQ0AIAMgAhEAACEACyAARQRAQc0BIQIMmgILIABBFUcEQCADQQA2AhwgAyABNgIUIANBrAw2AhAgA0EQNgIMQQAhAgy0AgsgA0HqATYCHCADIAE2AhQgA0GHGTYCECADQRU2AgxBACECDLMCCyABIARGBEBB6QEhAgyzAgsgAS0AAEHIAEYNASADQQE6ACgLQbYBIQIMlwILQcoBIQIMlgILIAEgBEcEQCADQQw2AgggAyABNgIEQckBIQIMlgILQegBIQIMrwILIAEgBEYEQEHnASECDK8CCyABLQAAQcgARw0EIAFBAWohAUHIASECDJQCCyABIARGBEBB5gEhAgyuAgsCQAJAIAEtAABBxQBrDhAABQUFBQUFBQUFBQUFBQUBBQsgAUEBaiEBQcYBIQIMlAILIAFBAWohAUHHASECDJMCC0HlASECIAEgBEYNrAIgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB99MAai0AAEcNAyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMrQILIAMoAgQhACADQgA3AwAgAyAAIAZBAWoiARAtIgBFBEBB1AEhAgyTAgsgA0HkATYCHCADIAE2AhQgAyAANgIMQQAhAgysAgtB4wEhAiABIARGDasCIAMoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQfXTAGotAABHDQIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADKwCCyADQYEEOwEoIAMoAgQhACADQgA3AwAgAyAAIAZBAWoiARAtIgANAwwCCyADQQA2AgALQQAhAiADQQA2AhwgAyABNgIUIANB0B42AhAgA0EINgIMDKkCC0HFASECDI4CCyADQeIBNgIcIAMgATYCFCADIAA2AgxBACECDKcCC0EAIQACQCADKAI4IgJFDQAgAigCOCICRQ0AIAMgAhEAACEACyAARQ1lIABBFUcEQCADQQA2AhwgAyABNgIUIANB1A42AhAgA0EgNgIMQQAhAgynAgsgA0GFATYCHCADIAE2AhQgA0HXGjYCECADQRU2AgxBACECDKYCC0HhASECIAQgASIARg2lAiAEIAFrIAMoAgAiAWohBSAAIAFrQQRqIQYCQANAIAAtAAAgAUHw0wBqLQAARw0BIAFBBEYNAyABQQFqIQEgBCAAQQFqIgBHDQALIAMgBTYCAAymAgsgA0EANgIcIAMgADYCFCADQYQ3NgIQIANBCDYCDCADQQA2AgBBACECDKUCCyABIARHBEAgA0ENNgIIIAMgATYCBEHCASECDIsCC0HgASECDKQCCyADQQA2AgAgBkEBaiEBC0HDASECDIgCCyABIARGBEBB3wEhAgyiAgsgAS0AAEEwayIAQf8BcUEKSQRAIAMgADoAKiABQQFqIQFBwQEhAgyIAgsgAygCBCEAIANBADYCBCADIAAgARAuIgBFDYgCIANB3gE2AhwgAyABNgIUIAMgADYCDEEAIQIMoQILIAEgBEYEQEHdASECDKECCwJAIAEtAABBLkYEQCABQQFqIQEMAQsgAygCBCEAIANBADYCBCADIAAgARAuIgBFDYkCIANB3AE2AhwgAyABNgIUIAMgADYCDEEAIQIMoQILQcABIQIMhgILIAEgBEYEQEHbASECDKACC0EAIQBBASEFQQEhB0EAIQICQAJAAkACQAJAAn8CQAJAAkACQAJAAkACQCABLQAAQTBrDgoKCQABAgMEBQYICwtBAgwGC0EDDAULQQQMBAtBBQwDC0EGDAILQQcMAQtBCAshAkEAIQVBACEHDAILQQkhAkEBIQBBACEFQQAhBwwBC0EAIQVBASECCyADIAI6ACsgAUEBaiEBAkACQCADLQAuQRBxDQACQAJAAkAgAy0AKg4DAQACBAsgB0UNAwwCCyAADQEMAgsgBUUNAQsgAygCBCEAIANBADYCBCADIAAgARAuIgBFDQIgA0HYATYCHCADIAE2AhQgAyAANgIMQQAhAgyiAgsgAygCBCEAIANBADYCBCADIAAgARAuIgBFDYsCIANB2QE2AhwgAyABNgIUIAMgADYCDEEAIQIMoQILIAMoAgQhACADQQA2AgQgAyAAIAEQLiIARQ2JAiADQdoBNgIcIAMgATYCFCADIAA2AgwMoAILQb8BIQIMhQILQQAhAAJAIAMoAjgiAkUNACACKAI8IgJFDQAgAyACEQAAIQALAkAgAARAIABBFUYNASADQQA2AhwgAyABNgIUIANBnA02AhAgA0EhNgIMQQAhAgygAgtBvgEhAgyFAgsgA0HXATYCHCADIAE2AhQgA0HWGTYCECADQRU2AgxBACECDJ4CCyABIARGBEBB1wEhAgyeAgsCQCABLQAAQSBGBEAgA0EAOwE0IAFBAWohAQwBCyADQQA2AhwgAyABNgIUIANB6xA2AhAgA0EJNgIMQQAhAgyeAgtBvQEhAgyDAgsgASAERgRAQdYBIQIMnQILAkAgAS0AAEEwa0H/AXEiAkEKSQRAIAFBAWohAQJAIAMvATQiAEGZM0sNACADIABBCmwiADsBNCAAQf7/A3EgAkH//wNzSw0AIAMgACACajsBNAwCC0EAIQIgA0EANgIcIAMgATYCFCADQYAdNgIQIANBDTYCDAyeAgsgA0EANgIcIAMgATYCFCADQYAdNgIQIANBDTYCDEEAIQIMnQILQbwBIQIMggILIAEgBEYEQEHVASECDJwCCwJAIAEtAABBMGtB/wFxIgJBCkkEQCABQQFqIQECQCADLwE0IgBBmTNLDQAgAyAAQQpsIgA7ATQgAEH+/wNxIAJB//8Dc0sNACADIAAgAmo7ATQMAgtBACECIANBADYCHCADIAE2AhQgA0GAHTYCECADQQ02AgwMnQILIANBADYCHCADIAE2AhQgA0GAHTYCECADQQ02AgxBACECDJwCC0G7ASECDIECCyABIARGBEBB1AEhAgybAgsCQCABLQAAQTBrQf8BcSICQQpJBEAgAUEBaiEBAkAgAy8BNCIAQZkzSw0AIAMgAEEKbCIAOwE0IABB/v8DcSACQf//A3NLDQAgAyAAIAJqOwE0DAILQQAhAiADQQA2AhwgAyABNgIUIANBgB02AhAgA0ENNgIMDJwCCyADQQA2AhwgAyABNgIUIANBgB02AhAgA0ENNgIMQQAhAgybAgtBugEhAgyAAgsgASAERgRAQdMBIQIMmgILAkACQAJAAkAgAS0AAEEKaw4XAgMDAAMDAwMDAwMDAwMDAwMDAwMDAwEDCyABQQFqDAULIAFBAWohAUG5ASECDIECCyABQQFqIQEgA0Evai0AAEEBcQ0IIANBADYCHCADIAE2AhQgA0GFCzYCECADQQ02AgxBACECDJoCCyADQQA2AhwgAyABNgIUIANBhQs2AhAgA0ENNgIMQQAhAgyZAgsgASAERwRAIANBDjYCCCADIAE2AgRBASECDP8BC0HSASECDJgCCwJAAkADQAJAIAEtAABBCmsOBAIAAAMACyAEIAFBAWoiAUcNAAtB0QEhAgyZAgsgAygCBCEAIANBADYCBCADIAAgARAsIgBFBEAgAUEBaiEBDAQLIANB0AE2AhwgAyAANgIMIAMgAUEBajYCFEEAIQIMmAILIAMoAgQhACADQQA2AgQgAyAAIAEQLCIADQEgAUEBagshAUG3ASECDPwBCyADQc8BNgIcIAMgADYCDCADIAFBAWo2AhRBACECDJUCC0G4ASECDPoBCyADQS9qLQAAQQFxDQEgA0EANgIcIAMgATYCFCADQc8bNgIQIANBGTYCDEEAIQIMkwILIAEgBEYEQEHPASECDJMCCwJAAkACQCABLQAAQQprDgQBAgIAAgsgAUEBaiEBDAILIAFBAWohAQwBCyADLQAuQcAAcUUNAQtBACEAAkAgAygCOCICRQ0AIAIoAjQiAkUNACADIAIRAAAhAAsgAEUNlgEgAEEVRgRAIANB2QA2AhwgAyABNgIUIANBvRk2AhAgA0EVNgIMQQAhAgySAgsgA0EANgIcIAMgATYCFCADQfgMNgIQIANBGzYCDEEAIQIMkQILIANBADYCHCADIAE2AhQgA0HHJzYCECADQQI2AgxBACECDJACCyABIARHBEAgA0EMNgIIIAMgATYCBEG1ASECDPYBC0HOASECDI8CCyABIARGBEBBzQEhAgyPAgsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBwQBrDhUAAQIDWgQFBlpaWgcICQoLDA0ODxBaCyABQQFqIQFB8QAhAgyEAgsgAUEBaiEBQfIAIQIMgwILIAFBAWohAUH3ACECDIICCyABQQFqIQFB+wAhAgyBAgsgAUEBaiEBQfwAIQIMgAILIAFBAWohAUH/ACECDP8BCyABQQFqIQFBgAEhAgz+AQsgAUEBaiEBQYMBIQIM/QELIAFBAWohAUGMASECDPwBCyABQQFqIQFBjQEhAgz7AQsgAUEBaiEBQY4BIQIM+gELIAFBAWohAUGbASECDPkBCyABQQFqIQFBnAEhAgz4AQsgAUEBaiEBQaIBIQIM9wELIAFBAWohAUGqASECDPYBCyABQQFqIQFBrQEhAgz1AQsgAUEBaiEBQbQBIQIM9AELIAEgBEYEQEHMASECDI4CCyABLQAAQc4ARw1IIAFBAWohAUGzASECDPMBCyABIARGBEBBywEhAgyNAgsCQAJAAkAgAS0AAEHCAGsOEgBKSkpKSkpKSkoBSkpKSkpKAkoLIAFBAWohAUGuASECDPQBCyABQQFqIQFBsQEhAgzzAQsgAUEBaiEBQbIBIQIM8gELQcoBIQIgASAERg2LAiADKAIAIgAgBCABa2ohBSABIABrQQdqIQYCQANAIAEtAAAgAEHo0wBqLQAARw1FIABBB0YNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyMAgsgA0EANgIAIAZBAWohAUEbDEULIAEgBEYEQEHJASECDIsCCwJAAkAgAS0AAEHJAGsOBwBHR0dHRwFHCyABQQFqIQFBrwEhAgzxAQsgAUEBaiEBQbABIQIM8AELQcgBIQIgASAERg2JAiADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHm0wBqLQAARw1DIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyKAgsgA0EANgIAIAZBAWohAUEPDEMLQccBIQIgASAERg2IAiADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHk0wBqLQAARw1CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyJAgsgA0EANgIAIAZBAWohAUEgDEILQcYBIQIgASAERg2HAiADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHh0wBqLQAARw1BIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyIAgsgA0EANgIAIAZBAWohAUESDEELIAEgBEYEQEHFASECDIcCCwJAAkAgAS0AAEHFAGsODgBDQ0NDQ0NDQ0NDQ0MBQwsgAUEBaiEBQasBIQIM7QELIAFBAWohAUGsASECDOwBC0HEASECIAEgBEYNhQIgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB3tMAai0AAEcNPyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMhgILIANBADYCACAGQQFqIQFBBww/C0HDASECIAEgBEYNhAIgAygCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABB2NMAai0AAEcNPiAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMhQILIANBADYCACAGQQFqIQFBKAw+CyABIARGBEBBwgEhAgyEAgsCQAJAAkAgAS0AAEHFAGsOEQBBQUFBQUFBQUEBQUFBQUECQQsgAUEBaiEBQacBIQIM6wELIAFBAWohAUGoASECDOoBCyABQQFqIQFBqQEhAgzpAQtBwQEhAiABIARGDYICIAMoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQdHTAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADIMCCyADQQA2AgAgBkEBaiEBQRoMPAtBwAEhAiABIARGDYECIAMoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQc3TAGotAABHDTsgAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADIICCyADQQA2AgAgBkEBaiEBQSEMOwsgASAERgRAQb8BIQIMgQILAkACQCABLQAAQcEAaw4UAD09PT09PT09PT09PT09PT09PQE9CyABQQFqIQFBowEhAgznAQsgAUEBaiEBQaYBIQIM5gELIAEgBEYEQEG+ASECDIACCwJAAkAgAS0AAEHVAGsOCwA8PDw8PDw8PDwBPAsgAUEBaiEBQaQBIQIM5gELIAFBAWohAUGlASECDOUBC0G9ASECIAEgBEYN/gEgAygCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABBxNMAai0AAEcNOCAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM/wELIANBADYCACAGQQFqIQFBKgw4CyABIARGBEBBvAEhAgz+AQsgAS0AAEHQAEcNOCABQQFqIQFBJQw3C0G7ASECIAEgBEYN/AEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBwdMAai0AAEcNNiAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM/QELIANBADYCACAGQQFqIQFBDgw2CyABIARGBEBBugEhAgz8AQsgAS0AAEHFAEcNNiABQQFqIQFBoQEhAgzhAQsgASAERgRAQbkBIQIM+wELAkACQAJAAkAgAS0AAEHCAGsODwABAjk5OTk5OTk5OTk5AzkLIAFBAWohAUGdASECDOMBCyABQQFqIQFBngEhAgziAQsgAUEBaiEBQZ8BIQIM4QELIAFBAWohAUGgASECDOABC0G4ASECIAEgBEYN+QEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBvtMAai0AAEcNMyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM+gELIANBADYCACAGQQFqIQFBFAwzC0G3ASECIAEgBEYN+AEgAygCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABBudMAai0AAEcNMiAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM+QELIANBADYCACAGQQFqIQFBKwwyC0G2ASECIAEgBEYN9wEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBttMAai0AAEcNMSAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM+AELIANBADYCACAGQQFqIQFBLAwxC0G1ASECIAEgBEYN9gEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB4dMAai0AAEcNMCAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM9wELIANBADYCACAGQQFqIQFBEQwwC0G0ASECIAEgBEYN9QEgAygCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABBstMAai0AAEcNLyAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM9gELIANBADYCACAGQQFqIQFBLgwvCyABIARGBEBBswEhAgz1AQsCQAJAAkACQAJAIAEtAABBwQBrDhUANDQ0NDQ0NDQ0NAE0NAI0NAM0NAQ0CyABQQFqIQFBkQEhAgzeAQsgAUEBaiEBQZIBIQIM3QELIAFBAWohAUGTASECDNwBCyABQQFqIQFBmAEhAgzbAQsgAUEBaiEBQZoBIQIM2gELIAEgBEYEQEGyASECDPQBCwJAAkAgAS0AAEHSAGsOAwAwATALIAFBAWohAUGZASECDNoBCyABQQFqIQFBBAwtC0GxASECIAEgBEYN8gEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBsNMAai0AAEcNLCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM8wELIANBADYCACAGQQFqIQFBHQwsCyABIARGBEBBsAEhAgzyAQsCQAJAIAEtAABByQBrDgcBLi4uLi4ALgsgAUEBaiEBQZcBIQIM2AELIAFBAWohAUEiDCsLIAEgBEYEQEGvASECDPEBCyABLQAAQdAARw0rIAFBAWohAUGWASECDNYBCyABIARGBEBBrgEhAgzwAQsCQAJAIAEtAABBxgBrDgsALCwsLCwsLCwsASwLIAFBAWohAUGUASECDNYBCyABQQFqIQFBlQEhAgzVAQtBrQEhAiABIARGDe4BIAMoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQazTAGotAABHDSggAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADO8BCyADQQA2AgAgBkEBaiEBQQ0MKAtBrAEhAiABIARGDe0BIAMoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQeHTAGotAABHDScgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADO4BCyADQQA2AgAgBkEBaiEBQQwMJwtBqwEhAiABIARGDewBIAMoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQarTAGotAABHDSYgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADO0BCyADQQA2AgAgBkEBaiEBQQMMJgtBqgEhAiABIARGDesBIAMoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQajTAGotAABHDSUgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADOwBCyADQQA2AgAgBkEBaiEBQSYMJQsgASAERgRAQakBIQIM6wELAkACQCABLQAAQdQAaw4CAAEnCyABQQFqIQFBjwEhAgzRAQsgAUEBaiEBQZABIQIM0AELQagBIQIgASAERg3pASADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGm0wBqLQAARw0jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzqAQsgA0EANgIAIAZBAWohAUEnDCMLQacBIQIgASAERg3oASADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGk0wBqLQAARw0iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzpAQsgA0EANgIAIAZBAWohAUEcDCILQaYBIQIgASAERg3nASADKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGe0wBqLQAARw0hIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzoAQsgA0EANgIAIAZBAWohAUEGDCELQaUBIQIgASAERg3mASADKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEGZ0wBqLQAARw0gIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAznAQsgA0EANgIAIAZBAWohAUEZDCALIAEgBEYEQEGkASECDOYBCwJAAkACQAJAIAEtAABBLWsOIwAkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJAEkJCQkJAIkJCQDJAsgAUEBaiEBQYQBIQIMzgELIAFBAWohAUGFASECDM0BCyABQQFqIQFBigEhAgzMAQsgAUEBaiEBQYsBIQIMywELQaMBIQIgASAERg3kASADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGX0wBqLQAARw0eIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzlAQsgA0EANgIAIAZBAWohAUELDB4LIAEgBEYEQEGiASECDOQBCwJAAkAgAS0AAEHBAGsOAwAgASALIAFBAWohAUGGASECDMoBCyABQQFqIQFBiQEhAgzJAQsgASAERgRAQaEBIQIM4wELAkACQCABLQAAQcEAaw4PAB8fHx8fHx8fHx8fHx8BHwsgAUEBaiEBQYcBIQIMyQELIAFBAWohAUGIASECDMgBCyABIARGBEBBoAEhAgziAQsgAS0AAEHMAEcNHCABQQFqIQFBCgwbC0GfASECIAEgBEYN4AEgAygCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBkdMAai0AAEcNGiAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM4QELIANBADYCACAGQQFqIQFBHgwaC0GeASECIAEgBEYN3wEgAygCACIAIAQgAWtqIQUgASAAa0EGaiEGAkADQCABLQAAIABBitMAai0AAEcNGSAAQQZGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM4AELIANBADYCACAGQQFqIQFBFQwZC0GdASECIAEgBEYN3gEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBh9MAai0AAEcNGCAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM3wELIANBADYCACAGQQFqIQFBFwwYC0GcASECIAEgBEYN3QEgAygCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBgdMAai0AAEcNFyAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM3gELIANBADYCACAGQQFqIQFBGAwXCyABIARGBEBBmwEhAgzdAQsCQAJAIAEtAABByQBrDgcAGRkZGRkBGQsgAUEBaiEBQYEBIQIMwwELIAFBAWohAUGCASECDMIBC0GaASECIAEgBEYN2wEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB5tMAai0AAEcNFSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM3AELIANBADYCACAGQQFqIQFBCQwVC0GZASECIAEgBEYN2gEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB5NMAai0AAEcNFCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM2wELIANBADYCACAGQQFqIQFBHwwUC0GYASECIAEgBEYN2QEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB/tIAai0AAEcNEyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM2gELIANBADYCACAGQQFqIQFBAgwTC0GXASECIAEgBEYN2AEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGA0AgAS0AACAAQfzSAGotAABHDREgAEEBRg0CIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADNgBCyABIARGBEBBlgEhAgzYAQtBASABLQAAQd8ARw0RGiABQQFqIQFB/QAhAgy9AQsgA0EANgIAIAZBAWohAUH+ACECDLwBC0GVASECIAEgBEYN1QEgAygCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABBxNMAai0AAEcNDyAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM1gELIANBADYCACAGQQFqIQFBKQwPC0GUASECIAEgBEYN1AEgAygCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABB+NIAai0AAEcNDiAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM1QELIANBADYCACAGQQFqIQFBLQwOCyABIARGBEBBkwEhAgzUAQsgAS0AAEHFAEcNDiABQQFqIQFB+gAhAgy5AQsgASAERgRAQZIBIQIM0wELAkACQCABLQAAQcwAaw4IAA8PDw8PDwEPCyABQQFqIQFB+AAhAgy5AQsgAUEBaiEBQfkAIQIMuAELQZEBIQIgASAERg3RASADKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHz0gBqLQAARw0LIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzSAQsgA0EANgIAIAZBAWohAUEjDAsLQZABIQIgASAERg3QASADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHw0gBqLQAARw0KIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzRAQsgA0EANgIAIAZBAWohAUEADAoLIAEgBEYEQEGPASECDNABCwJAAkAgAS0AAEHIAGsOCAAMDAwMDAwBDAsgAUEBaiEBQfMAIQIMtgELIAFBAWohAUH2ACECDLUBCyABIARGBEBBjgEhAgzPAQsCQAJAIAEtAABBzgBrDgMACwELCyABQQFqIQFB9AAhAgy1AQsgAUEBaiEBQfUAIQIMtAELIAEgBEYEQEGNASECDM4BCyABLQAAQdkARw0IIAFBAWohAUEIDAcLQYwBIQIgASAERg3MASADKAIAIgAgBCABa2ohBSABIABrQQNqIQYCQANAIAEtAAAgAEHs0gBqLQAARw0GIABBA0YNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzNAQsgA0EANgIAIAZBAWohAUEFDAYLQYsBIQIgASAERg3LASADKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHm0gBqLQAARw0FIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzMAQsgA0EANgIAIAZBAWohAUEWDAULQYoBIQIgASAERg3KASADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHh0wBqLQAARw0EIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzLAQsgA0EANgIAIAZBAWohAUEQDAQLIAEgBEYEQEGJASECDMoBCwJAAkAgAS0AAEHDAGsODAAGBgYGBgYGBgYGAQYLIAFBAWohAUHvACECDLABCyABQQFqIQFB8AAhAgyvAQtBiAEhAiABIARGDcgBIAMoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQeDSAGotAABHDQIgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADMkBCyADQQA2AgAgBkEBaiEBQSQMAgsgA0EANgIADAILIAEgBEYEQEGHASECDMcBCyABLQAAQcwARw0BIAFBAWohAUETCzoAKSADKAIEIQAgA0EANgIEIAMgACABEC0iAA0CDAELQQAhAiADQQA2AhwgAyABNgIUIANB6R42AhAgA0EGNgIMDMQBC0HuACECDKkBCyADQYYBNgIcIAMgATYCFCADIAA2AgxBACECDMIBC0EAIQACQCADKAI4IgJFDQAgAigCOCICRQ0AIAMgAhEAACEACyAARQ0AIABBFUYNASADQQA2AhwgAyABNgIUIANB1A42AhAgA0EgNgIMQQAhAgzBAQtB7QAhAgymAQsgA0GFATYCHCADIAE2AhQgA0HXGjYCECADQRU2AgxBACECDL8BCyABIARGBEBBhQEhAgy/AQsCQCABLQAAQSBGBEAgAUEBaiEBDAELIANBADYCHCADIAE2AhQgA0GGHjYCECADQQY2AgxBACECDL8BC0ECIQIMpAELA0AgAS0AAEEgRw0CIAQgAUEBaiIBRw0AC0GEASECDL0BCyABIARGBEBBgwEhAgy9AQsCQCABLQAAQQlrDgRAAABAAAtB6wAhAgyiAQsgAy0AKUEFRgRAQewAIQIMogELQeoAIQIMoQELIAEgBEYEQEGCASECDLsBCyADQQ82AgggAyABNgIEDAoLIAEgBEYEQEGBASECDLoBCwJAIAEtAABBCWsOBD0AAD0AC0HpACECDJ8BCyABIARHBEAgA0EPNgIIIAMgATYCBEHnACECDJ8BC0GAASECDLgBCwJAIAEgBEcEQANAIAEtAABB4M4Aai0AACIAQQNHBEACQCAAQQFrDgI/AAQLQeYAIQIMoQELIAQgAUEBaiIBRw0AC0H+ACECDLkBC0H+ACECDLgBCyADQQA2AhwgAyABNgIUIANBxh82AhAgA0EHNgIMQQAhAgy3AQsgASAERgRAQf8AIQIMtwELAkACQAJAIAEtAABB4NAAai0AAEEBaw4DPAIAAQtB6AAhAgyeAQsgA0EANgIcIAMgATYCFCADQYYSNgIQIANBBzYCDEEAIQIMtwELQeAAIQIMnAELIAEgBEcEQCABQQFqIQFB5QAhAgycAQtB/QAhAgy1AQsgBCABIgBGBEBB/AAhAgy1AQsgAC0AACIBQS9GBEAgAEEBaiEBQeQAIQIMmwELIAFBCWsiAkEXSw0BIAAhAUEBIAJ0QZuAgARxDTcMAQsgBCABIgBGBEBB+wAhAgy0AQsgAC0AAEEvRw0AIABBAWohAQwDC0EAIQIgA0EANgIcIAMgADYCFCADQcYfNgIQIANBBzYCDAyyAQsCQAJAAkACQAJAA0AgAS0AAEHgzABqLQAAIgBBBUcEQAJAAkAgAEEBaw4IPQUGBwgABAEIC0HhACECDJ8BCyABQQFqIQFB4wAhAgyeAQsgBCABQQFqIgFHDQALQfoAIQIMtgELIAFBAWoMFAsgAygCBCEAIANBADYCBCADIAAgARArIgBFDR4gA0HbADYCHCADIAE2AhQgAyAANgIMQQAhAgy0AQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDR4gA0HdADYCHCADIAE2AhQgAyAANgIMQQAhAgyzAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDR4gA0HwADYCHCADIAE2AhQgAyAANgIMQQAhAgyyAQsgA0EANgIcIAMgATYCFCADQcsPNgIQIANBBzYCDEEAIQIMsQELIAEgBEYEQEH5ACECDLEBCwJAIAEtAABB4MwAai0AAEEBaw4INAQFBgAIAgMHCyABQQFqIQELQQMhAgyVAQsgAUEBagwNC0EAIQIgA0EANgIcIANBoxI2AhAgA0EHNgIMIAMgAUEBajYCFAytAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDRYgA0HbADYCHCADIAE2AhQgAyAANgIMQQAhAgysAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDRYgA0HdADYCHCADIAE2AhQgAyAANgIMQQAhAgyrAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDRYgA0HwADYCHCADIAE2AhQgAyAANgIMQQAhAgyqAQsgA0EANgIcIAMgATYCFCADQcsPNgIQIANBBzYCDEEAIQIMqQELQeIAIQIMjgELIAEgBEYEQEH4ACECDKgBCyABQQFqDAILIAEgBEYEQEH3ACECDKcBCyABQQFqDAELIAEgBEYNASABQQFqCyEBQQQhAgyKAQtB9gAhAgyjAQsDQCABLQAAQeDKAGotAAAiAEECRwRAIABBAUcEQEHfACECDIsBCwwnCyAEIAFBAWoiAUcNAAtB9QAhAgyiAQsgASAERgRAQfQAIQIMogELAkAgAS0AAEEJaw43JQMGJQQGBgYGBgYGBgYGBgYGBgYGBgYFBgYCBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGAAYLIAFBAWoLIQFBBSECDIYBCyABQQFqDAYLIAMoAgQhACADQQA2AgQgAyAAIAEQKyIARQ0IIANB2wA2AhwgAyABNgIUIAMgADYCDEEAIQIMngELIAMoAgQhACADQQA2AgQgAyAAIAEQKyIARQ0IIANB3QA2AhwgAyABNgIUIAMgADYCDEEAIQIMnQELIAMoAgQhACADQQA2AgQgAyAAIAEQKyIARQ0IIANB8AA2AhwgAyABNgIUIAMgADYCDEEAIQIMnAELIANBADYCHCADIAE2AhQgA0G8EzYCECADQQc2AgxBACECDJsBCwJAAkACQAJAA0AgAS0AAEHgyABqLQAAIgBBBUcEQAJAIABBAWsOBiQDBAUGAAYLQd4AIQIMhgELIAQgAUEBaiIBRw0AC0HzACECDJ4BCyADKAIEIQAgA0EANgIEIAMgACABECsiAEUNByADQdsANgIcIAMgATYCFCADIAA2AgxBACECDJ0BCyADKAIEIQAgA0EANgIEIAMgACABECsiAEUNByADQd0ANgIcIAMgATYCFCADIAA2AgxBACECDJwBCyADKAIEIQAgA0EANgIEIAMgACABECsiAEUNByADQfAANgIcIAMgATYCFCADIAA2AgxBACECDJsBCyADQQA2AhwgAyABNgIUIANB3Ag2AhAgA0EHNgIMQQAhAgyaAQsgASAERg0BIAFBAWoLIQFBBiECDH4LQfIAIQIMlwELAkACQAJAAkADQCABLQAAQeDGAGotAAAiAEEFRwRAIABBAWsOBB8CAwQFCyAEIAFBAWoiAUcNAAtB8QAhAgyaAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDQMgA0HbADYCHCADIAE2AhQgAyAANgIMQQAhAgyZAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDQMgA0HdADYCHCADIAE2AhQgAyAANgIMQQAhAgyYAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDQMgA0HwADYCHCADIAE2AhQgAyAANgIMQQAhAgyXAQsgA0EANgIcIAMgATYCFCADQbQKNgIQIANBBzYCDEEAIQIMlgELQc4AIQIMewtB0AAhAgx6C0HdACECDHkLIAEgBEYEQEHwACECDJMBCwJAIAEtAABBCWsOBBYAABYACyABQQFqIQFB3AAhAgx4CyABIARGBEBB7wAhAgySAQsCQCABLQAAQQlrDgQVAAAVAAtBACEAAkAgAygCOCICRQ0AIAIoAjAiAkUNACADIAIRAAAhAAsgAEUEQEHTASECDHgLIABBFUcEQCADQQA2AhwgAyABNgIUIANBwQ02AhAgA0EaNgIMQQAhAgySAQsgA0HuADYCHCADIAE2AhQgA0HwGTYCECADQRU2AgxBACECDJEBC0HtACECIAEgBEYNkAEgAygCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABB18YAai0AAEcNBCAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMkQELIANBADYCACAGQQFqIQEgAy0AKSIAQSNrQQtJDQQCQCAAQQZLDQBBASAAdEHKAHFFDQAMBQtBACECIANBADYCHCADIAE2AhQgA0HlCTYCECADQQg2AgwMkAELQewAIQIgASAERg2PASADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHUxgBqLQAARw0DIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyQAQsgA0EANgIAIAZBAWohASADLQApQSFGDQMgA0EANgIcIAMgATYCFCADQYkKNgIQIANBCDYCDEEAIQIMjwELQesAIQIgASAERg2OASADKAIAIgAgBCABa2ohBSABIABrQQNqIQYCQANAIAEtAAAgAEHQxgBqLQAARw0CIABBA0YNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyPAQsgA0EANgIAIAZBAWohASADLQApIgBBI0kNAiAAQS5GDQIgA0EANgIcIAMgATYCFCADQcEJNgIQIANBCDYCDEEAIQIMjgELIANBADYCAAtBACECIANBADYCHCADIAE2AhQgA0GENzYCECADQQg2AgwMjAELQdgAIQIMcQsgASAERwRAIANBDTYCCCADIAE2AgRB1wAhAgxxC0HqACECDIoBCyABIARGBEBB6QAhAgyKAQsgAS0AAEEwayIAQf8BcUEKSQRAIAMgADoAKiABQQFqIQFB1gAhAgxwCyADKAIEIQAgA0EANgIEIAMgACABEC4iAEUNdCADQegANgIcIAMgATYCFCADIAA2AgxBACECDIkBCyABIARGBEBB5wAhAgyJAQsCQCABLQAAQS5GBEAgAUEBaiEBDAELIAMoAgQhACADQQA2AgQgAyAAIAEQLiIARQ11IANB5gA2AhwgAyABNgIUIAMgADYCDEEAIQIMiQELQdUAIQIMbgsgASAERgRAQeUAIQIMiAELQQAhAEEBIQVBASEHQQAhAgJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAEtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyECQQAhBUEAIQcMAgtBCSECQQEhAEEAIQVBACEHDAELQQAhBUEBIQILIAMgAjoAKyABQQFqIQECQAJAIAMtAC5BEHENAAJAAkACQCADLQAqDgMBAAIECyAHRQ0DDAILIAANAQwCCyAFRQ0BCyADKAIEIQAgA0EANgIEIAMgACABEC4iAEUNAiADQeIANgIcIAMgATYCFCADIAA2AgxBACECDIoBCyADKAIEIQAgA0EANgIEIAMgACABEC4iAEUNdyADQeMANgIcIAMgATYCFCADIAA2AgxBACECDIkBCyADKAIEIQAgA0EANgIEIAMgACABEC4iAEUNdSADQeQANgIcIAMgATYCFCADIAA2AgwMiAELQdMAIQIMbQsgAy0AKUEiRg2AAUHSACECDGwLQQAhAAJAIAMoAjgiAkUNACACKAI8IgJFDQAgAyACEQAAIQALIABFBEBB1AAhAgxsCyAAQRVHBEAgA0EANgIcIAMgATYCFCADQZwNNgIQIANBITYCDEEAIQIMhgELIANB4QA2AhwgAyABNgIUIANB1hk2AhAgA0EVNgIMQQAhAgyFAQsgASAERgRAQeAAIQIMhQELAkACQAJAAkACQCABLQAAQQprDgQBBAQABAsgAUEBaiEBDAELIAFBAWohASADQS9qLQAAQQFxRQ0BC0HRACECDGwLIANBADYCHCADIAE2AhQgA0GIETYCECADQQk2AgxBACECDIUBCyADQQA2AhwgAyABNgIUIANBiBE2AhAgA0EJNgIMQQAhAgyEAQsgASAERgRAQd8AIQIMhAELIAEtAABBCkYEQCABQQFqIQEMCQsgAy0ALkHAAHENCCADQQA2AhwgAyABNgIUIANBiBE2AhAgA0ECNgIMQQAhAgyDAQsgASAERgRAQd0AIQIMgwELIAEtAAAiAkENRgRAIAFBAWohAUHPACECDGkLIAEhACACQQlrDgQFAQEFAQsgBCABIgBGBEBB3AAhAgyCAQsgAC0AAEEKRw0AIABBAWoMAgtBACECIANBADYCHCADIAA2AhQgA0G1LDYCECADQQc2AgwMgAELIAEgBEYEQEHbACECDIABCwJAIAEtAABBCWsOBAMAAAMACyABQQFqCyEBQc0AIQIMZAsgASAERgRAQdoAIQIMfgsgAS0AAEEJaw4EAAEBAAELQQAhAiADQQA2AhwgA0HsETYCECADQQc2AgwgAyABQQFqNgIUDHwLIANBgBI7ASpBACEAAkAgAygCOCICRQ0AIAIoAjAiAkUNACADIAIRAAAhAAsgAEUNACAAQRVHDQEgA0HZADYCHCADIAE2AhQgA0HwGTYCECADQRU2AgxBACECDHsLQcwAIQIMYAsgA0EANgIcIAMgATYCFCADQcENNgIQIANBGjYCDEEAIQIMeQsgASAERgRAQdkAIQIMeQsgAS0AAEEgRw06IAFBAWohASADLQAuQQFxDTogA0EANgIcIAMgATYCFCADQa0bNgIQIANBHjYCDEEAIQIMeAsgASAERgRAQdgAIQIMeAsCQAJAAkACQAJAIAEtAAAiAEEKaw4EAgMDAAELIAFBAWohAUErIQIMYQsgAEE6Rw0BIANBADYCHCADIAE2AhQgA0G5ETYCECADQQo2AgxBACECDHoLIAFBAWohASADQS9qLQAAQQFxRQ1tIAMtADJBgAFxRQRAIANBMmohAiADEDRBACEAAkAgAygCOCIGRQ0AIAYoAiQiBkUNACADIAYRAAAhAAsCQAJAIAAOFkpJSAEBAQEBAQEBAQEBAQEBAQEBAQABCyADQSk2AhwgAyABNgIUIANBshg2AhAgA0EVNgIMQQAhAgx7CyADQQA2AhwgAyABNgIUIANB3Qs2AhAgA0ERNgIMQQAhAgx6C0EAIQACQCADKAI4IgJFDQAgAigCVCICRQ0AIAMgAhEAACEACyAARQ1VIABBFUcNASADQQU2AhwgAyABNgIUIANBhho2AhAgA0EVNgIMQQAhAgx5C0HKACECDF4LQQAhAiADQQA2AhwgAyABNgIUIANB4g02AhAgA0EUNgIMDHcLIAMgAy8BMkGAAXI7ATIMOAsgASAERwRAIANBEDYCCCADIAE2AgRByQAhAgxcC0HXACECDHULIAEgBEYEQEHWACECDHULAkACQAJAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXFB4wBrDhMAPT09PT09PT09PT09AT09PQIDPQsgAUEBaiEBQcUAIQIMXQsgAUEBaiEBQcYAIQIMXAsgAUEBaiEBQccAIQIMWwsgAUEBaiEBQcgAIQIMWgtB1QAhAiAEIAEiAEYNcyAEIAFrIAMoAgAiAWohBiAAIAFrQQVqIQcDQCABQcDGAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQhBBCABQQVGDQoaIAFBAWohASAEIABBAWoiAEcNAAsgAyAGNgIADHMLQdQAIQIgBCABIgBGDXIgBCABayADKAIAIgFqIQYgACABa0EPaiEHA0AgAUGwxgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0HQQMgAUEPRg0JGiABQQFqIQEgBCAAQQFqIgBHDQALIAMgBjYCAAxyC0HTACECIAQgASIARg1xIAQgAWsgAygCACIBaiEGIAAgAWtBDmohBwNAIAFBksYAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNBiABQQ5GDQcgAUEBaiEBIAQgAEEBaiIARw0ACyADIAY2AgAMcQtB0gAhAiAEIAEiAEYNcCAEIAFrIAMoAgAiAWohBSAAIAFrQQFqIQYDQCABQZDGAGotAAAgAC0AACIHQSByIAcgB0HBAGtB/wFxQRpJG0H/AXFHDQUgAUEBRg0CIAFBAWohASAEIABBAWoiAEcNAAsgAyAFNgIADHALIAEgBEYEQEHRACECDHALAkACQCABLQAAIgBBIHIgACAAQcEAa0H/AXFBGkkbQf8BcUHuAGsOBwA2NjY2NgE2CyABQQFqIQFBwgAhAgxWCyABQQFqIQFBwwAhAgxVCyADQQA2AgAgBkEBaiEBQcQAIQIMVAtB0AAhAiAEIAEiAEYNbSAEIAFrIAMoAgAiAWohBiAAIAFrQQlqIQcDQCABQYbGAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQJBAiABQQlGDQQaIAFBAWohASAEIABBAWoiAEcNAAsgAyAGNgIADG0LQc8AIQIgBCABIgBGDWwgBCABayADKAIAIgFqIQYgACABa0EFaiEHA0AgAUGAxgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBBUYNAiABQQFqIQEgBCAAQQFqIgBHDQALIAMgBjYCAAxsCyAAIQEgA0EANgIADDALQQELOgAsIANBADYCACAHQQFqIQELQSwhAgxOCwJAA0AgAS0AAEGAxABqLQAAQQFHDQEgBCABQQFqIgFHDQALQc0AIQIMaAtBwQAhAgxNCyABIARGBEBBzAAhAgxnCyABLQAAQTpGBEAgAygCBCEAIANBADYCBCADIAAgARAvIgBFDTAgA0HLADYCHCADIAA2AgwgAyABQQFqNgIUQQAhAgxnCyADQQA2AhwgAyABNgIUIANBuRE2AhAgA0EKNgIMQQAhAgxmCwJAAkAgAy0ALEECaw4CAAEkCyADQTNqLQAAQQJxRQ0jIAMtAC5BAnENIyADQQA2AhwgAyABNgIUIANB1RM2AhAgA0ELNgIMQQAhAgxmCyADLQAyQSBxRQ0iIAMtAC5BAnENIiADQQA2AhwgAyABNgIUIANB7BI2AhAgA0EPNgIMQQAhAgxlC0EAIQACQCADKAI4IgJFDQAgAigCQCICRQ0AIAMgAhEAACEACyAARQRAQcAAIQIMSwsgAEEVRwRAIANBADYCHCADIAE2AhQgA0H4DjYCECADQRw2AgxBACECDGULIANBygA2AhwgAyABNgIUIANB8Bo2AhAgA0EVNgIMQQAhAgxkCyABIARHBEADQCABLQAAQfA/ai0AAEEBRw0XIAQgAUEBaiIBRw0AC0HEACECDGQLQcQAIQIMYwsgASAERwRAA0ACQCABLQAAIgBBIHIgACAAQcEAa0H/AXFBGkkbQf8BcSIAQQlGDQAgAEEgRg0AAkACQAJAAkAgAEHjAGsOEwADAwMDAwMDAQMDAwMDAwMDAwIDCyABQQFqIQFBNSECDE4LIAFBAWohAUE2IQIMTQsgAUEBaiEBQTchAgxMCwwVCyAEIAFBAWoiAUcNAAtBPCECDGMLQTwhAgxiCyABIARGBEBByAAhAgxiCyADQRE2AgggAyABNgIEAkACQAJAAkACQCADLQAsQQFrDgQUAAECCQsgAy0AMkEgcQ0DQdEBIQIMSwsCQCADLwEyIgBBCHFFDQAgAy0AKEEBRw0AIAMtAC5BCHFFDQILIAMgAEH3+wNxQYAEcjsBMgwLCyADIAMvATJBEHI7ATIMBAsgA0EANgIEIAMgASABEDAiAARAIANBwQA2AhwgAyAANgIMIAMgAUEBajYCFEEAIQIMYwsgAUEBaiEBDFILIANBADYCHCADIAE2AhQgA0GjEzYCECADQQQ2AgxBACECDGELQccAIQIgASAERg1gIAMoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAEHwwwBqLQAAIAEtAABBIHJHDQEgAEEGRg1GIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADGELIANBADYCAAwFCwJAIAEgBEcEQANAIAEtAABB8MEAai0AACIAQQFHBEAgAEECRw0DIAFBAWohAQwFCyAEIAFBAWoiAUcNAAtBxQAhAgxhC0HFACECDGALCyADQQA6ACwMAQtBCyECDEMLQT4hAgxCCwJAAkADQCABLQAAIgBBIEcEQAJAIABBCmsOBAMFBQMACyAAQSxGDQMMBAsgBCABQQFqIgFHDQALQcYAIQIMXQsgA0EIOgAsDA4LIAMtAChBAUcNAiADLQAuQQhxDQIgAygCBCEAIANBADYCBCADIAAgARAwIgAEQCADQcIANgIcIAMgADYCDCADIAFBAWo2AhRBACECDFwLIAFBAWohAQxKC0E6IQIMQAsCQANAIAEtAAAiAEEgRyAAQQlHcQ0BIAQgAUEBaiIBRw0AC0HDACECDFoLC0E7IQIMPgsCQAJAIAEgBEcEQANAIAEtAAAiAEEgRwRAIABBCmsOBAMEBAMECyAEIAFBAWoiAUcNAAtBPyECDFoLQT8hAgxZCyADIAMvATJBIHI7ATIMCgsgAygCBCEAIANBADYCBCADIAAgARAwIgBFDUggA0E+NgIcIAMgATYCFCADIAA2AgxBACECDFcLAkAgASAERwRAA0AgAS0AAEHwwQBqLQAAIgBBAUcEQCAAQQJGDQMMDAsgBCABQQFqIgFHDQALQTchAgxYC0E3IQIMVwsgAUEBaiEBDAQLQTshAiAEIAEiAEYNVSAEIAFrIAMoAgAiAWohBiAAIAFrQQVqIQcCQANAIAFBwMYAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNASABQQVGBEBBByEBDDsLIAFBAWohASAEIABBAWoiAEcNAAsgAyAGNgIADFYLIANBADYCACAAIQEMBQtBOiECIAQgASIARg1UIAQgAWsgAygCACIBaiEGIAAgAWtBCGohBwJAA0AgAUHkP2otAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQEgAUEIRgRAQQUhAQw6CyABQQFqIQEgBCAAQQFqIgBHDQALIAMgBjYCAAxVCyADQQA2AgAgACEBDAQLQTkhAiAEIAEiAEYNUyAEIAFrIAMoAgAiAWohBiAAIAFrQQNqIQcCQANAIAFB4D9qLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBA0YEQEEGIQEMOQsgAUEBaiEBIAQgAEEBaiIARw0ACyADIAY2AgAMVAsgA0EANgIAIAAhAQwDCwJAA0AgAS0AACIAQSBHBEAgAEEKaw4EBwQEBwILIAQgAUEBaiIBRw0AC0E4IQIMUwsgAEEsRw0BIAFBAWohAEEBIQECQAJAAkACQAJAIAMtACxBBWsOBAMBAgQACyAAIQEMBAtBAiEBDAELQQQhAQsgA0EBOgAsIAMgAy8BMiABcjsBMiAAIQEMAQsgAyADLwEyQQhyOwEyIAAhAQtBPSECDDcLIANBADoALAtBOCECDDULIAEgBEYEQEE2IQIMTwsCQAJAAkACQAJAIAEtAABBCmsOBAACAgECCyADKAIEIQAgA0EANgIEIAMgACABEDAiAEUNAiADQTM2AhwgAyABNgIUIAMgADYCDEEAIQIMUgsgAygCBCEAIANBADYCBCADIAAgARAwIgBFBEAgAUEBaiEBDAYLIANBMjYCHCADIAA2AgwgAyABQQFqNgIUQQAhAgxRCyADLQAuQQFxBEBB0AEhAgw3CyADKAIEIQAgA0EANgIEIAMgACABEDAiAA0BDEMLQTMhAgw1CyADQTU2AhwgAyABNgIUIAMgADYCDEEAIQIMTgtBNCECDDMLIANBL2otAABBAXENACADQQA2AhwgAyABNgIUIANB8RU2AhAgA0EZNgIMQQAhAgxMC0EyIQIMMQsgASAERgRAQTIhAgxLCwJAIAEtAABBCkYEQCABQQFqIQEMAQsgA0EANgIcIAMgATYCFCADQZgWNgIQIANBAzYCDEEAIQIMSwtBMSECDDALIAEgBEYEQEExIQIMSgsgAS0AACIAQQlHIABBIEdxDQEgAy0ALEEIRw0AIANBADoALAtBPCECDC4LQQEhAgJAAkACQAJAIAMtACxBBWsOBAMBAgAKCyADIAMvATJBCHI7ATIMCQtBAiECDAELQQQhAgsgA0EBOgAsIAMgAy8BMiACcjsBMgwGCyABIARGBEBBMCECDEcLIAEtAABBCkYEQCABQQFqIQEMAQsgAy0ALkEBcQ0AIANBADYCHCADIAE2AhQgA0HHJzYCECADQQI2AgxBACECDEYLQS8hAgwrCyABQQFqIQFBMCECDCoLIAEgBEYEQEEvIQIMRAsgAS0AACIAQQlHIABBIEdxRQRAIAFBAWohASADLQAuQQFxDQEgA0EANgIcIAMgATYCFCADQekPNgIQIANBCjYCDEEAIQIMRAtBASECAkACQAJAAkACQAJAIAMtACxBAmsOBwUEBAMBAgAECyADIAMvATJBCHI7ATIMAwtBAiECDAELQQQhAgsgA0EBOgAsIAMgAy8BMiACcjsBMgtBLiECDCoLIANBADYCHCADIAE2AhQgA0GzEjYCECADQQs2AgxBACECDEMLQdIBIQIMKAsgASAERgRAQS4hAgxCCyADQQA2AgQgA0ERNgIIIAMgASABEDAiAA0BC0EtIQIMJgsgA0EtNgIcIAMgATYCFCADIAA2AgxBACECDD8LQQAhAAJAIAMoAjgiAkUNACACKAJEIgJFDQAgAyACEQAAIQALIABFDQAgAEEVRw0BIANB2AA2AhwgAyABNgIUIANBnho2AhAgA0EVNgIMQQAhAgw+C0HLACECDCMLIANBADYCHCADIAE2AhQgA0GFDjYCECADQR02AgxBACECDDwLIAEgBEYEQEHOACECDDwLIAEtAAAiAEEgRg0CIABBOkYNAQsgA0EAOgAsQQkhAgwgCyADKAIEIQAgA0EANgIEIAMgACABEC8iAA0BDAILIAMtAC5BAXEEQEHPASECDB8LIAMoAgQhACADQQA2AgQgAyAAIAEQLyIARQ0CIANBKjYCHCADIAA2AgwgAyABQQFqNgIUQQAhAgw4CyADQcsANgIcIAMgADYCDCADIAFBAWo2AhRBACECDDcLIAFBAWohAUE/IQIMHAsgAUEBaiEBDCkLIAEgBEYEQEErIQIMNQsCQCABLQAAQQpGBEAgAUEBaiEBDAELIAMtAC5BwABxRQ0GCyADLQAyQYABcQRAQQAhAAJAIAMoAjgiAkUNACACKAJUIgJFDQAgAyACEQAAIQALIABFDREgAEEVRgRAIANBBTYCHCADIAE2AhQgA0GGGjYCECADQRU2AgxBACECDDYLIANBADYCHCADIAE2AhQgA0HiDTYCECADQRQ2AgxBACECDDULIANBMmohAiADEDRBACEAAkAgAygCOCIGRQ0AIAYoAiQiBkUNACADIAYRAAAhAAsgAA4WAgEABAQEBAQEBAQEBAQEBAQEBAQEAwQLIANBAToAMAsgAiACLwEAQcAAcjsBAAtBKiECDBcLIANBKTYCHCADIAE2AhQgA0GyGDYCECADQRU2AgxBACECDDALIANBADYCHCADIAE2AhQgA0HdCzYCECADQRE2AgxBACECDC8LIANBADYCHCADIAE2AhQgA0GdCzYCECADQQI2AgxBACECDC4LQQEhByADLwEyIgVBCHFFBEAgAykDIEIAUiEHCwJAIAMtADAEQEEBIQAgAy0AKUEFRg0BIAVBwABxRSAHcUUNAQsCQCADLQAoIgJBAkYEQEEBIQAgAy8BNCIGQeUARg0CQQAhACAFQcAAcQ0CIAZB5ABGDQIgBkHmAGtBAkkNAiAGQcwBRg0CIAZBsAJGDQIMAQtBACEAIAVBwABxDQELQQIhACAFQQhxDQAgBUGABHEEQAJAIAJBAUcNACADLQAuQQpxDQBBBSEADAILQQQhAAwBCyAFQSBxRQRAIAMQNUEAR0ECdCEADAELQQBBAyADKQMgUBshAAsCQCAAQQFrDgUAAQYHAgMLQQAhAgJAIAMoAjgiAEUNACAAKAIsIgBFDQAgAyAAEQAAIQILIAJFDSYgAkEVRgRAIANBAzYCHCADIAE2AhQgA0G9GjYCECADQRU2AgxBACECDC4LQQAhAiADQQA2AhwgAyABNgIUIANBrw42AhAgA0ESNgIMDC0LQc4BIQIMEgtBACECIANBADYCHCADIAE2AhQgA0HkHzYCECADQQ82AgwMKwtBACEAAkAgAygCOCICRQ0AIAIoAiwiAkUNACADIAIRAAAhAAsgAA0BC0EOIQIMDwsgAEEVRgRAIANBAjYCHCADIAE2AhQgA0G9GjYCECADQRU2AgxBACECDCkLQQAhAiADQQA2AhwgAyABNgIUIANBrw42AhAgA0ESNgIMDCgLQSkhAgwNCyADQQE6ADEMJAsgASAERwRAIANBCTYCCCADIAE2AgRBKCECDAwLQSYhAgwlCyADIAMpAyAiDCAEIAFrrSIKfSILQgAgCyAMWBs3AyAgCiAMVARAQSUhAgwlCyADKAIEIQBBACECIANBADYCBCADIAAgASAMp2oiARAxIgBFDQAgA0EFNgIcIAMgATYCFCADIAA2AgwMJAtBDyECDAkLIAEgBEYEQEEjIQIMIwtCACEKAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBMGsONxcWAAECAwQFBgcUFBQUFBQUCAkKCwwNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQODxAREhMUC0ICIQoMFgtCAyEKDBULQgQhCgwUC0IFIQoMEwtCBiEKDBILQgchCgwRC0IIIQoMEAtCCSEKDA8LQgohCgwOC0ILIQoMDQtCDCEKDAwLQg0hCgwLC0IOIQoMCgtCDyEKDAkLQgohCgwIC0ILIQoMBwtCDCEKDAYLQg0hCgwFC0IOIQoMBAtCDyEKDAMLQQAhAiADQQA2AhwgAyABNgIUIANBzhQ2AhAgA0EMNgIMDCILIAEgBEYEQEEiIQIMIgtCACEKAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQTBrDjcVFAABAgMEBQYHFhYWFhYWFggJCgsMDRYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWDg8QERITFgtCAiEKDBQLQgMhCgwTC0IEIQoMEgtCBSEKDBELQgYhCgwQC0IHIQoMDwtCCCEKDA4LQgkhCgwNC0IKIQoMDAtCCyEKDAsLQgwhCgwKC0INIQoMCQtCDiEKDAgLQg8hCgwHC0IKIQoMBgtCCyEKDAULQgwhCgwEC0INIQoMAwtCDiEKDAILQg8hCgwBC0IBIQoLIAFBAWohASADKQMgIgtC//////////8PWARAIAMgC0IEhiAKhDcDIAwCC0EAIQIgA0EANgIcIAMgATYCFCADQa0JNgIQIANBDDYCDAwfC0ElIQIMBAtBJiECDAMLIAMgAToALCADQQA2AgAgB0EBaiEBQQwhAgwCCyADQQA2AgAgBkEBaiEBQQohAgwBCyABQQFqIQFBCCECDAALAAtBACECIANBADYCHCADIAE2AhQgA0HVEDYCECADQQk2AgwMGAtBACECIANBADYCHCADIAE2AhQgA0HXCjYCECADQQk2AgwMFwtBACECIANBADYCHCADIAE2AhQgA0G/EDYCECADQQk2AgwMFgtBACECIANBADYCHCADIAE2AhQgA0GkETYCECADQQk2AgwMFQtBACECIANBADYCHCADIAE2AhQgA0HVEDYCECADQQk2AgwMFAtBACECIANBADYCHCADIAE2AhQgA0HXCjYCECADQQk2AgwMEwtBACECIANBADYCHCADIAE2AhQgA0G/EDYCECADQQk2AgwMEgtBACECIANBADYCHCADIAE2AhQgA0GkETYCECADQQk2AgwMEQtBACECIANBADYCHCADIAE2AhQgA0G/FjYCECADQQ82AgwMEAtBACECIANBADYCHCADIAE2AhQgA0G/FjYCECADQQ82AgwMDwtBACECIANBADYCHCADIAE2AhQgA0HIEjYCECADQQs2AgwMDgtBACECIANBADYCHCADIAE2AhQgA0GVCTYCECADQQs2AgwMDQtBACECIANBADYCHCADIAE2AhQgA0HpDzYCECADQQo2AgwMDAtBACECIANBADYCHCADIAE2AhQgA0GDEDYCECADQQo2AgwMCwtBACECIANBADYCHCADIAE2AhQgA0GmHDYCECADQQI2AgwMCgtBACECIANBADYCHCADIAE2AhQgA0HFFTYCECADQQI2AgwMCQtBACECIANBADYCHCADIAE2AhQgA0H/FzYCECADQQI2AgwMCAtBACECIANBADYCHCADIAE2AhQgA0HKFzYCECADQQI2AgwMBwsgA0ECNgIcIAMgATYCFCADQZQdNgIQIANBFjYCDEEAIQIMBgtB3gAhAiABIARGDQUgCUEIaiEHIAMoAgAhBQJAAkAgASAERwRAIAVBxsYAaiEIIAQgBWogAWshBiAFQX9zQQpqIgUgAWohAANAIAEtAAAgCC0AAEcEQEECIQgMAwsgBUUEQEEAIQggACEBDAMLIAVBAWshBSAIQQFqIQggBCABQQFqIgFHDQALIAYhBSAEIQELIAdBATYCACADIAU2AgAMAQsgA0EANgIAIAcgCDYCAAsgByABNgIEIAkoAgwhACAJKAIIDgMBBQIACwALIANBADYCHCADQa0dNgIQIANBFzYCDCADIABBAWo2AhRBACECDAMLIANBADYCHCADIAA2AhQgA0HCHTYCECADQQk2AgxBACECDAILIAEgBEYEQEEoIQIMAgsgA0EJNgIIIAMgATYCBEEnIQIMAQsgASAERgRAQQEhAgwBCwNAAkACQAJAIAEtAABBCmsOBAABAQABCyABQQFqIQEMAQsgAUEBaiEBIAMtAC5BIHENAEEAIQIgA0EANgIcIAMgATYCFCADQYwgNgIQIANBBTYCDAwCC0EBIQIgASAERw0ACwsgCUEQaiQAIAJFBEAgAygCDCEADAELIAMgAjYCHEEAIQAgAygCBCIBRQ0AIAMgASAEIAMoAggRAQAiAUUNACADIAQ2AhQgAyABNgIMIAEhAAsgAAu+AgECfyAAQQA6AAAgAEHcAGoiAUEBa0EAOgAAIABBADoAAiAAQQA6AAEgAUEDa0EAOgAAIAFBAmtBADoAACAAQQA6AAMgAUEEa0EAOgAAQQAgAGtBA3EiASAAaiIAQQA2AgBB3AAgAWtBfHEiAiAAaiIBQQRrQQA2AgACQCACQQlJDQAgAEEANgIIIABBADYCBCABQQhrQQA2AgAgAUEMa0EANgIAIAJBGUkNACAAQQA2AhggAEEANgIUIABBADYCECAAQQA2AgwgAUEQa0EANgIAIAFBFGtBADYCACABQRhrQQA2AgAgAUEca0EANgIAIAIgAEEEcUEYciICayIBQSBJDQAgACACaiEAA0AgAEIANwMYIABCADcDECAAQgA3AwggAEIANwMAIABBIGohACABQSBrIgFBH0sNAAsLC1YBAX8CQCAAKAIMDQACQAJAAkACQCAALQAxDgMBAAMCCyAAKAI4IgFFDQAgASgCLCIBRQ0AIAAgAREAACIBDQMLQQAPCwALIABB0Bg2AhBBDiEBCyABCxoAIAAoAgxFBEAgAEHJHjYCECAAQRU2AgwLCxQAIAAoAgxBFUYEQCAAQQA2AgwLCxQAIAAoAgxBFkYEQCAAQQA2AgwLCwcAIAAoAgwLBwAgACgCEAsJACAAIAE2AhALBwAgACgCFAsXACAAQSRPBEAACyAAQQJ0QZQ3aigCAAsXACAAQS9PBEAACyAAQQJ0QaQ4aigCAAu/CQEBf0HfLCEBAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAEHkAGsO9ANjYgABYWFhYWFhAgMEBWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWEGBwgJCgsMDQ4PYWFhYWEQYWFhYWFhYWFhYWERYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhEhMUFRYXGBkaG2FhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWEcHR4fICEiIyQlJicoKSorLC0uLzAxMjM0NTZhNzg5OmFhYWFhYWFhO2FhYTxhYWFhPT4/YWFhYWFhYWFAYWFBYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhQkNERUZHSElKS0xNTk9QUVJTYWFhYWFhYWFUVVZXWFlaW2FcXWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYV5hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFfYGELQdUrDwtBgyUPC0G/MA8LQfI1DwtBtCgPC0GfKA8LQYEsDwtB1ioPC0H0Mw8LQa0zDwtByygPC0HOIw8LQcAjDwtB2SMPC0HRJA8LQZwzDwtBojYPC0H8Mw8LQeArDwtB4SUPC0HtIA8LQcQyDwtBqScPC0G5Ng8LQbggDwtBqyAPC0GjJA8LQbYkDwtBgSMPC0HhMg8LQZ80DwtByCkPC0HAMg8LQe4yDwtB8C8PC0HGNA8LQdAhDwtBmiQPC0HrLw8LQYQ1DwtByzUPC0GWMQ8LQcgrDwtB1C8PC0GTMA8LQd81DwtBtCMPC0G+NQ8LQdIpDwtBsyIPC0HNIA8LQZs2DwtBkCEPC0H/IA8LQa01DwtBsDQPC0HxJA8LQacqDwtB3TAPC0GLIg8LQcgvDwtB6yoPC0H0KQ8LQY8lDwtB3SIPC0HsJg8LQf0wDwtB1iYPC0GUNQ8LQY0jDwtBuikPC0HHIg8LQfIlDwtBtjMPC0GiIQ8LQf8vDwtBwCEPC0GBMw8LQcklDwtBqDEPC0HGMw8LQdM2DwtBxjYPC0HkNA8LQYgmDwtB7ScPC0H4IQ8LQakwDwtBjzQPC0GGNg8LQaovDwtBoSYPC0HsNg8LQZIpDwtBryYPC0GZIg8LQeAhDwsAC0G1JSEBCyABCxcAIAAgAC8BLkH+/wNxIAFBAEdyOwEuCxoAIAAgAC8BLkH9/wNxIAFBAEdBAXRyOwEuCxoAIAAgAC8BLkH7/wNxIAFBAEdBAnRyOwEuCxoAIAAgAC8BLkH3/wNxIAFBAEdBA3RyOwEuCxoAIAAgAC8BLkHv/wNxIAFBAEdBBHRyOwEuCxoAIAAgAC8BLkHf/wNxIAFBAEdBBXRyOwEuCxoAIAAgAC8BLkG//wNxIAFBAEdBBnRyOwEuCxoAIAAgAC8BLkH//gNxIAFBAEdBB3RyOwEuCxoAIAAgAC8BLkH//QNxIAFBAEdBCHRyOwEuCxoAIAAgAC8BLkH/+wNxIAFBAEdBCXRyOwEuCz4BAn8CQCAAKAI4IgNFDQAgAygCBCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBzhE2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCCCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB5Ao2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCDCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB5R02AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCECIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBnRA2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCFCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBoh42AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCGCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7hQ2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCKCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9gg2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCHCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9xs2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCICIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlRU2AhBBGCEECyAECzgAIAACfyAALwEyQRRxQRRGBEBBASAALQAoQQFGDQEaIAAvATRB5QBGDAELIAAtAClBBUYLOgAwC1kBAn8CQCAALQAoQQFGDQAgAC8BNCIBQeQAa0HkAEkNACABQcwBRg0AIAFBsAJGDQAgAC8BMiIAQcAAcQ0AQQEhAiAAQYgEcUGABEYNACAAQShxRSECCyACC4wBAQJ/AkACQAJAIAAtACpFDQAgAC0AK0UNACAALwEyIgFBAnFFDQEMAgsgAC8BMiIBQQFxRQ0BC0EBIQIgAC0AKEEBRg0AIAAvATQiAEHkAGtB5ABJDQAgAEHMAUYNACAAQbACRg0AIAFBwABxDQBBACECIAFBiARxQYAERg0AIAFBKHFBAEchAgsgAgtXACAAQRhqQgA3AwAgAEIANwMAIABBOGpCADcDACAAQTBqQgA3AwAgAEEoakIANwMAIABBIGpCADcDACAAQRBqQgA3AwAgAEEIakIANwMAIABB7AE2AhwLBgAgABA5C5otAQt/IwBBEGsiCiQAQZjUACgCACIJRQRAQdjXACgCACIFRQRAQeTXAEJ/NwIAQdzXAEKAgISAgIDAADcCAEHY1wAgCkEIakFwcUHYqtWqBXMiBTYCAEHs1wBBADYCAEG81wBBADYCAAtBwNcAQYDYBDYCAEGQ1ABBgNgENgIAQaTUACAFNgIAQaDUAEF/NgIAQcTXAEGAqAM2AgADQCABQbzUAGogAUGw1ABqIgI2AgAgAiABQajUAGoiAzYCACABQbTUAGogAzYCACABQcTUAGogAUG41ABqIgM2AgAgAyACNgIAIAFBzNQAaiABQcDUAGoiAjYCACACIAM2AgAgAUHI1ABqIAI2AgAgAUEgaiIBQYACRw0AC0GM2ARBwacDNgIAQZzUAEHo1wAoAgA2AgBBjNQAQcCnAzYCAEGY1ABBiNgENgIAQcz/B0E4NgIAQYjYBCEJCwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIABB7AFNBEBBgNQAKAIAIgZBECAAQRNqQXBxIABBC0kbIgRBA3YiAHYiAUEDcQRAAkAgAUEBcSAAckEBcyICQQN0IgBBqNQAaiIBIABBsNQAaigCACIAKAIIIgNGBEBBgNQAIAZBfiACd3E2AgAMAQsgASADNgIIIAMgATYCDAsgAEEIaiEBIAAgAkEDdCICQQNyNgIEIAAgAmoiACAAKAIEQQFyNgIEDBELQYjUACgCACIIIARPDQEgAQRAAkBBAiAAdCICQQAgAmtyIAEgAHRxaCIAQQN0IgJBqNQAaiIBIAJBsNQAaigCACICKAIIIgNGBEBBgNQAIAZBfiAAd3EiBjYCAAwBCyABIAM2AgggAyABNgIMCyACIARBA3I2AgQgAEEDdCIAIARrIQUgACACaiAFNgIAIAIgBGoiBCAFQQFyNgIEIAgEQCAIQXhxQajUAGohAEGU1AAoAgAhAwJ/QQEgCEEDdnQiASAGcUUEQEGA1AAgASAGcjYCACAADAELIAAoAggLIgEgAzYCDCAAIAM2AgggAyAANgIMIAMgATYCCAsgAkEIaiEBQZTUACAENgIAQYjUACAFNgIADBELQYTUACgCACILRQ0BIAtoQQJ0QbDWAGooAgAiACgCBEF4cSAEayEFIAAhAgNAAkAgAigCECIBRQRAIAJBFGooAgAiAUUNAQsgASgCBEF4cSAEayIDIAVJIQIgAyAFIAIbIQUgASAAIAIbIQAgASECDAELCyAAKAIYIQkgACgCDCIDIABHBEBBkNQAKAIAGiADIAAoAggiATYCCCABIAM2AgwMEAsgAEEUaiICKAIAIgFFBEAgACgCECIBRQ0DIABBEGohAgsDQCACIQcgASIDQRRqIgIoAgAiAQ0AIANBEGohAiADKAIQIgENAAsgB0EANgIADA8LQX8hBCAAQb9/Sw0AIABBE2oiAUFwcSEEQYTUACgCACIIRQ0AQQAgBGshBQJAAkACQAJ/QQAgBEGAAkkNABpBHyAEQf///wdLDQAaIARBJiABQQh2ZyIAa3ZBAXEgAEEBdGtBPmoLIgZBAnRBsNYAaigCACICRQRAQQAhAUEAIQMMAQtBACEBIARBGSAGQQF2a0EAIAZBH0cbdCEAQQAhAwNAAkAgAigCBEF4cSAEayIHIAVPDQAgAiEDIAciBQ0AQQAhBSACIQEMAwsgASACQRRqKAIAIgcgByACIABBHXZBBHFqQRBqKAIAIgJGGyABIAcbIQEgAEEBdCEAIAINAAsLIAEgA3JFBEBBACEDQQIgBnQiAEEAIABrciAIcSIARQ0DIABoQQJ0QbDWAGooAgAhAQsgAUUNAQsDQCABKAIEQXhxIARrIgIgBUkhACACIAUgABshBSABIAMgABshAyABKAIQIgAEfyAABSABQRRqKAIACyIBDQALCyADRQ0AIAVBiNQAKAIAIARrTw0AIAMoAhghByADIAMoAgwiAEcEQEGQ1AAoAgAaIAAgAygCCCIBNgIIIAEgADYCDAwOCyADQRRqIgIoAgAiAUUEQCADKAIQIgFFDQMgA0EQaiECCwNAIAIhBiABIgBBFGoiAigCACIBDQAgAEEQaiECIAAoAhAiAQ0ACyAGQQA2AgAMDQtBiNQAKAIAIgMgBE8EQEGU1AAoAgAhAQJAIAMgBGsiAkEQTwRAIAEgBGoiACACQQFyNgIEIAEgA2ogAjYCACABIARBA3I2AgQMAQsgASADQQNyNgIEIAEgA2oiACAAKAIEQQFyNgIEQQAhAEEAIQILQYjUACACNgIAQZTUACAANgIAIAFBCGohAQwPC0GM1AAoAgAiAyAESwRAIAQgCWoiACADIARrIgFBAXI2AgRBmNQAIAA2AgBBjNQAIAE2AgAgCSAEQQNyNgIEIAlBCGohAQwPC0EAIQEgBAJ/QdjXACgCAARAQeDXACgCAAwBC0Hk1wBCfzcCAEHc1wBCgICEgICAwAA3AgBB2NcAIApBDGpBcHFB2KrVqgVzNgIAQezXAEEANgIAQbzXAEEANgIAQYCABAsiACAEQccAaiIFaiIGQQAgAGsiB3EiAk8EQEHw1wBBMDYCAAwPCwJAQbjXACgCACIBRQ0AQbDXACgCACIIIAJqIQAgACABTSAAIAhLcQ0AQQAhAUHw1wBBMDYCAAwPC0G81wAtAABBBHENBAJAAkAgCQRAQcDXACEBA0AgASgCACIAIAlNBEAgACABKAIEaiAJSw0DCyABKAIIIgENAAsLQQAQOiIAQX9GDQUgAiEGQdzXACgCACIBQQFrIgMgAHEEQCACIABrIAAgA2pBACABa3FqIQYLIAQgBk8NBSAGQf7///8HSw0FQbjXACgCACIDBEBBsNcAKAIAIgcgBmohASABIAdNDQYgASADSw0GCyAGEDoiASAARw0BDAcLIAYgA2sgB3EiBkH+////B0sNBCAGEDohACAAIAEoAgAgASgCBGpGDQMgACEBCwJAIAYgBEHIAGpPDQAgAUF/Rg0AQeDXACgCACIAIAUgBmtqQQAgAGtxIgBB/v///wdLBEAgASEADAcLIAAQOkF/RwRAIAAgBmohBiABIQAMBwtBACAGaxA6GgwECyABIgBBf0cNBQwDC0EAIQMMDAtBACEADAoLIABBf0cNAgtBvNcAQbzXACgCAEEEcjYCAAsgAkH+////B0sNASACEDohAEEAEDohASAAQX9GDQEgAUF/Rg0BIAAgAU8NASABIABrIgYgBEE4ak0NAQtBsNcAQbDXACgCACAGaiIBNgIAQbTXACgCACABSQRAQbTXACABNgIACwJAAkACQEGY1AAoAgAiAgRAQcDXACEBA0AgACABKAIAIgMgASgCBCIFakYNAiABKAIIIgENAAsMAgtBkNQAKAIAIgFBAEcgACABT3FFBEBBkNQAIAA2AgALQQAhAUHE1wAgBjYCAEHA1wAgADYCAEGg1ABBfzYCAEGk1ABB2NcAKAIANgIAQczXAEEANgIAA0AgAUG81ABqIAFBsNQAaiICNgIAIAIgAUGo1ABqIgM2AgAgAUG01ABqIAM2AgAgAUHE1ABqIAFBuNQAaiIDNgIAIAMgAjYCACABQczUAGogAUHA1ABqIgI2AgAgAiADNgIAIAFByNQAaiACNgIAIAFBIGoiAUGAAkcNAAtBeCAAa0EPcSIBIABqIgIgBkE4ayIDIAFrIgFBAXI2AgRBnNQAQejXACgCADYCAEGM1AAgATYCAEGY1AAgAjYCACAAIANqQTg2AgQMAgsgACACTQ0AIAIgA0kNACABKAIMQQhxDQBBeCACa0EPcSIAIAJqIgNBjNQAKAIAIAZqIgcgAGsiAEEBcjYCBCABIAUgBmo2AgRBnNQAQejXACgCADYCAEGM1AAgADYCAEGY1AAgAzYCACACIAdqQTg2AgQMAQsgAEGQ1AAoAgBJBEBBkNQAIAA2AgALIAAgBmohA0HA1wAhAQJAAkACQANAIAMgASgCAEcEQCABKAIIIgENAQwCCwsgAS0ADEEIcUUNAQtBwNcAIQEDQCABKAIAIgMgAk0EQCADIAEoAgRqIgUgAksNAwsgASgCCCEBDAALAAsgASAANgIAIAEgASgCBCAGajYCBCAAQXggAGtBD3FqIgkgBEEDcjYCBCADQXggA2tBD3FqIgYgBCAJaiIEayEBIAIgBkYEQEGY1AAgBDYCAEGM1ABBjNQAKAIAIAFqIgA2AgAgBCAAQQFyNgIEDAgLQZTUACgCACAGRgRAQZTUACAENgIAQYjUAEGI1AAoAgAgAWoiADYCACAEIABBAXI2AgQgACAEaiAANgIADAgLIAYoAgQiBUEDcUEBRw0GIAVBeHEhCCAFQf8BTQRAIAVBA3YhAyAGKAIIIgAgBigCDCICRgRAQYDUAEGA1AAoAgBBfiADd3E2AgAMBwsgAiAANgIIIAAgAjYCDAwGCyAGKAIYIQcgBiAGKAIMIgBHBEAgACAGKAIIIgI2AgggAiAANgIMDAULIAZBFGoiAigCACIFRQRAIAYoAhAiBUUNBCAGQRBqIQILA0AgAiEDIAUiAEEUaiICKAIAIgUNACAAQRBqIQIgACgCECIFDQALIANBADYCAAwEC0F4IABrQQ9xIgEgAGoiByAGQThrIgMgAWsiAUEBcjYCBCAAIANqQTg2AgQgAiAFQTcgBWtBD3FqQT9rIgMgAyACQRBqSRsiA0EjNgIEQZzUAEHo1wAoAgA2AgBBjNQAIAE2AgBBmNQAIAc2AgAgA0EQakHI1wApAgA3AgAgA0HA1wApAgA3AghByNcAIANBCGo2AgBBxNcAIAY2AgBBwNcAIAA2AgBBzNcAQQA2AgAgA0EkaiEBA0AgAUEHNgIAIAUgAUEEaiIBSw0ACyACIANGDQAgAyADKAIEQX5xNgIEIAMgAyACayIFNgIAIAIgBUEBcjYCBCAFQf8BTQRAIAVBeHFBqNQAaiEAAn9BgNQAKAIAIgFBASAFQQN2dCIDcUUEQEGA1AAgASADcjYCACAADAELIAAoAggLIgEgAjYCDCAAIAI2AgggAiAANgIMIAIgATYCCAwBC0EfIQEgBUH///8HTQRAIAVBJiAFQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAQsgAiABNgIcIAJCADcCECABQQJ0QbDWAGohAEGE1AAoAgAiA0EBIAF0IgZxRQRAIAAgAjYCAEGE1AAgAyAGcjYCACACIAA2AhggAiACNgIIIAIgAjYCDAwBCyAFQRkgAUEBdmtBACABQR9HG3QhASAAKAIAIQMCQANAIAMiACgCBEF4cSAFRg0BIAFBHXYhAyABQQF0IQEgACADQQRxakEQaiIGKAIAIgMNAAsgBiACNgIAIAIgADYCGCACIAI2AgwgAiACNgIIDAELIAAoAggiASACNgIMIAAgAjYCCCACQQA2AhggAiAANgIMIAIgATYCCAtBjNQAKAIAIgEgBE0NAEGY1AAoAgAiACAEaiICIAEgBGsiAUEBcjYCBEGM1AAgATYCAEGY1AAgAjYCACAAIARBA3I2AgQgAEEIaiEBDAgLQQAhAUHw1wBBMDYCAAwHC0EAIQALIAdFDQACQCAGKAIcIgJBAnRBsNYAaiIDKAIAIAZGBEAgAyAANgIAIAANAUGE1ABBhNQAKAIAQX4gAndxNgIADAILIAdBEEEUIAcoAhAgBkYbaiAANgIAIABFDQELIAAgBzYCGCAGKAIQIgIEQCAAIAI2AhAgAiAANgIYCyAGQRRqKAIAIgJFDQAgAEEUaiACNgIAIAIgADYCGAsgASAIaiEBIAYgCGoiBigCBCEFCyAGIAVBfnE2AgQgASAEaiABNgIAIAQgAUEBcjYCBCABQf8BTQRAIAFBeHFBqNQAaiEAAn9BgNQAKAIAIgJBASABQQN2dCIBcUUEQEGA1AAgASACcjYCACAADAELIAAoAggLIgEgBDYCDCAAIAQ2AgggBCAANgIMIAQgATYCCAwBC0EfIQUgAUH///8HTQRAIAFBJiABQQh2ZyIAa3ZBAXEgAEEBdGtBPmohBQsgBCAFNgIcIARCADcCECAFQQJ0QbDWAGohAEGE1AAoAgAiAkEBIAV0IgNxRQRAIAAgBDYCAEGE1AAgAiADcjYCACAEIAA2AhggBCAENgIIIAQgBDYCDAwBCyABQRkgBUEBdmtBACAFQR9HG3QhBSAAKAIAIQACQANAIAAiAigCBEF4cSABRg0BIAVBHXYhACAFQQF0IQUgAiAAQQRxakEQaiIDKAIAIgANAAsgAyAENgIAIAQgAjYCGCAEIAQ2AgwgBCAENgIIDAELIAIoAggiACAENgIMIAIgBDYCCCAEQQA2AhggBCACNgIMIAQgADYCCAsgCUEIaiEBDAILAkAgB0UNAAJAIAMoAhwiAUECdEGw1gBqIgIoAgAgA0YEQCACIAA2AgAgAA0BQYTUACAIQX4gAXdxIgg2AgAMAgsgB0EQQRQgBygCECADRhtqIAA2AgAgAEUNAQsgACAHNgIYIAMoAhAiAQRAIAAgATYCECABIAA2AhgLIANBFGooAgAiAUUNACAAQRRqIAE2AgAgASAANgIYCwJAIAVBD00EQCADIAQgBWoiAEEDcjYCBCAAIANqIgAgACgCBEEBcjYCBAwBCyADIARqIgIgBUEBcjYCBCADIARBA3I2AgQgAiAFaiAFNgIAIAVB/wFNBEAgBUF4cUGo1ABqIQACf0GA1AAoAgAiAUEBIAVBA3Z0IgVxRQRAQYDUACABIAVyNgIAIAAMAQsgACgCCAsiASACNgIMIAAgAjYCCCACIAA2AgwgAiABNgIIDAELQR8hASAFQf///wdNBEAgBUEmIAVBCHZnIgBrdkEBcSAAQQF0a0E+aiEBCyACIAE2AhwgAkIANwIQIAFBAnRBsNYAaiEAQQEgAXQiBCAIcUUEQCAAIAI2AgBBhNQAIAQgCHI2AgAgAiAANgIYIAIgAjYCCCACIAI2AgwMAQsgBUEZIAFBAXZrQQAgAUEfRxt0IQEgACgCACEEAkADQCAEIgAoAgRBeHEgBUYNASABQR12IQQgAUEBdCEBIAAgBEEEcWpBEGoiBigCACIEDQALIAYgAjYCACACIAA2AhggAiACNgIMIAIgAjYCCAwBCyAAKAIIIgEgAjYCDCAAIAI2AgggAkEANgIYIAIgADYCDCACIAE2AggLIANBCGohAQwBCwJAIAlFDQACQCAAKAIcIgFBAnRBsNYAaiICKAIAIABGBEAgAiADNgIAIAMNAUGE1AAgC0F+IAF3cTYCAAwCCyAJQRBBFCAJKAIQIABGG2ogAzYCACADRQ0BCyADIAk2AhggACgCECIBBEAgAyABNgIQIAEgAzYCGAsgAEEUaigCACIBRQ0AIANBFGogATYCACABIAM2AhgLAkAgBUEPTQRAIAAgBCAFaiIBQQNyNgIEIAAgAWoiASABKAIEQQFyNgIEDAELIAAgBGoiByAFQQFyNgIEIAAgBEEDcjYCBCAFIAdqIAU2AgAgCARAIAhBeHFBqNQAaiEBQZTUACgCACEDAn9BASAIQQN2dCICIAZxRQRAQYDUACACIAZyNgIAIAEMAQsgASgCCAsiAiADNgIMIAEgAzYCCCADIAE2AgwgAyACNgIIC0GU1AAgBzYCAEGI1AAgBTYCAAsgAEEIaiEBCyAKQRBqJAAgAQtDACAARQRAPwBBEHQPCwJAIABB//8DcQ0AIABBAEgNACAAQRB2QAAiAEF/RgRAQfDXAEEwNgIAQX8PCyAAQRB0DwsACwvbQCIAQYAICwkBAAAAAgAAAAMAQZQICwUEAAAABQBBpAgLCQYAAAAHAAAACABB3AgLgjFJbnZhbGlkIGNoYXIgaW4gdXJsIHF1ZXJ5AFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fYm9keQBDb250ZW50LUxlbmd0aCBvdmVyZmxvdwBDaHVuayBzaXplIG92ZXJmbG93AEludmFsaWQgbWV0aG9kIGZvciBIVFRQL3gueCByZXF1ZXN0AEludmFsaWQgbWV0aG9kIGZvciBSVFNQL3gueCByZXF1ZXN0AEV4cGVjdGVkIFNPVVJDRSBtZXRob2QgZm9yIElDRS94LnggcmVxdWVzdABJbnZhbGlkIGNoYXIgaW4gdXJsIGZyYWdtZW50IHN0YXJ0AEV4cGVjdGVkIGRvdABTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX3N0YXR1cwBJbnZhbGlkIHJlc3BvbnNlIHN0YXR1cwBFeHBlY3RlZCBMRiBhZnRlciBoZWFkZXJzAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMAVXNlciBjYWxsYmFjayBlcnJvcgBgb25fcmVzZXRgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19oZWFkZXJgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXNzYWdlX2JlZ2luYCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfZXh0ZW5zaW9uX3ZhbHVlYCBjYWxsYmFjayBlcnJvcgBgb25fc3RhdHVzX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fdmVyc2lvbl9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3VybF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21ldGhvZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lYCBjYWxsYmFjayBlcnJvcgBVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNlcnZlcgBJbnZhbGlkIGhlYWRlciB2YWx1ZSBjaGFyAEludmFsaWQgaGVhZGVyIGZpZWxkIGNoYXIAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl92ZXJzaW9uAEludmFsaWQgbWlub3IgdmVyc2lvbgBJbnZhbGlkIG1ham9yIHZlcnNpb24ARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgdmVyc2lvbgBFeHBlY3RlZCBDUkxGIGFmdGVyIHZlcnNpb24ASW52YWxpZCBIVFRQIHZlcnNpb24ASW52YWxpZCBoZWFkZXIgdG9rZW4AU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl91cmwASW52YWxpZCBjaGFyYWN0ZXJzIGluIHVybABVbmV4cGVjdGVkIHN0YXJ0IGNoYXIgaW4gdXJsAERvdWJsZSBAIGluIHVybABFbXB0eSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXJhY3RlciBpbiBDb250ZW50LUxlbmd0aABUcmFuc2Zlci1FbmNvZGluZyBjYW4ndCBiZSBwcmVzZW50IHdpdGggQ29udGVudC1MZW5ndGgARHVwbGljYXRlIENvbnRlbnQtTGVuZ3RoAEludmFsaWQgY2hhciBpbiB1cmwgcGF0aABDb250ZW50LUxlbmd0aCBjYW4ndCBiZSBwcmVzZW50IHdpdGggVHJhbnNmZXItRW5jb2RpbmcATWlzc2luZyBleHBlY3RlZCBDUiBhZnRlciBjaHVuayBzaXplAEV4cGVjdGVkIExGIGFmdGVyIGNodW5rIHNpemUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgc2l6ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2hlYWRlcl92YWx1ZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgQ1IgYWZ0ZXIgaGVhZGVyIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgTEYgYWZ0ZXIgaGVhZGVyIHZhbHVlAEludmFsaWQgYFRyYW5zZmVyLUVuY29kaW5nYCBoZWFkZXIgdmFsdWUATWlzc2luZyBleHBlY3RlZCBDUiBhZnRlciBjaHVuayBleHRlbnNpb24gdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBxdW90ZSB2YWx1ZQBJbnZhbGlkIHF1b3RlZC1wYWlyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGVkIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGVkIHZhbHVlAFBhdXNlZCBieSBvbl9oZWFkZXJzX2NvbXBsZXRlAEludmFsaWQgRU9GIHN0YXRlAG9uX3Jlc2V0IHBhdXNlAG9uX2NodW5rX2hlYWRlciBwYXVzZQBvbl9tZXNzYWdlX2JlZ2luIHBhdXNlAG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZSBwYXVzZQBvbl9zdGF0dXNfY29tcGxldGUgcGF1c2UAb25fdmVyc2lvbl9jb21wbGV0ZSBwYXVzZQBvbl91cmxfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfY29tcGxldGUgcGF1c2UAb25faGVhZGVyX3ZhbHVlX2NvbXBsZXRlIHBhdXNlAG9uX21lc3NhZ2VfY29tcGxldGUgcGF1c2UAb25fbWV0aG9kX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl9maWVsZF9jb21wbGV0ZSBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fbmFtZSBwYXVzZQBVbmV4cGVjdGVkIHNwYWNlIGFmdGVyIHN0YXJ0IGxpbmUATWlzc2luZyBleHBlY3RlZCBDUiBhZnRlciByZXNwb25zZSBsaW5lAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyBuYW1lAE1pc3NpbmcgZXhwZWN0ZWQgQ1IgYWZ0ZXIgY2h1bmsgZXh0ZW5zaW9uIG5hbWUASW52YWxpZCBzdGF0dXMgY29kZQBQYXVzZSBvbiBDT05ORUNUL1VwZ3JhZGUAUGF1c2Ugb24gUFJJL1VwZ3JhZGUARXhwZWN0ZWQgSFRUUC8yIENvbm5lY3Rpb24gUHJlZmFjZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX21ldGhvZABFeHBlY3RlZCBzcGFjZSBhZnRlciBtZXRob2QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfZmllbGQAUGF1c2VkAEludmFsaWQgd29yZCBlbmNvdW50ZXJlZABJbnZhbGlkIG1ldGhvZCBlbmNvdW50ZXJlZABNaXNzaW5nIGV4cGVjdGVkIENSIGFmdGVyIGNodW5rIGRhdGEARXhwZWN0ZWQgTEYgYWZ0ZXIgY2h1bmsgZGF0YQBVbmV4cGVjdGVkIGNoYXIgaW4gdXJsIHNjaGVtYQBSZXF1ZXN0IGhhcyBpbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AARGF0YSBhZnRlciBgQ29ubmVjdGlvbjogY2xvc2VgAFNXSVRDSF9QUk9YWQBVU0VfUFJPWFkATUtBQ1RJVklUWQBVTlBST0NFU1NBQkxFX0VOVElUWQBRVUVSWQBDT1BZAE1PVkVEX1BFUk1BTkVOVExZAFRPT19FQVJMWQBOT1RJRlkARkFJTEVEX0RFUEVOREVOQ1kAQkFEX0dBVEVXQVkAUExBWQBQVVQAQ0hFQ0tPVVQAR0FURVdBWV9USU1FT1VUAFJFUVVFU1RfVElNRU9VVABORVRXT1JLX0NPTk5FQ1RfVElNRU9VVABDT05ORUNUSU9OX1RJTUVPVVQATE9HSU5fVElNRU9VVABORVRXT1JLX1JFQURfVElNRU9VVABQT1NUAE1JU0RJUkVDVEVEX1JFUVVFU1QAQ0xJRU5UX0NMT1NFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfTE9BRF9CQUxBTkNFRF9SRVFVRVNUAEJBRF9SRVFVRVNUAEhUVFBfUkVRVUVTVF9TRU5UX1RPX0hUVFBTX1BPUlQAUkVQT1JUAElNX0FfVEVBUE9UAFJFU0VUX0NPTlRFTlQATk9fQ09OVEVOVABQQVJUSUFMX0NPTlRFTlQASFBFX0lOVkFMSURfQ09OU1RBTlQASFBFX0NCX1JFU0VUAEdFVABIUEVfU1RSSUNUAENPTkZMSUNUAFRFTVBPUkFSWV9SRURJUkVDVABQRVJNQU5FTlRfUkVESVJFQ1QAQ09OTkVDVABNVUxUSV9TVEFUVVMASFBFX0lOVkFMSURfU1RBVFVTAFRPT19NQU5ZX1JFUVVFU1RTAEVBUkxZX0hJTlRTAFVOQVZBSUxBQkxFX0ZPUl9MRUdBTF9SRUFTT05TAE9QVElPTlMAU1dJVENISU5HX1BST1RPQ09MUwBWQVJJQU5UX0FMU09fTkVHT1RJQVRFUwBNVUxUSVBMRV9DSE9JQ0VTAElOVEVSTkFMX1NFUlZFUl9FUlJPUgBXRUJfU0VSVkVSX1VOS05PV05fRVJST1IAUkFJTEdVTl9FUlJPUgBJREVOVElUWV9QUk9WSURFUl9BVVRIRU5USUNBVElPTl9FUlJPUgBTU0xfQ0VSVElGSUNBVEVfRVJST1IASU5WQUxJRF9YX0ZPUldBUkRFRF9GT1IAU0VUX1BBUkFNRVRFUgBHRVRfUEFSQU1FVEVSAEhQRV9VU0VSAFNFRV9PVEhFUgBIUEVfQ0JfQ0hVTktfSEVBREVSAEV4cGVjdGVkIExGIGFmdGVyIENSAE1LQ0FMRU5EQVIAU0VUVVAAV0VCX1NFUlZFUl9JU19ET1dOAFRFQVJET1dOAEhQRV9DTE9TRURfQ09OTkVDVElPTgBIRVVSSVNUSUNfRVhQSVJBVElPTgBESVNDT05ORUNURURfT1BFUkFUSU9OAE5PTl9BVVRIT1JJVEFUSVZFX0lORk9STUFUSU9OAEhQRV9JTlZBTElEX1ZFUlNJT04ASFBFX0NCX01FU1NBR0VfQkVHSU4AU0lURV9JU19GUk9aRU4ASFBFX0lOVkFMSURfSEVBREVSX1RPS0VOAElOVkFMSURfVE9LRU4ARk9SQklEREVOAEVOSEFOQ0VfWU9VUl9DQUxNAEhQRV9JTlZBTElEX1VSTABCTE9DS0VEX0JZX1BBUkVOVEFMX0NPTlRST0wATUtDT0wAQUNMAEhQRV9JTlRFUk5BTABSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFX1VOT0ZGSUNJQUwASFBFX09LAFVOTElOSwBVTkxPQ0sAUFJJAFJFVFJZX1dJVEgASFBFX0lOVkFMSURfQ09OVEVOVF9MRU5HVEgASFBFX1VORVhQRUNURURfQ09OVEVOVF9MRU5HVEgARkxVU0gAUFJPUFBBVENIAE0tU0VBUkNIAFVSSV9UT09fTE9ORwBQUk9DRVNTSU5HAE1JU0NFTExBTkVPVVNfUEVSU0lTVEVOVF9XQVJOSU5HAE1JU0NFTExBTkVPVVNfV0FSTklORwBIUEVfSU5WQUxJRF9UUkFOU0ZFUl9FTkNPRElORwBFeHBlY3RlZCBDUkxGAEhQRV9JTlZBTElEX0NIVU5LX1NJWkUATU9WRQBDT05USU5VRQBIUEVfQ0JfU1RBVFVTX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJTX0NPTVBMRVRFAEhQRV9DQl9WRVJTSU9OX0NPTVBMRVRFAEhQRV9DQl9VUkxfQ09NUExFVEUASFBFX0NCX0NIVU5LX0NPTVBMRVRFAEhQRV9DQl9IRUFERVJfVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9WQUxVRV9DT01QTEVURQBIUEVfQ0JfQ0hVTktfRVhURU5TSU9OX05BTUVfQ09NUExFVEUASFBFX0NCX01FU1NBR0VfQ09NUExFVEUASFBFX0NCX01FVEhPRF9DT01QTEVURQBIUEVfQ0JfSEVBREVSX0ZJRUxEX0NPTVBMRVRFAERFTEVURQBIUEVfSU5WQUxJRF9FT0ZfU1RBVEUASU5WQUxJRF9TU0xfQ0VSVElGSUNBVEUAUEFVU0UATk9fUkVTUE9OU0UAVU5TVVBQT1JURURfTUVESUFfVFlQRQBHT05FAE5PVF9BQ0NFUFRBQkxFAFNFUlZJQ0VfVU5BVkFJTEFCTEUAUkFOR0VfTk9UX1NBVElTRklBQkxFAE9SSUdJTl9JU19VTlJFQUNIQUJMRQBSRVNQT05TRV9JU19TVEFMRQBQVVJHRQBNRVJHRQBSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFAFJFUVVFU1RfSEVBREVSX1RPT19MQVJHRQBQQVlMT0FEX1RPT19MQVJHRQBJTlNVRkZJQ0lFTlRfU1RPUkFHRQBIUEVfUEFVU0VEX1VQR1JBREUASFBFX1BBVVNFRF9IMl9VUEdSQURFAFNPVVJDRQBBTk5PVU5DRQBUUkFDRQBIUEVfVU5FWFBFQ1RFRF9TUEFDRQBERVNDUklCRQBVTlNVQlNDUklCRQBSRUNPUkQASFBFX0lOVkFMSURfTUVUSE9EAE5PVF9GT1VORABQUk9QRklORABVTkJJTkQAUkVCSU5EAFVOQVVUSE9SSVpFRABNRVRIT0RfTk9UX0FMTE9XRUQASFRUUF9WRVJTSU9OX05PVF9TVVBQT1JURUQAQUxSRUFEWV9SRVBPUlRFRABBQ0NFUFRFRABOT1RfSU1QTEVNRU5URUQATE9PUF9ERVRFQ1RFRABIUEVfQ1JfRVhQRUNURUQASFBFX0xGX0VYUEVDVEVEAENSRUFURUQASU1fVVNFRABIUEVfUEFVU0VEAFRJTUVPVVRfT0NDVVJFRABQQVlNRU5UX1JFUVVJUkVEAFBSRUNPTkRJVElPTl9SRVFVSVJFRABQUk9YWV9BVVRIRU5USUNBVElPTl9SRVFVSVJFRABORVRXT1JLX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEAExFTkdUSF9SRVFVSVJFRABTU0xfQ0VSVElGSUNBVEVfUkVRVUlSRUQAVVBHUkFERV9SRVFVSVJFRABQQUdFX0VYUElSRUQAUFJFQ09ORElUSU9OX0ZBSUxFRABFWFBFQ1RBVElPTl9GQUlMRUQAUkVWQUxJREFUSU9OX0ZBSUxFRABTU0xfSEFORFNIQUtFX0ZBSUxFRABMT0NLRUQAVFJBTlNGT1JNQVRJT05fQVBQTElFRABOT1RfTU9ESUZJRUQATk9UX0VYVEVOREVEAEJBTkRXSURUSF9MSU1JVF9FWENFRURFRABTSVRFX0lTX09WRVJMT0FERUQASEVBRABFeHBlY3RlZCBIVFRQLwAAUhUAABoVAAAPEgAA5BkAAJEVAAAJFAAALRkAAOQUAADpEQAAaRQAAKEUAAB2FQAAQxYAAF4SAACUFwAAFxYAAH0UAAB/FgAAQRcAALMTAADDFgAABBoAAL0YAADQGAAAoBMAANQZAACvFgAAaBYAAHAXAADZFgAA/BgAAP4RAABZFwAAlxYAABwXAAD2FgAAjRcAAAsSAAB/GwAALhEAALMQAABJEgAArRIAAPYYAABoEAAAYhUAABAVAABaFgAAShkAALUVAADBFQAAYBUAAFwZAABaGQAAUxkAABYVAACtEQAAQhAAALcQAABXGAAAvxUAAIkQAAAcGQAAGhkAALkVAABRGAAA3BMAAFsVAABZFQAA5hgAAGcVAAARGQAA7RgAAOcTAACuEAAAwhcAAAAUAACSEwAAhBMAAEASAAAmGQAArxUAAGIQAEHpOQsBAQBBgDoL4AEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQBB6jsLBAEAAAIAQYE8C14DBAMDAwMDAAADAwADAwADAwMDAwMDAwMDAAUAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAwADAEHqPQsEAQAAAgBBgT4LXgMAAwMDAwMAAAMDAAMDAAMDAwMDAwMDAwMABAAFAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwADAAMAQeA/Cw1sb3NlZWVwLWFsaXZlAEH5PwsBAQBBkMAAC+ABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQfnBAAsBAQBBkMIAC+cBAQEBAQEBAQEBAQEBAgEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQFjaHVua2VkAEGhxAALXgEAAQEBAQEAAAEBAAEBAAEBAQEBAQEBAQEAAAAAAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAAABAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQABAAEAQYDGAAshZWN0aW9uZW50LWxlbmd0aG9ucm94eS1jb25uZWN0aW9uAEGwxgALK3JhbnNmZXItZW5jb2RpbmdwZ3JhZGUNCg0KU00NCg0KVFRQL0NFL1RTUC8AQenGAAsFAQIAAQMAQYDHAAtfBAUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUAQenIAAsFAQIAAQMAQYDJAAtfBAUFBgUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUAQenKAAsEAQAAAQBBgcsAC14CAgACAgICAgICAgICAgICAgICAgICAgICAgICAgIAAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAEHpzAALBQECAAEDAEGAzQALXwQFAAAFBQUFBQUFBQUFBQYFBQUFBQUFBQUFBQUABQAHCAUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQAFAAUABQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUAAAAFAEHpzgALBQEBAAEBAEGAzwALAQEAQZrPAAtBAgAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQenQAAsFAQEAAQEAQYDRAAsBAQBBitEACwYCAAAAAAIAQaHRAAs6AwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwBB4NIAC5oBTk9VTkNFRUNLT1VUTkVDVEVURUNSSUJFTFVTSEVURUFEU0VBUkNIUkdFQ1RJVklUWUxFTkRBUlZFT1RJRllQVElPTlNDSFNFQVlTVEFUQ0hHRVVFUllPUkRJUkVDVE9SVFJDSFBBUkFNRVRFUlVSQ0VCU0NSSUJFQVJET1dOQUNFSU5ETktDS1VCU0NSSUJFSFRUUC9BRFRQLw==","base64")}})});var m7Q=m((Ij0,h7Q)=>{var{Buffer:$7B}=a("node:buffer"),B7A;Object.defineProperty(h7Q,"exports",{get:()=>{return B7A?B7A:B7A=$7B.from("AGFzbQEAAAABJwdgAX8Bf2ADf39/AX9gAn9/AGABfwBgBH9/f38Bf2AAAGADf39/AALLAQgDZW52GHdhc21fb25faGVhZGVyc19jb21wbGV0ZQAEA2VudhV3YXNtX29uX21lc3NhZ2VfYmVnaW4AAANlbnYLd2FzbV9vbl91cmwAAQNlbnYOd2FzbV9vbl9zdGF0dXMAAQNlbnYUd2FzbV9vbl9oZWFkZXJfZmllbGQAAQNlbnYUd2FzbV9vbl9oZWFkZXJfdmFsdWUAAQNlbnYMd2FzbV9vbl9ib2R5AAEDZW52GHdhc21fb25fbWVzc2FnZV9jb21wbGV0ZQAAAzQzBQYAAAMAAAAAAAADAQMAAwMDAAACAAAAAAICAgICAgICAgIBAQEBAQEBAQEDAAADAAAABAUBcAESEgUDAQACBggBfwFBgNgECwfFBygGbWVtb3J5AgALX2luaXRpYWxpemUACBlfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlAQALbGxodHRwX2luaXQACRhsbGh0dHBfc2hvdWxkX2tlZXBfYWxpdmUANgxsbGh0dHBfYWxsb2MACwZtYWxsb2MAOAtsbGh0dHBfZnJlZQAMBGZyZWUADA9sbGh0dHBfZ2V0X3R5cGUADRVsbGh0dHBfZ2V0X2h0dHBfbWFqb3IADhVsbGh0dHBfZ2V0X2h0dHBfbWlub3IADxFsbGh0dHBfZ2V0X21ldGhvZAAQFmxsaHR0cF9nZXRfc3RhdHVzX2NvZGUAERJsbGh0dHBfZ2V0X3VwZ3JhZGUAEgxsbGh0dHBfcmVzZXQAEw5sbGh0dHBfZXhlY3V0ZQAUFGxsaHR0cF9zZXR0aW5nc19pbml0ABUNbGxodHRwX2ZpbmlzaAAWDGxsaHR0cF9wYXVzZQAXDWxsaHR0cF9yZXN1bWUAGBtsbGh0dHBfcmVzdW1lX2FmdGVyX3VwZ3JhZGUAGRBsbGh0dHBfZ2V0X2Vycm5vABoXbGxodHRwX2dldF9lcnJvcl9yZWFzb24AGxdsbGh0dHBfc2V0X2Vycm9yX3JlYXNvbgAcFGxsaHR0cF9nZXRfZXJyb3JfcG9zAB0RbGxodHRwX2Vycm5vX25hbWUAHhJsbGh0dHBfbWV0aG9kX25hbWUAHxJsbGh0dHBfc3RhdHVzX25hbWUAIBpsbGh0dHBfc2V0X2xlbmllbnRfaGVhZGVycwAhIWxsaHR0cF9zZXRfbGVuaWVudF9jaHVua2VkX2xlbmd0aAAiHWxsaHR0cF9zZXRfbGVuaWVudF9rZWVwX2FsaXZlACMkbGxodHRwX3NldF9sZW5pZW50X3RyYW5zZmVyX2VuY29kaW5nACQabGxodHRwX3NldF9sZW5pZW50X3ZlcnNpb24AJSNsbGh0dHBfc2V0X2xlbmllbnRfZGF0YV9hZnRlcl9jbG9zZQAmJ2xsaHR0cF9zZXRfbGVuaWVudF9vcHRpb25hbF9sZl9hZnRlcl9jcgAnLGxsaHR0cF9zZXRfbGVuaWVudF9vcHRpb25hbF9jcmxmX2FmdGVyX2NodW5rACgobGxodHRwX3NldF9sZW5pZW50X29wdGlvbmFsX2NyX2JlZm9yZV9sZgApKmxsaHR0cF9zZXRfbGVuaWVudF9zcGFjZXNfYWZ0ZXJfY2h1bmtfc2l6ZQAqGGxsaHR0cF9tZXNzYWdlX25lZWRzX2VvZgA1CRcBAEEBCxEBAgMEBQoGBzEzMi0uLCsvMArYywIzFgBB/NMAKAIABEAAC0H80wBBATYCAAsUACAAEDcgACACNgI4IAAgAToAKAsUACAAIAAvATQgAC0AMCAAEDYQAAseAQF/QcAAEDkiARA3IAFBgAg2AjggASAAOgAoIAELjwwBB38CQCAARQ0AIABBCGsiASAAQQRrKAIAIgBBeHEiBGohBQJAIABBAXENACAAQQNxRQ0BIAEgASgCACIAayIBQZDUACgCAEkNASAAIARqIQQCQAJAQZTUACgCACABRwRAIABB/wFNBEAgAEEDdiEDIAEoAggiACABKAIMIgJGBEBBgNQAQYDUACgCAEF+IAN3cTYCAAwFCyACIAA2AgggACACNgIMDAQLIAEoAhghBiABIAEoAgwiAEcEQCAAIAEoAggiAjYCCCACIAA2AgwMAwsgAUEUaiIDKAIAIgJFBEAgASgCECICRQ0CIAFBEGohAwsDQCADIQcgAiIAQRRqIgMoAgAiAg0AIABBEGohAyAAKAIQIgINAAsgB0EANgIADAILIAUoAgQiAEEDcUEDRw0CIAUgAEF+cTYCBEGI1AAgBDYCACAFIAQ2AgAgASAEQQFyNgIEDAMLQQAhAAsgBkUNAAJAIAEoAhwiAkECdEGw1gBqIgMoAgAgAUYEQCADIAA2AgAgAA0BQYTUAEGE1AAoAgBBfiACd3E2AgAMAgsgBkEQQRQgBigCECABRhtqIAA2AgAgAEUNAQsgACAGNgIYIAEoAhAiAgRAIAAgAjYCECACIAA2AhgLIAFBFGooAgAiAkUNACAAQRRqIAI2AgAgAiAANgIYCyABIAVPDQAgBSgCBCIAQQFxRQ0AAkACQAJAAkAgAEECcUUEQEGY1AAoAgAgBUYEQEGY1AAgATYCAEGM1ABBjNQAKAIAIARqIgA2AgAgASAAQQFyNgIEIAFBlNQAKAIARw0GQYjUAEEANgIAQZTUAEEANgIADAYLQZTUACgCACAFRgRAQZTUACABNgIAQYjUAEGI1AAoAgAgBGoiADYCACABIABBAXI2AgQgACABaiAANgIADAYLIABBeHEgBGohBCAAQf8BTQRAIABBA3YhAyAFKAIIIgAgBSgCDCICRgRAQYDUAEGA1AAoAgBBfiADd3E2AgAMBQsgAiAANgIIIAAgAjYCDAwECyAFKAIYIQYgBSAFKAIMIgBHBEBBkNQAKAIAGiAAIAUoAggiAjYCCCACIAA2AgwMAwsgBUEUaiIDKAIAIgJFBEAgBSgCECICRQ0CIAVBEGohAwsDQCADIQcgAiIAQRRqIgMoAgAiAg0AIABBEGohAyAAKAIQIgINAAsgB0EANgIADAILIAUgAEF+cTYCBCABIARqIAQ2AgAgASAEQQFyNgIEDAMLQQAhAAsgBkUNAAJAIAUoAhwiAkECdEGw1gBqIgMoAgAgBUYEQCADIAA2AgAgAA0BQYTUAEGE1AAoAgBBfiACd3E2AgAMAgsgBkEQQRQgBigCECAFRhtqIAA2AgAgAEUNAQsgACAGNgIYIAUoAhAiAgRAIAAgAjYCECACIAA2AhgLIAVBFGooAgAiAkUNACAAQRRqIAI2AgAgAiAANgIYCyABIARqIAQ2AgAgASAEQQFyNgIEIAFBlNQAKAIARw0AQYjUACAENgIADAELIARB/wFNBEAgBEF4cUGo1ABqIQACf0GA1AAoAgAiAkEBIARBA3Z0IgNxRQRAQYDUACACIANyNgIAIAAMAQsgACgCCAsiAiABNgIMIAAgATYCCCABIAA2AgwgASACNgIIDAELQR8hAiAEQf///wdNBEAgBEEmIARBCHZnIgBrdkEBcSAAQQF0a0E+aiECCyABIAI2AhwgAUIANwIQIAJBAnRBsNYAaiEAAkBBhNQAKAIAIgNBASACdCIHcUUEQCAAIAE2AgBBhNQAIAMgB3I2AgAgASAANgIYIAEgATYCCCABIAE2AgwMAQsgBEEZIAJBAXZrQQAgAkEfRxt0IQIgACgCACEAAkADQCAAIgMoAgRBeHEgBEYNASACQR12IQAgAkEBdCECIAMgAEEEcWpBEGoiBygCACIADQALIAcgATYCACABIAM2AhggASABNgIMIAEgATYCCAwBCyADKAIIIgAgATYCDCADIAE2AgggAUEANgIYIAEgAzYCDCABIAA2AggLQaDUAEGg1AAoAgBBAWsiAEF/IAAbNgIACwsHACAALQAoCwcAIAAtACoLBwAgAC0AKwsHACAALQApCwcAIAAvATQLBwAgAC0AMAtAAQR/IAAoAhghASAALwEuIQIgAC0AKCEDIAAoAjghBCAAEDcgACAENgI4IAAgAzoAKCAAIAI7AS4gACABNgIYC8X4AQIHfwN+IAEgAmohBAJAIAAiAygCDCIADQAgAygCBARAIAMgATYCBAsjAEEQayIJJAACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAygCHCICQQFrDuwB7gEB6AECAwQFBgcICQoLDA0ODxAREucBE+YBFBXlARYX5AEYGRobHB0eHyDvAe0BIeMBIiMkJSYnKCkqK+IBLC0uLzAxMuEB4AEzNN8B3gE1Njc4OTo7PD0+P0BBQkNERUZHSElKS0xNTk/pAVBRUlPdAdwBVNsBVdoBVldYWVpbXF1eX2BhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ent8fX5/gAGBAYIBgwGEAYUBhgGHAYgBiQGKAYsBjAGNAY4BjwGQAZEBkgGTAZQBlQGWAZcBmAGZAZoBmwGcAZ0BngGfAaABoQGiAaMBpAGlAaYBpwGoAakBqgGrAawBrQGuAa8BsAGxAbIBswG0AbUBtgG3AbgBuQG6AbsBvAG9Ab4BvwHAAcEBwgHDAcQBxQHZAdgBxgHXAccB1gHIAckBygHLAcwBzQHOAc8B0AHRAdIB0wHUAQDqAQtBAAzUAQtBDgzTAQtBDQzSAQtBDwzRAQtBEAzQAQtBEQzPAQtBEgzOAQtBEwzNAQtBFAzMAQtBFQzLAQtBFgzKAQtBFwzJAQtBGAzIAQtBGQzHAQtBGgzGAQtBGwzFAQtBHAzEAQtBHQzDAQtBHgzCAQtBHwzBAQtBCAzAAQtBIAy/AQtBIgy+AQtBIQy9AQtBBwy8AQtBIwy7AQtBJAy6AQtBJQy5AQtBJgy4AQtBJwy3AQtBzgEMtgELQSgMtQELQSkMtAELQSoMswELQSsMsgELQc8BDLEBC0EtDLABC0EuDK8BC0EvDK4BC0EwDK0BC0ExDKwBC0EyDKsBC0EzDKoBC0HQAQypAQtBNAyoAQtBOAynAQtBDAymAQtBNQylAQtBNgykAQtBNwyjAQtBPQyiAQtBOQyhAQtB0QEMoAELQQsMnwELQT4MngELQToMnQELQQoMnAELQTsMmwELQTwMmgELQdIBDJkBC0HAAAyYAQtBPwyXAQtBwQAMlgELQQkMlQELQSwMlAELQcIADJMBC0HDAAySAQtBxAAMkQELQcUADJABC0HGAAyPAQtBxwAMjgELQcgADI0BC0HJAAyMAQtBygAMiwELQcsADIoBC0HMAAyJAQtBzQAMiAELQc4ADIcBC0HPAAyGAQtB0AAMhQELQdEADIQBC0HSAAyDAQtB1AAMggELQdMADIEBC0HVAAyAAQtB1gAMfwtB1wAMfgtB2AAMfQtB2QAMfAtB2gAMewtB2wAMegtB0wEMeQtB3AAMeAtB3QAMdwtBBgx2C0HeAAx1C0EFDHQLQd8ADHMLQQQMcgtB4AAMcQtB4QAMcAtB4gAMbwtB4wAMbgtBAwxtC0HkAAxsC0HlAAxrC0HmAAxqC0HoAAxpC0HnAAxoC0HpAAxnC0HqAAxmC0HrAAxlC0HsAAxkC0ECDGMLQe0ADGILQe4ADGELQe8ADGALQfAADF8LQfEADF4LQfIADF0LQfMADFwLQfQADFsLQfUADFoLQfYADFkLQfcADFgLQfgADFcLQfkADFYLQfoADFULQfsADFQLQfwADFMLQf0ADFILQf4ADFELQf8ADFALQYABDE8LQYEBDE4LQYIBDE0LQYMBDEwLQYQBDEsLQYUBDEoLQYYBDEkLQYcBDEgLQYgBDEcLQYkBDEYLQYoBDEULQYsBDEQLQYwBDEMLQY0BDEILQY4BDEELQY8BDEALQZABDD8LQZEBDD4LQZIBDD0LQZMBDDwLQZQBDDsLQZUBDDoLQZYBDDkLQZcBDDgLQZgBDDcLQZkBDDYLQZoBDDULQZsBDDQLQZwBDDMLQZ0BDDILQZ4BDDELQZ8BDDALQaABDC8LQaEBDC4LQaIBDC0LQaMBDCwLQaQBDCsLQaUBDCoLQaYBDCkLQacBDCgLQagBDCcLQakBDCYLQaoBDCULQasBDCQLQawBDCMLQa0BDCILQa4BDCELQa8BDCALQbABDB8LQbEBDB4LQbIBDB0LQbMBDBwLQbQBDBsLQbUBDBoLQbYBDBkLQbcBDBgLQbgBDBcLQQEMFgtBuQEMFQtBugEMFAtBuwEMEwtBvAEMEgtBvQEMEQtBvgEMEAtBvwEMDwtBwAEMDgtBwQEMDQtBwgEMDAtBwwEMCwtBxAEMCgtBxQEMCQtBxgEMCAtB1AEMBwtBxwEMBgtByAEMBQtByQEMBAtBygEMAwtBywEMAgtBzQEMAQtBzAELIQIDQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAMCfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAn8CQAJAAkACQAJAAkACQAJ/AkACQAJAAn8CQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAMCfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCACDtQBAAECAwQFBgcICQoLDA0ODxARFBUWFxgZGhscHR4fICEjJCUnKCmIA4cDhQOEA/wC9QLuAusC6ALmAuMC4ALfAt0C2wLWAtUC1ALTAtICygLJAsgCxwLGAsUCxALDAr0CvAK6ArkCuAK3ArYCtQK0ArICsQKsAqoCqAKnAqYCpQKkAqMCogKhAqACnwKbApoCmQKYApcCkAKIAoQCgwKCAvkB9gH1AfQB8wHyAfEB8AHvAe0B6wHoAeMB4QHgAd8B3gHdAdwB2wHaAdkB2AHXAdYB1QHUAdIB0QHQAc8BzgHNAcwBywHKAckByAHHAcYBxQHEAcMBwgHBAcABvwG+Ab0BvAG7AboBuQG4AbcBtgG1AbQBswGyAbEBsAGvAa4BrQGsAasBqgGpAagBpwGmAaUBpAGjAaIBoQGgAZ8BngGdAZwBmwGaAZcBlgGRAZABjwGOAY0BjAGLAYoBiQGIAYUBhAGDAX59fHt6d3Z1LFFSU1RVVgsgASAERw1zQewBIQIMqQMLIAEgBEcNkAFB0QEhAgyoAwsgASAERw3pAUGEASECDKcDCyABIARHDfQBQfoAIQIMpgMLIAEgBEcNggJB9QAhAgylAwsgASAERw2JAkHzACECDKQDCyABIARHDYwCQfEAIQIMowMLIAEgBEcNHkEeIQIMogMLIAEgBEcNGUEYIQIMoQMLIAEgBEcNuAJBzQAhAgygAwsgASAERw3DAkHGACECDJ8DCyABIARHDcQCQcMAIQIMngMLIAEgBEcNygJBOCECDJ0DCyADLQAwQQFGDZUDDPICC0EAIQACQAJAAkAgAy0AKkUNACADLQArRQ0AIAMvATIiAkECcUUNAQwCCyADLwEyIgJBAXFFDQELQQEhACADLQAoQQFGDQAgAy8BNCIGQeQAa0HkAEkNACAGQcwBRg0AIAZBsAJGDQAgAkHAAHENAEEAIQAgAkGIBHFBgARGDQAgAkEocUEARyEACyADQQA7ATIgA0EAOgAxAkAgAEUEQCADQQA6ADEgAy0ALkEEcQ0BDJwDCyADQgA3AyALIANBADoAMSADQQE6ADYMSQtBACEAAkAgAygCOCICRQ0AIAIoAiwiAkUNACADIAIRAAAhAAsgAEUNSSAAQRVHDWMgA0EENgIcIAMgATYCFCADQb0aNgIQIANBFTYCDEEAIQIMmgMLIAEgBEYEQEEGIQIMmgMLIAEtAABBCkYNGQwBCyABIARGBEBBByECDJkDCwJAIAEtAABBCmsOBAIBAQABCyABQQFqIQFBECECDP4CCyADLQAuQYABcQ0YQQAhAiADQQA2AhwgAyABNgIUIANBqR82AhAgA0ECNgIMDJcDCyABQQFqIQEgA0Evai0AAEEBcQ0XQQAhAiADQQA2AhwgAyABNgIUIANBhB82AhAgA0EZNgIMDJYDCyADIAMpAyAiDCAEIAFrrSIKfSILQgAgCyAMWBs3AyAgCiAMWg0ZQQghAgyVAwsgASAERwRAIANBCTYCCCADIAE2AgRBEiECDPsCC0EJIQIMlAMLIAMpAyBQDZwCDEQLIAEgBEYEQEELIQIMkwMLIAEtAABBCkcNFyABQQFqIQEMGAsgA0Evai0AAEEBcUUNGgwnC0EAIQACQCADKAI4IgJFDQAgAigCSCICRQ0AIAMgAhEAACEACyAADRoMQwtBACEAAkAgAygCOCICRQ0AIAIoAkgiAkUNACADIAIRAAAhAAsgAA0bDCULQQAhAAJAIAMoAjgiAkUNACACKAJIIgJFDQAgAyACEQAAIQALIAANHAwzCyADQS9qLQAAQQFxRQ0dDCMLQQAhAAJAIAMoAjgiAkUNACACKAJMIgJFDQAgAyACEQAAIQALIAANHQxDC0EAIQACQCADKAI4IgJFDQAgAigCTCICRQ0AIAMgAhEAACEACyAADR4MIQsgASAERgRAQRMhAgyLAwsCQCABLQAAIgBBCmsOBCAkJAAjCyABQQFqIQEMIAtBACEAAkAgAygCOCICRQ0AIAIoAkwiAkUNACADIAIRAAAhAAsgAA0jDEMLIAEgBEYEQEEWIQIMiQMLIAEtAABB8D9qLQAAQQFHDSQM7QILAkADQCABLQAAQeA5ai0AACIAQQFHBEACQCAAQQJrDgIDACgLIAFBAWohAUEfIQIM8AILIAQgAUEBaiIBRw0AC0EYIQIMiAMLIAMoAgQhAEEAIQIgA0EANgIEIAMgACABQQFqIgEQMyIADSIMQgtBACEAAkAgAygCOCICRQ0AIAIoAkwiAkUNACADIAIRAAAhAAsgAA0kDCsLIAEgBEYEQEEcIQIMhgMLIANBCjYCCCADIAE2AgRBACEAAkAgAygCOCICRQ0AIAIoAkgiAkUNACADIAIRAAAhAAsgAA0mQSIhAgzrAgsgASAERwRAA0AgAS0AAEHgO2otAAAiAEEDRwRAIABBAWsOBRkbJ+wCJicLIAQgAUEBaiIBRw0AC0EbIQIMhQMLQRshAgyEAwsDQCABLQAAQeA9ai0AACIAQQNHBEAgAEEBaw4FEBIoFCcoCyAEIAFBAWoiAUcNAAtBHiECDIMDCyABIARHBEAgA0ELNgIIIAMgATYCBEEHIQIM6QILQR8hAgyCAwsgASAERgRAQSAhAgyCAwsCQCABLQAAQQ1rDhQvQEBAQEBAQEBAQEBAQEBAQEBAAEALQQAhAiADQQA2AhwgA0G3CzYCECADQQI2AgwgAyABQQFqNgIUDIEDCyADQS9qIQIDQCABIARGBEBBISECDIIDCwJAAkACQCABLQAAIgBBCWsOGAIAKioBKioqKioqKioqKioqKioqKioqAigLIAFBAWohASADQS9qLQAAQQFxRQ0LDBkLIAFBAWohAQwYCyABQQFqIQEgAi0AAEECcQ0AC0EAIQIgA0EANgIcIAMgATYCFCADQc4UNgIQIANBDDYCDAyAAwsgAUEBaiEBC0EAIQACQCADKAI4IgJFDQAgAigCVCICRQ0AIAMgAhEAACEACyAADQEM0QILIANCADcDIAw8CyAAQRVGBEAgA0EkNgIcIAMgATYCFCADQYYaNgIQIANBFTYCDEEAIQIM/QILQQAhAiADQQA2AhwgAyABNgIUIANB4g02AhAgA0EUNgIMDPwCCyADKAIEIQBBACECIANBADYCBCADIAAgASAMp2oiARAxIgBFDSsgA0EHNgIcIAMgATYCFCADIAA2AgwM+wILIAMtAC5BwABxRQ0BC0EAIQACQCADKAI4IgJFDQAgAigCUCICRQ0AIAMgAhEAACEACyAARQ0rIABBFUYEQCADQQo2AhwgAyABNgIUIANB8Rg2AhAgA0EVNgIMQQAhAgz6AgtBACECIANBADYCHCADIAE2AhQgA0GLDDYCECADQRM2AgwM+QILQQAhAiADQQA2AhwgAyABNgIUIANBsRQ2AhAgA0ECNgIMDPgCC0EAIQIgA0EANgIcIAMgATYCFCADQYwUNgIQIANBGTYCDAz3AgtBACECIANBADYCHCADIAE2AhQgA0HRHDYCECADQRk2AgwM9gILIABBFUYNPUEAIQIgA0EANgIcIAMgATYCFCADQaIPNgIQIANBIjYCDAz1AgsgAygCBCEAQQAhAiADQQA2AgQgAyAAIAEQMiIARQ0oIANBDTYCHCADIAE2AhQgAyAANgIMDPQCCyAAQRVGDTpBACECIANBADYCHCADIAE2AhQgA0GiDzYCECADQSI2AgwM8wILIAMoAgQhAEEAIQIgA0EANgIEIAMgACABEDIiAEUEQCABQQFqIQEMKAsgA0EONgIcIAMgADYCDCADIAFBAWo2AhQM8gILIABBFUYNN0EAIQIgA0EANgIcIAMgATYCFCADQaIPNgIQIANBIjYCDAzxAgsgAygCBCEAQQAhAiADQQA2AgQgAyAAIAEQMiIARQRAIAFBAWohAQwnCyADQQ82AhwgAyAANgIMIAMgAUEBajYCFAzwAgtBACECIANBADYCHCADIAE2AhQgA0HoFjYCECADQRk2AgwM7wILIABBFUYNM0EAIQIgA0EANgIcIAMgATYCFCADQc4MNgIQIANBIzYCDAzuAgsgAygCBCEAQQAhAiADQQA2AgQgAyAAIAEQMyIARQ0lIANBETYCHCADIAE2AhQgAyAANgIMDO0CCyAAQRVGDTBBACECIANBADYCHCADIAE2AhQgA0HODDYCECADQSM2AgwM7AILIAMoAgQhAEEAIQIgA0EANgIEIAMgACABEDMiAEUEQCABQQFqIQEMJQsgA0ESNgIcIAMgADYCDCADIAFBAWo2AhQM6wILIANBL2otAABBAXFFDQELQRUhAgzPAgtBACECIANBADYCHCADIAE2AhQgA0HoFjYCECADQRk2AgwM6AILIABBO0cNACABQQFqIQEMDAtBACECIANBADYCHCADIAE2AhQgA0GYFzYCECADQQI2AgwM5gILIABBFUYNKEEAIQIgA0EANgIcIAMgATYCFCADQc4MNgIQIANBIzYCDAzlAgsgA0EUNgIcIAMgATYCFCADIAA2AgwM5AILIAMoAgQhAEEAIQIgA0EANgIEIAMgACABEDMiAEUEQCABQQFqIQEM3AILIANBFTYCHCADIAA2AgwgAyABQQFqNgIUDOMCCyADKAIEIQBBACECIANBADYCBCADIAAgARAzIgBFBEAgAUEBaiEBDNoCCyADQRc2AhwgAyAANgIMIAMgAUEBajYCFAziAgsgAEEVRg0jQQAhAiADQQA2AhwgAyABNgIUIANBzgw2AhAgA0EjNgIMDOECCyADKAIEIQBBACECIANBADYCBCADIAAgARAzIgBFBEAgAUEBaiEBDB0LIANBGTYCHCADIAA2AgwgAyABQQFqNgIUDOACCyADKAIEIQBBACECIANBADYCBCADIAAgARAzIgBFBEAgAUEBaiEBDNYCCyADQRo2AhwgAyAANgIMIAMgAUEBajYCFAzfAgsgAEEVRg0fQQAhAiADQQA2AhwgAyABNgIUIANBog82AhAgA0EiNgIMDN4CCyADKAIEIQBBACECIANBADYCBCADIAAgARAyIgBFBEAgAUEBaiEBDBsLIANBHDYCHCADIAA2AgwgAyABQQFqNgIUDN0CCyADKAIEIQBBACECIANBADYCBCADIAAgARAyIgBFBEAgAUEBaiEBDNICCyADQR02AhwgAyAANgIMIAMgAUEBajYCFAzcAgsgAEE7Rw0BIAFBAWohAQtBJCECDMACC0EAIQIgA0EANgIcIAMgATYCFCADQc4UNgIQIANBDDYCDAzZAgsgASAERwRAA0AgAS0AAEEgRw3xASAEIAFBAWoiAUcNAAtBLCECDNkCC0EsIQIM2AILIAEgBEYEQEE0IQIM2AILAkACQANAAkAgAS0AAEEKaw4EAgAAAwALIAQgAUEBaiIBRw0AC0E0IQIM2QILIAMoAgQhACADQQA2AgQgAyAAIAEQMCIARQ2MAiADQTI2AhwgAyABNgIUIAMgADYCDEEAIQIM2AILIAMoAgQhACADQQA2AgQgAyAAIAEQMCIARQRAIAFBAWohAQyMAgsgA0EyNgIcIAMgADYCDCADIAFBAWo2AhRBACECDNcCCyABIARHBEACQANAIAEtAABBMGsiAEH/AXFBCk8EQEE5IQIMwAILIAMpAyAiC0KZs+bMmbPmzBlWDQEgAyALQgp+Igo3AyAgCiAArUL/AYMiC0J/hVYNASADIAogC3w3AyAgBCABQQFqIgFHDQALQcAAIQIM2AILIAMoAgQhACADQQA2AgQgAyAAIAFBAWoiARAwIgANFwzJAgtBwAAhAgzWAgsgASAERgRAQckAIQIM1gILAkADQAJAIAEtAABBCWsOGAACjwKPApMCjwKPAo8CjwKPAo8CjwKPAo8CjwKPAo8CjwKPAo8CjwKPAo8CAI8CCyAEIAFBAWoiAUcNAAtByQAhAgzWAgsgAUEBaiEBIANBL2otAABBAXENjwIgA0EANgIcIAMgATYCFCADQekPNgIQIANBCjYCDEEAIQIM1QILIAEgBEcEQANAIAEtAAAiAEEgRwRAAkACQAJAIABByABrDgsAAc0BzQHNAc0BzQHNAc0BzQECzQELIAFBAWohAUHZACECDL8CCyABQQFqIQFB2gAhAgy+AgsgAUEBaiEBQdsAIQIMvQILIAQgAUEBaiIBRw0AC0HuACECDNUCC0HuACECDNQCCyADQQI6ACgMMAtBACECIANBADYCHCADQbcLNgIQIANBAjYCDCADIAFBAWo2AhQM0gILQQAhAgy3AgtBDSECDLYCC0ERIQIMtQILQRMhAgy0AgtBFCECDLMCC0EWIQIMsgILQRchAgyxAgtBGCECDLACC0EZIQIMrwILQRohAgyuAgtBGyECDK0CC0EcIQIMrAILQR0hAgyrAgtBHiECDKoCC0EgIQIMqQILQSEhAgyoAgtBIyECDKcCC0EnIQIMpgILIANBPTYCHCADIAE2AhQgAyAANgIMQQAhAgy/AgsgA0EbNgIcIAMgATYCFCADQY8bNgIQIANBFTYCDEEAIQIMvgILIANBIDYCHCADIAE2AhQgA0GeGTYCECADQRU2AgxBACECDL0CCyADQRM2AhwgAyABNgIUIANBnhk2AhAgA0EVNgIMQQAhAgy8AgsgA0ELNgIcIAMgATYCFCADQZ4ZNgIQIANBFTYCDEEAIQIMuwILIANBEDYCHCADIAE2AhQgA0GeGTYCECADQRU2AgxBACECDLoCCyADQSA2AhwgAyABNgIUIANBjxs2AhAgA0EVNgIMQQAhAgy5AgsgA0ELNgIcIAMgATYCFCADQY8bNgIQIANBFTYCDEEAIQIMuAILIANBDDYCHCADIAE2AhQgA0GPGzYCECADQRU2AgxBACECDLcCC0EAIQIgA0EANgIcIAMgATYCFCADQa8ONgIQIANBEjYCDAy2AgsCQANAAkAgAS0AAEEKaw4EAAICAAILIAQgAUEBaiIBRw0AC0HsASECDLYCCwJAAkAgAy0ANkEBRw0AQQAhAAJAIAMoAjgiAkUNACACKAJYIgJFDQAgAyACEQAAIQALIABFDQAgAEEVRw0BIANB6wE2AhwgAyABNgIUIANB4hg2AhAgA0EVNgIMQQAhAgy3AgtBzAEhAgycAgsgA0EANgIcIAMgATYCFCADQfELNgIQIANBHzYCDEEAIQIMtQILAkACQCADLQAoQQFrDgIEAQALQcsBIQIMmwILQcQBIQIMmgILIANBAjoAMUEAIQACQCADKAI4IgJFDQAgAigCACICRQ0AIAMgAhEAACEACyAARQRAQc0BIQIMmgILIABBFUcEQCADQQA2AhwgAyABNgIUIANBrAw2AhAgA0EQNgIMQQAhAgy0AgsgA0HqATYCHCADIAE2AhQgA0GHGTYCECADQRU2AgxBACECDLMCCyABIARGBEBB6QEhAgyzAgsgAS0AAEHIAEYNASADQQE6ACgLQbYBIQIMlwILQcoBIQIMlgILIAEgBEcEQCADQQw2AgggAyABNgIEQckBIQIMlgILQegBIQIMrwILIAEgBEYEQEHnASECDK8CCyABLQAAQcgARw0EIAFBAWohAUHIASECDJQCCyABIARGBEBB5gEhAgyuAgsCQAJAIAEtAABBxQBrDhAABQUFBQUFBQUFBQUFBQUBBQsgAUEBaiEBQcYBIQIMlAILIAFBAWohAUHHASECDJMCC0HlASECIAEgBEYNrAIgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB99MAai0AAEcNAyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMrQILIAMoAgQhACADQgA3AwAgAyAAIAZBAWoiARAtIgBFBEBB1AEhAgyTAgsgA0HkATYCHCADIAE2AhQgAyAANgIMQQAhAgysAgtB4wEhAiABIARGDasCIAMoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQfXTAGotAABHDQIgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADKwCCyADQYEEOwEoIAMoAgQhACADQgA3AwAgAyAAIAZBAWoiARAtIgANAwwCCyADQQA2AgALQQAhAiADQQA2AhwgAyABNgIUIANB0B42AhAgA0EINgIMDKkCC0HFASECDI4CCyADQeIBNgIcIAMgATYCFCADIAA2AgxBACECDKcCC0EAIQACQCADKAI4IgJFDQAgAigCOCICRQ0AIAMgAhEAACEACyAARQ1lIABBFUcEQCADQQA2AhwgAyABNgIUIANB1A42AhAgA0EgNgIMQQAhAgynAgsgA0GFATYCHCADIAE2AhQgA0HXGjYCECADQRU2AgxBACECDKYCC0HhASECIAQgASIARg2lAiAEIAFrIAMoAgAiAWohBSAAIAFrQQRqIQYCQANAIAAtAAAgAUHw0wBqLQAARw0BIAFBBEYNAyABQQFqIQEgBCAAQQFqIgBHDQALIAMgBTYCAAymAgsgA0EANgIcIAMgADYCFCADQYQ3NgIQIANBCDYCDCADQQA2AgBBACECDKUCCyABIARHBEAgA0ENNgIIIAMgATYCBEHCASECDIsCC0HgASECDKQCCyADQQA2AgAgBkEBaiEBC0HDASECDIgCCyABIARGBEBB3wEhAgyiAgsgAS0AAEEwayIAQf8BcUEKSQRAIAMgADoAKiABQQFqIQFBwQEhAgyIAgsgAygCBCEAIANBADYCBCADIAAgARAuIgBFDYgCIANB3gE2AhwgAyABNgIUIAMgADYCDEEAIQIMoQILIAEgBEYEQEHdASECDKECCwJAIAEtAABBLkYEQCABQQFqIQEMAQsgAygCBCEAIANBADYCBCADIAAgARAuIgBFDYkCIANB3AE2AhwgAyABNgIUIAMgADYCDEEAIQIMoQILQcABIQIMhgILIAEgBEYEQEHbASECDKACC0EAIQBBASEFQQEhB0EAIQICQAJAAkACQAJAAn8CQAJAAkACQAJAAkACQCABLQAAQTBrDgoKCQABAgMEBQYICwtBAgwGC0EDDAULQQQMBAtBBQwDC0EGDAILQQcMAQtBCAshAkEAIQVBACEHDAILQQkhAkEBIQBBACEFQQAhBwwBC0EAIQVBASECCyADIAI6ACsgAUEBaiEBAkACQCADLQAuQRBxDQACQAJAAkAgAy0AKg4DAQACBAsgB0UNAwwCCyAADQEMAgsgBUUNAQsgAygCBCEAIANBADYCBCADIAAgARAuIgBFDQIgA0HYATYCHCADIAE2AhQgAyAANgIMQQAhAgyiAgsgAygCBCEAIANBADYCBCADIAAgARAuIgBFDYsCIANB2QE2AhwgAyABNgIUIAMgADYCDEEAIQIMoQILIAMoAgQhACADQQA2AgQgAyAAIAEQLiIARQ2JAiADQdoBNgIcIAMgATYCFCADIAA2AgwMoAILQb8BIQIMhQILQQAhAAJAIAMoAjgiAkUNACACKAI8IgJFDQAgAyACEQAAIQALAkAgAARAIABBFUYNASADQQA2AhwgAyABNgIUIANBnA02AhAgA0EhNgIMQQAhAgygAgtBvgEhAgyFAgsgA0HXATYCHCADIAE2AhQgA0HWGTYCECADQRU2AgxBACECDJ4CCyABIARGBEBB1wEhAgyeAgsCQCABLQAAQSBGBEAgA0EAOwE0IAFBAWohAQwBCyADQQA2AhwgAyABNgIUIANB6xA2AhAgA0EJNgIMQQAhAgyeAgtBvQEhAgyDAgsgASAERgRAQdYBIQIMnQILAkAgAS0AAEEwa0H/AXEiAkEKSQRAIAFBAWohAQJAIAMvATQiAEGZM0sNACADIABBCmwiADsBNCAAQf7/A3EgAkH//wNzSw0AIAMgACACajsBNAwCC0EAIQIgA0EANgIcIAMgATYCFCADQYAdNgIQIANBDTYCDAyeAgsgA0EANgIcIAMgATYCFCADQYAdNgIQIANBDTYCDEEAIQIMnQILQbwBIQIMggILIAEgBEYEQEHVASECDJwCCwJAIAEtAABBMGtB/wFxIgJBCkkEQCABQQFqIQECQCADLwE0IgBBmTNLDQAgAyAAQQpsIgA7ATQgAEH+/wNxIAJB//8Dc0sNACADIAAgAmo7ATQMAgtBACECIANBADYCHCADIAE2AhQgA0GAHTYCECADQQ02AgwMnQILIANBADYCHCADIAE2AhQgA0GAHTYCECADQQ02AgxBACECDJwCC0G7ASECDIECCyABIARGBEBB1AEhAgybAgsCQCABLQAAQTBrQf8BcSICQQpJBEAgAUEBaiEBAkAgAy8BNCIAQZkzSw0AIAMgAEEKbCIAOwE0IABB/v8DcSACQf//A3NLDQAgAyAAIAJqOwE0DAILQQAhAiADQQA2AhwgAyABNgIUIANBgB02AhAgA0ENNgIMDJwCCyADQQA2AhwgAyABNgIUIANBgB02AhAgA0ENNgIMQQAhAgybAgtBugEhAgyAAgsgASAERgRAQdMBIQIMmgILAkACQAJAAkAgAS0AAEEKaw4XAgMDAAMDAwMDAwMDAwMDAwMDAwMDAwEDCyABQQFqDAULIAFBAWohAUG5ASECDIECCyABQQFqIQEgA0Evai0AAEEBcQ0IIANBADYCHCADIAE2AhQgA0GFCzYCECADQQ02AgxBACECDJoCCyADQQA2AhwgAyABNgIUIANBhQs2AhAgA0ENNgIMQQAhAgyZAgsgASAERwRAIANBDjYCCCADIAE2AgRBASECDP8BC0HSASECDJgCCwJAAkADQAJAIAEtAABBCmsOBAIAAAMACyAEIAFBAWoiAUcNAAtB0QEhAgyZAgsgAygCBCEAIANBADYCBCADIAAgARAsIgBFBEAgAUEBaiEBDAQLIANB0AE2AhwgAyAANgIMIAMgAUEBajYCFEEAIQIMmAILIAMoAgQhACADQQA2AgQgAyAAIAEQLCIADQEgAUEBagshAUG3ASECDPwBCyADQc8BNgIcIAMgADYCDCADIAFBAWo2AhRBACECDJUCC0G4ASECDPoBCyADQS9qLQAAQQFxDQEgA0EANgIcIAMgATYCFCADQc8bNgIQIANBGTYCDEEAIQIMkwILIAEgBEYEQEHPASECDJMCCwJAAkACQCABLQAAQQprDgQBAgIAAgsgAUEBaiEBDAILIAFBAWohAQwBCyADLQAuQcAAcUUNAQtBACEAAkAgAygCOCICRQ0AIAIoAjQiAkUNACADIAIRAAAhAAsgAEUNlgEgAEEVRgRAIANB2QA2AhwgAyABNgIUIANBvRk2AhAgA0EVNgIMQQAhAgySAgsgA0EANgIcIAMgATYCFCADQfgMNgIQIANBGzYCDEEAIQIMkQILIANBADYCHCADIAE2AhQgA0HHJzYCECADQQI2AgxBACECDJACCyABIARHBEAgA0EMNgIIIAMgATYCBEG1ASECDPYBC0HOASECDI8CCyABIARGBEBBzQEhAgyPAgsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBwQBrDhUAAQIDWgQFBlpaWgcICQoLDA0ODxBaCyABQQFqIQFB8QAhAgyEAgsgAUEBaiEBQfIAIQIMgwILIAFBAWohAUH3ACECDIICCyABQQFqIQFB+wAhAgyBAgsgAUEBaiEBQfwAIQIMgAILIAFBAWohAUH/ACECDP8BCyABQQFqIQFBgAEhAgz+AQsgAUEBaiEBQYMBIQIM/QELIAFBAWohAUGMASECDPwBCyABQQFqIQFBjQEhAgz7AQsgAUEBaiEBQY4BIQIM+gELIAFBAWohAUGbASECDPkBCyABQQFqIQFBnAEhAgz4AQsgAUEBaiEBQaIBIQIM9wELIAFBAWohAUGqASECDPYBCyABQQFqIQFBrQEhAgz1AQsgAUEBaiEBQbQBIQIM9AELIAEgBEYEQEHMASECDI4CCyABLQAAQc4ARw1IIAFBAWohAUGzASECDPMBCyABIARGBEBBywEhAgyNAgsCQAJAAkAgAS0AAEHCAGsOEgBKSkpKSkpKSkoBSkpKSkpKAkoLIAFBAWohAUGuASECDPQBCyABQQFqIQFBsQEhAgzzAQsgAUEBaiEBQbIBIQIM8gELQcoBIQIgASAERg2LAiADKAIAIgAgBCABa2ohBSABIABrQQdqIQYCQANAIAEtAAAgAEHo0wBqLQAARw1FIABBB0YNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyMAgsgA0EANgIAIAZBAWohAUEbDEULIAEgBEYEQEHJASECDIsCCwJAAkAgAS0AAEHJAGsOBwBHR0dHRwFHCyABQQFqIQFBrwEhAgzxAQsgAUEBaiEBQbABIQIM8AELQcgBIQIgASAERg2JAiADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHm0wBqLQAARw1DIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyKAgsgA0EANgIAIAZBAWohAUEPDEMLQccBIQIgASAERg2IAiADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEHk0wBqLQAARw1CIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyJAgsgA0EANgIAIAZBAWohAUEgDEILQcYBIQIgASAERg2HAiADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHh0wBqLQAARw1BIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyIAgsgA0EANgIAIAZBAWohAUESDEELIAEgBEYEQEHFASECDIcCCwJAAkAgAS0AAEHFAGsODgBDQ0NDQ0NDQ0NDQ0MBQwsgAUEBaiEBQasBIQIM7QELIAFBAWohAUGsASECDOwBC0HEASECIAEgBEYNhQIgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB3tMAai0AAEcNPyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMhgILIANBADYCACAGQQFqIQFBBww/C0HDASECIAEgBEYNhAIgAygCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABB2NMAai0AAEcNPiAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMhQILIANBADYCACAGQQFqIQFBKAw+CyABIARGBEBBwgEhAgyEAgsCQAJAAkAgAS0AAEHFAGsOEQBBQUFBQUFBQUEBQUFBQUECQQsgAUEBaiEBQacBIQIM6wELIAFBAWohAUGoASECDOoBCyABQQFqIQFBqQEhAgzpAQtBwQEhAiABIARGDYICIAMoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAS0AACAAQdHTAGotAABHDTwgAEEGRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADIMCCyADQQA2AgAgBkEBaiEBQRoMPAtBwAEhAiABIARGDYECIAMoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQc3TAGotAABHDTsgAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADIICCyADQQA2AgAgBkEBaiEBQSEMOwsgASAERgRAQb8BIQIMgQILAkACQCABLQAAQcEAaw4UAD09PT09PT09PT09PT09PT09PQE9CyABQQFqIQFBowEhAgznAQsgAUEBaiEBQaYBIQIM5gELIAEgBEYEQEG+ASECDIACCwJAAkAgAS0AAEHVAGsOCwA8PDw8PDw8PDwBPAsgAUEBaiEBQaQBIQIM5gELIAFBAWohAUGlASECDOUBC0G9ASECIAEgBEYN/gEgAygCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABBxNMAai0AAEcNOCAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM/wELIANBADYCACAGQQFqIQFBKgw4CyABIARGBEBBvAEhAgz+AQsgAS0AAEHQAEcNOCABQQFqIQFBJQw3C0G7ASECIAEgBEYN/AEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBwdMAai0AAEcNNiAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM/QELIANBADYCACAGQQFqIQFBDgw2CyABIARGBEBBugEhAgz8AQsgAS0AAEHFAEcNNiABQQFqIQFBoQEhAgzhAQsgASAERgRAQbkBIQIM+wELAkACQAJAAkAgAS0AAEHCAGsODwABAjk5OTk5OTk5OTk5AzkLIAFBAWohAUGdASECDOMBCyABQQFqIQFBngEhAgziAQsgAUEBaiEBQZ8BIQIM4QELIAFBAWohAUGgASECDOABC0G4ASECIAEgBEYN+QEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBvtMAai0AAEcNMyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM+gELIANBADYCACAGQQFqIQFBFAwzC0G3ASECIAEgBEYN+AEgAygCACIAIAQgAWtqIQUgASAAa0EEaiEGAkADQCABLQAAIABBudMAai0AAEcNMiAAQQRGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM+QELIANBADYCACAGQQFqIQFBKwwyC0G2ASECIAEgBEYN9wEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBttMAai0AAEcNMSAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM+AELIANBADYCACAGQQFqIQFBLAwxC0G1ASECIAEgBEYN9gEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB4dMAai0AAEcNMCAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM9wELIANBADYCACAGQQFqIQFBEQwwC0G0ASECIAEgBEYN9QEgAygCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABBstMAai0AAEcNLyAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM9gELIANBADYCACAGQQFqIQFBLgwvCyABIARGBEBBswEhAgz1AQsCQAJAAkACQAJAIAEtAABBwQBrDhUANDQ0NDQ0NDQ0NAE0NAI0NAM0NAQ0CyABQQFqIQFBkQEhAgzeAQsgAUEBaiEBQZIBIQIM3QELIAFBAWohAUGTASECDNwBCyABQQFqIQFBmAEhAgzbAQsgAUEBaiEBQZoBIQIM2gELIAEgBEYEQEGyASECDPQBCwJAAkAgAS0AAEHSAGsOAwAwATALIAFBAWohAUGZASECDNoBCyABQQFqIQFBBAwtC0GxASECIAEgBEYN8gEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABBsNMAai0AAEcNLCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM8wELIANBADYCACAGQQFqIQFBHQwsCyABIARGBEBBsAEhAgzyAQsCQAJAIAEtAABByQBrDgcBLi4uLi4ALgsgAUEBaiEBQZcBIQIM2AELIAFBAWohAUEiDCsLIAEgBEYEQEGvASECDPEBCyABLQAAQdAARw0rIAFBAWohAUGWASECDNYBCyABIARGBEBBrgEhAgzwAQsCQAJAIAEtAABBxgBrDgsALCwsLCwsLCwsASwLIAFBAWohAUGUASECDNYBCyABQQFqIQFBlQEhAgzVAQtBrQEhAiABIARGDe4BIAMoAgAiACAEIAFraiEFIAEgAGtBA2ohBgJAA0AgAS0AACAAQazTAGotAABHDSggAEEDRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADO8BCyADQQA2AgAgBkEBaiEBQQ0MKAtBrAEhAiABIARGDe0BIAMoAgAiACAEIAFraiEFIAEgAGtBAmohBgJAA0AgAS0AACAAQeHTAGotAABHDScgAEECRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADO4BCyADQQA2AgAgBkEBaiEBQQwMJwtBqwEhAiABIARGDewBIAMoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQarTAGotAABHDSYgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADO0BCyADQQA2AgAgBkEBaiEBQQMMJgtBqgEhAiABIARGDesBIAMoAgAiACAEIAFraiEFIAEgAGtBAWohBgJAA0AgAS0AACAAQajTAGotAABHDSUgAEEBRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADOwBCyADQQA2AgAgBkEBaiEBQSYMJQsgASAERgRAQakBIQIM6wELAkACQCABLQAAQdQAaw4CAAEnCyABQQFqIQFBjwEhAgzRAQsgAUEBaiEBQZABIQIM0AELQagBIQIgASAERg3pASADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGm0wBqLQAARw0jIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzqAQsgA0EANgIAIAZBAWohAUEnDCMLQacBIQIgASAERg3oASADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGk0wBqLQAARw0iIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzpAQsgA0EANgIAIAZBAWohAUEcDCILQaYBIQIgASAERg3nASADKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEGe0wBqLQAARw0hIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzoAQsgA0EANgIAIAZBAWohAUEGDCELQaUBIQIgASAERg3mASADKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEGZ0wBqLQAARw0gIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAznAQsgA0EANgIAIAZBAWohAUEZDCALIAEgBEYEQEGkASECDOYBCwJAAkACQAJAIAEtAABBLWsOIwAkJCQkJCQkJCQkJCQkJCQkJCQkJCQkJAEkJCQkJAIkJCQDJAsgAUEBaiEBQYQBIQIMzgELIAFBAWohAUGFASECDM0BCyABQQFqIQFBigEhAgzMAQsgAUEBaiEBQYsBIQIMywELQaMBIQIgASAERg3kASADKAIAIgAgBCABa2ohBSABIABrQQFqIQYCQANAIAEtAAAgAEGX0wBqLQAARw0eIABBAUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzlAQsgA0EANgIAIAZBAWohAUELDB4LIAEgBEYEQEGiASECDOQBCwJAAkAgAS0AAEHBAGsOAwAgASALIAFBAWohAUGGASECDMoBCyABQQFqIQFBiQEhAgzJAQsgASAERgRAQaEBIQIM4wELAkACQCABLQAAQcEAaw4PAB8fHx8fHx8fHx8fHx8BHwsgAUEBaiEBQYcBIQIMyQELIAFBAWohAUGIASECDMgBCyABIARGBEBBoAEhAgziAQsgAS0AAEHMAEcNHCABQQFqIQFBCgwbC0GfASECIAEgBEYN4AEgAygCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBkdMAai0AAEcNGiAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM4QELIANBADYCACAGQQFqIQFBHgwaC0GeASECIAEgBEYN3wEgAygCACIAIAQgAWtqIQUgASAAa0EGaiEGAkADQCABLQAAIABBitMAai0AAEcNGSAAQQZGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM4AELIANBADYCACAGQQFqIQFBFQwZC0GdASECIAEgBEYN3gEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABBh9MAai0AAEcNGCAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM3wELIANBADYCACAGQQFqIQFBFwwYC0GcASECIAEgBEYN3QEgAygCACIAIAQgAWtqIQUgASAAa0EFaiEGAkADQCABLQAAIABBgdMAai0AAEcNFyAAQQVGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM3gELIANBADYCACAGQQFqIQFBGAwXCyABIARGBEBBmwEhAgzdAQsCQAJAIAEtAABByQBrDgcAGRkZGRkBGQsgAUEBaiEBQYEBIQIMwwELIAFBAWohAUGCASECDMIBC0GaASECIAEgBEYN2wEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB5tMAai0AAEcNFSAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM3AELIANBADYCACAGQQFqIQFBCQwVC0GZASECIAEgBEYN2gEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGAkADQCABLQAAIABB5NMAai0AAEcNFCAAQQFGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM2wELIANBADYCACAGQQFqIQFBHwwUC0GYASECIAEgBEYN2QEgAygCACIAIAQgAWtqIQUgASAAa0ECaiEGAkADQCABLQAAIABB/tIAai0AAEcNEyAAQQJGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM2gELIANBADYCACAGQQFqIQFBAgwTC0GXASECIAEgBEYN2AEgAygCACIAIAQgAWtqIQUgASAAa0EBaiEGA0AgAS0AACAAQfzSAGotAABHDREgAEEBRg0CIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADNgBCyABIARGBEBBlgEhAgzYAQtBASABLQAAQd8ARw0RGiABQQFqIQFB/QAhAgy9AQsgA0EANgIAIAZBAWohAUH+ACECDLwBC0GVASECIAEgBEYN1QEgAygCACIAIAQgAWtqIQUgASAAa0EIaiEGAkADQCABLQAAIABBxNMAai0AAEcNDyAAQQhGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM1gELIANBADYCACAGQQFqIQFBKQwPC0GUASECIAEgBEYN1AEgAygCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABB+NIAai0AAEcNDiAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAM1QELIANBADYCACAGQQFqIQFBLQwOCyABIARGBEBBkwEhAgzUAQsgAS0AAEHFAEcNDiABQQFqIQFB+gAhAgy5AQsgASAERgRAQZIBIQIM0wELAkACQCABLQAAQcwAaw4IAA8PDw8PDwEPCyABQQFqIQFB+AAhAgy5AQsgAUEBaiEBQfkAIQIMuAELQZEBIQIgASAERg3RASADKAIAIgAgBCABa2ohBSABIABrQQRqIQYCQANAIAEtAAAgAEHz0gBqLQAARw0LIABBBEYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzSAQsgA0EANgIAIAZBAWohAUEjDAsLQZABIQIgASAERg3QASADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHw0gBqLQAARw0KIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzRAQsgA0EANgIAIAZBAWohAUEADAoLIAEgBEYEQEGPASECDNABCwJAAkAgAS0AAEHIAGsOCAAMDAwMDAwBDAsgAUEBaiEBQfMAIQIMtgELIAFBAWohAUH2ACECDLUBCyABIARGBEBBjgEhAgzPAQsCQAJAIAEtAABBzgBrDgMACwELCyABQQFqIQFB9AAhAgy1AQsgAUEBaiEBQfUAIQIMtAELIAEgBEYEQEGNASECDM4BCyABLQAAQdkARw0IIAFBAWohAUEIDAcLQYwBIQIgASAERg3MASADKAIAIgAgBCABa2ohBSABIABrQQNqIQYCQANAIAEtAAAgAEHs0gBqLQAARw0GIABBA0YNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzNAQsgA0EANgIAIAZBAWohAUEFDAYLQYsBIQIgASAERg3LASADKAIAIgAgBCABa2ohBSABIABrQQVqIQYCQANAIAEtAAAgAEHm0gBqLQAARw0FIABBBUYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzMAQsgA0EANgIAIAZBAWohAUEWDAULQYoBIQIgASAERg3KASADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHh0wBqLQAARw0EIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAzLAQsgA0EANgIAIAZBAWohAUEQDAQLIAEgBEYEQEGJASECDMoBCwJAAkAgAS0AAEHDAGsODAAGBgYGBgYGBgYGAQYLIAFBAWohAUHvACECDLABCyABQQFqIQFB8AAhAgyvAQtBiAEhAiABIARGDcgBIAMoAgAiACAEIAFraiEFIAEgAGtBBWohBgJAA0AgAS0AACAAQeDSAGotAABHDQIgAEEFRg0BIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADMkBCyADQQA2AgAgBkEBaiEBQSQMAgsgA0EANgIADAILIAEgBEYEQEGHASECDMcBCyABLQAAQcwARw0BIAFBAWohAUETCzoAKSADKAIEIQAgA0EANgIEIAMgACABEC0iAA0CDAELQQAhAiADQQA2AhwgAyABNgIUIANB6R42AhAgA0EGNgIMDMQBC0HuACECDKkBCyADQYYBNgIcIAMgATYCFCADIAA2AgxBACECDMIBC0EAIQACQCADKAI4IgJFDQAgAigCOCICRQ0AIAMgAhEAACEACyAARQ0AIABBFUYNASADQQA2AhwgAyABNgIUIANB1A42AhAgA0EgNgIMQQAhAgzBAQtB7QAhAgymAQsgA0GFATYCHCADIAE2AhQgA0HXGjYCECADQRU2AgxBACECDL8BCyABIARGBEBBhQEhAgy/AQsCQCABLQAAQSBGBEAgAUEBaiEBDAELIANBADYCHCADIAE2AhQgA0GGHjYCECADQQY2AgxBACECDL8BC0ECIQIMpAELA0AgAS0AAEEgRw0CIAQgAUEBaiIBRw0AC0GEASECDL0BCyABIARGBEBBgwEhAgy9AQsCQCABLQAAQQlrDgRAAABAAAtB6wAhAgyiAQsgAy0AKUEFRgRAQewAIQIMogELQeoAIQIMoQELIAEgBEYEQEGCASECDLsBCyADQQ82AgggAyABNgIEDAoLIAEgBEYEQEGBASECDLoBCwJAIAEtAABBCWsOBD0AAD0AC0HpACECDJ8BCyABIARHBEAgA0EPNgIIIAMgATYCBEHnACECDJ8BC0GAASECDLgBCwJAIAEgBEcEQANAIAEtAABB4M4Aai0AACIAQQNHBEACQCAAQQFrDgI/AAQLQeYAIQIMoQELIAQgAUEBaiIBRw0AC0H+ACECDLkBC0H+ACECDLgBCyADQQA2AhwgAyABNgIUIANBxh82AhAgA0EHNgIMQQAhAgy3AQsgASAERgRAQf8AIQIMtwELAkACQAJAIAEtAABB4NAAai0AAEEBaw4DPAIAAQtB6AAhAgyeAQsgA0EANgIcIAMgATYCFCADQYYSNgIQIANBBzYCDEEAIQIMtwELQeAAIQIMnAELIAEgBEcEQCABQQFqIQFB5QAhAgycAQtB/QAhAgy1AQsgBCABIgBGBEBB/AAhAgy1AQsgAC0AACIBQS9GBEAgAEEBaiEBQeQAIQIMmwELIAFBCWsiAkEXSw0BIAAhAUEBIAJ0QZuAgARxDTcMAQsgBCABIgBGBEBB+wAhAgy0AQsgAC0AAEEvRw0AIABBAWohAQwDC0EAIQIgA0EANgIcIAMgADYCFCADQcYfNgIQIANBBzYCDAyyAQsCQAJAAkACQAJAA0AgAS0AAEHgzABqLQAAIgBBBUcEQAJAAkAgAEEBaw4IPQUGBwgABAEIC0HhACECDJ8BCyABQQFqIQFB4wAhAgyeAQsgBCABQQFqIgFHDQALQfoAIQIMtgELIAFBAWoMFAsgAygCBCEAIANBADYCBCADIAAgARArIgBFDR4gA0HbADYCHCADIAE2AhQgAyAANgIMQQAhAgy0AQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDR4gA0HdADYCHCADIAE2AhQgAyAANgIMQQAhAgyzAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDR4gA0HwADYCHCADIAE2AhQgAyAANgIMQQAhAgyyAQsgA0EANgIcIAMgATYCFCADQcsPNgIQIANBBzYCDEEAIQIMsQELIAEgBEYEQEH5ACECDLEBCwJAIAEtAABB4MwAai0AAEEBaw4INAQFBgAIAgMHCyABQQFqIQELQQMhAgyVAQsgAUEBagwNC0EAIQIgA0EANgIcIANBoxI2AhAgA0EHNgIMIAMgAUEBajYCFAytAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDRYgA0HbADYCHCADIAE2AhQgAyAANgIMQQAhAgysAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDRYgA0HdADYCHCADIAE2AhQgAyAANgIMQQAhAgyrAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDRYgA0HwADYCHCADIAE2AhQgAyAANgIMQQAhAgyqAQsgA0EANgIcIAMgATYCFCADQcsPNgIQIANBBzYCDEEAIQIMqQELQeIAIQIMjgELIAEgBEYEQEH4ACECDKgBCyABQQFqDAILIAEgBEYEQEH3ACECDKcBCyABQQFqDAELIAEgBEYNASABQQFqCyEBQQQhAgyKAQtB9gAhAgyjAQsDQCABLQAAQeDKAGotAAAiAEECRwRAIABBAUcEQEHfACECDIsBCwwnCyAEIAFBAWoiAUcNAAtB9QAhAgyiAQsgASAERgRAQfQAIQIMogELAkAgAS0AAEEJaw43JQMGJQQGBgYGBgYGBgYGBgYGBgYGBgYFBgYCBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGAAYLIAFBAWoLIQFBBSECDIYBCyABQQFqDAYLIAMoAgQhACADQQA2AgQgAyAAIAEQKyIARQ0IIANB2wA2AhwgAyABNgIUIAMgADYCDEEAIQIMngELIAMoAgQhACADQQA2AgQgAyAAIAEQKyIARQ0IIANB3QA2AhwgAyABNgIUIAMgADYCDEEAIQIMnQELIAMoAgQhACADQQA2AgQgAyAAIAEQKyIARQ0IIANB8AA2AhwgAyABNgIUIAMgADYCDEEAIQIMnAELIANBADYCHCADIAE2AhQgA0G8EzYCECADQQc2AgxBACECDJsBCwJAAkACQAJAA0AgAS0AAEHgyABqLQAAIgBBBUcEQAJAIABBAWsOBiQDBAUGAAYLQd4AIQIMhgELIAQgAUEBaiIBRw0AC0HzACECDJ4BCyADKAIEIQAgA0EANgIEIAMgACABECsiAEUNByADQdsANgIcIAMgATYCFCADIAA2AgxBACECDJ0BCyADKAIEIQAgA0EANgIEIAMgACABECsiAEUNByADQd0ANgIcIAMgATYCFCADIAA2AgxBACECDJwBCyADKAIEIQAgA0EANgIEIAMgACABECsiAEUNByADQfAANgIcIAMgATYCFCADIAA2AgxBACECDJsBCyADQQA2AhwgAyABNgIUIANB3Ag2AhAgA0EHNgIMQQAhAgyaAQsgASAERg0BIAFBAWoLIQFBBiECDH4LQfIAIQIMlwELAkACQAJAAkADQCABLQAAQeDGAGotAAAiAEEFRwRAIABBAWsOBB8CAwQFCyAEIAFBAWoiAUcNAAtB8QAhAgyaAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDQMgA0HbADYCHCADIAE2AhQgAyAANgIMQQAhAgyZAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDQMgA0HdADYCHCADIAE2AhQgAyAANgIMQQAhAgyYAQsgAygCBCEAIANBADYCBCADIAAgARArIgBFDQMgA0HwADYCHCADIAE2AhQgAyAANgIMQQAhAgyXAQsgA0EANgIcIAMgATYCFCADQbQKNgIQIANBBzYCDEEAIQIMlgELQc4AIQIMewtB0AAhAgx6C0HdACECDHkLIAEgBEYEQEHwACECDJMBCwJAIAEtAABBCWsOBBYAABYACyABQQFqIQFB3AAhAgx4CyABIARGBEBB7wAhAgySAQsCQCABLQAAQQlrDgQVAAAVAAtBACEAAkAgAygCOCICRQ0AIAIoAjAiAkUNACADIAIRAAAhAAsgAEUEQEHTASECDHgLIABBFUcEQCADQQA2AhwgAyABNgIUIANBwQ02AhAgA0EaNgIMQQAhAgySAQsgA0HuADYCHCADIAE2AhQgA0HwGTYCECADQRU2AgxBACECDJEBC0HtACECIAEgBEYNkAEgAygCACIAIAQgAWtqIQUgASAAa0EDaiEGAkADQCABLQAAIABB18YAai0AAEcNBCAAQQNGDQEgAEEBaiEAIAQgAUEBaiIBRw0ACyADIAU2AgAMkQELIANBADYCACAGQQFqIQEgAy0AKSIAQSNrQQtJDQQCQCAAQQZLDQBBASAAdEHKAHFFDQAMBQtBACECIANBADYCHCADIAE2AhQgA0HlCTYCECADQQg2AgwMkAELQewAIQIgASAERg2PASADKAIAIgAgBCABa2ohBSABIABrQQJqIQYCQANAIAEtAAAgAEHUxgBqLQAARw0DIABBAkYNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyQAQsgA0EANgIAIAZBAWohASADLQApQSFGDQMgA0EANgIcIAMgATYCFCADQYkKNgIQIANBCDYCDEEAIQIMjwELQesAIQIgASAERg2OASADKAIAIgAgBCABa2ohBSABIABrQQNqIQYCQANAIAEtAAAgAEHQxgBqLQAARw0CIABBA0YNASAAQQFqIQAgBCABQQFqIgFHDQALIAMgBTYCAAyPAQsgA0EANgIAIAZBAWohASADLQApIgBBI0kNAiAAQS5GDQIgA0EANgIcIAMgATYCFCADQcEJNgIQIANBCDYCDEEAIQIMjgELIANBADYCAAtBACECIANBADYCHCADIAE2AhQgA0GENzYCECADQQg2AgwMjAELQdgAIQIMcQsgASAERwRAIANBDTYCCCADIAE2AgRB1wAhAgxxC0HqACECDIoBCyABIARGBEBB6QAhAgyKAQsgAS0AAEEwayIAQf8BcUEKSQRAIAMgADoAKiABQQFqIQFB1gAhAgxwCyADKAIEIQAgA0EANgIEIAMgACABEC4iAEUNdCADQegANgIcIAMgATYCFCADIAA2AgxBACECDIkBCyABIARGBEBB5wAhAgyJAQsCQCABLQAAQS5GBEAgAUEBaiEBDAELIAMoAgQhACADQQA2AgQgAyAAIAEQLiIARQ11IANB5gA2AhwgAyABNgIUIAMgADYCDEEAIQIMiQELQdUAIQIMbgsgASAERgRAQeUAIQIMiAELQQAhAEEBIQVBASEHQQAhAgJAAkACQAJAAkACfwJAAkACQAJAAkACQAJAIAEtAABBMGsOCgoJAAECAwQFBggLC0ECDAYLQQMMBQtBBAwEC0EFDAMLQQYMAgtBBwwBC0EICyECQQAhBUEAIQcMAgtBCSECQQEhAEEAIQVBACEHDAELQQAhBUEBIQILIAMgAjoAKyABQQFqIQECQAJAIAMtAC5BEHENAAJAAkACQCADLQAqDgMBAAIECyAHRQ0DDAILIAANAQwCCyAFRQ0BCyADKAIEIQAgA0EANgIEIAMgACABEC4iAEUNAiADQeIANgIcIAMgATYCFCADIAA2AgxBACECDIoBCyADKAIEIQAgA0EANgIEIAMgACABEC4iAEUNdyADQeMANgIcIAMgATYCFCADIAA2AgxBACECDIkBCyADKAIEIQAgA0EANgIEIAMgACABEC4iAEUNdSADQeQANgIcIAMgATYCFCADIAA2AgwMiAELQdMAIQIMbQsgAy0AKUEiRg2AAUHSACECDGwLQQAhAAJAIAMoAjgiAkUNACACKAI8IgJFDQAgAyACEQAAIQALIABFBEBB1AAhAgxsCyAAQRVHBEAgA0EANgIcIAMgATYCFCADQZwNNgIQIANBITYCDEEAIQIMhgELIANB4QA2AhwgAyABNgIUIANB1hk2AhAgA0EVNgIMQQAhAgyFAQsgASAERgRAQeAAIQIMhQELAkACQAJAAkACQCABLQAAQQprDgQBBAQABAsgAUEBaiEBDAELIAFBAWohASADQS9qLQAAQQFxRQ0BC0HRACECDGwLIANBADYCHCADIAE2AhQgA0GIETYCECADQQk2AgxBACECDIUBCyADQQA2AhwgAyABNgIUIANBiBE2AhAgA0EJNgIMQQAhAgyEAQsgASAERgRAQd8AIQIMhAELIAEtAABBCkYEQCABQQFqIQEMCQsgAy0ALkHAAHENCCADQQA2AhwgAyABNgIUIANBiBE2AhAgA0ECNgIMQQAhAgyDAQsgASAERgRAQd0AIQIMgwELIAEtAAAiAkENRgRAIAFBAWohAUHPACECDGkLIAEhACACQQlrDgQFAQEFAQsgBCABIgBGBEBB3AAhAgyCAQsgAC0AAEEKRw0AIABBAWoMAgtBACECIANBADYCHCADIAA2AhQgA0G1LDYCECADQQc2AgwMgAELIAEgBEYEQEHbACECDIABCwJAIAEtAABBCWsOBAMAAAMACyABQQFqCyEBQc0AIQIMZAsgASAERgRAQdoAIQIMfgsgAS0AAEEJaw4EAAEBAAELQQAhAiADQQA2AhwgA0HsETYCECADQQc2AgwgAyABQQFqNgIUDHwLIANBgBI7ASpBACEAAkAgAygCOCICRQ0AIAIoAjAiAkUNACADIAIRAAAhAAsgAEUNACAAQRVHDQEgA0HZADYCHCADIAE2AhQgA0HwGTYCECADQRU2AgxBACECDHsLQcwAIQIMYAsgA0EANgIcIAMgATYCFCADQcENNgIQIANBGjYCDEEAIQIMeQsgASAERgRAQdkAIQIMeQsgAS0AAEEgRw06IAFBAWohASADLQAuQQFxDTogA0EANgIcIAMgATYCFCADQa0bNgIQIANBHjYCDEEAIQIMeAsgASAERgRAQdgAIQIMeAsCQAJAAkACQAJAIAEtAAAiAEEKaw4EAgMDAAELIAFBAWohAUErIQIMYQsgAEE6Rw0BIANBADYCHCADIAE2AhQgA0G5ETYCECADQQo2AgxBACECDHoLIAFBAWohASADQS9qLQAAQQFxRQ1tIAMtADJBgAFxRQRAIANBMmohAiADEDRBACEAAkAgAygCOCIGRQ0AIAYoAiQiBkUNACADIAYRAAAhAAsCQAJAIAAOFkpJSAEBAQEBAQEBAQEBAQEBAQEBAQABCyADQSk2AhwgAyABNgIUIANBshg2AhAgA0EVNgIMQQAhAgx7CyADQQA2AhwgAyABNgIUIANB3Qs2AhAgA0ERNgIMQQAhAgx6C0EAIQACQCADKAI4IgJFDQAgAigCVCICRQ0AIAMgAhEAACEACyAARQ1VIABBFUcNASADQQU2AhwgAyABNgIUIANBhho2AhAgA0EVNgIMQQAhAgx5C0HKACECDF4LQQAhAiADQQA2AhwgAyABNgIUIANB4g02AhAgA0EUNgIMDHcLIAMgAy8BMkGAAXI7ATIMOAsgASAERwRAIANBEDYCCCADIAE2AgRByQAhAgxcC0HXACECDHULIAEgBEYEQEHWACECDHULAkACQAJAAkAgAS0AACIAQSByIAAgAEHBAGtB/wFxQRpJG0H/AXFB4wBrDhMAPT09PT09PT09PT09AT09PQIDPQsgAUEBaiEBQcUAIQIMXQsgAUEBaiEBQcYAIQIMXAsgAUEBaiEBQccAIQIMWwsgAUEBaiEBQcgAIQIMWgtB1QAhAiAEIAEiAEYNcyAEIAFrIAMoAgAiAWohBiAAIAFrQQVqIQcDQCABQcDGAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQhBBCABQQVGDQoaIAFBAWohASAEIABBAWoiAEcNAAsgAyAGNgIADHMLQdQAIQIgBCABIgBGDXIgBCABayADKAIAIgFqIQYgACABa0EPaiEHA0AgAUGwxgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0HQQMgAUEPRg0JGiABQQFqIQEgBCAAQQFqIgBHDQALIAMgBjYCAAxyC0HTACECIAQgASIARg1xIAQgAWsgAygCACIBaiEGIAAgAWtBDmohBwNAIAFBksYAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNBiABQQ5GDQcgAUEBaiEBIAQgAEEBaiIARw0ACyADIAY2AgAMcQtB0gAhAiAEIAEiAEYNcCAEIAFrIAMoAgAiAWohBSAAIAFrQQFqIQYDQCABQZDGAGotAAAgAC0AACIHQSByIAcgB0HBAGtB/wFxQRpJG0H/AXFHDQUgAUEBRg0CIAFBAWohASAEIABBAWoiAEcNAAsgAyAFNgIADHALIAEgBEYEQEHRACECDHALAkACQCABLQAAIgBBIHIgACAAQcEAa0H/AXFBGkkbQf8BcUHuAGsOBwA2NjY2NgE2CyABQQFqIQFBwgAhAgxWCyABQQFqIQFBwwAhAgxVCyADQQA2AgAgBkEBaiEBQcQAIQIMVAtB0AAhAiAEIAEiAEYNbSAEIAFrIAMoAgAiAWohBiAAIAFrQQlqIQcDQCABQYbGAGotAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQJBAiABQQlGDQQaIAFBAWohASAEIABBAWoiAEcNAAsgAyAGNgIADG0LQc8AIQIgBCABIgBGDWwgBCABayADKAIAIgFqIQYgACABa0EFaiEHA0AgAUGAxgBqLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBBUYNAiABQQFqIQEgBCAAQQFqIgBHDQALIAMgBjYCAAxsCyAAIQEgA0EANgIADDALQQELOgAsIANBADYCACAHQQFqIQELQSwhAgxOCwJAA0AgAS0AAEGAxABqLQAAQQFHDQEgBCABQQFqIgFHDQALQc0AIQIMaAtBwQAhAgxNCyABIARGBEBBzAAhAgxnCyABLQAAQTpGBEAgAygCBCEAIANBADYCBCADIAAgARAvIgBFDTAgA0HLADYCHCADIAA2AgwgAyABQQFqNgIUQQAhAgxnCyADQQA2AhwgAyABNgIUIANBuRE2AhAgA0EKNgIMQQAhAgxmCwJAAkAgAy0ALEECaw4CAAEkCyADQTNqLQAAQQJxRQ0jIAMtAC5BAnENIyADQQA2AhwgAyABNgIUIANB1RM2AhAgA0ELNgIMQQAhAgxmCyADLQAyQSBxRQ0iIAMtAC5BAnENIiADQQA2AhwgAyABNgIUIANB7BI2AhAgA0EPNgIMQQAhAgxlC0EAIQACQCADKAI4IgJFDQAgAigCQCICRQ0AIAMgAhEAACEACyAARQRAQcAAIQIMSwsgAEEVRwRAIANBADYCHCADIAE2AhQgA0H4DjYCECADQRw2AgxBACECDGULIANBygA2AhwgAyABNgIUIANB8Bo2AhAgA0EVNgIMQQAhAgxkCyABIARHBEADQCABLQAAQfA/ai0AAEEBRw0XIAQgAUEBaiIBRw0AC0HEACECDGQLQcQAIQIMYwsgASAERwRAA0ACQCABLQAAIgBBIHIgACAAQcEAa0H/AXFBGkkbQf8BcSIAQQlGDQAgAEEgRg0AAkACQAJAAkAgAEHjAGsOEwADAwMDAwMDAQMDAwMDAwMDAwIDCyABQQFqIQFBNSECDE4LIAFBAWohAUE2IQIMTQsgAUEBaiEBQTchAgxMCwwVCyAEIAFBAWoiAUcNAAtBPCECDGMLQTwhAgxiCyABIARGBEBByAAhAgxiCyADQRE2AgggAyABNgIEAkACQAJAAkACQCADLQAsQQFrDgQUAAECCQsgAy0AMkEgcQ0DQdEBIQIMSwsCQCADLwEyIgBBCHFFDQAgAy0AKEEBRw0AIAMtAC5BCHFFDQILIAMgAEH3+wNxQYAEcjsBMgwLCyADIAMvATJBEHI7ATIMBAsgA0EANgIEIAMgASABEDAiAARAIANBwQA2AhwgAyAANgIMIAMgAUEBajYCFEEAIQIMYwsgAUEBaiEBDFILIANBADYCHCADIAE2AhQgA0GjEzYCECADQQQ2AgxBACECDGELQccAIQIgASAERg1gIAMoAgAiACAEIAFraiEFIAEgAGtBBmohBgJAA0AgAEHwwwBqLQAAIAEtAABBIHJHDQEgAEEGRg1GIABBAWohACAEIAFBAWoiAUcNAAsgAyAFNgIADGELIANBADYCAAwFCwJAIAEgBEcEQANAIAEtAABB8MEAai0AACIAQQFHBEAgAEECRw0DIAFBAWohAQwFCyAEIAFBAWoiAUcNAAtBxQAhAgxhC0HFACECDGALCyADQQA6ACwMAQtBCyECDEMLQT4hAgxCCwJAAkADQCABLQAAIgBBIEcEQAJAIABBCmsOBAMFBQMACyAAQSxGDQMMBAsgBCABQQFqIgFHDQALQcYAIQIMXQsgA0EIOgAsDA4LIAMtAChBAUcNAiADLQAuQQhxDQIgAygCBCEAIANBADYCBCADIAAgARAwIgAEQCADQcIANgIcIAMgADYCDCADIAFBAWo2AhRBACECDFwLIAFBAWohAQxKC0E6IQIMQAsCQANAIAEtAAAiAEEgRyAAQQlHcQ0BIAQgAUEBaiIBRw0AC0HDACECDFoLC0E7IQIMPgsCQAJAIAEgBEcEQANAIAEtAAAiAEEgRwRAIABBCmsOBAMEBAMECyAEIAFBAWoiAUcNAAtBPyECDFoLQT8hAgxZCyADIAMvATJBIHI7ATIMCgsgAygCBCEAIANBADYCBCADIAAgARAwIgBFDUggA0E+NgIcIAMgATYCFCADIAA2AgxBACECDFcLAkAgASAERwRAA0AgAS0AAEHwwQBqLQAAIgBBAUcEQCAAQQJGDQMMDAsgBCABQQFqIgFHDQALQTchAgxYC0E3IQIMVwsgAUEBaiEBDAQLQTshAiAEIAEiAEYNVSAEIAFrIAMoAgAiAWohBiAAIAFrQQVqIQcCQANAIAFBwMYAai0AACAALQAAIgVBIHIgBSAFQcEAa0H/AXFBGkkbQf8BcUcNASABQQVGBEBBByEBDDsLIAFBAWohASAEIABBAWoiAEcNAAsgAyAGNgIADFYLIANBADYCACAAIQEMBQtBOiECIAQgASIARg1UIAQgAWsgAygCACIBaiEGIAAgAWtBCGohBwJAA0AgAUHkP2otAAAgAC0AACIFQSByIAUgBUHBAGtB/wFxQRpJG0H/AXFHDQEgAUEIRgRAQQUhAQw6CyABQQFqIQEgBCAAQQFqIgBHDQALIAMgBjYCAAxVCyADQQA2AgAgACEBDAQLQTkhAiAEIAEiAEYNUyAEIAFrIAMoAgAiAWohBiAAIAFrQQNqIQcCQANAIAFB4D9qLQAAIAAtAAAiBUEgciAFIAVBwQBrQf8BcUEaSRtB/wFxRw0BIAFBA0YEQEEGIQEMOQsgAUEBaiEBIAQgAEEBaiIARw0ACyADIAY2AgAMVAsgA0EANgIAIAAhAQwDCwJAA0AgAS0AACIAQSBHBEAgAEEKaw4EBwQEBwILIAQgAUEBaiIBRw0AC0E4IQIMUwsgAEEsRw0BIAFBAWohAEEBIQECQAJAAkACQAJAIAMtACxBBWsOBAMBAgQACyAAIQEMBAtBAiEBDAELQQQhAQsgA0EBOgAsIAMgAy8BMiABcjsBMiAAIQEMAQsgAyADLwEyQQhyOwEyIAAhAQtBPSECDDcLIANBADoALAtBOCECDDULIAEgBEYEQEE2IQIMTwsCQAJAAkACQAJAIAEtAABBCmsOBAACAgECCyADKAIEIQAgA0EANgIEIAMgACABEDAiAEUNAiADQTM2AhwgAyABNgIUIAMgADYCDEEAIQIMUgsgAygCBCEAIANBADYCBCADIAAgARAwIgBFBEAgAUEBaiEBDAYLIANBMjYCHCADIAA2AgwgAyABQQFqNgIUQQAhAgxRCyADLQAuQQFxBEBB0AEhAgw3CyADKAIEIQAgA0EANgIEIAMgACABEDAiAA0BDEMLQTMhAgw1CyADQTU2AhwgAyABNgIUIAMgADYCDEEAIQIMTgtBNCECDDMLIANBL2otAABBAXENACADQQA2AhwgAyABNgIUIANB8RU2AhAgA0EZNgIMQQAhAgxMC0EyIQIMMQsgASAERgRAQTIhAgxLCwJAIAEtAABBCkYEQCABQQFqIQEMAQsgA0EANgIcIAMgATYCFCADQZgWNgIQIANBAzYCDEEAIQIMSwtBMSECDDALIAEgBEYEQEExIQIMSgsgAS0AACIAQQlHIABBIEdxDQEgAy0ALEEIRw0AIANBADoALAtBPCECDC4LQQEhAgJAAkACQAJAIAMtACxBBWsOBAMBAgAKCyADIAMvATJBCHI7ATIMCQtBAiECDAELQQQhAgsgA0EBOgAsIAMgAy8BMiACcjsBMgwGCyABIARGBEBBMCECDEcLIAEtAABBCkYEQCABQQFqIQEMAQsgAy0ALkEBcQ0AIANBADYCHCADIAE2AhQgA0HHJzYCECADQQI2AgxBACECDEYLQS8hAgwrCyABQQFqIQFBMCECDCoLIAEgBEYEQEEvIQIMRAsgAS0AACIAQQlHIABBIEdxRQRAIAFBAWohASADLQAuQQFxDQEgA0EANgIcIAMgATYCFCADQekPNgIQIANBCjYCDEEAIQIMRAtBASECAkACQAJAAkACQAJAIAMtACxBAmsOBwUEBAMBAgAECyADIAMvATJBCHI7ATIMAwtBAiECDAELQQQhAgsgA0EBOgAsIAMgAy8BMiACcjsBMgtBLiECDCoLIANBADYCHCADIAE2AhQgA0GzEjYCECADQQs2AgxBACECDEMLQdIBIQIMKAsgASAERgRAQS4hAgxCCyADQQA2AgQgA0ERNgIIIAMgASABEDAiAA0BC0EtIQIMJgsgA0EtNgIcIAMgATYCFCADIAA2AgxBACECDD8LQQAhAAJAIAMoAjgiAkUNACACKAJEIgJFDQAgAyACEQAAIQALIABFDQAgAEEVRw0BIANB2AA2AhwgAyABNgIUIANBnho2AhAgA0EVNgIMQQAhAgw+C0HLACECDCMLIANBADYCHCADIAE2AhQgA0GFDjYCECADQR02AgxBACECDDwLIAEgBEYEQEHOACECDDwLIAEtAAAiAEEgRg0CIABBOkYNAQsgA0EAOgAsQQkhAgwgCyADKAIEIQAgA0EANgIEIAMgACABEC8iAA0BDAILIAMtAC5BAXEEQEHPASECDB8LIAMoAgQhACADQQA2AgQgAyAAIAEQLyIARQ0CIANBKjYCHCADIAA2AgwgAyABQQFqNgIUQQAhAgw4CyADQcsANgIcIAMgADYCDCADIAFBAWo2AhRBACECDDcLIAFBAWohAUE/IQIMHAsgAUEBaiEBDCkLIAEgBEYEQEErIQIMNQsCQCABLQAAQQpGBEAgAUEBaiEBDAELIAMtAC5BwABxRQ0GCyADLQAyQYABcQRAQQAhAAJAIAMoAjgiAkUNACACKAJUIgJFDQAgAyACEQAAIQALIABFDREgAEEVRgRAIANBBTYCHCADIAE2AhQgA0GGGjYCECADQRU2AgxBACECDDYLIANBADYCHCADIAE2AhQgA0HiDTYCECADQRQ2AgxBACECDDULIANBMmohAiADEDRBACEAAkAgAygCOCIGRQ0AIAYoAiQiBkUNACADIAYRAAAhAAsgAA4WAgEABAQEBAQEBAQEBAQEBAQEBAQEAwQLIANBAToAMAsgAiACLwEAQcAAcjsBAAtBKiECDBcLIANBKTYCHCADIAE2AhQgA0GyGDYCECADQRU2AgxBACECDDALIANBADYCHCADIAE2AhQgA0HdCzYCECADQRE2AgxBACECDC8LIANBADYCHCADIAE2AhQgA0GdCzYCECADQQI2AgxBACECDC4LQQEhByADLwEyIgVBCHFFBEAgAykDIEIAUiEHCwJAIAMtADAEQEEBIQAgAy0AKUEFRg0BIAVBwABxRSAHcUUNAQsCQCADLQAoIgJBAkYEQEEBIQAgAy8BNCIGQeUARg0CQQAhACAFQcAAcQ0CIAZB5ABGDQIgBkHmAGtBAkkNAiAGQcwBRg0CIAZBsAJGDQIMAQtBACEAIAVBwABxDQELQQIhACAFQQhxDQAgBUGABHEEQAJAIAJBAUcNACADLQAuQQpxDQBBBSEADAILQQQhAAwBCyAFQSBxRQRAIAMQNUEAR0ECdCEADAELQQBBAyADKQMgUBshAAsCQCAAQQFrDgUAAQYHAgMLQQAhAgJAIAMoAjgiAEUNACAAKAIsIgBFDQAgAyAAEQAAIQILIAJFDSYgAkEVRgRAIANBAzYCHCADIAE2AhQgA0G9GjYCECADQRU2AgxBACECDC4LQQAhAiADQQA2AhwgAyABNgIUIANBrw42AhAgA0ESNgIMDC0LQc4BIQIMEgtBACECIANBADYCHCADIAE2AhQgA0HkHzYCECADQQ82AgwMKwtBACEAAkAgAygCOCICRQ0AIAIoAiwiAkUNACADIAIRAAAhAAsgAA0BC0EOIQIMDwsgAEEVRgRAIANBAjYCHCADIAE2AhQgA0G9GjYCECADQRU2AgxBACECDCkLQQAhAiADQQA2AhwgAyABNgIUIANBrw42AhAgA0ESNgIMDCgLQSkhAgwNCyADQQE6ADEMJAsgASAERwRAIANBCTYCCCADIAE2AgRBKCECDAwLQSYhAgwlCyADIAMpAyAiDCAEIAFrrSIKfSILQgAgCyAMWBs3AyAgCiAMVARAQSUhAgwlCyADKAIEIQBBACECIANBADYCBCADIAAgASAMp2oiARAxIgBFDQAgA0EFNgIcIAMgATYCFCADIAA2AgwMJAtBDyECDAkLIAEgBEYEQEEjIQIMIwtCACEKAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAIAEtAABBMGsONxcWAAECAwQFBgcUFBQUFBQUCAkKCwwNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQODxAREhMUC0ICIQoMFgtCAyEKDBULQgQhCgwUC0IFIQoMEwtCBiEKDBILQgchCgwRC0IIIQoMEAtCCSEKDA8LQgohCgwOC0ILIQoMDQtCDCEKDAwLQg0hCgwLC0IOIQoMCgtCDyEKDAkLQgohCgwIC0ILIQoMBwtCDCEKDAYLQg0hCgwFC0IOIQoMBAtCDyEKDAMLQQAhAiADQQA2AhwgAyABNgIUIANBzhQ2AhAgA0EMNgIMDCILIAEgBEYEQEEiIQIMIgtCACEKAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCABLQAAQTBrDjcVFAABAgMEBQYHFhYWFhYWFggJCgsMDRYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWDg8QERITFgtCAiEKDBQLQgMhCgwTC0IEIQoMEgtCBSEKDBELQgYhCgwQC0IHIQoMDwtCCCEKDA4LQgkhCgwNC0IKIQoMDAtCCyEKDAsLQgwhCgwKC0INIQoMCQtCDiEKDAgLQg8hCgwHC0IKIQoMBgtCCyEKDAULQgwhCgwEC0INIQoMAwtCDiEKDAILQg8hCgwBC0IBIQoLIAFBAWohASADKQMgIgtC//////////8PWARAIAMgC0IEhiAKhDcDIAwCC0EAIQIgA0EANgIcIAMgATYCFCADQa0JNgIQIANBDDYCDAwfC0ElIQIMBAtBJiECDAMLIAMgAToALCADQQA2AgAgB0EBaiEBQQwhAgwCCyADQQA2AgAgBkEBaiEBQQohAgwBCyABQQFqIQFBCCECDAALAAtBACECIANBADYCHCADIAE2AhQgA0HVEDYCECADQQk2AgwMGAtBACECIANBADYCHCADIAE2AhQgA0HXCjYCECADQQk2AgwMFwtBACECIANBADYCHCADIAE2AhQgA0G/EDYCECADQQk2AgwMFgtBACECIANBADYCHCADIAE2AhQgA0GkETYCECADQQk2AgwMFQtBACECIANBADYCHCADIAE2AhQgA0HVEDYCECADQQk2AgwMFAtBACECIANBADYCHCADIAE2AhQgA0HXCjYCECADQQk2AgwMEwtBACECIANBADYCHCADIAE2AhQgA0G/EDYCECADQQk2AgwMEgtBACECIANBADYCHCADIAE2AhQgA0GkETYCECADQQk2AgwMEQtBACECIANBADYCHCADIAE2AhQgA0G/FjYCECADQQ82AgwMEAtBACECIANBADYCHCADIAE2AhQgA0G/FjYCECADQQ82AgwMDwtBACECIANBADYCHCADIAE2AhQgA0HIEjYCECADQQs2AgwMDgtBACECIANBADYCHCADIAE2AhQgA0GVCTYCECADQQs2AgwMDQtBACECIANBADYCHCADIAE2AhQgA0HpDzYCECADQQo2AgwMDAtBACECIANBADYCHCADIAE2AhQgA0GDEDYCECADQQo2AgwMCwtBACECIANBADYCHCADIAE2AhQgA0GmHDYCECADQQI2AgwMCgtBACECIANBADYCHCADIAE2AhQgA0HFFTYCECADQQI2AgwMCQtBACECIANBADYCHCADIAE2AhQgA0H/FzYCECADQQI2AgwMCAtBACECIANBADYCHCADIAE2AhQgA0HKFzYCECADQQI2AgwMBwsgA0ECNgIcIAMgATYCFCADQZQdNgIQIANBFjYCDEEAIQIMBgtB3gAhAiABIARGDQUgCUEIaiEHIAMoAgAhBQJAAkAgASAERwRAIAVBxsYAaiEIIAQgBWogAWshBiAFQX9zQQpqIgUgAWohAANAIAEtAAAgCC0AAEcEQEECIQgMAwsgBUUEQEEAIQggACEBDAMLIAVBAWshBSAIQQFqIQggBCABQQFqIgFHDQALIAYhBSAEIQELIAdBATYCACADIAU2AgAMAQsgA0EANgIAIAcgCDYCAAsgByABNgIEIAkoAgwhACAJKAIIDgMBBQIACwALIANBADYCHCADQa0dNgIQIANBFzYCDCADIABBAWo2AhRBACECDAMLIANBADYCHCADIAA2AhQgA0HCHTYCECADQQk2AgxBACECDAILIAEgBEYEQEEoIQIMAgsgA0EJNgIIIAMgATYCBEEnIQIMAQsgASAERgRAQQEhAgwBCwNAAkACQAJAIAEtAABBCmsOBAABAQABCyABQQFqIQEMAQsgAUEBaiEBIAMtAC5BIHENAEEAIQIgA0EANgIcIAMgATYCFCADQYwgNgIQIANBBTYCDAwCC0EBIQIgASAERw0ACwsgCUEQaiQAIAJFBEAgAygCDCEADAELIAMgAjYCHEEAIQAgAygCBCIBRQ0AIAMgASAEIAMoAggRAQAiAUUNACADIAQ2AhQgAyABNgIMIAEhAAsgAAu+AgECfyAAQQA6AAAgAEHcAGoiAUEBa0EAOgAAIABBADoAAiAAQQA6AAEgAUEDa0EAOgAAIAFBAmtBADoAACAAQQA6AAMgAUEEa0EAOgAAQQAgAGtBA3EiASAAaiIAQQA2AgBB3AAgAWtBfHEiAiAAaiIBQQRrQQA2AgACQCACQQlJDQAgAEEANgIIIABBADYCBCABQQhrQQA2AgAgAUEMa0EANgIAIAJBGUkNACAAQQA2AhggAEEANgIUIABBADYCECAAQQA2AgwgAUEQa0EANgIAIAFBFGtBADYCACABQRhrQQA2AgAgAUEca0EANgIAIAIgAEEEcUEYciICayIBQSBJDQAgACACaiEAA0AgAEIANwMYIABCADcDECAAQgA3AwggAEIANwMAIABBIGohACABQSBrIgFBH0sNAAsLC1YBAX8CQCAAKAIMDQACQAJAAkACQCAALQAxDgMBAAMCCyAAKAI4IgFFDQAgASgCLCIBRQ0AIAAgAREAACIBDQMLQQAPCwALIABB0Bg2AhBBDiEBCyABCxoAIAAoAgxFBEAgAEHJHjYCECAAQRU2AgwLCxQAIAAoAgxBFUYEQCAAQQA2AgwLCxQAIAAoAgxBFkYEQCAAQQA2AgwLCwcAIAAoAgwLBwAgACgCEAsJACAAIAE2AhALBwAgACgCFAsXACAAQSRPBEAACyAAQQJ0QZQ3aigCAAsXACAAQS9PBEAACyAAQQJ0QaQ4aigCAAu/CQEBf0HfLCEBAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAgAEHkAGsO9ANjYgABYWFhYWFhAgMEBWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWEGBwgJCgsMDQ4PYWFhYWEQYWFhYWFhYWFhYWERYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhEhMUFRYXGBkaG2FhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWEcHR4fICEiIyQlJicoKSorLC0uLzAxMjM0NTZhNzg5OmFhYWFhYWFhO2FhYTxhYWFhPT4/YWFhYWFhYWFAYWFBYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhQkNERUZHSElKS0xNTk9QUVJTYWFhYWFhYWFUVVZXWFlaW2FcXWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYV5hYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFfYGELQdUrDwtBgyUPC0G/MA8LQfI1DwtBtCgPC0GfKA8LQYEsDwtB1ioPC0H0Mw8LQa0zDwtByygPC0HOIw8LQcAjDwtB2SMPC0HRJA8LQZwzDwtBojYPC0H8Mw8LQeArDwtB4SUPC0HtIA8LQcQyDwtBqScPC0G5Ng8LQbggDwtBqyAPC0GjJA8LQbYkDwtBgSMPC0HhMg8LQZ80DwtByCkPC0HAMg8LQe4yDwtB8C8PC0HGNA8LQdAhDwtBmiQPC0HrLw8LQYQ1DwtByzUPC0GWMQ8LQcgrDwtB1C8PC0GTMA8LQd81DwtBtCMPC0G+NQ8LQdIpDwtBsyIPC0HNIA8LQZs2DwtBkCEPC0H/IA8LQa01DwtBsDQPC0HxJA8LQacqDwtB3TAPC0GLIg8LQcgvDwtB6yoPC0H0KQ8LQY8lDwtB3SIPC0HsJg8LQf0wDwtB1iYPC0GUNQ8LQY0jDwtBuikPC0HHIg8LQfIlDwtBtjMPC0GiIQ8LQf8vDwtBwCEPC0GBMw8LQcklDwtBqDEPC0HGMw8LQdM2DwtBxjYPC0HkNA8LQYgmDwtB7ScPC0H4IQ8LQakwDwtBjzQPC0GGNg8LQaovDwtBoSYPC0HsNg8LQZIpDwtBryYPC0GZIg8LQeAhDwsAC0G1JSEBCyABCxcAIAAgAC8BLkH+/wNxIAFBAEdyOwEuCxoAIAAgAC8BLkH9/wNxIAFBAEdBAXRyOwEuCxoAIAAgAC8BLkH7/wNxIAFBAEdBAnRyOwEuCxoAIAAgAC8BLkH3/wNxIAFBAEdBA3RyOwEuCxoAIAAgAC8BLkHv/wNxIAFBAEdBBHRyOwEuCxoAIAAgAC8BLkHf/wNxIAFBAEdBBXRyOwEuCxoAIAAgAC8BLkG//wNxIAFBAEdBBnRyOwEuCxoAIAAgAC8BLkH//gNxIAFBAEdBB3RyOwEuCxoAIAAgAC8BLkH//QNxIAFBAEdBCHRyOwEuCxoAIAAgAC8BLkH/+wNxIAFBAEdBCXRyOwEuCz4BAn8CQCAAKAI4IgNFDQAgAygCBCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBzhE2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCCCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB5Ao2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCDCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB5R02AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCECIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBnRA2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCFCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBoh42AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCGCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB7hQ2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCKCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9gg2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCHCIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABB9xs2AhBBGCEECyAECz4BAn8CQCAAKAI4IgNFDQAgAygCICIDRQ0AIAAgASACIAFrIAMRAQAiBEF/Rw0AIABBlRU2AhBBGCEECyAECzgAIAACfyAALwEyQRRxQRRGBEBBASAALQAoQQFGDQEaIAAvATRB5QBGDAELIAAtAClBBUYLOgAwC1kBAn8CQCAALQAoQQFGDQAgAC8BNCIBQeQAa0HkAEkNACABQcwBRg0AIAFBsAJGDQAgAC8BMiIAQcAAcQ0AQQEhAiAAQYgEcUGABEYNACAAQShxRSECCyACC4wBAQJ/AkACQAJAIAAtACpFDQAgAC0AK0UNACAALwEyIgFBAnFFDQEMAgsgAC8BMiIBQQFxRQ0BC0EBIQIgAC0AKEEBRg0AIAAvATQiAEHkAGtB5ABJDQAgAEHMAUYNACAAQbACRg0AIAFBwABxDQBBACECIAFBiARxQYAERg0AIAFBKHFBAEchAgsgAgtzACAAQRBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAA/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQTBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQSBq/QwAAAAAAAAAAAAAAAAAAAAA/QsDACAAQewBNgIcCwYAIAAQOQuaLQELfyMAQRBrIgokAEGY1AAoAgAiCUUEQEHY1wAoAgAiBUUEQEHk1wBCfzcCAEHc1wBCgICEgICAwAA3AgBB2NcAIApBCGpBcHFB2KrVqgVzIgU2AgBB7NcAQQA2AgBBvNcAQQA2AgALQcDXAEGA2AQ2AgBBkNQAQYDYBDYCAEGk1AAgBTYCAEGg1ABBfzYCAEHE1wBBgKgDNgIAA0AgAUG81ABqIAFBsNQAaiICNgIAIAIgAUGo1ABqIgM2AgAgAUG01ABqIAM2AgAgAUHE1ABqIAFBuNQAaiIDNgIAIAMgAjYCACABQczUAGogAUHA1ABqIgI2AgAgAiADNgIAIAFByNQAaiACNgIAIAFBIGoiAUGAAkcNAAtBjNgEQcGnAzYCAEGc1ABB6NcAKAIANgIAQYzUAEHApwM2AgBBmNQAQYjYBDYCAEHM/wdBODYCAEGI2AQhCQsCQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQCAAQewBTQRAQYDUACgCACIGQRAgAEETakFwcSAAQQtJGyIEQQN2IgB2IgFBA3EEQAJAIAFBAXEgAHJBAXMiAkEDdCIAQajUAGoiASAAQbDUAGooAgAiACgCCCIDRgRAQYDUACAGQX4gAndxNgIADAELIAEgAzYCCCADIAE2AgwLIABBCGohASAAIAJBA3QiAkEDcjYCBCAAIAJqIgAgACgCBEEBcjYCBAwRC0GI1AAoAgAiCCAETw0BIAEEQAJAQQIgAHQiAkEAIAJrciABIAB0cWgiAEEDdCICQajUAGoiASACQbDUAGooAgAiAigCCCIDRgRAQYDUACAGQX4gAHdxIgY2AgAMAQsgASADNgIIIAMgATYCDAsgAiAEQQNyNgIEIABBA3QiACAEayEFIAAgAmogBTYCACACIARqIgQgBUEBcjYCBCAIBEAgCEF4cUGo1ABqIQBBlNQAKAIAIQMCf0EBIAhBA3Z0IgEgBnFFBEBBgNQAIAEgBnI2AgAgAAwBCyAAKAIICyIBIAM2AgwgACADNgIIIAMgADYCDCADIAE2AggLIAJBCGohAUGU1AAgBDYCAEGI1AAgBTYCAAwRC0GE1AAoAgAiC0UNASALaEECdEGw1gBqKAIAIgAoAgRBeHEgBGshBSAAIQIDQAJAIAIoAhAiAUUEQCACQRRqKAIAIgFFDQELIAEoAgRBeHEgBGsiAyAFSSECIAMgBSACGyEFIAEgACACGyEAIAEhAgwBCwsgACgCGCEJIAAoAgwiAyAARwRAQZDUACgCABogAyAAKAIIIgE2AgggASADNgIMDBALIABBFGoiAigCACIBRQRAIAAoAhAiAUUNAyAAQRBqIQILA0AgAiEHIAEiA0EUaiICKAIAIgENACADQRBqIQIgAygCECIBDQALIAdBADYCAAwPC0F/IQQgAEG/f0sNACAAQRNqIgFBcHEhBEGE1AAoAgAiCEUNAEEAIARrIQUCQAJAAkACf0EAIARBgAJJDQAaQR8gBEH///8HSw0AGiAEQSYgAUEIdmciAGt2QQFxIABBAXRrQT5qCyIGQQJ0QbDWAGooAgAiAkUEQEEAIQFBACEDDAELQQAhASAEQRkgBkEBdmtBACAGQR9HG3QhAEEAIQMDQAJAIAIoAgRBeHEgBGsiByAFTw0AIAIhAyAHIgUNAEEAIQUgAiEBDAMLIAEgAkEUaigCACIHIAcgAiAAQR12QQRxakEQaigCACICRhsgASAHGyEBIABBAXQhACACDQALCyABIANyRQRAQQAhA0ECIAZ0IgBBACAAa3IgCHEiAEUNAyAAaEECdEGw1gBqKAIAIQELIAFFDQELA0AgASgCBEF4cSAEayICIAVJIQAgAiAFIAAbIQUgASADIAAbIQMgASgCECIABH8gAAUgAUEUaigCAAsiAQ0ACwsgA0UNACAFQYjUACgCACAEa08NACADKAIYIQcgAyADKAIMIgBHBEBBkNQAKAIAGiAAIAMoAggiATYCCCABIAA2AgwMDgsgA0EUaiICKAIAIgFFBEAgAygCECIBRQ0DIANBEGohAgsDQCACIQYgASIAQRRqIgIoAgAiAQ0AIABBEGohAiAAKAIQIgENAAsgBkEANgIADA0LQYjUACgCACIDIARPBEBBlNQAKAIAIQECQCADIARrIgJBEE8EQCABIARqIgAgAkEBcjYCBCABIANqIAI2AgAgASAEQQNyNgIEDAELIAEgA0EDcjYCBCABIANqIgAgACgCBEEBcjYCBEEAIQBBACECC0GI1AAgAjYCAEGU1AAgADYCACABQQhqIQEMDwtBjNQAKAIAIgMgBEsEQCAEIAlqIgAgAyAEayIBQQFyNgIEQZjUACAANgIAQYzUACABNgIAIAkgBEEDcjYCBCAJQQhqIQEMDwtBACEBIAQCf0HY1wAoAgAEQEHg1wAoAgAMAQtB5NcAQn83AgBB3NcAQoCAhICAgMAANwIAQdjXACAKQQxqQXBxQdiq1aoFczYCAEHs1wBBADYCAEG81wBBADYCAEGAgAQLIgAgBEHHAGoiBWoiBkEAIABrIgdxIgJPBEBB8NcAQTA2AgAMDwsCQEG41wAoAgAiAUUNAEGw1wAoAgAiCCACaiEAIAAgAU0gACAIS3ENAEEAIQFB8NcAQTA2AgAMDwtBvNcALQAAQQRxDQQCQAJAIAkEQEHA1wAhAQNAIAEoAgAiACAJTQRAIAAgASgCBGogCUsNAwsgASgCCCIBDQALC0EAEDoiAEF/Rg0FIAIhBkHc1wAoAgAiAUEBayIDIABxBEAgAiAAayAAIANqQQAgAWtxaiEGCyAEIAZPDQUgBkH+////B0sNBUG41wAoAgAiAwRAQbDXACgCACIHIAZqIQEgASAHTQ0GIAEgA0sNBgsgBhA6IgEgAEcNAQwHCyAGIANrIAdxIgZB/v///wdLDQQgBhA6IQAgACABKAIAIAEoAgRqRg0DIAAhAQsCQCAGIARByABqTw0AIAFBf0YNAEHg1wAoAgAiACAFIAZrakEAIABrcSIAQf7///8HSwRAIAEhAAwHCyAAEDpBf0cEQCAAIAZqIQYgASEADAcLQQAgBmsQOhoMBAsgASIAQX9HDQUMAwtBACEDDAwLQQAhAAwKCyAAQX9HDQILQbzXAEG81wAoAgBBBHI2AgALIAJB/v///wdLDQEgAhA6IQBBABA6IQEgAEF/Rg0BIAFBf0YNASAAIAFPDQEgASAAayIGIARBOGpNDQELQbDXAEGw1wAoAgAgBmoiATYCAEG01wAoAgAgAUkEQEG01wAgATYCAAsCQAJAAkBBmNQAKAIAIgIEQEHA1wAhAQNAIAAgASgCACIDIAEoAgQiBWpGDQIgASgCCCIBDQALDAILQZDUACgCACIBQQBHIAAgAU9xRQRAQZDUACAANgIAC0EAIQFBxNcAIAY2AgBBwNcAIAA2AgBBoNQAQX82AgBBpNQAQdjXACgCADYCAEHM1wBBADYCAANAIAFBvNQAaiABQbDUAGoiAjYCACACIAFBqNQAaiIDNgIAIAFBtNQAaiADNgIAIAFBxNQAaiABQbjUAGoiAzYCACADIAI2AgAgAUHM1ABqIAFBwNQAaiICNgIAIAIgAzYCACABQcjUAGogAjYCACABQSBqIgFBgAJHDQALQXggAGtBD3EiASAAaiICIAZBOGsiAyABayIBQQFyNgIEQZzUAEHo1wAoAgA2AgBBjNQAIAE2AgBBmNQAIAI2AgAgACADakE4NgIEDAILIAAgAk0NACACIANJDQAgASgCDEEIcQ0AQXggAmtBD3EiACACaiIDQYzUACgCACAGaiIHIABrIgBBAXI2AgQgASAFIAZqNgIEQZzUAEHo1wAoAgA2AgBBjNQAIAA2AgBBmNQAIAM2AgAgAiAHakE4NgIEDAELIABBkNQAKAIASQRAQZDUACAANgIACyAAIAZqIQNBwNcAIQECQAJAAkADQCADIAEoAgBHBEAgASgCCCIBDQEMAgsLIAEtAAxBCHFFDQELQcDXACEBA0AgASgCACIDIAJNBEAgAyABKAIEaiIFIAJLDQMLIAEoAgghAQwACwALIAEgADYCACABIAEoAgQgBmo2AgQgAEF4IABrQQ9xaiIJIARBA3I2AgQgA0F4IANrQQ9xaiIGIAQgCWoiBGshASACIAZGBEBBmNQAIAQ2AgBBjNQAQYzUACgCACABaiIANgIAIAQgAEEBcjYCBAwIC0GU1AAoAgAgBkYEQEGU1AAgBDYCAEGI1ABBiNQAKAIAIAFqIgA2AgAgBCAAQQFyNgIEIAAgBGogADYCAAwICyAGKAIEIgVBA3FBAUcNBiAFQXhxIQggBUH/AU0EQCAFQQN2IQMgBigCCCIAIAYoAgwiAkYEQEGA1ABBgNQAKAIAQX4gA3dxNgIADAcLIAIgADYCCCAAIAI2AgwMBgsgBigCGCEHIAYgBigCDCIARwRAIAAgBigCCCICNgIIIAIgADYCDAwFCyAGQRRqIgIoAgAiBUUEQCAGKAIQIgVFDQQgBkEQaiECCwNAIAIhAyAFIgBBFGoiAigCACIFDQAgAEEQaiECIAAoAhAiBQ0ACyADQQA2AgAMBAtBeCAAa0EPcSIBIABqIgcgBkE4ayIDIAFrIgFBAXI2AgQgACADakE4NgIEIAIgBUE3IAVrQQ9xakE/ayIDIAMgAkEQakkbIgNBIzYCBEGc1ABB6NcAKAIANgIAQYzUACABNgIAQZjUACAHNgIAIANBEGpByNcAKQIANwIAIANBwNcAKQIANwIIQcjXACADQQhqNgIAQcTXACAGNgIAQcDXACAANgIAQczXAEEANgIAIANBJGohAQNAIAFBBzYCACAFIAFBBGoiAUsNAAsgAiADRg0AIAMgAygCBEF+cTYCBCADIAMgAmsiBTYCACACIAVBAXI2AgQgBUH/AU0EQCAFQXhxQajUAGohAAJ/QYDUACgCACIBQQEgBUEDdnQiA3FFBEBBgNQAIAEgA3I2AgAgAAwBCyAAKAIICyIBIAI2AgwgACACNgIIIAIgADYCDCACIAE2AggMAQtBHyEBIAVB////B00EQCAFQSYgBUEIdmciAGt2QQFxIABBAXRrQT5qIQELIAIgATYCHCACQgA3AhAgAUECdEGw1gBqIQBBhNQAKAIAIgNBASABdCIGcUUEQCAAIAI2AgBBhNQAIAMgBnI2AgAgAiAANgIYIAIgAjYCCCACIAI2AgwMAQsgBUEZIAFBAXZrQQAgAUEfRxt0IQEgACgCACEDAkADQCADIgAoAgRBeHEgBUYNASABQR12IQMgAUEBdCEBIAAgA0EEcWpBEGoiBigCACIDDQALIAYgAjYCACACIAA2AhggAiACNgIMIAIgAjYCCAwBCyAAKAIIIgEgAjYCDCAAIAI2AgggAkEANgIYIAIgADYCDCACIAE2AggLQYzUACgCACIBIARNDQBBmNQAKAIAIgAgBGoiAiABIARrIgFBAXI2AgRBjNQAIAE2AgBBmNQAIAI2AgAgACAEQQNyNgIEIABBCGohAQwIC0EAIQFB8NcAQTA2AgAMBwtBACEACyAHRQ0AAkAgBigCHCICQQJ0QbDWAGoiAygCACAGRgRAIAMgADYCACAADQFBhNQAQYTUACgCAEF+IAJ3cTYCAAwCCyAHQRBBFCAHKAIQIAZGG2ogADYCACAARQ0BCyAAIAc2AhggBigCECICBEAgACACNgIQIAIgADYCGAsgBkEUaigCACICRQ0AIABBFGogAjYCACACIAA2AhgLIAEgCGohASAGIAhqIgYoAgQhBQsgBiAFQX5xNgIEIAEgBGogATYCACAEIAFBAXI2AgQgAUH/AU0EQCABQXhxQajUAGohAAJ/QYDUACgCACICQQEgAUEDdnQiAXFFBEBBgNQAIAEgAnI2AgAgAAwBCyAAKAIICyIBIAQ2AgwgACAENgIIIAQgADYCDCAEIAE2AggMAQtBHyEFIAFB////B00EQCABQSYgAUEIdmciAGt2QQFxIABBAXRrQT5qIQULIAQgBTYCHCAEQgA3AhAgBUECdEGw1gBqIQBBhNQAKAIAIgJBASAFdCIDcUUEQCAAIAQ2AgBBhNQAIAIgA3I2AgAgBCAANgIYIAQgBDYCCCAEIAQ2AgwMAQsgAUEZIAVBAXZrQQAgBUEfRxt0IQUgACgCACEAAkADQCAAIgIoAgRBeHEgAUYNASAFQR12IQAgBUEBdCEFIAIgAEEEcWpBEGoiAygCACIADQALIAMgBDYCACAEIAI2AhggBCAENgIMIAQgBDYCCAwBCyACKAIIIgAgBDYCDCACIAQ2AgggBEEANgIYIAQgAjYCDCAEIAA2AggLIAlBCGohAQwCCwJAIAdFDQACQCADKAIcIgFBAnRBsNYAaiICKAIAIANGBEAgAiAANgIAIAANAUGE1AAgCEF+IAF3cSIINgIADAILIAdBEEEUIAcoAhAgA0YbaiAANgIAIABFDQELIAAgBzYCGCADKAIQIgEEQCAAIAE2AhAgASAANgIYCyADQRRqKAIAIgFFDQAgAEEUaiABNgIAIAEgADYCGAsCQCAFQQ9NBEAgAyAEIAVqIgBBA3I2AgQgACADaiIAIAAoAgRBAXI2AgQMAQsgAyAEaiICIAVBAXI2AgQgAyAEQQNyNgIEIAIgBWogBTYCACAFQf8BTQRAIAVBeHFBqNQAaiEAAn9BgNQAKAIAIgFBASAFQQN2dCIFcUUEQEGA1AAgASAFcjYCACAADAELIAAoAggLIgEgAjYCDCAAIAI2AgggAiAANgIMIAIgATYCCAwBC0EfIQEgBUH///8HTQRAIAVBJiAFQQh2ZyIAa3ZBAXEgAEEBdGtBPmohAQsgAiABNgIcIAJCADcCECABQQJ0QbDWAGohAEEBIAF0IgQgCHFFBEAgACACNgIAQYTUACAEIAhyNgIAIAIgADYCGCACIAI2AgggAiACNgIMDAELIAVBGSABQQF2a0EAIAFBH0cbdCEBIAAoAgAhBAJAA0AgBCIAKAIEQXhxIAVGDQEgAUEddiEEIAFBAXQhASAAIARBBHFqQRBqIgYoAgAiBA0ACyAGIAI2AgAgAiAANgIYIAIgAjYCDCACIAI2AggMAQsgACgCCCIBIAI2AgwgACACNgIIIAJBADYCGCACIAA2AgwgAiABNgIICyADQQhqIQEMAQsCQCAJRQ0AAkAgACgCHCIBQQJ0QbDWAGoiAigCACAARgRAIAIgAzYCACADDQFBhNQAIAtBfiABd3E2AgAMAgsgCUEQQRQgCSgCECAARhtqIAM2AgAgA0UNAQsgAyAJNgIYIAAoAhAiAQRAIAMgATYCECABIAM2AhgLIABBFGooAgAiAUUNACADQRRqIAE2AgAgASADNgIYCwJAIAVBD00EQCAAIAQgBWoiAUEDcjYCBCAAIAFqIgEgASgCBEEBcjYCBAwBCyAAIARqIgcgBUEBcjYCBCAAIARBA3I2AgQgBSAHaiAFNgIAIAgEQCAIQXhxQajUAGohAUGU1AAoAgAhAwJ/QQEgCEEDdnQiAiAGcUUEQEGA1AAgAiAGcjYCACABDAELIAEoAggLIgIgAzYCDCABIAM2AgggAyABNgIMIAMgAjYCCAtBlNQAIAc2AgBBiNQAIAU2AgALIABBCGohAQsgCkEQaiQAIAELQwAgAEUEQD8AQRB0DwsCQCAAQf//A3ENACAAQQBIDQAgAEEQdkAAIgBBf0YEQEHw1wBBMDYCAEF/DwsgAEEQdA8LAAsL20AiAEGACAsJAQAAAAIAAAADAEGUCAsFBAAAAAUAQaQICwkGAAAABwAAAAgAQdwIC4IxSW52YWxpZCBjaGFyIGluIHVybCBxdWVyeQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2JvZHkAQ29udGVudC1MZW5ndGggb3ZlcmZsb3cAQ2h1bmsgc2l6ZSBvdmVyZmxvdwBJbnZhbGlkIG1ldGhvZCBmb3IgSFRUUC94LnggcmVxdWVzdABJbnZhbGlkIG1ldGhvZCBmb3IgUlRTUC94LnggcmVxdWVzdABFeHBlY3RlZCBTT1VSQ0UgbWV0aG9kIGZvciBJQ0UveC54IHJlcXVlc3QASW52YWxpZCBjaGFyIGluIHVybCBmcmFnbWVudCBzdGFydABFeHBlY3RlZCBkb3QAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9zdGF0dXMASW52YWxpZCByZXNwb25zZSBzdGF0dXMARXhwZWN0ZWQgTEYgYWZ0ZXIgaGVhZGVycwBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zAFVzZXIgY2FsbGJhY2sgZXJyb3IAYG9uX3Jlc2V0YCBjYWxsYmFjayBlcnJvcgBgb25fY2h1bmtfaGVhZGVyYCBjYWxsYmFjayBlcnJvcgBgb25fbWVzc2FnZV9iZWdpbmAgY2FsbGJhY2sgZXJyb3IAYG9uX2NodW5rX2V4dGVuc2lvbl92YWx1ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3N0YXR1c19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX3ZlcnNpb25fY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl91cmxfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZWAgY2FsbGJhY2sgZXJyb3IAYG9uX21lc3NhZ2VfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9tZXRob2RfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9oZWFkZXJfZmllbGRfY29tcGxldGVgIGNhbGxiYWNrIGVycm9yAGBvbl9jaHVua19leHRlbnNpb25fbmFtZWAgY2FsbGJhY2sgZXJyb3IAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzZXJ2ZXIASW52YWxpZCBoZWFkZXIgdmFsdWUgY2hhcgBJbnZhbGlkIGhlYWRlciBmaWVsZCBjaGFyAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdmVyc2lvbgBJbnZhbGlkIG1pbm9yIHZlcnNpb24ASW52YWxpZCBtYWpvciB2ZXJzaW9uAEV4cGVjdGVkIHNwYWNlIGFmdGVyIHZlcnNpb24ARXhwZWN0ZWQgQ1JMRiBhZnRlciB2ZXJzaW9uAEludmFsaWQgSFRUUCB2ZXJzaW9uAEludmFsaWQgaGVhZGVyIHRva2VuAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25fdXJsAEludmFsaWQgY2hhcmFjdGVycyBpbiB1cmwAVW5leHBlY3RlZCBzdGFydCBjaGFyIGluIHVybABEb3VibGUgQCBpbiB1cmwARW1wdHkgQ29udGVudC1MZW5ndGgASW52YWxpZCBjaGFyYWN0ZXIgaW4gQ29udGVudC1MZW5ndGgAVHJhbnNmZXItRW5jb2RpbmcgY2FuJ3QgYmUgcHJlc2VudCB3aXRoIENvbnRlbnQtTGVuZ3RoAER1cGxpY2F0ZSBDb250ZW50LUxlbmd0aABJbnZhbGlkIGNoYXIgaW4gdXJsIHBhdGgAQ29udGVudC1MZW5ndGggY2FuJ3QgYmUgcHJlc2VudCB3aXRoIFRyYW5zZmVyLUVuY29kaW5nAE1pc3NpbmcgZXhwZWN0ZWQgQ1IgYWZ0ZXIgY2h1bmsgc2l6ZQBFeHBlY3RlZCBMRiBhZnRlciBjaHVuayBzaXplAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIHNpemUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9oZWFkZXJfdmFsdWUAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9jaHVua19leHRlbnNpb25fdmFsdWUASW52YWxpZCBjaGFyYWN0ZXIgaW4gY2h1bmsgZXh0ZW5zaW9ucyB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIENSIGFmdGVyIGhlYWRlciB2YWx1ZQBNaXNzaW5nIGV4cGVjdGVkIExGIGFmdGVyIGhlYWRlciB2YWx1ZQBJbnZhbGlkIGBUcmFuc2Zlci1FbmNvZGluZ2AgaGVhZGVyIHZhbHVlAE1pc3NpbmcgZXhwZWN0ZWQgQ1IgYWZ0ZXIgY2h1bmsgZXh0ZW5zaW9uIHZhbHVlAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgcXVvdGUgdmFsdWUASW52YWxpZCBxdW90ZWQtcGFpciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlZCB2YWx1ZQBJbnZhbGlkIGNoYXJhY3RlciBpbiBjaHVuayBleHRlbnNpb25zIHF1b3RlZCB2YWx1ZQBQYXVzZWQgYnkgb25faGVhZGVyc19jb21wbGV0ZQBJbnZhbGlkIEVPRiBzdGF0ZQBvbl9yZXNldCBwYXVzZQBvbl9jaHVua19oZWFkZXIgcGF1c2UAb25fbWVzc2FnZV9iZWdpbiBwYXVzZQBvbl9jaHVua19leHRlbnNpb25fdmFsdWUgcGF1c2UAb25fc3RhdHVzX2NvbXBsZXRlIHBhdXNlAG9uX3ZlcnNpb25fY29tcGxldGUgcGF1c2UAb25fdXJsX2NvbXBsZXRlIHBhdXNlAG9uX2NodW5rX2NvbXBsZXRlIHBhdXNlAG9uX2hlYWRlcl92YWx1ZV9jb21wbGV0ZSBwYXVzZQBvbl9tZXNzYWdlX2NvbXBsZXRlIHBhdXNlAG9uX21ldGhvZF9jb21wbGV0ZSBwYXVzZQBvbl9oZWFkZXJfZmllbGRfY29tcGxldGUgcGF1c2UAb25fY2h1bmtfZXh0ZW5zaW9uX25hbWUgcGF1c2UAVW5leHBlY3RlZCBzcGFjZSBhZnRlciBzdGFydCBsaW5lAE1pc3NpbmcgZXhwZWN0ZWQgQ1IgYWZ0ZXIgcmVzcG9uc2UgbGluZQBTcGFuIGNhbGxiYWNrIGVycm9yIGluIG9uX2NodW5rX2V4dGVuc2lvbl9uYW1lAEludmFsaWQgY2hhcmFjdGVyIGluIGNodW5rIGV4dGVuc2lvbnMgbmFtZQBNaXNzaW5nIGV4cGVjdGVkIENSIGFmdGVyIGNodW5rIGV4dGVuc2lvbiBuYW1lAEludmFsaWQgc3RhdHVzIGNvZGUAUGF1c2Ugb24gQ09OTkVDVC9VcGdyYWRlAFBhdXNlIG9uIFBSSS9VcGdyYWRlAEV4cGVjdGVkIEhUVFAvMiBDb25uZWN0aW9uIFByZWZhY2UAU3BhbiBjYWxsYmFjayBlcnJvciBpbiBvbl9tZXRob2QARXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgbWV0aG9kAFNwYW4gY2FsbGJhY2sgZXJyb3IgaW4gb25faGVhZGVyX2ZpZWxkAFBhdXNlZABJbnZhbGlkIHdvcmQgZW5jb3VudGVyZWQASW52YWxpZCBtZXRob2QgZW5jb3VudGVyZWQATWlzc2luZyBleHBlY3RlZCBDUiBhZnRlciBjaHVuayBkYXRhAEV4cGVjdGVkIExGIGFmdGVyIGNodW5rIGRhdGEAVW5leHBlY3RlZCBjaGFyIGluIHVybCBzY2hlbWEAUmVxdWVzdCBoYXMgaW52YWxpZCBgVHJhbnNmZXItRW5jb2RpbmdgAERhdGEgYWZ0ZXIgYENvbm5lY3Rpb246IGNsb3NlYABTV0lUQ0hfUFJPWFkAVVNFX1BST1hZAE1LQUNUSVZJVFkAVU5QUk9DRVNTQUJMRV9FTlRJVFkAUVVFUlkAQ09QWQBNT1ZFRF9QRVJNQU5FTlRMWQBUT09fRUFSTFkATk9USUZZAEZBSUxFRF9ERVBFTkRFTkNZAEJBRF9HQVRFV0FZAFBMQVkAUFVUAENIRUNLT1VUAEdBVEVXQVlfVElNRU9VVABSRVFVRVNUX1RJTUVPVVQATkVUV09SS19DT05ORUNUX1RJTUVPVVQAQ09OTkVDVElPTl9USU1FT1VUAExPR0lOX1RJTUVPVVQATkVUV09SS19SRUFEX1RJTUVPVVQAUE9TVABNSVNESVJFQ1RFRF9SRVFVRVNUAENMSUVOVF9DTE9TRURfUkVRVUVTVABDTElFTlRfQ0xPU0VEX0xPQURfQkFMQU5DRURfUkVRVUVTVABCQURfUkVRVUVTVABIVFRQX1JFUVVFU1RfU0VOVF9UT19IVFRQU19QT1JUAFJFUE9SVABJTV9BX1RFQVBPVABSRVNFVF9DT05URU5UAE5PX0NPTlRFTlQAUEFSVElBTF9DT05URU5UAEhQRV9JTlZBTElEX0NPTlNUQU5UAEhQRV9DQl9SRVNFVABHRVQASFBFX1NUUklDVABDT05GTElDVABURU1QT1JBUllfUkVESVJFQ1QAUEVSTUFORU5UX1JFRElSRUNUAENPTk5FQ1QATVVMVElfU1RBVFVTAEhQRV9JTlZBTElEX1NUQVRVUwBUT09fTUFOWV9SRVFVRVNUUwBFQVJMWV9ISU5UUwBVTkFWQUlMQUJMRV9GT1JfTEVHQUxfUkVBU09OUwBPUFRJT05TAFNXSVRDSElOR19QUk9UT0NPTFMAVkFSSUFOVF9BTFNPX05FR09USUFURVMATVVMVElQTEVfQ0hPSUNFUwBJTlRFUk5BTF9TRVJWRVJfRVJST1IAV0VCX1NFUlZFUl9VTktOT1dOX0VSUk9SAFJBSUxHVU5fRVJST1IASURFTlRJVFlfUFJPVklERVJfQVVUSEVOVElDQVRJT05fRVJST1IAU1NMX0NFUlRJRklDQVRFX0VSUk9SAElOVkFMSURfWF9GT1JXQVJERURfRk9SAFNFVF9QQVJBTUVURVIAR0VUX1BBUkFNRVRFUgBIUEVfVVNFUgBTRUVfT1RIRVIASFBFX0NCX0NIVU5LX0hFQURFUgBFeHBlY3RlZCBMRiBhZnRlciBDUgBNS0NBTEVOREFSAFNFVFVQAFdFQl9TRVJWRVJfSVNfRE9XTgBURUFSRE9XTgBIUEVfQ0xPU0VEX0NPTk5FQ1RJT04ASEVVUklTVElDX0VYUElSQVRJT04ARElTQ09OTkVDVEVEX09QRVJBVElPTgBOT05fQVVUSE9SSVRBVElWRV9JTkZPUk1BVElPTgBIUEVfSU5WQUxJRF9WRVJTSU9OAEhQRV9DQl9NRVNTQUdFX0JFR0lOAFNJVEVfSVNfRlJPWkVOAEhQRV9JTlZBTElEX0hFQURFUl9UT0tFTgBJTlZBTElEX1RPS0VOAEZPUkJJRERFTgBFTkhBTkNFX1lPVVJfQ0FMTQBIUEVfSU5WQUxJRF9VUkwAQkxPQ0tFRF9CWV9QQVJFTlRBTF9DT05UUk9MAE1LQ09MAEFDTABIUEVfSU5URVJOQUwAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRV9VTk9GRklDSUFMAEhQRV9PSwBVTkxJTksAVU5MT0NLAFBSSQBSRVRSWV9XSVRIAEhQRV9JTlZBTElEX0NPTlRFTlRfTEVOR1RIAEhQRV9VTkVYUEVDVEVEX0NPTlRFTlRfTEVOR1RIAEZMVVNIAFBST1BQQVRDSABNLVNFQVJDSABVUklfVE9PX0xPTkcAUFJPQ0VTU0lORwBNSVNDRUxMQU5FT1VTX1BFUlNJU1RFTlRfV0FSTklORwBNSVNDRUxMQU5FT1VTX1dBUk5JTkcASFBFX0lOVkFMSURfVFJBTlNGRVJfRU5DT0RJTkcARXhwZWN0ZWQgQ1JMRgBIUEVfSU5WQUxJRF9DSFVOS19TSVpFAE1PVkUAQ09OVElOVUUASFBFX0NCX1NUQVRVU19DT01QTEVURQBIUEVfQ0JfSEVBREVSU19DT01QTEVURQBIUEVfQ0JfVkVSU0lPTl9DT01QTEVURQBIUEVfQ0JfVVJMX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19DT01QTEVURQBIUEVfQ0JfSEVBREVSX1ZBTFVFX0NPTVBMRVRFAEhQRV9DQl9DSFVOS19FWFRFTlNJT05fVkFMVUVfQ09NUExFVEUASFBFX0NCX0NIVU5LX0VYVEVOU0lPTl9OQU1FX0NPTVBMRVRFAEhQRV9DQl9NRVNTQUdFX0NPTVBMRVRFAEhQRV9DQl9NRVRIT0RfQ09NUExFVEUASFBFX0NCX0hFQURFUl9GSUVMRF9DT01QTEVURQBERUxFVEUASFBFX0lOVkFMSURfRU9GX1NUQVRFAElOVkFMSURfU1NMX0NFUlRJRklDQVRFAFBBVVNFAE5PX1JFU1BPTlNFAFVOU1VQUE9SVEVEX01FRElBX1RZUEUAR09ORQBOT1RfQUNDRVBUQUJMRQBTRVJWSUNFX1VOQVZBSUxBQkxFAFJBTkdFX05PVF9TQVRJU0ZJQUJMRQBPUklHSU5fSVNfVU5SRUFDSEFCTEUAUkVTUE9OU0VfSVNfU1RBTEUAUFVSR0UATUVSR0UAUkVRVUVTVF9IRUFERVJfRklFTERTX1RPT19MQVJHRQBSRVFVRVNUX0hFQURFUl9UT09fTEFSR0UAUEFZTE9BRF9UT09fTEFSR0UASU5TVUZGSUNJRU5UX1NUT1JBR0UASFBFX1BBVVNFRF9VUEdSQURFAEhQRV9QQVVTRURfSDJfVVBHUkFERQBTT1VSQ0UAQU5OT1VOQ0UAVFJBQ0UASFBFX1VORVhQRUNURURfU1BBQ0UAREVTQ1JJQkUAVU5TVUJTQ1JJQkUAUkVDT1JEAEhQRV9JTlZBTElEX01FVEhPRABOT1RfRk9VTkQAUFJPUEZJTkQAVU5CSU5EAFJFQklORABVTkFVVEhPUklaRUQATUVUSE9EX05PVF9BTExPV0VEAEhUVFBfVkVSU0lPTl9OT1RfU1VQUE9SVEVEAEFMUkVBRFlfUkVQT1JURUQAQUNDRVBURUQATk9UX0lNUExFTUVOVEVEAExPT1BfREVURUNURUQASFBFX0NSX0VYUEVDVEVEAEhQRV9MRl9FWFBFQ1RFRABDUkVBVEVEAElNX1VTRUQASFBFX1BBVVNFRABUSU1FT1VUX09DQ1VSRUQAUEFZTUVOVF9SRVFVSVJFRABQUkVDT05ESVRJT05fUkVRVUlSRUQAUFJPWFlfQVVUSEVOVElDQVRJT05fUkVRVUlSRUQATkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRABMRU5HVEhfUkVRVUlSRUQAU1NMX0NFUlRJRklDQVRFX1JFUVVJUkVEAFVQR1JBREVfUkVRVUlSRUQAUEFHRV9FWFBJUkVEAFBSRUNPTkRJVElPTl9GQUlMRUQARVhQRUNUQVRJT05fRkFJTEVEAFJFVkFMSURBVElPTl9GQUlMRUQAU1NMX0hBTkRTSEFLRV9GQUlMRUQATE9DS0VEAFRSQU5TRk9STUFUSU9OX0FQUExJRUQATk9UX01PRElGSUVEAE5PVF9FWFRFTkRFRABCQU5EV0lEVEhfTElNSVRfRVhDRUVERUQAU0lURV9JU19PVkVSTE9BREVEAEhFQUQARXhwZWN0ZWQgSFRUUC8AAFIVAAAaFQAADxIAAOQZAACRFQAACRQAAC0ZAADkFAAA6REAAGkUAAChFAAAdhUAAEMWAABeEgAAlBcAABcWAAB9FAAAfxYAAEEXAACzEwAAwxYAAAQaAAC9GAAA0BgAAKATAADUGQAArxYAAGgWAABwFwAA2RYAAPwYAAD+EQAAWRcAAJcWAAAcFwAA9hYAAI0XAAALEgAAfxsAAC4RAACzEAAASRIAAK0SAAD2GAAAaBAAAGIVAAAQFQAAWhYAAEoZAAC1FQAAwRUAAGAVAABcGQAAWhkAAFMZAAAWFQAArREAAEIQAAC3EAAAVxgAAL8VAACJEAAAHBkAABoZAAC5FQAAURgAANwTAABbFQAAWRUAAOYYAABnFQAAERkAAO0YAADnEwAArhAAAMIXAAAAFAAAkhMAAIQTAABAEgAAJhkAAK8VAABiEABB6TkLAQEAQYA6C+ABAQECAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAwEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAQeo7CwQBAAACAEGBPAteAwQDAwMDAwAAAwMAAwMAAwMDAwMDAwMDAwAFAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAMAAwBB6j0LBAEAAAIAQYE+C14DAAMDAwMDAAADAwADAwADAwMDAwMDAwMDAAQABQAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAAwADAEHgPwsNbG9zZWVlcC1hbGl2ZQBB+T8LAQEAQZDAAAvgAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAEH5wQALAQEAQZDCAAvnAQEBAQEBAQEBAQEBAQIBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBY2h1bmtlZABBocQAC14BAAEBAQEBAAABAQABAQABAQEBAQEBAQEBAAAAAAAAAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAAAAAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAAQABAEGAxgALIWVjdGlvbmVudC1sZW5ndGhvbnJveHktY29ubmVjdGlvbgBBsMYACytyYW5zZmVyLWVuY29kaW5ncGdyYWRlDQoNClNNDQoNClRUUC9DRS9UU1AvAEHpxgALBQECAAEDAEGAxwALXwQFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFAEHpyAALBQECAAEDAEGAyQALXwQFBQYFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFAEHpygALBAEAAAEAQYHLAAteAgIAAgICAgICAgICAgICAgICAgICAgICAgICAgICAAICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgBB6cwACwUBAgABAwBBgM0AC18EBQAABQUFBQUFBQUFBQUGBQUFBQUFBQUFBQUFAAUABwgFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUABQAFAAUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFAAAABQBB6c4ACwUBAQABAQBBgM8ACwEBAEGazwALQQIAAAAAAAADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwAAAAAAAAMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAEHp0AALBQEBAAEBAEGA0QALAQEAQYrRAAsGAgAAAAACAEGh0QALOgMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAAAAAAAAAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQeDSAAuaAU5PVU5DRUVDS09VVE5FQ1RFVEVDUklCRUxVU0hFVEVBRFNFQVJDSFJHRUNUSVZJVFlMRU5EQVJWRU9USUZZUFRJT05TQ0hTRUFZU1RBVENIR0VVRVJZT1JESVJFQ1RPUlRSQ0hQQVJBTUVURVJVUkNFQlNDUklCRUFSRE9XTkFDRUlORE5LQ0tVQlNDUklCRUhUVFAvQURUUC8=","base64")}})});var Zk=m((Yj0,n7Q)=>{var f7Q=["GET","HEAD","POST"],z7B=new Set(f7Q),w7B=[101,204,205,304],d7Q=[301,302,303,307,308],L7B=new Set(d7Q),u7Q=["1","7","9","11","13","15","17","19","20","21","22","23","25","37","42","43","53","69","77","79","87","95","101","102","103","104","109","110","111","113","115","117","119","123","135","137","139","143","161","179","389","427","465","512","513","514","515","526","530","531","532","540","548","554","556","563","587","601","636","989","990","993","995","1719","1720","1723","2049","3659","4045","4190","5060","5061","6000","6566","6665","6666","6667","6668","6669","6679","6697","10080"],O7B=new Set(u7Q),p7Q=["no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"],R7B=["",...p7Q],T7B=new Set(p7Q),q7B=["follow","manual","error"],c7Q=["GET","HEAD","OPTIONS","TRACE"],P7B=new Set(c7Q),_7B=["navigate","same-origin","no-cors","cors"],j7B=["omit","same-origin","include"],x7B=["default","no-store","reload","no-cache","force-cache","only-if-cached"],S7B=["content-encoding","content-language","content-location","content-type","content-length"],g7B=["half"],l7Q=["CONNECT","TRACE","TRACK"],v7B=new Set(l7Q),i7Q=["audio","audioworklet","font","image","manifest","paintworklet","script","style","track","video","xslt",""],y7B=new Set(i7Q);n7Q.exports={subresource:i7Q,forbiddenMethods:l7Q,requestBodyHeader:S7B,referrerPolicy:R7B,requestRedirect:q7B,requestMode:_7B,requestCredentials:j7B,requestCache:x7B,redirectStatus:d7Q,corsSafeListedMethods:f7Q,nullBodyStatus:w7B,safeMethods:c7Q,badPorts:u7Q,requestDuplex:g7B,subresourceSet:y7B,badPortsSet:O7B,redirectStatusSet:L7B,corsSafeListedMethodsSet:z7B,safeMethodsSet:P7B,forbiddenMethodsSet:v7B,referrerPolicyTokens:T7B}});var E7A=m((Gj0,o7Q)=>{var C7A=Symbol.for("undici.globalOrigin.1");function k7B(){return globalThis[C7A]}function b7B(A){if(A===void 0){Object.defineProperty(globalThis,C7A,{value:void 0,writable:!0,enumerable:!1,configurable:!1});return}let Q=new URL(A);if(Q.protocol!=="http:"&&Q.protocol!=="https:")throw new TypeError(`Only http & https urls are allowed, received ${Q.protocol}`);Object.defineProperty(globalThis,C7A,{value:Q,writable:!0,enumerable:!1,configurable:!1})}o7Q.exports={getGlobalOrigin:k7B,setGlobalOrigin:b7B}});var ZN=m((Jj0,Q3Q)=>{var $e=a("node:assert"),h7B=new TextEncoder,Xk=/^[!#$%&'*+\-.^_|~A-Za-z0-9]+$/,m7B=/[\u000A\u000D\u0009\u0020]/,f7B=/[\u0009\u000A\u000C\u000D\u0020]/g,d7B=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function u7B(A){$e(A.protocol==="data:");let Q=s7Q(A,!0);Q=Q.slice(5);let B={position:0},C=$T(",",Q,B),E=C.length;if(C=o7B(C,!0,!0),B.position>=Q.length)return"failure";B.position++;let I=Q.slice(E+1),Y=t7Q(I);if(/;(\u0020){0,}base64$/i.test(C)){let J=A3Q(Y);if(Y=c7B(J),Y==="failure")return"failure";C=C.slice(0,-6),C=C.replace(/(\u0020)+$/,""),C=C.slice(0,-1)}if(C.startsWith(";"))C="text/plain"+C;let G=I7A(C);if(G==="failure")G=I7A("text/plain;charset=US-ASCII");return{mimeType:G,body:Y}}function s7Q(A,Q=!1){if(!Q)return A.href;let B=A.href,C=A.hash.length,E=C===0?B:B.substring(0,B.length-C);if(!C&&B.endsWith("#"))return E.slice(0,-1);return E}function ze(A,Q,B){let C="";while(B.position<Q.length&&A(Q[B.position]))C+=Q[B.position],B.position++;return C}function $T(A,Q,B){let C=Q.indexOf(A,B.position),E=B.position;if(C===-1)return B.position=Q.length,Q.slice(E);return B.position=C,Q.slice(E,B.position)}function t7Q(A){let Q=h7B.encode(A);return p7B(Q)}function r7Q(A){return A>=48&&A<=57||A>=65&&A<=70||A>=97&&A<=102}function a7Q(A){return A>=48&&A<=57?A-48:(A&223)-55}function p7B(A){let Q=A.length,B=new Uint8Array(Q),C=0;for(let E=0;E<Q;++E){let I=A[E];if(I!==37)B[C++]=I;else if(I===37&&!(r7Q(A[E+1])&&r7Q(A[E+2])))B[C++]=37;else B[C++]=a7Q(A[E+1])<<4|a7Q(A[E+2]),E+=2}return Q===C?B:B.subarray(0,C)}function I7A(A){A=Me(A,!0,!0);let Q={position:0},B=$T("/",A,Q);if(B.length===0||!Xk.test(B))return"failure";if(Q.position>=A.length)return"failure";Q.position++;let C=$T(";",A,Q);if(C=Me(C,!1,!0),C.length===0||!Xk.test(C))return"failure";let E=B.toLowerCase(),I=C.toLowerCase(),Y={type:E,subtype:I,parameters:new Map,essence:`${E}/${I}`};while(Q.position<A.length){Q.position++,ze((D)=>m7B.test(D),A,Q);let G=ze((D)=>D!==";"&&D!=="=",A,Q);if(G=G.toLowerCase(),Q.position<A.length){if(A[Q.position]===";")continue;Q.position++}if(Q.position>=A.length)break;let J=null;if(A[Q.position]==='"')J=e7Q(A,Q,!0),$T(";",A,Q);else if(J=$T(";",A,Q),J=Me(J,!1,!0),J.length===0)continue;if(G.length!==0&&Xk.test(G)&&(J.length===0||d7B.test(J))&&!Y.parameters.has(G))Y.parameters.set(G,J)}return Y}function c7B(A){A=A.replace(f7B,"");let Q=A.length;if(Q%4===0){if(A.charCodeAt(Q-1)===61){if(--Q,A.charCodeAt(Q-1)===61)--Q}}if(Q%4===1)return"failure";if(/[^+/0-9A-Za-z]/.test(A.length===Q?A:A.substring(0,Q)))return"failure";let B=Buffer.from(A,"base64");return new Uint8Array(B.buffer,B.byteOffset,B.byteLength)}function e7Q(A,Q,B=!1){let C=Q.position,E="";$e(A[Q.position]==='"'),Q.position++;while(!0){if(E+=ze((Y)=>Y!=='"'&&Y!=="\\",A,Q),Q.position>=A.length)break;let I=A[Q.position];if(Q.position++,I==="\\"){if(Q.position>=A.length){E+="\\";break}E+=A[Q.position],Q.position++}else{$e(I==='"');break}}if(B)return E;return A.slice(C,Q.position)}function l7B(A){$e(A!=="failure");let{parameters:Q,essence:B}=A,C=B;for(let[E,I]of Q.entries()){if(C+=";",C+=E,C+="=",!Xk.test(I))I=I.replace(/(\\|")/g,"\\$1"),I='"'+I,I+='"';C+=I}return C}function i7B(A){return A===13||A===10||A===9||A===32}function Me(A,Q=!0,B=!0){return Y7A(A,Q,B,i7B)}function n7B(A){return A===13||A===10||A===9||A===12||A===32}function o7B(A,Q=!0,B=!0){return Y7A(A,Q,B,n7B)}function Y7A(A,Q,B,C){let E=0,I=A.length-1;if(Q)while(E<A.length&&C(A.charCodeAt(E)))E++;if(B)while(I>0&&C(A.charCodeAt(I)))I--;return E===0&&I===A.length-1?A:A.slice(E,I+1)}function A3Q(A){let Q=A.length;if(65535>Q)return String.fromCharCode.apply(null,A);let B="",C=0,E=65535;while(C<Q){if(C+E>Q)E=Q-C;B+=String.fromCharCode.apply(null,A.subarray(C,C+=E))}return B}function r7B(A){switch(A.essence){case"application/ecmascript":case"application/javascript":case"application/x-ecmascript":case"application/x-javascript":case"text/ecmascript":case"text/javascript":case"text/javascript1.0":case"text/javascript1.1":case"text/javascript1.2":case"text/javascript1.3":case"text/javascript1.4":case"text/javascript1.5":case"text/jscript":case"text/livescript":case"text/x-ecmascript":case"text/x-javascript":return"text/javascript";case"application/json":case"text/json":return"application/json";case"image/svg+xml":return"image/svg+xml";case"text/xml":case"application/xml":return"application/xml"}if(A.subtype.endsWith("+json"))return"application/json";if(A.subtype.endsWith("+xml"))return"application/xml";return""}Q3Q.exports={dataURLProcessor:u7B,URLSerializer:s7Q,collectASequenceOfCodePoints:ze,collectASequenceOfCodePointsFast:$T,stringPercentDecode:t7Q,parseMIMEType:I7A,collectAnHTTPQuotedString:e7Q,serializeAMimeType:l7B,removeChars:Y7A,removeHTTPWhitespace:Me,minimizeSupportedMimeType:r7B,HTTP_TOKEN_CODEPOINTS:Xk,isomorphicDecode:A3Q}});var yJ=m((Dj0,C3Q)=>{var{types:nM,inspect:a7B}=a("node:util"),{markAsUncloneable:s7B}=a("node:worker_threads"),{toUSVString:t7B}=D0(),B3Q=Function.call.bind(Function.prototype[Symbol.hasInstance]),gA={converters:{},util:{},errors:{},is:{}};gA.errors.exception=function(A){return new TypeError(`${A.header}: ${A.message}`)};gA.errors.conversionFailed=function(A){let Q=A.types.length===1?"":" one of",B=`${A.argument} could not be converted to${Q}: ${A.types.join(", ")}.`;return gA.errors.exception({header:A.prefix,message:B})};gA.errors.invalidArgument=function(A){return gA.errors.exception({header:A.prefix,message:`"${A.value}" is an invalid ${A.type}.`})};gA.brandCheck=function(A,Q){if(!B3Q(Q,A)){let B=new TypeError("Illegal invocation");throw B.code="ERR_INVALID_THIS",B}};gA.brandCheckMultiple=function(A){let Q=A.map((B)=>gA.util.MakeTypeAssertion(B));return(B)=>{if(Q.every((C)=>!C(B))){let C=new TypeError("Illegal invocation");throw C.code="ERR_INVALID_THIS",C}}};gA.argumentLengthCheck=function({length:A},Q,B){if(A<Q)throw gA.errors.exception({message:`${Q} argument${Q!==1?"s":""} required, but${A?" only":""} ${A} found.`,header:B})};gA.illegalConstructor=function(){throw gA.errors.exception({header:"TypeError",message:"Illegal constructor"})};gA.util.MakeTypeAssertion=function(A){return(Q)=>B3Q(A,Q)};gA.util.Type=function(A){switch(typeof A){case"undefined":return 1;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"bigint":return 6;case"function":case"object":{if(A===null)return 7;return 8}}};gA.util.Types={UNDEFINED:1,BOOLEAN:2,STRING:3,SYMBOL:4,NUMBER:5,BIGINT:6,NULL:7,OBJECT:8};gA.util.TypeValueToString=function(A){switch(gA.util.Type(A)){case 1:return"Undefined";case 2:return"Boolean";case 3:return"String";case 4:return"Symbol";case 5:return"Number";case 6:return"BigInt";case 7:return"Null";case 8:return"Object"}};gA.util.markAsUncloneable=s7B||(()=>{});gA.util.ConvertToInt=function(A,Q,B,C){let E,I;if(Q===64)if(E=Math.pow(2,53)-1,B==="unsigned")I=0;else I=Math.pow(-2,53)+1;else if(B==="unsigned")I=0,E=Math.pow(2,Q)-1;else I=Math.pow(-2,Q)-1,E=Math.pow(2,Q-1)-1;let Y=Number(A);if(Y===0)Y=0;if(C?.enforceRange===!0){if(Number.isNaN(Y)||Y===Number.POSITIVE_INFINITY||Y===Number.NEGATIVE_INFINITY)throw gA.errors.exception({header:"Integer conversion",message:`Could not convert ${gA.util.Stringify(A)} to an integer.`});if(Y=gA.util.IntegerPart(Y),Y<I||Y>E)throw gA.errors.exception({header:"Integer conversion",message:`Value must be between ${I}-${E}, got ${Y}.`});return Y}if(!Number.isNaN(Y)&&C?.clamp===!0){if(Y=Math.min(Math.max(Y,I),E),Math.floor(Y)%2===0)Y=Math.floor(Y);else Y=Math.ceil(Y);return Y}if(Number.isNaN(Y)||Y===0&&Object.is(0,Y)||Y===Number.POSITIVE_INFINITY||Y===Number.NEGATIVE_INFINITY)return 0;if(Y=gA.util.IntegerPart(Y),Y=Y%Math.pow(2,Q),B==="signed"&&Y>=Math.pow(2,Q)-1)return Y-Math.pow(2,Q);return Y};gA.util.IntegerPart=function(A){let Q=Math.floor(Math.abs(A));if(A<0)return-1*Q;return Q};gA.util.Stringify=function(A){switch(gA.util.Type(A)){case 4:return`Symbol(${A.description})`;case 8:return a7B(A);case 3:return`"${A}"`;default:return`${A}`}};gA.sequenceConverter=function(A){return(Q,B,C,E)=>{if(gA.util.Type(Q)!==8)throw gA.errors.exception({header:B,message:`${C} (${gA.util.Stringify(Q)}) is not iterable.`});let I=typeof E==="function"?E():Q?.[Symbol.iterator]?.(),Y=[],G=0;if(I===void 0||typeof I.next!=="function")throw gA.errors.exception({header:B,message:`${C} is not iterable.`});while(!0){let{done:J,value:D}=I.next();if(J)break;Y.push(A(D,B,`${C}[${G++}]`))}return Y}};gA.recordConverter=function(A,Q){return(B,C,E)=>{if(gA.util.Type(B)!==8)throw gA.errors.exception({header:C,message:`${E} ("${gA.util.TypeValueToString(B)}") is not an Object.`});let I={};if(!nM.isProxy(B)){let G=[...Object.getOwnPropertyNames(B),...Object.getOwnPropertySymbols(B)];for(let J of G){let D=gA.util.Stringify(J),U=A(J,C,`Key ${D} in ${E}`),N=Q(B[J],C,`${E}[${D}]`);I[U]=N}return I}let Y=Reflect.ownKeys(B);for(let G of Y)if(Reflect.getOwnPropertyDescriptor(B,G)?.enumerable){let D=A(G,C,E),U=Q(B[G],C,E);I[D]=U}return I}};gA.interfaceConverter=function(A,Q){return(B,C,E)=>{if(!A(B))throw gA.errors.exception({header:C,message:`Expected ${E} ("${gA.util.Stringify(B)}") to be an instance of ${Q}.`});return B}};gA.dictionaryConverter=function(A){return(Q,B,C)=>{let E={};if(Q!=null&&gA.util.Type(Q)!==8)throw gA.errors.exception({header:B,message:`Expected ${Q} to be one of: Null, Undefined, Object.`});for(let I of A){let{key:Y,defaultValue:G,required:J,converter:D}=I;if(J===!0){if(Q==null||!Object.hasOwn(Q,Y))throw gA.errors.exception({header:B,message:`Missing required key "${Y}".`})}let U=Q?.[Y],N=G!==void 0;if(N&&U===void 0)U=G();if(J||N||U!==void 0){if(U=D(U,B,`${C}.${Y}`),I.allowedValues&&!I.allowedValues.includes(U))throw gA.errors.exception({header:B,message:`${U} is not an accepted type. Expected one of ${I.allowedValues.join(", ")}.`});E[Y]=U}}return E}};gA.nullableConverter=function(A){return(Q,B,C)=>{if(Q===null)return Q;return A(Q,B,C)}};gA.is.ReadableStream=gA.util.MakeTypeAssertion(ReadableStream);gA.is.Blob=gA.util.MakeTypeAssertion(Blob);gA.is.URLSearchParams=gA.util.MakeTypeAssertion(URLSearchParams);gA.is.File=gA.util.MakeTypeAssertion(globalThis.File??a("node:buffer").File);gA.is.URL=gA.util.MakeTypeAssertion(URL);gA.is.AbortSignal=gA.util.MakeTypeAssertion(AbortSignal);gA.is.MessagePort=gA.util.MakeTypeAssertion(MessagePort);gA.converters.DOMString=function(A,Q,B,C){if(A===null&&C?.legacyNullToEmptyString)return"";if(typeof A==="symbol")throw gA.errors.exception({header:Q,message:`${B} is a symbol, which cannot be converted to a DOMString.`});return String(A)};gA.converters.ByteString=function(A,Q,B){if(typeof A==="symbol")throw gA.errors.exception({header:Q,message:`${B} is a symbol, which cannot be converted to a ByteString.`});let C=String(A);for(let E=0;E<C.length;E++)if(C.charCodeAt(E)>255)throw new TypeError(`Cannot convert argument to a ByteString because the character at index ${E} has a value of ${C.charCodeAt(E)} which is greater than 255.`);return C};gA.converters.USVString=t7B;gA.converters.boolean=function(A){return Boolean(A)};gA.converters.any=function(A){return A};gA.converters["long long"]=function(A,Q,B){return gA.util.ConvertToInt(A,64,"signed",void 0,Q,B)};gA.converters["unsigned long long"]=function(A,Q,B){return gA.util.ConvertToInt(A,64,"unsigned",void 0,Q,B)};gA.converters["unsigned long"]=function(A,Q,B){return gA.util.ConvertToInt(A,32,"unsigned",void 0,Q,B)};gA.converters["unsigned short"]=function(A,Q,B,C){return gA.util.ConvertToInt(A,16,"unsigned",C,Q,B)};gA.converters.ArrayBuffer=function(A,Q,B,C){if(gA.util.Type(A)!==8||!nM.isAnyArrayBuffer(A))throw gA.errors.conversionFailed({prefix:Q,argument:`${B} ("${gA.util.Stringify(A)}")`,types:["ArrayBuffer"]});if(C?.allowShared===!1&&nM.isSharedArrayBuffer(A))throw gA.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(A.resizable||A.growable)throw gA.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return A};gA.converters.TypedArray=function(A,Q,B,C,E){if(gA.util.Type(A)!==8||!nM.isTypedArray(A)||A.constructor.name!==Q.name)throw gA.errors.conversionFailed({prefix:B,argument:`${C} ("${gA.util.Stringify(A)}")`,types:[Q.name]});if(E?.allowShared===!1&&nM.isSharedArrayBuffer(A.buffer))throw gA.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(A.buffer.resizable||A.buffer.growable)throw gA.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return A};gA.converters.DataView=function(A,Q,B,C){if(gA.util.Type(A)!==8||!nM.isDataView(A))throw gA.errors.exception({header:Q,message:`${B} is not a DataView.`});if(C?.allowShared===!1&&nM.isSharedArrayBuffer(A.buffer))throw gA.errors.exception({header:"ArrayBuffer",message:"SharedArrayBuffer is not allowed."});if(A.buffer.resizable||A.buffer.growable)throw gA.errors.exception({header:"ArrayBuffer",message:"Received a resizable ArrayBuffer."});return A};gA.converters["sequence<ByteString>"]=gA.sequenceConverter(gA.converters.ByteString);gA.converters["sequence<sequence<ByteString>>"]=gA.sequenceConverter(gA.converters["sequence<ByteString>"]);gA.converters["record<ByteString, ByteString>"]=gA.recordConverter(gA.converters.ByteString,gA.converters.ByteString);gA.converters.Blob=gA.interfaceConverter(gA.is.Blob,"Blob");gA.converters.AbortSignal=gA.interfaceConverter(gA.is.AbortSignal,"AbortSignal");C3Q.exports={webidl:gA}});var BD=m((Uj0,w3Q)=>{var{Transform:e7B}=a("node:stream"),E3Q=a("node:zlib"),{redirectStatusSet:A3B,referrerPolicyTokens:Q3B,badPortsSet:B3B}=Zk(),{getGlobalOrigin:I3Q}=E7A(),{collectASequenceOfCodePoints:oM,collectAnHTTPQuotedString:C3B,removeChars:E3B,parseMIMEType:I3B}=ZN(),{performance:Y3B}=a("node:perf_hooks"),{ReadableStreamFrom:G3B,isValidHTTPToken:Y3Q,normalizedMethodRecordsBase:J3B}=D0(),sM=a("node:assert"),{isUint8Array:D3B}=a("node:util/types"),{webidl:eK}=yJ(),G3Q=[],Le;try{Le=a("node:crypto");let A=["sha256","sha384","sha512"];G3Q=Le.getHashes().filter((Q)=>A.includes(Q))}catch{}function J3Q(A){let Q=A.urlList,B=Q.length;return B===0?null:Q[B-1].toString()}function U3B(A,Q){if(!A3B.has(A.status))return null;let B=A.headersList.get("location",!0);if(B!==null&&U3Q(B)){if(!D3Q(B))B=N3B(B);B=new URL(B,J3Q(A))}if(B&&!B.hash)B.hash=Q;return B}function D3Q(A){for(let Q=0;Q<A.length;++Q){let B=A.charCodeAt(Q);if(B>126||B<32)return!1}return!0}function N3B(A){return Buffer.from(A,"binary").toString("utf8")}function aM(A){return A.urlList[A.urlList.length-1]}function Z3B(A){let Q=aM(A);if(K3Q(Q)&&B3B.has(Q.port))return"blocked";return"allowed"}function X3B(A){return A instanceof Error||(A?.constructor?.name==="Error"||A?.constructor?.name==="DOMException")}function F3B(A){for(let Q=0;Q<A.length;++Q){let B=A.charCodeAt(Q);if(!(B===9||B>=32&&B<=126||B>=128&&B<=255))return!1}return!0}var H3B=Y3Q;function U3Q(A){return(A[0]==="\t"||A[0]===" "||A[A.length-1]==="\t"||A[A.length-1]===" "||A.includes(`
`)||A.includes("\r")||A.includes("\x00"))===!1}function W3B(A){let Q=(A.headersList.get("referrer-policy",!0)??"").split(","),B="";if(Q.length)for(let C=Q.length;C!==0;C--){let E=Q[C-1].trim();if(Q3B.has(E)){B=E;break}}return B}function K3B(A,Q){let B=W3B(Q);if(B!=="")A.referrerPolicy=B}function V3B(){return"allowed"}function M3B(){return"success"}function $3B(){return"success"}function z3B(A){let Q=null;Q=A.mode,A.headersList.set("sec-fetch-mode",Q,!0)}function w3B(A){let Q=A.origin;if(Q==="client"||Q===void 0)return;if(A.responseTainting==="cors"||A.mode==="websocket")A.headersList.append("origin",Q,!0);else if(A.method!=="GET"&&A.method!=="HEAD"){switch(A.referrerPolicy){case"no-referrer":Q=null;break;case"no-referrer-when-downgrade":case"strict-origin":case"strict-origin-when-cross-origin":if(A.origin&&J7A(A.origin)&&!J7A(aM(A)))Q=null;break;case"same-origin":if(!Fk(A,aM(A)))Q=null;break;default:}A.headersList.append("origin",Q,!0)}}function zT(A,Q){return A}function L3B(A,Q,B){if(!A?.startTime||A.startTime<Q)return{domainLookupStartTime:Q,domainLookupEndTime:Q,connectionStartTime:Q,connectionEndTime:Q,secureConnectionStartTime:Q,ALPNNegotiatedProtocol:A?.ALPNNegotiatedProtocol};return{domainLookupStartTime:zT(A.domainLookupStartTime,B),domainLookupEndTime:zT(A.domainLookupEndTime,B),connectionStartTime:zT(A.connectionStartTime,B),connectionEndTime:zT(A.connectionEndTime,B),secureConnectionStartTime:zT(A.secureConnectionStartTime,B),ALPNNegotiatedProtocol:A.ALPNNegotiatedProtocol}}function O3B(A){return zT(Y3B.now(),A)}function R3B(A){return{startTime:A.startTime??0,redirectStartTime:0,redirectEndTime:0,postRedirectStartTime:A.startTime??0,finalServiceWorkerStartTime:0,finalNetworkResponseStartTime:0,finalNetworkRequestStartTime:0,endTime:0,encodedBodySize:0,decodedBodySize:0,finalConnectionTimingInfo:null}}function N3Q(){return{referrerPolicy:"strict-origin-when-cross-origin"}}function T3B(A){return{referrerPolicy:A.referrerPolicy}}function q3B(A){let Q=A.referrerPolicy;sM(Q);let B=null;if(A.referrer==="client"){let I=I3Q();if(!I||I.origin==="null")return"no-referrer";B=new URL(I)}else if(eK.is.URL(A.referrer))B=A.referrer;let C=G7A(B),E=G7A(B,!0);if(C.toString().length>4096)C=E;switch(Q){case"no-referrer":return"no-referrer";case"origin":if(E!=null)return E;return G7A(B,!0);case"unsafe-url":return C;case"strict-origin":{let I=aM(A);if(rM(C)&&!rM(I))return"no-referrer";return E}case"strict-origin-when-cross-origin":{let I=aM(A);if(Fk(C,I))return C;if(rM(C)&&!rM(I))return"no-referrer";return E}case"same-origin":if(Fk(A,C))return C;return"no-referrer";case"origin-when-cross-origin":if(Fk(A,C))return C;return E;case"no-referrer-when-downgrade":{let I=aM(A);if(rM(C)&&!rM(I))return"no-referrer";return E}}}function G7A(A,Q=!1){if(sM(eK.is.URL(A)),A=new URL(A),W3Q(A))return"no-referrer";if(A.username="",A.password="",A.hash="",Q===!0)A.pathname="",A.search="";return A}var P3B=new RegExp("^(?:(?:127\\.)(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){2}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[1-9]))$"),_3B=new RegExp("^(?:(?:(?:0{1,4}):){7}(?:(?:0{0,3}1))|(?:(?:0{1,4}):){1,6}(?::(?:0{0,3}1))|(?:::(?:0{0,3}1))|)$");function Z3Q(A){if(A.includes(":")){if(A[0]==="["&&A[A.length-1]==="]")A=A.slice(1,-1);return _3B.test(A)}return P3B.test(A)}function j3B(A){if(A==null||A==="null")return!1;if(A=new URL(A),A.protocol==="https:"||A.protocol==="wss:")return!0;if(Z3Q(A.hostname))return!0;if(A.hostname==="localhost"||A.hostname==="localhost.")return!0;if(A.hostname.endsWith(".localhost")||A.hostname.endsWith(".localhost."))return!0;if(A.protocol==="file:")return!0;return!1}function rM(A){if(!eK.is.URL(A))return!1;if(A.href==="about:blank"||A.href==="about:srcdoc")return!0;if(A.protocol==="data:")return!0;if(A.protocol==="blob:")return!0;return j3B(A.origin)}function x3B(A,Q){if(Le===void 0)return!0;let B=X3Q(Q);if(B==="no metadata")return!0;if(B.length===0)return!0;let C=g3B(B),E=v3B(B,C);for(let I of E){let{algo:Y,hash:G}=I,J=Le.createHash(Y).update(A).digest("base64");if(J[J.length-1]==="=")if(J[J.length-2]==="=")J=J.slice(0,-2);else J=J.slice(0,-1);if(y3B(J,G))return!0}return!1}var S3B=/(?<algo>sha256|sha384|sha512)-((?<hash>[A-Za-z0-9+/]+|[A-Za-z0-9_-]+)={0,2}(?:\s|$)( +[!-~]*)?)?/i;function X3Q(A){let Q=[],B=!0;for(let C of A.split(" ")){B=!1;let E=S3B.exec(C);if(E===null||E.groups===void 0||E.groups.algo===void 0)continue;let I=E.groups.algo.toLowerCase();if(G3Q.includes(I))Q.push(E.groups)}if(B===!0)return"no metadata";return Q}function g3B(A){let Q=A[0].algo;if(Q[3]==="5")return Q;for(let B=1;B<A.length;++B){let C=A[B];if(C.algo[3]==="5"){Q="sha512";break}else if(Q[3]==="3")continue;else if(C.algo[3]==="3")Q="sha384"}return Q}function v3B(A,Q){if(A.length===1)return A;let B=0;for(let C=0;C<A.length;++C)if(A[C].algo===Q)A[B++]=A[C];return A.length=B,A}function y3B(A,Q){if(A.length!==Q.length)return!1;for(let B=0;B<A.length;++B)if(A[B]!==Q[B]){if(A[B]==="+"&&Q[B]==="-"||A[B]==="/"&&Q[B]==="_")continue;return!1}return!0}function k3B(A){}function Fk(A,Q){if(A.origin===Q.origin&&A.origin==="null")return!0;if(A.protocol===Q.protocol&&A.hostname===Q.hostname&&A.port===Q.port)return!0;return!1}function b3B(){let A,Q;return{promise:new Promise((C,E)=>{A=C,Q=E}),resolve:A,reject:Q}}function h3B(A){return A.controller.state==="aborted"}function m3B(A){return A.controller.state==="aborted"||A.controller.state==="terminated"}function f3B(A){return J3B[A.toLowerCase()]??A}function d3B(A){let Q=JSON.stringify(A);if(Q===void 0)throw new TypeError("Value is not JSON serializable");return sM(typeof Q==="string"),Q}var u3B=Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]()));function F3Q(A,Q,B=0,C=1){class E{#A;#Q;#B;constructor(I,Y){this.#A=I,this.#Q=Y,this.#B=0}next(){if(typeof this!=="object"||this===null||!(#A in this))throw new TypeError(`'next' called on an object that does not implement interface ${A} Iterator.`);let I=this.#B,Y=Q(this.#A),G=Y.length;if(I>=G)return{value:void 0,done:!0};let{[B]:J,[C]:D}=Y[I];this.#B=I+1;let U;switch(this.#Q){case"key":U=J;break;case"value":U=D;break;case"key+value":U=[J,D];break}return{value:U,done:!1}}}return delete E.prototype.constructor,Object.setPrototypeOf(E.prototype,u3B),Object.defineProperties(E.prototype,{[Symbol.toStringTag]:{writable:!1,enumerable:!1,configurable:!0,value:`${A} Iterator`},next:{writable:!0,enumerable:!0,configurable:!0}}),function(I,Y){return new E(I,Y)}}function p3B(A,Q,B,C=0,E=1){let I=F3Q(A,B,C,E),Y={keys:{writable:!0,enumerable:!0,configurable:!0,value:function G(){return eK.brandCheck(this,Q),I(this,"key")}},values:{writable:!0,enumerable:!0,configurable:!0,value:function G(){return eK.brandCheck(this,Q),I(this,"value")}},entries:{writable:!0,enumerable:!0,configurable:!0,value:function G(){return eK.brandCheck(this,Q),I(this,"key+value")}},forEach:{writable:!0,enumerable:!0,configurable:!0,value:function G(J,D=globalThis){if(eK.brandCheck(this,Q),eK.argumentLengthCheck(arguments,1,`${A}.forEach`),typeof J!=="function")throw new TypeError(`Failed to execute 'forEach' on '${A}': parameter 1 is not of type 'Function'.`);for(let{0:U,1:N}of I(this,"key+value"))J.call(D,N,U,this)}}};return Object.defineProperties(Q.prototype,{...Y,[Symbol.iterator]:{writable:!0,enumerable:!1,configurable:!0,value:Y.entries.value}})}function c3B(A,Q,B){let C=Q,E=B,I;try{I=A.stream.getReader()}catch(Y){E(Y);return}H3Q(I,C,E)}function l3B(A){try{A.close(),A.byobRequest?.respond(0)}catch(Q){if(!Q.message.includes("Controller is already closed")&&!Q.message.includes("ReadableStream is already closed"))throw Q}}var i3B=/[^\x00-\xFF]/;function we(A){return sM(!i3B.test(A)),A}async function H3Q(A,Q,B){let C=[],E=0;try{do{let{done:I,value:Y}=await A.read();if(I){Q(Buffer.concat(C,E));return}if(!D3B(Y)){B(TypeError("Received non-Uint8Array chunk"));return}C.push(Y),E+=Y.length}while(!0)}catch(I){B(I)}}function W3Q(A){sM("protocol"in A);let Q=A.protocol;return Q==="about:"||Q==="blob:"||Q==="data:"}function J7A(A){return typeof A==="string"&&A[5]===":"&&A[0]==="h"&&A[1]==="t"&&A[2]==="t"&&A[3]==="p"&&A[4]==="s"||A.protocol==="https:"}function K3Q(A){sM("protocol"in A);let Q=A.protocol;return Q==="http:"||Q==="https:"}function n3B(A,Q){let B=A;if(!B.startsWith("bytes"))return"failure";let C={position:5};if(Q)oM((J)=>J==="\t"||J===" ",B,C);if(B.charCodeAt(C.position)!==61)return"failure";if(C.position++,Q)oM((J)=>J==="\t"||J===" ",B,C);let E=oM((J)=>{let D=J.charCodeAt(0);return D>=48&&D<=57},B,C),I=E.length?Number(E):null;if(Q)oM((J)=>J==="\t"||J===" ",B,C);if(B.charCodeAt(C.position)!==45)return"failure";if(C.position++,Q)oM((J)=>J==="\t"||J===" ",B,C);let Y=oM((J)=>{let D=J.charCodeAt(0);return D>=48&&D<=57},B,C),G=Y.length?Number(Y):null;if(C.position<B.length)return"failure";if(G===null&&I===null)return"failure";if(I>G)return"failure";return{rangeStartValue:I,rangeEndValue:G}}function o3B(A,Q,B){let C="bytes ";return C+=we(`${A}`),C+="-",C+=we(`${Q}`),C+="/",C+=we(`${B}`),C}class V3Q extends e7B{#A;constructor(A){super();this.#A=A}_transform(A,Q,B){if(!this._inflateStream){if(A.length===0){B();return}this._inflateStream=(A[0]&15)===8?E3Q.createInflate(this.#A):E3Q.createInflateRaw(this.#A),this._inflateStream.on("data",this.push.bind(this)),this._inflateStream.on("end",()=>this.push(null)),this._inflateStream.on("error",(C)=>this.destroy(C))}this._inflateStream.write(A,Q,B)}_final(A){if(this._inflateStream)this._inflateStream.end(),this._inflateStream=null;A()}}function r3B(A){return new V3Q(A)}function a3B(A){let Q=null,B=null,C=null,E=M3Q("content-type",A);if(E===null)return"failure";for(let I of E){let Y=I3B(I);if(Y==="failure"||Y.essence==="*/*")continue;if(C=Y,C.essence!==B){if(Q=null,C.parameters.has("charset"))Q=C.parameters.get("charset");B=C.essence}else if(!C.parameters.has("charset")&&Q!==null)C.parameters.set("charset",Q)}if(C==null)return"failure";return C}function s3B(A){let Q=A,B={position:0},C=[],E="";while(B.position<Q.length){if(E+=oM((I)=>I!=='"'&&I!==",",Q,B),B.position<Q.length)if(Q.charCodeAt(B.position)===34){if(E+=C3B(Q,B),B.position<Q.length)continue}else sM(Q.charCodeAt(B.position)===44),B.position++;E=E3B(E,!0,!0,(I)=>I===9||I===32),C.push(E),E=""}return C}function M3Q(A,Q){let B=Q.get(A,!0);if(B===null)return null;return s3B(B)}var t3B=new TextDecoder;function e3B(A){if(A.length===0)return"";if(A[0]===239&&A[1]===187&&A[2]===191)A=A.subarray(3);return t3B.decode(A)}class $3Q{get baseUrl(){return I3Q()}get origin(){return this.baseUrl?.origin}policyContainer=N3Q()}class z3Q{settingsObject=new $3Q}var AMB=new z3Q;w3Q.exports={isAborted:h3B,isCancelled:m3B,isValidEncodedURL:D3Q,createDeferredPromise:b3B,ReadableStreamFrom:G3B,tryUpgradeRequestToAPotentiallyTrustworthyURL:k3B,clampAndCoarsenConnectionTimingInfo:L3B,coarsenedSharedCurrentTime:O3B,determineRequestsReferrer:q3B,makePolicyContainer:N3Q,clonePolicyContainer:T3B,appendFetchMetadata:z3B,appendRequestOriginHeader:w3B,TAOCheck:$3B,corsCheck:M3B,crossOriginResourcePolicyCheck:V3B,createOpaqueTimingInfo:R3B,setRequestReferrerPolicyOnRedirect:K3B,isValidHTTPToken:Y3Q,requestBadPort:Z3B,requestCurrentURL:aM,responseURL:J3Q,responseLocationURL:U3B,isURLPotentiallyTrustworthy:rM,isValidReasonPhrase:F3B,sameOrigin:Fk,normalizeMethod:f3B,serializeJavascriptValueToJSONString:d3B,iteratorMixin:p3B,createIterator:F3Q,isValidHeaderName:H3B,isValidHeaderValue:U3Q,isErrorLike:X3B,fullyReadBody:c3B,bytesMatch:x3B,readableStreamClose:l3B,isomorphicEncode:we,urlIsLocal:W3Q,urlHasHttpsScheme:J7A,urlIsHttpHttpsScheme:K3Q,readAllBytes:H3Q,simpleRangeHeaderValue:n3B,buildContentRange:o3B,parseMetadata:X3Q,createInflate:r3B,extractMimeType:a3B,getDecodeSplit:M3Q,utf8DecodeBytes:e3B,environmentSettingsObject:AMB,isOriginIPPotentiallyTrustworthy:Z3Q}});var Oe=m((Nj0,R3Q)=>{var{iteratorMixin:QMB}=BD(),{kEnumerableProperty:wT}=D0(),{webidl:uC}=yJ(),{File:BMB}=a("node:buffer"),L3Q=a("node:util"),O3Q=globalThis.File??BMB;class aD{#A=[];constructor(A){if(uC.util.markAsUncloneable(this),A!==void 0)throw uC.errors.conversionFailed({prefix:"FormData constructor",argument:"Argument 1",types:["undefined"]})}append(A,Q,B=void 0){uC.brandCheck(this,aD);let C="FormData.append";if(uC.argumentLengthCheck(arguments,2,C),A=uC.converters.USVString(A),arguments.length===3||uC.is.Blob(Q)){if(Q=uC.converters.Blob(Q,C,"value"),B!==void 0)B=uC.converters.USVString(B)}else Q=uC.converters.USVString(Q);let E=D7A(A,Q,B);this.#A.push(E)}delete(A){uC.brandCheck(this,aD);let Q="FormData.delete";uC.argumentLengthCheck(arguments,1,Q),A=uC.converters.USVString(A),this.#A=this.#A.filter((B)=>B.name!==A)}get(A){uC.brandCheck(this,aD);let Q="FormData.get";uC.argumentLengthCheck(arguments,1,Q),A=uC.converters.USVString(A);let B=this.#A.findIndex((C)=>C.name===A);if(B===-1)return null;return this.#A[B].value}getAll(A){uC.brandCheck(this,aD);let Q="FormData.getAll";return uC.argumentLengthCheck(arguments,1,Q),A=uC.converters.USVString(A),this.#A.filter((B)=>B.name===A).map((B)=>B.value)}has(A){uC.brandCheck(this,aD);let Q="FormData.has";return uC.argumentLengthCheck(arguments,1,Q),A=uC.converters.USVString(A),this.#A.findIndex((B)=>B.name===A)!==-1}set(A,Q,B=void 0){uC.brandCheck(this,aD);let C="FormData.set";if(uC.argumentLengthCheck(arguments,2,C),A=uC.converters.USVString(A),arguments.length===3||uC.is.Blob(Q)){if(Q=uC.converters.Blob(Q,C,"value"),B!==void 0)B=uC.converters.USVString(B)}else Q=uC.converters.USVString(Q);let E=D7A(A,Q,B),I=this.#A.findIndex((Y)=>Y.name===A);if(I!==-1)this.#A=[...this.#A.slice(0,I),E,...this.#A.slice(I+1).filter((Y)=>Y.name!==A)];else this.#A.push(E)}[L3Q.inspect.custom](A,Q){let B=this.#A.reduce((E,I)=>{if(E[I.name])if(Array.isArray(E[I.name]))E[I.name].push(I.value);else E[I.name]=[E[I.name],I.value];else E[I.name]=I.value;return E},{__proto__:null});Q.depth??=A,Q.colors??=!0;let C=L3Q.formatWithOptions(Q,B);return`FormData ${C.slice(C.indexOf("]")+2)}`}static getFormDataState(A){return A.#A}static setFormDataState(A,Q){A.#A=Q}}var{getFormDataState:CMB,setFormDataState:EMB}=aD;Reflect.deleteProperty(aD,"getFormDataState");Reflect.deleteProperty(aD,"setFormDataState");QMB("FormData",aD,CMB,"name","value");Object.defineProperties(aD.prototype,{append:wT,delete:wT,get:wT,getAll:wT,has:wT,set:wT,[Symbol.toStringTag]:{value:"FormData",configurable:!0}});function D7A(A,Q,B){if(typeof Q==="string");else{if(!uC.is.File(Q))Q=new O3Q([Q],"blob",{type:Q.type});if(B!==void 0){let C={type:Q.type,lastModified:Q.lastModified};Q=new O3Q([Q],B,C)}}return{name:A,value:Q}}uC.is.FormData=uC.util.MakeTypeAssertion(aD);R3Q.exports={FormData:aD,makeEntry:D7A,setFormDataState:EMB}});var j3Q=m((Zj0,_3Q)=>{var{isUSVString:T3Q,bufferToLowerCasedHeaderName:IMB}=D0(),{utf8DecodeBytes:YMB}=BD(),{HTTP_TOKEN_CODEPOINTS:GMB,isomorphicDecode:q3Q}=ZN(),{makeEntry:JMB}=Oe(),{webidl:DMB}=yJ(),Re=a("node:assert"),{File:UMB}=a("node:buffer"),NMB=globalThis.File??UMB,ZMB=Buffer.from('form-data; name="'),XMB=Buffer.from("filename"),FMB=Buffer.from("--"),HMB=Buffer.from(`--\r
`);function WMB(A){for(let Q=0;Q<A.length;++Q)if((A.charCodeAt(Q)&-128)!==0)return!1;return!0}function KMB(A){let Q=A.length;if(Q<27||Q>70)return!1;for(let B=0;B<Q;++B){let C=A.charCodeAt(B);if(!(C>=48&&C<=57||C>=65&&C<=90||C>=97&&C<=122||C===39||C===45||C===95))return!1}return!0}function VMB(A,Q){Re(Q!=="failure"&&Q.essence==="multipart/form-data");let B=Q.parameters.get("boundary");if(B===void 0)throw J8("missing boundary in content-type header");let C=Buffer.from(`--${B}`,"utf8"),E=[],I={position:0};while(A[I.position]===13&&A[I.position+1]===10)I.position+=2;let Y=A.length;while(A[Y-1]===10&&A[Y-2]===13)Y-=2;if(Y!==A.length)A=A.subarray(0,Y);while(!0){if(A.subarray(I.position,I.position+C.length).equals(C))I.position+=C.length;else throw J8("expected a value starting with -- and the boundary");if(I.position===A.length-2&&Te(A,FMB,I)||I.position===A.length-4&&Te(A,HMB,I))return E;if(A[I.position]!==13||A[I.position+1]!==10)throw J8("expected CRLF");I.position+=2;let G=MMB(A,I),{name:J,filename:D,contentType:U,encoding:N}=G;I.position+=2;let Z;{let W=A.indexOf(C.subarray(2),I.position);if(W===-1)throw J8("expected boundary after body");if(Z=A.subarray(I.position,W-4),I.position+=Z.length,N==="base64")Z=Buffer.from(Z.toString(),"base64")}if(A[I.position]!==13||A[I.position+1]!==10)throw J8("expected CRLF");else I.position+=2;let X;if(D!==null){if(U??="text/plain",!WMB(U))U="";X=new NMB([Z],D,{type:U})}else X=YMB(Buffer.from(Z));Re(T3Q(J)),Re(typeof X==="string"&&T3Q(X)||DMB.is.File(X)),E.push(JMB(J,X,D))}}function MMB(A,Q){let B=null,C=null,E=null,I=null;while(!0){if(A[Q.position]===13&&A[Q.position+1]===10){if(B===null)throw J8("header name is null");return{name:B,filename:C,contentType:E,encoding:I}}let Y=BF((G)=>G!==10&&G!==13&&G!==58,A,Q);if(Y=U7A(Y,!0,!0,(G)=>G===9||G===32),!GMB.test(Y.toString()))throw J8("header name does not match the field-name token production");if(A[Q.position]!==58)throw J8("expected :");switch(Q.position++,BF((G)=>G===32||G===9,A,Q),IMB(Y)){case"content-disposition":{if(B=C=null,!Te(A,ZMB,Q))throw J8('expected form-data; name=" for content-disposition header');if(Q.position+=17,B=P3Q(A,Q),A[Q.position]===59&&A[Q.position+1]===32){let G={position:Q.position+2};if(Te(A,XMB,G))if(A[G.position+8]===42){G.position+=10,BF((D)=>D===32||D===9,A,G);let J=BF((D)=>D!==32&&D!==13&&D!==10,A,G);if(J[0]!==117&&J[0]!==85||J[1]!==116&&J[1]!==84||J[2]!==102&&J[2]!==70||J[3]!==45||J[4]!==56)throw J8("unknown encoding, expected utf-8''");C=decodeURIComponent(new TextDecoder().decode(J.subarray(7))),Q.position=G.position}else Q.position+=11,BF((J)=>J===32||J===9,A,Q),Q.position++,C=P3Q(A,Q)}break}case"content-type":{let G=BF((J)=>J!==10&&J!==13,A,Q);G=U7A(G,!1,!0,(J)=>J===9||J===32),E=q3Q(G);break}case"content-transfer-encoding":{let G=BF((J)=>J!==10&&J!==13,A,Q);G=U7A(G,!1,!0,(J)=>J===9||J===32),I=q3Q(G);break}default:BF((G)=>G!==10&&G!==13,A,Q)}if(A[Q.position]!==13&&A[Q.position+1]!==10)throw J8("expected CRLF");else Q.position+=2}}function P3Q(A,Q){Re(A[Q.position-1]===34);let B=BF((C)=>C!==10&&C!==13&&C!==34,A,Q);if(A[Q.position]!==34)throw J8('expected "');else Q.position++;return B=new TextDecoder().decode(B).replace(/%0A/ig,`
`).replace(/%0D/ig,"\r").replace(/%22/g,'"'),B}function BF(A,Q,B){let C=B.position;while(C<Q.length&&A(Q[C]))++C;return Q.subarray(B.position,B.position=C)}function U7A(A,Q,B,C){let E=0,I=A.length-1;if(Q)while(E<A.length&&C(A[E]))E++;if(B)while(I>0&&C(A[I]))I--;return E===0&&I===A.length-1?A:A.subarray(E,I+1)}function Te(A,Q,B){if(A.length<Q.length)return!1;for(let C=0;C<Q.length;C++)if(Q[C]!==A[B.position+C])return!1;return!0}function J8(A){return new TypeError("Failed to parse body as FormData.",{cause:new TypeError(A)})}_3Q.exports={multipartFormDataParser:VMB,validateBoundary:KMB}});var OT=m((Xj0,b3Q)=>{var Pe=D0(),{ReadableStreamFrom:$MB,readableStreamClose:zMB,createDeferredPromise:wMB,fullyReadBody:LMB,extractMimeType:OMB,utf8DecodeBytes:g3Q}=BD(),{FormData:x3Q,setFormDataState:RMB}=Oe(),{webidl:CF}=yJ(),{Blob:TMB}=a("node:buffer"),N7A=a("node:assert"),{isErrored:v3Q,isDisturbed:qMB}=a("node:stream"),{isArrayBuffer:PMB}=a("node:util/types"),{serializeAMimeType:_MB}=ZN(),{multipartFormDataParser:jMB}=j3Q(),Z7A;try{let A=a("node:crypto");Z7A=(Q)=>A.randomInt(0,Q)}catch{Z7A=(A)=>Math.floor(Math.random()*A)}var qe=new TextEncoder;function xMB(){}var X7A=globalThis.FinalizationRegistry&&process.version.indexOf("v18")!==0,F7A;if(X7A)F7A=new FinalizationRegistry((A)=>{let Q=A.deref();if(Q&&!Q.locked&&!qMB(Q)&&!v3Q(Q))Q.cancel("Response object has been garbage collected").catch(xMB)});function y3Q(A,Q=!1){let B=null;if(CF.is.ReadableStream(A))B=A;else if(CF.is.Blob(A))B=A.stream();else B=new ReadableStream({async pull(J){let D=typeof E==="string"?qe.encode(E):E;if(D.byteLength)J.enqueue(D);queueMicrotask(()=>zMB(J))},start(){},type:"bytes"});N7A(CF.is.ReadableStream(B));let C=null,E=null,I=null,Y=null;if(typeof A==="string")E=A,Y="text/plain;charset=UTF-8";else if(CF.is.URLSearchParams(A))E=A.toString(),Y="application/x-www-form-urlencoded;charset=UTF-8";else if(PMB(A))E=new Uint8Array(A.slice());else if(ArrayBuffer.isView(A))E=new Uint8Array(A.buffer.slice(A.byteOffset,A.byteOffset+A.byteLength));else if(CF.is.FormData(A)){let J=`----formdata-undici-0${`${Z7A(100000000000)}`.padStart(11,"0")}`,D=`--${J}\r
Content-Disposition: form-data`;/*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */let U=(V)=>V.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),N=(V)=>V.replace(/\r?\n|\r/g,`\r
`),Z=[],X=new Uint8Array([13,10]);I=0;let W=!1;for(let[V,M]of A)if(typeof M==="string"){let z=qe.encode(D+`; name="${U(N(V))}"\r
\r
${N(M)}\r
`);Z.push(z),I+=z.byteLength}else{let z=qe.encode(`${D}; name="${U(N(V))}"`+(M.name?`; filename="${U(M.name)}"`:"")+`\r
Content-Type: ${M.type||"application/octet-stream"}\r
\r
`);if(Z.push(z,M,X),typeof M.size==="number")I+=z.byteLength+M.size+X.byteLength;else W=!0}let K=qe.encode(`--${J}--\r
`);if(Z.push(K),I+=K.byteLength,W)I=null;E=A,C=async function*(){for(let V of Z)if(V.stream)yield*V.stream();else yield V},Y=`multipart/form-data; boundary=${J}`}else if(CF.is.Blob(A)){if(E=A,I=A.size,A.type)Y=A.type}else if(typeof A[Symbol.asyncIterator]==="function"){if(Q)throw new TypeError("keepalive");if(Pe.isDisturbed(A)||A.locked)throw new TypeError("Response body object should not be disturbed or locked");B=CF.is.ReadableStream(A)?A:$MB(A)}if(typeof E==="string"||Pe.isBuffer(E))I=Buffer.byteLength(E);if(C!=null){let J;B=new ReadableStream({async start(){J=C(A)[Symbol.asyncIterator]()},async pull(D){let{value:U,done:N}=await J.next();if(N)queueMicrotask(()=>{D.close(),D.byobRequest?.respond(0)});else if(!v3Q(B)){let Z=new Uint8Array(U);if(Z.byteLength)D.enqueue(Z)}return D.desiredSize>0},async cancel(D){await J.return()},type:"bytes"})}return[{stream:B,source:E,length:I},Y]}function SMB(A,Q=!1){if(CF.is.ReadableStream(A))N7A(!Pe.isDisturbed(A),"The body has already been consumed."),N7A(!A.locked,"The stream is locked.");return y3Q(A,Q)}function gMB(A,Q){let[B,C]=Q.stream.tee();if(X7A)F7A.register(A,new WeakRef(B));return Q.stream=B,{stream:C,length:Q.length,source:Q.source}}function vMB(A){if(A.aborted)throw new DOMException("The operation was aborted.","AbortError")}function yMB(A,Q){return{blob(){return LT(this,(C)=>{let E=S3Q(Q(this));if(E===null)E="";else if(E)E=_MB(E);return new TMB([C],{type:E})},A,Q)},arrayBuffer(){return LT(this,(C)=>{return new Uint8Array(C).buffer},A,Q)},text(){return LT(this,g3Q,A,Q)},json(){return LT(this,bMB,A,Q)},formData(){return LT(this,(C)=>{let E=S3Q(Q(this));if(E!==null)switch(E.essence){case"multipart/form-data":{let I=jMB(C,E),Y=new x3Q;return RMB(Y,I),Y}case"application/x-www-form-urlencoded":{let I=new URLSearchParams(C.toString()),Y=new x3Q;for(let[G,J]of I)Y.append(G,J);return Y}}throw new TypeError('Content-Type was not one of "multipart/form-data" or "application/x-www-form-urlencoded".')},A,Q)},bytes(){return LT(this,(C)=>{return new Uint8Array(C)},A,Q)}}}function kMB(A,Q){Object.assign(A.prototype,yMB(A,Q))}async function LT(A,Q,B,C){CF.brandCheck(A,B);let E=C(A);if(k3Q(E))throw new TypeError("Body is unusable: Body has already been read");vMB(E);let I=wMB(),Y=(J)=>I.reject(J),G=(J)=>{try{I.resolve(Q(J))}catch(D){Y(D)}};if(E.body==null)return G(Buffer.allocUnsafe(0)),I.promise;return LMB(E.body,G,Y),I.promise}function k3Q(A){let Q=A.body;return Q!=null&&(Q.stream.locked||Pe.isDisturbed(Q.stream))}function bMB(A){return JSON.parse(g3Q(A))}function S3Q(A){let Q=A.headersList,B=OMB(Q);if(B==="failure")return null;return B}b3Q.exports={extractBody:y3Q,safelyExtractBody:SMB,cloneBody:gMB,mixinBody:kMB,streamRegistry:F7A,hasFinalizationRegistry:X7A,bodyUnusable:k3Q}});var r3Q=m((Fj0,o3Q)=>{var SB=a("node:assert"),mB=D0(),{channels:h3Q}=t6(),H7A=oVA(),{RequestContentLengthMismatchError:tM,ResponseContentLengthMismatchError:hMB,RequestAbortedError:c3Q,HeadersTimeoutError:mMB,HeadersOverflowError:fMB,SocketError:Kk,InformationalError:RT,BodyTimeoutError:dMB,HTTPParserError:uMB,ResponseExceededMaxSizeError:pMB}=FC(),{kUrl:l3Q,kReset:sD,kClient:w7A,kParser:DY,kBlocking:Vk,kRunning:V2,kPending:cMB,kSize:m3Q,kWriting:QV,kQueue:u9,kNoRef:Hk,kKeepAliveDefaultTimeout:lMB,kHostHeader:iMB,kPendingIdx:nMB,kRunningIdx:D8,kError:U8,kPipelining:xe,kSocket:TT,kKeepAliveTimeoutValue:ge,kMaxHeadersSize:oMB,kKeepAliveMaxTimeout:rMB,kKeepAliveTimeoutThreshold:aMB,kHeadersTimeout:sMB,kBodyTimeout:tMB,kStrictContentLength:V7A,kMaxRequests:f3Q,kCounter:eMB,kMaxResponseSize:A$B,kOnError:Q$B,kResume:AV,kHTTPContext:i3Q,kClosed:M7A}=kE(),e4=k7Q(),B$B=Buffer.alloc(0),_e=Buffer[Symbol.species],C$B=mB.removeAllListeners,W7A;async function E$B(){let A=process.env.JEST_WORKER_ID?Q7A():void 0,Q;try{Q=await WebAssembly.compile(m7Q())}catch(B){Q=await WebAssembly.compile(A||Q7A())}return await WebAssembly.instantiate(Q,{env:{wasm_on_url:(B,C,E)=>{return 0},wasm_on_status:(B,C,E)=>{SB(PG.ptr===B);let I=C-Q1+A1.byteOffset;return PG.onStatus(new _e(A1.buffer,I,E))},wasm_on_message_begin:(B)=>{return SB(PG.ptr===B),PG.onMessageBegin()},wasm_on_header_field:(B,C,E)=>{SB(PG.ptr===B);let I=C-Q1+A1.byteOffset;return PG.onHeaderField(new _e(A1.buffer,I,E))},wasm_on_header_value:(B,C,E)=>{SB(PG.ptr===B);let I=C-Q1+A1.byteOffset;return PG.onHeaderValue(new _e(A1.buffer,I,E))},wasm_on_headers_complete:(B,C,E,I)=>{return SB(PG.ptr===B),PG.onHeadersComplete(C,E===1,I===1)},wasm_on_body:(B,C,E)=>{SB(PG.ptr===B);let I=C-Q1+A1.byteOffset;return PG.onBody(new _e(A1.buffer,I,E))},wasm_on_message_complete:(B)=>{return SB(PG.ptr===B),PG.onMessageComplete()}}})}var K7A=null,$7A=E$B();$7A.catch();var PG=null,A1=null,je=0,Q1=null,I$B=0,Wk=1,qT=2|Wk,Se=4|Wk,z7A=8|I$B;class n3Q{constructor(A,Q,{exports:B}){this.llhttp=B,this.ptr=this.llhttp.llhttp_alloc(e4.TYPE.RESPONSE),this.client=A,this.socket=Q,this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.statusCode=0,this.statusText="",this.upgrade=!1,this.headers=[],this.headersSize=0,this.headersMaxSize=A[oMB],this.shouldKeepAlive=!1,this.paused=!1,this.resume=this.resume.bind(this),this.bytesRead=0,this.keepAlive="",this.contentLength="",this.connection="",this.maxResponseSize=A[A$B]}setTimeout(A,Q){if(A!==this.timeoutValue||Q&Wk^this.timeoutType&Wk){if(this.timeout)H7A.clearTimeout(this.timeout),this.timeout=null;if(A)if(Q&Wk)this.timeout=H7A.setFastTimeout(d3Q,A,new WeakRef(this));else this.timeout=setTimeout(d3Q,A,new WeakRef(this)),this.timeout.unref();this.timeoutValue=A}else if(this.timeout){if(this.timeout.refresh)this.timeout.refresh()}this.timeoutType=Q}resume(){if(this.socket.destroyed||!this.paused)return;if(SB(this.ptr!=null),SB(PG===null),this.llhttp.llhttp_resume(this.ptr),SB(this.timeoutType===Se),this.timeout){if(this.timeout.refresh)this.timeout.refresh()}this.paused=!1,this.execute(this.socket.read()||B$B),this.readMore()}readMore(){while(!this.paused&&this.ptr){let A=this.socket.read();if(A===null)break;this.execute(A)}}execute(A){SB(PG===null),SB(this.ptr!=null),SB(!this.paused);let{socket:Q,llhttp:B}=this;if(A.length>je){if(Q1)B.free(Q1);je=Math.ceil(A.length/4096)*4096,Q1=B.malloc(je)}new Uint8Array(B.memory.buffer,Q1,je).set(A);try{let C;try{A1=A,PG=this,C=B.llhttp_execute(this.ptr,Q1,A.length)}catch(E){throw E}finally{PG=null,A1=null}if(C!==e4.ERROR.OK){let E=A.subarray(B.llhttp_get_error_pos(this.ptr)-Q1);if(C===e4.ERROR.PAUSED_UPGRADE)this.onUpgrade(E);else if(C===e4.ERROR.PAUSED)this.paused=!0,Q.unshift(E);else{let I=B.llhttp_get_error_reason(this.ptr),Y="";if(I){let G=new Uint8Array(B.memory.buffer,I).indexOf(0);Y="Response does not match the HTTP/1.1 protocol ("+Buffer.from(B.memory.buffer,I,G).toString()+")"}throw new uMB(Y,e4.ERROR[C],E)}}}catch(C){mB.destroy(Q,C)}}destroy(){SB(PG===null),SB(this.ptr!=null),this.llhttp.llhttp_free(this.ptr),this.ptr=null,this.timeout&&H7A.clearTimeout(this.timeout),this.timeout=null,this.timeoutValue=null,this.timeoutType=null,this.paused=!1}onStatus(A){return this.statusText=A.toString(),0}onMessageBegin(){let{socket:A,client:Q}=this;if(A.destroyed)return-1;let B=Q[u9][Q[D8]];if(!B)return-1;return B.onResponseStarted(),0}onHeaderField(A){let Q=this.headers.length;if((Q&1)===0)this.headers.push(A);else this.headers[Q-1]=Buffer.concat([this.headers[Q-1],A]);return this.trackHeader(A.length),0}onHeaderValue(A){let Q=this.headers.length;if((Q&1)===1)this.headers.push(A),Q+=1;else this.headers[Q-1]=Buffer.concat([this.headers[Q-1],A]);let B=this.headers[Q-2];if(B.length===10){let C=mB.bufferToLowerCasedHeaderName(B);if(C==="keep-alive")this.keepAlive+=A.toString();else if(C==="connection")this.connection+=A.toString()}else if(B.length===14&&mB.bufferToLowerCasedHeaderName(B)==="content-length")this.contentLength+=A.toString();return this.trackHeader(A.length),0}trackHeader(A){if(this.headersSize+=A,this.headersSize>=this.headersMaxSize)mB.destroy(this.socket,new fMB)}onUpgrade(A){let{upgrade:Q,client:B,socket:C,headers:E,statusCode:I}=this;SB(Q),SB(B[TT]===C),SB(!C.destroyed),SB(!this.paused),SB((E.length&1)===0);let Y=B[u9][B[D8]];SB(Y),SB(Y.upgrade||Y.method==="CONNECT"),this.statusCode=0,this.statusText="",this.shouldKeepAlive=!1,this.headers=[],this.headersSize=0,C.unshift(A),C[DY].destroy(),C[DY]=null,C[w7A]=null,C[U8]=null,C$B(C),B[TT]=null,B[i3Q]=null,B[u9][B[D8]++]=null,B.emit("disconnect",B[l3Q],[B],new RT("upgrade"));try{Y.onUpgrade(I,E,C)}catch(G){mB.destroy(C,G)}B[AV]()}onHeadersComplete(A,Q,B){let{client:C,socket:E,headers:I,statusText:Y}=this;if(E.destroyed)return-1;let G=C[u9][C[D8]];if(!G)return-1;if(SB(!this.upgrade),SB(this.statusCode<200),A===100)return mB.destroy(E,new Kk("bad response",mB.getSocketInfo(E))),-1;if(Q&&!G.upgrade)return mB.destroy(E,new Kk("bad upgrade",mB.getSocketInfo(E))),-1;if(SB(this.timeoutType===qT),this.statusCode=A,this.shouldKeepAlive=B||G.method==="HEAD"&&!E[sD]&&this.connection.toLowerCase()==="keep-alive",this.statusCode>=200){let D=G.bodyTimeout!=null?G.bodyTimeout:C[tMB];this.setTimeout(D,Se)}else if(this.timeout){if(this.timeout.refresh)this.timeout.refresh()}if(G.method==="CONNECT")return SB(C[V2]===1),this.upgrade=!0,2;if(Q)return SB(C[V2]===1),this.upgrade=!0,2;if(SB((this.headers.length&1)===0),this.headers=[],this.headersSize=0,this.shouldKeepAlive&&C[xe]){let D=this.keepAlive?mB.parseKeepAliveTimeout(this.keepAlive):null;if(D!=null){let U=Math.min(D-C[aMB],C[rMB]);if(U<=0)E[sD]=!0;else C[ge]=U}else C[ge]=C[lMB]}else E[sD]=!0;let J=G.onHeaders(A,I,this.resume,Y)===!1;if(G.aborted)return-1;if(G.method==="HEAD")return 1;if(A<200)return 1;if(E[Vk])E[Vk]=!1,C[AV]();return J?e4.ERROR.PAUSED:0}onBody(A){let{client:Q,socket:B,statusCode:C,maxResponseSize:E}=this;if(B.destroyed)return-1;let I=Q[u9][Q[D8]];if(SB(I),SB(this.timeoutType===Se),this.timeout){if(this.timeout.refresh)this.timeout.refresh()}if(SB(C>=200),E>-1&&this.bytesRead+A.length>E)return mB.destroy(B,new pMB),-1;if(this.bytesRead+=A.length,I.onData(A)===!1)return e4.ERROR.PAUSED;return 0}onMessageComplete(){let{client:A,socket:Q,statusCode:B,upgrade:C,headers:E,contentLength:I,bytesRead:Y,shouldKeepAlive:G}=this;if(Q.destroyed&&(!B||G))return-1;if(C)return 0;SB(B>=100),SB((this.headers.length&1)===0);let J=A[u9][A[D8]];if(SB(J),this.statusCode=0,this.statusText="",this.bytesRead=0,this.contentLength="",this.keepAlive="",this.connection="",this.headers=[],this.headersSize=0,B<200)return 0;if(J.method!=="HEAD"&&I&&Y!==parseInt(I,10))return mB.destroy(Q,new hMB),-1;if(J.onComplete(E),A[u9][A[D8]++]=null,Q[QV])return SB(A[V2]===0),mB.destroy(Q,new RT("reset")),e4.ERROR.PAUSED;else if(!G)return mB.destroy(Q,new RT("reset")),e4.ERROR.PAUSED;else if(Q[sD]&&A[V2]===0)return mB.destroy(Q,new RT("reset")),e4.ERROR.PAUSED;else if(A[xe]==null||A[xe]===1)setImmediate(()=>A[AV]());else A[AV]();return 0}}function d3Q(A){let{socket:Q,timeoutType:B,client:C,paused:E}=A.deref();if(B===qT){if(!Q[QV]||Q.writableNeedDrain||C[V2]>1)SB(!E,"cannot be paused while waiting for headers"),mB.destroy(Q,new mMB)}else if(B===Se){if(!E)mB.destroy(Q,new dMB)}else if(B===z7A)SB(C[V2]===0&&C[ge]),mB.destroy(Q,new RT("socket idle timeout"))}async function Y$B(A,Q){if(A[TT]=Q,!K7A){let B=()=>{};Q.on("error",B),K7A=await $7A,$7A=null,Q.off("error",B)}if(Q.errored)throw Q.errored;if(Q.destroyed)throw new Kk("destroyed");return Q[Hk]=!1,Q[QV]=!1,Q[sD]=!1,Q[Vk]=!1,Q[DY]=new n3Q(A,Q,K7A),mB.addListener(Q,"error",G$B),mB.addListener(Q,"readable",J$B),mB.addListener(Q,"end",D$B),mB.addListener(Q,"close",U$B),Q[M7A]=!1,Q.on("close",N$B),{version:"h1",defaultPipelining:1,write(B){return F$B(A,B)},resume(){Z$B(A)},destroy(B,C){if(Q[M7A])queueMicrotask(C);else Q.on("close",C),Q.destroy(B)},get destroyed(){return Q.destroyed},busy(B){if(Q[QV]||Q[sD]||Q[Vk])return!0;if(B){if(A[V2]>0&&!B.idempotent)return!0;if(A[V2]>0&&(B.upgrade||B.method==="CONNECT"))return!0;if(A[V2]>0&&mB.bodyLength(B.body)!==0&&(mB.isStream(B.body)||mB.isAsyncIterable(B.body)||mB.isFormDataLike(B.body)))return!0}return!1}}}function G$B(A){SB(A.code!=="ERR_TLS_CERT_ALTNAME_INVALID");let Q=this[DY];if(A.code==="ECONNRESET"&&Q.statusCode&&!Q.shouldKeepAlive){Q.onMessageComplete();return}this[U8]=A,this[w7A][Q$B](A)}function J$B(){this[DY]?.readMore()}function D$B(){let A=this[DY];if(A.statusCode&&!A.shouldKeepAlive){A.onMessageComplete();return}mB.destroy(this,new Kk("other side closed",mB.getSocketInfo(this)))}function U$B(){let A=this[DY];if(A){if(!this[U8]&&A.statusCode&&!A.shouldKeepAlive)A.onMessageComplete();this[DY].destroy(),this[DY]=null}let Q=this[U8]||new Kk("closed",mB.getSocketInfo(this)),B=this[w7A];if(B[TT]=null,B[i3Q]=null,B.destroyed){SB(B[cMB]===0);let C=B[u9].splice(B[D8]);for(let E=0;E<C.length;E++){let I=C[E];mB.errorRequest(B,I,Q)}}else if(B[V2]>0&&Q.code!=="UND_ERR_INFO"){let C=B[u9][B[D8]];B[u9][B[D8]++]=null,mB.errorRequest(B,C,Q)}B[nMB]=B[D8],SB(B[V2]===0),B.emit("disconnect",B[l3Q],[B],Q),B[AV]()}function N$B(){this[M7A]=!0}function Z$B(A){let Q=A[TT];if(Q&&!Q.destroyed){if(A[m3Q]===0){if(!Q[Hk]&&Q.unref)Q.unref(),Q[Hk]=!0}else if(Q[Hk]&&Q.ref)Q.ref(),Q[Hk]=!1;if(A[m3Q]===0){if(Q[DY].timeoutType!==z7A)Q[DY].setTimeout(A[ge],z7A)}else if(A[V2]>0&&Q[DY].statusCode<200){if(Q[DY].timeoutType!==qT){let B=A[u9][A[D8]],C=B.headersTimeout!=null?B.headersTimeout:A[sMB];Q[DY].setTimeout(C,qT)}}}}function X$B(A){return A!=="GET"&&A!=="HEAD"&&A!=="OPTIONS"&&A!=="TRACE"&&A!=="CONNECT"}function F$B(A,Q){let{method:B,path:C,host:E,upgrade:I,blocking:Y,reset:G}=Q,{body:J,headers:D,contentLength:U}=Q,N=B==="PUT"||B==="POST"||B==="PATCH"||B==="QUERY"||B==="PROPFIND"||B==="PROPPATCH";if(mB.isFormDataLike(J)){if(!W7A)W7A=OT().extractBody;let[V,M]=W7A(J);if(Q.contentType==null)D.push("content-type",M);J=V.stream,U=V.length}else if(mB.isBlobLike(J)&&Q.contentType==null&&J.type)D.push("content-type",J.type);if(J&&typeof J.read==="function")J.read(0);let Z=mB.bodyLength(J);if(U=Z??U,U===null)U=Q.contentLength;if(U===0&&!N)U=null;if(X$B(B)&&U>0&&Q.contentLength!==null&&Q.contentLength!==U){if(A[V7A])return mB.errorRequest(A,Q,new tM),!1;process.emitWarning(new tM)}let X=A[TT],W=(V)=>{if(Q.aborted||Q.completed)return;mB.errorRequest(A,Q,V||new c3Q),mB.destroy(J),mB.destroy(X,new RT("aborted"))};try{Q.onConnect(W)}catch(V){mB.errorRequest(A,Q,V)}if(Q.aborted)return!1;if(B==="HEAD")X[sD]=!0;if(I||B==="CONNECT")X[sD]=!0;if(G!=null)X[sD]=G;if(A[f3Q]&&X[eMB]++>=A[f3Q])X[sD]=!0;if(Y)X[Vk]=!0;let K=`${B} ${C} HTTP/1.1\r
`;if(typeof E==="string")K+=`host: ${E}\r
`;else K+=A[iMB];if(I)K+=`connection: upgrade\r
upgrade: ${I}\r
`;else if(A[xe]&&!X[sD])K+=`connection: keep-alive\r
`;else K+=`connection: close\r
`;if(Array.isArray(D))for(let V=0;V<D.length;V+=2){let M=D[V+0],z=D[V+1];if(Array.isArray(z))for(let L=0;L<z.length;L++)K+=`${M}: ${z[L]}\r
`;else K+=`${M}: ${z}\r
`}if(h3Q.sendHeaders.hasSubscribers)h3Q.sendHeaders.publish({request:Q,headers:K,socket:X});if(!J||Z===0)u3Q(W,null,A,Q,X,U,K,N);else if(mB.isBuffer(J))u3Q(W,J,A,Q,X,U,K,N);else if(mB.isBlobLike(J))if(typeof J.stream==="function")p3Q(W,J.stream(),A,Q,X,U,K,N);else W$B(W,J,A,Q,X,U,K,N);else if(mB.isStream(J))H$B(W,J,A,Q,X,U,K,N);else if(mB.isIterable(J))p3Q(W,J,A,Q,X,U,K,N);else SB(!1);return!0}function H$B(A,Q,B,C,E,I,Y,G){SB(I!==0||B[V2]===0,"stream body cannot be pipelined");let J=!1,D=new L7A({abort:A,socket:E,request:C,contentLength:I,client:B,expectsPayload:G,header:Y}),U=function(W){if(J)return;try{if(!D.write(W)&&this.pause)this.pause()}catch(K){mB.destroy(this,K)}},N=function(){if(J)return;if(Q.resume)Q.resume()},Z=function(){if(queueMicrotask(()=>{Q.removeListener("error",X)}),!J){let W=new c3Q;queueMicrotask(()=>X(W))}},X=function(W){if(J)return;if(J=!0,SB(E.destroyed||E[QV]&&B[V2]<=1),E.off("drain",N).off("error",X),Q.removeListener("data",U).removeListener("end",X).removeListener("close",Z),!W)try{D.end()}catch(K){W=K}if(D.destroy(W),W&&(W.code!=="UND_ERR_INFO"||W.message!=="reset"))mB.destroy(Q,W);else mB.destroy(Q)};if(Q.on("data",U).on("end",X).on("error",X).on("close",Z),Q.resume)Q.resume();if(E.on("drain",N).on("error",X),Q.errorEmitted??Q.errored)setImmediate(()=>X(Q.errored));else if(Q.endEmitted??Q.readableEnded)setImmediate(()=>X(null));if(Q.closeEmitted??Q.closed)setImmediate(Z)}function u3Q(A,Q,B,C,E,I,Y,G){try{if(!Q)if(I===0)E.write(`${Y}content-length: 0\r
\r
`,"latin1");else SB(I===null,"no body must not have content length"),E.write(`${Y}\r
`,"latin1");else if(mB.isBuffer(Q)){if(SB(I===Q.byteLength,"buffer body must have content length"),E.cork(),E.write(`${Y}content-length: ${I}\r
\r
`,"latin1"),E.write(Q),E.uncork(),C.onBodySent(Q),!G&&C.reset!==!1)E[sD]=!0}C.onRequestSent(),B[AV]()}catch(J){A(J)}}async function W$B(A,Q,B,C,E,I,Y,G){SB(I===Q.size,"blob body must have content length");try{if(I!=null&&I!==Q.size)throw new tM;let J=Buffer.from(await Q.arrayBuffer());if(E.cork(),E.write(`${Y}content-length: ${I}\r
\r
`,"latin1"),E.write(J),E.uncork(),C.onBodySent(J),C.onRequestSent(),!G&&C.reset!==!1)E[sD]=!0;B[AV]()}catch(J){A(J)}}async function p3Q(A,Q,B,C,E,I,Y,G){SB(I!==0||B[V2]===0,"iterator body cannot be pipelined");let J=null;function D(){if(J){let Z=J;J=null,Z()}}let U=()=>new Promise((Z,X)=>{if(SB(J===null),E[U8])X(E[U8]);else J=Z});E.on("close",D).on("drain",D);let N=new L7A({abort:A,socket:E,request:C,contentLength:I,client:B,expectsPayload:G,header:Y});try{for await(let Z of Q){if(E[U8])throw E[U8];if(!N.write(Z))await U()}N.end()}catch(Z){N.destroy(Z)}finally{E.off("close",D).off("drain",D)}}class L7A{constructor({abort:A,socket:Q,request:B,contentLength:C,client:E,expectsPayload:I,header:Y}){this.socket=Q,this.request=B,this.contentLength=C,this.client=E,this.bytesWritten=0,this.expectsPayload=I,this.header=Y,this.abort=A,Q[QV]=!0}write(A){let{socket:Q,request:B,contentLength:C,client:E,bytesWritten:I,expectsPayload:Y,header:G}=this;if(Q[U8])throw Q[U8];if(Q.destroyed)return!1;let J=Buffer.byteLength(A);if(!J)return!0;if(C!==null&&I+J>C){if(E[V7A])throw new tM;process.emitWarning(new tM)}if(Q.cork(),I===0){if(!Y&&B.reset!==!1)Q[sD]=!0;if(C===null)Q.write(`${G}transfer-encoding: chunked\r
`,"latin1");else Q.write(`${G}content-length: ${C}\r
\r
`,"latin1")}if(C===null)Q.write(`\r
${J.toString(16)}\r
`,"latin1");this.bytesWritten+=J;let D=Q.write(A);if(Q.uncork(),B.onBodySent(A),!D){if(Q[DY].timeout&&Q[DY].timeoutType===qT){if(Q[DY].timeout.refresh)Q[DY].timeout.refresh()}}return D}end(){let{socket:A,contentLength:Q,client:B,bytesWritten:C,expectsPayload:E,header:I,request:Y}=this;if(Y.onRequestSent(),A[QV]=!1,A[U8])throw A[U8];if(A.destroyed)return;if(C===0)if(E)A.write(`${I}content-length: 0\r
\r
`,"latin1");else A.write(`${I}\r
`,"latin1");else if(Q===null)A.write(`\r
0\r
\r
`,"latin1");if(Q!==null&&C!==Q)if(B[V7A])throw new tM;else process.emitWarning(new tM);if(A[DY].timeout&&A[DY].timeoutType===qT){if(A[DY].timeout.refresh)A[DY].timeout.refresh()}B[AV]()}destroy(A){let{socket:Q,client:B,abort:C}=this;if(Q[QV]=!1,A)SB(B[V2]<=1,"pipeline should only contain this request"),C(A)}}o3Q.exports=Y$B});var BMQ=m((Hj0,QMQ)=>{var Z8=a("node:assert"),{pipeline:K$B}=a("node:stream"),LC=D0(),{RequestContentLengthMismatchError:O7A,RequestAbortedError:V$B,SocketError:Mk,InformationalError:ve}=FC(),{kUrl:ke,kReset:be,kClient:eM,kRunning:he,kPending:M$B,kQueue:BV,kPendingIdx:T7A,kRunningIdx:p9,kError:c9,kSocket:xY,kStrictContentLength:$$B,kOnError:me,kMaxConcurrentStreams:AMQ,kHTTP2Session:B1,kResume:EF,kSize:z$B,kHTTPContext:q7A,kClosed:R7A,kBodyTimeout:w$B}=kE(),{channels:a3Q}=t6(),N8=Symbol("open streams"),s3Q,ye;try{ye=a("node:http2")}catch{ye={constants:{}}}var{constants:{HTTP2_HEADER_AUTHORITY:L$B,HTTP2_HEADER_METHOD:O$B,HTTP2_HEADER_PATH:R$B,HTTP2_HEADER_SCHEME:T$B,HTTP2_HEADER_CONTENT_LENGTH:q$B,HTTP2_HEADER_EXPECT:P$B,HTTP2_HEADER_STATUS:_$B}}=ye;function j$B(A){let Q=[];for(let[B,C]of Object.entries(A))if(Array.isArray(C))for(let E of C)Q.push(Buffer.from(B),Buffer.from(E));else Q.push(Buffer.from(B),Buffer.from(C));return Q}async function x$B(A,Q){A[xY]=Q;let B=ye.connect(A[ke],{createConnection:()=>Q,peerMaxConcurrentStreams:A[AMQ],settings:{enablePush:!1}});return B[N8]=0,B[eM]=A,B[xY]=Q,B[B1]=null,LC.addListener(B,"error",g$B),LC.addListener(B,"frameError",v$B),LC.addListener(B,"end",y$B),LC.addListener(B,"goaway",k$B),LC.addListener(B,"close",b$B),B.unref(),A[B1]=B,Q[B1]=B,LC.addListener(Q,"error",m$B),LC.addListener(Q,"end",f$B),LC.addListener(Q,"close",h$B),Q[R7A]=!1,Q.on("close",d$B),{version:"h2",defaultPipelining:1/0,write(C){return p$B(A,C)},resume(){S$B(A)},destroy(C,E){if(Q[R7A])queueMicrotask(E);else Q.destroy(C).on("close",E)},get destroyed(){return Q.destroyed},busy(){return!1}}}function S$B(A){let Q=A[xY];if(Q?.destroyed===!1)if(A[z$B]===0||A[AMQ]===0)Q.unref(),A[B1].unref();else Q.ref(),A[B1].ref()}function g$B(A){Z8(A.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[xY][c9]=A,this[eM][me](A)}function v$B(A,Q,B){if(B===0){let C=new ve(`HTTP/2: "frameError" received - type ${A}, code ${Q}`);this[xY][c9]=C,this[eM][me](C)}}function y$B(){let A=new Mk("other side closed",LC.getSocketInfo(this[xY]));this.destroy(A),LC.destroy(this[xY],A)}function k$B(A){let Q=this[c9]||new Mk(`HTTP/2: "GOAWAY" frame received with code ${A}`,LC.getSocketInfo(this[xY])),B=this[eM];if(B[xY]=null,B[q7A]=null,this.close(),this[B1]=null,LC.destroy(this[xY],Q),B[p9]<B[BV].length){let C=B[BV][B[p9]];B[BV][B[p9]++]=null,LC.errorRequest(B,C,Q),B[T7A]=B[p9]}Z8(B[he]===0),B.emit("disconnect",B[ke],[B],Q),B[EF]()}function b$B(){let{[eM]:A}=this,{[xY]:Q}=A,B=this[xY][c9]||this[c9]||new Mk("closed",LC.getSocketInfo(Q));if(A[xY]=null,A[q7A]=null,A.destroyed){Z8(A[M$B]===0);let C=A[BV].splice(A[p9]);for(let E=0;E<C.length;E++){let I=C[E];LC.errorRequest(A,I,B)}}}function h$B(){let A=this[c9]||new Mk("closed",LC.getSocketInfo(this)),Q=this[B1][eM];if(Q[xY]=null,Q[q7A]=null,this[B1]!==null)this[B1].destroy(A);Q[T7A]=Q[p9],Z8(Q[he]===0),Q.emit("disconnect",Q[ke],[Q],A),Q[EF]()}function m$B(A){Z8(A.code!=="ERR_TLS_CERT_ALTNAME_INVALID"),this[c9]=A,this[eM][me](A)}function f$B(){LC.destroy(this,new Mk("other side closed",LC.getSocketInfo(this)))}function d$B(){this[R7A]=!0}function u$B(A){return A!=="GET"&&A!=="HEAD"&&A!=="OPTIONS"&&A!=="TRACE"&&A!=="CONNECT"}function p$B(A,Q){let B=Q.bodyTimeout??A[w$B],C=A[B1],{method:E,path:I,host:Y,upgrade:G,expectContinue:J,signal:D,headers:U}=Q,{body:N}=Q;if(G)return LC.errorRequest(A,Q,new Error("Upgrade not supported for H2")),!1;let Z={};for(let R=0;R<U.length;R+=2){let _=U[R+0],S=U[R+1];if(Array.isArray(S))for(let q=0;q<S.length;q++)if(Z[_])Z[_]+=`,${S[q]}`;else Z[_]=S[q];else Z[_]=S}let X=null,{hostname:W,port:K}=A[ke];Z[L$B]=Y||`${W}${K?`:${K}`:""}`,Z[O$B]=E;let V=(R)=>{if(Q.aborted||Q.completed)return;if(R=R||new V$B,LC.errorRequest(A,Q,R),X!=null)X.removeAllListeners("data"),X.close(),A[me](R),A[EF]();LC.destroy(N,R)};try{Q.onConnect(V)}catch(R){LC.errorRequest(A,Q,R)}if(Q.aborted)return!1;if(E==="CONNECT"){if(C.ref(),X=C.request(Z,{endStream:!1,signal:D}),!X.pending)Q.onUpgrade(null,null,X),++C[N8],A[BV][A[p9]++]=null;else X.once("ready",()=>{Q.onUpgrade(null,null,X),++C[N8],A[BV][A[p9]++]=null});return X.once("close",()=>{if(C[N8]-=1,C[N8]===0)C.unref()}),X.setTimeout(B),!0}Z[R$B]=I,Z[T$B]="https";let M=E==="PUT"||E==="POST"||E==="PATCH";if(N&&typeof N.read==="function")N.read(0);let z=LC.bodyLength(N);if(LC.isFormDataLike(N)){s3Q??=OT().extractBody;let[R,_]=s3Q(N);Z["content-type"]=_,N=R.stream,z=R.length}if(z==null)z=Q.contentLength;if(z===0||!M)z=null;if(u$B(E)&&z>0&&Q.contentLength!=null&&Q.contentLength!==z){if(A[$$B])return LC.errorRequest(A,Q,new O7A),!1;process.emitWarning(new O7A)}if(z!=null)Z8(N,"no body must not have content length"),Z[q$B]=`${z}`;if(C.ref(),a3Q.sendHeaders.hasSubscribers){let R="";for(let _ in Z)R+=`${_}: ${Z[_]}\r
`;a3Q.sendHeaders.publish({request:Q,headers:R,socket:C[xY]})}let L=E==="GET"||E==="HEAD"||N===null;if(J)Z[P$B]="100-continue",X=C.request(Z,{endStream:L,signal:D}),X.once("continue",O);else X=C.request(Z,{endStream:L,signal:D}),O();return++C[N8],X.setTimeout(B),X.once("response",(R)=>{let{[_$B]:_,...S}=R;if(Q.onResponseStarted(),Q.aborted){X.removeAllListeners("data");return}if(Q.onHeaders(Number(_),j$B(S),X.resume.bind(X),"")===!1)X.pause()}),X.on("data",(R)=>{if(Q.onData(R)===!1)X.pause()}),X.once("end",(R)=>{if(X.removeAllListeners("data"),X.state?.state==null||X.state.state<6){if(!Q.aborted&&!Q.completed)Q.onComplete({});A[BV][A[p9]++]=null,A[EF]()}else{if(--C[N8],C[N8]===0)C.unref();V(R??new ve("HTTP/2: stream half-closed (remote)")),A[BV][A[p9]++]=null,A[T7A]=A[p9],A[EF]()}}),X.once("close",()=>{if(X.removeAllListeners("data"),C[N8]-=1,C[N8]===0)C.unref()}),X.once("error",function(R){X.removeAllListeners("data"),V(R)}),X.once("frameError",(R,_)=>{X.removeAllListeners("data"),V(new ve(`HTTP/2: "frameError" received - type ${R}, code ${_}`))}),X.on("aborted",()=>{X.removeAllListeners("data")}),X.on("timeout",()=>{let R=new ve(`HTTP/2: "stream timeout after ${B}"`);if(X.removeAllListeners("data"),C[N8]-=1,C[N8]===0)C.unref();V(R)}),X.once("trailers",(R)=>{if(Q.aborted||Q.completed)return;Q.onComplete(R)}),!0;function O(){if(!N||z===0)t3Q(V,X,null,A,Q,A[xY],z,M);else if(LC.isBuffer(N))t3Q(V,X,N,A,Q,A[xY],z,M);else if(LC.isBlobLike(N))if(typeof N.stream==="function")e3Q(V,X,N.stream(),A,Q,A[xY],z,M);else l$B(V,X,N,A,Q,A[xY],z,M);else if(LC.isStream(N))c$B(V,A[xY],M,X,N,A,Q,z);else if(LC.isIterable(N))e3Q(V,X,N,A,Q,A[xY],z,M);else Z8(!1)}}function t3Q(A,Q,B,C,E,I,Y,G){try{if(B!=null&&LC.isBuffer(B))Z8(Y===B.byteLength,"buffer body must have content length"),Q.cork(),Q.write(B),Q.uncork(),Q.end(),E.onBodySent(B);if(!G)I[be]=!0;E.onRequestSent(),C[EF]()}catch(J){A(J)}}function c$B(A,Q,B,C,E,I,Y,G){Z8(G!==0||I[he]===0,"stream body cannot be pipelined");let J=K$B(E,C,(U)=>{if(U)LC.destroy(J,U),A(U);else{if(LC.removeAllListeners(J),Y.onRequestSent(),!B)Q[be]=!0;I[EF]()}});LC.addListener(J,"data",D);function D(U){Y.onBodySent(U)}}async function l$B(A,Q,B,C,E,I,Y,G){Z8(Y===B.size,"blob body must have content length");try{if(Y!=null&&Y!==B.size)throw new O7A;let J=Buffer.from(await B.arrayBuffer());if(Q.cork(),Q.write(J),Q.uncork(),Q.end(),E.onBodySent(J),E.onRequestSent(),!G)I[be]=!0;C[EF]()}catch(J){A(J)}}async function e3Q(A,Q,B,C,E,I,Y,G){Z8(Y!==0||C[he]===0,"iterator body cannot be pipelined");let J=null;function D(){if(J){let N=J;J=null,N()}}let U=()=>new Promise((N,Z)=>{if(Z8(J===null),I[c9])Z(I[c9]);else J=N});Q.on("close",D).on("drain",D);try{for await(let N of B){if(I[c9])throw I[c9];let Z=Q.write(N);if(E.onBodySent(N),!Z)await U()}if(Q.end(),E.onRequestSent(),!G)I[be]=!0;C[EF]()}catch(N){A(N)}finally{Q.off("close",D).off("drain",D)}}QMQ.exports=x$B});var qk=m((Wj0,NMQ)=>{var IF=a("node:assert"),YMQ=a("node:net"),$k=a("node:http"),A$=D0(),{channels:PT}=t6(),i$B=D7Q(),n$B=KT(),{InvalidArgumentError:SY,InformationalError:o$B,ClientDestroyedError:r$B}=FC(),a$B=Nk(),{kUrl:C1,kServerName:CV,kClient:s$B,kBusy:P7A,kConnect:t$B,kResuming:Q$,kRunning:Rk,kPending:Tk,kSize:Ok,kQueue:l9,kConnected:e$B,kConnecting:_T,kNeedDrain:IV,kKeepAliveDefaultTimeout:CMQ,kHostHeader:AzB,kPendingIdx:i9,kRunningIdx:YF,kError:QzB,kPipelining:fe,kKeepAliveTimeoutValue:BzB,kMaxHeadersSize:CzB,kKeepAliveMaxTimeout:EzB,kKeepAliveTimeoutThreshold:IzB,kHeadersTimeout:YzB,kBodyTimeout:GzB,kStrictContentLength:JzB,kConnector:zk,kMaxRequests:_7A,kCounter:DzB,kClose:UzB,kDestroy:NzB,kDispatch:ZzB,kLocalAddress:wk,kMaxResponseSize:XzB,kOnError:FzB,kHTTPContext:gY,kMaxConcurrentStreams:HzB,kResume:Lk}=kE(),WzB=r3Q(),KzB=BMQ(),EV=Symbol("kClosedResolve"),VzB=$k&&$k.maxHeaderSize&&Number.isInteger($k.maxHeaderSize)&&$k.maxHeaderSize>0?()=>$k.maxHeaderSize:()=>{throw new SY("http module not available or http.maxHeaderSize invalid")},EMQ=()=>{};function GMQ(A){return A[fe]??A[gY]?.defaultPipelining??1}class JMQ extends n$B{constructor(A,{maxHeaderSize:Q,headersTimeout:B,socketTimeout:C,requestTimeout:E,connectTimeout:I,bodyTimeout:Y,idleTimeout:G,keepAlive:J,keepAliveTimeout:D,maxKeepAliveTimeout:U,keepAliveMaxTimeout:N,keepAliveTimeoutThreshold:Z,socketPath:X,pipelining:W,tls:K,strictContentLength:V,maxCachedSessions:M,connect:z,maxRequestsPerClient:L,localAddress:O,maxResponseSize:R,autoSelectFamily:_,autoSelectFamilyAttemptTimeout:S,maxConcurrentStreams:q,allowH2:y}={}){if(J!==void 0)throw new SY("unsupported keepAlive, use pipelining=0 instead");if(C!==void 0)throw new SY("unsupported socketTimeout, use headersTimeout & bodyTimeout instead");if(E!==void 0)throw new SY("unsupported requestTimeout, use headersTimeout & bodyTimeout instead");if(G!==void 0)throw new SY("unsupported idleTimeout, use keepAliveTimeout instead");if(U!==void 0)throw new SY("unsupported maxKeepAliveTimeout, use keepAliveMaxTimeout instead");if(Q!=null){if(!Number.isInteger(Q)||Q<1)throw new SY("invalid maxHeaderSize")}else Q=VzB();if(X!=null&&typeof X!=="string")throw new SY("invalid socketPath");if(I!=null&&(!Number.isFinite(I)||I<0))throw new SY("invalid connectTimeout");if(D!=null&&(!Number.isFinite(D)||D<=0))throw new SY("invalid keepAliveTimeout");if(N!=null&&(!Number.isFinite(N)||N<=0))throw new SY("invalid keepAliveMaxTimeout");if(Z!=null&&!Number.isFinite(Z))throw new SY("invalid keepAliveTimeoutThreshold");if(B!=null&&(!Number.isInteger(B)||B<0))throw new SY("headersTimeout must be a positive integer or zero");if(Y!=null&&(!Number.isInteger(Y)||Y<0))throw new SY("bodyTimeout must be a positive integer or zero");if(z!=null&&typeof z!=="function"&&typeof z!=="object")throw new SY("connect must be a function or an object");if(L!=null&&(!Number.isInteger(L)||L<0))throw new SY("maxRequestsPerClient must be a positive number");if(O!=null&&(typeof O!=="string"||YMQ.isIP(O)===0))throw new SY("localAddress must be valid string IP address");if(R!=null&&(!Number.isInteger(R)||R<-1))throw new SY("maxResponseSize must be a positive number");if(S!=null&&(!Number.isInteger(S)||S<-1))throw new SY("autoSelectFamilyAttemptTimeout must be a positive number");if(y!=null&&typeof y!=="boolean")throw new SY("allowH2 must be a valid boolean value");if(q!=null&&(typeof q!=="number"||q<1))throw new SY("maxConcurrentStreams must be a positive integer, greater than 0");super();if(typeof z!=="function")z=a$B({...K,maxCachedSessions:M,allowH2:y,socketPath:X,timeout:I,..._?{autoSelectFamily:_,autoSelectFamilyAttemptTimeout:S}:void 0,...z});this[C1]=A$.parseOrigin(A),this[zk]=z,this[fe]=W!=null?W:1,this[CzB]=Q,this[CMQ]=D==null?4000:D,this[EzB]=N==null?600000:N,this[IzB]=Z==null?2000:Z,this[BzB]=this[CMQ],this[CV]=null,this[wk]=O!=null?O:null,this[Q$]=0,this[IV]=0,this[AzB]=`host: ${this[C1].hostname}${this[C1].port?`:${this[C1].port}`:""}\r
`,this[GzB]=Y!=null?Y:300000,this[YzB]=B!=null?B:300000,this[JzB]=V==null?!0:V,this[_7A]=L,this[EV]=null,this[XzB]=R>-1?R:-1,this[HzB]=q!=null?q:100,this[gY]=null,this[l9]=[],this[YF]=0,this[i9]=0,this[Lk]=(p)=>j7A(this,p),this[FzB]=(p)=>DMQ(this,p)}get pipelining(){return this[fe]}set pipelining(A){this[fe]=A,this[Lk](!0)}get[Tk](){return this[l9].length-this[i9]}get[Rk](){return this[i9]-this[YF]}get[Ok](){return this[l9].length-this[YF]}get[e$B](){return!!this[gY]&&!this[_T]&&!this[gY].destroyed}get[P7A](){return Boolean(this[gY]?.busy(null)||this[Ok]>=(GMQ(this)||1)||this[Tk]>0)}[t$B](A){UMQ(this),this.once("connect",A)}[ZzB](A,Q){let B=A.origin||this[C1].origin,C=new i$B(B,A,Q);if(this[l9].push(C),this[Q$]);else if(A$.bodyLength(C.body)==null&&A$.isIterable(C.body))this[Q$]=1,queueMicrotask(()=>j7A(this));else this[Lk](!0);if(this[Q$]&&this[IV]!==2&&this[P7A])this[IV]=2;return this[IV]<2}async[UzB](){return new Promise((A)=>{if(this[Ok])this[EV]=A;else A(null)})}async[NzB](A){return new Promise((Q)=>{let B=this[l9].splice(this[i9]);for(let E=0;E<B.length;E++){let I=B[E];A$.errorRequest(this,I,A)}let C=()=>{if(this[EV])this[EV](),this[EV]=null;Q(null)};if(this[gY])this[gY].destroy(A,C),this[gY]=null;else queueMicrotask(C);this[Lk]()})}}function DMQ(A,Q){if(A[Rk]===0&&Q.code!=="UND_ERR_INFO"&&Q.code!=="UND_ERR_SOCKET"){IF(A[i9]===A[YF]);let B=A[l9].splice(A[YF]);for(let C=0;C<B.length;C++){let E=B[C];A$.errorRequest(A,E,Q)}IF(A[Ok]===0)}}async function UMQ(A){IF(!A[_T]),IF(!A[gY]);let{host:Q,hostname:B,protocol:C,port:E}=A[C1];if(B[0]==="["){let I=B.indexOf("]");IF(I!==-1);let Y=B.substring(1,I);IF(YMQ.isIPv6(Y)),B=Y}if(A[_T]=!0,PT.beforeConnect.hasSubscribers)PT.beforeConnect.publish({connectParams:{host:Q,hostname:B,protocol:C,port:E,version:A[gY]?.version,servername:A[CV],localAddress:A[wk]},connector:A[zk]});try{let I=await new Promise((Y,G)=>{A[zk]({host:Q,hostname:B,protocol:C,port:E,servername:A[CV],localAddress:A[wk]},(J,D)=>{if(J)G(J);else Y(D)})});if(A.destroyed){A$.destroy(I.on("error",EMQ),new r$B);return}IF(I);try{A[gY]=I.alpnProtocol==="h2"?await KzB(A,I):await WzB(A,I)}catch(Y){throw I.destroy().on("error",EMQ),Y}if(A[_T]=!1,I[DzB]=0,I[_7A]=A[_7A],I[s$B]=A,I[QzB]=null,PT.connected.hasSubscribers)PT.connected.publish({connectParams:{host:Q,hostname:B,protocol:C,port:E,version:A[gY]?.version,servername:A[CV],localAddress:A[wk]},connector:A[zk],socket:I});A.emit("connect",A[C1],[A])}catch(I){if(A.destroyed)return;if(A[_T]=!1,PT.connectError.hasSubscribers)PT.connectError.publish({connectParams:{host:Q,hostname:B,protocol:C,port:E,version:A[gY]?.version,servername:A[CV],localAddress:A[wk]},connector:A[zk],error:I});if(I.code==="ERR_TLS_CERT_ALTNAME_INVALID"){IF(A[Rk]===0);while(A[Tk]>0&&A[l9][A[i9]].servername===A[CV]){let Y=A[l9][A[i9]++];A$.errorRequest(A,Y,I)}}else DMQ(A,I);A.emit("connectionError",A[C1],[A],I)}A[Lk]()}function IMQ(A){A[IV]=0,A.emit("drain",A[C1],[A])}function j7A(A,Q){if(A[Q$]===2)return;if(A[Q$]=2,MzB(A,Q),A[Q$]=0,A[YF]>256)A[l9].splice(0,A[YF]),A[i9]-=A[YF],A[YF]=0}function MzB(A,Q){while(!0){if(A.destroyed){IF(A[Tk]===0);return}if(A[EV]&&!A[Ok]){A[EV](),A[EV]=null;return}if(A[gY])A[gY].resume();if(A[P7A])A[IV]=2;else if(A[IV]===2){if(Q)A[IV]=1,queueMicrotask(()=>IMQ(A));else IMQ(A);continue}if(A[Tk]===0)return;if(A[Rk]>=(GMQ(A)||1))return;let B=A[l9][A[i9]];if(A[C1].protocol==="https:"&&A[CV]!==B.servername){if(A[Rk]>0)return;A[CV]=B.servername,A[gY]?.destroy(new o$B("servername changed"),()=>{A[gY]=null,j7A(A)})}if(A[_T])return;if(!A[gY]){UMQ(A);return}if(A[gY].destroyed)return;if(A[gY].busy(B))return;if(!B.aborted&&A[gY].write(B))A[i9]++;else A[l9].splice(A[i9],1)}}NMQ.exports=JMQ});var S7A=m((Kj0,ZMQ)=>{class x7A{constructor(){this.bottom=0,this.top=0,this.list=new Array(2048).fill(void 0),this.next=null}isEmpty(){return this.top===this.bottom}isFull(){return(this.top+1&2047)===this.bottom}push(A){this.list[this.top]=A,this.top=this.top+1&2047}shift(){let A=this.list[this.bottom];if(A===void 0)return null;return this.list[this.bottom]=void 0,this.bottom=this.bottom+1&2047,A}}ZMQ.exports=class A{constructor(){this.head=this.tail=new x7A}isEmpty(){return this.head.isEmpty()}push(Q){if(this.head.isFull())this.head=this.head.next=new x7A;this.head.push(Q)}shift(){let Q=this.tail,B=Q.shift();if(Q.isEmpty()&&Q.next!==null)this.tail=Q.next,Q.next=null;return B}}});var HMQ=m((Vj0,FMQ)=>{var{kFree:$zB,kConnected:zzB,kPending:wzB,kQueued:LzB,kRunning:OzB,kSize:RzB}=kE(),B$=Symbol("pool");class XMQ{constructor(A){this[B$]=A}get connected(){return this[B$][zzB]}get free(){return this[B$][$zB]}get pending(){return this[B$][wzB]}get queued(){return this[B$][LzB]}get running(){return this[B$][OzB]}get size(){return this[B$][RzB]}}FMQ.exports=XMQ});var b7A=m((Mj0,TMQ)=>{var TzB=KT(),qzB=S7A(),{kConnected:g7A,kSize:WMQ,kRunning:KMQ,kPending:VMQ,kQueued:Pk,kBusy:PzB,kFree:_zB,kUrl:jzB,kClose:xzB,kDestroy:SzB,kDispatch:gzB}=kE(),vzB=HMQ(),tD=Symbol("clients"),CD=Symbol("needDrain"),_k=Symbol("queue"),v7A=Symbol("closed resolve"),y7A=Symbol("onDrain"),MMQ=Symbol("onConnect"),$MQ=Symbol("onDisconnect"),zMQ=Symbol("onConnectionError"),k7A=Symbol("get dispatcher"),LMQ=Symbol("add client"),OMQ=Symbol("remove client"),wMQ=Symbol("stats");class RMQ extends TzB{constructor(){super();this[_k]=new qzB,this[tD]=[],this[Pk]=0;let A=this;this[y7A]=function Q(B,C){let E=A[_k],I=!1;while(!I){let Y=E.shift();if(!Y)break;A[Pk]--,I=!this.dispatch(Y.opts,Y.handler)}if(this[CD]=I,!this[CD]&&A[CD])A[CD]=!1,A.emit("drain",B,[A,...C]);if(A[v7A]&&E.isEmpty())Promise.all(A[tD].map((Y)=>Y.close())).then(A[v7A])},this[MMQ]=(Q,B)=>{A.emit("connect",Q,[A,...B])},this[$MQ]=(Q,B,C)=>{A.emit("disconnect",Q,[A,...B],C)},this[zMQ]=(Q,B,C)=>{A.emit("connectionError",Q,[A,...B],C)},this[wMQ]=new vzB(this)}get[PzB](){return this[CD]}get[g7A](){return this[tD].filter((A)=>A[g7A]).length}get[_zB](){return this[tD].filter((A)=>A[g7A]&&!A[CD]).length}get[VMQ](){let A=this[Pk];for(let{[VMQ]:Q}of this[tD])A+=Q;return A}get[KMQ](){let A=0;for(let{[KMQ]:Q}of this[tD])A+=Q;return A}get[WMQ](){let A=this[Pk];for(let{[WMQ]:Q}of this[tD])A+=Q;return A}get stats(){return this[wMQ]}async[xzB](){if(this[_k].isEmpty())await Promise.all(this[tD].map((A)=>A.close()));else await new Promise((A)=>{this[v7A]=A})}async[SzB](A){while(!0){let Q=this[_k].shift();if(!Q)break;Q.handler.onError(A)}await Promise.all(this[tD].map((Q)=>Q.destroy(A)))}[gzB](A,Q){let B=this[k7A]();if(!B)this[CD]=!0,this[_k].push({opts:A,handler:Q}),this[Pk]++;else if(!B.dispatch(A,Q))B[CD]=!0,this[CD]=!this[k7A]();return!this[CD]}[LMQ](A){if(A.on("drain",this[y7A]).on("connect",this[MMQ]).on("disconnect",this[$MQ]).on("connectionError",this[zMQ]),this[tD].push(A),this[CD])queueMicrotask(()=>{if(this[CD])this[y7A](A[jzB],[this,A])});return this}[OMQ](A){A.close(()=>{let Q=this[tD].indexOf(A);if(Q!==-1)this[tD].splice(Q,1)}),this[CD]=this[tD].some((Q)=>!Q[CD]&&Q.closed!==!0&&Q.destroyed!==!0)}}TMQ.exports={PoolBase:RMQ,kClients:tD,kNeedDrain:CD,kAddClient:LMQ,kRemoveClient:OMQ,kGetDispatcher:k7A}});var jT=m(($j0,SMQ)=>{var{PoolBase:yzB,kClients:qMQ,kNeedDrain:kzB,kAddClient:bzB,kGetDispatcher:hzB}=b7A(),mzB=qk(),{InvalidArgumentError:h7A}=FC(),PMQ=D0(),{kUrl:_MQ}=kE(),fzB=Nk(),m7A=Symbol("options"),f7A=Symbol("connections"),jMQ=Symbol("factory");function dzB(A,Q){return new mzB(A,Q)}class xMQ extends yzB{constructor(A,{connections:Q,factory:B=dzB,connect:C,connectTimeout:E,tls:I,maxCachedSessions:Y,socketPath:G,autoSelectFamily:J,autoSelectFamilyAttemptTimeout:D,allowH2:U,...N}={}){if(Q!=null&&(!Number.isFinite(Q)||Q<0))throw new h7A("invalid connections");if(typeof B!=="function")throw new h7A("factory must be a function.");if(C!=null&&typeof C!=="function"&&typeof C!=="object")throw new h7A("connect must be a function or an object");super();if(typeof C!=="function")C=fzB({...I,maxCachedSessions:Y,allowH2:U,socketPath:G,timeout:E,...J?{autoSelectFamily:J,autoSelectFamilyAttemptTimeout:D}:void 0,...C});this[f7A]=Q||null,this[_MQ]=PMQ.parseOrigin(A),this[m7A]={...PMQ.deepClone(N),connect:C,allowH2:U},this[m7A].interceptors=N.interceptors?{...N.interceptors}:void 0,this[jMQ]=B}[hzB](){for(let A of this[qMQ])if(!A[kzB])return A;if(!this[f7A]||this[qMQ].length<this[f7A]){let A=this[jMQ](this[_MQ],this[m7A]);return this[bzB](A),A}}}SMQ.exports=xMQ});var hMQ=m((zj0,bMQ)=>{var{BalancedPoolMissingUpstreamError:uzB,InvalidArgumentError:pzB}=FC(),{PoolBase:czB,kClients:M2,kNeedDrain:jk,kAddClient:lzB,kRemoveClient:izB,kGetDispatcher:nzB}=b7A(),ozB=jT(),{kUrl:d7A}=kE(),{parseOrigin:gMQ}=D0(),vMQ=Symbol("factory"),de=Symbol("options"),yMQ=Symbol("kGreatestCommonDivisor"),C$=Symbol("kCurrentWeight"),E$=Symbol("kIndex"),X8=Symbol("kWeight"),ue=Symbol("kMaxWeightPerServer"),pe=Symbol("kErrorPenalty");function rzB(A,Q){if(A===0)return Q;while(Q!==0){let B=Q;Q=A%Q,A=B}return A}function azB(A,Q){return new ozB(A,Q)}class kMQ extends czB{constructor(A=[],{factory:Q=azB,...B}={}){if(typeof Q!=="function")throw new pzB("factory must be a function.");super();if(this[de]=B,this[E$]=-1,this[C$]=0,this[ue]=this[de].maxWeightPerServer||100,this[pe]=this[de].errorPenalty||15,!Array.isArray(A))A=[A];this[vMQ]=Q;for(let C of A)this.addUpstream(C);this._updateBalancedPoolStats()}addUpstream(A){let Q=gMQ(A).origin;if(this[M2].find((C)=>C[d7A].origin===Q&&C.closed!==!0&&C.destroyed!==!0))return this;let B=this[vMQ](Q,Object.assign({},this[de]));this[lzB](B),B.on("connect",()=>{B[X8]=Math.min(this[ue],B[X8]+this[pe])}),B.on("connectionError",()=>{B[X8]=Math.max(1,B[X8]-this[pe]),this._updateBalancedPoolStats()}),B.on("disconnect",(...C)=>{let E=C[2];if(E&&E.code==="UND_ERR_SOCKET")B[X8]=Math.max(1,B[X8]-this[pe]),this._updateBalancedPoolStats()});for(let C of this[M2])C[X8]=this[ue];return this._updateBalancedPoolStats(),this}_updateBalancedPoolStats(){let A=0;for(let Q=0;Q<this[M2].length;Q++)A=rzB(this[M2][Q][X8],A);this[yMQ]=A}removeUpstream(A){let Q=gMQ(A).origin,B=this[M2].find((C)=>C[d7A].origin===Q&&C.closed!==!0&&C.destroyed!==!0);if(B)this[izB](B);return this}get upstreams(){return this[M2].filter((A)=>A.closed!==!0&&A.destroyed!==!0).map((A)=>A[d7A].origin)}[nzB](){if(this[M2].length===0)throw new uzB;if(!this[M2].find((E)=>!E[jk]&&E.closed!==!0&&E.destroyed!==!0))return;if(this[M2].map((E)=>E[jk]).reduce((E,I)=>E&&I,!0))return;let B=0,C=this[M2].findIndex((E)=>!E[jk]);while(B++<this[M2].length){this[E$]=(this[E$]+1)%this[M2].length;let E=this[M2][this[E$]];if(E[X8]>this[M2][C][X8]&&!E[jk])C=this[E$];if(this[E$]===0){if(this[C$]=this[C$]-this[yMQ],this[C$]<=0)this[C$]=this[ue]}if(E[X8]>=this[C$]&&!E[jk])return E}return this[C$]=this[M2][C][X8],this[E$]=C,this[M2][C]}}bMQ.exports=kMQ});var xT=m((wj0,nMQ)=>{var{InvalidArgumentError:u7A}=FC(),{kClients:YV,kRunning:mMQ,kClose:szB,kDestroy:tzB,kDispatch:ezB}=kE(),AwB=KT(),QwB=jT(),BwB=qk(),CwB=D0(),fMQ=Symbol("onConnect"),dMQ=Symbol("onDisconnect"),uMQ=Symbol("onConnectionError"),pMQ=Symbol("onDrain"),cMQ=Symbol("factory"),lMQ=Symbol("options");function EwB(A,Q){return Q&&Q.connections===1?new BwB(A,Q):new QwB(A,Q)}class iMQ extends AwB{constructor({factory:A=EwB,connect:Q,...B}={}){if(typeof A!=="function")throw new u7A("factory must be a function.");if(Q!=null&&typeof Q!=="function"&&typeof Q!=="object")throw new u7A("connect must be a function or an object");super();if(Q&&typeof Q!=="function")Q={...Q};this[lMQ]={...CwB.deepClone(B),connect:Q},this[cMQ]=A,this[YV]=new Map,this[pMQ]=(C,E)=>{this.emit("drain",C,[this,...E])},this[fMQ]=(C,E)=>{this.emit("connect",C,[this,...E])},this[dMQ]=(C,E,I)=>{this.emit("disconnect",C,[this,...E],I)},this[uMQ]=(C,E,I)=>{this.emit("connectionError",C,[this,...E],I)}}get[mMQ](){let A=0;for(let Q of this[YV].values())A+=Q[mMQ];return A}[ezB](A,Q){let B;if(A.origin&&(typeof A.origin==="string"||A.origin instanceof URL))B=String(A.origin);else throw new u7A("opts.origin must be a non-empty string or URL.");let C=this[YV].get(B);if(!C)C=this[cMQ](A.origin,this[lMQ]).on("drain",this[pMQ]).on("connect",this[fMQ]).on("disconnect",this[dMQ]).on("connectionError",this[uMQ]),this[YV].set(B,C);return C.dispatch(A,Q)}async[szB](){let A=[];for(let Q of this[YV].values())A.push(Q.close());this[YV].clear(),await Promise.all(A)}async[tzB](A){let Q=[];for(let B of this[YV].values())Q.push(B.destroy(A));this[YV].clear(),await Promise.all(Q)}}nMQ.exports=iMQ});var c7A=m((Lj0,tMQ)=>{var{kProxy:IwB,kClose:YwB,kDestroy:GwB}=kE(),{URL:xk}=a("node:url"),JwB=xT(),DwB=jT(),UwB=KT(),{InvalidArgumentError:ie,RequestAbortedError:NwB,SecureProxyConnectionError:ZwB}=FC(),oMQ=Nk(),ce=Symbol("proxy agent"),le=Symbol("proxy client"),Sk=Symbol("proxy headers"),p7A=Symbol("request tls settings"),rMQ=Symbol("proxy tls settings"),aMQ=Symbol("connect endpoint function");function XwB(A){return A==="https:"?443:80}function FwB(A,Q){return new DwB(A,Q)}var HwB=()=>{};class sMQ extends UwB{constructor(A){if(!A||typeof A==="object"&&!(A instanceof xk)&&!A.uri)throw new ie("Proxy uri is mandatory");let{clientFactory:Q=FwB}=A;if(typeof Q!=="function")throw new ie("Proxy opts.clientFactory must be a function.");super();let B=this.#A(A),{href:C,origin:E,port:I,protocol:Y,username:G,password:J,hostname:D}=B;if(this[IwB]={uri:C,protocol:Y},this[p7A]=A.requestTls,this[rMQ]=A.proxyTls,this[Sk]=A.headers||{},A.auth&&A.token)throw new ie("opts.auth cannot be used in combination with opts.token");else if(A.auth)this[Sk]["proxy-authorization"]=`Basic ${A.auth}`;else if(A.token)this[Sk]["proxy-authorization"]=A.token;else if(G&&J)this[Sk]["proxy-authorization"]=`Basic ${Buffer.from(`${decodeURIComponent(G)}:${decodeURIComponent(J)}`).toString("base64")}`;let U=oMQ({...A.proxyTls});this[aMQ]=oMQ({...A.requestTls}),this[le]=Q(B,{connect:U}),this[ce]=new JwB({...A,connect:async(N,Z)=>{let X=N.host;if(!N.port)X+=`:${XwB(N.protocol)}`;try{let{socket:W,statusCode:K}=await this[le].connect({origin:E,port:I,path:X,signal:N.signal,headers:{...this[Sk],host:N.host},servername:this[rMQ]?.servername||D});if(K!==200)W.on("error",HwB).destroy(),Z(new NwB(`Proxy response (${K}) !== 200 when HTTP Tunneling`));if(N.protocol!=="https:"){Z(null,W);return}let V;if(this[p7A])V=this[p7A].servername;else V=N.servername;this[aMQ]({...N,servername:V,httpSocket:W},Z)}catch(W){if(W.code==="ERR_TLS_CERT_ALTNAME_INVALID")Z(new ZwB(W));else Z(W)}}})}dispatch(A,Q){let B=WwB(A.headers);if(KwB(B),B&&!("host"in B)&&!("Host"in B)){let{host:C}=new xk(A.origin);B.host=C}return this[ce].dispatch({...A,headers:B},Q)}#A(A){if(typeof A==="string")return new xk(A);else if(A instanceof xk)return A;else return new xk(A.uri)}async[YwB](){await this[ce].close(),await this[le].close()}async[GwB](){await this[ce].destroy(),await this[le].destroy()}}function WwB(A){if(Array.isArray(A)){let Q={};for(let B=0;B<A.length;B+=2)Q[A[B]]=A[B+1];return Q}return A}function KwB(A){if(A&&Object.keys(A).find((B)=>B.toLowerCase()==="proxy-authorization"))throw new ie("Proxy-Authorization should be sent in ProxyAgent constructor")}tMQ.exports=sMQ});var E$Q=m((Oj0,C$Q)=>{var VwB=KT(),{kClose:MwB,kDestroy:$wB,kClosed:eMQ,kDestroyed:A$Q,kDispatch:zwB,kNoProxyAgent:gk,kHttpProxyAgent:GV,kHttpsProxyAgent:I$}=kE(),Q$Q=c7A(),wwB=xT(),LwB={"http:":80,"https:":443};class B$Q extends VwB{#A=null;#Q=null;#B=null;constructor(A={}){super();this.#B=A;let{httpProxy:Q,httpsProxy:B,noProxy:C,...E}=A;this[gk]=new wwB(E);let I=Q??process.env.http_proxy??process.env.HTTP_PROXY;if(I)this[GV]=new Q$Q({...E,uri:I});else this[GV]=this[gk];let Y=B??process.env.https_proxy??process.env.HTTPS_PROXY;if(Y)this[I$]=new Q$Q({...E,uri:Y});else this[I$]=this[GV];this.#E()}[zwB](A,Q){let B=new URL(A.origin);return this.#C(B).dispatch(A,Q)}async[MwB](){if(await this[gk].close(),!this[GV][eMQ])await this[GV].close();if(!this[I$][eMQ])await this[I$].close()}async[$wB](A){if(await this[gk].destroy(A),!this[GV][A$Q])await this[GV].destroy(A);if(!this[I$][A$Q])await this[I$].destroy(A)}#C(A){let{protocol:Q,host:B,port:C}=A;if(B=B.replace(/:\d*$/,"").toLowerCase(),C=Number.parseInt(C,10)||LwB[Q]||0,!this.#I(B,C))return this[gk];if(Q==="https:")return this[I$];return this[GV]}#I(A,Q){if(this.#J)this.#E();if(this.#Q.length===0)return!0;if(this.#A==="*")return!1;for(let B=0;B<this.#Q.length;B++){let C=this.#Q[B];if(C.port&&C.port!==Q)continue;if(!/^[.*]/.test(C.hostname)){if(A===C.hostname)return!1}else if(A.endsWith(C.hostname.replace(/^\*/,"")))return!1}return!0}#E(){let A=this.#B.noProxy??this.#Y,Q=A.split(/[,\s]/),B=[];for(let C=0;C<Q.length;C++){let E=Q[C];if(!E)continue;let I=E.match(/^(.+):(\d+)$/);B.push({hostname:(I?I[1]:E).toLowerCase(),port:I?Number.parseInt(I[2],10):0})}this.#A=A,this.#Q=B}get#J(){if(this.#B.noProxy!==void 0)return!1;return this.#A!==this.#Y}get#Y(){return process.env.no_proxy??process.env.NO_PROXY??""}}C$Q.exports=B$Q});var ne=m((Rj0,J$Q)=>{var ST=a("node:assert"),{kRetryHandlerDefaultRetry:I$Q}=kE(),{RequestRetryError:vk}=FC(),OwB=Fe(),{isDisturbed:Y$Q,parseRangeHeader:G$Q,wrapRequestBody:RwB}=D0();function TwB(A){let Q=Date.now();return new Date(A).getTime()-Q}class l7A{constructor(A,{dispatch:Q,handler:B}){let{retryOptions:C,...E}=A,{retry:I,maxRetries:Y,maxTimeout:G,minTimeout:J,timeoutFactor:D,methods:U,errorCodes:N,retryAfter:Z,statusCodes:X}=C??{};this.dispatch=Q,this.handler=OwB.wrap(B),this.opts={...E,body:RwB(A.body)},this.retryOpts={retry:I??l7A[I$Q],retryAfter:Z??!0,maxTimeout:G??30000,minTimeout:J??500,timeoutFactor:D??2,maxRetries:Y??5,methods:U??["GET","HEAD","OPTIONS","PUT","DELETE","TRACE"],statusCodes:X??[500,502,503,504,429],errorCodes:N??["ECONNRESET","ECONNREFUSED","ENOTFOUND","ENETDOWN","ENETUNREACH","EHOSTDOWN","EHOSTUNREACH","EPIPE","UND_ERR_SOCKET"]},this.retryCount=0,this.retryCountCheckpoint=0,this.headersSent=!1,this.start=0,this.end=null,this.etag=null}onRequestStart(A,Q){if(!this.headersSent)this.handler.onRequestStart?.(A,Q)}onRequestUpgrade(A,Q,B,C){this.handler.onRequestUpgrade?.(A,Q,B,C)}static[I$Q](A,{state:Q,opts:B},C){let{statusCode:E,code:I,headers:Y}=A,{method:G,retryOptions:J}=B,{maxRetries:D,minTimeout:U,maxTimeout:N,timeoutFactor:Z,statusCodes:X,errorCodes:W,methods:K}=J,{counter:V}=Q;if(I&&I!=="UND_ERR_REQ_RETRY"&&!W.includes(I)){C(A);return}if(Array.isArray(K)&&!K.includes(G)){C(A);return}if(E!=null&&Array.isArray(X)&&!X.includes(E)){C(A);return}if(V>D){C(A);return}let M=Y?.["retry-after"];if(M)M=Number(M),M=Number.isNaN(M)?TwB(M):M*1000;let z=M>0?Math.min(M,N):Math.min(U*Z**(V-1),N);setTimeout(()=>C(null),z)}onResponseStart(A,Q,B,C){if(this.retryCount+=1,Q>=300)if(this.retryOpts.statusCodes.includes(Q)===!1){this.headersSent=!0,this.handler.onResponseStart?.(A,Q,B,C);return}else throw new vk("Request failed",Q,{headers:B,data:{count:this.retryCount}});if(this.headersSent){if(Q!==206&&(this.start>0||Q!==200))throw new vk("server does not support the range header and the payload was partially consumed",Q,{headers:B,data:{count:this.retryCount}});let E=G$Q(B["content-range"]);if(!E)throw new vk("Content-Range mismatch",Q,{headers:B,data:{count:this.retryCount}});if(this.etag!=null&&this.etag!==B.etag)throw new vk("ETag mismatch",Q,{headers:B,data:{count:this.retryCount}});let{start:I,size:Y,end:G=Y?Y-1:null}=E;ST(this.start===I,"content-range mismatch"),ST(this.end==null||this.end===G,"content-range mismatch");return}if(this.end==null){if(Q===206){let E=G$Q(B["content-range"]);if(E==null){this.headersSent=!0,this.handler.onResponseStart?.(A,Q,B,C);return}let{start:I,size:Y,end:G=Y?Y-1:null}=E;ST(I!=null&&Number.isFinite(I),"content-range mismatch"),ST(G!=null&&Number.isFinite(G),"invalid content-length"),this.start=I,this.end=G}if(this.end==null){let E=B["content-length"];this.end=E!=null?Number(E)-1:null}if(ST(Number.isFinite(this.start)),ST(this.end==null||Number.isFinite(this.end),"invalid content-length"),this.resume=!0,this.etag=B.etag!=null?B.etag:null,this.etag!=null&&this.etag[0]==="W"&&this.etag[1]==="/")this.etag=null;this.headersSent=!0,this.handler.onResponseStart?.(A,Q,B,C)}else throw new vk("Request failed",Q,{headers:B,data:{count:this.retryCount}})}onResponseData(A,Q){this.start+=Q.length,this.handler.onResponseData?.(A,Q)}onResponseEnd(A,Q){return this.retryCount=0,this.handler.onResponseEnd?.(A,Q)}onResponseError(A,Q){if(A?.aborted||Y$Q(this.opts.body)){this.handler.onResponseError?.(A,Q);return}if(this.retryCount-this.retryCountCheckpoint>0)this.retryCount=this.retryCountCheckpoint+(this.retryCount-this.retryCountCheckpoint);else this.retryCount+=1;this.retryOpts.retry(Q,{state:{counter:this.retryCount},opts:{retryOptions:this.retryOpts,...this.opts}},B.bind(this));function B(C){if(C!=null||A?.aborted||Y$Q(this.opts.body))return this.handler.onResponseError?.(A,C);if(this.start!==0){let E={range:`bytes=${this.start}-${this.end??""}`};if(this.etag!=null)E["if-match"]=this.etag;this.opts={...this.opts,headers:{...this.opts.headers,...E}}}try{this.retryCountCheckpoint=this.retryCount,this.dispatch(this.opts,this)}catch(E){this.handler.onResponseError?.(A,E)}}}}J$Q.exports=l7A});var N$Q=m((Tj0,U$Q)=>{var qwB=Dk(),PwB=ne();class D$Q extends qwB{#A=null;#Q=null;constructor(A,Q={}){super(Q);this.#A=A,this.#Q=Q}dispatch(A,Q){let B=new PwB({...A,retryOptions:this.#Q},{dispatch:this.#A.dispatch.bind(this.#A),handler:Q});return this.#A.dispatch(A,B)}close(){return this.#A.close()}destroy(){return this.#A.destroy()}}U$Q.exports=D$Q});var z$Q=m((qj0,$$Q)=>{var H$Q=a("node:assert"),{Readable:_wB}=a("node:stream"),{RequestAbortedError:W$Q,NotSupportedError:jwB,InvalidArgumentError:xwB,AbortError:i7A}=FC(),K$Q=D0(),{ReadableStreamFrom:SwB}=D0(),XN=Symbol("kConsume"),oe=Symbol("kReading"),Y$=Symbol("kBody"),Z$Q=Symbol("kAbort"),V$Q=Symbol("kContentType"),n7A=Symbol("kContentLength"),o7A=Symbol("kUsed"),re=Symbol("kBytesRead"),gwB=()=>{};class M$Q extends _wB{constructor({resume:A,abort:Q,contentType:B="",contentLength:C,highWaterMark:E=65536}){super({autoDestroy:!0,read:A,highWaterMark:E});this._readableState.dataEmitted=!1,this[Z$Q]=Q,this[XN]=null,this[re]=0,this[Y$]=null,this[o7A]=!1,this[V$Q]=B,this[n7A]=Number.isFinite(C)?C:null,this[oe]=!1}_destroy(A,Q){if(!A&&!this._readableState.endEmitted)A=new W$Q;if(A)this[Z$Q]();if(!this[o7A])setImmediate(()=>{Q(A)});else Q(A)}on(A,Q){if(A==="data"||A==="readable")this[oe]=!0,this[o7A]=!0;return super.on(A,Q)}addListener(A,Q){return this.on(A,Q)}off(A,Q){let B=super.off(A,Q);if(A==="data"||A==="readable")this[oe]=this.listenerCount("data")>0||this.listenerCount("readable")>0;return B}removeListener(A,Q){return this.off(A,Q)}push(A){if(this[re]+=A?A.length:0,this[XN]&&A!==null)return a7A(this[XN],A),this[oe]?super.push(A):!0;return super.push(A)}text(){return yk(this,"text")}json(){return yk(this,"json")}blob(){return yk(this,"blob")}bytes(){return yk(this,"bytes")}arrayBuffer(){return yk(this,"arrayBuffer")}async formData(){throw new jwB}get bodyUsed(){return K$Q.isDisturbed(this)}get body(){if(!this[Y$]){if(this[Y$]=SwB(this),this[XN])this[Y$].getReader(),H$Q(this[Y$].locked)}return this[Y$]}async dump(A){let Q=A?.signal;if(Q!=null&&(typeof Q!=="object"||!("aborted"in Q)))throw new xwB("signal must be an AbortSignal");let B=A?.limit&&Number.isFinite(A.limit)?A.limit:131072;if(Q?.throwIfAborted(),this._readableState.closeEmitted)return null;return await new Promise((C,E)=>{if(this[n7A]&&this[n7A]>B||this[re]>B)this.destroy(new i7A);if(Q){let I=()=>{this.destroy(Q.reason??new i7A)};Q.addEventListener("abort",I),this.on("close",function(){if(Q.removeEventListener("abort",I),Q.aborted)E(Q.reason??new i7A);else C(null)})}else this.on("close",C);this.on("error",gwB).on("data",()=>{if(this[re]>B)this.destroy()}).resume()})}setEncoding(A){if(Buffer.isEncoding(A))this._readableState.encoding=A;return this}}function vwB(A){return A[Y$]?.locked===!0||A[XN]!==null}function ywB(A){return K$Q.isDisturbed(A)||vwB(A)}function yk(A,Q){return H$Q(!A[XN]),new Promise((B,C)=>{if(ywB(A)){let E=A._readableState;if(E.destroyed&&E.closeEmitted===!1)A.on("error",(I)=>{C(I)}).on("close",()=>{C(new TypeError("unusable"))});else C(E.errored??new TypeError("unusable"))}else queueMicrotask(()=>{A[XN]={type:Q,stream:A,resolve:B,reject:C,length:0,body:[]},A.on("error",function(E){s7A(this[XN],E)}).on("close",function(){if(this[XN].body!==null)s7A(this[XN],new W$Q)}),kwB(A[XN])})})}function kwB(A){if(A.body===null)return;let{_readableState:Q}=A.stream;if(Q.bufferIndex){let B=Q.bufferIndex,C=Q.buffer.length;for(let E=B;E<C;E++)a7A(A,Q.buffer[E])}else for(let B of Q.buffer)a7A(A,B);if(Q.endEmitted)F$Q(this[XN],this._readableState.encoding);else A.stream.on("end",function(){F$Q(this[XN],this._readableState.encoding)});A.stream.resume();while(A.stream.read()!=null);}function r7A(A,Q,B){if(A.length===0||Q===0)return"";let C=A.length===1?A[0]:Buffer.concat(A,Q),E=C.length,I=E>2&&C[0]===239&&C[1]===187&&C[2]===191?3:0;if(!B||B==="utf8"||B==="utf-8")return C.utf8Slice(I,E);else return C.subarray(I,E).toString(B)}function X$Q(A,Q){if(A.length===0||Q===0)return new Uint8Array(0);if(A.length===1)return new Uint8Array(A[0]);let B=new Uint8Array(Buffer.allocUnsafeSlow(Q).buffer),C=0;for(let E=0;E<A.length;++E){let I=A[E];B.set(I,C),C+=I.length}return B}function F$Q(A,Q){let{type:B,body:C,resolve:E,stream:I,length:Y}=A;try{if(B==="text")E(r7A(C,Y,Q));else if(B==="json")E(JSON.parse(r7A(C,Y,Q)));else if(B==="arrayBuffer")E(X$Q(C,Y).buffer);else if(B==="blob")E(new Blob(C,{type:I[V$Q]}));else if(B==="bytes")E(X$Q(C,Y));s7A(A)}catch(G){I.destroy(G)}}function a7A(A,Q){A.length+=Q.length,A.body.push(Q)}function s7A(A,Q){if(A.body===null)return;if(Q)A.reject(Q);else A.resolve();A.type=null,A.stream=null,A.resolve=null,A.reject=null,A.length=0,A.body=null}$$Q.exports={Readable:M$Q,chunksDecode:r7A}});var O$Q=m((Pj0,e7A)=>{var bwB=a("node:assert"),{AsyncResource:hwB}=a("node:async_hooks"),{Readable:mwB}=z$Q(),{InvalidArgumentError:gT,RequestAbortedError:w$Q}=FC(),n9=D0();function ae(){}class t7A extends hwB{constructor(A,Q){if(!A||typeof A!=="object")throw new gT("invalid opts");let{signal:B,method:C,opaque:E,body:I,onInfo:Y,responseHeaders:G,highWaterMark:J}=A;try{if(typeof Q!=="function")throw new gT("invalid callback");if(J&&(typeof J!=="number"||J<0))throw new gT("invalid highWaterMark");if(B&&typeof B.on!=="function"&&typeof B.addEventListener!=="function")throw new gT("signal must be an EventEmitter or EventTarget");if(C==="CONNECT")throw new gT("invalid method");if(Y&&typeof Y!=="function")throw new gT("invalid onInfo callback");super("UNDICI_REQUEST")}catch(D){if(n9.isStream(I))n9.destroy(I.on("error",ae),D);throw D}if(this.method=C,this.responseHeaders=G||null,this.opaque=E||null,this.callback=Q,this.res=null,this.abort=null,this.body=I,this.trailers={},this.context=null,this.onInfo=Y||null,this.highWaterMark=J,this.reason=null,this.removeAbortListener=null,B?.aborted)this.reason=B.reason??new w$Q;else if(B)this.removeAbortListener=n9.addAbortListener(B,()=>{if(this.reason=B.reason??new w$Q,this.res)n9.destroy(this.res.on("error",ae),this.reason);else if(this.abort)this.abort(this.reason)})}onConnect(A,Q){if(this.reason){A(this.reason);return}bwB(this.callback),this.abort=A,this.context=Q}onHeaders(A,Q,B,C){let{callback:E,opaque:I,abort:Y,context:G,responseHeaders:J,highWaterMark:D}=this,U=J==="raw"?n9.parseRawHeaders(Q):n9.parseHeaders(Q);if(A<200){if(this.onInfo)this.onInfo({statusCode:A,headers:U});return}let N=J==="raw"?n9.parseHeaders(Q):U,Z=N["content-type"],X=N["content-length"],W=new mwB({resume:B,abort:Y,contentType:Z,contentLength:this.method!=="HEAD"&&X?Number(X):null,highWaterMark:D});if(this.removeAbortListener)W.on("close",this.removeAbortListener),this.removeAbortListener=null;if(this.callback=null,this.res=W,E!==null)this.runInAsyncScope(E,null,null,{statusCode:A,headers:U,trailers:this.trailers,opaque:I,body:W,context:G})}onData(A){return this.res.push(A)}onComplete(A){n9.parseHeaders(A,this.trailers),this.res.push(null)}onError(A){let{res:Q,callback:B,body:C,opaque:E}=this;if(B)this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(B,null,A,{opaque:E})});if(Q)this.res=null,queueMicrotask(()=>{n9.destroy(Q.on("error",ae),A)});if(C){if(this.body=null,n9.isStream(C))C.on("error",ae),n9.destroy(C,A)}if(this.removeAbortListener)this.removeAbortListener(),this.removeAbortListener=null}}function L$Q(A,Q){if(Q===void 0)return new Promise((B,C)=>{L$Q.call(this,A,(E,I)=>{return E?C(E):B(I)})});try{let B=new t7A(A,Q);this.dispatch(A,B)}catch(B){if(typeof Q!=="function")throw B;let C=A?.opaque;queueMicrotask(()=>Q(B,{opaque:C}))}}e7A.exports=L$Q;e7A.exports.RequestHandler=t7A});var kk=m((_j0,q$Q)=>{var{addAbortListener:fwB}=D0(),{RequestAbortedError:dwB}=FC(),vT=Symbol("kListener"),E1=Symbol("kSignal");function R$Q(A){if(A.abort)A.abort(A[E1]?.reason);else A.reason=A[E1]?.reason??new dwB;T$Q(A)}function uwB(A,Q){if(A.reason=null,A[E1]=null,A[vT]=null,!Q)return;if(Q.aborted){R$Q(A);return}A[E1]=Q,A[vT]=()=>{R$Q(A)},fwB(A[E1],A[vT])}function T$Q(A){if(!A[E1])return;if("removeEventListener"in A[E1])A[E1].removeEventListener("abort",A[vT]);else A[E1].removeListener("abort",A[vT]);A[E1]=null,A[vT]=null}q$Q.exports={addSignal:uwB,removeSignal:T$Q}});var S$Q=m((jj0,x$Q)=>{var pwB=a("node:assert"),{finished:cwB}=a("node:stream"),{AsyncResource:lwB}=a("node:async_hooks"),{InvalidArgumentError:yT,InvalidReturnValueError:iwB}=FC(),GF=D0(),{addSignal:nwB,removeSignal:P$Q}=kk();function owB(){}class _$Q extends lwB{constructor(A,Q,B){if(!A||typeof A!=="object")throw new yT("invalid opts");let{signal:C,method:E,opaque:I,body:Y,onInfo:G,responseHeaders:J}=A;try{if(typeof B!=="function")throw new yT("invalid callback");if(typeof Q!=="function")throw new yT("invalid factory");if(C&&typeof C.on!=="function"&&typeof C.addEventListener!=="function")throw new yT("signal must be an EventEmitter or EventTarget");if(E==="CONNECT")throw new yT("invalid method");if(G&&typeof G!=="function")throw new yT("invalid onInfo callback");super("UNDICI_STREAM")}catch(D){if(GF.isStream(Y))GF.destroy(Y.on("error",owB),D);throw D}if(this.responseHeaders=J||null,this.opaque=I||null,this.factory=Q,this.callback=B,this.res=null,this.abort=null,this.context=null,this.trailers=null,this.body=Y,this.onInfo=G||null,GF.isStream(Y))Y.on("error",(D)=>{this.onError(D)});nwB(this,C)}onConnect(A,Q){if(this.reason){A(this.reason);return}pwB(this.callback),this.abort=A,this.context=Q}onHeaders(A,Q,B,C){let{factory:E,opaque:I,context:Y,responseHeaders:G}=this,J=G==="raw"?GF.parseRawHeaders(Q):GF.parseHeaders(Q);if(A<200){if(this.onInfo)this.onInfo({statusCode:A,headers:J});return}if(this.factory=null,E===null)return;let D=this.runInAsyncScope(E,null,{statusCode:A,headers:J,opaque:I,context:Y});if(!D||typeof D.write!=="function"||typeof D.end!=="function"||typeof D.on!=="function")throw new iwB("expected Writable");return cwB(D,{readable:!1},(N)=>{let{callback:Z,res:X,opaque:W,trailers:K,abort:V}=this;if(this.res=null,N||!X.readable)GF.destroy(X,N);if(this.callback=null,this.runInAsyncScope(Z,null,N||null,{opaque:W,trailers:K}),N)V()}),D.on("drain",B),this.res=D,(D.writableNeedDrain!==void 0?D.writableNeedDrain:D._writableState?.needDrain)!==!0}onData(A){let{res:Q}=this;return Q?Q.write(A):!0}onComplete(A){let{res:Q}=this;if(P$Q(this),!Q)return;this.trailers=GF.parseHeaders(A),Q.end()}onError(A){let{res:Q,callback:B,opaque:C,body:E}=this;if(P$Q(this),this.factory=null,Q)this.res=null,GF.destroy(Q,A);else if(B)this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(B,null,A,{opaque:C})});if(E)this.body=null,GF.destroy(E,A)}}function j$Q(A,Q,B){if(B===void 0)return new Promise((C,E)=>{j$Q.call(this,A,Q,(I,Y)=>{return I?E(I):C(Y)})});try{let C=new _$Q(A,Q,B);this.dispatch(A,C)}catch(C){if(typeof B!=="function")throw C;let E=A?.opaque;queueMicrotask(()=>B(C,{opaque:E}))}}x$Q.exports=j$Q});var m$Q=m((xj0,h$Q)=>{var{Readable:v$Q,Duplex:rwB,PassThrough:awB}=a("node:stream"),swB=a("node:assert"),{AsyncResource:twB}=a("node:async_hooks"),{InvalidArgumentError:bk,InvalidReturnValueError:ewB,RequestAbortedError:A3A}=FC(),I1=D0(),{addSignal:ALB,removeSignal:QLB}=kk();function g$Q(){}var kT=Symbol("resume");class y$Q extends v$Q{constructor(){super({autoDestroy:!0});this[kT]=null}_read(){let{[kT]:A}=this;if(A)this[kT]=null,A()}_destroy(A,Q){this._read(),Q(A)}}class k$Q extends v$Q{constructor(A){super({autoDestroy:!0});this[kT]=A}_read(){this[kT]()}_destroy(A,Q){if(!A&&!this._readableState.endEmitted)A=new A3A;Q(A)}}class b$Q extends twB{constructor(A,Q){if(!A||typeof A!=="object")throw new bk("invalid opts");if(typeof Q!=="function")throw new bk("invalid handler");let{signal:B,method:C,opaque:E,onInfo:I,responseHeaders:Y}=A;if(B&&typeof B.on!=="function"&&typeof B.addEventListener!=="function")throw new bk("signal must be an EventEmitter or EventTarget");if(C==="CONNECT")throw new bk("invalid method");if(I&&typeof I!=="function")throw new bk("invalid onInfo callback");super("UNDICI_PIPELINE");this.opaque=E||null,this.responseHeaders=Y||null,this.handler=Q,this.abort=null,this.context=null,this.onInfo=I||null,this.req=new y$Q().on("error",g$Q),this.ret=new rwB({readableObjectMode:A.objectMode,autoDestroy:!0,read:()=>{let{body:G}=this;if(G?.resume)G.resume()},write:(G,J,D)=>{let{req:U}=this;if(U.push(G,J)||U._readableState.destroyed)D();else U[kT]=D},destroy:(G,J)=>{let{body:D,req:U,res:N,ret:Z,abort:X}=this;if(!G&&!Z._readableState.endEmitted)G=new A3A;if(X&&G)X();I1.destroy(D,G),I1.destroy(U,G),I1.destroy(N,G),QLB(this),J(G)}}).on("prefinish",()=>{let{req:G}=this;G.push(null)}),this.res=null,ALB(this,B)}onConnect(A,Q){let{res:B}=this;if(this.reason){A(this.reason);return}swB(!B,"pipeline cannot be retried"),this.abort=A,this.context=Q}onHeaders(A,Q,B){let{opaque:C,handler:E,context:I}=this;if(A<200){if(this.onInfo){let G=this.responseHeaders==="raw"?I1.parseRawHeaders(Q):I1.parseHeaders(Q);this.onInfo({statusCode:A,headers:G})}return}this.res=new k$Q(B);let Y;try{this.handler=null;let G=this.responseHeaders==="raw"?I1.parseRawHeaders(Q):I1.parseHeaders(Q);Y=this.runInAsyncScope(E,null,{statusCode:A,headers:G,opaque:C,body:this.res,context:I})}catch(G){throw this.res.on("error",g$Q),G}if(!Y||typeof Y.on!=="function")throw new ewB("expected Readable");Y.on("data",(G)=>{let{ret:J,body:D}=this;if(!J.push(G)&&D.pause)D.pause()}).on("error",(G)=>{let{ret:J}=this;I1.destroy(J,G)}).on("end",()=>{let{ret:G}=this;G.push(null)}).on("close",()=>{let{ret:G}=this;if(!G._readableState.ended)I1.destroy(G,new A3A)}),this.body=Y}onData(A){let{res:Q}=this;return Q.push(A)}onComplete(A){let{res:Q}=this;Q.push(null)}onError(A){let{ret:Q}=this;this.handler=null,I1.destroy(Q,A)}}function BLB(A,Q){try{let B=new b$Q(A,Q);return this.dispatch({...A,body:B.req},B),B.ret}catch(B){return new awB().destroy(B)}}h$Q.exports=BLB});var i$Q=m((Sj0,l$Q)=>{var{InvalidArgumentError:Q3A,SocketError:CLB}=FC(),{AsyncResource:ELB}=a("node:async_hooks"),f$Q=a("node:assert"),d$Q=D0(),{addSignal:ILB,removeSignal:u$Q}=kk();class p$Q extends ELB{constructor(A,Q){if(!A||typeof A!=="object")throw new Q3A("invalid opts");if(typeof Q!=="function")throw new Q3A("invalid callback");let{signal:B,opaque:C,responseHeaders:E}=A;if(B&&typeof B.on!=="function"&&typeof B.addEventListener!=="function")throw new Q3A("signal must be an EventEmitter or EventTarget");super("UNDICI_UPGRADE");this.responseHeaders=E||null,this.opaque=C||null,this.callback=Q,this.abort=null,this.context=null,ILB(this,B)}onConnect(A,Q){if(this.reason){A(this.reason);return}f$Q(this.callback),this.abort=A,this.context=null}onHeaders(){throw new CLB("bad upgrade",null)}onUpgrade(A,Q,B){f$Q(A===101);let{callback:C,opaque:E,context:I}=this;u$Q(this),this.callback=null;let Y=this.responseHeaders==="raw"?d$Q.parseRawHeaders(Q):d$Q.parseHeaders(Q);this.runInAsyncScope(C,null,null,{headers:Y,socket:B,opaque:E,context:I})}onError(A){let{callback:Q,opaque:B}=this;if(u$Q(this),Q)this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(Q,null,A,{opaque:B})})}}function c$Q(A,Q){if(Q===void 0)return new Promise((B,C)=>{c$Q.call(this,A,(E,I)=>{return E?C(E):B(I)})});try{let B=new p$Q(A,Q),C={...A,method:A.method||"GET",upgrade:A.protocol||"Websocket"};this.dispatch(C,B)}catch(B){if(typeof Q!=="function")throw B;let C=A?.opaque;queueMicrotask(()=>Q(B,{opaque:C}))}}l$Q.exports=c$Q});var t$Q=m((gj0,s$Q)=>{var YLB=a("node:assert"),{AsyncResource:GLB}=a("node:async_hooks"),{InvalidArgumentError:B3A,SocketError:JLB}=FC(),n$Q=D0(),{addSignal:DLB,removeSignal:o$Q}=kk();class r$Q extends GLB{constructor(A,Q){if(!A||typeof A!=="object")throw new B3A("invalid opts");if(typeof Q!=="function")throw new B3A("invalid callback");let{signal:B,opaque:C,responseHeaders:E}=A;if(B&&typeof B.on!=="function"&&typeof B.addEventListener!=="function")throw new B3A("signal must be an EventEmitter or EventTarget");super("UNDICI_CONNECT");this.opaque=C||null,this.responseHeaders=E||null,this.callback=Q,this.abort=null,DLB(this,B)}onConnect(A,Q){if(this.reason){A(this.reason);return}YLB(this.callback),this.abort=A,this.context=Q}onHeaders(){throw new JLB("bad connect",null)}onUpgrade(A,Q,B){let{callback:C,opaque:E,context:I}=this;o$Q(this),this.callback=null;let Y=Q;if(Y!=null)Y=this.responseHeaders==="raw"?n$Q.parseRawHeaders(Q):n$Q.parseHeaders(Q);this.runInAsyncScope(C,null,null,{statusCode:A,headers:Y,socket:B,opaque:E,context:I})}onError(A){let{callback:Q,opaque:B}=this;if(o$Q(this),Q)this.callback=null,queueMicrotask(()=>{this.runInAsyncScope(Q,null,A,{opaque:B})})}}function a$Q(A,Q){if(Q===void 0)return new Promise((B,C)=>{a$Q.call(this,A,(E,I)=>{return E?C(E):B(I)})});try{let B=new r$Q(A,Q),C={...A,method:"CONNECT"};this.dispatch(C,B)}catch(B){if(typeof Q!=="function")throw B;let C=A?.opaque;queueMicrotask(()=>Q(B,{opaque:C}))}}s$Q.exports=a$Q});var e$Q=m((ULB,bT)=>{ULB.request=O$Q();ULB.stream=S$Q();ULB.pipeline=m$Q();ULB.upgrade=i$Q();ULB.connect=t$Q()});var C3A=m((vj0,QzQ)=>{var{UndiciError:WLB}=FC();class AzQ extends WLB{constructor(A){super(A);this.name="MockNotMatchedError",this.message=A||"The request does not match any registered mock dispatches",this.code="UND_MOCK_ERR_MOCK_NOT_MATCHED"}}QzQ.exports={MockNotMatchedError:AzQ}});var hT=m((yj0,BzQ)=>{BzQ.exports={kAgent:Symbol("agent"),kOptions:Symbol("options"),kFactory:Symbol("factory"),kDispatches:Symbol("dispatches"),kDispatchKey:Symbol("dispatch key"),kDefaultHeaders:Symbol("default headers"),kDefaultTrailers:Symbol("default trailers"),kContentLength:Symbol("content length"),kMockAgent:Symbol("mock agent"),kMockAgentSet:Symbol("mock agent set"),kMockAgentGet:Symbol("mock agent get"),kMockDispatch:Symbol("mock dispatch"),kClose:Symbol("close"),kOriginalClose:Symbol("original agent close"),kOriginalDispatch:Symbol("original dispatch"),kOrigin:Symbol("origin"),kIsMockActive:Symbol("is mock active"),kNetConnect:Symbol("net connect"),kGetNetConnect:Symbol("get net connect"),kConnected:Symbol("connected"),kIgnoreTrailingSlash:Symbol("ignore trailing slash")}});var hk=m((kj0,XzQ)=>{var{MockNotMatchedError:G$}=C3A(),{kDispatches:se,kMockAgent:KLB,kOriginalDispatch:VLB,kOrigin:MLB,kGetNetConnect:$LB}=hT(),{serializePathWithQuery:zLB}=D0(),{STATUS_CODES:wLB}=a("node:http"),{types:{isPromise:LLB}}=a("node:util");function Y1(A,Q){if(typeof A==="string")return A===Q;if(A instanceof RegExp)return A.test(Q);if(typeof A==="function")return A(Q)===!0;return!1}function EzQ(A){return Object.fromEntries(Object.entries(A).map(([Q,B])=>{return[Q.toLocaleLowerCase(),B]}))}function IzQ(A,Q){if(Array.isArray(A)){for(let B=0;B<A.length;B+=2)if(A[B].toLocaleLowerCase()===Q.toLocaleLowerCase())return A[B+1];return}else if(typeof A.get==="function")return A.get(Q);else return EzQ(A)[Q.toLocaleLowerCase()]}function G3A(A){let Q=A.slice(),B=[];for(let C=0;C<Q.length;C+=2)B.push([Q[C],Q[C+1]]);return Object.fromEntries(B)}function YzQ(A,Q){if(typeof A.headers==="function"){if(Array.isArray(Q))Q=G3A(Q);return A.headers(Q?EzQ(Q):{})}if(typeof A.headers==="undefined")return!0;if(typeof Q!=="object"||typeof A.headers!=="object")return!1;for(let[B,C]of Object.entries(A.headers)){let E=IzQ(Q,B);if(!Y1(C,E))return!1}return!0}function E3A(A){if(typeof A!=="string")return A;let Q=A.split("?");if(Q.length!==2)return A;let B=new URLSearchParams(Q.pop());return B.sort(),[...Q,B.toString()].join("?")}function OLB(A,{path:Q,method:B,body:C,headers:E}){let I=Y1(A.path,Q),Y=Y1(A.method,B),G=typeof A.body!=="undefined"?Y1(A.body,C):!0,J=YzQ(A,E);return I&&Y&&G&&J}function GzQ(A){if(Buffer.isBuffer(A))return A;else if(A instanceof Uint8Array)return A;else if(A instanceof ArrayBuffer)return A;else if(typeof A==="object")return JSON.stringify(A);else if(A)return A.toString();else return""}function JzQ(A,Q){let B=Q.query?zLB(Q.path,Q.query):Q.path,C=typeof B==="string"?E3A(B):B,E=CzQ(C),I=A.filter(({consumed:Y})=>!Y).filter(({path:Y,ignoreTrailingSlash:G})=>{return G?Y1(CzQ(E3A(Y)),E):Y1(E3A(Y),C)});if(I.length===0)throw new G$(`Mock dispatch not matched for path '${C}'`);if(I=I.filter(({method:Y})=>Y1(Y,Q.method)),I.length===0)throw new G$(`Mock dispatch not matched for method '${Q.method}' on path '${C}'`);if(I=I.filter(({body:Y})=>typeof Y!=="undefined"?Y1(Y,Q.body):!0),I.length===0)throw new G$(`Mock dispatch not matched for body '${Q.body}' on path '${C}'`);if(I=I.filter((Y)=>YzQ(Y,Q.headers)),I.length===0){let Y=typeof Q.headers==="object"?JSON.stringify(Q.headers):Q.headers;throw new G$(`Mock dispatch not matched for headers '${Y}' on path '${C}'`)}return I[0]}function RLB(A,Q,B,C){let E={timesInvoked:0,times:1,persist:!1,consumed:!1,...C},I=typeof B==="function"?{callback:B}:{...B},Y={...E,...Q,pending:!0,data:{error:null,...I}};return A.push(Y),Y}function I3A(A,Q){let B=A.findIndex((C)=>{if(!C.consumed)return!1;return OLB(C,Q)});if(B!==-1)A.splice(B,1)}function CzQ(A){while(A.endsWith("/"))A=A.slice(0,-1);if(A.length===0)A="/";return A}function DzQ(A){let{path:Q,method:B,body:C,headers:E,query:I}=A;return{path:Q,method:B,body:C,headers:E,query:I}}function Y3A(A){let Q=Object.keys(A),B=[];for(let C=0;C<Q.length;++C){let E=Q[C],I=A[E],Y=Buffer.from(`${E}`);if(Array.isArray(I))for(let G=0;G<I.length;++G)B.push(Y,Buffer.from(`${I[G]}`));else B.push(Y,Buffer.from(`${I}`))}return B}function UzQ(A){return wLB[A]||"unknown"}async function TLB(A){let Q=[];for await(let B of A)Q.push(B);return Buffer.concat(Q).toString("utf8")}function NzQ(A,Q){let B=DzQ(A),C=JzQ(this[se],B);if(C.timesInvoked++,C.data.callback)C.data={...C.data,...C.data.callback(A)};let{data:{statusCode:E,data:I,headers:Y,trailers:G,error:J},delay:D,persist:U}=C,{timesInvoked:N,times:Z}=C;if(C.consumed=!U&&N>=Z,C.pending=N<Z,J!==null)return I3A(this[se],B),Q.onError(J),!0;if(typeof D==="number"&&D>0)setTimeout(()=>{X(this[se])},D);else X(this[se]);function X(K,V=I){let M=Array.isArray(A.headers)?G3A(A.headers):A.headers,z=typeof V==="function"?V({...A,headers:M}):V;if(LLB(z)){z.then((_)=>X(K,_));return}let L=GzQ(z),O=Y3A(Y),R=Y3A(G);Q.onConnect?.((_)=>Q.onError(_),null),Q.onHeaders?.(E,O,W,UzQ(E)),Q.onData?.(Buffer.from(L)),Q.onComplete?.(R),I3A(K,B)}function W(){}return!0}function qLB(){let A=this[KLB],Q=this[MLB],B=this[VLB];return function C(E,I){if(A.isMockActive)try{NzQ.call(this,E,I)}catch(Y){if(Y instanceof G$){let G=A[$LB]();if(G===!1)throw new G$(`${Y.message}: subsequent request to origin ${Q} was not allowed (net.connect disabled)`);if(ZzQ(G,Q))B.call(this,E,I);else throw new G$(`${Y.message}: subsequent request to origin ${Q} was not allowed (net.connect is not enabled for this origin)`)}else throw Y}else B.call(this,E,I)}}function ZzQ(A,Q){let B=new URL(Q);if(A===!0)return!0;else if(Array.isArray(A)&&A.some((C)=>Y1(C,B.host)))return!0;return!1}function PLB(A){if(A){let{agent:Q,...B}=A;return B}}XzQ.exports={getResponseData:GzQ,getMockDispatch:JzQ,addMockDispatch:RLB,deleteMockDispatch:I3A,buildKey:DzQ,generateKeyValues:Y3A,matchValue:Y1,getResponse:TLB,getStatusText:UzQ,mockDispatch:NzQ,buildMockDispatch:qLB,checkNetConnect:ZzQ,buildMockOptions:PLB,getHeaderByName:IzQ,buildHeadersFromArray:G3A}});var X3A=m((SLB,Z3A)=>{var{getResponseData:_LB,buildKey:jLB,addMockDispatch:J3A}=hk(),{kDispatches:te,kDispatchKey:ee,kDefaultHeaders:D3A,kDefaultTrailers:U3A,kContentLength:N3A,kMockDispatch:AAA,kIgnoreTrailingSlash:QAA}=hT(),{InvalidArgumentError:G1}=FC(),{serializePathWithQuery:xLB}=D0();class mk{constructor(A){this[AAA]=A}delay(A){if(typeof A!=="number"||!Number.isInteger(A)||A<=0)throw new G1("waitInMs must be a valid integer > 0");return this[AAA].delay=A,this}persist(){return this[AAA].persist=!0,this}times(A){if(typeof A!=="number"||!Number.isInteger(A)||A<=0)throw new G1("repeatTimes must be a valid integer > 0");return this[AAA].times=A,this}}class FzQ{constructor(A,Q){if(typeof A!=="object")throw new G1("opts must be an object");if(typeof A.path==="undefined")throw new G1("opts.path must be defined");if(typeof A.method==="undefined")A.method="GET";if(typeof A.path==="string")if(A.query)A.path=xLB(A.path,A.query);else{let B=new URL(A.path,"data://");A.path=B.pathname+B.search}if(typeof A.method==="string")A.method=A.method.toUpperCase();this[ee]=jLB(A),this[te]=Q,this[QAA]=A.ignoreTrailingSlash??!1,this[D3A]={},this[U3A]={},this[N3A]=!1}createMockScopeDispatchData({statusCode:A,data:Q,responseOptions:B}){let C=_LB(Q),E=this[N3A]?{"content-length":C.length}:{},I={...this[D3A],...E,...B.headers},Y={...this[U3A],...B.trailers};return{statusCode:A,data:Q,headers:I,trailers:Y}}validateReplyParameters(A){if(typeof A.statusCode==="undefined")throw new G1("statusCode must be defined");if(typeof A.responseOptions!=="object"||A.responseOptions===null)throw new G1("responseOptions must be an object")}reply(A){if(typeof A==="function"){let E=(Y)=>{let G=A(Y);if(typeof G!=="object"||G===null)throw new G1("reply options callback must return an object");let J={data:"",responseOptions:{},...G};return this.validateReplyParameters(J),{...this.createMockScopeDispatchData(J)}},I=J3A(this[te],this[ee],E,{ignoreTrailingSlash:this[QAA]});return new mk(I)}let Q={statusCode:A,data:arguments[1]===void 0?"":arguments[1],responseOptions:arguments[2]===void 0?{}:arguments[2]};this.validateReplyParameters(Q);let B=this.createMockScopeDispatchData(Q),C=J3A(this[te],this[ee],B,{ignoreTrailingSlash:this[QAA]});return new mk(C)}replyWithError(A){if(typeof A==="undefined")throw new G1("error must be defined");let Q=J3A(this[te],this[ee],{error:A},{ignoreTrailingSlash:this[QAA]});return new mk(Q)}defaultReplyHeaders(A){if(typeof A==="undefined")throw new G1("headers must be defined");return this[D3A]=A,this}defaultReplyTrailers(A){if(typeof A==="undefined")throw new G1("trailers must be defined");return this[U3A]=A,this}replyContentLength(){return this[N3A]=!0,this}}SLB.MockInterceptor=FzQ;SLB.MockScope=mk});var H3A=m((bj0,LzQ)=>{var{promisify:yLB}=a("node:util"),kLB=qk(),{buildMockDispatch:bLB}=hk(),{kDispatches:HzQ,kMockAgent:WzQ,kClose:KzQ,kOriginalClose:VzQ,kOrigin:MzQ,kOriginalDispatch:hLB,kConnected:F3A,kIgnoreTrailingSlash:$zQ}=hT(),{MockInterceptor:mLB}=X3A(),zzQ=kE(),{InvalidArgumentError:fLB}=FC();class wzQ extends kLB{constructor(A,Q){if(!Q||!Q.agent||typeof Q.agent.dispatch!=="function")throw new fLB("Argument opts.agent must implement Agent");super(A,Q);this[WzQ]=Q.agent,this[MzQ]=A,this[$zQ]=Q.ignoreTrailingSlash??!1,this[HzQ]=[],this[F3A]=1,this[hLB]=this.dispatch,this[VzQ]=this.close.bind(this),this.dispatch=bLB.call(this),this.close=this[KzQ]}get[zzQ.kConnected](){return this[F3A]}intercept(A){return new mLB(A&&{ignoreTrailingSlash:this[$zQ],...A},this[HzQ])}async[KzQ](){await yLB(this[VzQ])(),this[F3A]=0,this[WzQ][zzQ.kClients].delete(this[MzQ])}}LzQ.exports=wzQ});var K3A=m((hj0,SzQ)=>{var{promisify:dLB}=a("node:util"),uLB=jT(),{buildMockDispatch:pLB}=hk(),{kDispatches:OzQ,kMockAgent:RzQ,kClose:TzQ,kOriginalClose:qzQ,kOrigin:PzQ,kOriginalDispatch:cLB,kConnected:W3A,kIgnoreTrailingSlash:_zQ}=hT(),{MockInterceptor:lLB}=X3A(),jzQ=kE(),{InvalidArgumentError:iLB}=FC();class xzQ extends uLB{constructor(A,Q){if(!Q||!Q.agent||typeof Q.agent.dispatch!=="function")throw new iLB("Argument opts.agent must implement Agent");super(A,Q);this[RzQ]=Q.agent,this[PzQ]=A,this[_zQ]=Q.ignoreTrailingSlash??!1,this[OzQ]=[],this[W3A]=1,this[cLB]=this.dispatch,this[qzQ]=this.close.bind(this),this.dispatch=pLB.call(this),this.close=this[TzQ]}get[jzQ.kConnected](){return this[W3A]}intercept(A){return new lLB(A&&{ignoreTrailingSlash:this[_zQ],...A},this[OzQ])}async[TzQ](){await dLB(this[qzQ])(),this[W3A]=0,this[RzQ][jzQ.kClients].delete(this[PzQ])}}SzQ.exports=xzQ});var vzQ=m((mj0,gzQ)=>{var{Transform:nLB}=a("node:stream"),{Console:oLB}=a("node:console"),rLB=process.versions.icu?"✅":"Y ",aLB=process.versions.icu?"❌":"N ";gzQ.exports=class A{constructor({disableColors:Q}={}){this.transform=new nLB({transform(B,C,E){E(null,B)}}),this.logger=new oLB({stdout:this.transform,inspectOptions:{colors:!Q&&!process.env.CI}})}format(Q){let B=Q.map(({method:C,path:E,data:{statusCode:I},persist:Y,times:G,timesInvoked:J,origin:D})=>({Method:C,Origin:D,Path:E,"Status code":I,Persistent:Y?rLB:aLB,Invocations:J,Remaining:Y?1/0:G-J}));return this.logger.table(B),this.transform.read().toString()}}});var mzQ=m((fj0,hzQ)=>{var{kClients:J$}=kE(),sLB=xT(),{kAgent:V3A,kMockAgentSet:BAA,kMockAgentGet:yzQ,kDispatches:M3A,kIsMockActive:CAA,kNetConnect:D$,kGetNetConnect:tLB,kOptions:EAA,kFactory:IAA}=hT(),eLB=H3A(),AOB=K3A(),{matchValue:QOB,buildMockOptions:BOB}=hk(),{InvalidArgumentError:kzQ,UndiciError:COB}=FC(),EOB=Dk(),IOB=vzQ();class bzQ extends EOB{constructor(A){super(A);if(this[D$]=!0,this[CAA]=!0,A?.agent&&typeof A.agent.dispatch!=="function")throw new kzQ("Argument opts.agent must implement Agent");let Q=A?.agent?A.agent:new sLB(A);this[V3A]=Q,this[J$]=Q[J$],this[EAA]=BOB(A)}get(A){let Q=this[yzQ](A);if(!Q)Q=this[IAA](A),this[BAA](A,Q);return Q}dispatch(A,Q){return this.get(A.origin),this[V3A].dispatch(A,Q)}async close(){await this[V3A].close(),this[J$].clear()}deactivate(){this[CAA]=!1}activate(){this[CAA]=!0}enableNetConnect(A){if(typeof A==="string"||typeof A==="function"||A instanceof RegExp)if(Array.isArray(this[D$]))this[D$].push(A);else this[D$]=[A];else if(typeof A==="undefined")this[D$]=!0;else throw new kzQ("Unsupported matcher. Must be one of String|Function|RegExp.")}disableNetConnect(){this[D$]=!1}get isMockActive(){return this[CAA]}[BAA](A,Q){this[J$].set(A,Q)}[IAA](A){let Q=Object.assign({agent:this},this[EAA]);return this[EAA]&&this[EAA].connections===1?new eLB(A,Q):new AOB(A,Q)}[yzQ](A){let Q=this[J$].get(A);if(Q)return Q;if(typeof A!=="string"){let B=this[IAA]("http://localhost:9999");return this[BAA](A,B),B}for(let[B,C]of Array.from(this[J$]))if(C&&typeof B!=="string"&&QOB(B,A)){let E=this[IAA](A);return this[BAA](A,E),E[M3A]=C[M3A],E}}[tLB](){return this[D$]}pendingInterceptors(){let A=this[J$];return Array.from(A.entries()).flatMap(([Q,B])=>B[M3A].map((C)=>({...C,origin:Q}))).filter(({pending:Q})=>Q)}assertNoPendingInterceptors({pendingInterceptorsFormatter:A=new IOB}={}){let Q=this.pendingInterceptors();if(Q.length===0)return;throw new COB(Q.length===1?`1 interceptor is pending:

${A.format(Q)}`.trim():`${Q.length} interceptors are pending:

${A.format(Q)}`.trim())}}hzQ.exports=bzQ});var YAA=m((dj0,pzQ)=>{var fzQ=Symbol.for("undici.globalDispatcher.1"),{InvalidArgumentError:YOB}=FC(),GOB=xT();if(uzQ()===void 0)dzQ(new GOB);function dzQ(A){if(!A||typeof A.dispatch!=="function")throw new YOB("Argument agent must implement Agent");Object.defineProperty(globalThis,fzQ,{value:A,writable:!0,enumerable:!1,configurable:!1})}function uzQ(){return globalThis[fzQ]}pzQ.exports={setGlobalDispatcher:dzQ,getGlobalDispatcher:uzQ}});var fk=m((uj0,czQ)=>{var JF=a("node:assert"),JOB=Fe();czQ.exports=class A{#A;#Q=!1;#B=!1;#C=!1;constructor(Q){if(typeof Q!=="object"||Q===null)throw new TypeError("handler must be an object");this.#A=JOB.wrap(Q)}onRequestStart(...Q){this.#A.onRequestStart?.(...Q)}onRequestUpgrade(...Q){return JF(!this.#Q),JF(!this.#B),this.#A.onRequestUpgrade?.(...Q)}onResponseStart(...Q){return JF(!this.#Q),JF(!this.#B),JF(!this.#C),this.#C=!0,this.#A.onResponseStart?.(...Q)}onResponseData(...Q){return JF(!this.#Q),JF(!this.#B),this.#A.onResponseData?.(...Q)}onResponseEnd(...Q){return JF(!this.#Q),JF(!this.#B),this.#Q=!0,this.#A.onResponseEnd?.(...Q)}onResponseError(...Q){return this.#B=!0,this.#A.onResponseError?.(...Q)}onBodySent(){}}});var L3A=m((pj0,rzQ)=>{var FN=D0(),{kBodyUsed:dk}=kE(),z3A=a("node:assert"),{InvalidArgumentError:lzQ}=FC(),DOB=a("node:events"),UOB=[300,301,302,303,307,308],izQ=Symbol("body"),nzQ=()=>{};class $3A{constructor(A){this[izQ]=A,this[dk]=!1}async*[Symbol.asyncIterator](){z3A(!this[dk],"disturbed"),this[dk]=!0,yield*this[izQ]}}class w3A{static buildDispatch(A,Q){if(Q!=null&&(!Number.isInteger(Q)||Q<0))throw new lzQ("maxRedirections must be a positive number");let B=A.dispatch.bind(A);return(C,E)=>B(C,new w3A(B,Q,C,E))}constructor(A,Q,B,C){if(Q!=null&&(!Number.isInteger(Q)||Q<0))throw new lzQ("maxRedirections must be a positive number");if(this.dispatch=A,this.location=null,this.opts={...B,maxRedirections:0},this.maxRedirections=Q,this.handler=C,this.history=[],FN.isStream(this.opts.body)){if(FN.bodyLength(this.opts.body)===0)this.opts.body.on("data",function(){z3A(!1)});if(typeof this.opts.body.readableDidRead!=="boolean")this.opts.body[dk]=!1,DOB.prototype.on.call(this.opts.body,"data",function(){this[dk]=!0})}else if(this.opts.body&&typeof this.opts.body.pipeTo==="function")this.opts.body=new $3A(this.opts.body);else if(this.opts.body&&typeof this.opts.body!=="string"&&!ArrayBuffer.isView(this.opts.body)&&FN.isIterable(this.opts.body)&&!FN.isFormDataLike(this.opts.body))this.opts.body=new $3A(this.opts.body)}onRequestStart(A,Q){this.handler.onRequestStart?.(A,{...Q,history:this.history})}onRequestUpgrade(A,Q,B,C){this.handler.onRequestUpgrade?.(A,Q,B,C)}onResponseStart(A,Q,B,C){if(this.opts.throwOnMaxRedirect&&this.history.length>=this.maxRedirections)throw new Error("max redirects");if((Q===301||Q===302)&&this.opts.method==="POST"){if(this.opts.method="GET",FN.isStream(this.opts.body))FN.destroy(this.opts.body.on("error",nzQ));this.opts.body=null}if(Q===303&&this.opts.method!=="HEAD"){if(this.opts.method="GET",FN.isStream(this.opts.body))FN.destroy(this.opts.body.on("error",nzQ));this.opts.body=null}if(this.location=this.history.length>=this.maxRedirections||FN.isDisturbed(this.opts.body)||UOB.indexOf(Q)===-1?null:B.location,this.opts.origin)this.history.push(new URL(this.opts.path,this.opts.origin));if(!this.location){this.handler.onResponseStart?.(A,Q,B,C);return}let{origin:E,pathname:I,search:Y}=FN.parseURL(new URL(this.location,this.opts.origin&&new URL(this.opts.path,this.opts.origin))),G=Y?`${I}${Y}`:I;this.opts.headers=NOB(this.opts.headers,Q===303,this.opts.origin!==E),this.opts.path=G,this.opts.origin=E,this.opts.maxRedirections=0,this.opts.query=null}onResponseData(A,Q){if(this.location);else this.handler.onResponseData?.(A,Q)}onResponseEnd(A,Q){if(this.location)this.dispatch(this.opts,this);else this.handler.onResponseEnd(A,Q)}onResponseError(A,Q){this.handler.onResponseError?.(A,Q)}}function ozQ(A,Q,B){if(A.length===4)return FN.headerNameToString(A)==="host";if(Q&&FN.headerNameToString(A).startsWith("content-"))return!0;if(B&&(A.length===13||A.length===6||A.length===19)){let C=FN.headerNameToString(A);return C==="authorization"||C==="cookie"||C==="proxy-authorization"}return!1}function NOB(A,Q,B){let C=[];if(Array.isArray(A)){for(let E=0;E<A.length;E+=2)if(!ozQ(A[E],Q,B))C.push(A[E],A[E+1])}else if(A&&typeof A==="object"){let E=typeof A[Symbol.iterator]==="function"?A:Object.entries(A);for(let[I,Y]of E)if(!ozQ(I,Q,B))C.push(I,Y)}else z3A(A==null,"headers must be an object or an array");return C}rzQ.exports=w3A});var szQ=m((cj0,azQ)=>{var ZOB=L3A();function XOB({maxRedirections:A}={}){return(Q)=>{return function B(C,E){let{maxRedirections:I=A,...Y}=C;if(I==null||I===0)return Q(C,E);let G={...Y,maxRedirections:0},J=new ZOB(Q,I,G,E);return Q(G,J)}}}azQ.exports=XOB});var AwQ=m((lj0,ezQ)=>{var FOB=fk(),{ResponseError:HOB}=FC();class tzQ extends FOB{#A;#Q;#B;#C;#I;constructor(A,{handler:Q}){super(Q)}#E(A){return(this.#Q??"").indexOf(A)===0}onRequestStart(A,Q){return this.#A=0,this.#Q=null,this.#B=null,this.#C=null,this.#I="",super.onRequestStart(A,Q)}onResponseStart(A,Q,B,C){if(this.#A=Q,this.#C=B,this.#Q=B["content-type"],this.#A<400)return super.onResponseStart(A,Q,B,C);if(this.#E("application/json")||this.#E("text/plain"))this.#B=new TextDecoder("utf-8")}onResponseData(A,Q){if(this.#A<400)return super.onResponseData(A,Q);this.#I+=this.#B?.decode(Q,{stream:!0})??""}onResponseEnd(A,Q){if(this.#A>=400){if(this.#I+=this.#B?.decode(void 0,{stream:!1})??"",this.#E("application/json"))try{this.#I=JSON.parse(this.#I)}catch{}let B,C=Error.stackTraceLimit;Error.stackTraceLimit=0;try{B=new HOB("Response Error",this.#A,{body:this.#I,headers:this.#C})}finally{Error.stackTraceLimit=C}super.onResponseError(A,B)}else super.onResponseEnd(A,Q)}onResponseError(A,Q){super.onResponseError(A,Q)}}ezQ.exports=()=>{return(A)=>{return function Q(B,C){return A(B,new tzQ(B,{handler:C}))}}}});var BwQ=m((ij0,QwQ)=>{var WOB=ne();QwQ.exports=(A)=>{return(Q)=>{return function B(C,E){return Q(C,new WOB({...C,retryOptions:{...A,...C.retryOptions}},{handler:E,dispatch:Q}))}}}});var IwQ=m((nj0,EwQ)=>{var{InvalidArgumentError:KOB,RequestAbortedError:VOB}=FC(),MOB=fk();class CwQ extends MOB{#A=1048576;#Q=!1;#B=0;#C=null;aborted=!1;reason=!1;constructor({maxSize:A,signal:Q},B){if(A!=null&&(!Number.isFinite(A)||A<1))throw new KOB("maxSize must be a number greater than 0");super(B);this.#A=A??this.#A}#I(A){this.aborted=!0,this.reason=A}onRequestStart(A,Q){return A.abort=this.#I.bind(this),this.#C=A,super.onRequestStart(A,Q)}onResponseStart(A,Q,B,C){let E=B["content-length"];if(E!=null&&E>this.#A)throw new VOB(`Response size (${E}) larger than maxSize (${this.#A})`);if(this.aborted===!0)return!0;return super.onResponseStart(A,Q,B,C)}onResponseError(A,Q){if(this.#Q)return;Q=this.#C.reason??Q,super.onResponseError(A,Q)}onResponseData(A,Q){if(this.#B=this.#B+Q.length,this.#B>=this.#A)if(this.#Q=!0,this.aborted===!0)super.onResponseError(A,this.reason);else super.onResponseEnd(A,{});return!0}onResponseEnd(A,Q){if(this.#Q)return;if(this.#C.aborted===!0){super.onResponseError(A,this.reason);return}super.onResponseEnd(A,Q)}}function $OB({maxSize:A}={maxSize:1048576}){return(Q)=>{return function B(C,E){let{dumpMaxSize:I=A}=C,Y=new CwQ({maxSize:I,signal:C.signal},E);return Q(C,Y)}}}EwQ.exports=$OB});var DwQ=m((oj0,JwQ)=>{var{isIP:zOB}=a("node:net"),{lookup:wOB}=a("node:dns"),LOB=fk(),{InvalidArgumentError:mT,InformationalError:OOB}=FC(),O3A=Math.pow(2,31)-1;class YwQ{#A=0;#Q=0;#B=new Map;dualStack=!0;affinity=null;lookup=null;pick=null;constructor(A){this.#A=A.maxTTL,this.#Q=A.maxItems,this.dualStack=A.dualStack,this.affinity=A.affinity,this.lookup=A.lookup??this.#C,this.pick=A.pick??this.#I}get full(){return this.#B.size===this.#Q}runLookup(A,Q,B){let C=this.#B.get(A.hostname);if(C==null&&this.full){B(null,A);return}let E={affinity:this.affinity,dualStack:this.dualStack,lookup:this.lookup,pick:this.pick,...Q.dns,maxTTL:this.#A,maxItems:this.#Q};if(C==null)this.lookup(A,E,(I,Y)=>{if(I||Y==null||Y.length===0){B(I??new OOB("No DNS entries found"));return}this.setRecords(A,Y);let G=this.#B.get(A.hostname),J=this.pick(A,G,E.affinity),D;if(typeof J.port==="number")D=`:${J.port}`;else if(A.port!=="")D=`:${A.port}`;else D="";B(null,new URL(`${A.protocol}//${J.family===6?`[${J.address}]`:J.address}${D}`))});else{let I=this.pick(A,C,E.affinity);if(I==null){this.#B.delete(A.hostname),this.runLookup(A,Q,B);return}let Y;if(typeof I.port==="number")Y=`:${I.port}`;else if(A.port!=="")Y=`:${A.port}`;else Y="";B(null,new URL(`${A.protocol}//${I.family===6?`[${I.address}]`:I.address}${Y}`))}}#C(A,Q,B){wOB(A.hostname,{all:!0,family:this.dualStack===!1?this.affinity:0,order:"ipv4first"},(C,E)=>{if(C)return B(C);let I=new Map;for(let Y of E)I.set(`${Y.address}:${Y.family}`,Y);B(null,I.values())})}#I(A,Q,B){let C=null,{records:E,offset:I}=Q,Y;if(this.dualStack){if(B==null)if(I==null||I===O3A)Q.offset=0,B=4;else Q.offset++,B=(Q.offset&1)===1?6:4;if(E[B]!=null&&E[B].ips.length>0)Y=E[B];else Y=E[B===4?6:4]}else Y=E[B];if(Y==null||Y.ips.length===0)return C;if(Y.offset==null||Y.offset===O3A)Y.offset=0;else Y.offset++;let G=Y.offset%Y.ips.length;if(C=Y.ips[G]??null,C==null)return C;if(Date.now()-C.timestamp>C.ttl)return Y.ips.splice(G,1),this.pick(A,Q,B);return C}pickFamily(A,Q){let B=this.#B.get(A.hostname)?.records;if(!B)return null;let C=B[Q];if(!C)return null;if(C.offset==null||C.offset===O3A)C.offset=0;else C.offset++;let E=C.offset%C.ips.length,I=C.ips[E]??null;if(I==null)return I;if(Date.now()-I.timestamp>I.ttl)C.ips.splice(E,1);return I}setRecords(A,Q){let B=Date.now(),C={records:{4:null,6:null}};for(let E of Q){if(E.timestamp=B,typeof E.ttl==="number")E.ttl=Math.min(E.ttl,this.#A);else E.ttl=this.#A;let I=C.records[E.family]??{ips:[]};I.ips.push(E),C.records[E.family]=I}this.#B.set(A.hostname,C)}deleteRecords(A){this.#B.delete(A.hostname)}getHandler(A,Q){return new GwQ(this,A,Q)}}class GwQ extends LOB{#A=null;#Q=null;#B=null;#C=null;#I=null;#E=null;#J=!0;constructor(A,{origin:Q,handler:B,dispatch:C,newOrigin:E},I){super(B);this.#C=Q,this.#E=E,this.#Q={...I},this.#A=A,this.#B=C}onResponseError(A,Q){switch(Q.code){case"ETIMEDOUT":case"ECONNREFUSED":{if(this.#A.dualStack){if(!this.#J){super.onResponseError(A,Q);return}this.#J=!1;let B=this.#E.hostname[0]==="["?4:6,C=this.#A.pickFamily(this.#C,B);if(C==null){super.onResponseError(A,Q);return}let E;if(typeof C.port==="number")E=`:${C.port}`;else if(this.#C.port!=="")E=`:${this.#C.port}`;else E="";let I={...this.#Q,origin:`${this.#C.protocol}//${C.family===6?`[${C.address}]`:C.address}${E}`};this.#B(I,this);return}super.onResponseError(A,Q);break}case"ENOTFOUND":this.#A.deleteRecords(this.#C),super.onResponseError(A,Q);break;default:super.onResponseError(A,Q);break}}}JwQ.exports=(A)=>{if(A?.maxTTL!=null&&(typeof A?.maxTTL!=="number"||A?.maxTTL<0))throw new mT("Invalid maxTTL. Must be a positive number");if(A?.maxItems!=null&&(typeof A?.maxItems!=="number"||A?.maxItems<1))throw new mT("Invalid maxItems. Must be a positive number and greater than zero");if(A?.affinity!=null&&A?.affinity!==4&&A?.affinity!==6)throw new mT("Invalid affinity. Must be either 4 or 6");if(A?.dualStack!=null&&typeof A?.dualStack!=="boolean")throw new mT("Invalid dualStack. Must be a boolean");if(A?.lookup!=null&&typeof A?.lookup!=="function")throw new mT("Invalid lookup. Must be a function");if(A?.pick!=null&&typeof A?.pick!=="function")throw new mT("Invalid pick. Must be a function");let Q=A?.dualStack??!0,B;if(Q)B=A?.affinity??null;else B=A?.affinity??4;let C={maxTTL:A?.maxTTL??1e4,lookup:A?.lookup??null,pick:A?.pick??null,dualStack:Q,affinity:B,maxItems:A?.maxItems??1/0},E=new YwQ(C);return(I)=>{return function Y(G,J){let D=G.origin.constructor===URL?G.origin:new URL(G.origin);if(zOB(D.hostname)!==0)return I(G,J);return E.runLookup(D,G,(U,N)=>{if(U)return J.onResponseError(null,U);let Z={...G,servername:D.hostname,origin:N.origin,headers:{host:D.host,...G.headers}};I(Z,E.getHandler({origin:D,dispatch:I,handler:J,newOrigin:N},G))}),!0}}}});var uk=m((rj0,NwQ)=>{var{safeHTTPMethods:UwQ}=D0();function ROB(A){if(!A.origin)throw new Error("opts.origin is undefined");let Q;if(A.headers==null)Q={};else if(typeof A.headers[Symbol.iterator]==="function"){Q={};for(let B of A.headers){if(!Array.isArray(B))throw new Error("opts.headers is not a valid header map");let[C,E]=B;if(typeof C!=="string"||typeof E!=="string")throw new Error("opts.headers is not a valid header map");Q[C.toLowerCase()]=E}}else if(typeof A.headers==="object"){Q={};for(let B of Object.keys(A.headers))Q[B.toLowerCase()]=A.headers[B]}else throw new Error("opts.headers is not an object");return{origin:A.origin.toString(),method:A.method,path:A.path,headers:Q}}function TOB(A){if(typeof A!=="object")throw new TypeError(`expected key to be object, got ${typeof A}`);for(let Q of["origin","method","path"])if(typeof A[Q]!=="string")throw new TypeError(`expected key.${Q} to be string, got ${typeof A[Q]}`);if(A.headers!==void 0&&typeof A.headers!=="object")throw new TypeError(`expected headers to be object, got ${typeof A}`)}function qOB(A){if(typeof A!=="object")throw new TypeError(`expected value to be object, got ${typeof A}`);for(let Q of["statusCode","cachedAt","staleAt","deleteAt"])if(typeof A[Q]!=="number")throw new TypeError(`expected value.${Q} to be number, got ${typeof A[Q]}`);if(typeof A.statusMessage!=="string")throw new TypeError(`expected value.statusMessage to be string, got ${typeof A.statusMessage}`);if(A.headers!=null&&typeof A.headers!=="object")throw new TypeError(`expected value.rawHeaders to be object, got ${typeof A.headers}`);if(A.vary!==void 0&&typeof A.vary!=="object")throw new TypeError(`expected value.vary to be object, got ${typeof A.vary}`);if(A.etag!==void 0&&typeof A.etag!=="string")throw new TypeError(`expected value.etag to be string, got ${typeof A.etag}`)}function POB(A){let Q={},B;if(Array.isArray(A)){B=[];for(let C of A)B.push(...C.split(","))}else B=A.split(",");for(let C=0;C<B.length;C++){let E=B[C].toLowerCase(),I=E.indexOf("="),Y,G;if(I!==-1)Y=E.substring(0,I).trimStart(),G=E.substring(I+1);else Y=E.trim();switch(Y){case"min-fresh":case"max-stale":case"max-age":case"s-maxage":case"stale-while-revalidate":case"stale-if-error":{if(G===void 0||G[0]===" ")continue;if(G.length>=2&&G[0]==='"'&&G[G.length-1]==='"')G=G.substring(1,G.length-1);let J=parseInt(G,10);if(J!==J)continue;if(Y==="max-age"&&Y in Q&&Q[Y]>=J)continue;Q[Y]=J;break}case"private":case"no-cache":if(G){if(G[0]==='"'){let J=[G.substring(1)],D=G[G.length-1]==='"';if(!D)for(let U=C+1;U<B.length;U++){let N=B[U],Z=N.length;if(J.push(N.trim()),Z!==0&&N[Z-1]==='"'){D=!0;break}}if(D){let U=J[J.length-1];if(U[U.length-1]==='"')U=U.substring(0,U.length-1),J[J.length-1]=U;if(Y in Q)Q[Y]=Q[Y].concat(J);else Q[Y]=J}}else if(Y in Q)Q[Y]=Q[Y].concat(G);else Q[Y]=[G];break}case"public":case"no-store":case"must-revalidate":case"proxy-revalidate":case"immutable":case"no-transform":case"must-understand":case"only-if-cached":if(G)continue;Q[Y]=!0;break;default:continue}}return Q}function _OB(A,Q){if(typeof A==="string"&&A.includes("*"))return Q;let B={},C=typeof A==="string"?A.split(","):A;for(let E of C){let I=E.trim().toLowerCase();B[I]=Q[I]??null}return B}function jOB(A){if(A.length<=2)return!1;if(A[0]==='"'&&A[A.length-1]==='"')return!(A[1]==='"'||A.startsWith('"W/'));if(A.startsWith('W/"')&&A[A.length-1]==='"')return A.length!==4;return!1}function xOB(A,Q="CacheStore"){if(typeof A!=="object"||A===null)throw new TypeError(`expected type of ${Q} to be a CacheStore, got ${A===null?"null":typeof A}`);for(let B of["get","createWriteStream","delete"])if(typeof A[B]!=="function")throw new TypeError(`${Q} needs to have a \`${B}()\` function`)}function SOB(A,Q="CacheMethods"){if(!Array.isArray(A))throw new TypeError(`expected type of ${Q} needs to be an array, got ${A===null?"null":typeof A}`);if(A.length===0)throw new TypeError(`${Q} needs to have at least one method`);for(let B of A)if(!UwQ.includes(B))throw new TypeError(`element of ${Q}-array needs to be one of following values: ${UwQ.join(", ")}, got ${B}`)}NwQ.exports={makeCacheKey:ROB,assertCacheKey:TOB,assertCacheValue:qOB,parseCacheControlHeader:POB,parseVaryHeader:_OB,isEtagUsable:jOB,assertCacheMethods:SOB,assertCacheStore:xOB}});var FwQ=m((aj0,XwQ)=>{var ZwQ=["mon","tue","wed","thu","fri","sat","sun"],gOB=[4,7,11,16,25],R3A=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],vOB=[19,22],yOB=[3,7,10,19],kOB=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];function bOB(A,Q){switch(A=A.toLowerCase(),A[3]){case",":return hOB(A);case" ":return mOB(A);default:return fOB(A,Q)}}function hOB(A){if(A.length!==29)return;if(!A.endsWith("gmt"))return;for(let X of gOB)if(A[X]!==" ")return;for(let X of vOB)if(A[X]!==":")return;let Q=A.substring(0,3);if(!ZwQ.includes(Q))return;let B=A.substring(5,7),C=Number.parseInt(B);if(isNaN(C)||C<10&&B[0]!=="0")return;let E=A.substring(8,11),I=R3A.indexOf(E);if(I===-1)return;let Y=Number.parseInt(A.substring(12,16));if(isNaN(Y))return;let G=A.substring(17,19),J=Number.parseInt(G);if(isNaN(J)||J<10&&G[0]!=="0")return;let D=A.substring(20,22),U=Number.parseInt(D);if(isNaN(U)||U<10&&D[0]!=="0")return;let N=A.substring(23,25),Z=Number.parseInt(N);if(isNaN(Z)||Z<10&&N[0]!=="0")return;return new Date(Date.UTC(Y,I,C,J,U,Z))}function mOB(A){if(A.length!==24)return;for(let X of yOB)if(A[X]!==" ")return;let Q=A.substring(0,3);if(!ZwQ.includes(Q))return;let B=A.substring(4,7),C=R3A.indexOf(B);if(C===-1)return;let E=A.substring(8,10),I=Number.parseInt(E);if(isNaN(I)||I<10&&E[0]!==" ")return;let Y=A.substring(11,13),G=Number.parseInt(Y);if(isNaN(G)||G<10&&Y[0]!=="0")return;let J=A.substring(14,16),D=Number.parseInt(J);if(isNaN(D)||D<10&&J[0]!=="0")return;let U=A.substring(17,19),N=Number.parseInt(U);if(isNaN(N)||N<10&&U[0]!=="0")return;let Z=Number.parseInt(A.substring(20,24));if(isNaN(Z))return;return new Date(Date.UTC(Z,C,I,G,D,N))}function fOB(A,Q=new Date){if(!A.endsWith("gmt"))return;let B=A.indexOf(",");if(B===-1)return;if(A.length-B-1!==23)return;let C=A.substring(0,B);if(!kOB.includes(C))return;if(A[B+1]!==" "||A[B+4]!=="-"||A[B+8]!=="-"||A[B+11]!==" "||A[B+14]!==":"||A[B+17]!==":"||A[B+20]!==" ")return;let E=A.substring(B+2,B+4),I=Number.parseInt(E);if(isNaN(I)||I<10&&E[0]!=="0")return;let Y=A.substring(B+5,B+8),G=R3A.indexOf(Y);if(G===-1)return;let J=Number.parseInt(A.substring(B+9,B+11));if(isNaN(J))return;let D=Q.getUTCFullYear(),U=D%100,N=Math.floor(D/100);if(J>U&&J-U>=50)J+=(N-1)*100;else J+=N*100;let Z=A.substring(B+12,B+14),X=Number.parseInt(Z);if(isNaN(X)||X<10&&Z[0]!=="0")return;let W=A.substring(B+15,B+17),K=Number.parseInt(W);if(isNaN(K)||K<10&&W[0]!=="0")return;let V=A.substring(B+18,B+20),M=Number.parseInt(V);if(isNaN(M)||M<10&&V[0]!=="0")return;return new Date(Date.UTC(J,G,I,X,K,M))}XwQ.exports={parseHttpDate:bOB}});var VwQ=m((sj0,KwQ)=>{var dOB=D0(),{parseCacheControlHeader:uOB,parseVaryHeader:pOB,isEtagUsable:cOB}=uk(),{parseHttpDate:HwQ}=FwQ();function lOB(){}var iOB=[200,203,204,206,300,301,308,404,405,410,414,501],nOB=2147483647000;class WwQ{#A;#Q;#B;#C;#I;#E;constructor({store:A,type:Q,cacheByDefault:B},C,E){this.#C=A,this.#Q=Q,this.#B=B,this.#A=C,this.#I=E}onRequestStart(A,Q){this.#E?.destroy(),this.#E=void 0,this.#I.onRequestStart?.(A,Q)}onRequestUpgrade(A,Q,B,C){this.#I.onRequestUpgrade?.(A,Q,B,C)}onResponseStart(A,Q,B,C){let E=()=>this.#I.onResponseStart?.(A,Q,B,C);if(!dOB.safeHTTPMethods.includes(this.#A.method)&&Q>=200&&Q<=399){try{this.#C.delete(this.#A)?.catch?.(lOB)}catch{}return E()}let I=B["cache-control"],Y=B["last-modified"]&&iOB.includes(Q);if(!I&&!B.expires&&!Y&&!this.#B)return E();let G=I?uOB(I):{};if(!oOB(this.#Q,Q,B,G))return E();let J=Date.now(),D=B.age?rOB(B.age):void 0;if(D&&D>=nOB)return E();let U=typeof B.date==="string"?HwQ(B.date):void 0,N=aOB(this.#Q,J,D,B,U,G)??this.#B;if(N===void 0||D&&D>N)return E();let Z=U?U.getTime():J,X=N+Z;if(J>=X)return E();let W;if(this.#A.headers&&B.vary){if(W=pOB(B.vary,this.#A.headers),!W)return E()}let K=sOB(Z,G,X),V=tOB(B,G),M={statusCode:Q,statusMessage:C,headers:V,vary:W,cacheControlDirectives:G,cachedAt:D?J-D:J,staleAt:X,deleteAt:K};if(typeof B.etag==="string"&&cOB(B.etag))M.etag=B.etag;if(this.#E=this.#C.createWriteStream(this.#A,M),!this.#E)return E();let z=this;return this.#E.on("drain",()=>A.resume()).on("error",function(){z.#E=void 0,z.#C.delete(z.#A)}).on("close",function(){if(z.#E===this)z.#E=void 0;A.resume()}),E()}onResponseData(A,Q){if(this.#E?.write(Q)===!1)A.pause();this.#I.onResponseData?.(A,Q)}onResponseEnd(A,Q){this.#E?.end(),this.#I.onResponseEnd?.(A,Q)}onResponseError(A,Q){this.#E?.destroy(Q),this.#E=void 0,this.#I.onResponseError?.(A,Q)}}function oOB(A,Q,B,C){if(Q!==200&&Q!==307)return!1;if(C["no-store"])return!1;if(A==="shared"&&C.private===!0)return!1;if(B.vary?.includes("*"))return!1;if(B.authorization){if(!C.public||typeof B.authorization!=="string")return!1;if(Array.isArray(C["no-cache"])&&C["no-cache"].includes("authorization"))return!1;if(Array.isArray(C.private)&&C.private.includes("authorization"))return!1}return!0}function rOB(A){let Q=parseInt(Array.isArray(A)?A[0]:A);return isNaN(Q)?void 0:Q*1000}function aOB(A,Q,B,C,E,I){if(A==="shared"){let G=I["s-maxage"];if(G!==void 0)return G>0?G*1000:void 0}let Y=I["max-age"];if(Y!==void 0)return Y>0?Y*1000:void 0;if(typeof C.expires==="string"){let G=HwQ(C.expires);if(G){if(Q>=G.getTime())return;if(E){if(E>=G)return;if(B!==void 0&&B>G-E)return}return G.getTime()-Q}}if(typeof C["last-modified"]==="string"){let G=new Date(C["last-modified"]);if(eOB(G)){if(G.getTime()>=Q)return;return(Q-G.getTime())*0.1}}if(I.immutable)return 31536000;return}function sOB(A,Q,B){let C=-1/0,E=-1/0,I=-1/0;if(Q["stale-while-revalidate"])C=B+Q["stale-while-revalidate"]*1000;if(Q["stale-if-error"])E=B+Q["stale-if-error"]*1000;if(C===-1/0&&E===-1/0)I=A+31536000000;return Math.max(B,C,E,I)}function tOB(A,Q){let B=["connection","proxy-authenticate","proxy-authentication-info","proxy-authorization","proxy-connection","te","transfer-encoding","upgrade","age"];if(A.connection)if(Array.isArray(A.connection))B.push(...A.connection.map((E)=>E.trim()));else B.push(...A.connection.split(",").map((E)=>E.trim()));if(Array.isArray(Q["no-cache"]))B.push(...Q["no-cache"]);if(Array.isArray(Q.private))B.push(...Q.private);let C;for(let E of B)if(A[E])C??={...A},delete C[E];return C??A}function eOB(A){return A instanceof Date&&Number.isFinite(A.valueOf())}KwQ.exports=WwQ});var T3A=m((tj0,zwQ)=>{var{Writable:ARB}=a("node:stream"),{assertCacheKey:MwQ,assertCacheValue:QRB}=uk();class $wQ{#A=1/0;#Q=1/0;#B=1/0;#C=0;#I=0;#E=new Map;constructor(A){if(A){if(typeof A!=="object")throw new TypeError("MemoryCacheStore options must be an object");if(A.maxCount!==void 0){if(typeof A.maxCount!=="number"||!Number.isInteger(A.maxCount)||A.maxCount<0)throw new TypeError("MemoryCacheStore options.maxCount must be a non-negative integer");this.#A=A.maxCount}if(A.maxSize!==void 0){if(typeof A.maxSize!=="number"||!Number.isInteger(A.maxSize)||A.maxSize<0)throw new TypeError("MemoryCacheStore options.maxSize must be a non-negative integer");this.#Q=A.maxSize}if(A.maxEntrySize!==void 0){if(typeof A.maxEntrySize!=="number"||!Number.isInteger(A.maxEntrySize)||A.maxEntrySize<0)throw new TypeError("MemoryCacheStore options.maxEntrySize must be a non-negative integer");this.#B=A.maxEntrySize}}}get(A){MwQ(A);let Q=`${A.origin}:${A.path}`,B=Date.now(),C=this.#E.get(Q)?.find((E)=>E.deleteAt>B&&E.method===A.method&&(E.vary==null||Object.keys(E.vary).every((I)=>{if(E.vary[I]===null)return A.headers[I]===void 0;return E.vary[I]===A.headers[I]})));return C==null?void 0:{statusMessage:C.statusMessage,statusCode:C.statusCode,headers:C.headers,body:C.body,vary:C.vary?C.vary:void 0,etag:C.etag,cacheControlDirectives:C.cacheControlDirectives,cachedAt:C.cachedAt,staleAt:C.staleAt,deleteAt:C.deleteAt}}createWriteStream(A,Q){MwQ(A),QRB(Q);let B=`${A.origin}:${A.path}`,C=this,E={...A,...Q,body:[],size:0};return new ARB({write(I,Y,G){if(typeof I==="string")I=Buffer.from(I,Y);if(E.size+=I.byteLength,E.size>=C.#B)this.destroy();else E.body.push(I);G(null)},final(I){let Y=C.#E.get(B);if(!Y)Y=[],C.#E.set(B,Y);if(Y.push(E),C.#C+=E.size,C.#I+=1,C.#C>C.#Q||C.#I>C.#A)for(let[G,J]of C.#E){for(let D of J.splice(0,J.length/2))C.#C-=D.size,C.#I-=1;if(J.length===0)C.#E.delete(G)}I(null)}})}delete(A){if(typeof A!=="object")throw new TypeError(`expected key to be object, got ${typeof A}`);let Q=`${A.origin}:${A.path}`;for(let B of this.#E.get(Q)??[])this.#C-=B.size,this.#I-=1;this.#E.delete(Q)}}zwQ.exports=$wQ});var OwQ=m((ej0,LwQ)=>{var BRB=a("node:assert");class wwQ{#A=!1;#Q;#B;#C;#I;constructor(A,Q,B){if(typeof A!=="function")throw new TypeError("callback must be a function");this.#Q=A,this.#B=Q,this.#I=B}onRequestStart(A,Q){this.#A=!1,this.#C=Q}onRequestUpgrade(A,Q,B,C){this.#B.onRequestUpgrade?.(A,Q,B,C)}onResponseStart(A,Q,B,C){if(BRB(this.#Q!=null),this.#A=Q===304||this.#I&&Q>=500&&Q<=504,this.#Q(this.#A,this.#C),this.#Q=null,this.#A)return!0;this.#B.onRequestStart?.(A,this.#C),this.#B.onResponseStart?.(A,Q,B,C)}onResponseData(A,Q){if(this.#A)return;return this.#B.onResponseData?.(A,Q)}onResponseEnd(A,Q){if(this.#A)return;this.#B.onResponseEnd?.(A,Q)}onResponseError(A,Q){if(this.#A)return;if(this.#Q)this.#Q(!1),this.#Q=null;if(typeof this.#B.onResponseError==="function")this.#B.onResponseError(A,Q);else throw Q}}LwQ.exports=wwQ});var _wQ=m((Ax0,PwQ)=>{var RwQ=a("node:assert"),{Readable:CRB}=a("node:stream"),fT=D0(),GAA=VwQ(),ERB=T3A(),IRB=OwQ(),{assertCacheStore:YRB,assertCacheMethods:GRB,makeCacheKey:JRB,parseCacheControlHeader:DRB}=uk(),{AbortError:URB}=FC();function NRB(A,Q){if(Q?.["no-cache"])return!0;let B=Date.now();if(B>A.staleAt){if(Q?.["max-stale"]){let C=A.staleAt+Q["max-stale"]*1000;return B>C}return!0}if(Q?.["min-fresh"]){let C=A.staleAt-B,E=Q["min-fresh"]*1000;return C<=E}return!1}function ZRB(A,Q,B,C,E,I){if(I?.["only-if-cached"]){let Y=!1;try{if(typeof C.onConnect==="function"){if(C.onConnect(()=>{Y=!0}),Y)return}if(typeof C.onHeaders==="function"){if(C.onHeaders(504,[],()=>{},"Gateway Timeout"),Y)return}if(typeof C.onComplete==="function")C.onComplete([])}catch(G){if(typeof C.onError==="function")C.onError(G)}return!0}return A(E,new GAA(Q,B,C))}function TwQ(A,Q,B,C,E,I){let Y=fT.isStream(B.body)?B.body:CRB.from(B.body??[]);RwQ(!Y.destroyed,"stream should not be destroyed"),RwQ(!Y.readableDidRead,"stream should not be readableDidRead");let G={resume(){Y.resume()},pause(){Y.pause()},get paused(){return Y.isPaused()},get aborted(){return Y.destroyed},get reason(){return Y.errored},abort(D){Y.destroy(D??new URB)}};if(Y.on("error",function(D){if(!this.readableEnded)if(typeof A.onResponseError==="function")A.onResponseError(G,D);else throw D}).on("close",function(){if(!this.errored)A.onResponseEnd?.(G,{})}),A.onRequestStart?.(G,E),Y.destroyed)return;let J={...B.headers,age:String(C)};if(I)J.warning='110 - "response is stale"';if(A.onResponseStart?.(G,B.statusCode,J,B.statusMessage),Q.method==="HEAD")Y.destroy();else Y.on("data",function(D){A.onResponseData?.(G,D)})}function qwQ(A,Q,B,C,E,I,Y){if(!Y)return ZRB(A,Q,B,C,E,I);let G=Date.now();if(G>Y.deleteAt)return A(E,new GAA(Q,B,C));let J=Math.round((G-Y.cachedAt)/1000);if(I?.["max-age"]&&J>=I["max-age"])return A(E,C);if(NRB(Y,I)){if(fT.isStream(E.body)&&fT.bodyLength(E.body)!==0)return A(E,new GAA(Q,B,C));let D=!1,U=Y.cacheControlDirectives["stale-if-error"]??I?.["stale-if-error"];if(U)D=G<Y.staleAt+U*1000;let N={...E.headers,"if-modified-since":new Date(Y.cachedAt).toUTCString()};if(Y.etag)N["if-none-match"]=Y.etag;if(Y.vary)N={...N,...Y.vary};return A({...E,headers:N},new IRB((Z,X)=>{if(Z)TwQ(C,E,Y,J,X,!0);else if(fT.isStream(Y.body))Y.body.on("error",()=>{}).destroy()},new GAA(Q,B,C),D))}if(fT.isStream(E.body))E.body.on("error",()=>{}).destroy();TwQ(C,E,Y,J,null,!1)}PwQ.exports=(A={})=>{let{store:Q=new ERB,methods:B=["GET"],cacheByDefault:C=void 0,type:E="shared"}=A;if(typeof A!=="object"||A===null)throw new TypeError(`expected type of opts to be an Object, got ${A===null?"null":typeof A}`);if(YRB(Q,"opts.store"),GRB(B,"opts.methods"),typeof C!=="undefined"&&typeof C!=="number")throw new TypeError(`exepcted opts.cacheByDefault to be number or undefined, got ${typeof C}`);if(typeof E!=="undefined"&&E!=="shared"&&E!=="private")throw new TypeError(`exepcted opts.type to be shared, private, or undefined, got ${typeof E}`);let I={store:Q,methods:B,cacheByDefault:C,type:E},Y=fT.safeHTTPMethods.filter((G)=>B.includes(G)===!1);return(G)=>{return(J,D)=>{if(!J.origin||Y.includes(J.method))return G(J,D);let U=J.headers?.["cache-control"]?DRB(J.headers["cache-control"]):void 0;if(U?.["no-store"])return G(J,D);let N=JRB(J),Z=Q.get(N);if(Z&&typeof Z.then==="function")Z.then((X)=>{qwQ(G,I,N,D,J,U,X)});else qwQ(G,I,N,D,J,U,Z);return!0}}}});var xwQ=m((Qx0,jwQ)=>{var{Writable:XRB}=a("stream"),{assertCacheKey:q3A,assertCacheValue:FRB}=uk(),P3A;jwQ.exports=class A{#A=2000000000;#Q=1/0;#B;#C;#I;#E;#J;#Y;#G;#D;constructor(Q){if(Q){if(typeof Q!=="object")throw new TypeError("SqliteCacheStore options must be an object");if(Q.maxEntrySize!==void 0){if(typeof Q.maxEntrySize!=="number"||!Number.isInteger(Q.maxEntrySize)||Q.maxEntrySize<0)throw new TypeError("SqliteCacheStore options.maxEntrySize must be a non-negative integer");if(Q.maxEntrySize>2000000000)throw new TypeError("SqliteCacheStore options.maxEntrySize must be less than 2gb");this.#A=Q.maxEntrySize}if(Q.maxCount!==void 0){if(typeof Q.maxCount!=="number"||!Number.isInteger(Q.maxCount)||Q.maxCount<0)throw new TypeError("SqliteCacheStore options.maxCount must be a non-negative integer");this.#Q=Q.maxCount}}if(!P3A)P3A=a("node:sqlite").DatabaseSync;this.#B=new P3A(Q?.location??":memory:"),this.#B.exec(`
      CREATE TABLE IF NOT EXISTS cacheInterceptorV3 (
        -- Data specific to us
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        url TEXT NOT NULL,
        method TEXT NOT NULL,

        -- Data returned to the interceptor
        body BUF NULL,
        deleteAt INTEGER NOT NULL,
        statusCode INTEGER NOT NULL,
        statusMessage TEXT NOT NULL,
        headers TEXT NULL,
        cacheControlDirectives TEXT NULL,
        etag TEXT NULL,
        vary TEXT NULL,
        cachedAt INTEGER NOT NULL,
        staleAt INTEGER NOT NULL
      );

      CREATE INDEX IF NOT EXISTS idx_cacheInterceptorV3_url ON cacheInterceptorV3(url);
      CREATE INDEX IF NOT EXISTS idx_cacheInterceptorV3_method ON cacheInterceptorV3(method);
      CREATE INDEX IF NOT EXISTS idx_cacheInterceptorV3_deleteAt ON cacheInterceptorV3(deleteAt);
    `),this.#C=this.#B.prepare(`
      SELECT
        id,
        body,
        deleteAt,
        statusCode,
        statusMessage,
        headers,
        etag,
        cacheControlDirectives,
        vary,
        cachedAt,
        staleAt
      FROM cacheInterceptorV3
      WHERE
        url = ?
        AND method = ?
      ORDER BY
        deleteAt ASC
    `),this.#I=this.#B.prepare(`
      UPDATE cacheInterceptorV3 SET
        body = ?,
        deleteAt = ?,
        statusCode = ?,
        statusMessage = ?,
        headers = ?,
        etag = ?,
        cacheControlDirectives = ?,
        cachedAt = ?,
        staleAt = ?
      WHERE
        id = ?
    `),this.#E=this.#B.prepare(`
      INSERT INTO cacheInterceptorV3 (
        url,
        method,
        body,
        deleteAt,
        statusCode,
        statusMessage,
        headers,
        etag,
        cacheControlDirectives,
        vary,
        cachedAt,
        staleAt
      ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
    `),this.#Y=this.#B.prepare("DELETE FROM cacheInterceptorV3 WHERE url = ?"),this.#G=this.#B.prepare("SELECT COUNT(*) AS total FROM cacheInterceptorV3"),this.#J=this.#B.prepare("DELETE FROM cacheInterceptorV3 WHERE deleteAt <= ?"),this.#D=this.#Q===1/0?null:this.#B.prepare(`
        DELETE FROM cacheInterceptorV3
        WHERE id IN (
          SELECT
            id
          FROM cacheInterceptorV3
          ORDER BY cachedAt DESC
          LIMIT ?
        )
      `)}close(){this.#B.close()}get(Q){q3A(Q);let B=this.#N(Q);return B?{body:B.body?Buffer.from(B.body.buffer,B.body.byteOffset,B.body.byteLength):void 0,statusCode:B.statusCode,statusMessage:B.statusMessage,headers:B.headers?JSON.parse(B.headers):void 0,etag:B.etag?B.etag:void 0,vary:B.vary?JSON.parse(B.vary):void 0,cacheControlDirectives:B.cacheControlDirectives?JSON.parse(B.cacheControlDirectives):void 0,cachedAt:B.cachedAt,staleAt:B.staleAt,deleteAt:B.deleteAt}:void 0}set(Q,B){q3A(Q);let C=this.#U(Q),E=Array.isArray(B.body)?Buffer.concat(B.body):B.body,I=E?.byteLength;if(I&&I>this.#A)return;let Y=this.#N(Q,!0);if(Y)this.#I.run(E,B.deleteAt,B.statusCode,B.statusMessage,B.headers?JSON.stringify(B.headers):null,B.etag?B.etag:null,B.cacheControlDirectives?JSON.stringify(B.cacheControlDirectives):null,B.cachedAt,B.staleAt,Y.id);else this.#Z(),this.#E.run(C,Q.method,E,B.deleteAt,B.statusCode,B.statusMessage,B.headers?JSON.stringify(B.headers):null,B.etag?B.etag:null,B.cacheControlDirectives?JSON.stringify(B.cacheControlDirectives):null,B.vary?JSON.stringify(B.vary):null,B.cachedAt,B.staleAt)}createWriteStream(Q,B){q3A(Q),FRB(B);let C=0,E=[],I=this;return new XRB({decodeStrings:!0,write(Y,G,J){if(C+=Y.byteLength,C<I.#A)E.push(Y);else this.destroy();J()},final(Y){I.set(Q,{...B,body:E}),Y()}})}delete(Q){if(typeof Q!=="object")throw new TypeError(`expected key to be object, got ${typeof Q}`);this.#Y.run(this.#U(Q))}#Z(){if(this.size<=this.#Q)return 0;{let Q=this.#J.run(Date.now()).changes;if(Q)return Q}{let Q=this.#D?.run(Math.max(Math.floor(this.#Q*0.1),1)).changes;if(Q)return Q}return 0}get size(){let{total:Q}=this.#G.get();return Q}#U(Q){return`${Q.origin}/${Q.path}`}#N(Q,B=!1){let C=this.#U(Q),{headers:E,method:I}=Q,Y=this.#C.all(C,I);if(Y.length===0)return;let G=Date.now();for(let J of Y){if(G>=J.deleteAt&&!B)return;let D=!0;if(J.vary){let U=JSON.parse(J.vary);for(let N in U)if(!HRB(E[N],U[N])){D=!1;break}}if(D)return J}return}};function HRB(A,Q){if(A==null&&Q==null)return!0;if(A==null&&Q!=null||A!=null&&Q==null)return!1;if(Array.isArray(A)&&Array.isArray(Q)){if(A.length!==Q.length)return!1;return A.every((B,C)=>B===Q[C])}return A===Q}});var U$=m((Bx0,hwQ)=>{var{kConstruct:WRB}=kE(),{kEnumerableProperty:dT}=D0(),{iteratorMixin:KRB,isValidHeaderName:pk,isValidHeaderValue:gwQ}=BD(),{webidl:BC}=yJ(),_3A=a("node:assert"),JAA=a("node:util");function SwQ(A){return A===10||A===13||A===9||A===32}function vwQ(A){let Q=0,B=A.length;while(B>Q&&SwQ(A.charCodeAt(B-1)))--B;while(B>Q&&SwQ(A.charCodeAt(Q)))++Q;return Q===0&&B===A.length?A:A.substring(Q,B)}function ywQ(A,Q){if(Array.isArray(Q))for(let B=0;B<Q.length;++B){let C=Q[B];if(C.length!==2)throw BC.errors.exception({header:"Headers constructor",message:`expected name/value pair to be length 2, found ${C.length}.`});j3A(A,C[0],C[1])}else if(typeof Q==="object"&&Q!==null){let B=Object.keys(Q);for(let C=0;C<B.length;++C)j3A(A,B[C],Q[B[C]])}else throw BC.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})}function j3A(A,Q,B){if(B=vwQ(B),!pk(Q))throw BC.errors.invalidArgument({prefix:"Headers.append",value:Q,type:"header name"});else if(!gwQ(B))throw BC.errors.invalidArgument({prefix:"Headers.append",value:B,type:"header value"});if(bwQ(A)==="immutable")throw new TypeError("immutable");return UAA(A).append(Q,B,!1)}function VRB(A){let Q=UAA(A);if(!Q)return[];if(Q.sortedMap)return Q.sortedMap;let B=[],C=Q.toSortedArray(),E=Q.cookies;if(E===null||E.length===1)return Q.sortedMap=C;for(let I=0;I<C.length;++I){let{0:Y,1:G}=C[I];if(Y==="set-cookie")for(let J=0;J<E.length;++J)B.push([Y,E[J]]);else B.push([Y,G])}return Q.sortedMap=B}function kwQ(A,Q){return A[0]<Q[0]?-1:1}class DAA{cookies=null;sortedMap;headersMap;constructor(A){if(A instanceof DAA)this.headersMap=new Map(A.headersMap),this.sortedMap=A.sortedMap,this.cookies=A.cookies===null?null:[...A.cookies];else this.headersMap=new Map(A),this.sortedMap=null}contains(A,Q){return this.headersMap.has(Q?A:A.toLowerCase())}clear(){this.headersMap.clear(),this.sortedMap=null,this.cookies=null}append(A,Q,B){this.sortedMap=null;let C=B?A:A.toLowerCase(),E=this.headersMap.get(C);if(E){let I=C==="cookie"?"; ":", ";this.headersMap.set(C,{name:E.name,value:`${E.value}${I}${Q}`})}else this.headersMap.set(C,{name:A,value:Q});if(C==="set-cookie")(this.cookies??=[]).push(Q)}set(A,Q,B){this.sortedMap=null;let C=B?A:A.toLowerCase();if(C==="set-cookie")this.cookies=[Q];this.headersMap.set(C,{name:A,value:Q})}delete(A,Q){if(this.sortedMap=null,!Q)A=A.toLowerCase();if(A==="set-cookie")this.cookies=null;this.headersMap.delete(A)}get(A,Q){return this.headersMap.get(Q?A:A.toLowerCase())?.value??null}*[Symbol.iterator](){for(let{0:A,1:{value:Q}}of this.headersMap)yield[A,Q]}get entries(){let A={};if(this.headersMap.size!==0)for(let{name:Q,value:B}of this.headersMap.values())A[Q]=B;return A}rawValues(){return this.headersMap.values()}get entriesList(){let A=[];if(this.headersMap.size!==0)for(let{0:Q,1:{name:B,value:C}}of this.headersMap)if(Q==="set-cookie")for(let E of this.cookies)A.push([B,E]);else A.push([B,C]);return A}toSortedArray(){let A=this.headersMap.size,Q=new Array(A);if(A<=32){if(A===0)return Q;let B=this.headersMap[Symbol.iterator](),C=B.next().value;Q[0]=[C[0],C[1].value],_3A(C[1].value!==null);for(let E=1,I=0,Y=0,G=0,J=0,D,U;E<A;++E){U=B.next().value,D=Q[E]=[U[0],U[1].value],_3A(D[1]!==null),G=0,Y=E;while(G<Y)if(J=G+(Y-G>>1),Q[J][0]<=D[0])G=J+1;else Y=J;if(E!==J){I=E;while(I>G)Q[I]=Q[--I];Q[G]=D}}if(!B.next().done)throw new TypeError("Unreachable");return Q}else{let B=0;for(let{0:C,1:{value:E}}of this.headersMap)Q[B++]=[C,E],_3A(E!==null);return Q.sort(kwQ)}}}class $2{#A;#Q;constructor(A=void 0){if(BC.util.markAsUncloneable(this),A===WRB)return;if(this.#Q=new DAA,this.#A="none",A!==void 0)A=BC.converters.HeadersInit(A,"Headers constructor","init"),ywQ(this,A)}append(A,Q){BC.brandCheck(this,$2),BC.argumentLengthCheck(arguments,2,"Headers.append");let B="Headers.append";return A=BC.converters.ByteString(A,B,"name"),Q=BC.converters.ByteString(Q,B,"value"),j3A(this,A,Q)}delete(A){BC.brandCheck(this,$2),BC.argumentLengthCheck(arguments,1,"Headers.delete");let Q="Headers.delete";if(A=BC.converters.ByteString(A,Q,"name"),!pk(A))throw BC.errors.invalidArgument({prefix:"Headers.delete",value:A,type:"header name"});if(this.#A==="immutable")throw new TypeError("immutable");if(!this.#Q.contains(A,!1))return;this.#Q.delete(A,!1)}get(A){BC.brandCheck(this,$2),BC.argumentLengthCheck(arguments,1,"Headers.get");let Q="Headers.get";if(A=BC.converters.ByteString(A,Q,"name"),!pk(A))throw BC.errors.invalidArgument({prefix:Q,value:A,type:"header name"});return this.#Q.get(A,!1)}has(A){BC.brandCheck(this,$2),BC.argumentLengthCheck(arguments,1,"Headers.has");let Q="Headers.has";if(A=BC.converters.ByteString(A,Q,"name"),!pk(A))throw BC.errors.invalidArgument({prefix:Q,value:A,type:"header name"});return this.#Q.contains(A,!1)}set(A,Q){BC.brandCheck(this,$2),BC.argumentLengthCheck(arguments,2,"Headers.set");let B="Headers.set";if(A=BC.converters.ByteString(A,B,"name"),Q=BC.converters.ByteString(Q,B,"value"),Q=vwQ(Q),!pk(A))throw BC.errors.invalidArgument({prefix:B,value:A,type:"header name"});else if(!gwQ(Q))throw BC.errors.invalidArgument({prefix:B,value:Q,type:"header value"});if(this.#A==="immutable")throw new TypeError("immutable");this.#Q.set(A,Q,!1)}getSetCookie(){BC.brandCheck(this,$2);let A=this.#Q.cookies;if(A)return[...A];return[]}[JAA.inspect.custom](A,Q){return Q.depth??=A,`Headers ${JAA.formatWithOptions(Q,this.#Q.entries)}`}static getHeadersGuard(A){return A.#A}static setHeadersGuard(A,Q){A.#A=Q}static getHeadersList(A){return A.#Q}static setHeadersList(A,Q){A.#Q=Q}}var{getHeadersGuard:bwQ,setHeadersGuard:MRB,getHeadersList:UAA,setHeadersList:$RB}=$2;Reflect.deleteProperty($2,"getHeadersGuard");Reflect.deleteProperty($2,"setHeadersGuard");Reflect.deleteProperty($2,"getHeadersList");Reflect.deleteProperty($2,"setHeadersList");KRB("Headers",$2,VRB,0,1);Object.defineProperties($2.prototype,{append:dT,delete:dT,get:dT,has:dT,set:dT,getSetCookie:dT,[Symbol.toStringTag]:{value:"Headers",configurable:!0},[JAA.inspect.custom]:{enumerable:!1}});BC.converters.HeadersInit=function(A,Q,B){if(BC.util.Type(A)===BC.util.Types.OBJECT){let C=Reflect.get(A,Symbol.iterator);if(!JAA.types.isProxy(A)&&C===$2.prototype.entries)try{return UAA(A).entriesList}catch{}if(typeof C==="function")return BC.converters["sequence<sequence<ByteString>>"](A,Q,B,C.bind(A));return BC.converters["record<ByteString, ByteString>"](A,Q,B)}throw BC.errors.conversionFailed({prefix:"Headers constructor",argument:"Argument 1",types:["sequence<sequence<ByteString>>","record<ByteString, ByteString>"]})};hwQ.exports={fill:ywQ,compareHeaderName:kwQ,Headers:$2,HeadersList:DAA,getHeadersGuard:bwQ,setHeadersGuard:MRB,setHeadersList:$RB,getHeadersList:UAA}});var lk=m((Cx0,rwQ)=>{var{Headers:cwQ,HeadersList:mwQ,fill:zRB,getHeadersGuard:wRB,setHeadersGuard:lwQ,setHeadersList:iwQ}=U$(),{extractBody:fwQ,cloneBody:LRB,mixinBody:ORB,hasFinalizationRegistry:RRB,streamRegistry:TRB,bodyUnusable:qRB}=OT(),nwQ=D0(),dwQ=a("node:util"),{kEnumerableProperty:HN}=nwQ,{isValidReasonPhrase:PRB,isCancelled:_RB,isAborted:jRB,serializeJavascriptValueToJSONString:xRB,isErrorLike:SRB,isomorphicEncode:gRB,environmentSettingsObject:vRB}=BD(),{redirectStatusSet:yRB,nullBodyStatus:kRB}=Zk(),{webidl:c0}=yJ(),{URLSerializer:uwQ}=ZN(),{kConstruct:ZAA}=kE(),x3A=a("node:assert"),{types:bRB}=a("node:util"),hRB=new TextEncoder("utf-8");class UY{#A;#Q;static error(){return ck(XAA(),"immutable")}static json(A,Q=void 0){if(c0.argumentLengthCheck(arguments,1,"Response.json"),Q!==null)Q=c0.converters.ResponseInit(Q);let B=hRB.encode(xRB(A)),C=fwQ(B),E=ck(uT({}),"response");return pwQ(E,Q,{body:C[0],type:"application/json"}),E}static redirect(A,Q=302){c0.argumentLengthCheck(arguments,1,"Response.redirect"),A=c0.converters.USVString(A),Q=c0.converters["unsigned short"](Q);let B;try{B=new URL(A,vRB.settingsObject.baseUrl)}catch(I){throw new TypeError(`Failed to parse URL from ${A}`,{cause:I})}if(!yRB.has(Q))throw new RangeError(`Invalid status code ${Q}`);let C=ck(uT({}),"immutable");C.#Q.status=Q;let E=gRB(uwQ(B));return C.#Q.headersList.append("location",E,!0),C}constructor(A=null,Q=void 0){if(c0.util.markAsUncloneable(this),A===ZAA)return;if(A!==null)A=c0.converters.BodyInit(A);Q=c0.converters.ResponseInit(Q),this.#Q=uT({}),this.#A=new cwQ(ZAA),lwQ(this.#A,"response"),iwQ(this.#A,this.#Q.headersList);let B=null;if(A!=null){let[C,E]=fwQ(A);B={body:C,type:E}}pwQ(this,Q,B)}get type(){return c0.brandCheck(this,UY),this.#Q.type}get url(){c0.brandCheck(this,UY);let A=this.#Q.urlList,Q=A[A.length-1]??null;if(Q===null)return"";return uwQ(Q,!0)}get redirected(){return c0.brandCheck(this,UY),this.#Q.urlList.length>1}get status(){return c0.brandCheck(this,UY),this.#Q.status}get ok(){return c0.brandCheck(this,UY),this.#Q.status>=200&&this.#Q.status<=299}get statusText(){return c0.brandCheck(this,UY),this.#Q.statusText}get headers(){return c0.brandCheck(this,UY),this.#A}get body(){return c0.brandCheck(this,UY),this.#Q.body?this.#Q.body.stream:null}get bodyUsed(){return c0.brandCheck(this,UY),!!this.#Q.body&&nwQ.isDisturbed(this.#Q.body.stream)}clone(){if(c0.brandCheck(this,UY),qRB(this.#Q))throw c0.errors.exception({header:"Response.clone",message:"Body has already been consumed."});let A=S3A(this.#Q);return ck(A,wRB(this.#A))}[dwQ.inspect.custom](A,Q){if(Q.depth===null)Q.depth=2;Q.colors??=!0;let B={status:this.status,statusText:this.statusText,headers:this.headers,body:this.body,bodyUsed:this.bodyUsed,ok:this.ok,redirected:this.redirected,type:this.type,url:this.url};return`Response ${dwQ.formatWithOptions(Q,B)}`}static getResponseHeaders(A){return A.#A}static setResponseHeaders(A,Q){A.#A=Q}static getResponseState(A){return A.#Q}static setResponseState(A,Q){A.#Q=Q}}var{getResponseHeaders:mRB,setResponseHeaders:fRB,getResponseState:N$,setResponseState:dRB}=UY;Reflect.deleteProperty(UY,"getResponseHeaders");Reflect.deleteProperty(UY,"setResponseHeaders");Reflect.deleteProperty(UY,"getResponseState");Reflect.deleteProperty(UY,"setResponseState");ORB(UY,N$);Object.defineProperties(UY.prototype,{type:HN,url:HN,status:HN,ok:HN,redirected:HN,statusText:HN,headers:HN,clone:HN,body:HN,bodyUsed:HN,[Symbol.toStringTag]:{value:"Response",configurable:!0}});Object.defineProperties(UY,{json:HN,redirect:HN,error:HN});function S3A(A){if(A.internalResponse)return owQ(S3A(A.internalResponse),A.type);let Q=uT({...A,body:null});if(A.body!=null)Q.body=LRB(Q,A.body);return Q}function uT(A){return{aborted:!1,rangeRequested:!1,timingAllowPassed:!1,requestIncludesCredentials:!1,type:"default",status:200,timingInfo:null,cacheState:"",statusText:"",...A,headersList:A?.headersList?new mwQ(A?.headersList):new mwQ,urlList:A?.urlList?[...A.urlList]:[]}}function XAA(A){let Q=SRB(A);return uT({type:"error",status:0,error:Q?A:new Error(A?String(A):A),aborted:A&&A.name==="AbortError"})}function uRB(A){return A.type==="error"&&A.status===0}function NAA(A,Q){return Q={internalResponse:A,...Q},new Proxy(A,{get(B,C){return C in Q?Q[C]:B[C]},set(B,C,E){return x3A(!(C in Q)),B[C]=E,!0}})}function owQ(A,Q){if(Q==="basic")return NAA(A,{type:"basic",headersList:A.headersList});else if(Q==="cors")return NAA(A,{type:"cors",headersList:A.headersList});else if(Q==="opaque")return NAA(A,{type:"opaque",urlList:Object.freeze([]),status:0,statusText:"",body:null});else if(Q==="opaqueredirect")return NAA(A,{type:"opaqueredirect",status:0,statusText:"",headersList:[],body:null});else x3A(!1)}function pRB(A,Q=null){return x3A(_RB(A)),jRB(A)?XAA(Object.assign(new DOMException("The operation was aborted.","AbortError"),{cause:Q})):XAA(Object.assign(new DOMException("Request was cancelled."),{cause:Q}))}function pwQ(A,Q,B){if(Q.status!==null&&(Q.status<200||Q.status>599))throw new RangeError('init["status"] must be in the range of 200 to 599, inclusive.');if("statusText"in Q&&Q.statusText!=null){if(!PRB(String(Q.statusText)))throw new TypeError("Invalid statusText")}if("status"in Q&&Q.status!=null)N$(A).status=Q.status;if("statusText"in Q&&Q.statusText!=null)N$(A).statusText=Q.statusText;if("headers"in Q&&Q.headers!=null)zRB(mRB(A),Q.headers);if(B){if(kRB.includes(A.status))throw c0.errors.exception({header:"Response constructor",message:`Invalid response status code ${A.status}`});if(N$(A).body=B.body,B.type!=null&&!N$(A).headersList.contains("content-type",!0))N$(A).headersList.append("content-type",B.type,!0)}}function ck(A,Q){let B=new UY(ZAA);dRB(B,A);let C=new cwQ(ZAA);if(fRB(B,C),iwQ(C,A.headersList),lwQ(C,Q),RRB&&A.body?.stream)TRB.register(B,new WeakRef(A.body.stream));return B}c0.converters.XMLHttpRequestBodyInit=function(A,Q,B){if(typeof A==="string")return c0.converters.USVString(A,Q,B);if(c0.is.Blob(A))return A;if(ArrayBuffer.isView(A)||bRB.isArrayBuffer(A))return A;if(c0.is.FormData(A))return A;if(c0.is.URLSearchParams(A))return A;return c0.converters.DOMString(A,Q,B)};c0.converters.BodyInit=function(A,Q,B){if(c0.is.ReadableStream(A))return A;if(A?.[Symbol.asyncIterator])return A;return c0.converters.XMLHttpRequestBodyInit(A,Q,B)};c0.converters.ResponseInit=c0.dictionaryConverter([{key:"status",converter:c0.converters["unsigned short"],defaultValue:()=>200},{key:"statusText",converter:c0.converters.ByteString,defaultValue:()=>""},{key:"headers",converter:c0.converters.HeadersInit}]);c0.is.Response=c0.util.MakeTypeAssertion(UY);rwQ.exports={isNetworkError:uRB,makeNetworkError:XAA,makeResponse:uT,makeAppropriateNetworkError:pRB,filterResponse:owQ,Response:UY,cloneResponse:S3A,fromInnerResponse:ck,getResponseState:N$}});var QLQ=m((Ex0,ALQ)=>{var{kConnected:awQ,kSize:swQ}=kE();class twQ{constructor(A){this.value=A}deref(){return this.value[awQ]===0&&this.value[swQ]===0?void 0:this.value}}class ewQ{constructor(A){this.finalizer=A}register(A,Q){if(A.on)A.on("disconnect",()=>{if(A[awQ]===0&&A[swQ]===0)this.finalizer(Q)})}unregister(A){}}ALQ.exports=function(){if(process.env.NODE_V8_COVERAGE&&process.version.startsWith("v18"))return process._rawDebug("Using compatibility WeakRef and FinalizationRegistry"),{WeakRef:twQ,FinalizationRegistry:ewQ};return{WeakRef,FinalizationRegistry}}});var pT=m((Ix0,HLQ)=>{var{extractBody:cRB,mixinBody:lRB,cloneBody:iRB,bodyUnusable:BLQ}=OT(),{Headers:JLQ,fill:nRB,HeadersList:WAA,setHeadersGuard:g3A,getHeadersGuard:oRB,setHeadersList:DLQ,getHeadersList:CLQ}=U$(),{FinalizationRegistry:rRB}=QLQ()(),HAA=D0(),ELQ=a("node:util"),{isValidHTTPToken:aRB,sameOrigin:ILQ,environmentSettingsObject:FAA}=BD(),{forbiddenMethodsSet:sRB,corsSafeListedMethodsSet:tRB,referrerPolicy:eRB,requestRedirect:ATB,requestMode:QTB,requestCredentials:BTB,requestCache:CTB,requestDuplex:ETB}=Zk(),{kEnumerableProperty:AG,normalizedMethodRecordsBase:ITB,normalizedMethodRecords:YTB}=HAA,{webidl:RB}=yJ(),{URLSerializer:GTB}=ZN(),{kConstruct:KAA}=kE(),JTB=a("node:assert"),{getMaxListeners:ULQ,setMaxListeners:DTB,defaultMaxListeners:UTB}=a("node:events"),NTB=Symbol("abortController"),NLQ=new rRB(({signal:A,abort:Q})=>{A.removeEventListener("abort",Q)}),VAA=new WeakMap,v3A;try{v3A=ULQ(new AbortController().signal)>0}catch{v3A=!1}function YLQ(A){return Q;function Q(){let B=A.deref();if(B!==void 0){NLQ.unregister(Q),this.removeEventListener("abort",Q),B.abort(this.reason);let C=VAA.get(B.signal);if(C!==void 0){if(C.size!==0){for(let E of C){let I=E.deref();if(I!==void 0)I.abort(this.reason)}C.clear()}VAA.delete(B.signal)}}}}var GLQ=!1;class vC{#A;#Q;#B;#C;constructor(A,Q=void 0){if(RB.util.markAsUncloneable(this),A===KAA)return;let B="Request constructor";RB.argumentLengthCheck(arguments,1,B),A=RB.converters.RequestInfo(A,B,"input"),Q=RB.converters.RequestInit(Q,B,"init");let C=null,E=null,I=FAA.settingsObject.baseUrl,Y=null;if(typeof A==="string"){this.#Q=Q.dispatcher;let V;try{V=new URL(A,I)}catch(M){throw new TypeError("Failed to parse URL from "+A,{cause:M})}if(V.username||V.password)throw new TypeError("Request cannot be constructed from a URL that includes credentials: "+A);C=MAA({urlList:[V]}),E="cors"}else JTB(RB.is.Request(A)),C=A.#C,Y=A.#A,this.#Q=Q.dispatcher||A.#Q;let G=FAA.settingsObject.origin,J="client";if(C.window?.constructor?.name==="EnvironmentSettingsObject"&&ILQ(C.window,G))J=C.window;if(Q.window!=null)throw new TypeError(`'window' option '${J}' must be null`);if("window"in Q)J="no-window";C=MAA({method:C.method,headersList:C.headersList,unsafeRequest:C.unsafeRequest,client:FAA.settingsObject,window:J,priority:C.priority,origin:C.origin,referrer:C.referrer,referrerPolicy:C.referrerPolicy,mode:C.mode,credentials:C.credentials,cache:C.cache,redirect:C.redirect,integrity:C.integrity,keepalive:C.keepalive,reloadNavigation:C.reloadNavigation,historyNavigation:C.historyNavigation,urlList:[...C.urlList]});let D=Object.keys(Q).length!==0;if(D){if(C.mode==="navigate")C.mode="same-origin";C.reloadNavigation=!1,C.historyNavigation=!1,C.origin="client",C.referrer="client",C.referrerPolicy="",C.url=C.urlList[C.urlList.length-1],C.urlList=[C.url]}if(Q.referrer!==void 0){let V=Q.referrer;if(V==="")C.referrer="no-referrer";else{let M;try{M=new URL(V,I)}catch(z){throw new TypeError(`Referrer "${V}" is not a valid URL.`,{cause:z})}if(M.protocol==="about:"&&M.hostname==="client"||G&&!ILQ(M,FAA.settingsObject.baseUrl))C.referrer="client";else C.referrer=M}}if(Q.referrerPolicy!==void 0)C.referrerPolicy=Q.referrerPolicy;let U;if(Q.mode!==void 0)U=Q.mode;else U=E;if(U==="navigate")throw RB.errors.exception({header:"Request constructor",message:"invalid request mode navigate."});if(U!=null)C.mode=U;if(Q.credentials!==void 0)C.credentials=Q.credentials;if(Q.cache!==void 0)C.cache=Q.cache;if(C.cache==="only-if-cached"&&C.mode!=="same-origin")throw new TypeError("'only-if-cached' can be set only with 'same-origin' mode");if(Q.redirect!==void 0)C.redirect=Q.redirect;if(Q.integrity!=null)C.integrity=String(Q.integrity);if(Q.keepalive!==void 0)C.keepalive=Boolean(Q.keepalive);if(Q.method!==void 0){let V=Q.method,M=YTB[V];if(M!==void 0)C.method=M;else{if(!aRB(V))throw new TypeError(`'${V}' is not a valid HTTP method.`);let z=V.toUpperCase();if(sRB.has(z))throw new TypeError(`'${V}' HTTP method is unsupported.`);V=ITB[z]??V,C.method=V}if(!GLQ&&C.method==="patch")process.emitWarning("Using `patch` is highly likely to result in a `405 Method Not Allowed`. `PATCH` is much more likely to succeed.",{code:"UNDICI-FETCH-patch"}),GLQ=!0}if(Q.signal!==void 0)Y=Q.signal;this.#C=C;let N=new AbortController;if(this.#A=N.signal,Y!=null)if(Y.aborted)N.abort(Y.reason);else{this[NTB]=N;let V=new WeakRef(N),M=YLQ(V);if(v3A&&ULQ(Y)===UTB)DTB(1500,Y);HAA.addAbortListener(Y,M),NLQ.register(N,{signal:Y,abort:M},M)}if(this.#B=new JLQ(KAA),DLQ(this.#B,C.headersList),g3A(this.#B,"request"),U==="no-cors"){if(!tRB.has(C.method))throw new TypeError(`'${C.method} is unsupported in no-cors mode.`);g3A(this.#B,"request-no-cors")}if(D){let V=CLQ(this.#B),M=Q.headers!==void 0?Q.headers:new WAA(V);if(V.clear(),M instanceof WAA){for(let{name:z,value:L}of M.rawValues())V.append(z,L,!1);V.cookies=M.cookies}else nRB(this.#B,M)}let Z=RB.is.Request(A)?A.#C.body:null;if((Q.body!=null||Z!=null)&&(C.method==="GET"||C.method==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body.");let X=null;if(Q.body!=null){let[V,M]=cRB(Q.body,C.keepalive);if(X=V,M&&!CLQ(this.#B).contains("content-type",!0))this.#B.append("content-type",M,!0)}let W=X??Z;if(W!=null&&W.source==null){if(X!=null&&Q.duplex==null)throw new TypeError("RequestInit: duplex option is required when sending a body.");if(C.mode!=="same-origin"&&C.mode!=="cors")throw new TypeError('If request is made from ReadableStream, mode should be "same-origin" or "cors"');C.useCORSPreflightFlag=!0}let K=W;if(X==null&&Z!=null){if(BLQ(A.#C))throw new TypeError("Cannot construct a Request with a Request object that has already been used.");let V=new TransformStream;Z.stream.pipeThrough(V),K={source:Z.source,length:Z.length,stream:V.readable}}this.#C.body=K}get method(){return RB.brandCheck(this,vC),this.#C.method}get url(){return RB.brandCheck(this,vC),GTB(this.#C.url)}get headers(){return RB.brandCheck(this,vC),this.#B}get destination(){return RB.brandCheck(this,vC),this.#C.destination}get referrer(){if(RB.brandCheck(this,vC),this.#C.referrer==="no-referrer")return"";if(this.#C.referrer==="client")return"about:client";return this.#C.referrer.toString()}get referrerPolicy(){return RB.brandCheck(this,vC),this.#C.referrerPolicy}get mode(){return RB.brandCheck(this,vC),this.#C.mode}get credentials(){return RB.brandCheck(this,vC),this.#C.credentials}get cache(){return RB.brandCheck(this,vC),this.#C.cache}get redirect(){return RB.brandCheck(this,vC),this.#C.redirect}get integrity(){return RB.brandCheck(this,vC),this.#C.integrity}get keepalive(){return RB.brandCheck(this,vC),this.#C.keepalive}get isReloadNavigation(){return RB.brandCheck(this,vC),this.#C.reloadNavigation}get isHistoryNavigation(){return RB.brandCheck(this,vC),this.#C.historyNavigation}get signal(){return RB.brandCheck(this,vC),this.#A}get body(){return RB.brandCheck(this,vC),this.#C.body?this.#C.body.stream:null}get bodyUsed(){return RB.brandCheck(this,vC),!!this.#C.body&&HAA.isDisturbed(this.#C.body.stream)}get duplex(){return RB.brandCheck(this,vC),"half"}clone(){if(RB.brandCheck(this,vC),BLQ(this.#C))throw new TypeError("unusable");let A=XLQ(this.#C),Q=new AbortController;if(this.signal.aborted)Q.abort(this.signal.reason);else{let B=VAA.get(this.signal);if(B===void 0)B=new Set,VAA.set(this.signal,B);let C=new WeakRef(Q);B.add(C),HAA.addAbortListener(Q.signal,YLQ(C))}return FLQ(A,this.#Q,Q.signal,oRB(this.#B))}[ELQ.inspect.custom](A,Q){if(Q.depth===null)Q.depth=2;Q.colors??=!0;let B={method:this.method,url:this.url,headers:this.headers,destination:this.destination,referrer:this.referrer,referrerPolicy:this.referrerPolicy,mode:this.mode,credentials:this.credentials,cache:this.cache,redirect:this.redirect,integrity:this.integrity,keepalive:this.keepalive,isReloadNavigation:this.isReloadNavigation,isHistoryNavigation:this.isHistoryNavigation,signal:this.signal};return`Request ${ELQ.formatWithOptions(Q,B)}`}static setRequestSignal(A,Q){return A.#A=Q,A}static getRequestDispatcher(A){return A.#Q}static setRequestDispatcher(A,Q){A.#Q=Q}static setRequestHeaders(A,Q){A.#B=Q}static getRequestState(A){return A.#C}static setRequestState(A,Q){A.#C=Q}}var{setRequestSignal:ZTB,getRequestDispatcher:XTB,setRequestDispatcher:FTB,setRequestHeaders:HTB,getRequestState:ZLQ,setRequestState:WTB}=vC;Reflect.deleteProperty(vC,"setRequestSignal");Reflect.deleteProperty(vC,"getRequestDispatcher");Reflect.deleteProperty(vC,"setRequestDispatcher");Reflect.deleteProperty(vC,"setRequestHeaders");Reflect.deleteProperty(vC,"getRequestState");Reflect.deleteProperty(vC,"setRequestState");lRB(vC,ZLQ);function MAA(A){return{method:A.method??"GET",localURLsOnly:A.localURLsOnly??!1,unsafeRequest:A.unsafeRequest??!1,body:A.body??null,client:A.client??null,reservedClient:A.reservedClient??null,replacesClientId:A.replacesClientId??"",window:A.window??"client",keepalive:A.keepalive??!1,serviceWorkers:A.serviceWorkers??"all",initiator:A.initiator??"",destination:A.destination??"",priority:A.priority??null,origin:A.origin??"client",policyContainer:A.policyContainer??"client",referrer:A.referrer??"client",referrerPolicy:A.referrerPolicy??"",mode:A.mode??"no-cors",useCORSPreflightFlag:A.useCORSPreflightFlag??!1,credentials:A.credentials??"same-origin",useCredentials:A.useCredentials??!1,cache:A.cache??"default",redirect:A.redirect??"follow",integrity:A.integrity??"",cryptoGraphicsNonceMetadata:A.cryptoGraphicsNonceMetadata??"",parserMetadata:A.parserMetadata??"",reloadNavigation:A.reloadNavigation??!1,historyNavigation:A.historyNavigation??!1,userActivation:A.userActivation??!1,taintedOrigin:A.taintedOrigin??!1,redirectCount:A.redirectCount??0,responseTainting:A.responseTainting??"basic",preventNoCacheCacheControlHeaderModification:A.preventNoCacheCacheControlHeaderModification??!1,done:A.done??!1,timingAllowFailed:A.timingAllowFailed??!1,urlList:A.urlList,url:A.urlList[0],headersList:A.headersList?new WAA(A.headersList):new WAA}}function XLQ(A){let Q=MAA({...A,body:null});if(A.body!=null)Q.body=iRB(Q,A.body);return Q}function FLQ(A,Q,B,C){let E=new vC(KAA);WTB(E,A),FTB(E,Q),ZTB(E,B);let I=new JLQ(KAA);return HTB(E,I),DLQ(I,A.headersList),g3A(I,C),E}Object.defineProperties(vC.prototype,{method:AG,url:AG,headers:AG,redirect:AG,clone:AG,signal:AG,duplex:AG,destination:AG,body:AG,bodyUsed:AG,isHistoryNavigation:AG,isReloadNavigation:AG,keepalive:AG,integrity:AG,cache:AG,credentials:AG,attribute:AG,referrerPolicy:AG,referrer:AG,mode:AG,[Symbol.toStringTag]:{value:"Request",configurable:!0}});RB.is.Request=RB.util.MakeTypeAssertion(vC);RB.converters.RequestInfo=function(A,Q,B){if(typeof A==="string")return RB.converters.USVString(A);if(RB.is.Request(A))return A;return RB.converters.USVString(A)};RB.converters.RequestInit=RB.dictionaryConverter([{key:"method",converter:RB.converters.ByteString},{key:"headers",converter:RB.converters.HeadersInit},{key:"body",converter:RB.nullableConverter(RB.converters.BodyInit)},{key:"referrer",converter:RB.converters.USVString},{key:"referrerPolicy",converter:RB.converters.DOMString,allowedValues:eRB},{key:"mode",converter:RB.converters.DOMString,allowedValues:QTB},{key:"credentials",converter:RB.converters.DOMString,allowedValues:BTB},{key:"cache",converter:RB.converters.DOMString,allowedValues:CTB},{key:"redirect",converter:RB.converters.DOMString,allowedValues:ATB},{key:"integrity",converter:RB.converters.DOMString},{key:"keepalive",converter:RB.converters.boolean},{key:"signal",converter:RB.nullableConverter((A)=>RB.converters.AbortSignal(A,"RequestInit","signal"))},{key:"window",converter:RB.converters.any},{key:"duplex",converter:RB.converters.DOMString,allowedValues:ETB},{key:"dispatcher",converter:RB.converters.any}]);HLQ.exports={Request:vC,makeRequest:MAA,fromInnerRequest:FLQ,cloneRequest:XLQ,getRequestDispatcher:XTB,getRequestState:ZLQ}});var nk=m((Yx0,_LQ)=>{var{makeNetworkError:NE,makeAppropriateNetworkError:$AA,filterResponse:y3A,makeResponse:zAA,fromInnerResponse:KTB,getResponseState:VTB}=lk(),{HeadersList:WLQ}=U$(),{Request:MTB,cloneRequest:$TB,getRequestDispatcher:zTB,getRequestState:wTB}=pT(),JV=a("node:zlib"),{bytesMatch:LTB,makePolicyContainer:OTB,clonePolicyContainer:RTB,requestBadPort:TTB,TAOCheck:qTB,appendRequestOriginHeader:PTB,responseLocationURL:_TB,requestCurrentURL:J1,setRequestReferrerPolicyOnRedirect:jTB,tryUpgradeRequestToAPotentiallyTrustworthyURL:xTB,createOpaqueTimingInfo:f3A,appendFetchMetadata:STB,corsCheck:gTB,crossOriginResourcePolicyCheck:vTB,determineRequestsReferrer:yTB,coarsenedSharedCurrentTime:ik,createDeferredPromise:kTB,sameOrigin:m3A,isCancelled:Z$,isAborted:KLQ,isErrorLike:bTB,fullyReadBody:hTB,readableStreamClose:mTB,isomorphicEncode:wAA,urlIsLocal:fTB,urlIsHttpHttpsScheme:d3A,urlHasHttpsScheme:dTB,clampAndCoarsenConnectionTimingInfo:uTB,simpleRangeHeaderValue:pTB,buildContentRange:cTB,createInflate:lTB,extractMimeType:iTB}=BD(),X$=a("node:assert"),{safelyExtractBody:u3A,extractBody:VLQ}=OT(),{redirectStatusSet:zLQ,nullBodyStatus:wLQ,safeMethodsSet:nTB,requestBodyHeader:oTB,subresourceSet:rTB}=Zk(),aTB=a("node:events"),{Readable:sTB,pipeline:tTB,finished:eTB,isErrored:AqB,isReadable:LAA}=a("node:stream"),{addAbortListener:QqB,bufferToLowerCasedHeaderName:MLQ}=D0(),{dataURLProcessor:BqB,serializeAMimeType:CqB,minimizeSupportedMimeType:EqB}=ZN(),{getGlobalDispatcher:IqB}=YAA(),{webidl:p3A}=yJ(),{STATUS_CODES:YqB}=a("node:http"),GqB=["GET","HEAD"],JqB=typeof __UNDICI_IS_NODE__!=="undefined"||typeof esbuildDetection!=="undefined"?"node":"undici",k3A;class c3A extends aTB{constructor(A){super();this.dispatcher=A,this.connection=null,this.dump=!1,this.state="ongoing"}terminate(A){if(this.state!=="ongoing")return;this.state="terminated",this.connection?.destroy(A),this.emit("terminated",A)}abort(A){if(this.state!=="ongoing")return;if(this.state="aborted",!A)A=new DOMException("The operation was aborted.","AbortError");this.serializedAbortReason=A,this.connection?.destroy(A),this.emit("terminated",A)}}function DqB(A){LLQ(A,"fetch")}function UqB(A,Q=void 0){p3A.argumentLengthCheck(arguments,1,"globalThis.fetch");let B=kTB(),C;try{C=new MTB(A,Q)}catch(U){return B.reject(U),B.promise}let E=wTB(C);if(C.signal.aborted)return b3A(B,E,null,C.signal.reason),B.promise;if(E.client.globalObject?.constructor?.name==="ServiceWorkerGlobalScope")E.serviceWorkers="none";let Y=null,G=!1,J=null;return QqB(C.signal,()=>{G=!0,X$(J!=null),J.abort(C.signal.reason);let U=Y?.deref();b3A(B,E,U,C.signal.reason)}),J=RLQ({request:E,processResponseEndOfBody:DqB,processResponse:(U)=>{if(G)return;if(U.aborted){b3A(B,E,Y,J.serializedAbortReason);return}if(U.type==="error"){B.reject(new TypeError("fetch failed",{cause:U.error}));return}Y=new WeakRef(KTB(U,"immutable")),B.resolve(Y.deref()),B=null},dispatcher:zTB(C)}),B.promise}function LLQ(A,Q="other"){if(A.type==="error"&&A.aborted)return;if(!A.urlList?.length)return;let B=A.urlList[0],C=A.timingInfo,E=A.cacheState;if(!d3A(B))return;if(C===null)return;if(!A.timingAllowPassed)C=f3A({startTime:C.startTime}),E="";C.endTime=ik(),A.timingInfo=C,OLQ(C,B.href,Q,globalThis,E)}var OLQ=performance.markResourceTiming;function b3A(A,Q,B,C){if(A)A.reject(C);if(Q.body?.stream!=null&&LAA(Q.body.stream))Q.body.stream.cancel(C).catch((I)=>{if(I.code==="ERR_INVALID_STATE")return;throw I});if(B==null)return;let E=VTB(B);if(E.body?.stream!=null&&LAA(E.body.stream))E.body.stream.cancel(C).catch((I)=>{if(I.code==="ERR_INVALID_STATE")return;throw I})}function RLQ({request:A,processRequestBodyChunkLength:Q,processRequestEndOfBody:B,processResponse:C,processResponseEndOfBody:E,processResponseConsumeBody:I,useParallelQueue:Y=!1,dispatcher:G=IqB()}){X$(G);let J=null,D=!1;if(A.client!=null)J=A.client.globalObject,D=A.client.crossOriginIsolatedCapability;let U=ik(D),N=f3A({startTime:U}),Z={controller:new c3A(G),request:A,timingInfo:N,processRequestBodyChunkLength:Q,processRequestEndOfBody:B,processResponse:C,processResponseConsumeBody:I,processResponseEndOfBody:E,taskDestination:J,crossOriginIsolatedCapability:D};if(X$(!A.body||A.body.stream),A.window==="client")A.window=A.client?.globalObject?.constructor?.name==="Window"?A.client:"no-window";if(A.origin==="client")A.origin=A.client.origin;if(A.policyContainer==="client")if(A.client!=null)A.policyContainer=RTB(A.client.policyContainer);else A.policyContainer=OTB();if(!A.headersList.contains("accept",!0))A.headersList.append("accept","*/*",!0);if(!A.headersList.contains("accept-language",!0))A.headersList.append("accept-language","*",!0);if(A.priority===null);if(rTB.has(A.destination));return TLQ(Z).catch((X)=>{Z.controller.terminate(X)}),Z.controller}async function TLQ(A,Q=!1){let B=A.request,C=null;if(B.localURLsOnly&&!fTB(J1(B)))C=NE("local URLs only");if(xTB(B),TTB(B)==="blocked")C=NE("bad port");if(B.referrerPolicy==="")B.referrerPolicy=B.policyContainer.referrerPolicy;if(B.referrer!=="no-referrer")B.referrer=yTB(B);if(C===null){let I=J1(B);if(m3A(I,B.url)&&B.responseTainting==="basic"||I.protocol==="data:"||(B.mode==="navigate"||B.mode==="websocket"))B.responseTainting="basic",C=await $LQ(A);else if(B.mode==="same-origin")C=NE('request mode cannot be "same-origin"');else if(B.mode==="no-cors")if(B.redirect!=="follow")C=NE('redirect mode cannot be "follow" for "no-cors" request');else B.responseTainting="opaque",C=await $LQ(A);else if(!d3A(J1(B)))C=NE("URL scheme must be a HTTP(S) scheme");else B.responseTainting="cors",C=await qLQ(A)}if(Q)return C;if(C.status!==0&&!C.internalResponse){if(B.responseTainting==="cors");if(B.responseTainting==="basic")C=y3A(C,"basic");else if(B.responseTainting==="cors")C=y3A(C,"cors");else if(B.responseTainting==="opaque")C=y3A(C,"opaque");else X$(!1)}let E=C.status===0?C:C.internalResponse;if(E.urlList.length===0)E.urlList.push(...B.urlList);if(!B.timingAllowFailed)C.timingAllowPassed=!0;if(C.type==="opaque"&&E.status===206&&E.rangeRequested&&!B.headers.contains("range",!0))C=E=NE();if(C.status!==0&&(B.method==="HEAD"||B.method==="CONNECT"||wLQ.includes(E.status)))E.body=null,A.controller.dump=!0;if(B.integrity){let I=(G)=>h3A(A,NE(G));if(B.responseTainting==="opaque"||C.body==null){I(C.error);return}let Y=(G)=>{if(!LTB(G,B.integrity)){I("integrity mismatch");return}C.body=u3A(G)[0],h3A(A,C)};await hTB(C.body,Y,I)}else h3A(A,C)}function $LQ(A){if(Z$(A)&&A.request.redirectCount===0)return Promise.resolve($AA(A));let{request:Q}=A,{protocol:B}=J1(Q);switch(B){case"about:":return Promise.resolve(NE("about scheme is not supported"));case"blob:":{if(!k3A)k3A=a("node:buffer").resolveObjectURL;let C=J1(Q);if(C.search.length!==0)return Promise.resolve(NE("NetworkError when attempting to fetch resource."));let E=k3A(C.toString());if(Q.method!=="GET"||!p3A.is.Blob(E))return Promise.resolve(NE("invalid method"));let I=zAA(),Y=E.size,G=wAA(`${Y}`),J=E.type;if(!Q.headersList.contains("range",!0)){let D=VLQ(E);I.statusText="OK",I.body=D[0],I.headersList.set("content-length",G,!0),I.headersList.set("content-type",J,!0)}else{I.rangeRequested=!0;let D=Q.headersList.get("range",!0),U=pTB(D,!0);if(U==="failure")return Promise.resolve(NE("failed to fetch the data URL"));let{rangeStartValue:N,rangeEndValue:Z}=U;if(N===null)N=Y-Z,Z=N+Z-1;else{if(N>=Y)return Promise.resolve(NE("Range start is greater than the blob's size."));if(Z===null||Z>=Y)Z=Y-1}let X=E.slice(N,Z,J),W=VLQ(X);I.body=W[0];let K=wAA(`${X.size}`),V=cTB(N,Z,Y);I.status=206,I.statusText="Partial Content",I.headersList.set("content-length",K,!0),I.headersList.set("content-type",J,!0),I.headersList.set("content-range",V,!0)}return Promise.resolve(I)}case"data:":{let C=J1(Q),E=BqB(C);if(E==="failure")return Promise.resolve(NE("failed to fetch the data URL"));let I=CqB(E.mimeType);return Promise.resolve(zAA({statusText:"OK",headersList:[["content-type",{name:"Content-Type",value:I}]],body:u3A(E.body)[0]}))}case"file:":return Promise.resolve(NE("not implemented... yet..."));case"http:":case"https:":return qLQ(A).catch((C)=>NE(C));default:return Promise.resolve(NE("unknown scheme"))}}function NqB(A,Q){if(A.request.done=!0,A.processResponseDone!=null)queueMicrotask(()=>A.processResponseDone(Q))}function h3A(A,Q){let B=A.timingInfo,C=()=>{let I=Date.now();if(A.request.destination==="document")A.controller.fullTimingInfo=B;A.controller.reportTimingSteps=()=>{if(A.request.url.protocol!=="https:")return;B.endTime=I;let{cacheState:G,bodyInfo:J}=Q;if(!Q.timingAllowPassed)B=f3A(B),G="";let D=0;if(A.request.mode!=="navigator"||!Q.hasCrossOriginRedirects){D=Q.status;let U=iTB(Q.headersList);if(U!=="failure")J.contentType=EqB(U)}if(A.request.initiatorType!=null)OLQ(B,A.request.url.href,A.request.initiatorType,globalThis,G,J,D)};let Y=()=>{if(A.request.done=!0,A.processResponseEndOfBody!=null)queueMicrotask(()=>A.processResponseEndOfBody(Q));if(A.request.initiatorType!=null)A.controller.reportTimingSteps()};queueMicrotask(()=>Y())};if(A.processResponse!=null)queueMicrotask(()=>{A.processResponse(Q),A.processResponse=null});let E=Q.type==="error"?Q:Q.internalResponse??Q;if(E.body==null)C();else eTB(E.body.stream,()=>{C()})}async function qLQ(A){let Q=A.request,B=null,C=null,E=A.timingInfo;if(Q.serviceWorkers==="all");if(B===null){if(Q.redirect==="follow")Q.serviceWorkers="none";if(C=B=await PLQ(A),Q.responseTainting==="cors"&&gTB(Q,B)==="failure")return NE("cors failure");if(qTB(Q,B)==="failure")Q.timingAllowFailed=!0}if((Q.responseTainting==="opaque"||B.type==="opaque")&&vTB(Q.origin,Q.client,Q.destination,C)==="blocked")return NE("blocked");if(zLQ.has(C.status)){if(Q.redirect!=="manual")A.controller.connection.destroy(void 0,!1);if(Q.redirect==="error")B=NE("unexpected redirect");else if(Q.redirect==="manual")B=C;else if(Q.redirect==="follow")B=await ZqB(A,B);else X$(!1)}return B.timingInfo=E,B}function ZqB(A,Q){let B=A.request,C=Q.internalResponse?Q.internalResponse:Q,E;try{if(E=_TB(C,J1(B).hash),E==null)return Q}catch(Y){return Promise.resolve(NE(Y))}if(!d3A(E))return Promise.resolve(NE("URL scheme must be a HTTP(S) scheme"));if(B.redirectCount===20)return Promise.resolve(NE("redirect count exceeded"));if(B.redirectCount+=1,B.mode==="cors"&&(E.username||E.password)&&!m3A(B,E))return Promise.resolve(NE('cross origin not allowed for request mode "cors"'));if(B.responseTainting==="cors"&&(E.username||E.password))return Promise.resolve(NE('URL cannot contain credentials for request mode "cors"'));if(C.status!==303&&B.body!=null&&B.body.source==null)return Promise.resolve(NE());if([301,302].includes(C.status)&&B.method==="POST"||C.status===303&&!GqB.includes(B.method)){B.method="GET",B.body=null;for(let Y of oTB)B.headersList.delete(Y)}if(!m3A(J1(B),E))B.headersList.delete("authorization",!0),B.headersList.delete("proxy-authorization",!0),B.headersList.delete("cookie",!0),B.headersList.delete("host",!0);if(B.body!=null)X$(B.body.source!=null),B.body=u3A(B.body.source)[0];let I=A.timingInfo;if(I.redirectEndTime=I.postRedirectStartTime=ik(A.crossOriginIsolatedCapability),I.redirectStartTime===0)I.redirectStartTime=I.startTime;return B.urlList.push(E),jTB(B,C),TLQ(A,!0)}async function PLQ(A,Q=!1,B=!1){let C=A.request,E=null,I=null,Y=null,G=null,J=!1;if(C.window==="no-window"&&C.redirect==="error")E=A,I=C;else I=$TB(C),E={...A},E.request=I;let D=C.credentials==="include"||C.credentials==="same-origin"&&C.responseTainting==="basic",U=I.body?I.body.length:null,N=null;if(I.body==null&&["POST","PUT"].includes(I.method))N="0";if(U!=null)N=wAA(`${U}`);if(N!=null)I.headersList.append("content-length",N,!0);if(U!=null&&I.keepalive);if(p3A.is.URL(I.referrer))I.headersList.append("referer",wAA(I.referrer.href),!0);if(PTB(I),STB(I),!I.headersList.contains("user-agent",!0))I.headersList.append("user-agent",JqB,!0);if(I.cache==="default"&&(I.headersList.contains("if-modified-since",!0)||I.headersList.contains("if-none-match",!0)||I.headersList.contains("if-unmodified-since",!0)||I.headersList.contains("if-match",!0)||I.headersList.contains("if-range",!0)))I.cache="no-store";if(I.cache==="no-cache"&&!I.preventNoCacheCacheControlHeaderModification&&!I.headersList.contains("cache-control",!0))I.headersList.append("cache-control","max-age=0",!0);if(I.cache==="no-store"||I.cache==="reload"){if(!I.headersList.contains("pragma",!0))I.headersList.append("pragma","no-cache",!0);if(!I.headersList.contains("cache-control",!0))I.headersList.append("cache-control","no-cache",!0)}if(I.headersList.contains("range",!0))I.headersList.append("accept-encoding","identity",!0);if(!I.headersList.contains("accept-encoding",!0))if(dTB(J1(I)))I.headersList.append("accept-encoding","br, gzip, deflate",!0);else I.headersList.append("accept-encoding","gzip, deflate",!0);if(I.headersList.delete("host",!0),G==null)I.cache="no-store";if(I.cache!=="no-store"&&I.cache!=="reload");if(Y==null){if(I.cache==="only-if-cached")return NE("only if cached");let Z=await XqB(E,D,B);if(!nTB.has(I.method)&&Z.status>=200&&Z.status<=399);if(J&&Z.status===304);if(Y==null)Y=Z}if(Y.urlList=[...I.urlList],I.headersList.contains("range",!0))Y.rangeRequested=!0;if(Y.requestIncludesCredentials=D,Y.status===407){if(C.window==="no-window")return NE();if(Z$(A))return $AA(A);return NE("proxy authentication required")}if(Y.status===421&&!B&&(C.body==null||C.body.source!=null)){if(Z$(A))return $AA(A);A.controller.connection.destroy(),Y=await PLQ(A,Q,!0)}return Y}async function XqB(A,Q=!1,B=!1){X$(!A.controller.connection||A.controller.connection.destroyed),A.controller.connection={abort:null,destroyed:!1,destroy(W,K=!0){if(!this.destroyed){if(this.destroyed=!0,K)this.abort?.(W??new DOMException("The operation was aborted.","AbortError"))}}};let C=A.request,E=null,I=A.timingInfo;if(!0)C.cache="no-store";let G=B?"yes":"no";if(C.mode==="websocket");let J=null;if(C.body==null&&A.processRequestEndOfBody)queueMicrotask(()=>A.processRequestEndOfBody());else if(C.body!=null){let W=async function*(M){if(Z$(A))return;yield M,A.processRequestBodyChunkLength?.(M.byteLength)},K=()=>{if(Z$(A))return;if(A.processRequestEndOfBody)A.processRequestEndOfBody()},V=(M)=>{if(Z$(A))return;if(M.name==="AbortError")A.controller.abort();else A.controller.terminate(M)};J=async function*(){try{for await(let M of C.body.stream)yield*W(M);K()}catch(M){V(M)}}()}try{let{body:W,status:K,statusText:V,headersList:M,socket:z}=await X({body:J});if(z)E=zAA({status:K,statusText:V,headersList:M,socket:z});else{let L=W[Symbol.asyncIterator]();A.controller.next=()=>L.next(),E=zAA({status:K,statusText:V,headersList:M})}}catch(W){if(W.name==="AbortError")return A.controller.connection.destroy(),$AA(A,W);return NE(W)}let D=()=>{return A.controller.resume()},U=(W)=>{if(!Z$(A))A.controller.abort(W)},N=new ReadableStream({async start(W){A.controller.controller=W},async pull(W){await D(W)},async cancel(W){await U(W)},type:"bytes"});if(E.body={stream:N,source:null,length:null},!A.controller.resume)A.controller.on("terminated",Z);A.controller.resume=async()=>{while(!0){let W,K;try{let{done:M,value:z}=await A.controller.next();if(KLQ(A))break;W=M?void 0:z}catch(M){if(A.controller.ended&&!I.encodedBodySize)W=void 0;else W=M,K=!0}if(W===void 0){mTB(A.controller.controller),NqB(A,E);return}if(I.decodedBodySize+=W?.byteLength??0,K){A.controller.terminate(W);return}let V=new Uint8Array(W);if(V.byteLength)A.controller.controller.enqueue(V);if(AqB(N)){A.controller.terminate();return}if(A.controller.controller.desiredSize<=0)return}};function Z(W){if(KLQ(A)){if(E.aborted=!0,LAA(N))A.controller.controller.error(A.controller.serializedAbortReason)}else if(LAA(N))A.controller.controller.error(new TypeError("terminated",{cause:bTB(W)?W:void 0}));A.controller.connection.destroy()}return E;function X({body:W}){let K=J1(C),V=A.controller.dispatcher;return new Promise((M,z)=>V.dispatch({path:K.pathname+K.search,origin:K.origin,method:C.method,body:V.isMockActive?C.body&&(C.body.source||C.body.stream):W,headers:C.headersList.entries,maxRedirections:0,upgrade:C.mode==="websocket"?"websocket":void 0},{body:null,abort:null,onConnect(L){let{connection:O}=A.controller;if(I.finalConnectionTimingInfo=uTB(void 0,I.postRedirectStartTime,A.crossOriginIsolatedCapability),O.destroyed)L(new DOMException("The operation was aborted.","AbortError"));else A.controller.on("terminated",L),this.abort=O.abort=L;I.finalNetworkRequestStartTime=ik(A.crossOriginIsolatedCapability)},onResponseStarted(){I.finalNetworkResponseStartTime=ik(A.crossOriginIsolatedCapability)},onHeaders(L,O,R,_){if(L<200)return;let S=[],q="",y=new WLQ;for(let AA=0;AA<O.length;AA+=2)y.append(MLQ(O[AA]),O[AA+1].toString("latin1"),!0);let p=y.get("content-encoding",!0);if(p)S=p.toLowerCase().split(",").map((AA)=>AA.trim());q=y.get("location",!0),this.body=new sTB({read:R});let i=[],MA=q&&C.redirect==="follow"&&zLQ.has(L);if(S.length!==0&&C.method!=="HEAD"&&C.method!=="CONNECT"&&!wLQ.includes(L)&&!MA)for(let AA=S.length-1;AA>=0;--AA){let IA=S[AA];if(IA==="x-gzip"||IA==="gzip")i.push(JV.createGunzip({flush:JV.constants.Z_SYNC_FLUSH,finishFlush:JV.constants.Z_SYNC_FLUSH}));else if(IA==="deflate")i.push(lTB({flush:JV.constants.Z_SYNC_FLUSH,finishFlush:JV.constants.Z_SYNC_FLUSH}));else if(IA==="br")i.push(JV.createBrotliDecompress({flush:JV.constants.BROTLI_OPERATION_FLUSH,finishFlush:JV.constants.BROTLI_OPERATION_FLUSH}));else{i.length=0;break}}let d=this.onError.bind(this);return M({status:L,statusText:_,headersList:y,body:i.length?tTB(this.body,...i,(AA)=>{if(AA)this.onError(AA)}).on("error",d):this.body.on("error",d)}),!0},onData(L){if(A.controller.dump)return;let O=L;return I.encodedBodySize+=O.byteLength,this.body.push(O)},onComplete(){if(this.abort)A.controller.off("terminated",this.abort);A.controller.ended=!0,this.body.push(null)},onError(L){if(this.abort)A.controller.off("terminated",this.abort);this.body?.destroy(L),A.controller.terminate(L),z(L)},onUpgrade(L,O,R){if(L!==101)return;let _=new WLQ;for(let S=0;S<O.length;S+=2)_.append(MLQ(O[S]),O[S+1].toString("latin1"),!0);return M({status:L,statusText:YqB[L],headersList:_,socket:R}),!0}}))}}_LQ.exports={fetch:UqB,Fetch:c3A,fetching:RLQ,finalizeAndReportTiming:LLQ}});var SLQ=m((Gx0,xLQ)=>{var FqB=a("node:assert"),{URLSerializer:jLQ}=ZN(),{isValidHeaderName:HqB}=BD();function WqB(A,Q,B=!1){let C=jLQ(A,B),E=jLQ(Q,B);return C===E}function KqB(A){FqB(A!==null);let Q=[];for(let B of A.split(","))if(B=B.trim(),HqB(B))Q.push(B);return Q}xLQ.exports={urlEquals:WqB,getFieldValues:KqB}});var yLQ=m((Jx0,vLQ)=>{var{kConstruct:VqB}=kE(),{urlEquals:MqB,getFieldValues:l3A}=SLQ(),{kEnumerableProperty:F$,isDisturbed:$qB}=D0(),{webidl:iQ}=yJ(),{cloneResponse:zqB,fromInnerResponse:wqB,getResponseState:LqB}=lk(),{Request:ok,fromInnerRequest:OqB,getRequestState:D1}=pT(),{fetching:RqB}=nk(),{urlIsHttpHttpsScheme:OAA,createDeferredPromise:cT,readAllBytes:TqB}=BD(),i3A=a("node:assert");class U1{#A;constructor(){if(arguments[0]!==VqB)iQ.illegalConstructor();iQ.util.markAsUncloneable(this),this.#A=arguments[1]}async match(A,Q={}){iQ.brandCheck(this,U1);let B="Cache.match";iQ.argumentLengthCheck(arguments,1,B),A=iQ.converters.RequestInfo(A,B,"request"),Q=iQ.converters.CacheQueryOptions(Q,B,"options");let C=this.#I(A,Q,1);if(C.length===0)return;return C[0]}async matchAll(A=void 0,Q={}){iQ.brandCheck(this,U1);let B="Cache.matchAll";if(A!==void 0)A=iQ.converters.RequestInfo(A,B,"request");return Q=iQ.converters.CacheQueryOptions(Q,B,"options"),this.#I(A,Q)}async add(A){iQ.brandCheck(this,U1);let Q="Cache.add";iQ.argumentLengthCheck(arguments,1,Q),A=iQ.converters.RequestInfo(A,Q,"request");let B=[A];return await this.addAll(B)}async addAll(A){iQ.brandCheck(this,U1);let Q="Cache.addAll";iQ.argumentLengthCheck(arguments,1,Q);let B=[],C=[];for(let N of A){if(N===void 0)throw iQ.errors.conversionFailed({prefix:Q,argument:"Argument 1",types:["undefined is not allowed"]});if(N=iQ.converters.RequestInfo(N),typeof N==="string")continue;let Z=D1(N);if(!OAA(Z.url)||Z.method!=="GET")throw iQ.errors.exception({header:Q,message:"Expected http/s scheme when method is not GET."})}let E=[];for(let N of A){let Z=D1(new ok(N));if(!OAA(Z.url))throw iQ.errors.exception({header:Q,message:"Expected http/s scheme."});Z.initiator="fetch",Z.destination="subresource",C.push(Z);let X=cT();E.push(RqB({request:Z,processResponse(W){if(W.type==="error"||W.status===206||W.status<200||W.status>299)X.reject(iQ.errors.exception({header:"Cache.addAll",message:"Received an invalid status code or the request failed."}));else if(W.headersList.contains("vary")){let K=l3A(W.headersList.get("vary"));for(let V of K)if(V==="*"){X.reject(iQ.errors.exception({header:"Cache.addAll",message:"invalid vary field value"}));for(let M of E)M.abort();return}}},processResponseEndOfBody(W){if(W.aborted){X.reject(new DOMException("aborted","AbortError"));return}X.resolve(W)}})),B.push(X.promise)}let Y=await Promise.all(B),G=[],J=0;for(let N of Y){let Z={type:"put",request:C[J],response:N};G.push(Z),J++}let D=cT(),U=null;try{this.#Q(G)}catch(N){U=N}return queueMicrotask(()=>{if(U===null)D.resolve(void 0);else D.reject(U)}),D.promise}async put(A,Q){iQ.brandCheck(this,U1);let B="Cache.put";iQ.argumentLengthCheck(arguments,2,B),A=iQ.converters.RequestInfo(A,B,"request"),Q=iQ.converters.Response(Q,B,"response");let C=null;if(iQ.is.Request(A))C=D1(A);else C=D1(new ok(A));if(!OAA(C.url)||C.method!=="GET")throw iQ.errors.exception({header:B,message:"Expected an http/s scheme when method is not GET"});let E=LqB(Q);if(E.status===206)throw iQ.errors.exception({header:B,message:"Got 206 status"});if(E.headersList.contains("vary")){let Z=l3A(E.headersList.get("vary"));for(let X of Z)if(X==="*")throw iQ.errors.exception({header:B,message:"Got * vary field value"})}if(E.body&&($qB(E.body.stream)||E.body.stream.locked))throw iQ.errors.exception({header:B,message:"Response body is locked or disturbed"});let I=zqB(E),Y=cT();if(E.body!=null){let X=E.body.stream.getReader();TqB(X,Y.resolve,Y.reject)}else Y.resolve(void 0);let G=[],J={type:"put",request:C,response:I};G.push(J);let D=await Y.promise;if(I.body!=null)I.body.source=D;let U=cT(),N=null;try{this.#Q(G)}catch(Z){N=Z}return queueMicrotask(()=>{if(N===null)U.resolve();else U.reject(N)}),U.promise}async delete(A,Q={}){iQ.brandCheck(this,U1);let B="Cache.delete";iQ.argumentLengthCheck(arguments,1,B),A=iQ.converters.RequestInfo(A,B,"request"),Q=iQ.converters.CacheQueryOptions(Q,B,"options");let C=null;if(iQ.is.Request(A)){if(C=D1(A),C.method!=="GET"&&!Q.ignoreMethod)return!1}else i3A(typeof A==="string"),C=D1(new ok(A));let E=[],I={type:"delete",request:C,options:Q};E.push(I);let Y=cT(),G=null,J;try{J=this.#Q(E)}catch(D){G=D}return queueMicrotask(()=>{if(G===null)Y.resolve(!!J?.length);else Y.reject(G)}),Y.promise}async keys(A=void 0,Q={}){iQ.brandCheck(this,U1);let B="Cache.keys";if(A!==void 0)A=iQ.converters.RequestInfo(A,B,"request");Q=iQ.converters.CacheQueryOptions(Q,B,"options");let C=null;if(A!==void 0){if(iQ.is.Request(A)){if(C=D1(A),C.method!=="GET"&&!Q.ignoreMethod)return[]}else if(typeof A==="string")C=D1(new ok(A))}let E=cT(),I=[];if(A===void 0)for(let Y of this.#A)I.push(Y[0]);else{let Y=this.#B(C,Q);for(let G of Y)I.push(G[0])}return queueMicrotask(()=>{let Y=[];for(let G of I){let J=OqB(G,void 0,new AbortController().signal,"immutable");Y.push(J)}E.resolve(Object.freeze(Y))}),E.promise}#Q(A){let Q=this.#A,B=[...Q],C=[],E=[];try{for(let I of A){if(I.type!=="delete"&&I.type!=="put")throw iQ.errors.exception({header:"Cache.#batchCacheOperations",message:'operation type does not match "delete" or "put"'});if(I.type==="delete"&&I.response!=null)throw iQ.errors.exception({header:"Cache.#batchCacheOperations",message:"delete operation should not have an associated response"});if(this.#B(I.request,I.options,C).length)throw new DOMException("???","InvalidStateError");let Y;if(I.type==="delete"){if(Y=this.#B(I.request,I.options),Y.length===0)return[];for(let G of Y){let J=Q.indexOf(G);i3A(J!==-1),Q.splice(J,1)}}else if(I.type==="put"){if(I.response==null)throw iQ.errors.exception({header:"Cache.#batchCacheOperations",message:"put operation should have an associated response"});let G=I.request;if(!OAA(G.url))throw iQ.errors.exception({header:"Cache.#batchCacheOperations",message:"expected http or https scheme"});if(G.method!=="GET")throw iQ.errors.exception({header:"Cache.#batchCacheOperations",message:"not get method"});if(I.options!=null)throw iQ.errors.exception({header:"Cache.#batchCacheOperations",message:"options must not be defined"});Y=this.#B(I.request);for(let J of Y){let D=Q.indexOf(J);i3A(D!==-1),Q.splice(D,1)}Q.push([I.request,I.response]),C.push([I.request,I.response])}E.push([I.request,I.response])}return E}catch(I){throw this.#A.length=0,this.#A=B,I}}#B(A,Q,B){let C=[],E=B??this.#A;for(let I of E){let[Y,G]=I;if(this.#C(A,Y,G,Q))C.push(I)}return C}#C(A,Q,B=null,C){let E=new URL(A.url),I=new URL(Q.url);if(C?.ignoreSearch)I.search="",E.search="";if(!MqB(E,I,!0))return!1;if(B==null||C?.ignoreVary||!B.headersList.contains("vary"))return!0;let Y=l3A(B.headersList.get("vary"));for(let G of Y){if(G==="*")return!1;let J=Q.headersList.get(G),D=A.headersList.get(G);if(J!==D)return!1}return!0}#I(A,Q,B=1/0){let C=null;if(A!==void 0){if(iQ.is.Request(A)){if(C=D1(A),C.method!=="GET"&&!Q.ignoreMethod)return[]}else if(typeof A==="string")C=D1(new ok(A))}let E=[];if(A===void 0)for(let Y of this.#A)E.push(Y[1]);else{let Y=this.#B(C,Q);for(let G of Y)E.push(G[1])}let I=[];for(let Y of E){let G=wqB(Y,"immutable");if(I.push(G.clone()),I.length>=B)break}return Object.freeze(I)}}Object.defineProperties(U1.prototype,{[Symbol.toStringTag]:{value:"Cache",configurable:!0},match:F$,matchAll:F$,add:F$,addAll:F$,put:F$,delete:F$,keys:F$});var gLQ=[{key:"ignoreSearch",converter:iQ.converters.boolean,defaultValue:()=>!1},{key:"ignoreMethod",converter:iQ.converters.boolean,defaultValue:()=>!1},{key:"ignoreVary",converter:iQ.converters.boolean,defaultValue:()=>!1}];iQ.converters.CacheQueryOptions=iQ.dictionaryConverter(gLQ);iQ.converters.MultiCacheQueryOptions=iQ.dictionaryConverter([...gLQ,{key:"cacheName",converter:iQ.converters.DOMString}]);iQ.converters.Response=iQ.interfaceConverter(iQ.is.Response,"Response");iQ.converters["sequence<RequestInfo>"]=iQ.sequenceConverter(iQ.converters.RequestInfo);vLQ.exports={Cache:U1}});var bLQ=m((Dx0,kLQ)=>{var{Cache:RAA}=yLQ(),{webidl:z2}=yJ(),{kEnumerableProperty:rk}=D0(),{kConstruct:ak}=kE();class DV{#A=new Map;constructor(){if(arguments[0]!==ak)z2.illegalConstructor();z2.util.markAsUncloneable(this)}async match(A,Q={}){if(z2.brandCheck(this,DV),z2.argumentLengthCheck(arguments,1,"CacheStorage.match"),A=z2.converters.RequestInfo(A),Q=z2.converters.MultiCacheQueryOptions(Q),Q.cacheName!=null){if(this.#A.has(Q.cacheName)){let B=this.#A.get(Q.cacheName);return await new RAA(ak,B).match(A,Q)}}else for(let B of this.#A.values()){let E=await new RAA(ak,B).match(A,Q);if(E!==void 0)return E}}async has(A){z2.brandCheck(this,DV);let Q="CacheStorage.has";return z2.argumentLengthCheck(arguments,1,Q),A=z2.converters.DOMString(A,Q,"cacheName"),this.#A.has(A)}async open(A){z2.brandCheck(this,DV);let Q="CacheStorage.open";if(z2.argumentLengthCheck(arguments,1,Q),A=z2.converters.DOMString(A,Q,"cacheName"),this.#A.has(A)){let C=this.#A.get(A);return new RAA(ak,C)}let B=[];return this.#A.set(A,B),new RAA(ak,B)}async delete(A){z2.brandCheck(this,DV);let Q="CacheStorage.delete";return z2.argumentLengthCheck(arguments,1,Q),A=z2.converters.DOMString(A,Q,"cacheName"),this.#A.delete(A)}async keys(){return z2.brandCheck(this,DV),[...this.#A.keys()]}}Object.defineProperties(DV.prototype,{[Symbol.toStringTag]:{value:"CacheStorage",configurable:!0},match:rk,has:rk,open:rk,delete:rk,keys:rk});kLQ.exports={CacheStorage:DV}});var mLQ=m((Ux0,hLQ)=>{hLQ.exports={maxAttributeValueSize:1024,maxNameValuePairSize:4096}});var n3A=m((Nx0,cLQ)=>{function qqB(A){for(let Q=0;Q<A.length;++Q){let B=A.charCodeAt(Q);if(B>=0&&B<=8||B>=10&&B<=31||B===127)return!0}return!1}function fLQ(A){for(let Q=0;Q<A.length;++Q){let B=A.charCodeAt(Q);if(B<33||B>126||B===34||B===40||B===41||B===60||B===62||B===64||B===44||B===59||B===58||B===92||B===47||B===91||B===93||B===63||B===61||B===123||B===125)throw new Error("Invalid cookie name")}}function dLQ(A){let Q=A.length,B=0;if(A[0]==='"'){if(Q===1||A[Q-1]!=='"')throw new Error("Invalid cookie value");--Q,++B}while(B<Q){let C=A.charCodeAt(B++);if(C<33||C>126||C===34||C===44||C===59||C===92)throw new Error("Invalid cookie value")}}function uLQ(A){for(let Q=0;Q<A.length;++Q){let B=A.charCodeAt(Q);if(B<32||B===127||B===59)throw new Error("Invalid cookie path")}}function PqB(A){if(A.startsWith("-")||A.endsWith(".")||A.endsWith("-"))throw new Error("Invalid cookie domain")}var _qB=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],jqB=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],TAA=Array(61).fill(0).map((A,Q)=>Q.toString().padStart(2,"0"));function pLQ(A){if(typeof A==="number")A=new Date(A);return`${_qB[A.getUTCDay()]}, ${TAA[A.getUTCDate()]} ${jqB[A.getUTCMonth()]} ${A.getUTCFullYear()} ${TAA[A.getUTCHours()]}:${TAA[A.getUTCMinutes()]}:${TAA[A.getUTCSeconds()]} GMT`}function xqB(A){if(A<0)throw new Error("Invalid cookie max-age")}function SqB(A){if(A.name.length===0)return null;fLQ(A.name),dLQ(A.value);let Q=[`${A.name}=${A.value}`];if(A.name.startsWith("__Secure-"))A.secure=!0;if(A.name.startsWith("__Host-"))A.secure=!0,A.domain=null,A.path="/";if(A.secure)Q.push("Secure");if(A.httpOnly)Q.push("HttpOnly");if(typeof A.maxAge==="number")xqB(A.maxAge),Q.push(`Max-Age=${A.maxAge}`);if(A.domain)PqB(A.domain),Q.push(`Domain=${A.domain}`);if(A.path)uLQ(A.path),Q.push(`Path=${A.path}`);if(A.expires&&A.expires.toString()!=="Invalid Date")Q.push(`Expires=${pLQ(A.expires)}`);if(A.sameSite)Q.push(`SameSite=${A.sameSite}`);for(let B of A.unparsed){if(!B.includes("="))throw new Error("Invalid unparsed");let[C,...E]=B.split("=");Q.push(`${C.trim()}=${E.join("=")}`)}return Q.join("; ")}cLQ.exports={isCTLExcludingHtab:qqB,validateCookieName:fLQ,validateCookiePath:uLQ,validateCookieValue:dLQ,toIMFDate:pLQ,stringify:SqB}});var iLQ=m((Zx0,lLQ)=>{var{maxNameValuePairSize:gqB,maxAttributeValueSize:vqB}=mLQ(),{isCTLExcludingHtab:yqB}=n3A(),{collectASequenceOfCodePointsFast:qAA}=ZN(),kqB=a("node:assert"),{unescape:bqB}=a("node:querystring");function hqB(A){if(yqB(A))return null;let Q="",B="",C="",E="";if(A.includes(";")){let I={position:0};Q=qAA(";",A,I),B=A.slice(I.position)}else Q=A;if(!Q.includes("="))E=Q;else{let I={position:0};C=qAA("=",Q,I),E=Q.slice(I.position+1)}if(C=C.trim(),E=E.trim(),C.length+E.length>gqB)return null;return{name:C,value:bqB(E),...lT(B)}}function lT(A,Q={}){if(A.length===0)return Q;kqB(A[0]===";"),A=A.slice(1);let B="";if(A.includes(";"))B=qAA(";",A,{position:0}),A=A.slice(B.length);else B=A,A="";let C="",E="";if(B.includes("=")){let Y={position:0};C=qAA("=",B,Y),E=B.slice(Y.position+1)}else C=B;if(C=C.trim(),E=E.trim(),E.length>vqB)return lT(A,Q);let I=C.toLowerCase();if(I==="expires"){let Y=new Date(E);Q.expires=Y}else if(I==="max-age"){let Y=E.charCodeAt(0);if((Y<48||Y>57)&&E[0]!=="-")return lT(A,Q);if(!/^\d+$/.test(E))return lT(A,Q);let G=Number(E);Q.maxAge=G}else if(I==="domain"){let Y=E;if(Y[0]===".")Y=Y.slice(1);Y=Y.toLowerCase(),Q.domain=Y}else if(I==="path"){let Y="";if(E.length===0||E[0]!=="/")Y="/";else Y=E;Q.path=Y}else if(I==="secure")Q.secure=!0;else if(I==="httponly")Q.httpOnly=!0;else if(I==="samesite"){let Y="Default",G=E.toLowerCase();if(G.includes("none"))Y="None";if(G.includes("strict"))Y="Strict";if(G.includes("lax"))Y="Lax";Q.sameSite=Y}else Q.unparsed??=[],Q.unparsed.push(`${C}=${E}`);return lT(A,Q)}lLQ.exports={parseSetCookie:hqB,parseUnparsedAttributes:lT}});var aLQ=m((Xx0,rLQ)=>{var{parseSetCookie:nLQ}=iLQ(),{stringify:mqB}=n3A(),{webidl:HC}=yJ(),{Headers:fqB}=U$(),PAA=HC.brandCheckMultiple([fqB,globalThis.Headers].filter(Boolean));function dqB(A){HC.argumentLengthCheck(arguments,1,"getCookies"),PAA(A);let Q=A.get("cookie"),B={};if(!Q)return B;for(let C of Q.split(";")){let[E,...I]=C.split("=");B[E.trim()]=I.join("=")}return B}function uqB(A,Q,B){PAA(A);let C="deleteCookie";HC.argumentLengthCheck(arguments,2,C),Q=HC.converters.DOMString(Q,C,"name"),B=HC.converters.DeleteCookieAttributes(B),oLQ(A,{name:Q,value:"",expires:new Date(0),...B})}function pqB(A){HC.argumentLengthCheck(arguments,1,"getSetCookies"),PAA(A);let Q=A.getSetCookie();if(!Q)return[];return Q.map((B)=>nLQ(B))}function cqB(A){return A=HC.converters.DOMString(A),nLQ(A)}function oLQ(A,Q){HC.argumentLengthCheck(arguments,2,"setCookie"),PAA(A),Q=HC.converters.Cookie(Q);let B=mqB(Q);if(B)A.append("set-cookie",B,!0)}HC.converters.DeleteCookieAttributes=HC.dictionaryConverter([{converter:HC.nullableConverter(HC.converters.DOMString),key:"path",defaultValue:()=>null},{converter:HC.nullableConverter(HC.converters.DOMString),key:"domain",defaultValue:()=>null}]);HC.converters.Cookie=HC.dictionaryConverter([{converter:HC.converters.DOMString,key:"name"},{converter:HC.converters.DOMString,key:"value"},{converter:HC.nullableConverter((A)=>{if(typeof A==="number")return HC.converters["unsigned long long"](A);return new Date(A)}),key:"expires",defaultValue:()=>null},{converter:HC.nullableConverter(HC.converters["long long"]),key:"maxAge",defaultValue:()=>null},{converter:HC.nullableConverter(HC.converters.DOMString),key:"domain",defaultValue:()=>null},{converter:HC.nullableConverter(HC.converters.DOMString),key:"path",defaultValue:()=>null},{converter:HC.nullableConverter(HC.converters.boolean),key:"secure",defaultValue:()=>null},{converter:HC.nullableConverter(HC.converters.boolean),key:"httpOnly",defaultValue:()=>null},{converter:HC.converters.USVString,key:"sameSite",allowedValues:["Strict","Lax","None"]},{converter:HC.sequenceConverter(HC.converters.DOMString),key:"unparsed",defaultValue:()=>new Array(0)}]);rLQ.exports={getCookies:dqB,deleteCookie:uqB,getSetCookies:pqB,setCookie:oLQ,parseCookie:cqB}});var _AA=m((Fx0,tLQ)=>{var{webidl:sQ}=yJ(),{kEnumerableProperty:eD}=D0(),{kConstruct:sLQ}=kE();class WN extends Event{#A;constructor(A,Q={}){if(A===sLQ){super(arguments[1],arguments[2]);sQ.util.markAsUncloneable(this);return}let B="MessageEvent constructor";sQ.argumentLengthCheck(arguments,1,B),A=sQ.converters.DOMString(A,B,"type"),Q=sQ.converters.MessageEventInit(Q,B,"eventInitDict");super(A,Q);this.#A=Q,sQ.util.markAsUncloneable(this)}get data(){return sQ.brandCheck(this,WN),this.#A.data}get origin(){return sQ.brandCheck(this,WN),this.#A.origin}get lastEventId(){return sQ.brandCheck(this,WN),this.#A.lastEventId}get source(){return sQ.brandCheck(this,WN),this.#A.source}get ports(){if(sQ.brandCheck(this,WN),!Object.isFrozen(this.#A.ports))Object.freeze(this.#A.ports);return this.#A.ports}initMessageEvent(A,Q=!1,B=!1,C=null,E="",I="",Y=null,G=[]){return sQ.brandCheck(this,WN),sQ.argumentLengthCheck(arguments,1,"MessageEvent.initMessageEvent"),new WN(A,{bubbles:Q,cancelable:B,data:C,origin:E,lastEventId:I,source:Y,ports:G})}static createFastMessageEvent(A,Q){let B=new WN(sLQ,A,Q);return B.#A=Q,B.#A.data??=null,B.#A.origin??="",B.#A.lastEventId??="",B.#A.source??=null,B.#A.ports??=[],B}}var{createFastMessageEvent:lqB}=WN;delete WN.createFastMessageEvent;class iT extends Event{#A;constructor(A,Q={}){sQ.argumentLengthCheck(arguments,1,"CloseEvent constructor"),A=sQ.converters.DOMString(A,"CloseEvent constructor","type"),Q=sQ.converters.CloseEventInit(Q);super(A,Q);this.#A=Q,sQ.util.markAsUncloneable(this)}get wasClean(){return sQ.brandCheck(this,iT),this.#A.wasClean}get code(){return sQ.brandCheck(this,iT),this.#A.code}get reason(){return sQ.brandCheck(this,iT),this.#A.reason}}class UV extends Event{#A;constructor(A,Q){sQ.argumentLengthCheck(arguments,1,"ErrorEvent constructor");super(A,Q);sQ.util.markAsUncloneable(this),A=sQ.converters.DOMString(A,"ErrorEvent constructor","type"),Q=sQ.converters.ErrorEventInit(Q??{}),this.#A=Q}get message(){return sQ.brandCheck(this,UV),this.#A.message}get filename(){return sQ.brandCheck(this,UV),this.#A.filename}get lineno(){return sQ.brandCheck(this,UV),this.#A.lineno}get colno(){return sQ.brandCheck(this,UV),this.#A.colno}get error(){return sQ.brandCheck(this,UV),this.#A.error}}Object.defineProperties(WN.prototype,{[Symbol.toStringTag]:{value:"MessageEvent",configurable:!0},data:eD,origin:eD,lastEventId:eD,source:eD,ports:eD,initMessageEvent:eD});Object.defineProperties(iT.prototype,{[Symbol.toStringTag]:{value:"CloseEvent",configurable:!0},reason:eD,code:eD,wasClean:eD});Object.defineProperties(UV.prototype,{[Symbol.toStringTag]:{value:"ErrorEvent",configurable:!0},message:eD,filename:eD,lineno:eD,colno:eD,error:eD});sQ.converters.MessagePort=sQ.interfaceConverter(sQ.is.MessagePort,"MessagePort");sQ.converters["sequence<MessagePort>"]=sQ.sequenceConverter(sQ.converters.MessagePort);var o3A=[{key:"bubbles",converter:sQ.converters.boolean,defaultValue:()=>!1},{key:"cancelable",converter:sQ.converters.boolean,defaultValue:()=>!1},{key:"composed",converter:sQ.converters.boolean,defaultValue:()=>!1}];sQ.converters.MessageEventInit=sQ.dictionaryConverter([...o3A,{key:"data",converter:sQ.converters.any,defaultValue:()=>null},{key:"origin",converter:sQ.converters.USVString,defaultValue:()=>""},{key:"lastEventId",converter:sQ.converters.DOMString,defaultValue:()=>""},{key:"source",converter:sQ.nullableConverter(sQ.converters.MessagePort),defaultValue:()=>null},{key:"ports",converter:sQ.converters["sequence<MessagePort>"],defaultValue:()=>new Array(0)}]);sQ.converters.CloseEventInit=sQ.dictionaryConverter([...o3A,{key:"wasClean",converter:sQ.converters.boolean,defaultValue:()=>!1},{key:"code",converter:sQ.converters["unsigned short"],defaultValue:()=>0},{key:"reason",converter:sQ.converters.USVString,defaultValue:()=>""}]);sQ.converters.ErrorEventInit=sQ.dictionaryConverter([...o3A,{key:"message",converter:sQ.converters.DOMString,defaultValue:()=>""},{key:"filename",converter:sQ.converters.USVString,defaultValue:()=>""},{key:"lineno",converter:sQ.converters["unsigned long"],defaultValue:()=>0},{key:"colno",converter:sQ.converters["unsigned long"],defaultValue:()=>0},{key:"error",converter:sQ.converters.any}]);tLQ.exports={MessageEvent:WN,CloseEvent:iT,ErrorEvent:UV,createFastMessageEvent:lqB}});var NV=m((Hx0,eLQ)=>{var iqB={enumerable:!0,writable:!1,configurable:!1},nqB={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},oqB={SENT:1,RECEIVED:2},rqB={CONTINUATION:0,TEXT:1,BINARY:2,CLOSE:8,PING:9,PONG:10},aqB={INFO:0,PAYLOADLENGTH_16:2,PAYLOADLENGTH_64:3,READ_DATA:4},sqB=Buffer.allocUnsafe(0),tqB={text:1,typedArray:2,arrayBuffer:3,blob:4};eLQ.exports={uid:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",sentCloseFrameState:oqB,staticPropertyDescriptors:iqB,states:nqB,opcodes:rqB,maxUnsigned16Bit:65535,parserStates:aqB,emptyBuffer:sqB,sendHints:tqB}});var H$=m((Wx0,EOQ)=>{var{states:jAA,opcodes:nT}=NV(),{isUtf8:eqB}=a("node:buffer"),{collectASequenceOfCodePointsFast:APB,removeHTTPWhitespace:AOQ}=ZN();function QPB(A){return A===jAA.CONNECTING}function BPB(A){return A===jAA.OPEN}function CPB(A){return A===jAA.CLOSING}function EPB(A){return A===jAA.CLOSED}function IPB(A,Q,B=(E,I)=>new Event(E,I),C={}){let E=B(A,C);Q.dispatchEvent(E)}function YPB(A,Q,B){A.onMessage(Q,B)}function GPB(A){if(A.byteLength===A.buffer.byteLength)return A.buffer;return new Uint8Array(A).buffer}function JPB(A){if(A.length===0)return!1;for(let Q=0;Q<A.length;++Q){let B=A.charCodeAt(Q);if(B<33||B>126||B===34||B===40||B===41||B===44||B===47||B===58||B===59||B===60||B===61||B===62||B===63||B===64||B===91||B===92||B===93||B===123||B===125)return!1}return!0}function DPB(A){if(A>=1000&&A<1015)return A!==1004&&A!==1005&&A!==1006;return A>=3000&&A<=4999}function QOQ(A){return A===nT.CLOSE||A===nT.PING||A===nT.PONG}function BOQ(A){return A===nT.CONTINUATION}function COQ(A){return A===nT.TEXT||A===nT.BINARY}function UPB(A){return COQ(A)||BOQ(A)||QOQ(A)}function NPB(A){let Q={position:0},B=new Map;while(Q.position<A.length){let C=APB(";",A,Q),[E,I=""]=C.split("=");B.set(AOQ(E,!0,!1),AOQ(I,!1,!0)),Q.position++}return B}function ZPB(A){for(let Q=0;Q<A.length;Q++){let B=A.charCodeAt(Q);if(B<48||B>57)return!1}return!0}function XPB(A,Q){let B;try{B=new URL(A,Q)}catch(C){throw new DOMException(C,"SyntaxError")}if(B.protocol==="http:")B.protocol="ws:";else if(B.protocol==="https:")B.protocol="wss:";if(B.protocol!=="ws:"&&B.protocol!=="wss:")throw new DOMException("expected a ws: or wss: url","SyntaxError");if(B.hash.length||B.href.endsWith("#"))throw new DOMException("hash","SyntaxError");return B}function FPB(A,Q){if(A!==null){if(A!==1000&&(A<3000||A>4999))throw new DOMException("invalid code","InvalidAccessError")}if(Q!==null){let B=Buffer.byteLength(Q);if(B>123)throw new DOMException(`Reason must be less than 123 bytes; received ${B}`,"SyntaxError")}}var HPB=(()=>{if(typeof process.versions.icu==="string"){let A=new TextDecoder("utf-8",{fatal:!0});return A.decode.bind(A)}return function(A){if(eqB(A))return A.toString("utf-8");throw new TypeError("Invalid utf-8 received.")}})();EOQ.exports={isConnecting:QPB,isEstablished:BPB,isClosing:CPB,isClosed:EPB,fireEvent:IPB,isValidSubprotocol:JPB,isValidStatusCode:DPB,websocketMessageReceived:YPB,utf8Decode:HPB,isControlFrame:QOQ,isContinuationFrame:BOQ,isTextBinaryFrame:COQ,isValidOpcode:UPB,parseExtensions:NPB,isValidClientWindowBits:ZPB,toArrayBuffer:GPB,getURLRecord:XPB,validateCloseCodeAndReason:FPB}});var tk=m((Kx0,JOQ)=>{var{maxUnsigned16Bit:IOQ,opcodes:WPB}=NV(),r3A,sk=null,oT=8192;try{r3A=a("node:crypto")}catch{r3A={randomFillSync:function A(Q,B,C){for(let E=0;E<Q.length;++E)Q[E]=Math.random()*255|0;return Q}}}function YOQ(){if(oT===8192)oT=0,r3A.randomFillSync(sk??=Buffer.allocUnsafeSlow(8192),0,8192);return[sk[oT++],sk[oT++],sk[oT++],sk[oT++]]}class GOQ{constructor(A){this.frameData=A}createFrame(A){let Q=this.frameData,B=YOQ(),C=Q?.byteLength??0,E=C,I=6;if(C>IOQ)I+=8,E=127;else if(C>125)I+=2,E=126;let Y=Buffer.allocUnsafe(C+I);Y[0]=Y[1]=0,Y[0]|=128,Y[0]=(Y[0]&240)+A;/*! ws. MIT License. Einar Otto Stangvik <einaros@gmail.com> */if(Y[I-4]=B[0],Y[I-3]=B[1],Y[I-2]=B[2],Y[I-1]=B[3],Y[1]=E,E===126)Y.writeUInt16BE(C,2);else if(E===127)Y[2]=Y[3]=0,Y.writeUIntBE(C,4,6);Y[1]|=128;for(let G=0;G<C;++G)Y[I+G]=Q[G]^B[G&3];return Y}static createFastTextFrame(A){let Q=YOQ(),B=A.length;for(let Y=0;Y<B;++Y)A[Y]^=Q[Y&3];let C=B,E=6;if(B>IOQ)E+=8,C=127;else if(B>125)E+=2,C=126;let I=Buffer.allocUnsafeSlow(E);if(I[0]=128|WPB.TEXT,I[1]=C|128,I[E-4]=Q[0],I[E-3]=Q[1],I[E-2]=Q[2],I[E-1]=Q[3],C===126)I.writeUInt16BE(B,2);else if(C===127)I[2]=I[3]=0,I.writeUIntBE(B,4,6);return[I,A]}}JOQ.exports={WebsocketFrameSend:GOQ}});var SAA=m((Vx0,XOQ)=>{var{uid:KPB,states:xAA,sentCloseFrameState:a3A,emptyBuffer:DOQ,opcodes:VPB}=NV(),{parseExtensions:MPB,isClosed:$PB,isClosing:zPB,isEstablished:NOQ,validateCloseCodeAndReason:wPB}=H$(),{channels:UOQ}=t6(),{makeRequest:LPB}=pT(),{fetching:OPB}=nk(),{Headers:RPB,getHeadersList:TPB}=U$(),{getDecodeSplit:qPB}=BD(),{WebsocketFrameSend:PPB}=tk(),_PB=a("node:assert"),s3A;try{s3A=a("node:crypto")}catch{}function jPB(A,Q,B,C,E){let I=A;I.protocol=A.protocol==="ws:"?"http:":"https:";let Y=LPB({urlList:[I],client:B,serviceWorkers:"none",referrer:"no-referrer",mode:"websocket",credentials:"include",cache:"no-store",redirect:"error"});if(E.headers){let U=TPB(new RPB(E.headers));Y.headersList=U}let G=s3A.randomBytes(16).toString("base64");Y.headersList.append("sec-websocket-key",G,!0),Y.headersList.append("sec-websocket-version","13",!0);for(let U of Q)Y.headersList.append("sec-websocket-protocol",U,!0);let J="permessage-deflate; client_max_window_bits";return Y.headersList.append("sec-websocket-extensions",J,!0),OPB({request:Y,useParallelQueue:!0,dispatcher:E.dispatcher,processResponse(U){if(U.type==="error")C.readyState=xAA.CLOSED;if(U.type==="error"||U.status!==101){DF(C,1002,"Received network error or non-101 status code.");return}if(Q.length!==0&&!U.headersList.get("Sec-WebSocket-Protocol")){DF(C,1002,"Server did not respond with sent protocols.");return}if(U.headersList.get("Upgrade")?.toLowerCase()!=="websocket"){DF(C,1002,'Server did not set Upgrade header to "websocket".');return}if(U.headersList.get("Connection")?.toLowerCase()!=="upgrade"){DF(C,1002,'Server did not set Connection header to "upgrade".');return}let N=U.headersList.get("Sec-WebSocket-Accept"),Z=s3A.createHash("sha1").update(G+KPB).digest("base64");if(N!==Z){DF(C,1002,"Incorrect hash received in Sec-WebSocket-Accept header.");return}let X=U.headersList.get("Sec-WebSocket-Extensions"),W;if(X!==null){if(W=MPB(X),!W.has("permessage-deflate")){DF(C,1002,"Sec-WebSocket-Extensions header does not match.");return}}let K=U.headersList.get("Sec-WebSocket-Protocol");if(K!==null){if(!qPB("sec-websocket-protocol",Y.headersList).includes(K)){DF(C,1002,"Protocol was not set in the opening handshake.");return}}if(U.socket.on("data",C.onSocketData),U.socket.on("close",C.onSocketClose),U.socket.on("error",C.onSocketError),UOQ.open.hasSubscribers)UOQ.open.publish({address:U.socket.address(),protocol:K,extensions:X});C.wasEverConnected=!0,C.onConnectionEstablished(U,W)}})}function ZOQ(A,Q,B,C=!1){if(Q??=null,B??="",C)wPB(Q,B);if($PB(A.readyState)||zPB(A.readyState));else if(!NOQ(A.readyState))DF(A),A.readyState=xAA.CLOSING;else if(!A.closeState.has(a3A.SENT)&&!A.closeState.has(a3A.RECEIVED)){let E=new PPB;if(B.length!==0&&Q===null)Q=1000;if(_PB(Q===null||Number.isInteger(Q)),Q===null&&B.length===0)E.frameData=DOQ;else if(Q!==null&&B===null)E.frameData=Buffer.allocUnsafe(2),E.frameData.writeUInt16BE(Q,0);else if(Q!==null&&B!==null)E.frameData=Buffer.allocUnsafe(2+Buffer.byteLength(B)),E.frameData.writeUInt16BE(Q,0),E.frameData.write(B,2,"utf-8");else E.frameData=DOQ;A.socket.write(E.createFrame(VPB.CLOSE)),A.closeState.add(a3A.SENT),A.readyState=xAA.CLOSING}else A.readyState=xAA.CLOSING}function DF(A,Q,B){if(NOQ(A.readyState))ZOQ(A,Q,B,!1);if(A.controller.abort(),A.socket?.destroyed===!1)A.socket.destroy();A.onFail(Q,B)}XOQ.exports={establishWebSocketConnection:jPB,failWebsocketConnection:DF,closeWebSocketConnection:ZOQ}});var WOQ=m((Mx0,HOQ)=>{var{createInflateRaw:xPB,Z_DEFAULT_WINDOWBITS:SPB}=a("node:zlib"),{isValidClientWindowBits:gPB}=H$(),vPB=Buffer.from([0,0,255,255]),gAA=Symbol("kBuffer"),vAA=Symbol("kLength");class FOQ{#A;#Q={};constructor(A){this.#Q.serverNoContextTakeover=A.has("server_no_context_takeover"),this.#Q.serverMaxWindowBits=A.get("server_max_window_bits")}decompress(A,Q,B){if(!this.#A){let C=SPB;if(this.#Q.serverMaxWindowBits){if(!gPB(this.#Q.serverMaxWindowBits)){B(new Error("Invalid server_max_window_bits"));return}C=Number.parseInt(this.#Q.serverMaxWindowBits)}this.#A=xPB({windowBits:C}),this.#A[gAA]=[],this.#A[vAA]=0,this.#A.on("data",(E)=>{this.#A[gAA].push(E),this.#A[vAA]+=E.length}),this.#A.on("error",(E)=>{this.#A=null,B(E)})}if(this.#A.write(A),Q)this.#A.write(vPB);this.#A.flush(()=>{let C=Buffer.concat(this.#A[gAA],this.#A[vAA]);this.#A[gAA].length=0,this.#A[vAA]=0,B(null,C)})}}HOQ.exports={PerMessageDeflate:FOQ}});var e3A=m(($x0,wOQ)=>{var{Writable:yPB}=a("node:stream"),kPB=a("node:assert"),{parserStates:AU,opcodes:rT,states:bPB,emptyBuffer:KOQ,sentCloseFrameState:ek}=NV(),{channels:yAA}=t6(),{isValidStatusCode:hPB,isValidOpcode:mPB,websocketMessageReceived:VOQ,utf8Decode:fPB,isControlFrame:MOQ,isTextBinaryFrame:t3A,isContinuationFrame:dPB}=H$(),{failWebsocketConnection:KN}=SAA(),{WebsocketFrameSend:$OQ}=tk(),{PerMessageDeflate:uPB}=WOQ();class zOQ extends yPB{#A=[];#Q=0;#B=0;#C=!1;#I=AU.INFO;#E={};#J=[];#Y;#G;constructor(A,Q){super();if(this.#G=A,this.#Y=Q==null?new Map:Q,this.#Y.has("permessage-deflate"))this.#Y.set("permessage-deflate",new uPB(Q))}_write(A,Q,B){this.#A.push(A),this.#B+=A.length,this.#C=!0,this.run(B)}run(A){while(this.#C)if(this.#I===AU.INFO){if(this.#B<2)return A();let Q=this.consume(2),B=(Q[0]&128)!==0,C=Q[0]&15,E=(Q[1]&128)===128,I=!B&&C!==rT.CONTINUATION,Y=Q[1]&127,G=Q[0]&64,J=Q[0]&32,D=Q[0]&16;if(!mPB(C))return KN(this.#G,1002,"Invalid opcode received"),A();if(E)return KN(this.#G,1002,"Frame cannot be masked"),A();if(G!==0&&!this.#Y.has("permessage-deflate")){KN(this.#G,1002,"Expected RSV1 to be clear.");return}if(J!==0||D!==0){KN(this.#G,1002,"RSV1, RSV2, RSV3 must be clear");return}if(I&&!t3A(C)){KN(this.#G,1002,"Invalid frame type was fragmented.");return}if(t3A(C)&&this.#J.length>0){KN(this.#G,1002,"Expected continuation frame");return}if(this.#E.fragmented&&I){KN(this.#G,1002,"Fragmented frame exceeded 125 bytes.");return}if((Y>125||I)&&MOQ(C)){KN(this.#G,1002,"Control frame either too large or fragmented");return}if(dPB(C)&&this.#J.length===0&&!this.#E.compressed){KN(this.#G,1002,"Unexpected continuation frame");return}if(Y<=125)this.#E.payloadLength=Y,this.#I=AU.READ_DATA;else if(Y===126)this.#I=AU.PAYLOADLENGTH_16;else if(Y===127)this.#I=AU.PAYLOADLENGTH_64;if(t3A(C))this.#E.binaryType=C,this.#E.compressed=G!==0;this.#E.opcode=C,this.#E.masked=E,this.#E.fin=B,this.#E.fragmented=I}else if(this.#I===AU.PAYLOADLENGTH_16){if(this.#B<2)return A();let Q=this.consume(2);this.#E.payloadLength=Q.readUInt16BE(0),this.#I=AU.READ_DATA}else if(this.#I===AU.PAYLOADLENGTH_64){if(this.#B<8)return A();let Q=this.consume(8),B=Q.readUInt32BE(0);if(B>2147483647){KN(this.#G,1009,"Received payload length > 2^31 bytes.");return}let C=Q.readUInt32BE(4);this.#E.payloadLength=(B<<8)+C,this.#I=AU.READ_DATA}else if(this.#I===AU.READ_DATA){if(this.#B<this.#E.payloadLength)return A();let Q=this.consume(this.#E.payloadLength);if(MOQ(this.#E.opcode))this.#C=this.parseControlFrame(Q),this.#I=AU.INFO;else if(!this.#E.compressed){if(this.writeFragments(Q),!this.#E.fragmented&&this.#E.fin)VOQ(this.#G,this.#E.binaryType,this.consumeFragments());this.#I=AU.INFO}else{this.#Y.get("permessage-deflate").decompress(Q,this.#E.fin,(B,C)=>{if(B){KN(this.#G,1007,B.message);return}if(this.writeFragments(C),!this.#E.fin){this.#I=AU.INFO,this.#C=!0,this.run(A);return}VOQ(this.#G,this.#E.binaryType,this.consumeFragments()),this.#C=!0,this.#I=AU.INFO,this.run(A)}),this.#C=!1;break}}}consume(A){if(A>this.#B)throw new Error("Called consume() before buffers satiated.");else if(A===0)return KOQ;this.#B-=A;let Q=this.#A[0];if(Q.length>A)return this.#A[0]=Q.subarray(A,Q.length),Q.subarray(0,A);else if(Q.length===A)return this.#A.shift();else{let B=0,C=Buffer.allocUnsafeSlow(A);while(B!==A){let E=this.#A[0],I=E.length;if(I+B===A){C.set(this.#A.shift(),B);break}else if(I+B>A){C.set(E.subarray(0,A-B),B),this.#A[0]=E.subarray(A-B);break}else C.set(this.#A.shift(),B),B+=I}return C}}writeFragments(A){this.#Q+=A.length,this.#J.push(A)}consumeFragments(){let A=this.#J;if(A.length===1)return this.#Q=0,A.shift();let Q=0,B=Buffer.allocUnsafeSlow(this.#Q);for(let C=0;C<A.length;++C){let E=A[C];B.set(E,Q),Q+=E.length}return this.#J=[],this.#Q=0,B}parseCloseBody(A){kPB(A.length!==1);let Q;if(A.length>=2)Q=A.readUInt16BE(0);if(Q!==void 0&&!hPB(Q))return{code:1002,reason:"Invalid status code",error:!0};let B=A.subarray(2);if(B[0]===239&&B[1]===187&&B[2]===191)B=B.subarray(3);try{B=fPB(B)}catch{return{code:1007,reason:"Invalid UTF-8",error:!0}}return{code:Q,reason:B,error:!1}}parseControlFrame(A){let{opcode:Q,payloadLength:B}=this.#E;if(Q===rT.CLOSE){if(B===1)return KN(this.#G,1002,"Received close frame with a 1-byte body."),!1;if(this.#E.closeInfo=this.parseCloseBody(A),this.#E.closeInfo.error){let{code:C,reason:E}=this.#E.closeInfo;return KN(this.#G,C,E),!1}if(!this.#G.closeState.has(ek.SENT)&&!this.#G.closeState.has(ek.RECEIVED)){let C=KOQ;if(this.#E.closeInfo.code)C=Buffer.allocUnsafe(2),C.writeUInt16BE(this.#E.closeInfo.code,0);let E=new $OQ(C);this.#G.socket.write(E.createFrame(rT.CLOSE)),this.#G.closeState.add(ek.SENT)}return this.#G.readyState=bPB.CLOSING,this.#G.closeState.add(ek.RECEIVED),!1}else if(Q===rT.PING){if(!this.#G.closeState.has(ek.RECEIVED)){let C=new $OQ(A);if(this.#G.socket.write(C.createFrame(rT.PONG)),yAA.ping.hasSubscribers)yAA.ping.publish({payload:A})}}else if(Q===rT.PONG){if(yAA.pong.hasSubscribers)yAA.pong.publish({payload:A})}return!0}get closingInfo(){return this.#E.closeInfo}}wOQ.exports={ByteParser:zOQ}});var qOQ=m((zx0,TOQ)=>{var{WebsocketFrameSend:OOQ}=tk(),{opcodes:LOQ,sendHints:W$}=NV(),pPB=S7A();class ROQ{#A=new pPB;#Q=!1;#B;constructor(A){this.#B=A}add(A,Q,B){if(B!==W$.blob){if(!this.#Q)if(B===W$.text){let{0:E,1:I}=OOQ.createFastTextFrame(A);this.#B.cork(),this.#B.write(E),this.#B.write(I,Q),this.#B.uncork()}else this.#B.write(AMA(A,B),Q);else{let E={promise:null,callback:Q,frame:AMA(A,B)};this.#A.push(E)}return}let C={promise:A.arrayBuffer().then((E)=>{C.promise=null,C.frame=AMA(E,B)}),callback:Q,frame:null};if(this.#A.push(C),!this.#Q)this.#C()}async#C(){this.#Q=!0;let A=this.#A;while(!A.isEmpty()){let Q=A.shift();if(Q.promise!==null)await Q.promise;this.#B.write(Q.frame,Q.callback),Q.callback=Q.frame=null}this.#Q=!1}}function AMA(A,Q){return new OOQ(cPB(A,Q)).createFrame(Q===W$.text?LOQ.TEXT:LOQ.BINARY)}function cPB(A,Q){switch(Q){case W$.text:case W$.typedArray:return new Uint8Array(A.buffer,A.byteOffset,A.byteLength);case W$.arrayBuffer:case W$.blob:return new Uint8Array(A)}}TOQ.exports={SendQueue:ROQ}});var vOQ=m((wx0,gOQ)=>{var{webidl:jB}=yJ(),{URLSerializer:lPB}=ZN(),{environmentSettingsObject:POQ}=BD(),{staticPropertyDescriptors:ZV,states:N1,sentCloseFrameState:QMA,sendHints:kAA,opcodes:_OQ}=NV(),{isConnecting:iPB,isEstablished:nPB,isClosing:oPB,isValidSubprotocol:rPB,fireEvent:Ab,utf8Decode:aPB,toArrayBuffer:sPB,getURLRecord:tPB}=H$(),{establishWebSocketConnection:ePB,closeWebSocketConnection:A_B,failWebsocketConnection:jOQ}=SAA(),{ByteParser:Q_B}=e3A(),{kEnumerableProperty:F8}=D0(),{getGlobalDispatcher:B_B}=YAA(),{types:SOQ}=a("node:util"),{ErrorEvent:C_B,CloseEvent:xOQ,createFastMessageEvent:E_B}=_AA(),{SendQueue:I_B}=qOQ(),{channels:bAA}=t6();class tC extends EventTarget{#A={open:null,error:null,close:null,message:null};#Q=0;#B="";#C="";#I;#E={onConnectionEstablished:(A,Q)=>this.#D(A,Q),onFail:(A,Q)=>this.#Z(A,Q),onMessage:(A,Q)=>this.#U(A,Q),onParserError:(A)=>jOQ(this.#E,null,A.message),onParserDrain:()=>this.#N(),onSocketData:(A)=>{if(!this.#G.write(A))this.#E.socket.pause()},onSocketError:(A)=>{if(this.#E.readyState=N1.CLOSING,bAA.socketError.hasSubscribers)bAA.socketError.publish(A);this.#E.socket.destroy()},onSocketClose:()=>this.#X(),readyState:N1.CONNECTING,socket:null,closeState:new Set,controller:null,wasEverConnected:!1};#J;#Y;#G;constructor(A,Q=[]){super();jB.util.markAsUncloneable(this);let B="WebSocket constructor";jB.argumentLengthCheck(arguments,1,B);let C=jB.converters["DOMString or sequence<DOMString> or WebSocketInit"](Q,B,"options");A=jB.converters.USVString(A),Q=C.protocols;let E=POQ.settingsObject.baseUrl,I=tPB(A,E);if(typeof Q==="string")Q=[Q];if(Q.length!==new Set(Q.map((G)=>G.toLowerCase())).size)throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");if(Q.length>0&&!Q.every((G)=>rPB(G)))throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");this.#J=new URL(I.href);let Y=POQ.settingsObject;this.#E.controller=ePB(I,Q,Y,this.#E,C),this.#E.readyState=tC.CONNECTING,this.#Y="blob"}close(A=void 0,Q=void 0){jB.brandCheck(this,tC);let B="WebSocket.close";if(A!==void 0)A=jB.converters["unsigned short"](A,B,"code",{clamp:!0});if(Q!==void 0)Q=jB.converters.USVString(Q);A??=null,Q??="",A_B(this.#E,A,Q,!0)}send(A){jB.brandCheck(this,tC);let Q="WebSocket.send";if(jB.argumentLengthCheck(arguments,1,Q),A=jB.converters.WebSocketSendData(A,Q,"data"),iPB(this.#E.readyState))throw new DOMException("Sent before connected.","InvalidStateError");if(!nPB(this.#E.readyState)||oPB(this.#E.readyState))return;if(typeof A==="string"){let B=Buffer.from(A);this.#Q+=B.byteLength,this.#I.add(B,()=>{this.#Q-=B.byteLength},kAA.text)}else if(SOQ.isArrayBuffer(A))this.#Q+=A.byteLength,this.#I.add(A,()=>{this.#Q-=A.byteLength},kAA.arrayBuffer);else if(ArrayBuffer.isView(A))this.#Q+=A.byteLength,this.#I.add(A,()=>{this.#Q-=A.byteLength},kAA.typedArray);else if(jB.is.Blob(A))this.#Q+=A.size,this.#I.add(A,()=>{this.#Q-=A.size},kAA.blob)}get readyState(){return jB.brandCheck(this,tC),this.#E.readyState}get bufferedAmount(){return jB.brandCheck(this,tC),this.#Q}get url(){return jB.brandCheck(this,tC),lPB(this.#J)}get extensions(){return jB.brandCheck(this,tC),this.#C}get protocol(){return jB.brandCheck(this,tC),this.#B}get onopen(){return jB.brandCheck(this,tC),this.#A.open}set onopen(A){if(jB.brandCheck(this,tC),this.#A.open)this.removeEventListener("open",this.#A.open);if(typeof A==="function")this.#A.open=A,this.addEventListener("open",A);else this.#A.open=null}get onerror(){return jB.brandCheck(this,tC),this.#A.error}set onerror(A){if(jB.brandCheck(this,tC),this.#A.error)this.removeEventListener("error",this.#A.error);if(typeof A==="function")this.#A.error=A,this.addEventListener("error",A);else this.#A.error=null}get onclose(){return jB.brandCheck(this,tC),this.#A.close}set onclose(A){if(jB.brandCheck(this,tC),this.#A.close)this.removeEventListener("close",this.#A.close);if(typeof A==="function")this.#A.close=A,this.addEventListener("close",A);else this.#A.close=null}get onmessage(){return jB.brandCheck(this,tC),this.#A.message}set onmessage(A){if(jB.brandCheck(this,tC),this.#A.message)this.removeEventListener("message",this.#A.message);if(typeof A==="function")this.#A.message=A,this.addEventListener("message",A);else this.#A.message=null}get binaryType(){return jB.brandCheck(this,tC),this.#Y}set binaryType(A){if(jB.brandCheck(this,tC),A!=="blob"&&A!=="arraybuffer")this.#Y="blob";else this.#Y=A}#D(A,Q){this.#E.socket=A.socket;let B=new Q_B(this.#E,Q);B.on("drain",()=>this.#E.onParserDrain()),B.on("error",(I)=>this.#E.onParserError(I)),this.#G=B,this.#I=new I_B(A.socket),this.#E.readyState=N1.OPEN;let C=A.headersList.get("sec-websocket-extensions");if(C!==null)this.#C=C;let E=A.headersList.get("sec-websocket-protocol");if(E!==null)this.#B=E;Ab("open",this)}#Z(A,Q){if(Q)Ab("error",this,(B,C)=>new C_B(B,C),{error:new Error(Q),message:Q});if(!this.#E.wasEverConnected)this.#E.readyState=N1.CLOSED,Ab("close",this,(B,C)=>new xOQ(B,C),{wasClean:!1,code:A,reason:Q})}#U(A,Q){if(this.#E.readyState!==N1.OPEN)return;let B;if(A===_OQ.TEXT)try{B=aPB(Q)}catch{jOQ(this.#E,1007,"Received invalid UTF-8 in text frame.");return}else if(A===_OQ.BINARY)if(this.#Y==="blob")B=new Blob([Q]);else B=sPB(Q);Ab("message",this,E_B,{origin:this.#J.origin,data:B})}#N(){this.#E.socket.resume()}#X(){let A=this.#E.closeState.has(QMA.SENT)&&this.#E.closeState.has(QMA.RECEIVED),Q=1005,B="",C=this.#G.closingInfo;if(C&&!C.error)Q=C.code??1005,B=C.reason;else if(!this.#E.closeState.has(QMA.RECEIVED))Q=1006;if(this.#E.readyState=N1.CLOSED,Ab("close",this,(E,I)=>new xOQ(E,I),{wasClean:A,code:Q,reason:B}),bAA.close.hasSubscribers)bAA.close.publish({websocket:this,code:Q,reason:B})}}tC.CONNECTING=tC.prototype.CONNECTING=N1.CONNECTING;tC.OPEN=tC.prototype.OPEN=N1.OPEN;tC.CLOSING=tC.prototype.CLOSING=N1.CLOSING;tC.CLOSED=tC.prototype.CLOSED=N1.CLOSED;Object.defineProperties(tC.prototype,{CONNECTING:ZV,OPEN:ZV,CLOSING:ZV,CLOSED:ZV,url:F8,readyState:F8,bufferedAmount:F8,onopen:F8,onerror:F8,onclose:F8,close:F8,onmessage:F8,binaryType:F8,send:F8,extensions:F8,protocol:F8,[Symbol.toStringTag]:{value:"WebSocket",writable:!1,enumerable:!1,configurable:!0}});Object.defineProperties(tC,{CONNECTING:ZV,OPEN:ZV,CLOSING:ZV,CLOSED:ZV});jB.converters["sequence<DOMString>"]=jB.sequenceConverter(jB.converters.DOMString);jB.converters["DOMString or sequence<DOMString>"]=function(A,Q,B){if(jB.util.Type(A)===jB.util.Types.OBJECT&&Symbol.iterator in A)return jB.converters["sequence<DOMString>"](A);return jB.converters.DOMString(A,Q,B)};jB.converters.WebSocketInit=jB.dictionaryConverter([{key:"protocols",converter:jB.converters["DOMString or sequence<DOMString>"],defaultValue:()=>new Array(0)},{key:"dispatcher",converter:jB.converters.any,defaultValue:()=>B_B()},{key:"headers",converter:jB.nullableConverter(jB.converters.HeadersInit)}]);jB.converters["DOMString or sequence<DOMString> or WebSocketInit"]=function(A){if(jB.util.Type(A)===jB.util.Types.OBJECT&&!(Symbol.iterator in A))return jB.converters.WebSocketInit(A);return{protocols:jB.converters["DOMString or sequence<DOMString>"](A)}};jB.converters.WebSocketSendData=function(A){if(jB.util.Type(A)===jB.util.Types.OBJECT){if(jB.is.Blob(A))return A;if(ArrayBuffer.isView(A)||SOQ.isArrayBuffer(A))return A}return jB.converters.USVString(A)};gOQ.exports={WebSocket:tC}});var BMA=m((Lx0,bOQ)=>{var{webidl:hAA}=yJ(),{validateCloseCodeAndReason:Y_B}=H$(),{kConstruct:yOQ}=kE(),{kEnumerableProperty:kOQ}=D0();class K$ extends DOMException{#A;#Q;constructor(A="",Q=void 0){A=hAA.converters.DOMString(A,"WebSocketError","message");super(A,"WebSocketError");if(Q===yOQ)return;else if(Q!==null)Q=hAA.converters.WebSocketCloseInfo(Q);let B=Q.closeCode??null,C=Q.reason??"";if(Y_B(B,C),C.length!==0&&B===null)B=1000;this.#A=B,this.#Q=C}get closeCode(){return this.#A}get reason(){return this.#Q}static createUnvalidatedWebSocketError(A,Q,B){let C=new K$(A,yOQ);return C.#A=Q,C.#Q=B,C}}var{createUnvalidatedWebSocketError:G_B}=K$;delete K$.createUnvalidatedWebSocketError;Object.defineProperties(K$.prototype,{closeCode:kOQ,reason:kOQ,[Symbol.toStringTag]:{value:"WebSocketError",writable:!1,enumerable:!1,configurable:!0}});hAA.is.WebSocketError=hAA.util.MakeTypeAssertion(K$);bOQ.exports={WebSocketError:K$,createUnvalidatedWebSocketError:G_B}});var uOQ=m((Ox0,dOQ)=>{var{createDeferredPromise:CMA,environmentSettingsObject:hOQ}=BD(),{states:aT,opcodes:mAA,sentCloseFrameState:sT}=NV(),{webidl:w2}=yJ(),{getURLRecord:J_B,isValidSubprotocol:D_B,isEstablished:U_B,utf8Decode:N_B}=H$(),{establishWebSocketConnection:Z_B,failWebsocketConnection:EMA,closeWebSocketConnection:IMA}=SAA(),{types:X_B}=a("node:util"),{channels:mOQ}=t6(),{WebsocketFrameSend:F_B}=tk(),{ByteParser:H_B}=e3A(),{WebSocketError:W_B,createUnvalidatedWebSocketError:K_B}=BMA(),{utf8DecodeBytes:V_B}=BD(),{kEnumerableProperty:fAA}=D0(),fOQ=!1;class YMA{#A;#Q;#B;#C;#I;#E;#J=!1;#Y={onConnectionEstablished:(A,Q)=>this.#Z(A,Q),onFail:(A,Q)=>{},onMessage:(A,Q)=>this.#U(A,Q),onParserError:(A)=>EMA(this.#Y,null,A.message),onParserDrain:()=>this.#Y.socket.resume(),onSocketData:(A)=>{if(!this.#G.write(A))this.#Y.socket.pause()},onSocketError:(A)=>{if(this.#Y.readyState=aT.CLOSING,mOQ.socketError.hasSubscribers)mOQ.socketError.publish(A);this.#Y.socket.destroy()},onSocketClose:()=>this.#N(),readyState:aT.CONNECTING,socket:null,closeState:new Set,controller:null,wasEverConnected:!1};#G;constructor(A,Q=void 0){if(!fOQ)process.emitWarning("WebSocketStream is experimental! Expect it to change at any time.",{code:"UNDICI-WSS"}),fOQ=!0;if(w2.argumentLengthCheck(arguments,1,"WebSocket"),A=w2.converters.USVString(A),Q!==null)Q=w2.converters.WebSocketStreamOptions(Q);let B=hOQ.settingsObject.baseUrl,C=J_B(A,B),E=Q.protocols;if(E.length!==new Set(E.map((Y)=>Y.toLowerCase())).size)throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");if(E.length>0&&!E.every((Y)=>D_B(Y)))throw new DOMException("Invalid Sec-WebSocket-Protocol value","SyntaxError");if(this.#A=C.toString(),this.#Q=CMA(),this.#B=CMA(),Q.signal!=null){let Y=Q.signal;if(Y.aborted){this.#Q.reject(Y.reason),this.#B.reject(Y.reason);return}Y.addEventListener("abort",()=>{if(!U_B(this.#Y.readyState))EMA(this.#Y),this.#Y.readyState=aT.CLOSING,this.#Q.reject(Y.reason),this.#B.reject(Y.reason),this.#J=!0},{once:!0})}let I=hOQ.settingsObject;this.#Y.controller=Z_B(C,E,I,this.#Y,Q)}get url(){return this.#A.toString()}get opened(){return this.#Q.promise}get closed(){return this.#B.promise}close(A=void 0){if(A!==null)A=w2.converters.WebSocketCloseInfo(A);let Q=A.closeCode??null,B=A.reason;IMA(this.#Y,Q,B,!0)}#D(A){let Q=CMA(),B=null,C=null;if(ArrayBuffer.isView(A)||X_B.isArrayBuffer(A))B=new Uint8Array(ArrayBuffer.isView(A)?new Uint8Array(A.buffer,A.byteOffset,A.byteLength):A),C=mAA.BINARY;else{let E;try{E=w2.converters.DOMString(A)}catch(I){Q.reject(I);return}B=new TextEncoder().encode(E),C=mAA.TEXT}if(!this.#Y.closeState.has(sT.SENT)&&!this.#Y.closeState.has(sT.RECEIVED)){let E=new F_B(B);this.#Y.socket.write(E.createFrame(C),()=>{Q.resolve(void 0)})}return Q}#Z(A,Q){this.#Y.socket=A.socket;let B=new H_B(this.#Y,Q);B.on("drain",()=>this.#Y.onParserDrain()),B.on("error",(G)=>this.#Y.onParserError(G)),this.#G=B,this.#Y.readyState=aT.OPEN;let C=Q??"",E=A.headersList.get("sec-websocket-protocol")??"",I=new ReadableStream({start:(G)=>{this.#I=G},pull(G){let J;while(G.desiredSize>0&&(J=A.socket.read())!==null)G.enqueue(J)},cancel:(G)=>this.#F(G)}),Y=new WritableStream({write:(G)=>this.#D(G),close:()=>IMA(this.#Y,null,null),abort:(G)=>this.#X(G)});this.#C=I,this.#E=Y,this.#Q.resolve({extensions:C,protocol:E,readable:I,writable:Y})}#U(A,Q){if(this.#Y.readyState!==aT.OPEN)return;let B;if(A===mAA.TEXT)try{B=N_B(Q)}catch{EMA(this.#Y,"Received invalid UTF-8 in text frame.");return}else if(A===mAA.BINARY)B=new Uint8Array(Q.buffer,Q.byteOffset,Q.byteLength);this.#I.enqueue(B)}#N(){let A=this.#Y.closeState.has(sT.SENT)&&this.#Y.closeState.has(sT.RECEIVED);if(this.#Y.readyState=aT.CLOSED,this.#J)return;if(!this.#Y.wasEverConnected)this.#Q.reject(new W_B("Socket never opened"));let Q=this.#G.closingInfo,B=Q?.code??1005;if(!this.#Y.closeState.has(sT.SENT)&&!this.#Y.closeState.has(sT.RECEIVED))B=1006;let C=Q?.reason==null?"":V_B(Buffer.from(Q.reason));if(A){if(this.#C.cancel().catch(()=>{}),!this.#E.locked)this.#E.abort(new DOMException("A closed WebSocketStream cannot be written to","InvalidStateError"));this.#B.resolve({closeCode:B,reason:C})}else{let E=K_B("unclean close",B,C);this.#I.error(E),this.#E.abort(E),this.#B.reject(E)}}#X(A){let Q=null,B="";if(w2.is.WebSocketError(A))Q=A.closeCode,B=A.reason;IMA(this.#Y,Q,B)}#F(A){this.#X(A)}}Object.defineProperties(YMA.prototype,{url:fAA,opened:fAA,closed:fAA,close:fAA,[Symbol.toStringTag]:{value:"WebSocketStream",writable:!1,enumerable:!1,configurable:!0}});w2.converters.WebSocketStreamOptions=w2.dictionaryConverter([{key:"protocols",converter:w2.sequenceConverter(w2.converters.USVString),defaultValue:()=>[]},{key:"signal",converter:w2.nullableConverter(w2.converters.AbortSignal),defaultValue:()=>null}]);w2.converters.WebSocketCloseInfo=w2.dictionaryConverter([{key:"closeCode",converter:(A)=>w2.converters["unsigned short"](A,{enforceRange:!0})},{key:"reason",converter:w2.converters.USVString,defaultValue:()=>""}]);dOQ.exports={WebSocketStream:YMA}});var GMA=m((Rx0,pOQ)=>{function M_B(A){return A.indexOf("\x00")===-1}function $_B(A){if(A.length===0)return!1;for(let Q=0;Q<A.length;Q++)if(A.charCodeAt(Q)<48||A.charCodeAt(Q)>57)return!1;return!0}function z_B(A){return new Promise((Q)=>{setTimeout(Q,A).unref()})}pOQ.exports={isValidLastEventId:M_B,isASCIINumber:$_B,delay:z_B}});var oOQ=m((Tx0,nOQ)=>{var{Transform:w_B}=a("node:stream"),{isASCIINumber:cOQ,isValidLastEventId:lOQ}=GMA(),UF=[239,187,191];class iOQ extends w_B{state;checkBOM=!0;crlfCheck=!1;eventEndCheck=!1;buffer=null;pos=0;event={data:void 0,event:void 0,id:void 0,retry:void 0};constructor(A={}){A.readableObjectMode=!0;super(A);if(this.state=A.eventSourceSettings||{},A.push)this.push=A.push}_transform(A,Q,B){if(A.length===0){B();return}if(this.buffer)this.buffer=Buffer.concat([this.buffer,A]);else this.buffer=A;if(this.checkBOM)switch(this.buffer.length){case 1:if(this.buffer[0]===UF[0]){B();return}this.checkBOM=!1,B();return;case 2:if(this.buffer[0]===UF[0]&&this.buffer[1]===UF[1]){B();return}this.checkBOM=!1;break;case 3:if(this.buffer[0]===UF[0]&&this.buffer[1]===UF[1]&&this.buffer[2]===UF[2]){this.buffer=Buffer.alloc(0),this.checkBOM=!1,B();return}this.checkBOM=!1;break;default:if(this.buffer[0]===UF[0]&&this.buffer[1]===UF[1]&&this.buffer[2]===UF[2])this.buffer=this.buffer.subarray(3);this.checkBOM=!1;break}while(this.pos<this.buffer.length){if(this.eventEndCheck){if(this.crlfCheck){if(this.buffer[this.pos]===10){this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.crlfCheck=!1;continue}this.crlfCheck=!1}if(this.buffer[this.pos]===10||this.buffer[this.pos]===13){if(this.buffer[this.pos]===13)this.crlfCheck=!0;if(this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.event.data!==void 0||this.event.event||this.event.id||this.event.retry)this.processEvent(this.event);this.clearEvent();continue}this.eventEndCheck=!1;continue}if(this.buffer[this.pos]===10||this.buffer[this.pos]===13){if(this.buffer[this.pos]===13)this.crlfCheck=!0;this.parseLine(this.buffer.subarray(0,this.pos),this.event),this.buffer=this.buffer.subarray(this.pos+1),this.pos=0,this.eventEndCheck=!0;continue}this.pos++}B()}parseLine(A,Q){if(A.length===0)return;let B=A.indexOf(58);if(B===0)return;let C="",E="";if(B!==-1){C=A.subarray(0,B).toString("utf8");let I=B+1;if(A[I]===32)++I;E=A.subarray(I).toString("utf8")}else C=A.toString("utf8"),E="";switch(C){case"data":if(Q[C]===void 0)Q[C]=E;else Q[C]+=`
${E}`;break;case"retry":if(cOQ(E))Q[C]=E;break;case"id":if(lOQ(E))Q[C]=E;break;case"event":if(E.length>0)Q[C]=E;break}}processEvent(A){if(A.retry&&cOQ(A.retry))this.state.reconnectionTime=parseInt(A.retry,10);if(A.id&&lOQ(A.id))this.state.lastEventId=A.id;if(A.data!==void 0)this.push({type:A.event||"message",options:{data:A.data,lastEventId:this.state.lastEventId,origin:this.state.origin}})}clearEvent(){this.event={data:void 0,event:void 0,id:void 0,retry:void 0}}}nOQ.exports={EventSourceStream:iOQ}});var BRQ=m((qx0,QRQ)=>{var{pipeline:L_B}=a("node:stream"),{fetching:O_B}=nk(),{makeRequest:R_B}=pT(),{webidl:NF}=yJ(),{EventSourceStream:T_B}=oOQ(),{parseMIMEType:q_B}=ZN(),{createFastMessageEvent:P_B}=_AA(),{isNetworkError:rOQ}=lk(),{delay:__B}=GMA(),{kEnumerableProperty:V$}=D0(),{environmentSettingsObject:aOQ}=BD(),sOQ=!1,tOQ=3000,Qb=0,eOQ=1,Bb=2,j_B="anonymous",x_B="use-credentials";class tT extends EventTarget{#A={open:null,error:null,message:null};#Q;#B=!1;#C=Qb;#I=null;#E=null;#J;#Y;constructor(A,Q={}){super();NF.util.markAsUncloneable(this);let B="EventSource constructor";if(NF.argumentLengthCheck(arguments,1,B),!sOQ)sOQ=!0,process.emitWarning("EventSource is experimental, expect them to change at any time.",{code:"UNDICI-ES"});A=NF.converters.USVString(A),Q=NF.converters.EventSourceInitDict(Q,B,"eventSourceInitDict"),this.#J=Q.dispatcher,this.#Y={lastEventId:"",reconnectionTime:tOQ};let C=aOQ,E;try{E=new URL(A,C.settingsObject.baseUrl),this.#Y.origin=E.origin}catch(G){throw new DOMException(G,"SyntaxError")}this.#Q=E.href;let I=j_B;if(Q.withCredentials===!0)I=x_B,this.#B=!0;let Y={redirect:"follow",keepalive:!0,mode:"cors",credentials:I==="anonymous"?"same-origin":"omit",referrer:"no-referrer"};Y.client=aOQ.settingsObject,Y.headersList=[["accept",{name:"accept",value:"text/event-stream"}]],Y.cache="no-store",Y.initiator="other",Y.urlList=[new URL(this.#Q)],this.#I=R_B(Y),this.#G()}get readyState(){return this.#C}get url(){return this.#Q}get withCredentials(){return this.#B}#G(){if(this.#C===Bb)return;this.#C=Qb;let A={request:this.#I,dispatcher:this.#J},Q=(B)=>{if(rOQ(B))this.dispatchEvent(new Event("error")),this.close();this.#D()};A.processResponseEndOfBody=Q,A.processResponse=(B)=>{if(rOQ(B))if(B.aborted){this.close(),this.dispatchEvent(new Event("error"));return}else{this.#D();return}let C=B.headersList.get("content-type",!0),E=C!==null?q_B(C):"failure",I=E!=="failure"&&E.essence==="text/event-stream";if(B.status!==200||I===!1){this.close(),this.dispatchEvent(new Event("error"));return}this.#C=eOQ,this.dispatchEvent(new Event("open")),this.#Y.origin=B.urlList[B.urlList.length-1].origin;let Y=new T_B({eventSourceSettings:this.#Y,push:(G)=>{this.dispatchEvent(P_B(G.type,G.options))}});L_B(B.body.stream,Y,(G)=>{if(G?.aborted===!1)this.close(),this.dispatchEvent(new Event("error"))})},this.#E=O_B(A)}async#D(){if(this.#C===Bb)return;if(this.#C=Qb,this.dispatchEvent(new Event("error")),await __B(this.#Y.reconnectionTime),this.#C!==Qb)return;if(this.#Y.lastEventId.length)this.#I.headersList.set("last-event-id",this.#Y.lastEventId,!0);this.#G()}close(){if(NF.brandCheck(this,tT),this.#C===Bb)return;this.#C=Bb,this.#E.abort(),this.#I=null}get onopen(){return this.#A.open}set onopen(A){if(this.#A.open)this.removeEventListener("open",this.#A.open);if(typeof A==="function")this.#A.open=A,this.addEventListener("open",A);else this.#A.open=null}get onmessage(){return this.#A.message}set onmessage(A){if(this.#A.message)this.removeEventListener("message",this.#A.message);if(typeof A==="function")this.#A.message=A,this.addEventListener("message",A);else this.#A.message=null}get onerror(){return this.#A.error}set onerror(A){if(this.#A.error)this.removeEventListener("error",this.#A.error);if(typeof A==="function")this.#A.error=A,this.addEventListener("error",A);else this.#A.error=null}}var ARQ={CONNECTING:{__proto__:null,configurable:!1,enumerable:!0,value:Qb,writable:!1},OPEN:{__proto__:null,configurable:!1,enumerable:!0,value:eOQ,writable:!1},CLOSED:{__proto__:null,configurable:!1,enumerable:!0,value:Bb,writable:!1}};Object.defineProperties(tT,ARQ);Object.defineProperties(tT.prototype,ARQ);Object.defineProperties(tT.prototype,{close:V$,onerror:V$,onmessage:V$,onopen:V$,readyState:V$,url:V$,withCredentials:V$});NF.converters.EventSourceInitDict=NF.dictionaryConverter([{key:"withCredentials",converter:NF.converters.boolean,defaultValue:()=>!1},{key:"dispatcher",converter:NF.converters.any}]);QRQ.exports={EventSource:tT,defaultReconnectionTime:tOQ}});var JMA=m((NjB,TB)=>{var S_B=qk(),CRQ=Dk(),g_B=jT(),v_B=hMQ(),y_B=xT(),k_B=c7A(),b_B=E$Q(),h_B=N$Q(),ERQ=FC(),uAA=D0(),{InvalidArgumentError:dAA}=ERQ,eT=e$Q(),m_B=Nk(),f_B=H3A(),d_B=mzQ(),u_B=K3A(),p_B=C3A(),c_B=ne(),{getGlobalDispatcher:IRQ,setGlobalDispatcher:l_B}=YAA(),i_B=fk(),n_B=L3A();Object.assign(CRQ.prototype,eT);NjB.Dispatcher=CRQ;NjB.Client=S_B;NjB.Pool=g_B;NjB.BalancedPool=v_B;NjB.Agent=y_B;NjB.ProxyAgent=k_B;NjB.EnvHttpProxyAgent=b_B;NjB.RetryAgent=h_B;NjB.RetryHandler=c_B;NjB.DecoratorHandler=i_B;NjB.RedirectHandler=n_B;NjB.interceptors={redirect:szQ(),responseError:AwQ(),retry:BwQ(),dump:IwQ(),dns:DwQ(),cache:_wQ()};NjB.cacheStores={MemoryCacheStore:T3A()};var o_B=xwQ();NjB.cacheStores.SqliteCacheStore=o_B;NjB.buildConnector=m_B;NjB.errors=ERQ;NjB.util={parseHeaders:uAA.parseHeaders,headerNameToString:uAA.headerNameToString};function Cb(A){return(Q,B,C)=>{if(typeof B==="function")C=B,B=null;if(!Q||typeof Q!=="string"&&typeof Q!=="object"&&!(Q instanceof URL))throw new dAA("invalid url");if(B!=null&&typeof B!=="object")throw new dAA("invalid opts");if(B&&B.path!=null){if(typeof B.path!=="string")throw new dAA("invalid opts.path");let Y=B.path;if(!B.path.startsWith("/"))Y=`/${Y}`;Q=new URL(uAA.parseOrigin(Q).origin+Y)}else{if(!B)B=typeof Q==="object"?Q:{};Q=uAA.parseURL(Q)}let{agent:E,dispatcher:I=IRQ()}=B;if(E)throw new dAA("unsupported opts.agent. Did you mean opts.client?");return A.call(I,{...B,origin:Q.origin,path:Q.search?`${Q.pathname}${Q.search}`:Q.pathname,method:B.method||(B.body?"PUT":"GET")},C)}}NjB.setGlobalDispatcher=l_B;NjB.getGlobalDispatcher=IRQ;var r_B=nk().fetch;NjB.fetch=async function A(Q,B=void 0){try{return await r_B(Q,B)}catch(C){if(C&&typeof C==="object")Error.captureStackTrace(C);throw C}};NjB.Headers=U$().Headers;NjB.Response=lk().Response;NjB.Request=pT().Request;NjB.FormData=Oe().FormData;var{setGlobalOrigin:a_B,getGlobalOrigin:s_B}=E7A();NjB.setGlobalOrigin=a_B;NjB.getGlobalOrigin=s_B;var{CacheStorage:t_B}=bLQ(),{kConstruct:e_B}=kE();NjB.caches=new t_B(e_B);var{deleteCookie:AjB,getCookies:QjB,getSetCookies:BjB,setCookie:CjB,parseCookie:EjB}=aLQ();NjB.deleteCookie=AjB;NjB.getCookies=QjB;NjB.getSetCookies=BjB;NjB.setCookie=CjB;NjB.parseCookie=EjB;var{parseMIMEType:IjB,serializeAMimeType:YjB}=ZN();NjB.parseMIMEType=IjB;NjB.serializeAMimeType=YjB;var{CloseEvent:GjB,ErrorEvent:JjB,MessageEvent:DjB}=_AA();NjB.WebSocket=vOQ().WebSocket;NjB.CloseEvent=GjB;NjB.ErrorEvent=JjB;NjB.MessageEvent=DjB;NjB.WebSocketStream=uOQ().WebSocketStream;NjB.WebSocketError=BMA().WebSocketError;NjB.request=Cb(eT.request);NjB.stream=Cb(eT.stream);NjB.pipeline=Cb(eT.pipeline);NjB.connect=Cb(eT.connect);NjB.upgrade=Cb(eT.upgrade);NjB.MockClient=f_B;NjB.MockPool=u_B;NjB.MockAgent=d_B;NjB.mockErrors=p_B;var{EventSource:UjB}=BRQ();NjB.EventSource=UjB});var ZF=m((Sx0,LRQ)=>{var zRQ=["nodebuffer","arraybuffer","fragments"],wRQ=typeof Blob!=="undefined";if(wRQ)zRQ.push("blob");LRQ.exports={BINARY_TYPES:zRQ,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:wRQ,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var Ib=m((gx0,pAA)=>{var{EMPTY_BUFFER:_xB}=ZF(),$MA=Buffer[Symbol.species];function jxB(A,Q){if(A.length===0)return _xB;if(A.length===1)return A[0];let B=Buffer.allocUnsafe(Q),C=0;for(let E=0;E<A.length;E++){let I=A[E];B.set(I,C),C+=I.length}if(C<Q)return new $MA(B.buffer,B.byteOffset,C);return B}function ORQ(A,Q,B,C,E){for(let I=0;I<E;I++)B[C+I]=A[I]^Q[I&3]}function RRQ(A,Q){for(let B=0;B<A.length;B++)A[B]^=Q[B&3]}function xxB(A){if(A.length===A.buffer.byteLength)return A.buffer;return A.buffer.slice(A.byteOffset,A.byteOffset+A.length)}function zMA(A){if(zMA.readOnly=!0,Buffer.isBuffer(A))return A;let Q;if(A instanceof ArrayBuffer)Q=new $MA(A);else if(ArrayBuffer.isView(A))Q=new $MA(A.buffer,A.byteOffset,A.byteLength);else Q=Buffer.from(A),zMA.readOnly=!1;return Q}pAA.exports={concat:jxB,mask:ORQ,toArrayBuffer:xxB,toBuffer:zMA,unmask:RRQ};if(!process.env.WS_NO_BUFFER_UTIL)try{let A=(()=>{throw new Error("Cannot require module "+"bufferutil");})();pAA.exports.mask=function(Q,B,C,E,I){if(I<48)ORQ(Q,B,C,E,I);else A.mask(Q,B,C,E,I)},pAA.exports.unmask=function(Q,B){if(Q.length<32)RRQ(Q,B);else A.unmask(Q,B)}}catch(A){}});var _RQ=m((vx0,PRQ)=>{var TRQ=Symbol("kDone"),wMA=Symbol("kRun");class qRQ{constructor(A){this[TRQ]=()=>{this.pending--,this[wMA]()},this.concurrency=A||1/0,this.jobs=[],this.pending=0}add(A){this.jobs.push(A),this[wMA]()}[wMA](){if(this.pending===this.concurrency)return;if(this.jobs.length){let A=this.jobs.shift();this.pending++,A(this[TRQ])}}}PRQ.exports=qRQ});var Jb=m((yx0,vRQ)=>{var Yb=a("zlib"),jRQ=Ib(),SxB=_RQ(),{kStatusCode:xRQ}=ZF(),gxB=Buffer[Symbol.species],vxB=Buffer.from([0,0,255,255]),iAA=Symbol("permessage-deflate"),XF=Symbol("total-length"),Gb=Symbol("callback"),XV=Symbol("buffers"),lAA=Symbol("error"),cAA;class SRQ{constructor(A,Q,B){if(this._maxPayload=B|0,this._options=A||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!Q,this._deflate=null,this._inflate=null,this.params=null,!cAA){let C=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;cAA=new SxB(C)}}static get extensionName(){return"permessage-deflate"}offer(){let A={};if(this._options.serverNoContextTakeover)A.server_no_context_takeover=!0;if(this._options.clientNoContextTakeover)A.client_no_context_takeover=!0;if(this._options.serverMaxWindowBits)A.server_max_window_bits=this._options.serverMaxWindowBits;if(this._options.clientMaxWindowBits)A.client_max_window_bits=this._options.clientMaxWindowBits;else if(this._options.clientMaxWindowBits==null)A.client_max_window_bits=!0;return A}accept(A){return A=this.normalizeParams(A),this.params=this._isServer?this.acceptAsServer(A):this.acceptAsClient(A),this.params}cleanup(){if(this._inflate)this._inflate.close(),this._inflate=null;if(this._deflate){let A=this._deflate[Gb];if(this._deflate.close(),this._deflate=null,A)A(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(A){let Q=this._options,B=A.find((C)=>{if(Q.serverNoContextTakeover===!1&&C.server_no_context_takeover||C.server_max_window_bits&&(Q.serverMaxWindowBits===!1||typeof Q.serverMaxWindowBits==="number"&&Q.serverMaxWindowBits>C.server_max_window_bits)||typeof Q.clientMaxWindowBits==="number"&&!C.client_max_window_bits)return!1;return!0});if(!B)throw new Error("None of the extension offers can be accepted");if(Q.serverNoContextTakeover)B.server_no_context_takeover=!0;if(Q.clientNoContextTakeover)B.client_no_context_takeover=!0;if(typeof Q.serverMaxWindowBits==="number")B.server_max_window_bits=Q.serverMaxWindowBits;if(typeof Q.clientMaxWindowBits==="number")B.client_max_window_bits=Q.clientMaxWindowBits;else if(B.client_max_window_bits===!0||Q.clientMaxWindowBits===!1)delete B.client_max_window_bits;return B}acceptAsClient(A){let Q=A[0];if(this._options.clientNoContextTakeover===!1&&Q.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!Q.client_max_window_bits){if(typeof this._options.clientMaxWindowBits==="number")Q.client_max_window_bits=this._options.clientMaxWindowBits}else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits==="number"&&Q.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return Q}normalizeParams(A){return A.forEach((Q)=>{Object.keys(Q).forEach((B)=>{let C=Q[B];if(C.length>1)throw new Error(`Parameter "${B}" must have only a single value`);if(C=C[0],B==="client_max_window_bits"){if(C!==!0){let E=+C;if(!Number.isInteger(E)||E<8||E>15)throw new TypeError(`Invalid value for parameter "${B}": ${C}`);C=E}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${B}": ${C}`)}else if(B==="server_max_window_bits"){let E=+C;if(!Number.isInteger(E)||E<8||E>15)throw new TypeError(`Invalid value for parameter "${B}": ${C}`);C=E}else if(B==="client_no_context_takeover"||B==="server_no_context_takeover"){if(C!==!0)throw new TypeError(`Invalid value for parameter "${B}": ${C}`)}else throw new Error(`Unknown parameter "${B}"`);Q[B]=C})}),A}decompress(A,Q,B){cAA.add((C)=>{this._decompress(A,Q,(E,I)=>{C(),B(E,I)})})}compress(A,Q,B){cAA.add((C)=>{this._compress(A,Q,(E,I)=>{C(),B(E,I)})})}_decompress(A,Q,B){let C=this._isServer?"client":"server";if(!this._inflate){let E=`${C}_max_window_bits`,I=typeof this.params[E]!=="number"?Yb.Z_DEFAULT_WINDOWBITS:this.params[E];this._inflate=Yb.createInflateRaw({...this._options.zlibInflateOptions,windowBits:I}),this._inflate[iAA]=this,this._inflate[XF]=0,this._inflate[XV]=[],this._inflate.on("error",kxB),this._inflate.on("data",gRQ)}if(this._inflate[Gb]=B,this._inflate.write(A),Q)this._inflate.write(vxB);this._inflate.flush(()=>{let E=this._inflate[lAA];if(E){this._inflate.close(),this._inflate=null,B(E);return}let I=jRQ.concat(this._inflate[XV],this._inflate[XF]);if(this._inflate._readableState.endEmitted)this._inflate.close(),this._inflate=null;else if(this._inflate[XF]=0,this._inflate[XV]=[],Q&&this.params[`${C}_no_context_takeover`])this._inflate.reset();B(null,I)})}_compress(A,Q,B){let C=this._isServer?"server":"client";if(!this._deflate){let E=`${C}_max_window_bits`,I=typeof this.params[E]!=="number"?Yb.Z_DEFAULT_WINDOWBITS:this.params[E];this._deflate=Yb.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:I}),this._deflate[XF]=0,this._deflate[XV]=[],this._deflate.on("data",yxB)}this._deflate[Gb]=B,this._deflate.write(A),this._deflate.flush(Yb.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let E=jRQ.concat(this._deflate[XV],this._deflate[XF]);if(Q)E=new gxB(E.buffer,E.byteOffset,E.length-4);if(this._deflate[Gb]=null,this._deflate[XF]=0,this._deflate[XV]=[],Q&&this.params[`${C}_no_context_takeover`])this._deflate.reset();B(null,E)})}}vRQ.exports=SRQ;function yxB(A){this[XV].push(A),this[XF]+=A.length}function gRQ(A){if(this[XF]+=A.length,this[iAA]._maxPayload<1||this[XF]<=this[iAA]._maxPayload){this[XV].push(A);return}this[lAA]=new RangeError("Max payload size exceeded"),this[lAA].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[lAA][xRQ]=1009,this.removeListener("data",gRQ),this.reset()}function kxB(A){this[iAA]._inflate=null,A[xRQ]=1007,this[Gb](A)}});var Bq=m((kx0,nAA)=>{var{isUtf8:yRQ}=a("buffer"),{hasBlob:bxB}=ZF(),hxB=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function mxB(A){return A>=1000&&A<=1014&&A!==1004&&A!==1005&&A!==1006||A>=3000&&A<=4999}function LMA(A){let Q=A.length,B=0;while(B<Q)if((A[B]&128)===0)B++;else if((A[B]&224)===192){if(B+1===Q||(A[B+1]&192)!==128||(A[B]&254)===192)return!1;B+=2}else if((A[B]&240)===224){if(B+2>=Q||(A[B+1]&192)!==128||(A[B+2]&192)!==128||A[B]===224&&(A[B+1]&224)===128||A[B]===237&&(A[B+1]&224)===160)return!1;B+=3}else if((A[B]&248)===240){if(B+3>=Q||(A[B+1]&192)!==128||(A[B+2]&192)!==128||(A[B+3]&192)!==128||A[B]===240&&(A[B+1]&240)===128||A[B]===244&&A[B+1]>143||A[B]>244)return!1;B+=4}else return!1;return!0}function fxB(A){return bxB&&typeof A==="object"&&typeof A.arrayBuffer==="function"&&typeof A.type==="string"&&typeof A.stream==="function"&&(A[Symbol.toStringTag]==="Blob"||A[Symbol.toStringTag]==="File")}nAA.exports={isBlob:fxB,isValidStatusCode:mxB,isValidUTF8:LMA,tokenChars:hxB};if(yRQ)nAA.exports.isValidUTF8=function(A){return A.length<24?LMA(A):yRQ(A)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let A=(()=>{throw new Error("Cannot require module "+"utf-8-validate");})();nAA.exports.isValidUTF8=function(Q){return Q.length<32?LMA(Q):A(Q)}}catch(A){}});var RMA=m((bx0,fRQ)=>{var{Writable:dxB}=a("stream"),kRQ=Jb(),{BINARY_TYPES:uxB,EMPTY_BUFFER:bRQ,kStatusCode:pxB,kWebSocket:cxB}=ZF(),{concat:OMA,toArrayBuffer:lxB,unmask:ixB}=Ib(),{isValidStatusCode:nxB,isValidUTF8:hRQ}=Bq(),oAA=Buffer[Symbol.species];class mRQ extends dxB{constructor(A={}){super();this._allowSynchronousEvents=A.allowSynchronousEvents!==void 0?A.allowSynchronousEvents:!0,this._binaryType=A.binaryType||uxB[0],this._extensions=A.extensions||{},this._isServer=!!A.isServer,this._maxPayload=A.maxPayload|0,this._skipUTF8Validation=!!A.skipUTF8Validation,this[cxB]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=0}_write(A,Q,B){if(this._opcode===8&&this._state==0)return B();this._bufferedBytes+=A.length,this._buffers.push(A),this.startLoop(B)}consume(A){if(this._bufferedBytes-=A,A===this._buffers[0].length)return this._buffers.shift();if(A<this._buffers[0].length){let B=this._buffers[0];return this._buffers[0]=new oAA(B.buffer,B.byteOffset+A,B.length-A),new oAA(B.buffer,B.byteOffset,A)}let Q=Buffer.allocUnsafe(A);do{let B=this._buffers[0],C=Q.length-A;if(A>=B.length)Q.set(this._buffers.shift(),C);else Q.set(new Uint8Array(B.buffer,B.byteOffset,A),C),this._buffers[0]=new oAA(B.buffer,B.byteOffset+A,B.length-A);A-=B.length}while(A>0);return Q}startLoop(A){this._loop=!0;do switch(this._state){case 0:this.getInfo(A);break;case 1:this.getPayloadLength16(A);break;case 2:this.getPayloadLength64(A);break;case 3:this.getMask();break;case 4:this.getData(A);break;case 5:case 6:this._loop=!1;return}while(this._loop);if(!this._errored)A()}getInfo(A){if(this._bufferedBytes<2){this._loop=!1;return}let Q=this.consume(2);if((Q[0]&48)!==0){let C=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");A(C);return}let B=(Q[0]&64)===64;if(B&&!this._extensions[kRQ.extensionName]){let C=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");A(C);return}if(this._fin=(Q[0]&128)===128,this._opcode=Q[0]&15,this._payloadLength=Q[1]&127,this._opcode===0){if(B){let C=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");A(C);return}if(!this._fragmented){let C=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");A(C);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let C=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");A(C);return}this._compressed=B}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let C=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");A(C);return}if(B){let C=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");A(C);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let C=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");A(C);return}}else{let C=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");A(C);return}if(!this._fin&&!this._fragmented)this._fragmented=this._opcode;if(this._masked=(Q[1]&128)===128,this._isServer){if(!this._masked){let C=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");A(C);return}}else if(this._masked){let C=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");A(C);return}if(this._payloadLength===126)this._state=1;else if(this._payloadLength===127)this._state=2;else this.haveLength(A)}getPayloadLength16(A){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(A)}getPayloadLength64(A){if(this._bufferedBytes<8){this._loop=!1;return}let Q=this.consume(8),B=Q.readUInt32BE(0);if(B>Math.pow(2,21)-1){let C=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");A(C);return}this._payloadLength=B*Math.pow(2,32)+Q.readUInt32BE(4),this.haveLength(A)}haveLength(A){if(this._payloadLength&&this._opcode<8){if(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0){let Q=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");A(Q);return}}if(this._masked)this._state=3;else this._state=4}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=4}getData(A){let Q=bRQ;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}if(Q=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!==0)ixB(Q,this._mask)}if(this._opcode>7){this.controlMessage(Q,A);return}if(this._compressed){this._state=5,this.decompress(Q,A);return}if(Q.length)this._messageLength=this._totalPayloadLength,this._fragments.push(Q);this.dataMessage(A)}decompress(A,Q){this._extensions[kRQ.extensionName].decompress(A,this._fin,(C,E)=>{if(C)return Q(C);if(E.length){if(this._messageLength+=E.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let I=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");Q(I);return}this._fragments.push(E)}if(this.dataMessage(Q),this._state===0)this.startLoop(Q)})}dataMessage(A){if(!this._fin){this._state=0;return}let Q=this._messageLength,B=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let C;if(this._binaryType==="nodebuffer")C=OMA(B,Q);else if(this._binaryType==="arraybuffer")C=lxB(OMA(B,Q));else if(this._binaryType==="blob")C=new Blob(B);else C=B;if(this._allowSynchronousEvents)this.emit("message",C,!0),this._state=0;else this._state=6,setImmediate(()=>{this.emit("message",C,!0),this._state=0,this.startLoop(A)})}else{let C=OMA(B,Q);if(!this._skipUTF8Validation&&!hRQ(C)){let E=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");A(E);return}if(this._state===5||this._allowSynchronousEvents)this.emit("message",C,!1),this._state=0;else this._state=6,setImmediate(()=>{this.emit("message",C,!1),this._state=0,this.startLoop(A)})}}controlMessage(A,Q){if(this._opcode===8){if(A.length===0)this._loop=!1,this.emit("conclude",1005,bRQ),this.end();else{let B=A.readUInt16BE(0);if(!nxB(B)){let E=this.createError(RangeError,`invalid status code ${B}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");Q(E);return}let C=new oAA(A.buffer,A.byteOffset+2,A.length-2);if(!this._skipUTF8Validation&&!hRQ(C)){let E=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");Q(E);return}this._loop=!1,this.emit("conclude",B,C),this.end()}this._state=0;return}if(this._allowSynchronousEvents)this.emit(this._opcode===9?"ping":"pong",A),this._state=0;else this._state=6,setImmediate(()=>{this.emit(this._opcode===9?"ping":"pong",A),this._state=0,this.startLoop(Q)})}createError(A,Q,B,C,E){this._loop=!1,this._errored=!0;let I=new A(B?`Invalid WebSocket frame: ${Q}`:Q);return Error.captureStackTrace(I,this.createError),I.code=E,I[pxB]=C,I}}fRQ.exports=mRQ});var qMA=m((mx0,pRQ)=>{var{Duplex:hx0}=a("stream"),{randomFillSync:oxB}=a("crypto"),dRQ=Jb(),{EMPTY_BUFFER:rxB,kWebSocket:axB,NOOP:sxB}=ZF(),{isBlob:Cq,isValidStatusCode:txB}=Bq(),{mask:uRQ,toBuffer:M$}=Ib(),H8=Symbol("kByteLength"),exB=Buffer.alloc(4),$$,Eq=8192,r9=0,ASB=1,QSB=2;class FV{constructor(A,Q,B){if(this._extensions=Q||{},B)this._generateMask=B,this._maskBuffer=Buffer.alloc(4);this._socket=A,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=r9,this.onerror=sxB,this[axB]=void 0}static frame(A,Q){let B,C=!1,E=2,I=!1;if(Q.mask){if(B=Q.maskBuffer||exB,Q.generateMask)Q.generateMask(B);else{if(Eq===8192){if($$===void 0)$$=Buffer.alloc(8192);oxB($$,0,8192),Eq=0}B[0]=$$[Eq++],B[1]=$$[Eq++],B[2]=$$[Eq++],B[3]=$$[Eq++]}I=(B[0]|B[1]|B[2]|B[3])===0,E=6}let Y;if(typeof A==="string")if((!Q.mask||I)&&Q[H8]!==void 0)Y=Q[H8];else A=Buffer.from(A),Y=A.length;else Y=A.length,C=Q.mask&&Q.readOnly&&!I;let G=Y;if(Y>=65536)E+=8,G=127;else if(Y>125)E+=2,G=126;let J=Buffer.allocUnsafe(C?Y+E:E);if(J[0]=Q.fin?Q.opcode|128:Q.opcode,Q.rsv1)J[0]|=64;if(J[1]=G,G===126)J.writeUInt16BE(Y,2);else if(G===127)J[2]=J[3]=0,J.writeUIntBE(Y,4,6);if(!Q.mask)return[J,A];if(J[1]|=128,J[E-4]=B[0],J[E-3]=B[1],J[E-2]=B[2],J[E-1]=B[3],I)return[J,A];if(C)return uRQ(A,B,J,E,Y),[J];return uRQ(A,B,A,0,Y),[J,A]}close(A,Q,B,C){let E;if(A===void 0)E=rxB;else if(typeof A!=="number"||!txB(A))throw new TypeError("First argument must be a valid error code number");else if(Q===void 0||!Q.length)E=Buffer.allocUnsafe(2),E.writeUInt16BE(A,0);else{let Y=Buffer.byteLength(Q);if(Y>123)throw new RangeError("The message must not be greater than 123 bytes");if(E=Buffer.allocUnsafe(2+Y),E.writeUInt16BE(A,0),typeof Q==="string")E.write(Q,2);else E.set(Q,2)}let I={[H8]:E.length,fin:!0,generateMask:this._generateMask,mask:B,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};if(this._state!==r9)this.enqueue([this.dispatch,E,!1,I,C]);else this.sendFrame(FV.frame(E,I),C)}ping(A,Q,B){let C,E;if(typeof A==="string")C=Buffer.byteLength(A),E=!1;else if(Cq(A))C=A.size,E=!1;else A=M$(A),C=A.length,E=M$.readOnly;if(C>125)throw new RangeError("The data size must not be greater than 125 bytes");let I={[H8]:C,fin:!0,generateMask:this._generateMask,mask:Q,maskBuffer:this._maskBuffer,opcode:9,readOnly:E,rsv1:!1};if(Cq(A))if(this._state!==r9)this.enqueue([this.getBlobData,A,!1,I,B]);else this.getBlobData(A,!1,I,B);else if(this._state!==r9)this.enqueue([this.dispatch,A,!1,I,B]);else this.sendFrame(FV.frame(A,I),B)}pong(A,Q,B){let C,E;if(typeof A==="string")C=Buffer.byteLength(A),E=!1;else if(Cq(A))C=A.size,E=!1;else A=M$(A),C=A.length,E=M$.readOnly;if(C>125)throw new RangeError("The data size must not be greater than 125 bytes");let I={[H8]:C,fin:!0,generateMask:this._generateMask,mask:Q,maskBuffer:this._maskBuffer,opcode:10,readOnly:E,rsv1:!1};if(Cq(A))if(this._state!==r9)this.enqueue([this.getBlobData,A,!1,I,B]);else this.getBlobData(A,!1,I,B);else if(this._state!==r9)this.enqueue([this.dispatch,A,!1,I,B]);else this.sendFrame(FV.frame(A,I),B)}send(A,Q,B){let C=this._extensions[dRQ.extensionName],E=Q.binary?2:1,I=Q.compress,Y,G;if(typeof A==="string")Y=Buffer.byteLength(A),G=!1;else if(Cq(A))Y=A.size,G=!1;else A=M$(A),Y=A.length,G=M$.readOnly;if(this._firstFragment){if(this._firstFragment=!1,I&&C&&C.params[C._isServer?"server_no_context_takeover":"client_no_context_takeover"])I=Y>=C._threshold;this._compress=I}else I=!1,E=0;if(Q.fin)this._firstFragment=!0;let J={[H8]:Y,fin:Q.fin,generateMask:this._generateMask,mask:Q.mask,maskBuffer:this._maskBuffer,opcode:E,readOnly:G,rsv1:I};if(Cq(A))if(this._state!==r9)this.enqueue([this.getBlobData,A,this._compress,J,B]);else this.getBlobData(A,this._compress,J,B);else if(this._state!==r9)this.enqueue([this.dispatch,A,this._compress,J,B]);else this.dispatch(A,this._compress,J,B)}getBlobData(A,Q,B,C){this._bufferedBytes+=B[H8],this._state=QSB,A.arrayBuffer().then((E)=>{if(this._socket.destroyed){let Y=new Error("The socket was closed while the blob was being read");process.nextTick(TMA,this,Y,C);return}this._bufferedBytes-=B[H8];let I=M$(E);if(!Q)this._state=r9,this.sendFrame(FV.frame(I,B),C),this.dequeue();else this.dispatch(I,Q,B,C)}).catch((E)=>{process.nextTick(BSB,this,E,C)})}dispatch(A,Q,B,C){if(!Q){this.sendFrame(FV.frame(A,B),C);return}let E=this._extensions[dRQ.extensionName];this._bufferedBytes+=B[H8],this._state=ASB,E.compress(A,B.fin,(I,Y)=>{if(this._socket.destroyed){let G=new Error("The socket was closed while data was being compressed");TMA(this,G,C);return}this._bufferedBytes-=B[H8],this._state=r9,B.readOnly=!1,this.sendFrame(FV.frame(Y,B),C),this.dequeue()})}dequeue(){while(this._state===r9&&this._queue.length){let A=this._queue.shift();this._bufferedBytes-=A[3][H8],Reflect.apply(A[0],this,A.slice(1))}}enqueue(A){this._bufferedBytes+=A[3][H8],this._queue.push(A)}sendFrame(A,Q){if(A.length===2)this._socket.cork(),this._socket.write(A[0]),this._socket.write(A[1],Q),this._socket.uncork();else this._socket.write(A[0],Q)}}pRQ.exports=FV;function TMA(A,Q,B){if(typeof B==="function")B(Q);for(let C=0;C<A._queue.length;C++){let E=A._queue[C],I=E[E.length-1];if(typeof I==="function")I(Q)}}function BSB(A,Q,B){TMA(A,Q,B),A.onerror(Q)}});var tRQ=m((fx0,sRQ)=>{var{kForOnEventAttribute:Db,kListener:PMA}=ZF(),cRQ=Symbol("kCode"),lRQ=Symbol("kData"),iRQ=Symbol("kError"),nRQ=Symbol("kMessage"),oRQ=Symbol("kReason"),Iq=Symbol("kTarget"),rRQ=Symbol("kType"),aRQ=Symbol("kWasClean");class HV{constructor(A){this[Iq]=null,this[rRQ]=A}get target(){return this[Iq]}get type(){return this[rRQ]}}Object.defineProperty(HV.prototype,"target",{enumerable:!0});Object.defineProperty(HV.prototype,"type",{enumerable:!0});class Yq extends HV{constructor(A,Q={}){super(A);this[cRQ]=Q.code===void 0?0:Q.code,this[oRQ]=Q.reason===void 0?"":Q.reason,this[aRQ]=Q.wasClean===void 0?!1:Q.wasClean}get code(){return this[cRQ]}get reason(){return this[oRQ]}get wasClean(){return this[aRQ]}}Object.defineProperty(Yq.prototype,"code",{enumerable:!0});Object.defineProperty(Yq.prototype,"reason",{enumerable:!0});Object.defineProperty(Yq.prototype,"wasClean",{enumerable:!0});class Ub extends HV{constructor(A,Q={}){super(A);this[iRQ]=Q.error===void 0?null:Q.error,this[nRQ]=Q.message===void 0?"":Q.message}get error(){return this[iRQ]}get message(){return this[nRQ]}}Object.defineProperty(Ub.prototype,"error",{enumerable:!0});Object.defineProperty(Ub.prototype,"message",{enumerable:!0});class aAA extends HV{constructor(A,Q={}){super(A);this[lRQ]=Q.data===void 0?null:Q.data}get data(){return this[lRQ]}}Object.defineProperty(aAA.prototype,"data",{enumerable:!0});var CSB={addEventListener(A,Q,B={}){for(let E of this.listeners(A))if(!B[Db]&&E[PMA]===Q&&!E[Db])return;let C;if(A==="message")C=function E(I,Y){let G=new aAA("message",{data:Y?I:I.toString()});G[Iq]=this,rAA(Q,this,G)};else if(A==="close")C=function E(I,Y){let G=new Yq("close",{code:I,reason:Y.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});G[Iq]=this,rAA(Q,this,G)};else if(A==="error")C=function E(I){let Y=new Ub("error",{error:I,message:I.message});Y[Iq]=this,rAA(Q,this,Y)};else if(A==="open")C=function E(){let I=new HV("open");I[Iq]=this,rAA(Q,this,I)};else return;if(C[Db]=!!B[Db],C[PMA]=Q,B.once)this.once(A,C);else this.on(A,C)},removeEventListener(A,Q){for(let B of this.listeners(A))if(B[PMA]===Q&&!B[Db]){this.removeListener(A,B);break}}};sRQ.exports={CloseEvent:Yq,ErrorEvent:Ub,Event:HV,EventTarget:CSB,MessageEvent:aAA};function rAA(A,Q,B){if(typeof A==="object"&&A.handleEvent)A.handleEvent.call(A,B);else A.call(Q,B)}});var _MA=m((dx0,eRQ)=>{var{tokenChars:Nb}=Bq();function Z1(A,Q,B){if(A[Q]===void 0)A[Q]=[B];else A[Q].push(B)}function ESB(A){let Q=Object.create(null),B=Object.create(null),C=!1,E=!1,I=!1,Y,G,J=-1,D=-1,U=-1,N=0;for(;N<A.length;N++)if(D=A.charCodeAt(N),Y===void 0)if(U===-1&&Nb[D]===1){if(J===-1)J=N}else if(N!==0&&(D===32||D===9)){if(U===-1&&J!==-1)U=N}else if(D===59||D===44){if(J===-1)throw new SyntaxError(`Unexpected character at index ${N}`);if(U===-1)U=N;let X=A.slice(J,U);if(D===44)Z1(Q,X,B),B=Object.create(null);else Y=X;J=U=-1}else throw new SyntaxError(`Unexpected character at index ${N}`);else if(G===void 0)if(U===-1&&Nb[D]===1){if(J===-1)J=N}else if(D===32||D===9){if(U===-1&&J!==-1)U=N}else if(D===59||D===44){if(J===-1)throw new SyntaxError(`Unexpected character at index ${N}`);if(U===-1)U=N;if(Z1(B,A.slice(J,U),!0),D===44)Z1(Q,Y,B),B=Object.create(null),Y=void 0;J=U=-1}else if(D===61&&J!==-1&&U===-1)G=A.slice(J,N),J=U=-1;else throw new SyntaxError(`Unexpected character at index ${N}`);else if(E){if(Nb[D]!==1)throw new SyntaxError(`Unexpected character at index ${N}`);if(J===-1)J=N;else if(!C)C=!0;E=!1}else if(I)if(Nb[D]===1){if(J===-1)J=N}else if(D===34&&J!==-1)I=!1,U=N;else if(D===92)E=!0;else throw new SyntaxError(`Unexpected character at index ${N}`);else if(D===34&&A.charCodeAt(N-1)===61)I=!0;else if(U===-1&&Nb[D]===1){if(J===-1)J=N}else if(J!==-1&&(D===32||D===9)){if(U===-1)U=N}else if(D===59||D===44){if(J===-1)throw new SyntaxError(`Unexpected character at index ${N}`);if(U===-1)U=N;let X=A.slice(J,U);if(C)X=X.replace(/\\/g,""),C=!1;if(Z1(B,G,X),D===44)Z1(Q,Y,B),B=Object.create(null),Y=void 0;G=void 0,J=U=-1}else throw new SyntaxError(`Unexpected character at index ${N}`);if(J===-1||I||D===32||D===9)throw new SyntaxError("Unexpected end of input");if(U===-1)U=N;let Z=A.slice(J,U);if(Y===void 0)Z1(Q,Z,B);else{if(G===void 0)Z1(B,Z,!0);else if(C)Z1(B,G,Z.replace(/\\/g,""));else Z1(B,G,Z);Z1(Q,Y,B)}return Q}function ISB(A){return Object.keys(A).map((Q)=>{let B=A[Q];if(!Array.isArray(B))B=[B];return B.map((C)=>{return[Q].concat(Object.keys(C).map((E)=>{let I=C[E];if(!Array.isArray(I))I=[I];return I.map((Y)=>Y===!0?E:`${E}=${Y}`).join("; ")})).join("; ")}).join(", ")}).join(", ")}eRQ.exports={format:ISB,parse:ESB}});var AQA=m((cx0,NTQ)=>{var YSB=a("events"),GSB=a("https"),JSB=a("http"),BTQ=a("net"),DSB=a("tls"),{randomBytes:USB,createHash:NSB}=a("crypto"),{Duplex:ux0,Readable:px0}=a("stream"),{URL:jMA}=a("url"),WV=Jb(),ZSB=RMA(),XSB=qMA(),{isBlob:FSB}=Bq(),{BINARY_TYPES:ATQ,EMPTY_BUFFER:sAA,GUID:HSB,kForOnEventAttribute:xMA,kListener:WSB,kStatusCode:KSB,kWebSocket:ZJ,NOOP:CTQ}=ZF(),{EventTarget:{addEventListener:VSB,removeEventListener:MSB}}=tRQ(),{format:$SB,parse:zSB}=_MA(),{toBuffer:wSB}=Ib(),ETQ=Symbol("kAborted"),SMA=[8,13],FF=["CONNECTING","OPEN","CLOSING","CLOSED"],LSB=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class C0 extends YSB{constructor(A,Q,B){super();if(this._binaryType=ATQ[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=sAA,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=C0.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,A!==null){if(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,Q===void 0)Q=[];else if(!Array.isArray(Q))if(typeof Q==="object"&&Q!==null)B=Q,Q=[];else Q=[Q];ITQ(this,A,Q,B)}else this._autoPong=B.autoPong,this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(A){if(!ATQ.includes(A))return;if(this._binaryType=A,this._receiver)this._receiver._binaryType=A}get bufferedAmount(){if(!this._socket)return this._bufferedAmount;return this._socket._writableState.length+this._sender._bufferedBytes}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(A,Q,B){let C=new ZSB({allowSynchronousEvents:B.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:B.maxPayload,skipUTF8Validation:B.skipUTF8Validation}),E=new XSB(A,this._extensions,B.generateMask);if(this._receiver=C,this._sender=E,this._socket=A,C[ZJ]=this,E[ZJ]=this,A[ZJ]=this,C.on("conclude",TSB),C.on("drain",qSB),C.on("error",PSB),C.on("message",_SB),C.on("ping",jSB),C.on("pong",xSB),E.onerror=SSB,A.setTimeout)A.setTimeout(0);if(A.setNoDelay)A.setNoDelay();if(Q.length>0)A.unshift(Q);A.on("close",JTQ),A.on("data",eAA),A.on("end",DTQ),A.on("error",UTQ),this._readyState=C0.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=C0.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}if(this._extensions[WV.extensionName])this._extensions[WV.extensionName].cleanup();this._receiver.removeAllListeners(),this._readyState=C0.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(A,Q){if(this.readyState===C0.CLOSED)return;if(this.readyState===C0.CONNECTING){VN(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===C0.CLOSING){if(this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted))this._socket.end();return}this._readyState=C0.CLOSING,this._sender.close(A,Q,!this._isServer,(B)=>{if(B)return;if(this._closeFrameSent=!0,this._closeFrameReceived||this._receiver._writableState.errorEmitted)this._socket.end()}),GTQ(this)}pause(){if(this.readyState===C0.CONNECTING||this.readyState===C0.CLOSED)return;this._paused=!0,this._socket.pause()}ping(A,Q,B){if(this.readyState===C0.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof A==="function")B=A,A=Q=void 0;else if(typeof Q==="function")B=Q,Q=void 0;if(typeof A==="number")A=A.toString();if(this.readyState!==C0.OPEN){gMA(this,A,B);return}if(Q===void 0)Q=!this._isServer;this._sender.ping(A||sAA,Q,B)}pong(A,Q,B){if(this.readyState===C0.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof A==="function")B=A,A=Q=void 0;else if(typeof Q==="function")B=Q,Q=void 0;if(typeof A==="number")A=A.toString();if(this.readyState!==C0.OPEN){gMA(this,A,B);return}if(Q===void 0)Q=!this._isServer;this._sender.pong(A||sAA,Q,B)}resume(){if(this.readyState===C0.CONNECTING||this.readyState===C0.CLOSED)return;if(this._paused=!1,!this._receiver._writableState.needDrain)this._socket.resume()}send(A,Q,B){if(this.readyState===C0.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof Q==="function")B=Q,Q={};if(typeof A==="number")A=A.toString();if(this.readyState!==C0.OPEN){gMA(this,A,B);return}let C={binary:typeof A!=="string",mask:!this._isServer,compress:!0,fin:!0,...Q};if(!this._extensions[WV.extensionName])C.compress=!1;this._sender.send(A||sAA,C,B)}terminate(){if(this.readyState===C0.CLOSED)return;if(this.readyState===C0.CONNECTING){VN(this,this._req,"WebSocket was closed before the connection was established");return}if(this._socket)this._readyState=C0.CLOSING,this._socket.destroy()}}Object.defineProperty(C0,"CONNECTING",{enumerable:!0,value:FF.indexOf("CONNECTING")});Object.defineProperty(C0.prototype,"CONNECTING",{enumerable:!0,value:FF.indexOf("CONNECTING")});Object.defineProperty(C0,"OPEN",{enumerable:!0,value:FF.indexOf("OPEN")});Object.defineProperty(C0.prototype,"OPEN",{enumerable:!0,value:FF.indexOf("OPEN")});Object.defineProperty(C0,"CLOSING",{enumerable:!0,value:FF.indexOf("CLOSING")});Object.defineProperty(C0.prototype,"CLOSING",{enumerable:!0,value:FF.indexOf("CLOSING")});Object.defineProperty(C0,"CLOSED",{enumerable:!0,value:FF.indexOf("CLOSED")});Object.defineProperty(C0.prototype,"CLOSED",{enumerable:!0,value:FF.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach((A)=>{Object.defineProperty(C0.prototype,A,{enumerable:!0})});["open","error","close","message"].forEach((A)=>{Object.defineProperty(C0.prototype,`on${A}`,{enumerable:!0,get(){for(let Q of this.listeners(A))if(Q[xMA])return Q[WSB];return null},set(Q){for(let B of this.listeners(A))if(B[xMA]){this.removeListener(A,B);break}if(typeof Q!=="function")return;this.addEventListener(A,Q,{[xMA]:!0})}})});C0.prototype.addEventListener=VSB;C0.prototype.removeEventListener=MSB;NTQ.exports=C0;function ITQ(A,Q,B,C){let E={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:SMA[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...C,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(A._autoPong=E.autoPong,!SMA.includes(E.protocolVersion))throw new RangeError(`Unsupported protocol version: ${E.protocolVersion} (supported versions: ${SMA.join(", ")})`);let I;if(Q instanceof jMA)I=Q;else try{I=new jMA(Q)}catch(K){throw new SyntaxError(`Invalid URL: ${Q}`)}if(I.protocol==="http:")I.protocol="ws:";else if(I.protocol==="https:")I.protocol="wss:";A._url=I.href;let Y=I.protocol==="wss:",G=I.protocol==="ws+unix:",J;if(I.protocol!=="ws:"&&!Y&&!G)J=`The URL's protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"`;else if(G&&!I.pathname)J="The URL's pathname is empty";else if(I.hash)J="The URL contains a fragment identifier";if(J){let K=new SyntaxError(J);if(A._redirects===0)throw K;else{tAA(A,K);return}}let D=Y?443:80,U=USB(16).toString("base64"),N=Y?GSB.request:JSB.request,Z=new Set,X;if(E.createConnection=E.createConnection||(Y?RSB:OSB),E.defaultPort=E.defaultPort||D,E.port=I.port||D,E.host=I.hostname.startsWith("[")?I.hostname.slice(1,-1):I.hostname,E.headers={...E.headers,"Sec-WebSocket-Version":E.protocolVersion,"Sec-WebSocket-Key":U,Connection:"Upgrade",Upgrade:"websocket"},E.path=I.pathname+I.search,E.timeout=E.handshakeTimeout,E.perMessageDeflate)X=new WV(E.perMessageDeflate!==!0?E.perMessageDeflate:{},!1,E.maxPayload),E.headers["Sec-WebSocket-Extensions"]=$SB({[WV.extensionName]:X.offer()});if(B.length){for(let K of B){if(typeof K!=="string"||!LSB.test(K)||Z.has(K))throw new SyntaxError("An invalid or duplicated subprotocol was specified");Z.add(K)}E.headers["Sec-WebSocket-Protocol"]=B.join(",")}if(E.origin)if(E.protocolVersion<13)E.headers["Sec-WebSocket-Origin"]=E.origin;else E.headers.Origin=E.origin;if(I.username||I.password)E.auth=`${I.username}:${I.password}`;if(G){let K=E.path.split(":");E.socketPath=K[0],E.path=K[1]}let W;if(E.followRedirects){if(A._redirects===0){A._originalIpc=G,A._originalSecure=Y,A._originalHostOrSocketPath=G?E.socketPath:I.host;let K=C&&C.headers;if(C={...C,headers:{}},K)for(let[V,M]of Object.entries(K))C.headers[V.toLowerCase()]=M}else if(A.listenerCount("redirect")===0){let K=G?A._originalIpc?E.socketPath===A._originalHostOrSocketPath:!1:A._originalIpc?!1:I.host===A._originalHostOrSocketPath;if(!K||A._originalSecure&&!Y){if(delete E.headers.authorization,delete E.headers.cookie,!K)delete E.headers.host;E.auth=void 0}}if(E.auth&&!C.headers.authorization)C.headers.authorization="Basic "+Buffer.from(E.auth).toString("base64");if(W=A._req=N(E),A._redirects)A.emit("redirect",A.url,W)}else W=A._req=N(E);if(E.timeout)W.on("timeout",()=>{VN(A,W,"Opening handshake has timed out")});if(W.on("error",(K)=>{if(W===null||W[ETQ])return;W=A._req=null,tAA(A,K)}),W.on("response",(K)=>{let V=K.headers.location,M=K.statusCode;if(V&&E.followRedirects&&M>=300&&M<400){if(++A._redirects>E.maxRedirects){VN(A,W,"Maximum redirects exceeded");return}W.abort();let z;try{z=new jMA(V,Q)}catch(L){let O=new SyntaxError(`Invalid URL: ${V}`);tAA(A,O);return}ITQ(A,z,B,C)}else if(!A.emit("unexpected-response",W,K))VN(A,W,`Unexpected server response: ${K.statusCode}`)}),W.on("upgrade",(K,V,M)=>{if(A.emit("upgrade",K),A.readyState!==C0.CONNECTING)return;W=A._req=null;let z=K.headers.upgrade;if(z===void 0||z.toLowerCase()!=="websocket"){VN(A,V,"Invalid Upgrade header");return}let L=NSB("sha1").update(U+HSB).digest("base64");if(K.headers["sec-websocket-accept"]!==L){VN(A,V,"Invalid Sec-WebSocket-Accept header");return}let O=K.headers["sec-websocket-protocol"],R;if(O!==void 0){if(!Z.size)R="Server sent a subprotocol but none was requested";else if(!Z.has(O))R="Server sent an invalid subprotocol"}else if(Z.size)R="Server sent no subprotocol";if(R){VN(A,V,R);return}if(O)A._protocol=O;let _=K.headers["sec-websocket-extensions"];if(_!==void 0){if(!X){VN(A,V,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let S;try{S=zSB(_)}catch(y){VN(A,V,"Invalid Sec-WebSocket-Extensions header");return}let q=Object.keys(S);if(q.length!==1||q[0]!==WV.extensionName){VN(A,V,"Server indicated an extension that was not requested");return}try{X.accept(S[WV.extensionName])}catch(y){VN(A,V,"Invalid Sec-WebSocket-Extensions header");return}A._extensions[WV.extensionName]=X}A.setSocket(V,M,{allowSynchronousEvents:E.allowSynchronousEvents,generateMask:E.generateMask,maxPayload:E.maxPayload,skipUTF8Validation:E.skipUTF8Validation})}),E.finishRequest)E.finishRequest(W,A);else W.end()}function tAA(A,Q){A._readyState=C0.CLOSING,A._errorEmitted=!0,A.emit("error",Q),A.emitClose()}function OSB(A){return A.path=A.socketPath,BTQ.connect(A)}function RSB(A){if(A.path=void 0,!A.servername&&A.servername!=="")A.servername=BTQ.isIP(A.host)?"":A.host;return DSB.connect(A)}function VN(A,Q,B){A._readyState=C0.CLOSING;let C=new Error(B);if(Error.captureStackTrace(C,VN),Q.setHeader){if(Q[ETQ]=!0,Q.abort(),Q.socket&&!Q.socket.destroyed)Q.socket.destroy();process.nextTick(tAA,A,C)}else Q.destroy(C),Q.once("error",A.emit.bind(A,"error")),Q.once("close",A.emitClose.bind(A))}function gMA(A,Q,B){if(Q){let C=FSB(Q)?Q.size:wSB(Q).length;if(A._socket)A._sender._bufferedBytes+=C;else A._bufferedAmount+=C}if(B){let C=new Error(`WebSocket is not open: readyState ${A.readyState} (${FF[A.readyState]})`);process.nextTick(B,C)}}function TSB(A,Q){let B=this[ZJ];if(B._closeFrameReceived=!0,B._closeMessage=Q,B._closeCode=A,B._socket[ZJ]===void 0)return;if(B._socket.removeListener("data",eAA),process.nextTick(YTQ,B._socket),A===1005)B.close();else B.close(A,Q)}function qSB(){let A=this[ZJ];if(!A.isPaused)A._socket.resume()}function PSB(A){let Q=this[ZJ];if(Q._socket[ZJ]!==void 0)Q._socket.removeListener("data",eAA),process.nextTick(YTQ,Q._socket),Q.close(A[KSB]);if(!Q._errorEmitted)Q._errorEmitted=!0,Q.emit("error",A)}function QTQ(){this[ZJ].emitClose()}function _SB(A,Q){this[ZJ].emit("message",A,Q)}function jSB(A){let Q=this[ZJ];if(Q._autoPong)Q.pong(A,!this._isServer,CTQ);Q.emit("ping",A)}function xSB(A){this[ZJ].emit("pong",A)}function YTQ(A){A.resume()}function SSB(A){let Q=this[ZJ];if(Q.readyState===C0.CLOSED)return;if(Q.readyState===C0.OPEN)Q._readyState=C0.CLOSING,GTQ(Q);if(this._socket.end(),!Q._errorEmitted)Q._errorEmitted=!0,Q.emit("error",A)}function GTQ(A){A._closeTimer=setTimeout(A._socket.destroy.bind(A._socket),30000)}function JTQ(){let A=this[ZJ];this.removeListener("close",JTQ),this.removeListener("data",eAA),this.removeListener("end",DTQ),A._readyState=C0.CLOSING;let Q;if(!this._readableState.endEmitted&&!A._closeFrameReceived&&!A._receiver._writableState.errorEmitted&&(Q=A._socket.read())!==null)A._receiver.write(Q);if(A._receiver.end(),this[ZJ]=void 0,clearTimeout(A._closeTimer),A._receiver._writableState.finished||A._receiver._writableState.errorEmitted)A.emitClose();else A._receiver.on("error",QTQ),A._receiver.on("finish",QTQ)}function eAA(A){if(!this[ZJ]._receiver.write(A))this.pause()}function DTQ(){let A=this[ZJ];A._readyState=C0.CLOSING,A._receiver.end(),this.end()}function UTQ(){let A=this[ZJ];if(this.removeListener("error",UTQ),this.on("error",CTQ),A)A._readyState=C0.CLOSING,this.destroy()}});var HTQ=m((ix0,FTQ)=>{var lx0=AQA(),{Duplex:gSB}=a("stream");function ZTQ(A){A.emit("close")}function vSB(){if(!this.destroyed&&this._writableState.finished)this.destroy()}function XTQ(A){if(this.removeListener("error",XTQ),this.destroy(),this.listenerCount("error")===0)this.emit("error",A)}function ySB(A,Q){let B=!0,C=new gSB({...Q,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return A.on("message",function E(I,Y){let G=!Y&&C._readableState.objectMode?I.toString():I;if(!C.push(G))A.pause()}),A.once("error",function E(I){if(C.destroyed)return;B=!1,C.destroy(I)}),A.once("close",function E(){if(C.destroyed)return;C.push(null)}),C._destroy=function(E,I){if(A.readyState===A.CLOSED){I(E),process.nextTick(ZTQ,C);return}let Y=!1;if(A.once("error",function G(J){Y=!0,I(J)}),A.once("close",function G(){if(!Y)I(E);process.nextTick(ZTQ,C)}),B)A.terminate()},C._final=function(E){if(A.readyState===A.CONNECTING){A.once("open",function I(){C._final(E)});return}if(A._socket===null)return;if(A._socket._writableState.finished){if(E(),C._readableState.endEmitted)C.destroy()}else A._socket.once("finish",function I(){E()}),A.close()},C._read=function(){if(A.isPaused)A.resume()},C._write=function(E,I,Y){if(A.readyState===A.CONNECTING){A.once("open",function G(){C._write(E,I,Y)});return}A.send(E,Y)},C.on("end",vSB),C.on("error",XTQ),C}FTQ.exports=ySB});var KTQ=m((nx0,WTQ)=>{var{tokenChars:kSB}=Bq();function bSB(A){let Q=new Set,B=-1,C=-1,E=0;for(E;E<A.length;E++){let Y=A.charCodeAt(E);if(C===-1&&kSB[Y]===1){if(B===-1)B=E}else if(E!==0&&(Y===32||Y===9)){if(C===-1&&B!==-1)C=E}else if(Y===44){if(B===-1)throw new SyntaxError(`Unexpected character at index ${E}`);if(C===-1)C=E;let G=A.slice(B,C);if(Q.has(G))throw new SyntaxError(`The "${G}" subprotocol is duplicated`);Q.add(G),B=C=-1}else throw new SyntaxError(`Unexpected character at index ${E}`)}if(B===-1||C!==-1)throw new SyntaxError("Unexpected end of input");let I=A.slice(B,E);if(Q.has(I))throw new SyntaxError(`The "${I}" subprotocol is duplicated`);return Q.add(I),Q}WTQ.exports={parse:bSB}});var wTQ=m((rx0,zTQ)=>{var hSB=a("events"),QQA=a("http"),{Duplex:ox0}=a("stream"),{createHash:mSB}=a("crypto"),VTQ=_MA(),z$=Jb(),fSB=KTQ(),dSB=AQA(),{GUID:uSB,kWebSocket:pSB}=ZF(),cSB=/^[+/0-9A-Za-z]{22}==$/;class $TQ extends hSB{constructor(A,Q){super();if(A={allowSynchronousEvents:!0,autoPong:!0,maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:dSB,...A},A.port==null&&!A.server&&!A.noServer||A.port!=null&&(A.server||A.noServer)||A.server&&A.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(A.port!=null)this._server=QQA.createServer((B,C)=>{let E=QQA.STATUS_CODES[426];C.writeHead(426,{"Content-Length":E.length,"Content-Type":"text/plain"}),C.end(E)}),this._server.listen(A.port,A.host,A.backlog,Q);else if(A.server)this._server=A.server;if(this._server){let B=this.emit.bind(this,"connection");this._removeListeners=lSB(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(C,E,I)=>{this.handleUpgrade(C,E,I,B)}})}if(A.perMessageDeflate===!0)A.perMessageDeflate={};if(A.clientTracking)this.clients=new Set,this._shouldEmitClose=!1;this.options=A,this._state=0}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');if(!this._server)return null;return this._server.address()}close(A){if(this._state===2){if(A)this.once("close",()=>{A(new Error("The server is not running"))});process.nextTick(Zb,this);return}if(A)this.once("close",A);if(this._state===1)return;if(this._state=1,this.options.noServer||this.options.server){if(this._server)this._removeListeners(),this._removeListeners=this._server=null;if(this.clients)if(!this.clients.size)process.nextTick(Zb,this);else this._shouldEmitClose=!0;else process.nextTick(Zb,this)}else{let Q=this._server;this._removeListeners(),this._removeListeners=this._server=null,Q.close(()=>{Zb(this)})}}shouldHandle(A){if(this.options.path){let Q=A.url.indexOf("?");if((Q!==-1?A.url.slice(0,Q):A.url)!==this.options.path)return!1}return!0}handleUpgrade(A,Q,B,C){Q.on("error",MTQ);let E=A.headers["sec-websocket-key"],I=A.headers.upgrade,Y=+A.headers["sec-websocket-version"];if(A.method!=="GET"){w$(this,A,Q,405,"Invalid HTTP method");return}if(I===void 0||I.toLowerCase()!=="websocket"){w$(this,A,Q,400,"Invalid Upgrade header");return}if(E===void 0||!cSB.test(E)){w$(this,A,Q,400,"Missing or invalid Sec-WebSocket-Key header");return}if(Y!==8&&Y!==13){w$(this,A,Q,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(A)){Xb(Q,400);return}let G=A.headers["sec-websocket-protocol"],J=new Set;if(G!==void 0)try{J=fSB.parse(G)}catch(N){w$(this,A,Q,400,"Invalid Sec-WebSocket-Protocol header");return}let D=A.headers["sec-websocket-extensions"],U={};if(this.options.perMessageDeflate&&D!==void 0){let N=new z$(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let Z=VTQ.parse(D);if(Z[z$.extensionName])N.accept(Z[z$.extensionName]),U[z$.extensionName]=N}catch(Z){w$(this,A,Q,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let N={origin:A.headers[`${Y===8?"sec-websocket-origin":"origin"}`],secure:!!(A.socket.authorized||A.socket.encrypted),req:A};if(this.options.verifyClient.length===2){this.options.verifyClient(N,(Z,X,W,K)=>{if(!Z)return Xb(Q,X||401,W,K);this.completeUpgrade(U,E,J,A,Q,B,C)});return}if(!this.options.verifyClient(N))return Xb(Q,401)}this.completeUpgrade(U,E,J,A,Q,B,C)}completeUpgrade(A,Q,B,C,E,I,Y){if(!E.readable||!E.writable)return E.destroy();if(E[pSB])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return Xb(E,503);let J=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${mSB("sha1").update(Q+uSB).digest("base64")}`],D=new this.options.WebSocket(null,void 0,this.options);if(B.size){let U=this.options.handleProtocols?this.options.handleProtocols(B,C):B.values().next().value;if(U)J.push(`Sec-WebSocket-Protocol: ${U}`),D._protocol=U}if(A[z$.extensionName]){let U=A[z$.extensionName].params,N=VTQ.format({[z$.extensionName]:[U]});J.push(`Sec-WebSocket-Extensions: ${N}`),D._extensions=A}if(this.emit("headers",J,C),E.write(J.concat(`\r
`).join(`\r
`)),E.removeListener("error",MTQ),D.setSocket(E,I,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients)this.clients.add(D),D.on("close",()=>{if(this.clients.delete(D),this._shouldEmitClose&&!this.clients.size)process.nextTick(Zb,this)});Y(D,C)}}zTQ.exports=$TQ;function lSB(A,Q){for(let B of Object.keys(Q))A.on(B,Q[B]);return function B(){for(let C of Object.keys(Q))A.removeListener(C,Q[C])}}function Zb(A){A._state=2,A.emit("close")}function MTQ(){this.destroy()}function Xb(A,Q,B,C){B=B||QQA.STATUS_CODES[Q],C={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(B),...C},A.once("finish",A.destroy),A.end(`HTTP/1.1 ${Q} ${QQA.STATUS_CODES[Q]}\r
`+Object.keys(C).map((E)=>`${E}: ${C[E]}`).join(`\r
`)+`\r
\r
`+B)}function w$(A,Q,B,C,E){if(A.listenerCount("wsClientError")){let I=new Error(E);Error.captureStackTrace(I,w$),A.emit("wsClientError",I,B,Q)}else Xb(B,C,E)}});var lTQ=m((DS0,cTQ)=>{function UQA(){this._types=Object.create(null),this._extensions=Object.create(null);for(let A=0;A<arguments.length;A++)this.define(arguments[A]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}UQA.prototype.define=function(A,Q){for(let B in A){let C=A[B].map(function(E){return E.toLowerCase()});B=B.toLowerCase();for(let E=0;E<C.length;E++){let I=C[E];if(I[0]==="*")continue;if(!Q&&I in this._types)throw new Error('Attempt to change mapping for "'+I+'" extension from "'+this._types[I]+'" to "'+B+'". Pass `force=true` to allow this, otherwise remove "'+I+'" from the list of extensions for "'+B+'".');this._types[I]=B}if(Q||!this._extensions[B]){let E=C[0];this._extensions[B]=E[0]!=="*"?E:E.substr(1)}}};UQA.prototype.getType=function(A){A=String(A);let Q=A.replace(/^.*[/\\]/,"").toLowerCase(),B=Q.replace(/^.*\./,"").toLowerCase(),C=Q.length<A.length;return(B.length<Q.length-1||!C)&&this._types[B]||null};UQA.prototype.getExtension=function(A){return A=/^\s*([^;\s]*)/.test(A)&&RegExp.$1,A&&this._extensions[A.toLowerCase()]||null};cTQ.exports=UQA});var nTQ=m((US0,iTQ)=>{iTQ.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}});var rTQ=m((NS0,oTQ)=>{oTQ.exports={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}});var sTQ=m((ZS0,aTQ)=>{var SgB=lTQ();aTQ.exports=new SgB(nTQ(),rTQ())});import HF from"node:path";var xb=(A)=>typeof A==="function",F=function(A,Q){if(typeof A==="function")return function(){if(A(arguments))return Q.apply(this,arguments);return(B)=>Q(B,...arguments)};switch(A){case 0:case 1:throw new RangeError(`Invalid arity ${A}`);case 2:return function(B,C){if(arguments.length>=2)return Q(B,C);return function(E){return Q(E,B)}};case 3:return function(B,C,E){if(arguments.length>=3)return Q(B,C,E);return function(I){return Q(I,B,C)}};case 4:return function(B,C,E,I){if(arguments.length>=4)return Q(B,C,E,I);return function(Y){return Q(Y,B,C,E)}};case 5:return function(B,C,E,I,Y){if(arguments.length>=5)return Q(B,C,E,I,Y);return function(G){return Q(G,B,C,E,I)}};default:return function(){if(arguments.length>=A)return Q.apply(this,arguments);let B=arguments;return function(C){return Q(C,...B)}}}};var s=(A)=>A;var Sb=s,bJ=(A)=>()=>A,ZY=bJ(!0),x0=bJ(!1),gQA=bJ(null),KF=bJ(void 0),l0=KF;function H(A,Q,B,C,E,I,Y,G,J){switch(arguments.length){case 1:return A;case 2:return Q(A);case 3:return B(Q(A));case 4:return C(B(Q(A)));case 5:return E(C(B(Q(A))));case 6:return I(E(C(B(Q(A)))));case 7:return Y(I(E(C(B(Q(A))))));case 8:return G(Y(I(E(C(B(Q(A)))))));case 9:return J(G(Y(I(E(C(B(Q(A))))))));default:{let D=arguments[0];for(let U=1;U<arguments.length;U++)D=arguments[U](D);return D}}}var TE=(A)=>(Q,B)=>Q===B||A(Q,B),rPQ=(A,Q)=>A===Q,IzA=()=>rPQ,YzA=IzA(),gb=IzA();var vQA=F(2,(A,Q)=>TE((B,C)=>A(Q(B),Q(C)))),GzA=vQA(gb,(A)=>A.getTime());var vb=(A)=>TE((Q,B)=>{if(Q.length!==B.length)return!1;for(let C=0;C<Q.length;C++)if(!A(Q[C],B[C]))return!1;return!0});var F1=(A)=>F(3,(Q,B,C)=>A(Q,(E)=>Object.assign({},E,{[B]:C(E)}))),H1=(A)=>F(2,(Q,B)=>A(Q,(C)=>({[B]:C}))),VV=(A,Q)=>F(3,(B,C,E)=>Q(B,(I)=>A(E(I),(Y)=>Object.assign({},I,{[C]:Y}))));var BB={};ZQ(BB,{symbol:()=>TA,structureKeys:()=>zzA,structure:()=>LV,string:()=>LQ,random:()=>MF,optimize:()=>Mq,number:()=>s9,isHash:()=>$zA,hash:()=>QA,combine:()=>FA,cached:()=>rA,array:()=>XY});var aPQ="3.15.2",VF=()=>aPQ;var JzA=`effect/GlobalValue/globalStoreId/${VF()}`,Kq,xA=(A,Q)=>{if(!Kq)globalThis[JzA]??=new Map,Kq=globalThis[JzA];if(!Kq.has(A))Kq.set(A,Q());return Kq.get(A)};var DzA=(A)=>!!A,UzA=(A)=>A instanceof Set,NzA=(A)=>A instanceof Map,cC=(A)=>typeof A==="string",BG=(A)=>typeof A==="number",SG=(A)=>typeof A==="boolean",LN=(A)=>typeof A==="bigint",CU=(A)=>typeof A==="symbol";var EU=xb,kb=(A)=>A===void 0,ZzA=(A)=>A!==void 0,XzA=(A)=>A===null,bb=(A)=>A!==null,FzA=(A)=>!1;var _$=(A)=>typeof A==="object"&&A!==null,vY=(A)=>_$(A)||EU(A),o=F(2,(A,Q)=>vY(A)&&(Q in A)),dI=F(2,(A,Q)=>o(A,"_tag")&&A._tag===Q),MV=(A)=>A===null||A===void 0,kQA=(A)=>A!==null&&A!==void 0;var HzA=(A)=>A instanceof Uint8Array,$V=(A)=>A instanceof Date,mJ=(A)=>o(A,Symbol.iterator),hb=(A)=>_$(A)&&!Array.isArray(A);var bQA=(A)=>o(A,"then")&&EU(A.then);var hQA=F(2,(A,Q)=>(B)=>A(B)||Q(B));var a9=(A)=>`BUG: ${A} - please report an issue at https://github.com/Effect-TS/effect/issues`;var mQA=Symbol.for("effect/Gen/GenKind"),dQA=(A)=>vY(A)&&(mQA in A);class KzA{value;constructor(A){this.value=A}get _F(){return s}get _R(){return(A)=>A}get _O(){return(A)=>A}get _E(){return(A)=>A}[mQA]=mQA;[Symbol.iterator](){return new zV(this)}}class zV{self;called=!1;constructor(A){this.self=A}next(A){return this.called?{value:A,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(A){return{value:A,done:!0}}throw(A){throw A}[Symbol.iterator](){return new zV(this.self)}}var uQA=()=>function(){let A=arguments[0];for(let Q=1;Q<arguments.length;Q++)A=arguments[Q](A);return new KzA(A)},sPQ=335903614,tPQ=4150755663,ePQ=1481765933,A_Q=1284865837,Q_Q=9007199254740992,B_Q=134217728;class mb{_state;constructor(A,Q,B,C){if(MV(Q)&&MV(A))Q=Math.random()*4294967295>>>0,A=0;else if(MV(Q))Q=A,A=0;if(MV(C)&&MV(B))C=this._state?this._state[3]:tPQ,B=this._state?this._state[2]:sPQ;else if(MV(C))C=B,B=0;return this._state=new Int32Array([0,0,B>>>0,((C||0)|1)>>>0]),this._next(),WzA(this._state,this._state[0],this._state[1],A>>>0,Q>>>0),this._next(),this}getState(){return[this._state[0],this._state[1],this._state[2],this._state[3]]}setState(A){this._state[0]=A[0],this._state[1]=A[1],this._state[2]=A[2],this._state[3]=A[3]|1}integer(A){return Math.round(this.number()*Number.MAX_SAFE_INTEGER)%A}number(){let A=(this._next()&67108863)*1,Q=(this._next()&134217727)*1;return(A*B_Q+Q)/Q_Q}_next(){let A=this._state[0]>>>0,Q=this._state[1]>>>0;C_Q(this._state,A,Q,ePQ,A_Q),WzA(this._state,this._state[0],this._state[1],this._state[2],this._state[3]);let B=A>>>18,C=(Q>>>18|A<<14)>>>0;B=(B^A)>>>0,C=(C^Q)>>>0;let E=(C>>>27|B<<5)>>>0,I=A>>>27,Y=(-I>>>0&31)>>>0;return(E>>>I|E<<Y)>>>0}}function C_Q(A,Q,B,C,E){let I=(B>>>16)*(E&65535)>>>0,Y=(B&65535)*(E>>>16)>>>0,G=(B&65535)*(E&65535)>>>0,J=(B>>>16)*(E>>>16)+((Y>>>16)+(I>>>16))>>>0;if(Y=Y<<16>>>0,G=G+Y>>>0,G>>>0<Y>>>0)J=J+1>>>0;if(I=I<<16>>>0,G=G+I>>>0,G>>>0<I>>>0)J=J+1>>>0;J=J+Math.imul(B,C)>>>0,J=J+Math.imul(Q,E)>>>0,A[0]=J,A[1]=G}function WzA(A,Q,B,C,E){let I=Q+C>>>0,Y=B+E>>>0;if(Y>>>0<B>>>0)I=I+1|0;A[0]=I,A[1]=Y}var fQA=Symbol.for("effect/Utils/YieldWrap");class K8{#A;constructor(A){this.#A=A}[fQA](){return this.#A}}function wV(A){if(typeof A==="object"&&A!==null&&fQA in A)return A[fQA]();throw new Error(a9("yieldWrapGet"))}var YD=xA("effect/Utils/isStructuralRegion",()=>({enabled:!1,tester:void 0}));var VzA={effect_internal_function:(A)=>{return A()}},E_Q={effect_internal_function:(A)=>{try{return A()}finally{}}},I_Q=VzA.effect_internal_function(()=>new Error().stack)?.includes("effect_internal_function")===!0,CC=I_Q?VzA.effect_internal_function:E_Q.effect_internal_function,Y_Q=function*(){}.constructor,MzA=(A)=>vY(A)&&A.constructor===Y_Q;var pQA=xA(Symbol.for("effect/Hash/randomHashCache"),()=>new WeakMap),TA=Symbol.for("effect/Hash"),QA=(A)=>{if(YD.enabled===!0)return 0;switch(typeof A){case"number":return s9(A);case"bigint":return LQ(A.toString(10));case"boolean":return LQ(String(A));case"symbol":return LQ(String(A));case"string":return LQ(A);case"undefined":return LQ("undefined");case"function":case"object":if(A===null)return LQ("null");else if(A instanceof Date)return QA(A.toISOString());else if(A instanceof URL)return QA(A.href);else if($zA(A))return A[TA]();else return MF(A);default:throw new Error(`BUG: unhandled typeof ${typeof A} - please report an issue at https://github.com/Effect-TS/effect/issues`)}},MF=(A)=>{if(!pQA.has(A))pQA.set(A,s9(Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)));return pQA.get(A)},FA=(A)=>(Q)=>Q*53^A,Mq=(A)=>A&3221225471|A>>>1&1073741824,$zA=(A)=>o(A,TA),s9=(A)=>{if(A!==A||A===1/0)return 0;let Q=A|0;if(Q!==A)Q^=A*4294967295;while(A>4294967295)Q^=A/=4294967295;return Mq(Q)},LQ=(A)=>{let Q=5381,B=A.length;while(B)Q=Q*33^A.charCodeAt(--B);return Mq(Q)},zzA=(A,Q)=>{let B=12289;for(let C=0;C<Q.length;C++)B^=H(LQ(Q[C]),FA(QA(A[Q[C]])));return Mq(B)},LV=(A)=>zzA(A,Object.keys(A)),XY=(A)=>{let Q=6151;for(let B=0;B<A.length;B++)Q=H(Q,FA(QA(A[B])));return Mq(Q)},rA=function(){if(arguments.length===1){let B=arguments[0];return function(C){return Object.defineProperty(B,TA,{value(){return C},enumerable:!1}),C}}let A=arguments[0],Q=arguments[1];return Object.defineProperty(A,TA,{value(){return Q},enumerable:!1}),Q};var PA=Symbol.for("effect/Equal");function JA(){if(arguments.length===1)return(A)=>fb(A,arguments[0]);return fb(arguments[0],arguments[1])}function fb(A,Q){if(A===Q)return!0;let B=typeof A;if(B!==typeof Q)return!1;if(B==="object"||B==="function"){if(A!==null&&Q!==null){if(W1(A)&&W1(Q))if(QA(A)===QA(Q)&&A[PA](Q))return!0;else return YD.enabled&&YD.tester?YD.tester(A,Q):!1;else if(A instanceof Date&&Q instanceof Date)return A.toISOString()===Q.toISOString();else if(A instanceof URL&&Q instanceof URL)return A.href===Q.href}if(YD.enabled){if(Array.isArray(A)&&Array.isArray(Q))return A.length===Q.length&&A.every((C,E)=>fb(C,Q[E]));if(Object.getPrototypeOf(A)===Object.prototype&&Object.getPrototypeOf(A)===Object.prototype){let C=Object.keys(A),E=Object.keys(Q);if(C.length===E.length){for(let I of C)if(!((I in Q)&&fb(A[I],Q[I])))return YD.tester?YD.tester(A,Q):!1;return!0}}return YD.tester?YD.tester(A,Q):!1}}return YD.enabled&&YD.tester?YD.tester(A,Q):!1}var W1=(A)=>o(A,PA),$F=()=>JA;var sA=Symbol.for("nodejs.util.inspect.custom"),wB=(A)=>{try{if(o(A,"toJSON")&&EU(A.toJSON)&&A.toJSON.length===0)return A.toJSON();else if(Array.isArray(A))return A.map(wB)}catch{return{}}return ON(A)},PQ=(A)=>JSON.stringify(A,null,2),V8={toJSON(){return wB(this)},[sA](){return this.toJSON()},toString(){return PQ(this.toJSON())}};class O2{[sA](){return this.toJSON()}toString(){return PQ(this.toJSON())}}var IU=(A,Q=2)=>{if(typeof A==="string")return A;try{return typeof A==="object"?$q(A,Q):String(A)}catch{return String(A)}},$q=(A,Q)=>{let B=[],C=JSON.stringify(A,(E,I)=>typeof I==="object"&&I!==null?B.includes(I)?void 0:B.push(I)&&(OV.fiberRefs!==void 0&&wzA(I)?I[zq](OV.fiberRefs):I):I,Q);return B=void 0,C},zq=Symbol.for("effect/Inspectable/Redactable"),wzA=(A)=>typeof A==="object"&&A!==null&&(zq in A),OV=xA("effect/Inspectable/redactableState",()=>({fiberRefs:void 0})),LzA=(A,Q)=>{let B=OV.fiberRefs;OV.fiberRefs=A;try{return Q()}finally{OV.fiberRefs=B}},ON=(A)=>{if(wzA(A)&&OV.fiberRefs!==void 0)return A[zq](OV.fiberRefs);return A};var e=(A,Q)=>{switch(Q.length){case 0:return A;case 1:return Q[0](A);case 2:return Q[1](Q[0](A));case 3:return Q[2](Q[1](Q[0](A)));case 4:return Q[3](Q[2](Q[1](Q[0](A))));case 5:return Q[4](Q[3](Q[2](Q[1](Q[0](A)))));case 6:return Q[5](Q[4](Q[3](Q[2](Q[1](Q[0](A))))));case 7:return Q[6](Q[5](Q[4](Q[3](Q[2](Q[1](Q[0](A)))))));case 8:return Q[7](Q[6](Q[5](Q[4](Q[3](Q[2](Q[1](Q[0](A))))))));case 9:return Q[8](Q[7](Q[6](Q[5](Q[4](Q[3](Q[2](Q[1](Q[0](A)))))))));default:{let B=A;for(let C=0,E=Q.length;C<E;C++)B=Q[C](B);return B}}};var RV="Async",K1="Commit",aE="Failure",j$="OnFailure",x$="OnSuccess",S$="OnSuccessAndFailure",sE="Success",db="Sync",RzA="Tag",V1="UpdateRuntimeFlags",g$="While",TV="Iterator",ub="WithRuntime",v$="Yield",wq="RevertFlags";var cQA=Symbol.for("effect/Effect"),y$=Symbol.for("effect/Stream"),lQA=Symbol.for("effect/Sink"),iQA=Symbol.for("effect/Channel"),t9={_R:(A)=>A,_E:(A)=>A,_A:(A)=>A,_V:VF()},G_Q={_A:(A)=>A,_In:(A)=>A,_L:(A)=>A,_E:(A)=>A,_R:(A)=>A},J_Q={_Env:(A)=>A,_InErr:(A)=>A,_InElem:(A)=>A,_InDone:(A)=>A,_OutErr:(A)=>A,_OutElem:(A)=>A,_OutDone:(A)=>A},M1={[cQA]:t9,[y$]:t9,[lQA]:G_Q,[iQA]:J_Q,[PA](A){return this===A},[TA](){return rA(this,MF(this))},[Symbol.iterator](){return new zV(new K8(this))},pipe(){return e(this,arguments)}},M8={[TA](){return rA(this,LV(this))},[PA](A){let Q=Object.keys(this),B=Object.keys(A);if(Q.length!==B.length)return!1;for(let C of Q)if(!((C in A)&&JA(this[C],A[C])))return!1;return!0}},gG={...M1,_op:K1},Oq={...gG,...M8},TzA=function(){function A(){}return A.prototype=gG,A}(),qzA=function(){function A(){}return A.prototype=Oq,A}();var PzA=Symbol.for("effect/Option"),_zA={...M1,[PzA]:{_A:(A)=>A},[sA](){return this.toJSON()},toString(){return PQ(this.toJSON())}},D_Q=Object.assign(Object.create(_zA),{_tag:"Some",_op:"Some",[PA](A){return pb(A)&&nQA(A)&&JA(this.value,A.value)},[TA](){return rA(this,FA(QA(this._tag))(QA(this.value)))},toJSON(){return{_id:"Option",_tag:this._tag,value:wB(this.value)}}}),U_Q=QA("None"),N_Q=Object.assign(Object.create(_zA),{_tag:"None",_op:"None",[PA](A){return pb(A)&&$1(A)},[TA](){return U_Q},toJSON(){return{_id:"Option",_tag:this._tag}}}),pb=(A)=>o(A,PzA),$1=(A)=>A._tag==="None",nQA=(A)=>A._tag==="Some",RN=Object.create(N_Q),vG=(A)=>{let Q=Object.create(D_Q);return Q.value=A,Q};var oQA=Symbol.for("effect/Either"),jzA={...M1,[oQA]:{_R:(A)=>A},[sA](){return this.toJSON()},toString(){return PQ(this.toJSON())}},Z_Q=Object.assign(Object.create(jzA),{_tag:"Right",_op:"Right",[PA](A){return cb(A)&&lb(A)&&JA(this.right,A.right)},[TA](){return FA(QA(this._tag))(QA(this.right))},toJSON(){return{_id:"Either",_tag:this._tag,right:wB(this.right)}}}),X_Q=Object.assign(Object.create(jzA),{_tag:"Left",_op:"Left",[PA](A){return cb(A)&&b$(A)&&JA(this.left,A.left)},[TA](){return FA(QA(this._tag))(QA(this.left))},toJSON(){return{_id:"Either",_tag:this._tag,left:wB(this.left)}}}),cb=(A)=>o(A,oQA),b$=(A)=>A._tag==="Left",lb=(A)=>A._tag==="Right",Tq=(A)=>{let Q=Object.create(X_Q);return Q.left=A,Q},qq=(A)=>{let Q=Object.create(Z_Q);return Q.right=A,Q},rQA=(A)=>lb(A)?RN:vG(A.left),aQA=(A)=>b$(A)?RN:vG(A.right),xzA=F(2,(A,Q)=>$1(A)?Tq(Q()):qq(A.value));var $A=qq;var wA=Tq;var h$=xzA,qV=(A)=>{if(EU(A))try{return $A(A())}catch(Q){return wA(Q)}else try{return $A(A.try())}catch(Q){return wA(A.catch(Q))}};var zF=cb,M0=b$,CG=lb;var gzA=({left:A,right:Q})=>TE((B,C)=>M0(B)?M0(C)&&A(B.left,C.left):CG(C)&&Q(B.right,C.right)),vzA=F(2,(A,{onLeft:Q,onRight:B})=>M0(A)?wA(Q(A.left)):$A(B(A.right))),$8=F(2,(A,Q)=>M0(A)?wA(Q(A.left)):$A(A.right)),e9=F(2,(A,Q)=>CG(A)?$A(Q(A.right)):wA(A.left)),sB=F(2,(A,{onLeft:Q,onRight:B})=>M0(A)?Q(A.left):B(A.right));var wF=sB({onLeft:s,onRight:s});var PV=F(2,(A,Q)=>{if(CG(A))return A.right;throw Q(A.left)}),sQA=PV(()=>new Error("getOrThrow called on a Left"));var yzA=(A)=>{if(Symbol.iterator in A){let B=[];for(let C of A){if(M0(C))return C;B.push(C.right)}return $A(B)}let Q={};for(let B of Object.keys(A)){let C=A[B];if(M0(C))return C;Q[B]=C.right}return $A(Q)};var ib=(A)=>A.length>0;var EA={};ZQ(EA,{zipWith:()=>rb,zipRight:()=>T_Q,zipLeft:()=>q_Q,void:()=>L_Q,toRefinement:()=>W_Q,toArray:()=>uzA,tap:()=>mzA,some:()=>j,reduceCompact:()=>x_Q,productMany:()=>__Q,product:()=>fzA,partitionMap:()=>S_Q,orElseSome:()=>eQA,orElseEither:()=>M_Q,orElse:()=>KI,none:()=>x,mergeWith:()=>QX,match:()=>HA,map:()=>RQ,liftThrowable:()=>AX,liftPredicate:()=>y_Q,liftNullable:()=>z_Q,lift2:()=>v_Q,let:()=>h_Q,isSome:()=>XA,isOption:()=>gV,isNone:()=>cA,getRight:()=>f$,getOrder:()=>g_Q,getOrUndefined:()=>gB,getOrThrowWith:()=>ob,getOrThrow:()=>YU,getOrNull:()=>nb,getOrElse:()=>YQ,getLeft:()=>V_Q,getEquivalence:()=>QBA,gen:()=>u_Q,fromNullable:()=>aQ,fromIterable:()=>K_Q,flatten:()=>R_Q,flatMapNullable:()=>ABA,flatMap:()=>qE,firstSomeOf:()=>$_Q,filterMap:()=>pzA,filter:()=>GU,exists:()=>CBA,containsWith:()=>czA,contains:()=>BBA,composeK:()=>P_Q,bindTo:()=>b_Q,bind:()=>m_Q,asVoid:()=>w_Q,as:()=>hzA,ap:()=>j_Q,andThen:()=>O_Q,all:()=>dzA,TypeId:()=>H_Q,Do:()=>f_Q});var TN=(A)=>(Q,B)=>Q===B?0:A(Q,B);var _V=TN((A,Q)=>A<Q?-1:1);var m$=TN((A,Q)=>A<Q?-1:1);var bzA=F(2,(A,Q)=>TN((B,C)=>{let E=A(B,C);if(E!==0)return E;return Q(B,C)}));var R2=F(2,(A,Q)=>TN((B,C)=>A(Q(B),Q(C))));var F_Q=(A)=>{return TN((Q,B)=>{let C=Math.min(Q.length,B.length),E=0;for(let I of A){if(E>=C)break;let Y=I(Q[E],B[E]);if(Y!==0)return Y;E++}return 0})};var tQA=(...A)=>F_Q(A);var z1=(A)=>F(2,(Q,B)=>A(Q,B)===-1),w1=(A)=>F(2,(Q,B)=>A(Q,B)===1),jV=(A)=>F(2,(Q,B)=>A(Q,B)!==1),xV=(A)=>F(2,(Q,B)=>A(Q,B)!==-1),LF=(A)=>F(2,(Q,B)=>Q===B||A(Q,B)<1?Q:B),OF=(A)=>F(2,(Q,B)=>Q===B||A(Q,B)>-1?Q:B),L1=(A)=>F(2,(Q,B)=>LF(A)(B.maximum,OF(A)(B.minimum,Q))),SV=(A)=>F(2,(Q,B)=>!z1(A)(Q,B.minimum)&&!w1(A)(Q,B.maximum));var H_Q=Symbol.for("effect/Option"),x=()=>RN,j=vG,gV=pb,cA=$1,XA=nQA,HA=F(2,(A,{onNone:Q,onSome:B})=>cA(A)?Q():B(A.value)),W_Q=(A)=>(Q)=>XA(A(Q)),K_Q=(A)=>{for(let Q of A)return j(Q);return x()},f$=aQA,V_Q=rQA,YQ=F(2,(A,Q)=>cA(A)?Q():A.value),KI=F(2,(A,Q)=>cA(A)?Q():A),eQA=F(2,(A,Q)=>cA(A)?j(Q()):A),M_Q=F(2,(A,Q)=>cA(A)?RQ(Q(),qq):RQ(A,Tq)),$_Q=(A)=>{let Q=x();for(Q of A)if(XA(Q))return Q;return Q},aQ=(A)=>A==null?x():j(A),z_Q=(A)=>(...Q)=>aQ(A(...Q)),nb=YQ(gQA),gB=YQ(KF),AX=(A)=>(...Q)=>{try{return j(A(...Q))}catch{return x()}},ob=F(2,(A,Q)=>{if(XA(A))return A.value;throw Q()}),YU=ob(()=>new Error("getOrThrow called on a None")),RQ=F(2,(A,Q)=>cA(A)?x():j(Q(A.value))),hzA=F(2,(A,Q)=>RQ(A,()=>Q)),w_Q=hzA(void 0),L_Q=j(void 0);var qE=F(2,(A,Q)=>cA(A)?x():Q(A.value)),O_Q=F(2,(A,Q)=>qE(A,(B)=>{let C=xb(Q)?Q(B):Q;return gV(C)?C:j(C)})),ABA=F(2,(A,Q)=>cA(A)?x():aQ(Q(A.value))),R_Q=qE(s),T_Q=F(2,(A,Q)=>qE(A,()=>Q)),q_Q=F(2,(A,Q)=>mzA(A,()=>Q)),P_Q=F(2,(A,Q)=>(B)=>qE(A(B),Q)),mzA=F(2,(A,Q)=>qE(A,(B)=>RQ(Q(B),()=>B))),fzA=(A,Q)=>XA(A)&&XA(Q)?j([A.value,Q.value]):x(),__Q=(A,Q)=>{if(cA(A))return x();let B=[A.value];for(let C of Q){if(cA(C))return x();B.push(C.value)}return j(B)},dzA=(A)=>{if(Symbol.iterator in A){let B=[];for(let C of A){if(cA(C))return x();B.push(C.value)}return j(B)}let Q={};for(let B of Object.keys(A)){let C=A[B];if(cA(C))return x();Q[B]=C.value}return j(Q)},rb=F(3,(A,Q,B)=>RQ(fzA(A,Q),([C,E])=>B(C,E))),j_Q=F(2,(A,Q)=>rb(A,Q,(B,C)=>B(C))),x_Q=F(3,(A,Q,B)=>{let C=Q;for(let E of A)if(XA(E))C=B(C,E.value);return C}),uzA=(A)=>cA(A)?[]:[A.value],S_Q=F(2,(A,Q)=>{if(cA(A))return[x(),x()];let B=Q(A.value);return b$(B)?[j(B.left),x()]:[x(),j(B.right)]}),pzA=qE,GU=F(2,(A,Q)=>pzA(A,(B)=>Q(B)?vG(B):RN)),QBA=(A)=>TE((Q,B)=>cA(Q)?cA(B):cA(B)?!1:A(Q.value,B.value)),g_Q=(A)=>TN((Q,B)=>XA(Q)?XA(B)?A(Q.value,B.value):1:-1),v_Q=(A)=>F(2,(Q,B)=>rb(Q,B,A)),y_Q=F(2,(A,Q)=>Q(A)?j(A):x()),czA=(A)=>F(2,(Q,B)=>cA(Q)?!1:A(Q.value,B)),k_Q=$F(),BBA=czA(k_Q),CBA=F(2,(A,Q)=>cA(A)?!1:Q(A.value)),b_Q=H1(RQ),h_Q=F1(RQ);var m_Q=VV(RQ,qE),f_Q=j({}),d_Q=uQA(),u_Q=(...A)=>{let B=(A.length===1?A[0]:A[1].bind(A[0]))(d_Q),C=B.next();while(!C.done){let E=dQA(C.value)?C.value.value:wV(C.value);if(cA(E))return E;C=B.next(E.value)}return j(C.value)},QX=(A)=>(Q,B)=>{if(cA(Q))return B;else if(cA(B))return Q;return j(A(Q.value,B.value))};var Pq=(...A)=>A;var JU=(A)=>{let B=A[Symbol.iterator]().next();if(B.done)throw new Error("unsafeHead: empty iterable");return B.value};var lzA=F(2,(A,Q)=>{let B=0;for(let C of A){let E=Q(C,B);if(SG(E)){if(E)return j(C)}else if(XA(E))return E;B++}return x()});var p_Q={[Symbol.iterator](){return c_Q}},c_Q={next(){return{done:!0,value:void 0}}},sb=()=>p_Q;var tb=F(2,(A,Q)=>({[Symbol.iterator](){let B=A[Symbol.iterator](),C=0;return{next(){let E=B.next();if(E.done)return{done:!0,value:void 0};return{done:!1,value:Q(E.value,C++)}}}}}));var _q=(A)=>EBA(A).length===0;var izA=F(2,(A,Q)=>Object.prototype.hasOwnProperty.call(A,Q));var O1=F(2,(A,Q)=>{let B={...A};for(let C of EBA(A))B[C]=Q(A[C],C);return B});var EBA=(A)=>Object.keys(A);var IBA=F(3,(A,Q,B)=>{return{...A,[Q]:B}});var l_Q=(A)=>F(2,(Q,B)=>{for(let C of EBA(Q))if(!izA(B,C)||!A(Q[C],B[C]))return!1;return!0});var nzA=(A)=>{let Q=l_Q(A);return(B,C)=>Q(B,C)&&Q(C,B)};var RF=(A)=>new Array(A),jq=F(2,(A,Q)=>{let B=Math.max(1,Math.floor(A)),C=new Array(B);for(let E=0;E<B;E++)C[E]=Q(E);return C});var aA=(A)=>Array.isArray(A)?A:Array.from(A),vV=(A)=>Array.isArray(A)?A:[A];var qN=F(2,(A,{onEmpty:Q,onNonEmpty:B})=>oB(A)?B(A):Q()),d$=F(2,(A,{onEmpty:Q,onNonEmpty:B})=>oB(A)?B(jI(A),NU(A)):Q());var T1=F(2,(A,Q)=>[Q,...A]);var yV=F(2,(A,Q)=>[...A,Q]),CX=F(2,(A,Q)=>aA(A).concat(aA(Q)));var u$=Array.isArray,i_Q=(A)=>A.length===0,p$=i_Q,DU=ib,oB=ib;var eb=(A,Q)=>A<0||A>=Q.length,n_Q=(A,Q)=>Math.floor(Math.min(Math.max(0,A),Q.length)),o_Q=F(2,(A,Q)=>{let B=Math.floor(Q);return eb(B,A)?x():j(A[B])}),Ah=F(2,(A,Q)=>{let B=Math.floor(Q);if(eb(B,A))throw new Error(`Index ${B} out of bounds`);return A[B]});var UU=o_Q(0),jI=Ah(0),c$=(A)=>oB(A)?j(xq(A)):x(),xq=(A)=>A[A.length-1];var NU=(A)=>A.slice(1);var r_Q=(A,Q)=>{let B=0;for(let C of A){if(!Q(C,B))break;B++}return B},Sq=F(2,(A,Q)=>vq(A,r_Q(A,Q))),Qh=F(2,(A,Q)=>{let B=aA(A);return B.slice(n_Q(Q,B),B.length)});var YBA=F(2,(A,Q)=>{let B=0;for(let C of A){if(Q(C,B))return j(B);B++}return x()}),ozA=F(2,(A,Q)=>{let B=aA(A);for(let C=B.length-1;C>=0;C--)if(Q(B[C],C))return j(C);return x()}),q1=lzA,Bh=F(2,(A,Q)=>{let B=aA(A);for(let C=B.length-1;C>=0;C--){let E=B[C],I=Q(E,C);if(SG(I)){if(I)return j(E)}else if(XA(I))return I}return x()});var rzA=F(3,(A,Q,B)=>{let C=Array.from(A);if(eb(Q,C))return x();let E=C,I=B(C[Q]);return E[Q]=I,j(E)}),azA=F(2,(A,Q)=>{let B=Array.from(A);if(eb(Q,B))return B;return B.splice(Q,1),B}),GBA=(A)=>Array.from(A).reverse(),EG=F(2,(A,Q)=>{let B=Array.from(A);return B.sort(Q),B});var JBA=F(2,(A,Q)=>Ch(A,Q,Pq)),Ch=F(3,(A,Q,B)=>{let C=aA(A),E=aA(Q);if(oB(C)&&oB(E)){let I=[B(jI(C),jI(E))],Y=Math.min(C.length,E.length);for(let G=1;G<Y;G++)I[G]=B(C[G],E[G]);return I}return[]}),szA=(A)=>{let Q=aA(A);if(oB(Q)){let B=[Q[0][0]],C=[Q[0][1]];for(let E=1;E<Q.length;E++)B[E]=Q[E][0],C[E]=Q[E][1];return[B,C]}return[[],[]]};var gq=(A)=>F(2,(Q,B)=>{for(let C of Q)if(A(B,C))return!0;return!1}),Eh=$F(),Ih=gq(Eh);var vq=F(2,(A,Q)=>{let B=Array.from(A),C=Math.floor(Q);if(oB(B)){if(C>=1)return a_Q(B,C);return[[],B]}return[B,[]]}),a_Q=F(2,(A,Q)=>{let B=Math.max(1,Math.floor(Q));return B>=A.length?[l$(A),[]]:[T1(A.slice(1,B),jI(A)),A.slice(B)]});var l$=(A)=>A.slice();var s_Q=F(3,(A,Q,B)=>{let C=aA(A),E=aA(Q);if(oB(C)){if(oB(E))return BwA(B)(CX(C,E));return C}return E}),PN=F(2,(A,Q)=>s_Q(A,Q,Eh)),DBA=(A)=>{let Q=gq(A);return F(2,(B,C)=>aA(B).filter((E)=>Q(C,E)))},Yh=DBA(Eh),UBA=(A)=>{let Q=gq(A);return F(2,(B,C)=>aA(B).filter((E)=>!Q(C,E)))},tzA=UBA(Eh),i0=()=>[],$0=(A)=>[A],n0=F(2,(A,Q)=>A.map(Q)),EX=F(2,(A,Q)=>{if(p$(A))return[];let B=[];for(let C=0;C<A.length;C++){let E=Q(A[C],C);for(let I=0;I<E.length;I++)B.push(E[I])}return B}),TF=EX(s),z8=F(2,(A,Q)=>{let B=aA(A),C=[];for(let E=0;E<B.length;E++){let I=Q(B[E],E);if(XA(I))C.push(I.value)}return C}),ezA=F(2,(A,Q)=>{let B=0,C=[];for(let E of A){let I=Q(E,B);if(XA(I))C.push(I.value);else break;B++}return C}),i$=F(2,(A,Q)=>{let B=[],C=[],E=aA(A);for(let I=0;I<E.length;I++){let Y=Q(E[I],I);if(M0(Y))B.push(Y.left);else C.push(Y.right)}return[B,C]}),n$=z8(s);var kV=F(2,(A,Q)=>{let B=aA(A),C=[];for(let E=0;E<B.length;E++)if(Q(B[E],E))C.push(B[E]);return C}),AwA=F(2,(A,Q)=>{let B=[],C=[],E=aA(A);for(let I=0;I<E.length;I++)if(Q(E[I],I))C.push(E[I]);else B.push(E[I]);return[B,C]}),QwA=i$(s),HY=F(3,(A,Q,B)=>aA(A).reduce((C,E,I)=>B(C,E,I),Q)),P1=F(3,(A,Q,B)=>aA(A).reduceRight((C,E,I)=>B(C,E,I),Q));var yq=F(2,(A,Q)=>A.every(Q));var NBA=(A,Q)=>{let B=[],C=A,E;while(XA(E=Q(C))){let[I,Y]=E.value;B.push(I),C=Y}return B};var WJ=vb;var BwA=F(2,(A,Q)=>{let B=aA(A);if(oB(B)){let C=[jI(B)],E=NU(B);for(let I of E)if(C.every((Y)=>!Q(I,Y)))C.push(I);return C}return[]}),Gh=(A)=>BwA(A,$F()),t_Q=F(2,(A,Q)=>{let B=[],C=x();for(let E of A)if(cA(C)||!Q(E,C.value))B.push(E),C=j(E);return B}),CwA=t_Q($F()),yG=F(2,(A,Q)=>aA(A).join(Q)),EwA=F(3,(A,Q,B)=>{let C=0,E=Q,I=[];for(let Y of A){let G=B(E,Y,C);E=G[0],I.push(G[1]),C++}return[E,I]});class Jh{[Symbol.iterator](){return this}next(A){return{value:A,done:!0}}}Jh.nil=new Jh;function IwA(){return Jh.nil}function*YwA(A,Q){for(let B of A)yield Q(B)}function*GwA(A,Q){for(let B of A)yield*Q(B)}function*JwA(A,Q){for(let B of A)if(Q(B))yield B}function*DwA(A,Q){for(let B=0;B<Q;++B){let C=A.next();if(C.done)break;yield C.value}}function*UwA(A,Q){let B=A.next();while(!B.done&&Q(B.value))yield B.value,B=A.next()}function*NwA(A,Q){for(let B=A.next();!B.done;B=A.next())yield B.value;for(let B of Q)for(let C=B.next();!C.done;C=B.next())yield C.value}var e_Q=Symbol.iterator;class WY{static nil(){return new WY(IwA())}static of(...A){return new WY(A[e_Q]())}constructor(A){this.g=A}next(){return this.g.next()}[Symbol.iterator](){return this.g}map(A){return new WY(YwA(this.g,A))}flatMap(A){return new WY(GwA(this.g,A))}dropWhile(A){let Q=!1;function*B(C){if(Q||!A(C))Q=!0,yield C}return this.flatMap(B)}drop(A){if(A<=0)return this;let Q=0;function B(){return Q++<A}return this.dropWhile(B)}takeWhile(A){return new WY(UwA(this.g,A))}take(A){return new WY(DwA(this.g,A))}filter(A){return new WY(JwA(this.g,A))}every(A){for(let Q of this.g)if(!A(Q))return!1;return!0}has(A){for(let Q of this.g)if(A(Q))return[!0,Q];return[!1,null]}join(...A){return new WY(NwA(this.g,A))}getNthOrLast(A){let Q=A,B=null;for(let C of this.g){if(Q--===0)return C;B=C}return B}}function ZBA(A){return new WY(A)}var _1=Symbol.for("fast-check/cloneMethod");function kq(A){return A!==null&&(typeof A==="object"||typeof A==="function")&&_1 in A&&typeof A[_1]==="function"}function bq(A){return kq(A)?A[_1]():A}var AjQ=Object.defineProperty;class uI{constructor(A,Q,B=void 0){if(this.value_=A,this.context=Q,this.hasToBeCloned=B!==void 0||kq(A),this.readOnce=!1,this.hasToBeCloned)AjQ(this,"value",{get:B!==void 0?B:this.getValue});else this.value=A}getValue(){if(this.hasToBeCloned){if(!this.readOnce)return this.readOnce=!0,this.value_;return this.value_[_1]()}return this.value_}}var ZwA=Object.assign;class IX{filter(A){return new HwA(this,A)}map(A,Q){return new FwA(this,A,Q)}chain(A){return new XwA(this,A)}noShrink(){return new WwA(this)}noBias(){return new KwA(this)}}class XwA extends IX{constructor(A,Q){super();this.arb=A,this.chainer=Q}generate(A,Q){let B=A.clone(),C=this.arb.generate(A,Q);return this.valueChainer(C,A,B,Q)}canShrinkWithoutContext(A){return!1}shrink(A,Q){if(this.isSafeContext(Q))return(!Q.stoppedForOriginal?this.arb.shrink(Q.originalValue,Q.originalContext).map((B)=>this.valueChainer(B,Q.clonedMrng.clone(),Q.clonedMrng,Q.originalBias)):WY.nil()).join(Q.chainedArbitrary.shrink(A,Q.chainedContext).map((B)=>{let C=ZwA(ZwA({},Q),{chainedContext:B.context,stoppedForOriginal:!0});return new uI(B.value_,C)}));return WY.nil()}valueChainer(A,Q,B,C){let E=this.chainer(A.value_),I=E.generate(Q,C),Y={originalBias:C,originalValue:A.value_,originalContext:A.context,stoppedForOriginal:!1,chainedArbitrary:E,chainedContext:I.context,clonedMrng:B};return new uI(I.value_,Y)}isSafeContext(A){return A!=null&&typeof A==="object"&&"originalBias"in A&&"originalValue"in A&&"originalContext"in A&&"stoppedForOriginal"in A&&"chainedArbitrary"in A&&"chainedContext"in A&&"clonedMrng"in A}}class FwA extends IX{constructor(A,Q,B){super();this.arb=A,this.mapper=Q,this.unmapper=B,this.bindValueMapper=(C)=>this.valueMapper(C)}generate(A,Q){let B=this.arb.generate(A,Q);return this.valueMapper(B)}canShrinkWithoutContext(A){if(this.unmapper!==void 0)try{let Q=this.unmapper(A);return this.arb.canShrinkWithoutContext(Q)}catch(Q){return!1}return!1}shrink(A,Q){if(this.isSafeContext(Q))return this.arb.shrink(Q.originalValue,Q.originalContext).map(this.bindValueMapper);if(this.unmapper!==void 0){let B=this.unmapper(A);return this.arb.shrink(B,void 0).map(this.bindValueMapper)}return WY.nil()}mapperWithCloneIfNeeded(A){let Q=A.value,B=this.mapper(Q);if(A.hasToBeCloned&&(typeof B==="object"&&B!==null||typeof B==="function")&&Object.isExtensible(B)&&!kq(B))Object.defineProperty(B,_1,{get:()=>()=>this.mapperWithCloneIfNeeded(A)[0]});return[B,Q]}valueMapper(A){let[Q,B]=this.mapperWithCloneIfNeeded(A),C={originalValue:B,originalContext:A.context};return new uI(Q,C)}isSafeContext(A){return A!=null&&typeof A==="object"&&"originalValue"in A&&"originalContext"in A}}class HwA extends IX{constructor(A,Q){super();this.arb=A,this.refinement=Q,this.bindRefinementOnValue=(B)=>this.refinementOnValue(B)}generate(A,Q){while(!0){let B=this.arb.generate(A,Q);if(this.refinementOnValue(B))return B}}canShrinkWithoutContext(A){return this.arb.canShrinkWithoutContext(A)&&this.refinement(A)}shrink(A,Q){return this.arb.shrink(A,Q).filter(this.bindRefinementOnValue)}refinementOnValue(A){return this.refinement(A.value)}}class WwA extends IX{constructor(A){super();this.arb=A}generate(A,Q){return this.arb.generate(A,Q)}canShrinkWithoutContext(A){return this.arb.canShrinkWithoutContext(A)}shrink(A,Q){return WY.nil()}noShrink(){return this}}class KwA extends IX{constructor(A){super();this.arb=A}generate(A,Q){return this.arb.generate(A,void 0)}canShrinkWithoutContext(A){return this.arb.canShrinkWithoutContext(A)}shrink(A,Q){return this.arb.shrink(A,Q)}noBias(){return this}}var VwA=Function.prototype.apply,XBA=Symbol("apply");function QjQ(A){try{return A.apply}catch(Q){return}}function BjQ(A,Q,B){let C=A;C[XBA]=VwA;let E=C[XBA](Q,B);return delete C[XBA],E}function bV(A,Q,B){if(QjQ(A)===VwA)return A.apply(Q,B);return BjQ(A,Q,B)}var myB=Array.prototype.forEach,MwA=Array.prototype.indexOf,fyB=Array.prototype.join,$wA=Array.prototype.map,dyB=Array.prototype.filter,zwA=Array.prototype.push,uyB=Array.prototype.pop,pyB=Array.prototype.splice,wwA=Array.prototype.slice,cyB=Array.prototype.sort,lyB=Array.prototype.every;function CjQ(A){try{return A.indexOf}catch(Q){return}}function EjQ(A){try{return A.map}catch(Q){return}}function IjQ(A){try{return A.push}catch(Q){return}}function YjQ(A){try{return A.slice}catch(Q){return}}function FBA(A,...Q){if(CjQ(A)===MwA)return A.indexOf(...Q);return bV(MwA,A,Q)}function hq(A,Q){if(EjQ(A)===$wA)return A.map(Q);return bV($wA,A,[Q])}function qF(A,...Q){if(IjQ(A)===zwA)return A.push(...Q);return bV(zwA,A,Q)}function o$(A,...Q){if(YjQ(A)===wwA)return A.slice(...Q);return bV(wwA,A,Q)}var iyB=Date.prototype.getTime,nyB=Date.prototype.toISOString;var oyB=Set.prototype.add,ryB=Set.prototype.has;var ayB=WeakMap.prototype.set,syB=WeakMap.prototype.get;var LwA=Map.prototype.set,OwA=Map.prototype.get;function GjQ(A){try{return A.set}catch(Q){return}}function JjQ(A){try{return A.get}catch(Q){return}}function RwA(A,Q,B){if(GjQ(A)===LwA)return A.set(Q,B);return bV(LwA,A,[Q,B])}function TwA(A,Q){if(JjQ(A)===OwA)return A.get(Q);return bV(OwA,A,[Q])}var tyB=String.prototype.split,eyB=String.prototype.startsWith,AkB=String.prototype.endsWith,QkB=String.prototype.substring,BkB=String.prototype.toLowerCase,CkB=String.prototype.toUpperCase,EkB=String.prototype.padStart,IkB=String.prototype.charCodeAt,YkB=String.prototype.normalize,GkB=String.prototype.replace;var JkB=Number.prototype.toString;class qwA{constructor(A){this.producer=A}[Symbol.iterator](){if(this.it===void 0)this.it=this.producer();return this.it}next(){if(this.it===void 0)this.it=this.producer();return this.it.next()}}function Dh(A){return new qwA(A)}var DjQ={};function PwA(){return DjQ}var{floor:UjQ,log:_wA}=Math;function jwA(A){return UjQ(_wA(A)/_wA(2))}function xwA(A,Q,B){if(A===Q)return[{min:A,max:Q}];if(A<0&&Q>0){let Y=B(-A),G=B(Q);return[{min:-Y,max:G},{min:Q-G,max:Q},{min:A,max:A+Y}]}let C=B(Q-A),E={min:A,max:A+C},I={min:Q-C,max:Q};return A<0?[I,E]:[E,I]}var{ceil:NjQ,floor:ZjQ}=Math;function SwA(A){return ZjQ(A/2)}function gwA(A){return NjQ(A/2)}function HBA(A,Q,B){let C=A-Q;function*E(){let Y=B?void 0:Q,G=B?C:SwA(C);for(let J=G;J>0;J=SwA(J)){let D=J===C?Q:A-J;yield new uI(D,Y),Y=D}}function*I(){let Y=B?void 0:Q,G=B?C:gwA(C);for(let J=G;J<0;J=gwA(J)){let D=J===C?Q:A-J;yield new uI(D,Y),Y=D}}return C>0?ZBA(E()):ZBA(I())}var vwA=Math.sign,XjQ=Number.isInteger,FjQ=Object.is;class Uh extends IX{constructor(A,Q){super();this.min=A,this.max=Q}generate(A,Q){let B=this.computeGenerateRange(A,Q);return new uI(A.nextInt(B.min,B.max),void 0)}canShrinkWithoutContext(A){return typeof A==="number"&&XjQ(A)&&!FjQ(A,-0)&&this.min<=A&&A<=this.max}shrink(A,Q){if(!Uh.isValidContext(A,Q)){let B=this.defaultTarget();return HBA(A,B,!0)}if(this.isLastChanceTry(A,Q))return WY.of(new uI(Q,void 0));return HBA(A,Q,!1)}defaultTarget(){if(this.min<=0&&this.max>=0)return 0;return this.min<0?this.max:this.min}computeGenerateRange(A,Q){if(Q===void 0||A.nextInt(1,Q)!==1)return{min:this.min,max:this.max};let B=xwA(this.min,this.max,jwA);if(B.length===1)return B[0];let C=A.nextInt(-2*(B.length-1),B.length-2);return C<0?B[0]:B[C+1]}isLastChanceTry(A,Q){if(A>0)return A===Q+1&&A>this.min;if(A<0)return A===Q-1&&A<this.max;return!1}static isValidContext(A,Q){if(Q===void 0)return!1;if(typeof Q!=="number")throw new Error("Invalid context type passed to IntegerArbitrary (#1)");if(Q!==0&&vwA(A)!==vwA(Q))throw new Error("Invalid context value passed to IntegerArbitrary (#2)");return!0}}var ywA=Number.isInteger;function HjQ(A){let Q=A.min!==void 0?A.min:-2147483648,B=A.max!==void 0?A.max:2147483647;return{min:Q,max:B}}function WBA(A={}){let Q=HjQ(A);if(Q.min>Q.max)throw new Error("fc.integer maximum value should be equal or greater than the minimum one");if(!ywA(Q.min))throw new Error("fc.integer minimum value should be an integer");if(!ywA(Q.max))throw new Error("fc.integer maximum value should be an integer");return new Uh(Q.min,Q.max)}var kwA=new Map;function bwA(A){if(A===void 0)return{depth:0};if(typeof A!=="string")return A;let Q=TwA(kwA,A);if(Q!==void 0)return Q;let B={depth:0};return RwA(kwA,A,B),B}class KBA{constructor(A,Q,B){this.arb=A,this.mrng=Q,this.biasFactor=B}attemptExact(){return}next(){return this.arb.generate(this.mrng,this.biasFactor)}}var{min:WjQ,max:KjQ}=Math;class VBA{constructor(A,Q,B,C){this.arb=A,this.mrng=Q,this.slices=B,this.biasFactor=C,this.activeSliceIndex=0,this.nextIndexInSlice=0,this.lastIndexInSlice=-1}attemptExact(A){if(A!==0&&this.mrng.nextInt(1,this.biasFactor)===1){let Q=[];for(let B=0;B!==this.slices.length;++B)if(this.slices[B].length===A)qF(Q,B);if(Q.length===0)return;this.activeSliceIndex=Q[this.mrng.nextInt(0,Q.length-1)],this.nextIndexInSlice=0,this.lastIndexInSlice=A-1}}next(){if(this.nextIndexInSlice<=this.lastIndexInSlice)return new uI(this.slices[this.activeSliceIndex][this.nextIndexInSlice++],void 0);if(this.mrng.nextInt(1,this.biasFactor)!==1)return this.arb.generate(this.mrng,this.biasFactor);this.activeSliceIndex=this.mrng.nextInt(0,this.slices.length-1);let A=this.slices[this.activeSliceIndex];if(this.mrng.nextInt(1,this.biasFactor)!==1)return this.nextIndexInSlice=1,this.lastIndexInSlice=A.length-1,new uI(A[0],void 0);let Q=this.mrng.nextInt(0,A.length-1),B=this.mrng.nextInt(0,A.length-1);return this.nextIndexInSlice=WjQ(Q,B),this.lastIndexInSlice=KjQ(Q,B),new uI(A[this.nextIndexInSlice++],void 0)}}function MBA(A,Q,B,C){if(C===void 0||B.length===0||Q.nextInt(1,C)!==1)return new KBA(A,Q,C);return new VBA(A,Q,B,C)}var{floor:VjQ,log:hwA,max:mwA}=Math,MjQ=Array.isArray;function $BA(A,Q){if(A===Q)return A;return A+VjQ(hwA(Q-A)/hwA(2))}class Nh extends IX{constructor(A,Q,B,C,E,I,Y){super();this.arb=A,this.minLength=Q,this.maxGeneratedLength=B,this.maxLength=C,this.setBuilder=I,this.customSlices=Y,this.lengthArb=WBA({min:Q,max:B}),this.depthContext=bwA(E)}preFilter(A){if(this.setBuilder===void 0)return A;let Q=this.setBuilder();for(let B=0;B!==A.length;++B)Q.tryAdd(A[B]);return Q.getData()}static makeItCloneable(A,Q){return A[_1]=()=>{let B=[];for(let C=0;C!==Q.length;++C)qF(B,Q[C].value);return this.makeItCloneable(B,Q),B},A}generateNItemsNoDuplicates(A,Q,B,C){let E=0,I=A(),Y=MBA(this.arb,B,this.customSlices,C);while(I.size()<Q&&E<this.maxGeneratedLength){let G=Y.next();if(I.tryAdd(G))E=0;else E+=1}return I.getData()}safeGenerateNItemsNoDuplicates(A,Q,B,C){let E=mwA(0,Q-$BA(this.minLength,this.maxGeneratedLength));this.depthContext.depth+=E;try{return this.generateNItemsNoDuplicates(A,Q,B,C)}finally{this.depthContext.depth-=E}}generateNItems(A,Q,B){let C=[],E=MBA(this.arb,Q,this.customSlices,B);E.attemptExact(A);for(let I=0;I!==A;++I){let Y=E.next();qF(C,Y)}return C}safeGenerateNItems(A,Q,B){let C=mwA(0,A-$BA(this.minLength,this.maxGeneratedLength));this.depthContext.depth+=C;try{return this.generateNItems(A,Q,B)}finally{this.depthContext.depth-=C}}wrapper(A,Q,B,C){let E=Q?this.preFilter(A):A,I=!1,Y=[],G=[];for(let D=0;D!==E.length;++D){let U=E[D];I=I||U.hasToBeCloned,qF(Y,U.value),qF(G,U.context)}if(I)Nh.makeItCloneable(Y,E);let J={shrunkOnce:Q,lengthContext:A.length===E.length&&B!==void 0?B:void 0,itemsContexts:G,startIndex:C};return new uI(Y,J)}generate(A,Q){let B=this.applyBias(A,Q),C=B.size,E=this.setBuilder!==void 0?this.safeGenerateNItemsNoDuplicates(this.setBuilder,C,A,B.biasFactorItems):this.safeGenerateNItems(C,A,B.biasFactorItems);return this.wrapper(E,!1,void 0,0)}applyBias(A,Q){if(Q===void 0)return{size:this.lengthArb.generate(A,void 0).value};if(this.minLength===this.maxGeneratedLength)return{size:this.lengthArb.generate(A,void 0).value,biasFactorItems:Q};if(A.nextInt(1,Q)!==1)return{size:this.lengthArb.generate(A,void 0).value};if(A.nextInt(1,Q)!==1||this.minLength===this.maxGeneratedLength)return{size:this.lengthArb.generate(A,void 0).value,biasFactorItems:Q};let B=$BA(this.minLength,this.maxGeneratedLength);return{size:WBA({min:this.minLength,max:B}).generate(A,void 0).value,biasFactorItems:Q}}canShrinkWithoutContext(A){if(!MjQ(A)||this.minLength>A.length||A.length>this.maxLength)return!1;for(let B=0;B!==A.length;++B){if(!(B in A))return!1;if(!this.arb.canShrinkWithoutContext(A[B]))return!1}return this.preFilter(hq(A,(B)=>new uI(B,void 0))).length===A.length}shrinkItemByItem(A,Q,B){let C=[];for(let E=Q.startIndex;E<B;++E)qF(C,Dh(()=>this.arb.shrink(A[E],Q.itemsContexts[E]).map((I)=>{let Y=hq(o$(A,0,E),(J,D)=>new uI(bq(J),Q.itemsContexts[D])),G=hq(o$(A,E+1),(J,D)=>new uI(bq(J),Q.itemsContexts[D+E+1]));return[[...Y,I,...G],void 0,E]})));return WY.nil().join(...C)}shrinkImpl(A,Q){if(A.length===0)return WY.nil();let B=Q!==void 0?Q:{shrunkOnce:!1,lengthContext:void 0,itemsContexts:[],startIndex:0};return this.lengthArb.shrink(A.length,B.lengthContext).drop(B.shrunkOnce&&B.lengthContext===void 0&&A.length>this.minLength+1?1:0).map((C)=>{let E=A.length-C.value;return[hq(o$(A,E),(I,Y)=>new uI(bq(I),B.itemsContexts[Y+E])),C.context,0]}).join(Dh(()=>A.length>this.minLength?this.shrinkItemByItem(A,B,1):this.shrinkItemByItem(A,B,A.length))).join(A.length>this.minLength?Dh(()=>{let C={shrunkOnce:!1,lengthContext:void 0,itemsContexts:o$(B.itemsContexts,1),startIndex:0};return this.shrinkImpl(o$(A,1),C).filter((E)=>this.minLength<=E[0].length+1).map((E)=>{return[[new uI(bq(A[0]),B.itemsContexts[0]),...E[0]],void 0,0]})}):WY.nil())}shrink(A,Q){return this.shrinkImpl(A,Q).map((B)=>this.wrapper(B[0],!0,B[1],B[2]))}}var{floor:$jQ,min:zjQ}=Math,fwA=2147483647,r$=["xsmall","small","medium","large","xlarge"],wjQ=["-4","-3","-2","-1","=","+1","+2","+3","+4"],LjQ="small";function OjQ(A,Q){switch(Q){case"xsmall":return $jQ(1.1*A)+1;case"small":return 2*A+10;case"medium":return 11*A+100;case"large":return 101*A+1000;case"xlarge":return 1001*A+1e4;default:throw new Error(`Unable to compute lengths based on received size: ${Q}`)}}function RjQ(A,Q){let B=FBA(wjQ,A);if(B===-1)return A;let C=FBA(r$,Q);if(C===-1)throw new Error(`Unable to offset size based on the unknown defaulted one: ${Q}`);let E=C+B-4;return E<0?r$[0]:E>=r$.length?r$[r$.length-1]:r$[E]}function dwA(A,Q,B,C){let{baseSize:E=LjQ,defaultSizeToMaxWhenMaxSpecified:I}=PwA()||{},Y=A!==void 0?A:C&&I?"max":E;if(Y==="max")return B;let G=RjQ(Y,E);return zjQ(OjQ(Q,G),B)}function zBA(A,Q={}){let B=Q.size,C=Q.minLength||0,E=Q.maxLength,I=Q.depthIdentifier,Y=E!==void 0?E:fwA,J=dwA(B,C,Y,E!==void 0),D=Q.experimentalCustomSlices||[];return new Nh(A,C,J,Y,I,void 0,D)}var mq=(A,Q)=>{switch(Q._tag){case"StringKeyword":case"TemplateLiteral":return Object.keys(A);case"SymbolKeyword":return Object.getOwnPropertySymbols(A);case"Refinement":return mq(A,Q.from)}},T2=(A)=>Object.keys(A).concat(Object.getOwnPropertySymbols(A)),j1=(A)=>{let Q=!1,B;return()=>{if(Q)return B;return B=A(),Q=!0,B}},q2=(A)=>{try{return A.toISOString()}catch{return String(A)}},yY=(A,Q=!0)=>{if(Array.isArray(A))return`[${A.map((B)=>yY(B,Q)).join(",")}]`;if($V(A))return q2(A);if(o(A,"toString")&&EU(A.toString)&&A.toString!==Object.prototype.toString)return A.toString();if(cC(A))return JSON.stringify(A);if(BG(A)||A==null||SG(A)||CU(A))return String(A);if(LN(A))return String(A)+"n";if(mJ(A))return`${A.constructor.name}(${yY(Array.from(A),Q)})`;try{if(Q)JSON.stringify(A);let B=`{${T2(A).map((E)=>`${cC(E)?JSON.stringify(E):String(E)}:${yY(A[E],!1)}`).join(",")}}`,C=A.constructor.name;return A.constructor!==Object.prototype.constructor?`${C}(${B})`:B}catch{return"<circular structure>"}},PF=(A)=>typeof A==="string"?JSON.stringify(A):String(A),Zh=(A)=>Array.isArray(A),pwA=(A)=>!Array.isArray(A),uwA=(A)=>`[${PF(A)}]`,Xh=(A)=>Zh(A)?A.map(uwA).join(""):uwA(A);var ZU=(A,Q,B,C)=>{let E=A;if(B&&oB(B))E+=`
at path: ${Xh(B)}`;if(Q!==void 0)E+=`
details: ${Q}`;if(C)E+=`
schema (${C._tag}): ${C}`;return E},Fh=(A)=>ZU("Invalid Argument",A),LBA=(A,Q,B)=>ZU("Unsupported schema",A,Q,B),TjQ=(A,Q,B)=>ZU("Missing annotation",A,Q,B);var cwA=(A,Q)=>LBA("Cannot build an Equivalence",Q,A);var lwA=(A,Q)=>TjQ('Generating a Pretty for this schema requires a "pretty" annotation',A,Q),iwA="Cannot pretty print a `never` value",nwA=(A,Q,B)=>ZU("Unexpected Error",`Cannot find a matching schema for ${yY(A)}`,Q,B),OBA=(A,Q,B)=>ZU("Unsupported schema or overlapping types",`cannot extend ${A} with ${Q}`,B),owA=(A)=>ZU("Unsupported template literal span",void 0,void 0,A),x1=(A)=>LBA(void 0,void 0,A),rwA=(A)=>ZU("Unsupported key schema",void 0,void 0,A),awA=(A)=>ZU("Unsupported literal",`literal value: ${yY(A)}`),RBA=(A)=>ZU("Duplicate index signature",`${A} index signature`),swA=ZU("Unsupported index signature parameter","An index signature parameter type must be `string`, `symbol`, a template literal type or a refinement of the previous types"),twA=ZU("Invalid element","A required element cannot follow an optional element. ts(1257)"),TBA=(A)=>ZU("Duplicate property signature transformation",`Duplicate key ${yY(A)}`),ewA=(A)=>LBA(void 0,void 0,A),Hh=(A)=>ZU("Duplicate property signature",`Duplicate key ${yY(A)}`);var qBA=Symbol.for("effect/SchemaId/DateFromSelf"),ALA=Symbol.for("effect/SchemaId/GreaterThan"),QLA=Symbol.for("effect/SchemaId/GreaterThanOrEqualTo"),BLA=Symbol.for("effect/SchemaId/LessThan"),CLA=Symbol.for("effect/SchemaId/LessThanOrEqualTo"),ELA=Symbol.for("effect/SchemaId/Int"),PBA=Symbol.for("effect/SchemaId/NonNaN"),ILA=Symbol.for("effect/SchemaId/Finite"),YLA=Symbol.for("effect/SchemaId/JsonNumber"),GLA=Symbol.for("effect/SchemaId/Between"),JLA=Symbol.for("effect/SchemaId/GreaterThanBigint"),DLA=Symbol.for("effect/SchemaId/GreaterThanOrEqualToBigint"),ULA=Symbol.for("effect/SchemaId/LessThanBigint"),NLA=Symbol.for("effect/SchemaId/LessThanOrEqualToBigint"),ZLA=Symbol.for("effect/SchemaId/BetweenBigint"),XLA=Symbol.for("effect/SchemaId/MinLength"),FLA=Symbol.for("effect/SchemaId/MaxLength"),HLA=Symbol.for("effect/SchemaId/Length"),WLA=Symbol.for("effect/SchemaId/MinItems"),KLA=Symbol.for("effect/SchemaId/MaxItems"),VLA=Symbol.for("effect/SchemaId/ItemsCount");var bG={};ZQ(bG,{voidKeyword:()=>pBA,unknownKeyword:()=>jh,unify:()=>yLA,undefinedKeyword:()=>gF,typeAST:()=>RC,symbolKeyword:()=>A0A,stringKeyword:()=>Jz,required:()=>hV,rename:()=>Bz,record:()=>hh,pruneUndefined:()=>uh,pickAnnotations:()=>mh,pick:()=>jN,partial:()=>xF,orUndefined:()=>Qz,omitAnnotations:()=>F0A,omit:()=>Z0A,objectKeyword:()=>B0A,numberKeyword:()=>Uz,null:()=>fBA,neverKeyword:()=>Gz,mutable:()=>jF,mapMembers:()=>Y0A,keyof:()=>D0A,isVoidKeyword:()=>xLA,isUnknownKeyword:()=>jjQ,isUniqueSymbol:()=>jLA,isUnion:()=>kF,isUndefinedKeyword:()=>_jQ,isTypeLiteralTransformation:()=>pV,isTypeLiteral:()=>kh,isTupleType:()=>bjQ,isTransformation:()=>bh,isTemplateLiteral:()=>C0A,isSymbolKeyword:()=>aq,isSuspend:()=>djQ,isStringKeyword:()=>Dz,isRefinement:()=>GX,isParameter:()=>E0A,isObjectKeyword:()=>gjQ,isNumberKeyword:()=>Sh,isNeverKeyword:()=>lBA,isMembers:()=>tq,isLiteral:()=>R8,isFinalTransformation:()=>ujQ,isEnums:()=>SLA,isDeclaration:()=>_LA,isComposeTransformation:()=>pjQ,isBooleanKeyword:()=>gh,isBigIntKeyword:()=>SjQ,isAnyKeyword:()=>xjQ,hasStableFilter:()=>Ph,getTransformationFrom:()=>dq,getTitleAnnotation:()=>oq,getTemplateLiteralRegExp:()=>QP,getTemplateLiteralCapturingRegExp:()=>N0A,getSurrogateAnnotation:()=>L8,getSchemaIdAnnotation:()=>RLA,getPropertySignatures:()=>Wh,getPropertyKeyIndexedAccess:()=>S1,getParseOptionsAnnotation:()=>bBA,getParseIssueTitleAnnotation:()=>kBA,getNumberIndexedAccess:()=>Az,getMissingMessageAnnotation:()=>SBA,getMessageAnnotation:()=>xBA,getJSONSchemaAnnotation:()=>gBA,getJSONIdentifierAnnotation:()=>PLA,getJSONIdentifier:()=>mBA,getIdentifierAnnotation:()=>fV,getExamplesAnnotation:()=>TLA,getEncodedParameter:()=>YX,getDocumentationAnnotation:()=>qjQ,getDescriptionAnnotation:()=>rq,getDefaultAnnotation:()=>qLA,getDecodingFallbackAnnotation:()=>hBA,getConcurrencyAnnotation:()=>vBA,getCompiler:()=>X0A,getBrandAnnotation:()=>Th,getBatchingAnnotation:()=>yBA,getAutoTitleAnnotation:()=>qh,getAnnotation:()=>bE,flatten:()=>I0A,equals:()=>fh,encodedBoundAST:()=>H0A,encodedAST:()=>cV,defaultParseOption:()=>Zz,composeTransformation:()=>AP,compose:()=>dh,booleanKeyword:()=>Nz,bigIntKeyword:()=>tBA,anyKeyword:()=>xh,annotations:()=>XU,VoidKeyword:()=>uBA,UnknownKeyword:()=>iBA,UniqueSymbol:()=>uV,Union:()=>kC,UndefinedKeyword:()=>dBA,TypeLiteralTransformation:()=>b1,TypeLiteral:()=>IG,Type:()=>yF,TupleType:()=>v1,Transformation:()=>kG,TitleAnnotationId:()=>fJ,TemplateLiteralSpan:()=>vF,TemplateLiteral:()=>sq,SymbolKeyword:()=>eBA,Suspend:()=>gN,SurrogateAnnotationId:()=>Ez,StringKeyword:()=>oBA,StableFilterAnnotationId:()=>Iz,SchemaIdAnnotationId:()=>SF,Refinement:()=>k1,PropertySignatureTransformation:()=>Xz,PropertySignature:()=>AE,PrettyAnnotationId:()=>Cz,ParseOptionsAnnotationId:()=>Oh,ParseJsonSchemaId:()=>_h,ParseIssueTitleAnnotationId:()=>Lh,OptionalType:()=>_2,ObjectKeyword:()=>Q0A,NumberKeyword:()=>rBA,NeverKeyword:()=>cBA,MissingMessageAnnotationId:()=>uq,MessageAnnotationId:()=>Mh,Literal:()=>O8,JSONSchemaAnnotationId:()=>lq,JSONIdentifierAnnotationId:()=>Yz,IndexSignature:()=>y1,IdentifierAnnotationId:()=>mV,FinalTransformation:()=>eq,ExamplesAnnotationId:()=>pq,EquivalenceAnnotationId:()=>nq,Enums:()=>vh,DocumentationAnnotationId:()=>$h,DescriptionAnnotationId:()=>SN,DefaultAnnotationId:()=>cq,DecodingFallbackAnnotationId:()=>Rh,Declaration:()=>dV,ConcurrencyAnnotationId:()=>zh,ComposeTransformation:()=>J0A,BrandAnnotationId:()=>Vh,BooleanKeyword:()=>aBA,BigIntKeyword:()=>sBA,BatchingAnnotationId:()=>wh,AutoTitleAnnotationId:()=>g1,ArbitraryAnnotationId:()=>iq,AnyKeyword:()=>nBA});var xI=_V;var $LA=L1(xI);var zLA=F(2,(A,Q)=>{let B=(A.toString().split(".")[1]||"").length,C=(Q.toString().split(".")[1]||"").length,E=B>C?B:C,I=parseInt(A.toFixed(E).replace(".","")),Y=parseInt(Q.toFixed(E).replace(".",""));return I%Y/Math.pow(10,E)}),wLA=(A)=>{let Q=Math.ceil(Math.log(A)/Math.log(2));return Math.max(Math.pow(2,Q),2)},LLA=(A)=>{if(A==="NaN")return vG(NaN);if(A==="Infinity")return vG(1/0);if(A==="-Infinity")return vG(-1/0);if(A.trim()==="")return RN;let Q=Number(A);return Number.isNaN(Q)?RN:vG(Q)};var s$=(A)=>A.replace(/[/\\^$*+?.()|[\]{}]/g,"\\$&");var Vh=Symbol.for("effect/annotation/Brand"),SF=Symbol.for("effect/annotation/SchemaId"),Mh=Symbol.for("effect/annotation/Message"),uq=Symbol.for("effect/annotation/MissingMessage"),mV=Symbol.for("effect/annotation/Identifier"),fJ=Symbol.for("effect/annotation/Title"),g1=Symbol.for("effect/annotation/AutoTitle"),SN=Symbol.for("effect/annotation/Description"),pq=Symbol.for("effect/annotation/Examples"),cq=Symbol.for("effect/annotation/Default"),lq=Symbol.for("effect/annotation/JSONSchema"),iq=Symbol.for("effect/annotation/Arbitrary"),Cz=Symbol.for("effect/annotation/Pretty"),nq=Symbol.for("effect/annotation/Equivalence"),$h=Symbol.for("effect/annotation/Documentation"),zh=Symbol.for("effect/annotation/Concurrency"),wh=Symbol.for("effect/annotation/Batching"),Lh=Symbol.for("effect/annotation/ParseIssueTitle"),Oh=Symbol.for("effect/annotation/ParseOptions"),Rh=Symbol.for("effect/annotation/DecodingFallback"),Ez=Symbol.for("effect/annotation/Surrogate"),Iz=Symbol.for("effect/annotation/StableFilter"),bE=F(2,(A,Q)=>Object.prototype.hasOwnProperty.call(A.annotations,Q)?j(A.annotations[Q]):x()),Th=bE(Vh),RLA=bE(SF),xBA=bE(Mh),SBA=bE(uq),oq=bE(fJ),qh=bE(g1),fV=bE(mV),rq=bE(SN),TLA=bE(pq),qLA=bE(cq),gBA=bE(lq),qjQ=bE($h),vBA=bE(zh),yBA=bE(wh),kBA=bE(Lh),bBA=bE(Oh),hBA=bE(Rh),L8=bE(Ez),PjQ=bE(Iz),Ph=(A)=>CBA(PjQ(A),(Q)=>Q===!0),Yz=Symbol.for("effect/annotation/JSONIdentifier"),PLA=bE(Yz),mBA=(A)=>KI(PLA(A),()=>fV(A)),_h=Symbol.for("effect/schema/ParseJson");class dV{typeParameters;decodeUnknown;encodeUnknown;annotations;_tag="Declaration";constructor(A,Q,B,C={}){this.typeParameters=A,this.decodeUnknown=Q,this.encodeUnknown=B,this.annotations=C}toString(){return YQ(xN(this),()=>"<declaration schema>")}toJSON(){return{_tag:this._tag,typeParameters:this.typeParameters.map((A)=>A.toJSON()),annotations:tE(this.annotations)}}}var pI=(A)=>(Q)=>Q._tag===A,_LA=pI("Declaration");class O8{literal;annotations;_tag="Literal";constructor(A,Q={}){this.literal=A,this.annotations=Q}toString(){return YQ(xN(this),()=>yY(this.literal))}toJSON(){return{_tag:this._tag,literal:LN(this.literal)?String(this.literal):this.literal,annotations:tE(this.annotations)}}}var R8=pI("Literal"),fBA=new O8(null);class uV{symbol;annotations;_tag="UniqueSymbol";constructor(A,Q={}){this.symbol=A,this.annotations=Q}toString(){return YQ(xN(this),()=>yY(this.symbol))}toJSON(){return{_tag:this._tag,symbol:String(this.symbol),annotations:tE(this.annotations)}}}var jLA=pI("UniqueSymbol");class dBA{annotations;_tag="UndefinedKeyword";constructor(A={}){this.annotations=A}toString(){return T8(this)}toJSON(){return{_tag:this._tag,annotations:tE(this.annotations)}}}var gF=new dBA({[fJ]:"undefined"}),_jQ=pI("UndefinedKeyword");class uBA{annotations;_tag="VoidKeyword";constructor(A={}){this.annotations=A}toString(){return T8(this)}toJSON(){return{_tag:this._tag,annotations:tE(this.annotations)}}}var pBA=new uBA({[fJ]:"void"}),xLA=pI("VoidKeyword");class cBA{annotations;_tag="NeverKeyword";constructor(A={}){this.annotations=A}toString(){return T8(this)}toJSON(){return{_tag:this._tag,annotations:tE(this.annotations)}}}var Gz=new cBA({[fJ]:"never"}),lBA=pI("NeverKeyword");class iBA{annotations;_tag="UnknownKeyword";constructor(A={}){this.annotations=A}toString(){return T8(this)}toJSON(){return{_tag:this._tag,annotations:tE(this.annotations)}}}var jh=new iBA({[fJ]:"unknown"}),jjQ=pI("UnknownKeyword");class nBA{annotations;_tag="AnyKeyword";constructor(A={}){this.annotations=A}toString(){return T8(this)}toJSON(){return{_tag:this._tag,annotations:tE(this.annotations)}}}var xh=new nBA({[fJ]:"any"}),xjQ=pI("AnyKeyword");class oBA{annotations;_tag="StringKeyword";constructor(A={}){this.annotations=A}toString(){return T8(this)}toJSON(){return{_tag:this._tag,annotations:tE(this.annotations)}}}var Jz=new oBA({[fJ]:"string",[SN]:"a string"}),Dz=pI("StringKeyword");class rBA{annotations;_tag="NumberKeyword";constructor(A={}){this.annotations=A}toString(){return T8(this)}toJSON(){return{_tag:this._tag,annotations:tE(this.annotations)}}}var Uz=new rBA({[fJ]:"number",[SN]:"a number"}),Sh=pI("NumberKeyword");class aBA{annotations;_tag="BooleanKeyword";constructor(A={}){this.annotations=A}toString(){return T8(this)}toJSON(){return{_tag:this._tag,annotations:tE(this.annotations)}}}var Nz=new aBA({[fJ]:"boolean",[SN]:"a boolean"}),gh=pI("BooleanKeyword");class sBA{annotations;_tag="BigIntKeyword";constructor(A={}){this.annotations=A}toString(){return T8(this)}toJSON(){return{_tag:this._tag,annotations:tE(this.annotations)}}}var tBA=new sBA({[fJ]:"bigint",[SN]:"a bigint"}),SjQ=pI("BigIntKeyword");class eBA{annotations;_tag="SymbolKeyword";constructor(A={}){this.annotations=A}toString(){return T8(this)}toJSON(){return{_tag:this._tag,annotations:tE(this.annotations)}}}var A0A=new eBA({[fJ]:"symbol",[SN]:"a symbol"}),aq=pI("SymbolKeyword");class Q0A{annotations;_tag="ObjectKeyword";constructor(A={}){this.annotations=A}toString(){return T8(this)}toJSON(){return{_tag:this._tag,annotations:tE(this.annotations)}}}var B0A=new Q0A({[fJ]:"object",[SN]:"an object in the TypeScript meaning, i.e. the `object` type"}),gjQ=pI("ObjectKeyword");class vh{enums;annotations;_tag="Enums";constructor(A,Q={}){this.enums=A,this.annotations=Q}toString(){return YQ(xN(this),()=>`<enum ${this.enums.length} value(s): ${this.enums.map(([A,Q])=>JSON.stringify(Q)).join(" | ")}>`)}toJSON(){return{_tag:this._tag,enums:this.enums,annotations:tE(this.annotations)}}}var SLA=pI("Enums"),gLA=(A)=>{switch(A._tag){case"Literal":case"NumberKeyword":case"StringKeyword":case"TemplateLiteral":return!0;case"Union":return A.types.every(gLA)}return!1},vLA=(A)=>{switch(A._tag){case"Literal":return JSON.stringify(String(A.literal));case"StringKeyword":return"string";case"NumberKeyword":return"number";case"TemplateLiteral":return String(A);case"Union":return A.types.map(vLA).join(" | ")}},vjQ=(A)=>{switch(A._tag){case"Literal":return String(A.literal);case"StringKeyword":return"${string}";case"NumberKeyword":return"${number}";case"TemplateLiteral":return"${"+String(A)+"}";case"Union":return"${"+A.types.map(vLA).join(" | ")+"}"}};class vF{literal;type;constructor(A,Q){if(this.literal=Q,gLA(A))this.type=A;else throw new Error(owA(A))}toString(){return vjQ(this.type)+this.literal}toJSON(){return{type:this.type.toJSON(),literal:this.literal}}}class sq{head;spans;annotations;_tag="TemplateLiteral";constructor(A,Q,B={}){this.head=A,this.spans=Q,this.annotations=B}toString(){return YQ(xN(this),()=>yjQ(this))}toJSON(){return{_tag:this._tag,head:this.head,spans:this.spans.map((A)=>A.toJSON()),annotations:tE(this.annotations)}}}var yjQ=(A)=>"`"+A.head+A.spans.map(String).join("")+"`",C0A=pI("TemplateLiteral");class yF{type;annotations;constructor(A,Q={}){this.type=A,this.annotations=Q}toJSON(){return{type:this.type.toJSON(),annotations:tE(this.annotations)}}toString(){return String(this.type)}}class _2 extends yF{isOptional;constructor(A,Q,B={}){super(A,B);this.isOptional=Q}toJSON(){return{type:this.type.toJSON(),isOptional:this.isOptional,annotations:tE(this.annotations)}}toString(){return String(this.type)+(this.isOptional?"?":"")}}var yh=(A)=>A.map((Q)=>Q.type);class v1{elements;rest;isReadonly;annotations;_tag="TupleType";constructor(A,Q,B,C={}){this.elements=A,this.rest=Q,this.isReadonly=B,this.annotations=C;let E=!1,I=!1;for(let Y of A)if(Y.isOptional)E=!0;else if(E){I=!0;break}if(I||E&&Q.length>1)throw new Error(twA)}toString(){return YQ(xN(this),()=>kjQ(this))}toJSON(){return{_tag:this._tag,elements:this.elements.map((A)=>A.toJSON()),rest:this.rest.map((A)=>A.toJSON()),isReadonly:this.isReadonly,annotations:tE(this.annotations)}}}var kjQ=(A)=>{let Q=A.elements.map(String).join(", ");return d$(A.rest,{onEmpty:()=>`readonly [${Q}]`,onNonEmpty:(B,C)=>{let E=String(B),I=E.includes(" | ")?`(${E})`:E;if(C.length>0){let Y=C.map(String).join(", ");if(A.elements.length>0)return`readonly [${Q}, ...${I}[], ${Y}]`;else return`readonly [...${I}[], ${Y}]`}else if(A.elements.length>0)return`readonly [${Q}, ...${I}[]]`;else return`ReadonlyArray<${E}>`}})},bjQ=pI("TupleType");class AE extends _2{name;isReadonly;constructor(A,Q,B,C,E){super(Q,B,E);this.name=A,this.isReadonly=C}toString(){return(this.isReadonly?"readonly ":"")+String(this.name)+(this.isOptional?"?":"")+": "+this.type}toJSON(){return{name:String(this.name),type:this.type.toJSON(),isOptional:this.isOptional,isReadonly:this.isReadonly,annotations:tE(this.annotations)}}}var E0A=(A)=>{switch(A._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return!0;case"Refinement":return E0A(A.from)}return!1};class y1{type;isReadonly;parameter;constructor(A,Q,B){if(this.type=Q,this.isReadonly=B,E0A(A))this.parameter=A;else throw new Error(swA)}toString(){return(this.isReadonly?"readonly ":"")+`[x: ${this.parameter}]: ${this.type}`}toJSON(){return{parameter:this.parameter.toJSON(),type:this.type.toJSON(),isReadonly:this.isReadonly}}}class IG{annotations;_tag="TypeLiteral";propertySignatures;indexSignatures;constructor(A,Q,B={}){this.annotations=B;let C={};for(let I=0;I<A.length;I++){let Y=A[I].name;if(Object.prototype.hasOwnProperty.call(C,Y))throw new Error(Hh(Y));C[Y]=null}let E={string:!1,symbol:!1};for(let I=0;I<Q.length;I++){let Y=YX(Q[I].parameter);if(Dz(Y)){if(E.string)throw new Error(RBA("string"));E.string=!0}else if(aq(Y)){if(E.symbol)throw new Error(RBA("symbol"));E.symbol=!0}}this.propertySignatures=A,this.indexSignatures=Q}toString(){return YQ(xN(this),()=>hjQ(this))}toJSON(){return{_tag:this._tag,propertySignatures:this.propertySignatures.map((A)=>A.toJSON()),indexSignatures:this.indexSignatures.map((A)=>A.toJSON()),annotations:tE(this.annotations)}}}var OLA=(A)=>A.map(String).join("; "),hjQ=(A)=>{if(A.propertySignatures.length>0){let Q=A.propertySignatures.map(String).join("; ");if(A.indexSignatures.length>0)return`{ ${Q}; ${OLA(A.indexSignatures)} }`;else return`{ ${Q} }`}else if(A.indexSignatures.length>0)return`{ ${OLA(A.indexSignatures)} }`;else return"{}"},kh=pI("TypeLiteral"),mjQ=EG(R2(xI,(A)=>{switch(A._tag){case"AnyKeyword":return 0;case"UnknownKeyword":return 1;case"ObjectKeyword":return 2;case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"SymbolKeyword":return 3}return 4})),fjQ={string:"StringKeyword",number:"NumberKeyword",boolean:"BooleanKeyword",bigint:"BigIntKeyword"},I0A=(A)=>EX(A,(Q)=>kF(Q)?I0A(Q.types):[Q]),yLA=(A)=>{let Q=mjQ(A),B=[],C={},E=[];for(let I of Q)switch(I._tag){case"NeverKeyword":break;case"AnyKeyword":return[xh];case"UnknownKeyword":return[jh];case"ObjectKeyword":case"UndefinedKeyword":case"VoidKeyword":case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"SymbolKeyword":{if(!C[I._tag])C[I._tag]=I,B.push(I);break}case"Literal":{let Y=typeof I.literal;switch(Y){case"string":case"number":case"bigint":case"boolean":{let G=fjQ[Y];if(!C[G]&&!E.includes(I.literal))E.push(I.literal),B.push(I);break}case"object":{if(!E.includes(I.literal))E.push(I.literal),B.push(I);break}}break}case"UniqueSymbol":{if(!C.SymbolKeyword&&!E.includes(I.symbol))E.push(I.symbol),B.push(I);break}case"TupleType":{if(!C.ObjectKeyword)B.push(I);break}case"TypeLiteral":{if(I.propertySignatures.length===0&&I.indexSignatures.length===0){if(!C["{}"])C["{}"]=I,B.push(I)}else if(!C.ObjectKeyword)B.push(I);break}default:B.push(I)}return B};class kC{types;annotations;static make=(A,Q)=>{return tq(A)?new kC(A,Q):A.length===1?A[0]:Gz};static unify=(A,Q)=>{return kC.make(yLA(I0A(A)),Q)};_tag="Union";constructor(A,Q={}){this.types=A,this.annotations=Q}toString(){return YQ(xN(this),()=>this.types.map(String).join(" | "))}toJSON(){return{_tag:this._tag,types:this.types.map((A)=>A.toJSON()),annotations:tE(this.annotations)}}}var Y0A=(A,Q)=>A.map(Q),tq=(A)=>A.length>1,kF=pI("Union"),jBA=xA(Symbol.for("effect/Schema/AST/toJSONMemoMap"),()=>new WeakMap);class gN{f;annotations;_tag="Suspend";constructor(A,Q={}){this.f=A,this.annotations=Q,this.f=j1(A)}toString(){return xN(this).pipe(KI(()=>qE(AX(this.f)(),(A)=>xN(A))),YQ(()=>"<suspended schema>"))}toJSON(){let A=this.f(),Q=jBA.get(A);if(Q)return Q;return jBA.set(A,{_tag:this._tag}),Q={_tag:this._tag,ast:A.toJSON(),annotations:tE(this.annotations)},jBA.set(A,Q),Q}}var djQ=pI("Suspend");class k1{from;filter;annotations;_tag="Refinement";constructor(A,Q,B={}){this.from=A,this.filter=Q,this.annotations=B}toString(){return fV(this).pipe(YQ(()=>HA(mLA(this),{onNone:()=>`{ ${this.from} | filter }`,onSome:(A)=>GX(this.from)?String(this.from)+" & "+A:A})))}toJSON(){return{_tag:this._tag,from:this.from.toJSON(),annotations:tE(this.annotations)}}}var GX=pI("Refinement"),Zz={};class kG{from;to;transformation;annotations;_tag="Transformation";constructor(A,Q,B,C={}){this.from=A,this.to=Q,this.transformation=B,this.annotations=C}toString(){return YQ(xN(this),()=>`(${String(this.from)} <-> ${String(this.to)})`)}toJSON(){return{_tag:this._tag,from:this.from.toJSON(),to:this.to.toJSON(),annotations:tE(this.annotations)}}}var bh=pI("Transformation");class eq{decode;encode;_tag="FinalTransformation";constructor(A,Q){this.decode=A,this.encode=Q}}var G0A=(A)=>(Q)=>Q._tag===A,ujQ=G0A("FinalTransformation");class J0A{_tag="ComposeTransformation"}var AP=new J0A,pjQ=G0A("ComposeTransformation");class Xz{from;to;decode;encode;constructor(A,Q,B,C){this.from=A,this.to=Q,this.decode=B,this.encode=C}}var kLA=(A)=>A.decode===s&&A.encode===s;class b1{propertySignatureTransformations;_tag="TypeLiteralTransformation";constructor(A){this.propertySignatureTransformations=A;let Q={},B={};for(let C of A){let E=C.from;if(Q[E])throw new Error(TBA(E));Q[E]=!0;let I=C.to;if(B[I])throw new Error(TBA(I));B[I]=!0}}}var pV=G0A("TypeLiteralTransformation"),XU=(A,Q)=>{let B=Object.getOwnPropertyDescriptors(A),C={...A.annotations,...Q},E=L8(A);if(XA(E))C[Ez]=XU(E.value,Q);return B.annotations.value=C,Object.create(Object.getPrototypeOf(A),B)},D0A=(A)=>kC.unify(e$(A)),cjQ="[\\s\\S]*",ljQ="[+-]?\\d*\\.?\\d+(?:[Ee][+-]?\\d+)?",bLA=(A,Q)=>{switch(A._tag){case"Literal":return s$(String(A.literal));case"StringKeyword":return cjQ;case"NumberKeyword":return ljQ;case"TemplateLiteral":return U0A(A,Q,!1);case"Union":return A.types.map((B)=>bLA(B,Q)).join("|")}},ijQ=(A,Q,B,C)=>{if(kF(A)){if(B&&!C)return`(?:${Q})`}else if(!B||!C)return Q;return`(${Q})`},U0A=(A,Q,B)=>{let C="";if(A.head!==""){let E=s$(A.head);C+=Q&&B?`(${E})`:E}for(let E of A.spans){let I=bLA(E.type,Q);if(C+=ijQ(E.type,I,Q,B),E.literal!==""){let Y=s$(E.literal);C+=Q&&B?`(${Y})`:Y}}return C},QP=(A)=>new RegExp(`^${U0A(A,!1,!0)}$`),N0A=(A)=>new RegExp(`^${U0A(A,!0,!0)}$`),Wh=(A)=>{let Q=L8(A);if(XA(Q))return Wh(Q.value);switch(A._tag){case"TypeLiteral":return A.propertySignatures.slice();case"Suspend":return Wh(A.f());case"Refinement":return Wh(A.from)}return _F(A).map((B)=>S1(A,B))},Kh=(A)=>{let Q=L8(A);if(XA(Q))return Kh(Q.value);switch(A._tag){case"TypeLiteral":return A.indexSignatures.slice();case"Suspend":return Kh(A.f());case"Refinement":return Kh(A.from)}return[]},Az=(A)=>{switch(A._tag){case"TupleType":{let Q=!1,B=[];for(let C of A.elements){if(C.isOptional)Q=!0;B.push(C.type)}if(Q)B.push(gF);return B=B.concat(yh(A.rest)),kC.make(B)}case"Refinement":return Az(A.from);case"Union":return kC.make(A.types.map(Az));case"Suspend":return Az(A.f())}throw new Error(x1(A))},hLA=(A,Q)=>{let B=q1(A.propertySignatures,(C)=>C.name===Q);if(XA(B))return B.value;if(cC(Q)){let C=void 0;for(let E of A.indexSignatures){let I=YX(E.parameter);switch(I._tag){case"TemplateLiteral":{if(QP(I).test(Q))return new AE(Q,E.type,!1,!0);break}case"StringKeyword":if(C===void 0)C=new AE(Q,E.type,!1,!0)}}if(C)return C}else if(CU(Q))for(let C of A.indexSignatures){let E=YX(C.parameter);if(aq(E))return new AE(Q,C.type,!1,!0)}},S1=(A,Q)=>{let B=L8(A);if(XA(B))return S1(B.value,Q);switch(A._tag){case"TypeLiteral":{let C=hLA(A,Q);if(C)return C;break}case"Union":return new AE(Q,kC.make(A.types.map((C)=>S1(C,Q).type)),!1,!0);case"Suspend":return S1(A.f(),Q);case"Refinement":return S1(A.from,Q)}throw new Error(x1(A))},_F=(A)=>{let Q=L8(A);if(XA(Q))return _F(Q.value);switch(A._tag){case"TypeLiteral":return A.propertySignatures.map((B)=>B.name);case"Union":return A.types.slice(1).reduce((B,C)=>Yh(B,_F(C)),_F(A.types[0]));case"Suspend":return _F(A.f());case"Refinement":return _F(A.from);case"Transformation":return _F(A.to)}return[]},hh=(A,Q)=>{let B=[],C=[],E=(I)=>{switch(I._tag){case"NeverKeyword":break;case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":case"Refinement":C.push(new y1(I,Q,!0));break;case"Literal":if(cC(I.literal)||BG(I.literal))B.push(new AE(I.literal,Q,!1,!0));else throw new Error(awA(I.literal));break;case"Enums":{for(let[Y,G]of I.enums)B.push(new AE(G,Q,!1,!0));break}case"UniqueSymbol":B.push(new AE(I.symbol,Q,!1,!0));break;case"Union":I.types.forEach(E);break;default:throw new Error(rwA(I))}};return E(A),{propertySignatures:B,indexSignatures:C}},jN=(A,Q)=>{let B=L8(A);if(XA(B))return jN(B.value,Q);switch(A._tag){case"TypeLiteral":{let C=[],E={};for(let I of A.propertySignatures)if(E[I.name]=null,Q.includes(I.name))C.push(I);for(let I of Q)if(!(I in E)){let Y=hLA(A,I);if(Y)C.push(Y)}return new IG(C,[])}case"Union":return new IG(Q.map((C)=>S1(A,C)),[]);case"Suspend":return jN(A.f(),Q);case"Refinement":return jN(A.from,Q);case"Transformation":switch(A.transformation._tag){case"ComposeTransformation":return new kG(jN(A.from,Q),jN(A.to,Q),AP);case"TypeLiteralTransformation":{let C=[],E=[];for(let I of Q){let Y=A.transformation.propertySignatureTransformations.find((G)=>G.to===I);if(Y)C.push(Y),E.push(Y.from);else E.push(I)}return oB(C)?new kG(jN(A.from,E),jN(A.to,Q),new b1(C)):jN(A.from,E)}}}throw new Error(x1(A))},Z0A=(A,Q)=>{let B=Kh(A);if(B.length>0){if(B.some((C)=>Dz(YX(C.parameter))))B=B.filter((C)=>!C0A(YX(C.parameter)));return new IG([],B)}return jN(A,_F(A).filter((C)=>!Q.includes(C)))},Qz=(A)=>kC.make([A,gF]),xF=(A,Q)=>{let B=Q?.exact===!0;switch(A._tag){case"TupleType":return new v1(A.elements.map((C)=>new _2(B?C.type:Qz(C.type),!0)),qN(A.rest,{onEmpty:()=>A.rest,onNonEmpty:(C)=>[new yF(kC.make([...yh(C),gF]))]}),A.isReadonly);case"TypeLiteral":return new IG(A.propertySignatures.map((C)=>new AE(C.name,B?C.type:Qz(C.type),!0,C.isReadonly,C.annotations)),A.indexSignatures.map((C)=>new y1(C.parameter,Qz(C.type),C.isReadonly)));case"Union":return kC.make(A.types.map((C)=>xF(C,Q)));case"Suspend":return new gN(()=>xF(A.f(),Q));case"Declaration":case"Refinement":throw new Error(x1(A));case"Transformation":{if(pV(A.transformation)&&A.transformation.propertySignatureTransformations.every(kLA))return new kG(xF(A.from,Q),xF(A.to,Q),A.transformation);throw new Error(x1(A))}}return A},hV=(A)=>{switch(A._tag){case"TupleType":return new v1(A.elements.map((Q)=>new _2(Q.type,!1)),A.rest,A.isReadonly);case"TypeLiteral":return new IG(A.propertySignatures.map((Q)=>new AE(Q.name,Q.type,!1,Q.isReadonly,Q.annotations)),A.indexSignatures);case"Union":return kC.make(A.types.map((Q)=>hV(Q)));case"Suspend":return new gN(()=>hV(A.f()));case"Declaration":case"Refinement":throw new Error(x1(A));case"Transformation":{if(pV(A.transformation)&&A.transformation.propertySignatureTransformations.every(kLA))return new kG(hV(A.from),hV(A.to),A.transformation);throw new Error(x1(A))}}return A},jF=(A)=>{switch(A._tag){case"TupleType":return A.isReadonly===!1?A:new v1(A.elements,A.rest,!1,A.annotations);case"TypeLiteral":{let Q=P2(A.propertySignatures,(C)=>C.isReadonly===!1?C:new AE(C.name,C.type,C.isOptional,!1,C.annotations)),B=P2(A.indexSignatures,(C)=>C.isReadonly===!1?C:new y1(C.parameter,C.type,!1));return Q===A.propertySignatures&&B===A.indexSignatures?A:new IG(Q,B,A.annotations)}case"Union":{let Q=P2(A.types,jF);return Q===A.types?A:kC.make(Q,A.annotations)}case"Suspend":return new gN(()=>jF(A.f()),A.annotations);case"Refinement":{let Q=jF(A.from);return Q===A.from?A:new k1(Q,A.filter,A.annotations)}case"Transformation":{let Q=jF(A.from),B=jF(A.to);return Q===A.from&&B===A.to?A:new kG(Q,B,A.transformation,A.annotations)}}return A},X0A=(A)=>{let Q=(B,C)=>A[B._tag](B,Q,C);return Q},mh=(A)=>(Q)=>{let B=void 0;for(let C of A)if(Object.prototype.hasOwnProperty.call(Q.annotations,C)){if(B===void 0)B={};B[C]=Q.annotations[C]}return B},F0A=(A)=>(Q)=>{let B={...Q.annotations};for(let C of A)delete B[C];return B},njQ=mh([pq,cq,lq,iq,Cz,nq]),RC=(A)=>{switch(A._tag){case"Declaration":{let Q=P2(A.typeParameters,RC);return Q===A.typeParameters?A:new dV(Q,A.decodeUnknown,A.encodeUnknown,A.annotations)}case"TupleType":{let Q=P2(A.elements,(E)=>{let I=RC(E.type);return I===E.type?E:new _2(I,E.isOptional)}),B=yh(A.rest),C=P2(B,RC);return Q===A.elements&&C===B?A:new v1(Q,C.map((E)=>new yF(E)),A.isReadonly,A.annotations)}case"TypeLiteral":{let Q=P2(A.propertySignatures,(C)=>{let E=RC(C.type);return E===C.type?C:new AE(C.name,E,C.isOptional,C.isReadonly)}),B=P2(A.indexSignatures,(C)=>{let E=RC(C.type);return E===C.type?C:new y1(C.parameter,E,C.isReadonly)});return Q===A.propertySignatures&&B===A.indexSignatures?A:new IG(Q,B,A.annotations)}case"Union":{let Q=P2(A.types,RC);return Q===A.types?A:kC.make(Q,A.annotations)}case"Suspend":return new gN(()=>RC(A.f()),A.annotations);case"Refinement":{let Q=RC(A.from);return Q===A.from?A:new k1(Q,A.filter,A.annotations)}case"Transformation":{let Q=njQ(A);return RC(Q!==void 0?XU(A.to,Q):A.to)}}return A},t$=(A)=>HA(mBA(A),{onNone:()=>{return},onSome:(Q)=>({[Yz]:Q})});function P2(A,Q){let B=!1,C=RF(A.length);for(let E=0;E<A.length;E++){let I=A[E],Y=Q(I);if(Y!==I)B=!0;C[E]=Y}return B?C:A}var dq=(A)=>{switch(A._tag){case"Transformation":return A.from;case"Refinement":return dq(A.from);case"Suspend":return dq(A.f())}},w8=(A,Q)=>{switch(A._tag){case"Declaration":{let B=P2(A.typeParameters,(C)=>w8(C,Q));return B===A.typeParameters?A:new dV(B,A.decodeUnknown,A.encodeUnknown,A.annotations)}case"TupleType":{let B=P2(A.elements,(I)=>{let Y=w8(I.type,Q);return Y===I.type?I:new _2(Y,I.isOptional)}),C=yh(A.rest),E=P2(C,(I)=>w8(I,Q));return B===A.elements&&E===C?A:new v1(B,E.map((I)=>new yF(I)),A.isReadonly,t$(A))}case"TypeLiteral":{let B=P2(A.propertySignatures,(E)=>{let I=w8(E.type,Q);return I===E.type?E:new AE(E.name,I,E.isOptional,E.isReadonly)}),C=P2(A.indexSignatures,(E)=>{let I=w8(E.type,Q);return I===E.type?E:new y1(E.parameter,I,E.isReadonly)});return B===A.propertySignatures&&C===A.indexSignatures?A:new IG(B,C,t$(A))}case"Union":{let B=P2(A.types,(C)=>w8(C,Q));return B===A.types?A:kC.make(B,t$(A))}case"Suspend":return new gN(()=>w8(A.f(),Q),t$(A));case"Refinement":{let B=w8(A.from,Q);if(Q){if(B===A.from)return A;if(dq(A.from)===void 0&&Ph(A))return new k1(B,A.filter,A.annotations)}let C=t$(A);return C?XU(B,C):B}case"Transformation":{let B=t$(A);return w8(B?XU(A.from,B):A.from,Q)}}return A},cV=(A)=>w8(A,!1),H0A=(A)=>w8(A,!0),tE=(A)=>{let Q={};for(let B of Object.getOwnPropertySymbols(A))Q[String(B)]=A[B];return Q},YX=(A)=>{switch(A._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return A;case"Refinement":return YX(A.from)}},fh=(A,Q)=>{switch(A._tag){case"Literal":return R8(Q)&&Q.literal===A.literal;case"UniqueSymbol":return jLA(Q)&&Q.symbol===A.symbol;case"UndefinedKeyword":case"VoidKeyword":case"NeverKeyword":case"UnknownKeyword":case"AnyKeyword":case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"SymbolKeyword":case"ObjectKeyword":return Q._tag===A._tag;case"TemplateLiteral":return C0A(Q)&&Q.head===A.head&&ojQ(Q.spans,A.spans);case"Enums":return SLA(Q)&&rjQ(Q.enums,A.enums);case"Union":return kF(Q)&&ajQ(A.types,Q.types);case"Refinement":case"TupleType":case"TypeLiteral":case"Suspend":case"Transformation":case"Declaration":return A===Q}},ojQ=WJ((A,Q)=>{return A.literal===Q.literal&&fh(A.type,Q.type)}),rjQ=WJ((A,Q)=>Q[0]===A[0]&&Q[1]===A[1]),ajQ=WJ(fh),sjQ=DBA(fh),e$=(A)=>{switch(A._tag){case"Declaration":{let Q=L8(A);if(XA(Q))return e$(Q.value);break}case"TypeLiteral":return A.propertySignatures.map((Q)=>CU(Q.name)?new uV(Q.name):new O8(Q.name)).concat(A.indexSignatures.map((Q)=>YX(Q.parameter)));case"Suspend":return e$(A.f());case"Union":return A.types.slice(1).reduce((Q,B)=>sjQ(Q,e$(B)),e$(A.types[0]));case"Transformation":return e$(A.to)}throw new Error(x1(A))},dh=(A,Q)=>new kG(A,Q,AP),Bz=(A,Q)=>{switch(A._tag){case"TypeLiteral":{let B=[];for(let C of T2(Q)){let E=Q[C];if(E!==void 0)B.push(new Xz(C,E,s,s))}if(B.length===0)return A;return new kG(A,new IG(A.propertySignatures.map((C)=>{let E=Q[C.name];return new AE(E===void 0?C.name:E,RC(C.type),C.isOptional,C.isReadonly,C.annotations)}),A.indexSignatures),new b1(B))}case"Union":return kC.make(A.types.map((B)=>Bz(B,Q)));case"Suspend":return new gN(()=>Bz(A.f(),Q));case"Transformation":return dh(A,Bz(RC(A),Q))}throw new Error(ewA(A))},T8=(A)=>YQ(xN(A),()=>A._tag);function tjQ(A){return HA(Th(A),{onNone:()=>"",onSome:(Q)=>Q.map((B)=>` & Brand<${yY(B)}>`).join("")})}var mLA=(A)=>oq(A).pipe(KI(()=>rq(A)),KI(()=>qh(A)),RQ((Q)=>Q+tjQ(A))),xN=(A)=>KI(fV(A),()=>mLA(A)),uh=(A,Q,B)=>{switch(A._tag){case"UndefinedKeyword":return Gz;case"Union":{let C=[],E=!1;for(let I of A.types){let Y=Q(I);if(Y){if(E=!0,!lBA(Y))C.push(Y)}else C.push(I)}if(E)return kC.make(C);break}case"Suspend":return Q(A.f());case"Transformation":return B(A)}};var fLA=/^[+-]?\d+$/,W0A=Symbol.for("effect/BigDecimal"),AxQ={[W0A]:W0A,[TA](){let A=lV(this);return H(QA(A.value),FA(s9(A.scale)),rA(this))},[PA](A){return V0A(A)&&BxQ(this,A)},toString(){return`BigDecimal(${P8(this)})`},toJSON(){return{_id:"BigDecimal",value:String(this.value),scale:this.scale}},[sA](){return this.toJSON()},pipe(){return e(this,arguments)}},V0A=(A)=>o(A,W0A),bF=(A,Q)=>{let B=Object.create(AxQ);return B.value=A,B.scale=Q,B},uLA=(A,Q)=>{if(A!==q8&&A%K0A===q8)throw new RangeError("Value must be normalized");let B=bF(A,Q);return B.normalized=B,B},q8=BigInt(0);var K0A=BigInt(10),pLA=uLA(q8,0),lV=(A)=>{if(A.normalized===void 0)if(A.value===q8)A.normalized=pLA;else{let Q=`${A.value}`,B=0;for(let I=Q.length-1;I>=0;I--)if(Q[I]==="0")B++;else break;if(B===0)A.normalized=A;let C=BigInt(Q.substring(0,Q.length-B)),E=A.scale-B;A.normalized=uLA(C,E)}return A.normalized},ph=F(2,(A,Q)=>{if(Q>A.scale)return bF(A.value*K0A**BigInt(Q-A.scale),Q);if(Q<A.scale)return bF(A.value/K0A**BigInt(A.scale-Q),Q);return A});var Fz=TN((A,Q)=>{let B=_V(dLA(A),dLA(Q));if(B!==0)return B;if(A.scale>Q.scale)return m$(A.value,ph(Q,A.scale).value);if(A.scale<Q.scale)return m$(ph(A,Q.scale).value,Q.value);return m$(A.value,Q.value)}),cLA=z1(Fz),lLA=jV(Fz),iLA=w1(Fz),nLA=xV(Fz),oLA=SV(Fz),rLA=L1(Fz);var dLA=(A)=>A.value===q8?0:A.value<q8?-1:1,QxQ=(A)=>A.value<q8?bF(-A.value,A.scale):A;var M0A=TE((A,Q)=>{if(A.scale>Q.scale)return ph(Q,A.scale).value===A.value;if(A.scale<Q.scale)return ph(A,Q.scale).value===Q.value;return A.value===Q.value}),BxQ=F(2,(A,Q)=>M0A(A,Q));var aLA=(A)=>ob(CxQ(A),()=>new RangeError(`Number must be finite, got ${A}`));var CxQ=(A)=>{if(!Number.isFinite(A))return x();let Q=`${A}`;if(Q.includes("e"))return $0A(Q);let[B,C=""]=Q.split(".");return j(bF(BigInt(`${B}${C}`),C.length))},$0A=(A)=>{if(A==="")return j(pLA);let Q,B,C=A.search(/[eE]/);if(C!==-1){let J=A.slice(C+1);if(Q=A.slice(0,C),B=Number(J),Q===""||!Number.isSafeInteger(B)||!fLA.test(J))return x()}else Q=A,B=0;let E,I,Y=Q.search(/\./);if(Y!==-1){let J=Q.slice(0,Y),D=Q.slice(Y+1);E=`${J}${D}`,I=D.length}else E=Q,I=0;if(!fLA.test(E))return x();let G=I-B;if(!Number.isSafeInteger(G))return x();return j(bF(BigInt(E),G))};var P8=(A)=>{let Q=lV(A);if(Math.abs(Q.scale)>=16)return ExQ(Q);let B=Q.value<q8,C=B?`${Q.value}`.substring(1):`${Q.value}`,E,I;if(Q.scale>=C.length)E="0",I="0".repeat(Q.scale-C.length)+C;else{let G=C.length-Q.scale;if(G>C.length){let J=G-C.length;E=`${C}${"0".repeat(J)}`,I=""}else I=C.slice(G),E=C.slice(0,G)}let Y=I===""?E:`${E}.${I}`;return B?`-${Y}`:Y},ExQ=(A)=>{if(IxQ(A))return"0e+0";let Q=lV(A),B=`${QxQ(Q).value}`,C=B.slice(0,1),E=B.slice(1),I=`${z0A(Q)?"-":""}${C}`;if(E!=="")I+=`.${E}`;let Y=E.length-Q.scale;return`${I}e${Y>=0?"+":""}${Y}`},sLA=(A)=>Number(P8(A));var IxQ=(A)=>A.value===q8,z0A=(A)=>A.value<q8,tLA=(A)=>A.value>q8;var YxQ=m$;var AOA=L1(YxQ);var QOA=(A)=>{if(A>BigInt(Number.MAX_SAFE_INTEGER)||A<BigInt(Number.MIN_SAFE_INTEGER))return x();return j(Number(A))},BOA=(A)=>{try{return A.trim()===""?x():j(BigInt(A))}catch{return x()}},COA=(A)=>{if(A>Number.MAX_SAFE_INTEGER||A<Number.MIN_SAFE_INTEGER)return x();try{return j(BigInt(A))}catch{return x()}};var BP=(A)=>!A;var JX={};ZQ(JX,{unbranded:()=>XxQ,refined:()=>NxQ,nominal:()=>Hz,errors:()=>UxQ,error:()=>DxQ,all:()=>ZxQ,RefinedConstructorsTypeId:()=>iV,BrandTypeId:()=>JxQ});var JxQ=Symbol.for("effect/Brand"),iV=Symbol.for("effect/Brand/Refined"),DxQ=(A,Q)=>[{message:A,meta:Q}],UxQ=(...A)=>TF(A);function NxQ(...A){let Q=A.length===2?(B)=>A[0](B)?$A(B):wA(A[1](B)):(B)=>{return HA(A[0](B),{onNone:()=>$A(B),onSome:wA})};return Object.assign((B)=>PV(Q(B),s),{[iV]:iV,option:(B)=>f$(Q(B)),either:Q,is:(B)=>CG(Q(B))})}var Hz=()=>{return Object.assign((A)=>A,{[iV]:iV,option:(A)=>j(A),either:(A)=>$A(A),is:(A)=>!0})},ZxQ=(...A)=>{let Q=(B)=>{let C=$A(B);for(let E of A){let I=E.either(B);if(M0(C)&&M0(I))C=wA([...C.left,...I.left]);else C=M0(C)?C:I}return C};return Object.assign((B)=>sB(Q(B),{onLeft:(C)=>{throw C},onRight:s}),{[iV]:iV,option:(B)=>f$(Q(B)),either:Q,is:(B)=>CG(Q(B))})},XxQ=Sb;var SA={};ZQ(SA,{unsafeMake:()=>yN,unsafeGet:()=>v0,pick:()=>$OA,omit:()=>hF,mergeAll:()=>zxQ,merge:()=>E0,make:()=>hG,isTag:()=>Kz,isReference:()=>$xQ,isContext:()=>EP,getOrElse:()=>_0A,getOption:()=>eE,get:()=>nQ,empty:()=>F0,add:()=>DQ,Tag:()=>uB,Reference:()=>YG,GenericTag:()=>pA});var O0A=Symbol.for("effect/Context/Tag"),CP=Symbol.for("effect/Context/Reference"),FxQ="effect/STM",HxQ=Symbol.for(FxQ),Wz={...M1,_op:"Tag",[HxQ]:t9,[O0A]:{_Service:(A)=>A,_Identifier:(A)=>A},toString(){return PQ(this.toJSON())},toJSON(){return{_id:"Tag",key:this.key,stack:this.stack}},[sA](){return this.toJSON()},of(A){return A},context(A){return q0A(this,A)}},WxQ={...Wz,[CP]:CP},IOA=(A)=>{let Q=Error.stackTraceLimit;Error.stackTraceLimit=2;let B=new Error;Error.stackTraceLimit=Q;let C=Object.create(Wz);return Object.defineProperty(C,"stack",{get(){return B.stack}}),C.key=A,C},YOA=(A)=>()=>{let Q=Error.stackTraceLimit;Error.stackTraceLimit=2;let B=new Error;Error.stackTraceLimit=Q;function C(){}return Object.setPrototypeOf(C,Wz),C.key=A,Object.defineProperty(C,"stack",{get(){return B.stack}}),C},GOA=()=>(A,Q)=>{let B=Error.stackTraceLimit;Error.stackTraceLimit=2;let C=new Error;Error.stackTraceLimit=B;function E(){}return Object.setPrototypeOf(E,WxQ),E.key=A,E.defaultValue=Q.defaultValue,Object.defineProperty(E,"stack",{get(){return C.stack}}),E},R0A=Symbol.for("effect/Context"),KxQ={[R0A]:{_Services:(A)=>A},[PA](A){if(T0A(A)){if(this.unsafeMap.size===A.unsafeMap.size){for(let Q of this.unsafeMap.keys())if(!A.unsafeMap.has(Q)||!JA(this.unsafeMap.get(Q),A.unsafeMap.get(Q)))return!1;return!0}}return!1},[TA](){return rA(this,s9(this.unsafeMap.size))},pipe(){return e(this,arguments)},toString(){return PQ(this.toJSON())},toJSON(){return{_id:"Context",services:Array.from(this.unsafeMap).map(wB)}},[sA](){return this.toJSON()}},vN=(A)=>{let Q=Object.create(KxQ);return Q.unsafeMap=A,Q},VxQ=(A)=>{let Q=new Error(`Service not found${A.key?`: ${String(A.key)}`:""}`);if(A.stack){let B=A.stack.split(`
`);if(B.length>2){let C=B[2].match(/at (.*)/);if(C)Q.message=Q.message+` (defined at ${C[1]})`}}if(Q.stack){let B=Q.stack.split(`
`);B.splice(1,3),Q.stack=B.join(`
`)}return Q},T0A=(A)=>o(A,R0A),JOA=(A)=>o(A,O0A),ch=(A)=>o(A,CP),MxQ=vN(new Map),DOA=()=>MxQ,q0A=(A,Q)=>vN(new Map([[A.key,Q]])),UOA=F(3,(A,Q,B)=>{let C=new Map(A.unsafeMap);return C.set(Q.key,B),vN(C)}),L0A=xA("effect/Context/defaultValueCache",()=>new Map),lh=(A)=>{if(L0A.has(A.key))return L0A.get(A.key);let Q=A.defaultValue();return L0A.set(A.key,Q),Q},NOA=(A,Q)=>{return A.unsafeMap.has(Q.key)?A.unsafeMap.get(Q.key):lh(Q)},P0A=F(2,(A,Q)=>{if(!A.unsafeMap.has(Q.key)){if(CP in Q)return lh(Q);throw VxQ(Q)}return A.unsafeMap.get(Q.key)}),ZOA=P0A,XOA=F(3,(A,Q,B)=>{if(!A.unsafeMap.has(Q.key))return ch(Q)?lh(Q):B();return A.unsafeMap.get(Q.key)}),FOA=F(2,(A,Q)=>{if(!A.unsafeMap.has(Q.key))return ch(Q)?vG(lh(Q)):RN;return vG(A.unsafeMap.get(Q.key))}),HOA=F(2,(A,Q)=>{let B=new Map(A.unsafeMap);for(let[C,E]of Q.unsafeMap)B.set(C,E);return vN(B)}),WOA=(...A)=>{let Q=new Map;for(let B of A)for(let[C,E]of B.unsafeMap)Q.set(C,E);return vN(Q)},KOA=(...A)=>(Q)=>{let B=new Set(A.map((E)=>E.key)),C=new Map;for(let[E,I]of Q.unsafeMap.entries())if(B.has(E))C.set(E,I);return vN(C)},VOA=(...A)=>(Q)=>{let B=new Map(Q.unsafeMap);for(let C of A)B.delete(C.key);return vN(B)};var pA=IOA;var yN=vN,EP=T0A,Kz=JOA,$xQ=ch,F0=DOA,hG=q0A,DQ=UOA,nQ=ZOA,_0A=XOA,v0=P0A,eE=FOA,E0=HOA,zxQ=WOA,$OA=KOA,hF=VOA,uB=YOA,YG=GOA;var hC={};ZQ(hC,{unsafeMake:()=>tN,unsafeDone:()=>VC,sync:()=>_vQ,succeed:()=>nC,poll:()=>MEA,makeAs:()=>wvQ,make:()=>WB,isDone:()=>E5,interruptWith:()=>PvQ,interrupt:()=>Qw,failSync:()=>OvQ,failCauseSync:()=>RvQ,failCause:()=>XD,fail:()=>Aw,done:()=>RX,dieSync:()=>qvQ,die:()=>TvQ,completeWith:()=>LvQ,complete:()=>F_,await:()=>WQ,DeferredTypeId:()=>C5});var fQ={};ZQ(fQ,{zipWith:()=>UP,zip:()=>cxQ,unzip:()=>pxQ,unsafeLast:()=>h1,unsafeHead:()=>fF,unsafeGet:()=>EC,unsafeFromNonEmptyArray:()=>Vz,unsafeFromArray:()=>tA,union:()=>fxQ,toReadonlyArray:()=>CB,toArray:()=>ih,takeWhile:()=>ah,takeRight:()=>DP,take:()=>GG,tailNonEmpty:()=>k0,tail:()=>mxQ,splitWhere:()=>rh,splitNonEmptyAt:()=>bxQ,splitAt:()=>dF,split:()=>hxQ,sortWith:()=>kxQ,sort:()=>v0A,some:()=>sh,size:()=>yxQ,separate:()=>vxQ,reverse:()=>KJ,replaceOption:()=>nxQ,replace:()=>ixQ,remove:()=>lxQ,reduceRight:()=>k0A,reduce:()=>hN,range:()=>NP,prependAll:()=>_xQ,prepend:()=>pB,partitionMap:()=>gxQ,partition:()=>LOA,of:()=>dA,modifyOption:()=>y0A,modify:()=>OOA,mapAccum:()=>oh,map:()=>N0,makeBy:()=>ROA,make:()=>bN,lastNonEmpty:()=>SxQ,last:()=>JP,join:()=>ASQ,isNonEmpty:()=>qB,isEmpty:()=>SQ,isChunk:()=>DX,intersection:()=>xxQ,headNonEmpty:()=>aB,head:()=>_8,getEquivalence:()=>IP,get:()=>x0A,fromIterable:()=>rB,forEach:()=>Mz,flatten:()=>GP,flatMap:()=>YP,findLastIndex:()=>txQ,findLast:()=>sxQ,findFirstIndex:()=>axQ,findFirst:()=>ZP,filterMapWhile:()=>S0A,filterMap:()=>mF,filter:()=>FU,every:()=>exQ,empty:()=>hA,dropWhile:()=>nh,dropRight:()=>PxQ,drop:()=>y0,differenceWith:()=>QSQ,difference:()=>BSQ,dedupeAdjacent:()=>uxQ,dedupe:()=>dxQ,containsWith:()=>rxQ,contains:()=>oxQ,compact:()=>jxQ,chunksOf:()=>g0A,appendAll:()=>tQ,append:()=>QE});var zOA=Symbol.for("effect/Chunk");function wxQ(A,Q,B,C,E){for(let I=Q;I<Math.min(A.length,Q+E);I++)B[C+I-Q]=A[I];return B}var wOA=[],IP=(A)=>TE((Q,B)=>Q.length===B.length&&CB(Q).every((C,E)=>A(C,EC(B,E)))),LxQ=IP(JA),OxQ={[zOA]:{_A:(A)=>A},toString(){return PQ(this.toJSON())},toJSON(){return{_id:"Chunk",values:CB(this).map(wB)}},[sA](){return this.toJSON()},[PA](A){return DX(A)&&LxQ(this,A)},[TA](){return rA(this,XY(CB(this)))},[Symbol.iterator](){switch(this.backing._tag){case"IArray":return this.backing.array[Symbol.iterator]();case"IEmpty":return wOA[Symbol.iterator]();default:return CB(this)[Symbol.iterator]()}},pipe(){return e(this,arguments)}},cI=(A)=>{let Q=Object.create(OxQ);switch(Q.backing=A,A._tag){case"IEmpty":{Q.length=0,Q.depth=0,Q.left=Q,Q.right=Q;break}case"IConcat":{Q.length=A.left.length+A.right.length,Q.depth=1+Math.max(A.left.depth,A.right.depth),Q.left=A.left,Q.right=A.right;break}case"IArray":{Q.length=A.array.length,Q.depth=0,Q.left=kN,Q.right=kN;break}case"ISingleton":{Q.length=1,Q.depth=0,Q.left=kN,Q.right=kN;break}case"ISlice":{Q.length=A.length,Q.depth=A.chunk.depth+1,Q.left=kN,Q.right=kN;break}}return Q},DX=(A)=>o(A,zOA),kN=cI({_tag:"IEmpty"}),hA=()=>kN,bN=(...A)=>Vz(A),dA=(A)=>cI({_tag:"ISingleton",a:A}),rB=(A)=>DX(A)?A:tA(aA(A)),j0A=(A,Q,B)=>{switch(A.backing._tag){case"IArray":{wxQ(A.backing.array,0,Q,B,A.length);break}case"IConcat":{j0A(A.left,Q,B),j0A(A.right,Q,B+A.left.length);break}case"ISingleton":{Q[B]=A.backing.a;break}case"ISlice":{let C=0,E=B;while(C<A.length)Q[E]=EC(A,C),C+=1,E+=1;break}}},RxQ=(A)=>CB(A).slice(),ih=RxQ,TxQ=(A)=>{switch(A.backing._tag){case"IEmpty":return wOA;case"IArray":return A.backing.array;default:{let Q=new Array(A.length);return j0A(A,Q,0),A.backing={_tag:"IArray",array:Q},A.left=kN,A.right=kN,A.depth=0,Q}}},CB=TxQ,qxQ=(A)=>{switch(A.backing._tag){case"IEmpty":case"ISingleton":return A;case"IArray":return cI({_tag:"IArray",array:GBA(A.backing.array)});case"IConcat":return cI({_tag:"IConcat",left:KJ(A.backing.right),right:KJ(A.backing.left)});case"ISlice":return tA(GBA(CB(A)))}},KJ=qxQ,x0A=F(2,(A,Q)=>Q<0||Q>=A.length?x():j(EC(A,Q))),tA=(A)=>A.length===0?hA():A.length===1?dA(A[0]):cI({_tag:"IArray",array:A}),Vz=(A)=>tA(A),EC=F(2,(A,Q)=>{switch(A.backing._tag){case"IEmpty":throw new Error("Index out of bounds");case"ISingleton":{if(Q!==0)throw new Error("Index out of bounds");return A.backing.a}case"IArray":{if(Q>=A.length||Q<0)throw new Error("Index out of bounds");return A.backing.array[Q]}case"IConcat":return Q<A.left.length?EC(A.left,Q):EC(A.right,Q-A.left.length);case"ISlice":return EC(A.backing.chunk,Q+A.backing.offset)}}),QE=F(2,(A,Q)=>tQ(A,dA(Q))),pB=F(2,(A,Q)=>tQ(dA(Q),A)),GG=F(2,(A,Q)=>{if(Q<=0)return kN;else if(Q>=A.length)return A;else switch(A.backing._tag){case"ISlice":return cI({_tag:"ISlice",chunk:A.backing.chunk,length:Q,offset:A.backing.offset});case"IConcat":{if(Q>A.left.length)return cI({_tag:"IConcat",left:A.left,right:GG(A.right,Q-A.left.length)});return GG(A.left,Q)}default:return cI({_tag:"ISlice",chunk:A,offset:0,length:Q})}}),y0=F(2,(A,Q)=>{if(Q<=0)return A;else if(Q>=A.length)return kN;else switch(A.backing._tag){case"ISlice":return cI({_tag:"ISlice",chunk:A.backing.chunk,offset:A.backing.offset+Q,length:A.backing.length-Q});case"IConcat":{if(Q>A.left.length)return y0(A.right,Q-A.left.length);return cI({_tag:"IConcat",left:y0(A.left,Q),right:A.right})}default:return cI({_tag:"ISlice",chunk:A,offset:Q,length:A.length-Q})}}),PxQ=F(2,(A,Q)=>GG(A,Math.max(0,A.length-Q))),nh=F(2,(A,Q)=>{let B=CB(A),C=B.length,E=0;while(E<C&&Q(B[E]))E++;return y0(A,E)}),_xQ=F(2,(A,Q)=>tQ(Q,A)),tQ=F(2,(A,Q)=>{if(A.backing._tag==="IEmpty")return Q;if(Q.backing._tag==="IEmpty")return A;let B=Q.depth-A.depth;if(Math.abs(B)<=1)return cI({_tag:"IConcat",left:A,right:Q});else if(B<-1)if(A.left.depth>=A.right.depth){let C=tQ(A.right,Q);return cI({_tag:"IConcat",left:A.left,right:C})}else{let C=tQ(A.right.right,Q);if(C.depth===A.depth-3){let E=cI({_tag:"IConcat",left:A.right.left,right:C});return cI({_tag:"IConcat",left:A.left,right:E})}else{let E=cI({_tag:"IConcat",left:A.left,right:A.right.left});return cI({_tag:"IConcat",left:E,right:C})}}else if(Q.right.depth>=Q.left.depth){let C=tQ(A,Q.left);return cI({_tag:"IConcat",left:C,right:Q.right})}else{let C=tQ(A,Q.left.left);if(C.depth===Q.depth-3){let E=cI({_tag:"IConcat",left:C,right:Q.left.right});return cI({_tag:"IConcat",left:E,right:Q.right})}else{let E=cI({_tag:"IConcat",left:Q.left.right,right:Q.right});return cI({_tag:"IConcat",left:C,right:E})}}}),mF=F(2,(A,Q)=>tA(z8(A,Q))),FU=F(2,(A,Q)=>tA(kV(A,Q))),S0A=F(2,(A,Q)=>tA(ezA(A,Q))),jxQ=(A)=>mF(A,s),YP=F(2,(A,Q)=>{if(A.backing._tag==="ISingleton")return Q(A.backing.a,0);let B=kN,C=0;for(let E of A)B=tQ(B,Q(E,C++));return B}),Mz=F(2,(A,Q)=>CB(A).forEach(Q)),GP=YP(s),g0A=F(2,(A,Q)=>{let B=[],C=[];if(CB(A).forEach((E)=>{if(C.push(E),C.length>=Q)B.push(tA(C)),C=[]}),C.length>0)B.push(tA(C));return tA(B)}),xxQ=F(2,(A,Q)=>tA(Yh(CB(A),CB(Q)))),SQ=(A)=>A.length===0,qB=(A)=>A.length>0,_8=x0A(0),fF=(A)=>EC(A,0),aB=fF,JP=(A)=>x0A(A,A.length-1),h1=(A)=>EC(A,A.length-1),SxQ=h1,N0=F(2,(A,Q)=>A.backing._tag==="ISingleton"?dA(Q(A.backing.a,0)):tA(H(CB(A),n0((B,C)=>Q(B,C))))),oh=F(3,(A,Q,B)=>{let[C,E]=EwA(A,Q,B);return[C,tA(E)]}),LOA=F(2,(A,Q)=>H(AwA(CB(A),Q),([B,C])=>[tA(B),tA(C)])),gxQ=F(2,(A,Q)=>H(i$(CB(A),Q),([B,C])=>[tA(B),tA(C)])),vxQ=(A)=>H(QwA(CB(A)),([Q,B])=>[tA(Q),tA(B)]),yxQ=(A)=>A.length,v0A=F(2,(A,Q)=>tA(EG(CB(A),Q))),kxQ=F(3,(A,Q,B)=>v0A(A,R2(B,Q))),dF=F(2,(A,Q)=>[GG(A,Q),y0(A,Q)]),bxQ=F(2,(A,Q)=>{let B=Math.max(1,Math.floor(Q));return B>=A.length?[A,hA()]:[GG(A,B),y0(A,B)]}),hxQ=F(2,(A,Q)=>g0A(A,Math.ceil(A.length/Math.floor(Q)))),rh=F(2,(A,Q)=>{let B=0;for(let C of CB(A))if(Q(C))break;else B++;return dF(A,B)}),mxQ=(A)=>A.length>0?j(y0(A,1)):x(),k0=(A)=>y0(A,1),DP=F(2,(A,Q)=>y0(A,A.length-Q)),ah=F(2,(A,Q)=>{let B=[];for(let C of CB(A))if(Q(C))B.push(C);else break;return tA(B)}),fxQ=F(2,(A,Q)=>tA(PN(CB(A),CB(Q)))),dxQ=(A)=>tA(Gh(CB(A))),uxQ=(A)=>tA(CwA(A)),pxQ=(A)=>{let[Q,B]=szA(A);return[tA(Q),tA(B)]},UP=F(3,(A,Q,B)=>tA(Ch(A,Q,B))),cxQ=F(2,(A,Q)=>UP(A,Q,(B,C)=>[B,C])),lxQ=F(2,(A,Q)=>tA(azA(CB(A),Q))),y0A=F(3,(A,Q,B)=>RQ(rzA(CB(A),Q,B),tA)),OOA=F(3,(A,Q,B)=>YQ(y0A(A,Q,B),()=>A)),ixQ=F(3,(A,Q,B)=>OOA(A,Q,()=>B)),nxQ=F(3,(A,Q,B)=>y0A(A,Q,()=>B)),ROA=F(2,(A,Q)=>rB(jq(A,Q))),NP=(A,Q)=>A<=Q?ROA(Q-A+1,(B)=>A+B):dA(A),oxQ=Ih,rxQ=gq,ZP=q1,axQ=YBA,sxQ=Bh,txQ=ozA,exQ=F(2,(A,Q)=>aA(A).every(Q)),sh=F(2,(A,Q)=>aA(A).some(Q)),ASQ=yG,hN=HY,k0A=P1,QSQ=(A)=>{return F(2,(Q,B)=>tA(UBA(A)(B,Q)))},BSQ=F(2,(A,Q)=>tA(tzA(Q,A)));var H0={};ZQ(H0,{zero:()=>GD,weeks:()=>gOA,unsafeToNanos:()=>vOA,unsafeFormatIso:()=>bOA,unsafeDivide:()=>i0A,toWeeks:()=>DSQ,toSeconds:()=>u0A,toNanos:()=>p0A,toMinutes:()=>YSQ,toMillis:()=>b0,toHrTime:()=>yOA,toHours:()=>GSQ,toDays:()=>JSQ,times:()=>Am,sum:()=>Qm,subtract:()=>WSQ,seconds:()=>dJ,parts:()=>n0A,nanos:()=>mN,minutes:()=>j8,min:()=>NSQ,millis:()=>lC,micros:()=>jOA,max:()=>XSQ,matchWith:()=>m1,match:()=>UX,lessThanOrEqualTo:()=>WP,lessThan:()=>HP,isZero:()=>_OA,isFinite:()=>uF,isDuration:()=>XP,infinity:()=>pF,hours:()=>xOA,greaterThanOrEqualTo:()=>nV,greaterThan:()=>KP,fromIso:()=>VSQ,formatIso:()=>KSQ,format:()=>Bm,equals:()=>kOA,divide:()=>HSQ,decodeUnknown:()=>d0A,decode:()=>cQ,days:()=>SOA,clamp:()=>l0A,between:()=>c0A,Order:()=>FP,Equivalence:()=>eh});var b0A=Symbol.for("effect/Duration"),POA=BigInt(0),TOA=BigInt(24),th=BigInt(60),h0A=BigInt(1000),m0A=BigInt(1e6),f0A=BigInt(1e9),CSQ=/^(-?\d+(?:\.\d+)?)\s+(nanos?|micros?|millis?|seconds?|minutes?|hours?|days?|weeks?)$/,cQ=(A)=>{if(XP(A))return A;else if(BG(A))return lC(A);else if(LN(A))return mN(A);else if(Array.isArray(A)&&A.length===2&&A.every(BG)){if(A[0]===-1/0||A[1]===-1/0||Number.isNaN(A[0])||Number.isNaN(A[1]))return GD;if(A[0]===1/0||A[1]===1/0)return pF;return mN(BigInt(Math.round(A[0]*1e9))+BigInt(Math.round(A[1])))}else if(cC(A)){let Q=CSQ.exec(A);if(Q){let[B,C,E]=Q,I=Number(C);switch(E){case"nano":case"nanos":return mN(BigInt(C));case"micro":case"micros":return jOA(BigInt(C));case"milli":case"millis":return lC(I);case"second":case"seconds":return dJ(I);case"minute":case"minutes":return j8(I);case"hour":case"hours":return xOA(I);case"day":case"days":return SOA(I);case"week":case"weeks":return gOA(I)}}}throw new Error("Invalid DurationInput")},d0A=AX(cQ),qOA={_tag:"Millis",millis:0},ESQ={_tag:"Infinity"},ISQ={[b0A]:b0A,[TA](){return rA(this,LV(this.value))},[PA](A){return XP(A)&&kOA(this,A)},toString(){return`Duration(${Bm(this)})`},toJSON(){switch(this.value._tag){case"Millis":return{_id:"Duration",_tag:"Millis",millis:this.value.millis};case"Nanos":return{_id:"Duration",_tag:"Nanos",hrtime:yOA(this)};case"Infinity":return{_id:"Duration",_tag:"Infinity"}}},[sA](){return this.toJSON()},pipe(){return e(this,arguments)}},kY=(A)=>{let Q=Object.create(ISQ);if(BG(A))if(isNaN(A)||A<=0)Q.value=qOA;else if(!Number.isFinite(A))Q.value=ESQ;else if(!Number.isInteger(A))Q.value={_tag:"Nanos",nanos:BigInt(Math.round(A*1e6))};else Q.value={_tag:"Millis",millis:A};else if(A<=POA)Q.value=qOA;else Q.value={_tag:"Nanos",nanos:A};return Q},XP=(A)=>o(A,b0A),uF=(A)=>A.value._tag!=="Infinity",_OA=(A)=>{switch(A.value._tag){case"Millis":return A.value.millis===0;case"Nanos":return A.value.nanos===POA;case"Infinity":return!1}},GD=kY(0),pF=kY(1/0),mN=(A)=>kY(A),jOA=(A)=>kY(A*h0A),lC=(A)=>kY(A),dJ=(A)=>kY(A*1000),j8=(A)=>kY(A*60000),xOA=(A)=>kY(A*3600000),SOA=(A)=>kY(A*86400000),gOA=(A)=>kY(A*604800000),b0=(A)=>UX(A,{onMillis:(Q)=>Q,onNanos:(Q)=>Number(Q)/1e6}),u0A=(A)=>UX(A,{onMillis:(Q)=>Q/1000,onNanos:(Q)=>Number(Q)/1e9}),YSQ=(A)=>UX(A,{onMillis:(Q)=>Q/60000,onNanos:(Q)=>Number(Q)/60000000000}),GSQ=(A)=>UX(A,{onMillis:(Q)=>Q/3600000,onNanos:(Q)=>Number(Q)/3600000000000}),JSQ=(A)=>UX(A,{onMillis:(Q)=>Q/86400000,onNanos:(Q)=>Number(Q)/86400000000000}),DSQ=(A)=>UX(A,{onMillis:(Q)=>Q/604800000,onNanos:(Q)=>Number(Q)/604800000000000}),p0A=(A)=>{let Q=cQ(A);switch(Q.value._tag){case"Infinity":return x();case"Nanos":return j(Q.value.nanos);case"Millis":return j(BigInt(Math.round(Q.value.millis*1e6)))}},vOA=(A)=>{let Q=cQ(A);switch(Q.value._tag){case"Infinity":throw new Error("Cannot convert infinite duration to nanos");case"Nanos":return Q.value.nanos;case"Millis":return BigInt(Math.round(Q.value.millis*1e6))}},yOA=(A)=>{let Q=cQ(A);switch(Q.value._tag){case"Infinity":return[1/0,0];case"Nanos":return[Number(Q.value.nanos/f0A),Number(Q.value.nanos%f0A)];case"Millis":return[Math.floor(Q.value.millis/1000),Math.round(Q.value.millis%1000*1e6)]}},UX=F(2,(A,Q)=>{let B=cQ(A);switch(B.value._tag){case"Nanos":return Q.onNanos(B.value.nanos);case"Infinity":return Q.onMillis(1/0);case"Millis":return Q.onMillis(B.value.millis)}}),m1=F(3,(A,Q,B)=>{let C=cQ(A),E=cQ(Q);if(C.value._tag==="Infinity"||E.value._tag==="Infinity")return B.onMillis(b0(C),b0(E));else if(C.value._tag==="Nanos"||E.value._tag==="Nanos"){let I=C.value._tag==="Nanos"?C.value.nanos:BigInt(Math.round(C.value.millis*1e6)),Y=E.value._tag==="Nanos"?E.value.nanos:BigInt(Math.round(E.value.millis*1e6));return B.onNanos(I,Y)}return B.onMillis(C.value.millis,E.value.millis)}),FP=TN((A,Q)=>m1(A,Q,{onMillis:(B,C)=>B<C?-1:B>C?1:0,onNanos:(B,C)=>B<C?-1:B>C?1:0})),c0A=SV(R2(FP,cQ)),eh=(A,Q)=>m1(A,Q,{onMillis:(B,C)=>B===C,onNanos:(B,C)=>B===C}),USQ=LF(FP),NSQ=F(2,(A,Q)=>USQ(cQ(A),cQ(Q))),ZSQ=OF(FP),XSQ=F(2,(A,Q)=>ZSQ(cQ(A),cQ(Q))),FSQ=L1(FP),l0A=F(2,(A,Q)=>FSQ(cQ(A),{minimum:cQ(Q.minimum),maximum:cQ(Q.maximum)})),HSQ=F(2,(A,Q)=>UX(A,{onMillis:(B)=>{if(Q===0||isNaN(Q)||!Number.isFinite(Q))return x();return j(kY(B/Q))},onNanos:(B)=>{if(isNaN(Q)||Q<=0||!Number.isFinite(Q))return x();try{return j(kY(B/BigInt(Q)))}catch{return x()}}})),i0A=F(2,(A,Q)=>UX(A,{onMillis:(B)=>kY(B/Q),onNanos:(B)=>{if(isNaN(Q)||Q<0||Object.is(Q,-0))return GD;else if(Object.is(Q,0)||!Number.isFinite(Q))return pF;return kY(B/BigInt(Q))}})),Am=F(2,(A,Q)=>UX(A,{onMillis:(B)=>kY(B*Q),onNanos:(B)=>kY(B*BigInt(Q))})),WSQ=F(2,(A,Q)=>m1(A,Q,{onMillis:(B,C)=>kY(B-C),onNanos:(B,C)=>kY(B-C)})),Qm=F(2,(A,Q)=>m1(A,Q,{onMillis:(B,C)=>kY(B+C),onNanos:(B,C)=>kY(B+C)})),HP=F(2,(A,Q)=>m1(A,Q,{onMillis:(B,C)=>B<C,onNanos:(B,C)=>B<C})),WP=F(2,(A,Q)=>m1(A,Q,{onMillis:(B,C)=>B<=C,onNanos:(B,C)=>B<=C})),KP=F(2,(A,Q)=>m1(A,Q,{onMillis:(B,C)=>B>C,onNanos:(B,C)=>B>C})),nV=F(2,(A,Q)=>m1(A,Q,{onMillis:(B,C)=>B>=C,onNanos:(B,C)=>B>=C})),kOA=F(2,(A,Q)=>eh(cQ(A),cQ(Q))),n0A=(A)=>{let Q=cQ(A);if(Q.value._tag==="Infinity")return{days:1/0,hours:1/0,minutes:1/0,seconds:1/0,millis:1/0,nanos:1/0};let B=vOA(Q),C=B/m0A,E=C/h0A,I=E/th,Y=I/th,G=Y/TOA;return{days:Number(G),hours:Number(Y%TOA),minutes:Number(I%th),seconds:Number(E%th),millis:Number(C%h0A),nanos:Number(B%m0A)}},Bm=(A)=>{let Q=cQ(A);if(Q.value._tag==="Infinity")return"Infinity";if(_OA(Q))return"0";let B=n0A(Q),C=[];if(B.days!==0)C.push(`${B.days}d`);if(B.hours!==0)C.push(`${B.hours}h`);if(B.minutes!==0)C.push(`${B.minutes}m`);if(B.seconds!==0)C.push(`${B.seconds}s`);if(B.millis!==0)C.push(`${B.millis}ms`);if(B.nanos!==0)C.push(`${B.nanos}ns`);return C.join(" ")},bOA=(A)=>{let Q=cQ(A);if(!uF(Q))throw new RangeError("Cannot format infinite duration");let B=[],{days:C,hours:E,millis:I,minutes:Y,nanos:G,seconds:J}=n0A(Q),D=C;if(D>=365){let U=Math.floor(D/365);D%=365,B.push(`${U}Y`)}if(D>=30){let U=Math.floor(D/30);D%=30,B.push(`${U}M`)}if(D>=7){let U=Math.floor(D/7);D%=7,B.push(`${U}W`)}if(D>0)B.push(`${D}D`);if(E!==0||Y!==0||J!==0||I!==0||G!==0){if(B.push("T"),E!==0)B.push(`${E}H`);if(Y!==0)B.push(`${Y}M`);if(J!==0||I!==0||G!==0){let U=BigInt(J)*f0A+BigInt(I)*m0A+BigInt(G),N=(Number(U)/1e9).toFixed(9).replace(/\.?0+$/,"");B.push(`${N}S`)}}return`P${B.join("")||"T0S"}`},KSQ=(A)=>{let Q=cQ(A);return uF(Q)?j(bOA(Q)):x()},VSQ=(A)=>{let Q=MSQ.exec(A);if(Q==null)return x();let[B,C,E,I,Y,G,J]=Q.slice(1,8).map((U)=>U?Number(U):0),D=B*365*24*60*60+C*30*24*60*60+E*7*24*60*60+I*24*60*60+Y*60*60+G*60+J;return j(dJ(D))},MSQ=/^P(?!$)(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?(?:T(?!$)(?:(\d+)H)?(?:(\d+)M)?(?:(\d+(?:\.\d+)?)S)?)?$/;var WC={};ZQ(WC,{values:()=>ORA,union:()=>pN,toggle:()=>mSQ,toValues:()=>vSQ,some:()=>SSQ,size:()=>uN,remove:()=>NX,reduce:()=>u1,partition:()=>dSQ,mutate:()=>bSQ,map:()=>Zm,make:()=>dN,isSubset:()=>gSQ,isHashSet:()=>JCA,intersection:()=>hSQ,has:()=>KU,fromIterable:()=>WU,forEach:()=>UCA,flatMap:()=>Xm,filter:()=>fSQ,every:()=>DCA,endMutation:()=>kSQ,empty:()=>mG,difference:()=>Nm,beginMutation:()=>ySQ,add:()=>uJ});var cF=5,o0A=Math.pow(2,5),hOA=o0A-1,mOA=o0A/2,fOA=o0A/4;function $SQ(A){return A-=A>>1&1431655765,A=(A&858993459)+(A>>2&858993459),A=A+(A>>4)&252645135,A+=A>>8,A+=A>>16,A&127}function lF(A,Q){return Q>>>A&hOA}function iF(A){return 1<<A}function Cm(A,Q){return $SQ(A&Q-1)}var r0A=(A,Q)=>({value:A,previous:Q});function oV(A,Q,B,C){let E=C;if(!A){let I=C.length;E=new Array(I);for(let Y=0;Y<I;++Y)E[Y]=C[Y]}return E[Q]=B,E}function a0A(A,Q,B){let C=B.length-1,E=0,I=0,Y=B;if(A)E=I=Q;else{Y=new Array(C);while(E<Q)Y[I++]=B[E++]}++E;while(E<=C)Y[I++]=B[E++];if(A)Y.length=C;return Y}function uOA(A,Q,B,C){let E=C.length;if(A){let J=E;while(J>=Q)C[J--]=C[J];return C[Q]=B,C}let I=0,Y=0,G=new Array(E+1);while(I<Q)G[Y++]=C[I++];G[Q]=B;while(I<E)G[++Y]=C[I++];return G}class f1{_tag="EmptyNode";modify(A,Q,B,C,E,I){let Y=B(x());if(cA(Y))return new f1;return++I.value,new rV(A,C,E,Y)}}function fN(A){return dI(A,"EmptyNode")}function zSQ(A){return fN(A)||A._tag==="LeafNode"||A._tag==="CollisionNode"}function Em(A,Q){return fN(A)?!1:Q===A.edit}class rV{edit;hash;key;value;_tag="LeafNode";constructor(A,Q,B,C){this.edit=A,this.hash=Q,this.key=B,this.value=C}modify(A,Q,B,C,E,I){if(JA(E,this.key)){let G=B(this.value);if(G===this.value)return this;else if(cA(G))return--I.value,new f1;if(Em(this,A))return this.value=G,this;return new rV(A,C,E,G)}let Y=B(x());if(cA(Y))return this;return++I.value,pOA(A,Q,this.hash,this,C,new rV(A,C,E,Y))}}class s0A{edit;hash;children;_tag="CollisionNode";constructor(A,Q,B){this.edit=A,this.hash=Q,this.children=B}modify(A,Q,B,C,E,I){if(C===this.hash){let G=Em(this,A),J=this.updateCollisionList(G,A,this.hash,this.children,B,E,I);if(J===this.children)return this;return J.length>1?new s0A(A,this.hash,J):J[0]}let Y=B(x());if(cA(Y))return this;return++I.value,pOA(A,Q,this.hash,this,C,new rV(A,C,E,Y))}updateCollisionList(A,Q,B,C,E,I,Y){let G=C.length;for(let D=0;D<G;++D){let U=C[D];if("key"in U&&JA(I,U.key)){let N=U.value,Z=E(N);if(Z===N)return C;if(cA(Z))return--Y.value,a0A(A,D,C);return oV(A,D,new rV(Q,B,I,Z),C)}}let J=E(x());if(cA(J))return C;return++Y.value,oV(A,G,new rV(Q,B,I,J),C)}}class $z{edit;mask;children;_tag="IndexedNode";constructor(A,Q,B){this.edit=A,this.mask=Q,this.children=B}modify(A,Q,B,C,E,I){let Y=this.mask,G=this.children,J=lF(Q,C),D=iF(J),U=Cm(Y,D),N=Y&D,Z=Em(this,A);if(!N){let M=new f1().modify(A,Q+cF,B,C,E,I);if(!M)return this;return G.length>=mOA?LSQ(A,J,M,Y,G):new $z(A,Y|D,uOA(Z,U,M,G))}let X=G[U],W=X.modify(A,Q+cF,B,C,E,I);if(X===W)return this;let K=Y,V;if(fN(W)){if(K&=~D,!K)return new f1;if(G.length<=2&&zSQ(G[U^1]))return G[U^1];V=a0A(Z,U,G)}else V=oV(Z,U,W,G);if(Z)return this.mask=K,this.children=V,this;return new $z(A,K,V)}}class t0A{edit;size;children;_tag="ArrayNode";constructor(A,Q,B){this.edit=A,this.size=Q,this.children=B}modify(A,Q,B,C,E,I){let Y=this.size,G=this.children,J=lF(Q,C),D=G[J],U=(D||new f1).modify(A,Q+cF,B,C,E,I);if(D===U)return this;let N=Em(this,A),Z;if(fN(D)&&!fN(U))++Y,Z=oV(N,J,U,G);else if(!fN(D)&&fN(U)){if(--Y,Y<=fOA)return wSQ(A,Y,J,G);Z=oV(N,J,new f1,G)}else Z=oV(N,J,U,G);if(N)return this.size=Y,this.children=Z,this;return new t0A(A,Y,Z)}}function wSQ(A,Q,B,C){let E=new Array(Q-1),I=0,Y=0;for(let G=0,J=C.length;G<J;++G)if(G!==B){let D=C[G];if(D&&!fN(D))E[I++]=D,Y|=1<<G}return new $z(A,Y,E)}function LSQ(A,Q,B,C,E){let I=[],Y=C,G=0;for(let J=0;Y;++J){if(Y&1)I[J]=E[G++];Y>>>=1}return I[Q]=B,new t0A(A,G+1,I)}function OSQ(A,Q,B,C,E,I){if(B===E)return new s0A(A,B,[I,C]);let Y=lF(Q,B),G=lF(Q,E);if(Y===G)return(J)=>new $z(A,iF(Y)|iF(G),[J]);else{let J=Y<G?[C,I]:[I,C];return new $z(A,iF(Y)|iF(G),J)}}function pOA(A,Q,B,C,E,I){let Y=void 0,G=Q;while(!0){let J=OSQ(A,G,B,C,E,I);if(typeof J==="function")Y=r0A(J,Y),G=G+cF;else{let D=J;while(Y!=null)D=Y.value(D),Y=Y.previous;return D}}}var cOA="effect/HashMap",Im=Symbol.for(cOA),TSQ={[Im]:Im,[Symbol.iterator](){return new zz(this,(A,Q)=>[A,Q])},[TA](){let A=QA(cOA);for(let Q of this)A^=H(QA(Q[0]),FA(QA(Q[1])));return rA(this,A)},[PA](A){if(QCA(A)){if(A._size!==this._size)return!1;for(let Q of this){let B=H(A,aV(Q[0],QA(Q[0])));if(cA(B))return!1;else if(!JA(Q[1],B.value))return!1}return!0}return!1},toString(){return PQ(this.toJSON())},toJSON(){return{_id:"HashMap",values:Array.from(this).map(wB)}},[sA](){return this.toJSON()},pipe(){return e(this,arguments)}},e0A=(A,Q,B,C)=>{let E=Object.create(TSQ);return E._editable=A,E._edit=Q,E._root=B,E._size=C,E};class zz{map;f;v;constructor(A,Q){this.map=A,this.f=Q,this.v=lOA(this.map._root,this.f,void 0)}next(){if(cA(this.v))return{done:!0,value:void 0};let A=this.v.value;return this.v=Ym(A.cont),{done:!1,value:A.value}}[Symbol.iterator](){return new zz(this.map,this.f)}}var Ym=(A)=>A?iOA(A[0],A[1],A[2],A[3],A[4]):x(),lOA=(A,Q,B=void 0)=>{switch(A._tag){case"LeafNode":{if(XA(A.value))return j({value:Q(A.key,A.value.value),cont:B});return Ym(B)}case"CollisionNode":case"ArrayNode":case"IndexedNode":{let C=A.children;return iOA(C.length,C,0,Q,B)}default:return Ym(B)}},iOA=(A,Q,B,C,E)=>{while(B<A){let I=Q[B++];if(I&&!fN(I))return lOA(I,C,[A,Q,B,C,E])}return Ym(E)},qSQ=e0A(!1,0,new f1,0),d1=()=>qSQ,nOA=(...A)=>ACA(A),ACA=(A)=>{let Q=sV(d1());for(let B of A)x8(Q,B[0],B[1]);return MP(Q)},QCA=(A)=>o(A,Im),oOA=(A)=>A&&fN(A._root),rOA=F(2,(A,Q)=>aV(A,Q,QA(Q))),aV=F(3,(A,Q,B)=>{let C=A._root,E=0;while(!0)switch(C._tag){case"LeafNode":return JA(Q,C.key)?C.value:x();case"CollisionNode":{if(B===C.hash){let I=C.children;for(let Y=0,G=I.length;Y<G;++Y){let J=I[Y];if("key"in J&&JA(Q,J.key))return J.value}}return x()}case"IndexedNode":{let I=lF(E,B),Y=iF(I);if(C.mask&Y){C=C.children[Cm(C.mask,Y)],E+=cF;break}return x()}case"ArrayNode":{if(C=C.children[lF(E,B)],C){E+=cF;break}return x()}default:return x()}}),aOA=F(2,(A,Q)=>{let B=aV(A,Q,QA(Q));if(cA(B))throw new Error("Expected map to contain key");return B.value}),Gm=F(2,(A,Q)=>XA(aV(A,Q,QA(Q)))),sOA=F(3,(A,Q,B)=>XA(aV(A,Q,B))),x8=F(3,(A,Q,B)=>$P(A,Q,()=>j(B))),PSQ=F(3,(A,Q,B)=>{if(A._editable)return A._root=Q,A._size=B,A;return Q===A._root?A:e0A(A._editable,A._edit,Q,B)}),VP=(A)=>new zz(A,(Q)=>Q),tOA=(A)=>new zz(A,(Q,B)=>B),eOA=(A)=>new zz(A,(Q,B)=>[Q,B]),wz=(A)=>A._size,sV=(A)=>e0A(!0,A._edit+1,A._root,A._size),MP=(A)=>{return A._editable=!1,A},Lz=F(2,(A,Q)=>{let B=sV(A);return Q(B),MP(B)}),$P=F(3,(A,Q,B)=>BCA(A,Q,QA(Q),B)),BCA=F(4,(A,Q,B,C)=>{let E={value:A._size},I=A._root.modify(A._editable?A._edit:NaN,0,C,B,Q,E);return H(A,PSQ(I,E.value))}),ARA=F(3,(A,Q,B)=>$P(A,Q,RQ(B))),QRA=F(2,(A,Q)=>{let B=sV(A);return Rz(Q,(C,E)=>x8(B,E,C)),MP(B)}),Oz=F(2,(A,Q)=>$P(A,Q,x)),BRA=F(2,(A,Q)=>Lz(A,(B)=>{for(let C of Q)Oz(C)(B)})),CRA=F(2,(A,Q)=>tV(A,d1(),(B,C,E)=>x8(B,E,Q(C,E)))),ERA=F(2,(A,Q)=>tV(A,d1(),(B,C,E)=>Lz(B,(I)=>Rz(Q(C,E),(Y,G)=>x8(I,G,Y))))),Rz=F(2,(A,Q)=>tV(A,void 0,(B,C,E)=>Q(C,E))),tV=F(3,(A,Q,B)=>{let C=A._root;if(C._tag==="LeafNode")return XA(C.value)?B(Q,C.value.value,C.key):Q;if(C._tag==="EmptyNode")return Q;let E=[C.children],I;while(I=E.pop())for(let Y=0,G=I.length;Y<G;){let J=I[Y++];if(J&&!fN(J))if(J._tag==="LeafNode"){if(XA(J.value))Q=B(Q,J.value.value,J.key)}else E.push(J.children)}return Q}),IRA=F(2,(A,Q)=>Lz(d1(),(B)=>{for(let[C,E]of A)if(Q(E,C))x8(B,C,E)})),YRA=(A)=>CCA(A,s),CCA=F(2,(A,Q)=>Lz(d1(),(B)=>{for(let[C,E]of A){let I=Q(E,C);if(XA(I))x8(B,C,I.value)}})),GRA=F(2,(A,Q)=>{for(let B of A)if(Q(B[1],B[0]))return j(B);return x()}),ECA=F(2,(A,Q)=>{for(let B of A)if(Q(B[1],B[0]))return!0;return!1}),JRA=F(2,(A,Q)=>!ECA(A,(B,C)=>!Q(B,C)));var URA="effect/HashSet",Jm=Symbol.for(URA),_SQ={[Jm]:Jm,[Symbol.iterator](){return VP(this._keyMap)},[TA](){return rA(this,FA(QA(this._keyMap))(QA(URA)))},[PA](A){if(ICA(A))return wz(this._keyMap)===wz(A._keyMap)&&JA(this._keyMap,A._keyMap);return!1},toString(){return PQ(this.toJSON())},toJSON(){return{_id:"HashSet",values:Array.from(this).map(wB)}},[sA](){return this.toJSON()},pipe(){return e(this,arguments)}},Tz=(A)=>{let Q=Object.create(_SQ);return Q._keyMap=A,Q},ICA=(A)=>o(A,Jm),jSQ=Tz(d1()),S8=()=>jSQ,NRA=(A)=>{let Q=eV(S8());for(let B of A)HU(Q,B);return A7(Q)},ZRA=(...A)=>{let Q=eV(S8());for(let B of A)HU(Q,B);return A7(Q)},Q7=F(2,(A,Q)=>Gm(A._keyMap,Q)),YCA=F(2,(A,Q)=>{let B=!1;for(let C of A)if(B=Q(C),B)break;return B}),GCA=F(2,(A,Q)=>!YCA(A,(B)=>!Q(B))),XRA=F(2,(A,Q)=>GCA(A,(B)=>Q7(Q,B))),Dm=(A)=>VP(A._keyMap),FRA=(A)=>wz(A._keyMap),eV=(A)=>Tz(sV(A._keyMap)),A7=(A)=>{return A._keyMap._editable=!1,A},nF=F(2,(A,Q)=>{let B=eV(A);return Q(B),A7(B)}),HU=F(2,(A,Q)=>A._keyMap._editable?(x8(Q,!0)(A._keyMap),A):Tz(x8(Q,!0)(A._keyMap))),Um=F(2,(A,Q)=>A._keyMap._editable?(Oz(Q)(A._keyMap),A):Tz(Oz(Q)(A._keyMap))),HRA=F(2,(A,Q)=>nF(A,(B)=>{for(let C of Q)Um(B,C)})),WRA=F(2,(A,Q)=>nF(S8(),(B)=>{for(let C of Q)if(Q7(C)(A))HU(C)(B)})),KRA=F(2,(A,Q)=>nF(S8(),(B)=>{zP(A,(C)=>HU(B,C));for(let C of Q)HU(B,C)})),VRA=F(2,(A,Q)=>Q7(A,Q)?Um(A,Q):HU(A,Q)),MRA=F(2,(A,Q)=>nF(S8(),(B)=>{zP(A,(C)=>{let E=Q(C);if(!Q7(B,E))HU(B,E)})})),$RA=F(2,(A,Q)=>nF(S8(),(B)=>{zP(A,(C)=>{for(let E of Q(C))if(!Q7(B,E))HU(B,E)})})),zP=F(2,(A,Q)=>Rz(A._keyMap,(B,C)=>Q(C))),zRA=F(3,(A,Q,B)=>tV(A._keyMap,Q,(C,E,I)=>B(C,I))),wRA=F(2,(A,Q)=>{return nF(S8(),(B)=>{let C=Dm(A),E;while(!(E=C.next()).done){let I=E.value;if(Q(I))HU(B,I)}})}),LRA=F(2,(A,Q)=>{let B=Dm(A),C,E=eV(S8()),I=eV(S8());while(!(C=B.next()).done){let Y=C.value;if(Q(Y))HU(E,Y);else HU(I,Y)}return[A7(I),A7(E)]});var JCA=ICA,mG=S8,WU=NRA,dN=ZRA,KU=Q7,SSQ=YCA,DCA=GCA,gSQ=XRA,ORA=Dm,vSQ=(A)=>Array.from(ORA(A)),uN=FRA,ySQ=eV,kSQ=A7,bSQ=nF,uJ=HU,NX=Um,Nm=HRA,hSQ=WRA,pN=KRA,mSQ=VRA,Zm=MRA,Xm=$RA,UCA=zP,u1=zRA,fSQ=wRA,dSQ=LRA;var RRA=Symbol.for("effect/MutableRef"),uSQ={[RRA]:RRA,toString(){return PQ(this.toJSON())},toJSON(){return{_id:"MutableRef",current:wB(this.current)}},[sA](){return this.toJSON()},pipe(){return e(this,arguments)}},SI=(A)=>{let Q=Object.create(uSQ);return Q.current=A,Q},wP=F(3,(A,Q,B)=>{if(JA(Q,A.current))return A.current=B,!0;return!1});var EB=(A)=>A.current;var hE=F(2,(A,Q)=>{return A.current=Q,A});var Wm="effect/FiberId",oF=Symbol.for(Wm),rF="None",Fm="Runtime",Hm="Composite",pSQ=LQ(`${Wm}-${rF}`);class qRA{[oF]=oF;_tag=rF;id=-1;startTimeMillis=-1;[TA](){return pSQ}[PA](A){return RP(A)&&A._tag===rF}toString(){return PQ(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag}}[sA](){return this.toJSON()}}class Km{id;startTimeMillis;[oF]=oF;_tag=Fm;constructor(A,Q){this.id=A,this.startTimeMillis=Q}[TA](){return rA(this,LQ(`${Wm}-${this._tag}-${this.id}-${this.startTimeMillis}`))}[PA](A){return RP(A)&&A._tag===Fm&&this.id===A.id&&this.startTimeMillis===A.startTimeMillis}toString(){return PQ(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,id:this.id,startTimeMillis:this.startTimeMillis}}[sA](){return this.toJSON()}}class NCA{left;right;[oF]=oF;_tag=Hm;constructor(A,Q){this.left=A,this.right=Q}_hash;[TA](){return H(LQ(`${Wm}-${this._tag}`),FA(QA(this.left)),FA(QA(this.right)),rA(this))}[PA](A){return RP(A)&&A._tag===Hm&&JA(this.left,A.left)&&JA(this.right,A.right)}toString(){return PQ(this.toJSON())}toJSON(){return{_id:"FiberId",_tag:this._tag,left:wB(this.left),right:wB(this.right)}}[sA](){return this.toJSON()}}var B7=new qRA,PRA=(A,Q)=>{return new Km(A,Q)},_RA=(A,Q)=>{return new NCA(A,Q)},RP=(A)=>o(A,oF),ZCA=(A)=>{return A._tag===rF||H(OP(A),DCA((Q)=>ZCA(Q)))};var XCA=F(2,(A,Q)=>{if(A._tag===rF)return Q;if(Q._tag===rF)return A;return new NCA(A,Q)}),jRA=(A)=>{return H(A,u1(B7,(Q,B)=>XCA(B)(Q)))},xRA=F(2,(A,Q)=>ZCA(A)?Q:A),LP=(A)=>{switch(A._tag){case rF:return mG();case Fm:return dN(A.id);case Hm:return H(LP(A.left),pN(LP(A.right)))}},TRA=xA(Symbol.for("effect/Fiber/Id/_fiberCounter"),()=>SI(0)),SRA=(A,Q)=>{return new Km(A,Q)},C7=(A)=>{return Array.from(LP(A)).map((B)=>`#${B}`).join(",")};var OP=(A)=>{switch(A._tag){case rF:return mG();case Fm:return dN(A);case Hm:return H(OP(A.left),pN(OP(A.right)))}},gRA=()=>{let A=EB(TRA);return H(TRA,hE(A+1)),new Km(A,Date.now())};var TC=B7,Vm=PRA,vRA=_RA,yRA=RP;var JG=XCA,kRA=jRA,Mm=xRA,ZX=LP,qz=SRA,HCA=C7;var WCA=OP,$m=gRA;var PE={};ZQ(PE,{values:()=>hRA,unsafeGet:()=>VCA,union:()=>dRA,toValues:()=>mRA,toEntries:()=>oSQ,some:()=>IgQ,size:()=>_z,set:()=>FE,removeMany:()=>eSQ,remove:()=>Lm,reduce:()=>qP,mutate:()=>MCA,modifyHash:()=>sSQ,modifyAt:()=>$CA,modify:()=>tSQ,map:()=>zCA,make:()=>zm,keys:()=>wm,keySet:()=>nSQ,isHashMap:()=>KCA,isEmpty:()=>TP,hasHash:()=>iSQ,has:()=>Pz,getHash:()=>lSQ,get:()=>p1,fromIterable:()=>XX,forEach:()=>wCA,flatMap:()=>AgQ,findFirst:()=>EgQ,filterMap:()=>CgQ,filter:()=>QgQ,every:()=>YgQ,entries:()=>fRA,endMutation:()=>aSQ,empty:()=>VI,compact:()=>BgQ,beginMutation:()=>rSQ});function bRA(A){return Tz(A)}var KCA=QCA,VI=d1,zm=nOA,XX=ACA,TP=oOA,p1=rOA,lSQ=aV,VCA=aOA,Pz=Gm,iSQ=sOA,FE=x8,wm=VP,nSQ=bRA,hRA=tOA,mRA=(A)=>Array.from(hRA(A)),fRA=eOA,oSQ=(A)=>Array.from(fRA(A)),_z=wz,rSQ=sV,aSQ=MP,MCA=Lz,$CA=$P,sSQ=BCA,tSQ=ARA,dRA=QRA,Lm=Oz,eSQ=BRA,zCA=CRA,AgQ=ERA,wCA=Rz,qP=tV,QgQ=IRA,BgQ=YRA,CgQ=CCA,EgQ=GRA,IgQ=ECA,YgQ=JRA;var _P=Symbol.for("effect/List"),LCA=(A)=>aA(A),GgQ=(A)=>vQA(WJ(A),LCA),JgQ=GgQ(JA),DgQ={[_P]:_P,_tag:"Cons",toString(){return PQ(this.toJSON())},toJSON(){return{_id:"List",_tag:"Cons",values:LCA(this).map(wB)}},[sA](){return this.toJSON()},[PA](A){return Om(A)&&this._tag===A._tag&&JgQ(this,A)},[TA](){return rA(this,XY(LCA(this)))},[Symbol.iterator](){let A=!1,Q=this;return{next(){if(A)return this.return();if(Q._tag==="Nil")return A=!0,this.return();let B=Q.head;return Q=Q.tail,{done:A,value:B}},return(B){if(!A)A=!0;return{done:!0,value:B}}}},pipe(){return e(this,arguments)}},jz=(A,Q)=>{let B=Object.create(DgQ);return B.head=A,B.tail=Q,B},UgQ=LQ("Nil"),NgQ={[_P]:_P,_tag:"Nil",toString(){return PQ(this.toJSON())},toJSON(){return{_id:"List",_tag:"Nil"}},[sA](){return this.toJSON()},[TA](){return UgQ},[PA](A){return Om(A)&&this._tag===A._tag},[Symbol.iterator](){return{next(){return{done:!0,value:void 0}}}},pipe(){return e(this,arguments)}},PP=Object.create(NgQ),Om=(A)=>o(A,_P),pJ=(A)=>A._tag==="Nil",E7=(A)=>A._tag==="Cons";var uRA=()=>PP,KY=(A,Q)=>jz(A,Q),cN=uRA,c1=(A)=>jz(A,PP),Rm=(A)=>{let Q=A[Symbol.iterator](),B;if((B=Q.next())&&!B.done){let C=jz(B.value,PP),E=C;while((B=Q.next())&&!B.done){let I=jz(B.value,PP);E.tail=I,E=I}return C}else return PP};var pRA=F(2,(A,Q)=>ZgQ(Q,A)),jP=F(2,(A,Q)=>KY(Q,A)),ZgQ=F(2,(A,Q)=>{if(pJ(A))return Q;else if(pJ(Q))return A;else{let B=jz(Q.head,A),C=B,E=Q.tail;while(!pJ(E)){let I=jz(E.head,A);C.tail=I,C=I,E=E.tail}return B}});var cRA=F(3,(A,Q,B)=>{let C=Q,E=A;while(!pJ(E))C=B(C,E.head),E=E.tail;return C});var lRA=(A)=>{let Q=cN(),B=A;while(!pJ(B))Q=jP(Q,B.head),B=B.tail;return Q};var iRA=Object.assign(Object.create(Array.prototype),{[TA](){return rA(this,XY(this))},[PA](A){if(Array.isArray(A)&&this.length===A.length)return this.every((Q,B)=>JA(Q,A[B]));else return!1}}),x2=function(){function A(Q){if(Q)Object.assign(this,Q)}return A.prototype=M8,A}(),xz=(A)=>Object.assign(Object.create(M8),A);var oRA=Symbol.for("effect/DifferChunkPatch");function nRA(A){return A}var ZhB={...x2.prototype,[oRA]:{_Value:nRA,_Patch:nRA}};var sRA=Symbol.for("effect/DifferContextPatch");function aRA(A){return A}var SP={...x2.prototype,[sRA]:{_Value:aRA,_Patch:aRA}},XgQ=Object.assign(Object.create(SP),{_tag:"Empty"}),FgQ=Object.create(XgQ),OCA=()=>FgQ,HgQ=Object.assign(Object.create(SP),{_tag:"AndThen"}),WgQ=(A,Q)=>{let B=Object.create(HgQ);return B.first=A,B.second=Q,B},KgQ=Object.assign(Object.create(SP),{_tag:"AddService"}),VgQ=(A,Q)=>{let B=Object.create(KgQ);return B.key=A,B.service=Q,B},MgQ=Object.assign(Object.create(SP),{_tag:"RemoveService"}),$gQ=(A)=>{let Q=Object.create(MgQ);return Q.key=A,Q},zgQ=Object.assign(Object.create(SP),{_tag:"UpdateService"}),wgQ=(A,Q)=>{let B=Object.create(zgQ);return B.key=A,B.update=Q,B},tRA=(A,Q)=>{let B=new Map(A.unsafeMap),C=OCA();for(let[E,I]of Q.unsafeMap.entries())if(B.has(E)){let Y=B.get(E);if(B.delete(E),!JA(Y,I))C=xP(wgQ(E,()=>I))(C)}else B.delete(E),C=xP(VgQ(E,I))(C);for(let[E]of B.entries())C=xP($gQ(E))(C);return C},xP=F(2,(A,Q)=>WgQ(A,Q)),eRA=F(2,(A,Q)=>{if(A._tag==="Empty")return Q;let B=!1,C=dA(A),E=new Map(Q.unsafeMap);while(qB(C)){let Y=aB(C),G=k0(C);switch(Y._tag){case"Empty":{C=G;break}case"AddService":{E.set(Y.key,Y.service),C=G;break}case"AndThen":{C=pB(pB(G,Y.second),Y.first);break}case"RemoveService":{E.delete(Y.key),C=G;break}case"UpdateService":{E.set(Y.key,Y.update(E.get(Y.key))),B=!0,C=G;break}}}if(!B)return vN(E);let I=new Map;for(let[Y]of Q.unsafeMap)if(E.has(Y))I.set(Y,E.get(Y)),E.delete(Y);for(let[Y,G]of E)I.set(Y,G);return vN(I)});var QTA=Symbol.for("effect/DifferHashMapPatch");function RCA(A){return A}var WhB={...x2.prototype,[QTA]:{_Value:RCA,_Key:RCA,_Patch:RCA}};var CTA=Symbol.for("effect/DifferHashSetPatch");function TCA(A){return A}var Pm={...x2.prototype,[CTA]:{_Value:TCA,_Key:TCA,_Patch:TCA}},LgQ=Object.assign(Object.create(Pm),{_tag:"Empty"}),OgQ=Object.create(LgQ),qCA=()=>OgQ,RgQ=Object.assign(Object.create(Pm),{_tag:"AndThen"}),TgQ=(A,Q)=>{let B=Object.create(RgQ);return B.first=A,B.second=Q,B},qgQ=Object.assign(Object.create(Pm),{_tag:"Add"}),PgQ=(A)=>{let Q=Object.create(qgQ);return Q.value=A,Q},_gQ=Object.assign(Object.create(Pm),{_tag:"Remove"}),jgQ=(A)=>{let Q=Object.create(_gQ);return Q.value=A,Q},ETA=(A,Q)=>{let[B,C]=u1([A,qCA()],([E,I],Y)=>{if(KU(Y)(E))return[NX(Y)(E),I];return[E,qm(PgQ(Y))(I)]})(Q);return u1(C,(E,I)=>qm(jgQ(I))(E))(B)},qm=F(2,(A,Q)=>TgQ(A,Q)),ITA=F(2,(A,Q)=>{if(A._tag==="Empty")return Q;let B=Q,C=dA(A);while(qB(C)){let E=aB(C),I=k0(C);switch(E._tag){case"Empty":{C=I;break}case"AndThen":{C=pB(E.first)(pB(E.second)(I));break}case"Add":{B=uJ(E.value)(B),C=I;break}case"Remove":B=NX(E.value)(B),C=I}}return B});var GTA=Symbol.for("effect/DifferOrPatch");function PCA(A){return A}var MhB={...x2.prototype,[GTA]:{_Value:PCA,_Key:PCA,_Patch:PCA}};var UTA=Symbol.for("effect/DifferReadonlyArrayPatch");function DTA(A){return A}var vP={...x2.prototype,[UTA]:{_Value:DTA,_Patch:DTA}},xgQ=Object.assign(Object.create(vP),{_tag:"Empty"}),SgQ=Object.create(xgQ),_CA=()=>SgQ,ggQ=Object.assign(Object.create(vP),{_tag:"AndThen"}),vgQ=(A,Q)=>{let B=Object.create(ggQ);return B.first=A,B.second=Q,B},ygQ=Object.assign(Object.create(vP),{_tag:"Append"}),kgQ=(A)=>{let Q=Object.create(ygQ);return Q.values=A,Q},bgQ=Object.assign(Object.create(vP),{_tag:"Slice"}),hgQ=(A,Q)=>{let B=Object.create(bgQ);return B.from=A,B.until=Q,B},mgQ=Object.assign(Object.create(vP),{_tag:"Update"}),fgQ=(A,Q)=>{let B=Object.create(mgQ);return B.index=A,B.patch=Q,B},NTA=(A)=>{let Q=0,B=_CA();while(Q<A.oldValue.length&&Q<A.newValue.length){let C=A.oldValue[Q],E=A.newValue[Q],I=A.differ.diff(C,E);if(!JA(I,A.differ.empty))B=gP(B,fgQ(Q,I));Q=Q+1}if(Q<A.oldValue.length)B=gP(B,hgQ(0,Q));if(Q<A.newValue.length)B=gP(B,kgQ(Qh(Q)(A.newValue)));return B},gP=F(2,(A,Q)=>vgQ(A,Q)),ZTA=F(3,(A,Q,B)=>{if(A._tag==="Empty")return Q;let C=Q.slice(),E=$0(A);while(DU(E)){let I=jI(E),Y=NU(E);switch(I._tag){case"Empty":{E=Y;break}case"AndThen":{Y.unshift(I.first,I.second),E=Y;break}case"Append":{for(let G of I.values)C.push(G);E=Y;break}case"Slice":{C=C.slice(I.from,I.until),E=Y;break}case"Update":{C[I.index]=B.patch(I.patch,C[I.index]),E=Y;break}}}return C});var FTA=Symbol.for("effect/Differ"),dgQ={[FTA]:{_P:s,_V:s},pipe(){return e(this,arguments)}},aF=(A)=>{let Q=Object.create(dgQ);return Q.empty=A.empty,Q.diff=A.diff,Q.combine=A.combine,Q.patch=A.patch,Q},jCA=()=>aF({empty:OCA(),combine:(A,Q)=>xP(Q)(A),diff:(A,Q)=>tRA(A,Q),patch:(A,Q)=>eRA(Q)(A)});var xCA=()=>aF({empty:qCA(),combine:(A,Q)=>qm(Q)(A),diff:(A,Q)=>ETA(A,Q),patch:(A,Q)=>ITA(Q)(A)});var SCA=(A)=>aF({empty:_CA(),combine:(Q,B)=>gP(Q,B),diff:(Q,B)=>NTA({oldValue:Q,newValue:B,differ:A}),patch:(Q,B)=>ZTA(Q,B,A)});var _m=()=>HTA((A,Q)=>Q),HTA=(A)=>aF({empty:s,combine:(Q,B)=>{if(Q===s)return B;if(B===s)return Q;return(C)=>B(Q(C))},diff:(Q,B)=>{if(JA(Q,B))return s;return bJ(B)},patch:(Q,B)=>A(B,Q(B))});var yP=255,WTA=8,jm=(A)=>A&yP,xm=(A)=>A>>WTA&yP,I7=(A,Q)=>(A&yP)+((Q&A&yP)<<WTA),Sm=I7(0,0),vCA=(A)=>I7(A,A),yCA=(A)=>I7(A,0);var KTA=F(2,(A,Q)=>I7(jm(A)&~Q,xm(A)));var kCA=F(2,(A,Q)=>A|Q);var VTA=(A)=>~A>>>0&yP;var MTA=0,lN=1,gm=2,kP=4,Sz=16,bP=32;var hCA=(A)=>hP(A,bP);var vm=F(2,(A,Q)=>A|Q);var iN=(A)=>gz(A)&&!$TA(A),gz=(A)=>hP(A,lN);var hP=F(2,(A,Q)=>(A&Q)!==0),ym=(...A)=>A.reduce((Q,B)=>Q|B,0),mCA=ym(MTA);var km=(A)=>hP(A,kP);var $TA=(A)=>hP(A,Sz);var VU=F(2,(A,Q)=>I7(A^Q,Q)),FX=F(2,(A,Q)=>A&(VTA(jm(Q))|xm(Q))|jm(Q)&xm(Q));var bm=aF({empty:Sm,diff:(A,Q)=>VU(A,Q),combine:(A,Q)=>kCA(Q)(A),patch:(A,Q)=>FX(Q,A)});var zTA=Sm;var fCA=vCA,dCA=yCA;var uCA=KTA;var hm={_tag:"Empty"},mP=(A,Q)=>({_tag:"Par",left:A,right:Q}),vz=(A,Q)=>({_tag:"Seq",left:A,right:Q}),fP=(A,Q)=>({_tag:"Single",dataSource:A,blockedRequest:Q});var wTA=(A)=>{let Q=c1(A),B=cN();while(!0){let[C,E]=cRA(Q,[OTA(),cN()],([I,Y],G)=>{let[J,D]=ugQ(G);return[rgQ(I,J),pRA(Y,D)]});if(B=pgQ(B,C),pJ(E))return lRA(B);Q=E}throw new Error("BUG: BlockedRequests.flatten - please report an issue at https://github.com/Effect-TS/effect/issues")},ugQ=(A)=>{let Q=A,B=OTA(),C=cN(),E=cN();while(!0)switch(Q._tag){case"Empty":{if(pJ(C))return[B,E];Q=C.head,C=C.tail;break}case"Par":{C=KY(Q.right,C),Q=Q.left;break}case"Seq":{let{left:I,right:Y}=Q;switch(I._tag){case"Empty":{Q=Y;break}case"Par":{let{left:G,right:J}=I;Q=mP(vz(G,Y),vz(J,Y));break}case"Seq":{let{left:G,right:J}=I;Q=vz(G,vz(J,Y));break}case"Single":{Q=I,E=KY(Y,E);break}}break}case"Single":{if(B=ogQ(B,Q),pJ(C))return[B,E];Q=C.head,C=C.tail;break}}throw new Error("BUG: BlockedRequests.step - please report an issue at https://github.com/Effect-TS/effect/issues")},pgQ=(A,Q)=>{if(pJ(A))return c1(cCA(Q));if(agQ(Q))return A;let B=BvQ(A.head),C=sgQ(Q);if(B.length===1&&C.length===1&&JA(B[0],C[0]))return KY(QvQ(A.head,cCA(Q)),A.tail);return KY(cCA(Q),A)},cgQ=Symbol.for("effect/RequestBlock/Entry");class LTA{request;result;listeners;ownerId;state;[cgQ]=lgQ;constructor(A,Q,B,C,E){this.request=A,this.result=Q,this.listeners=B,this.ownerId=C,this.state=E}}var lgQ={_R:(A)=>A};var mm=(A)=>new LTA(A.request,A.result,A.listeners,A.ownerId,A.state),igQ=Symbol.for("effect/RequestBlock/RequestBlockParallel"),ngQ={_R:(A)=>A};class fm{map;[igQ]=ngQ;constructor(A){this.map=A}}var OTA=()=>new fm(VI());var ogQ=(A,Q)=>new fm($CA(A.map,Q.dataSource,(B)=>eQA(RQ(B,QE(Q.blockedRequest)),()=>dA(Q.blockedRequest)))),rgQ=(A,Q)=>new fm(qP(A.map,Q.map,(B,C,E)=>FE(B,E,HA(p1(B,E),{onNone:()=>C,onSome:(I)=>tQ(C,I)})))),agQ=(A)=>TP(A.map),sgQ=(A)=>Array.from(wm(A.map)),cCA=(A)=>AvQ(zCA(A.map,(Q)=>dA(Q))),tgQ=Symbol.for("effect/RequestBlock/RequestBlockSequential"),egQ={_R:(A)=>A};class lCA{map;[tgQ]=egQ;constructor(A){this.map=A}}var AvQ=(A)=>new lCA(A),QvQ=(A,Q)=>new lCA(qP(Q.map,A.map,(B,C,E)=>FE(B,E,HA(p1(B,E),{onNone:()=>hA(),onSome:(I)=>tQ(I,C)}))));var BvQ=(A)=>Array.from(wm(A.map)),RTA=(A)=>Array.from(A.map);var sF="Die",i1="Empty",tF="Fail",eF="Interrupt",AH="Parallel",QH="Sequential";var PTA="effect/Cause",um=Symbol.for(PTA),EvQ={_E:(A)=>A},kz={[um]:EvQ,[TA](){return H(QA(PTA),FA(QA(IvQ(this))),rA(this))},[PA](A){return uP(A)&&cTA(this,A)},pipe(){return e(this,arguments)},toJSON(){switch(this._tag){case"Empty":return{_id:"Cause",_tag:this._tag};case"Die":return{_id:"Cause",_tag:this._tag,defect:wB(this.defect)};case"Interrupt":return{_id:"Cause",_tag:this._tag,fiberId:this.fiberId.toJSON()};case"Fail":return{_id:"Cause",_tag:this._tag,failure:wB(this.error)};case"Sequential":case"Parallel":return{_id:"Cause",_tag:this._tag,left:wB(this.left),right:wB(this.right)}}},toString(){return JD(this)},[sA](){return this.toJSON()}},VJ=(()=>{let A=Object.create(kz);return A._tag=i1,A})(),nN=(A)=>{let Q=Object.create(kz);return Q._tag=tF,Q.error=A,Q},AI=(A)=>{let Q=Object.create(kz);return Q._tag=sF,Q.defect=A,Q},dG=(A)=>{let Q=Object.create(kz);return Q._tag=eF,Q.fiberId=A,Q},VY=(A,Q)=>{let B=Object.create(kz);return B._tag=AH,B.left=A,B.right=Q,B},bC=(A,Q)=>{let B=Object.create(kz);return B._tag=QH,B.left=A,B.right=Q,B},uP=(A)=>o(A,um),pm=(A)=>A._tag===i1,_TA=(A)=>A._tag===tF,G7=(A)=>A._tag===sF,jTA=(A)=>A._tag===eF,xTA=(A)=>A._tag===QH,STA=(A)=>A._tag===AH,gTA=(A)=>N7(A,void 0,GvQ),BH=(A)=>{if(A._tag===i1)return!0;return n1(A,!0,(Q,B)=>{switch(B._tag){case i1:return j(Q);case sF:case tF:case eF:return j(!1);default:return x()}})},vTA=(A)=>XA(mz(A)),yTA=(A)=>XA(nCA(A)),bz=(A)=>XA(oCA(A)),J7=(A)=>N7(void 0,JvQ)(A),hz=(A)=>KJ(n1(A,hA(),(Q,B)=>B._tag===tF?j(H(Q,pB(B.error))):x())),D7=(A)=>KJ(n1(A,hA(),(Q,B)=>B._tag===sF?j(H(Q,pB(B.defect))):x())),U7=(A)=>n1(A,mG(),(Q,B)=>B._tag===eF?j(H(Q,uJ(B.fiberId))):x()),mz=(A)=>HX(A,(Q)=>Q._tag===tF?j(Q.error):x()),v8=(A)=>{let Q=mz(A);switch(Q._tag){case"None":return $A(A);case"Some":return wA(Q.value)}},nCA=(A)=>HX(A,(Q)=>Q._tag===sF?j(Q.defect):x()),kTA=(A)=>WX(A,{onEmpty:j(VJ),onFail:RQ(nN),onDie:(Q)=>j(AI(Q)),onInterrupt:(Q)=>j(dG(Q)),onSequential:QX(bC),onParallel:QX(VY)}),oCA=(A)=>HX(A,(Q)=>Q._tag===eF?j(Q.fiberId):x()),cm=(A)=>WX(A,{onEmpty:x(),onFail:()=>x(),onDie:(Q)=>j(AI(Q)),onInterrupt:()=>x(),onSequential:QX(bC),onParallel:QX(VY)}),bTA=(A)=>WX(A,{onEmpty:x(),onFail:(Q)=>j(AI(Q)),onDie:(Q)=>j(AI(Q)),onInterrupt:()=>x(),onSequential:QX(bC),onParallel:QX(VY)}),hTA=(A)=>WX(A,{onEmpty:mG(),onFail:(Q)=>dN(nN(Q)),onDie:(Q)=>dN(AI(Q)),onInterrupt:(Q)=>dN(dG(Q)),onSequential:(Q,B)=>Xm(Q,(C)=>Zm(B,(E)=>bC(C,E))),onParallel:(Q,B)=>Xm(Q,(C)=>Zm(B,(E)=>VY(C,E)))}),pP=(A)=>WX(A,{onEmpty:VJ,onFail:()=>VJ,onDie:AI,onInterrupt:dG,onSequential:bC,onParallel:VY}),mTA=(A)=>WX(A,{onEmpty:VJ,onFail:AI,onDie:AI,onInterrupt:dG,onSequential:bC,onParallel:VY}),fTA=F(2,(A,Q)=>WX(A,{onEmpty:j(VJ),onFail:(B)=>j(nN(B)),onDie:(B)=>{let C=Q(B);return XA(C)?x():j(AI(B))},onInterrupt:(B)=>j(dG(B)),onSequential:QX(bC),onParallel:QX(VY)})),dTA=F(2,(A,Q)=>cP(A,()=>Q)),cP=F(2,(A,Q)=>yz(A,(B)=>nN(Q(B)))),yz=F(2,(A,Q)=>WX(A,{onEmpty:VJ,onFail:(B)=>Q(B),onDie:(B)=>AI(B),onInterrupt:(B)=>dG(B),onSequential:(B,C)=>bC(B,C),onParallel:(B,C)=>VY(B,C)})),lm=(A)=>yz(A,s),uTA=F(2,(A,Q)=>EU(Q)?yz(A,Q):yz(A,()=>Q)),pTA=F(2,(A,Q)=>{if(Q._tag===i1||A===Q)return!0;return n1(A,!1,(B,C)=>{return j(B||cTA(C,Q))})}),cTA=(A,Q)=>{let B=dA(A),C=dA(Q);while(qB(B)&&qB(C)){let[E,I]=H(aB(B),n1([mG(),hA()],([J,D],U)=>{let[N,Z]=iCA(U);return j([H(J,pN(N)),H(D,tQ(Z))])})),[Y,G]=H(aB(C),n1([mG(),hA()],([J,D],U)=>{let[N,Z]=iCA(U);return j([H(J,pN(N)),H(D,tQ(Z))])}));if(!JA(E,Y))return!1;B=I,C=G}return!0},IvQ=(A)=>{return YvQ(dA(A),hA())},YvQ=(A,Q)=>{while(!0){let[B,C]=H(A,HY([mG(),hA()],([I,Y],G)=>{let[J,D]=iCA(G);return[H(I,pN(J)),H(Y,tQ(D))]})),E=uN(B)>0?H(Q,pB(B)):Q;if(SQ(C))return KJ(E);A=C,Q=E}throw new Error(a9("Cause.flattenCauseLoop"))},HX=F(2,(A,Q)=>{let B=[A];while(B.length>0){let C=B.pop(),E=Q(C);switch(E._tag){case"None":{switch(C._tag){case QH:case AH:{B.push(C.right),B.push(C.left);break}}break}case"Some":return E}}return x()}),lTA=F(2,(A,Q)=>N7(A,void 0,DvQ(Q))),iCA=(A)=>{let Q=A,B=[],C=mG(),E=hA();while(Q!==void 0)switch(Q._tag){case i1:{if(B.length===0)return[C,E];Q=B.pop();break}case tF:{if(C=uJ(C,bN(Q._tag,Q.error)),B.length===0)return[C,E];Q=B.pop();break}case sF:{if(C=uJ(C,bN(Q._tag,Q.defect)),B.length===0)return[C,E];Q=B.pop();break}case eF:{if(C=uJ(C,bN(Q._tag,Q.fiberId)),B.length===0)return[C,E];Q=B.pop();break}case QH:{switch(Q.left._tag){case i1:{Q=Q.right;break}case QH:{Q=bC(Q.left.left,bC(Q.left.right,Q.right));break}case AH:{Q=VY(bC(Q.left.left,Q.right),bC(Q.left.right,Q.right));break}default:{E=pB(E,Q.right),Q=Q.left;break}}break}case AH:{B.push(Q.right),Q=Q.left;break}}throw new Error(a9("Cause.evaluateCauseLoop"))},GvQ={emptyCase:()=>0,failCase:()=>1,dieCase:()=>1,interruptCase:()=>1,sequentialCase:(A,Q,B)=>Q+B,parallelCase:(A,Q,B)=>Q+B},JvQ={emptyCase:ZY,failCase:x0,dieCase:x0,interruptCase:ZY,sequentialCase:(A,Q,B)=>Q&&B,parallelCase:(A,Q,B)=>Q&&B},DvQ=(A)=>({emptyCase:()=>VJ,failCase:(Q,B)=>nN(B),dieCase:(Q,B)=>AI(B),interruptCase:(Q,B)=>dG(B),sequentialCase:(Q,B,C)=>{if(A(B)){if(A(C))return bC(B,C);return B}if(A(C))return C;return VJ},parallelCase:(Q,B,C)=>{if(A(B)){if(A(C))return VY(B,C);return B}if(A(C))return C;return VJ}}),TTA="SequentialCase",qTA="ParallelCase",WX=F(2,(A,{onDie:Q,onEmpty:B,onFail:C,onInterrupt:E,onParallel:I,onSequential:Y})=>{return N7(A,void 0,{emptyCase:()=>B,failCase:(G,J)=>C(J),dieCase:(G,J)=>Q(J),interruptCase:(G,J)=>E(J),sequentialCase:(G,J,D)=>Y(J,D),parallelCase:(G,J,D)=>I(J,D)})}),n1=F(3,(A,Q,B)=>{let C=Q,E=A,I=[];while(E!==void 0){let Y=B(C,E);switch(C=XA(Y)?Y.value:C,E._tag){case QH:{I.push(E.right),E=E.left;break}case AH:{I.push(E.right),E=E.left;break}default:{E=void 0;break}}if(E===void 0&&I.length>0)E=I.pop()}return C}),N7=F(3,(A,Q,B)=>{let C=[A],E=[];while(C.length>0){let Y=C.pop();switch(Y._tag){case i1:{E.push($A(B.emptyCase(Q)));break}case tF:{E.push($A(B.failCase(Q,Y.error)));break}case sF:{E.push($A(B.dieCase(Q,Y.defect)));break}case eF:{E.push($A(B.interruptCase(Q,Y.fiberId)));break}case QH:{C.push(Y.right),C.push(Y.left),E.push(wA({_tag:TTA}));break}case AH:{C.push(Y.right),C.push(Y.left),E.push(wA({_tag:qTA}));break}}}let I=[];while(E.length>0){let Y=E.pop();switch(Y._tag){case"Left":{switch(Y.left._tag){case TTA:{let G=I.pop(),J=I.pop(),D=B.sequentialCase(Q,G,J);I.push(D);break}case qTA:{let G=I.pop(),J=I.pop(),D=B.parallelCase(Q,G,J);I.push(D);break}}break}case"Right":{I.push(Y.right);break}}}if(I.length===0)throw new Error("BUG: Cause.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return I.pop()}),JD=(A,Q)=>{if(J7(A))return"All fibers interrupted without errors.";return iP(A).map(function(B){if(Q?.renderErrorCause!==!0||B.cause===void 0)return B.stack;return`${B.stack} {
${iTA(B.cause,"  ")}
}`}).join(`
`)},iTA=(A,Q)=>{let B=A.stack.split(`
`),C=`${Q}[cause]: ${B[0]}`;for(let E=1,I=B.length;E<I;E++)C+=`
${Q}${B[E]}`;if(A.cause)C+=` {
${iTA(A.cause,`${Q}  `)}
${Q}}`;return C};class dm extends globalThis.Error{span=void 0;constructor(A){let Q=typeof A==="object"&&A!==null,B=Error.stackTraceLimit;Error.stackTraceLimit=1;super(rCA(A),Q&&"cause"in A&&typeof A.cause!=="undefined"?{cause:new dm(A.cause)}:void 0);if(this.message==="")this.message="An error has occurred";if(Error.stackTraceLimit=B,this.name=A instanceof Error?A.name:"Error",Q){if(Y7 in A)this.span=A[Y7];Object.keys(A).forEach((C)=>{if(!(C in this))this[C]=A[C]})}this.stack=NvQ(`${this.name}: ${this.message}`,A instanceof Error&&A.stack?A.stack:"",this.span)}}var rCA=(A)=>{if(typeof A==="string")return A;if(typeof A==="object"&&A!==null&&A instanceof Error)return A.message;try{if(o(A,"toString")&&EU(A.toString)&&A.toString!==Object.prototype.toString&&A.toString!==globalThis.Array.prototype.toString)return A.toString()}catch{}return $q(A)},UvQ=/\((.*)\)/g,lP=xA("effect/Tracer/spanToTrace",()=>new WeakMap),NvQ=(A,Q,B)=>{let C=[A],E=Q.startsWith(A)?Q.slice(A.length).split(`
`):Q.split(`
`);for(let I=1;I<E.length;I++){if(E[I].includes(" at new BaseEffectError")||E[I].includes(" at new YieldableError")){I++;continue}if(E[I].includes("Generator.next"))break;if(E[I].includes("effect_internal_function"))break;C.push(E[I].replace(/at .*effect_instruction_i.*\((.*)\)/,"at $1").replace(/EffectPrimitive\.\w+/,"<anonymous>"))}if(B){let I=B,Y=0;while(I&&I._tag==="Span"&&Y<10){let G=lP.get(I);if(typeof G==="function"){let J=G();if(typeof J==="string"){let D=J.matchAll(UvQ),U=!1;for(let[,N]of D)U=!0,C.push(`    at ${I.name} (${N})`);if(!U)C.push(`    at ${I.name} (${J.replace(/^at /,"")})`)}else C.push(`    at ${I.name}`)}else C.push(`    at ${I.name}`);I=gB(I.parent),Y++}}return C.join(`
`)},Y7=Symbol.for("effect/SpanAnnotation"),iP=(A)=>N7(A,void 0,{emptyCase:()=>[],dieCase:(Q,B)=>{return[new dm(B)]},failCase:(Q,B)=>{return[new dm(B)]},interruptCase:()=>[],parallelCase:(Q,B,C)=>[...B,...C],sequentialCase:(Q,B,C)=>[...B,...C]});var CH="Pending",Z7="Done";var ZvQ="effect/Deferred",im=Symbol.for(ZvQ),oTA={_E:(A)=>A,_A:(A)=>A},rTA=(A)=>{return{_tag:CH,joiners:A}},aCA=(A)=>{return{_tag:Z7,effect:A}};class EH{self;called=!1;constructor(A){this.self=A}next(A){return this.called?{value:A,done:!0}:(this.called=!0,{value:this.self,done:!1})}return(A){return{value:A,done:!0}}throw(A){throw A}[Symbol.iterator](){return new EH(this.self)}}var o1=(A,Q)=>{let B=new lI("Blocked");return B.effect_instruction_i0=A,B.effect_instruction_i1=Q,B},rm=(A)=>{let Q=new lI("RunBlocked");return Q.effect_instruction_i0=A,Q},r1=Symbol.for("effect/Effect");class sCA{patch;op;_op=wq;constructor(A,Q){this.patch=A,this.op=Q}}class lI{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[r1]=t9;constructor(A){this._op=A}[PA](A){return this===A}[TA](){return rA(this,MF(this))}pipe(){return e(this,arguments)}toJSON(){return{_id:"Effect",_op:this._op,effect_instruction_i0:wB(this.effect_instruction_i0),effect_instruction_i1:wB(this.effect_instruction_i1),effect_instruction_i2:wB(this.effect_instruction_i2)}}toString(){return PQ(this.toJSON())}[sA](){return this.toJSON()}[Symbol.iterator](){return new EH(new K8(this))}}class tCA{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[r1]=t9;constructor(A){this._op=A,this._tag=A}[PA](A){return sz(A)&&A._op==="Failure"&&JA(this.effect_instruction_i0,A.effect_instruction_i0)}[TA](){return H(LQ(this._tag),FA(QA(this.effect_instruction_i0)),rA(this))}get cause(){return this.effect_instruction_i0}pipe(){return e(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,cause:this.cause.toJSON()}}toString(){return PQ(this.toJSON())}[sA](){return this.toJSON()}[Symbol.iterator](){return new EH(new K8(this))}}class eCA{_op;effect_instruction_i0=void 0;effect_instruction_i1=void 0;effect_instruction_i2=void 0;trace=void 0;[r1]=t9;constructor(A){this._op=A,this._tag=A}[PA](A){return sz(A)&&A._op==="Success"&&JA(this.effect_instruction_i0,A.effect_instruction_i0)}[TA](){return H(LQ(this._tag),FA(QA(this.effect_instruction_i0)),rA(this))}get value(){return this.effect_instruction_i0}pipe(){return e(this,arguments)}toJSON(){return{_id:"Exit",_tag:this._op,value:wB(this.value)}}toString(){return PQ(this.toJSON())}[sA](){return this.toJSON()}[Symbol.iterator](){return new EH(new K8(this))}}var h0=(A)=>o(A,r1),TQ=(A)=>{let Q=new lI(ub);return Q.effect_instruction_i0=A,Q},X7=F(3,(A,Q,B)=>GC((C)=>f(A,(E)=>f(IC(qA(()=>C(Q(E)))),(I)=>{return qA(()=>B(E,I)).pipe(BE({onFailure:(Y)=>{switch(I._tag){case aE:return cB(bC(I.effect_instruction_i0,Y));case sE:return cB(Y)}},onSuccess:()=>I}))})))),lB=F(2,(A,Q)=>f(A,()=>n(Q))),m0=(A)=>lB(A,void 0),C_=function(){let A=new lI(K1);switch(arguments.length){case 2:{A.effect_instruction_i0=arguments[0],A.commit=arguments[1];break}case 3:{A.effect_instruction_i0=arguments[0],A.effect_instruction_i1=arguments[1],A.commit=arguments[2];break}case 4:{A.effect_instruction_i0=arguments[0],A.effect_instruction_i1=arguments[1],A.effect_instruction_i2=arguments[2],A.commit=arguments[3];break}default:throw new Error(a9("you're not supposed to end up here"))}return A},fz=(A,Q=TC)=>{let B=new lI(RV),C=void 0;return B.effect_instruction_i0=(E)=>{C=A(E)},B.effect_instruction_i1=Q,hY(B,(E)=>h0(C)?C:iA)},VX=(A,Q=TC)=>qA(()=>fz(A,Q)),cJ=(A,Q=TC)=>{return C_(A,function(){let B=void 0,C=void 0;function E(J){if(B)B(J);else if(C===void 0)C=J}let I=new lI(RV);I.effect_instruction_i0=(J)=>{if(B=J,C)J(C)},I.effect_instruction_i1=Q;let Y=void 0,G=void 0;if(this.effect_instruction_i0.length!==1)G=new AbortController,Y=CC(()=>this.effect_instruction_i0(E,G.signal));else Y=CC(()=>this.effect_instruction_i0(E));return Y||G?hY(I,(J)=>{if(G)G.abort();return Y??iA}):I})};var oN=F(2,(A,Q)=>{let B=new lI(j$);return B.effect_instruction_i0=A,B.effect_instruction_i1=Q,B}),MU=F(2,(A,Q)=>bY(A,{onFailure:Q,onSuccess:n})),E_=F(3,(A,Q,B)=>oN(A,(C)=>{let E=v8(C);switch(E._tag){case"Left":return Q(E.left)?B(E.left):cB(C);case"Right":return cB(E.right)}})),sTA=F(2,(A,Q)=>oN(A,(B)=>{let C=v8(B);switch(C._tag){case"Left":return H(Q(C.left),YQ(()=>cB(B)));case"Right":return cB(C.right)}})),tTA=(A)=>TQ((Q,B)=>A(gz(B.runtimeFlags))),nm=Symbol.for("effect/OriginalAnnotation"),eTA=(A)=>{if(o(A,nm))return A[nm];return A},am=(A,Q)=>{if(XA(Q))return new Proxy(A,{has(B,C){return C===Y7||C===nm||C in B},get(B,C){if(C===Y7)return Q.value;if(C===nm)return A;return B[C]}});return A},DD=(A)=>vY(A)&&!(Y7 in A)?TQ((Q)=>cB(AI(am(A,Xf(Q))))):cB(AI(A)),a1=(A)=>$X(()=>AI(new FEA(A))),UD=(A)=>f(CA(A),DD),MX=(A)=>bY(A,{onFailure:(Q)=>n(wA(Q)),onSuccess:(Q)=>n($A(Q))}),IC=(A)=>I_(A,{onFailure:O0,onSuccess:I0}),HB=(A)=>vY(A)&&!(Y7 in A)?TQ((Q)=>cB(nN(am(A,Xf(Q))))):cB(nN(A)),$U=(A)=>f(CA(A),HB),cB=(A)=>{let Q=new tCA(aE);return Q.effect_instruction_i0=A,Q},$X=(A)=>f(CA(A),cB),ND=TQ((A)=>n(A.id())),ZD=(A)=>TQ((Q)=>A(Q.id())),f=F(2,(A,Q)=>{let B=new lI(x$);return B.effect_instruction_i0=A,B.effect_instruction_i1=Q,B}),IH=F(2,(A,Q)=>f(A,(B)=>{let C=typeof Q==="function"?Q(B):Q;if(h0(C))return C;else if(bQA(C))return fz((E)=>{C.then((I)=>E(n(I)),(I)=>E(HB(new $7(I,"An unknown error occurred in Effect.andThen"))))});return n(C)})),sm=(A)=>{let Q=new lI("OnStep");return Q.effect_instruction_i0=A,Q},MY=(A)=>f(A,s),YH=(A)=>bY(A,{onFailure:n,onSuccess:HB}),I_=F(2,(A,Q)=>BE(A,{onFailure:(B)=>n(Q.onFailure(B)),onSuccess:(B)=>n(Q.onSuccess(B))})),BE=F(2,(A,Q)=>{let B=new lI(S$);return B.effect_instruction_i0=A,B.effect_instruction_i1=Q.onFailure,B.effect_instruction_i2=Q.onSuccess,B}),bY=F(2,(A,Q)=>BE(A,{onFailure:(B)=>{if(D7(B).length>0)return cB(mTA(B));let E=hz(B);if(E.length>0)return Q.onFailure(fF(E));return cB(B)},onSuccess:Q.onSuccess})),gI=F(2,(A,Q)=>qA(()=>{let B=aA(A),C=RF(B.length),E=0;return lB(uz({while:()=>E<B.length,body:()=>Q(B[E],E),step:(I)=>{C[E++]=I}}),C)})),iI=F(2,(A,Q)=>qA(()=>{let B=aA(A),C=0;return uz({while:()=>C<B.length,body:()=>Q(B[C],C),step:()=>{C++}})})),tm=F((A)=>typeof A[0]==="boolean"||h0(A[0]),(A,Q)=>h0(A)?f(A,(B)=>B?Q.onTrue():Q.onFalse()):A?Q.onTrue():Q.onFalse()),qC=f(ND,(A)=>Y_(A)),Y_=(A)=>cB(dG(A)),MJ=(A)=>{let Q=new lI(V1);return Q.effect_instruction_i0=fCA(lN),Q.effect_instruction_i1=()=>A,Q},em=(A)=>C_(A,function(){let Q=new lI(V1);return Q.effect_instruction_i0=fCA(lN),Q.effect_instruction_i1=(B)=>gz(B)?CC(()=>this.effect_instruction_i0(MJ)):CC(()=>this.effect_instruction_i0($J)),Q}),zX=F(2,(A,Q)=>GC((B)=>f(IC(B(A)),(C)=>X_(Q,C)))),GA=F(2,(A,Q)=>f(A,(B)=>CA(()=>Q(B)))),G_=F(2,(A,Q)=>bY(A,{onFailure:(B)=>$U(()=>Q.onFailure(B)),onSuccess:(B)=>CA(()=>Q.onSuccess(B))})),GH=F(2,(A,Q)=>BE(A,{onFailure:(B)=>{let C=v8(B);switch(C._tag){case"Left":return $U(()=>Q(C.left));case"Right":return cB(C.right)}},onSuccess:n})),J_=F(2,(A,Q)=>S2(A,(B)=>Z_(B)?iA:Q(B.effect_instruction_i0))),S2=F(2,(A,Q)=>GC((B)=>BE(B(A),{onFailure:(C)=>{let E=O0(C);return BE(Q(E),{onFailure:(I)=>O0(bC(C,I)),onSuccess:()=>E})},onSuccess:(C)=>{let E=I0(C);return OQ(Q(E),E)}}))),hY=F(2,(A,Q)=>S2(A,FH({onFailure:(B)=>J7(B)?m0(Q(U7(B))):iA,onSuccess:()=>iA}))),F7=F(2,(A,Q)=>FvQ(A,Q,n)),H7=(A)=>AEA(A,s),AEA=F(2,(A,Q)=>bY(A,{onFailure:(B)=>DD(Q(B)),onSuccess:n})),QEA=i$,dz=TQ((A,Q)=>n(Q.runtimeFlags)),n=(A)=>{let Q=new eCA(sE);return Q.effect_instruction_i0=A,Q},qA=(A)=>{let Q=new lI(K1);return Q.commit=A,Q},CA=(A)=>{let Q=new lI(db);return Q.effect_instruction_i0=A,Q},YC=F((A)=>A.length===3||A.length===2&&!(vY(A[1])&&("onlyEffect"in A[1])),(A,Q)=>f(A,(B)=>{let C=typeof Q==="function"?Q(B):Q;if(h0(C))return lB(C,B);else if(bQA(C))return fz((E)=>{C.then((I)=>E(n(B)),(I)=>E(HB(new $7(I,"An unknown error occurred in Effect.tap"))))});return n(B)})),Af=(A)=>TQ((Q)=>{let B=Q.getFiberRef(rP),C=H(B,YQ(()=>Q.scope()));return A(iC(rP,j(C)))}),FvQ=F(3,(A,Q,B)=>BE(A,{onFailure:(C)=>{if(D7(C).length>0)return cB(YU(bTA(C)));return Q()},onSuccess:B})),$J=(A)=>{let Q=new lI(V1);return Q.effect_instruction_i0=dCA(lN),Q.effect_instruction_i1=()=>A,Q},GC=(A)=>C_(A,function(){let Q=new lI(V1);return Q.effect_instruction_i0=dCA(lN),Q.effect_instruction_i1=(B)=>gz(B)?CC(()=>this.effect_instruction_i0(MJ)):CC(()=>this.effect_instruction_i0($J)),Q}),iA=n(void 0);var JH=(A)=>{let Q=new lI(V1);return Q.effect_instruction_i0=A,Q.effect_instruction_i1=void 0,Q},k8=F(2,(A,Q)=>f(Q,(B)=>{if(B)return H(A,GA(j));return n(x())})),uz=(A)=>{let Q=new lI(g$);return Q.effect_instruction_i0=A.while,Q.effect_instruction_i1=A.body,Q.effect_instruction_i2=A.step,Q},oP=(A)=>qA(()=>{let Q=new lI(TV);return Q.effect_instruction_i0=A(),Q}),BEA=function(){let A=arguments.length===1?arguments[0]:arguments[1].bind(arguments[0]);return oP(()=>A(H))},D_=(A,...Q)=>Object.defineProperty(Q.length===0?function(...B){return oP(()=>A.apply(this,B))}:function(...B){let C=oP(()=>A.apply(this,B));for(let E of Q)C=E(C,...B);return C},"length",{value:A.length,configurable:!0}),AqA=F(2,(A,Q)=>iC(A,nz,Q)),QqA=F(2,(A,Q)=>iC(A,W7,Q)),Qf=F(2,(A,Q)=>{let B=new lI(V1);return B.effect_instruction_i0=Q,B.effect_instruction_i1=()=>A,B}),BqA=F(2,(A,Q)=>iC(A,K7,Q)),CqA=F(2,(A,Q)=>iC(A,LX,Q)),b8=(A)=>{let Q=new lI(v$);return typeof A?.priority!=="undefined"?ZEA(Q,A.priority):Q},s1=F(2,(A,Q)=>f(A,(B)=>GA(Q,(C)=>[B,C])));var wX=F(2,(A,Q)=>f(A,(B)=>lB(Q,B))),OQ=F(2,(A,Q)=>f(A,()=>Q)),lJ=F(3,(A,Q,B)=>f(A,(C)=>GA(Q,(E)=>B(C,E)))),DH=VX(()=>{let A=setInterval(()=>{},2147483647);return CA(()=>clearInterval(A))}),uG=(A)=>f(ND,(Q)=>H(A,iJ(Q))),iJ=F(2,(A,Q)=>f(A.interruptAsFork(Q),()=>A.await)),CEA={_tag:"All",syslog:0,label:"ALL",ordinal:Number.MIN_SAFE_INTEGER,pipe(){return e(this,arguments)}},EEA={_tag:"Fatal",syslog:2,label:"FATAL",ordinal:50000,pipe(){return e(this,arguments)}},IEA={_tag:"Error",syslog:3,label:"ERROR",ordinal:40000,pipe(){return e(this,arguments)}},YEA={_tag:"Warning",syslog:4,label:"WARN",ordinal:30000,pipe(){return e(this,arguments)}},pz={_tag:"Info",syslog:6,label:"INFO",ordinal:20000,pipe(){return e(this,arguments)}},Bf={_tag:"Debug",syslog:7,label:"DEBUG",ordinal:1e4,pipe(){return e(this,arguments)}},GEA={_tag:"Trace",syslog:7,label:"TRACE",ordinal:0,pipe(){return e(this,arguments)}},JEA={_tag:"None",syslog:7,label:"OFF",ordinal:Number.MAX_SAFE_INTEGER,pipe(){return e(this,arguments)}},DEA=[CEA,GEA,Bf,pz,YEA,IEA,EEA,JEA],HvQ="effect/FiberRef",UEA=Symbol.for(HvQ),WvQ={_A:(A)=>A},nJ=(A)=>TQ((Q)=>I0(Q.getFiberRef(A))),EqA=F(2,(A,Q)=>h8(A,(B)=>[B,Q])),IqA=F(2,(A,Q)=>h8(A,(B)=>[B,Q(B)])),YqA=F(2,(A,Q)=>h8(A,(B)=>[B,YQ(Q(B),()=>B)])),nI=F(2,(A,Q)=>f(nJ(A),Q)),KX=F(2,(A,Q)=>h8(A,()=>[void 0,Q])),Cf=(A)=>TQ((Q)=>{return Q.unsafeDeleteFiberRef(A),iA}),GqA=(A)=>KX(A,A.initial),h8=F(2,(A,Q)=>TQ((B)=>{let[C,E]=Q(B.getFiberRef(A));return B.setFiberRef(A,E),n(C)})),JqA=(A,Q,B)=>h8(A,(C)=>YQ(B(C),()=>[Q,C])),Ef=F(2,(A,Q)=>h8(A,(B)=>[void 0,Q(B)])),DqA=F(2,(A,Q)=>h8(A,(B)=>[void 0,YQ(Q(B),()=>B)])),UqA=F(2,(A,Q)=>h8(A,(B)=>{let C=Q(B);return[C,C]})),NqA=F(2,(A,Q)=>h8(A,(B)=>{let C=YQ(Q(B),()=>B);return[C,C]}));var iC=F(3,(A,Q,B)=>X7(wX(nJ(Q),KX(Q,B)),()=>A,(C)=>KX(Q,C))),oI=F(3,(A,Q,B)=>nI(Q,(C)=>iC(A,Q,B(C)))),_E=(A,Q)=>t1(A,{differ:_m(),fork:Q?.fork??s,join:Q?.join}),If=(A)=>{let Q=xCA();return t1(A,{differ:Q,fork:Q.empty})},KvQ=(A)=>{let Q=SCA(_m());return t1(A,{differ:Q,fork:Q.empty})},UH=(A)=>{let Q=jCA();return t1(A,{differ:Q,fork:Q.empty})},t1=(A,Q)=>{return{...gG,[UEA]:WvQ,initial:A,commit(){return nJ(this)},diff:(C,E)=>Q.differ.diff(C,E),combine:(C,E)=>Q.differ.combine(C,E),patch:(C)=>(E)=>Q.differ.patch(C,E),fork:Q.fork,join:Q.join??((C,E)=>E)}},NEA=(A)=>t1(A,{differ:bm,fork:bm.empty}),rI=xA(Symbol.for("effect/FiberRef/currentContext"),()=>UH(F0())),m8=xA(Symbol.for("effect/FiberRef/currentSchedulingPriority"),()=>_E(0)),cz=xA(Symbol.for("effect/FiberRef/currentMaxOpsBeforeYield"),()=>_E(2048)),f8=xA(Symbol.for("effect/FiberRef/currentLogAnnotation"),()=>_E(VI())),lz=xA(Symbol.for("effect/FiberRef/currentLogLevel"),()=>_E(pz)),iz=xA(Symbol.for("effect/FiberRef/currentLogSpan"),()=>_E(cN())),ZEA=F(2,(A,Q)=>iC(A,m8,Q)),ZqA=F(2,(A,Q)=>iC(A,cz,Q)),nz=xA(Symbol.for("effect/FiberRef/currentConcurrency"),()=>_E("unbounded")),W7=xA(Symbol.for("effect/FiberRef/currentRequestBatching"),()=>_E(!0)),e1=xA(Symbol.for("effect/FiberRef/currentUnhandledErrorLogLevel"),()=>_E(j(Bf))),XqA=F(2,(A,Q)=>iC(A,e1,Q)),rN=xA(Symbol.for("effect/FiberRef/currentMetricLabels"),()=>KvQ(i0())),FqA=nJ(rN),rP=xA(Symbol.for("effect/FiberRef/currentForkScopeOverride"),()=>_E(x(),{fork:()=>x(),join:(A,Q)=>A})),A5=xA(Symbol.for("effect/FiberRef/currentInterruptedCause"),()=>_E(VJ,{fork:()=>VJ,join:(A,Q)=>A})),K7=xA(Symbol.for("effect/FiberRef/currentTracerEnabled"),()=>_E(!0)),LX=xA(Symbol.for("effect/FiberRef/currentTracerTiming"),()=>_E(!0)),NH=xA(Symbol.for("effect/FiberRef/currentTracerSpanAnnotations"),()=>_E(VI())),oz=xA(Symbol.for("effect/FiberRef/currentTracerSpanLinks"),()=>_E(hA())),U_=Symbol.for("effect/Scope"),N_=Symbol.for("effect/CloseableScope"),rz=(A,Q)=>A.addFinalizer(()=>m0(Q)),ZH=(A,Q)=>A.addFinalizer(Q),oJ=(A,Q)=>A.close(Q),V7=(A,Q)=>A.fork(Q),HqA=(A)=>{return XEA(s)(A)},XEA=F(2,(A,Q)=>{let B=H(A,mz,RQ(Q));switch(B._tag){case"None":return H(D7(A),_8,HA({onNone:()=>{let C=aA(U7(A)).flatMap((E)=>aA(ZX(E)).map((I)=>`#${I}`));return new HEA(C?`Interrupted by fibers: ${C.join(", ")}`:void 0)},onSome:s}));case"Some":return B.value}}),az=function(){class A extends globalThis.Error{commit(){return HB(this)}toJSON(){let Q={...this};if(this.message)Q.message=this.message;if(this.cause)Q.cause=this.cause;return Q}[sA](){if(this.toString!==globalThis.Error.prototype.toString)return this.stack?`${this.toString()}
${this.stack.split(`
`).slice(1).join(`
`)}`:this.toString();else if("Bun"in globalThis)return JD(nN(this),{renderErrorCause:!0});return this}}return Object.assign(A.prototype,Oq),A}(),M7=(A,Q)=>{class B extends az{_tag=Q}return Object.assign(B.prototype,A),B.prototype.name=Q,B},aP=Symbol.for("effect/Cause/errors/RuntimeException"),FEA=M7({[aP]:aP},"RuntimeException"),WqA=(A)=>o(A,aP),sP=Symbol.for("effect/Cause/errors/InterruptedException"),HEA=M7({[sP]:sP},"InterruptedException"),Yf=(A)=>o(A,sP),tP=Symbol.for("effect/Cause/errors/IllegalArgument"),aN=M7({[tP]:tP},"IllegalArgumentException"),KqA=(A)=>o(A,tP),eP=Symbol.for("effect/Cause/errors/NoSuchElement"),g2=M7({[eP]:eP},"NoSuchElementException"),Gf=(A)=>o(A,eP),om=Symbol.for("effect/Cause/errors/InvalidPubSubCapacityException"),VqA=M7({[om]:om},"InvalidPubSubCapacityException"),A_=Symbol.for("effect/Cause/errors/ExceededCapacityException"),Jf=M7({[A_]:A_},"ExceededCapacityException"),MqA=(A)=>o(A,A_);var Q_=Symbol.for("effect/Cause/errors/Timeout"),WEA=M7({[Q_]:Q_},"TimeoutException"),$qA=(A)=>new WEA(`Operation timed out after '${Bm(A)}'`),zqA=(A)=>o(A,Q_),B_=Symbol.for("effect/Cause/errors/UnknownException"),$7=function(){class A extends az{_tag="UnknownException";error;constructor(Q,B){super(B??"An unknown error occurred",{cause:Q});this.error=Q}}return Object.assign(A.prototype,{[B_]:B_,name:"UnknownException"}),A}(),wqA=(A)=>o(A,B_),sz=(A)=>h0(A)&&("_tag"in A)&&(A._tag==="Success"||A._tag==="Failure"),Df=(A)=>A._tag==="Failure",Z_=(A)=>A._tag==="Success",LqA=(A)=>{switch(A._tag){case aE:return bz(A.effect_instruction_i0);case sE:return!1}},tz=F(2,(A,Q)=>{switch(A._tag){case aE:return O0(A.effect_instruction_i0);case sE:return I0(Q)}}),ez=(A)=>tz(A,void 0);var XH=(A,Q)=>VvQ(A,Q?.parallel?VY:bC),Q5=(A)=>O0(AI(A));var d8=(A)=>O0(nN(A)),O0=(A)=>{let Q=new tCA(aE);return Q.effect_instruction_i0=A,Q},OqA=F(2,(A,Q)=>{switch(A._tag){case aE:return O0(A.effect_instruction_i0);case sE:return Q(A.effect_instruction_i0)}});var RqA=(A)=>H(A,OqA(s)),TqA=F(2,(A,Q)=>{switch(A._tag){case aE:return n(O0(A.effect_instruction_i0));case sE:return IC(Q(A.effect_instruction_i0))}});var z7=(A)=>O0(dG(A)),nP=F(2,(A,Q)=>{switch(A._tag){case aE:return O0(A.effect_instruction_i0);case sE:return I0(Q(A.effect_instruction_i0))}}),qqA=F(2,(A,{onFailure:Q,onSuccess:B})=>{switch(A._tag){case aE:return O0(H(A.effect_instruction_i0,cP(Q)));case sE:return I0(B(A.effect_instruction_i0))}});var FH=F(2,(A,{onFailure:Q,onSuccess:B})=>{switch(A._tag){case aE:return Q(A.effect_instruction_i0);case sE:return B(A.effect_instruction_i0)}}),w7=F(2,(A,{onFailure:Q,onSuccess:B})=>{switch(A._tag){case aE:return Q(A.effect_instruction_i0);case sE:return B(A.effect_instruction_i0)}}),I0=(A)=>{let Q=new eCA(sE);return Q.effect_instruction_i0=A,Q},KC=I0(void 0),PqA=F(2,(A,Q)=>HH(A,Q,{onSuccess:(B,C)=>[B,C],onFailure:bC}));var Uf=F(2,(A,Q)=>HH(A,Q,{onSuccess:(B,C)=>C,onFailure:bC}));var HH=F(3,(A,Q,{onFailure:B,onSuccess:C})=>{switch(A._tag){case aE:switch(Q._tag){case sE:return O0(A.effect_instruction_i0);case aE:return O0(B(A.effect_instruction_i0,Q.effect_instruction_i0))}case sE:switch(Q._tag){case sE:return I0(C(A.effect_instruction_i0,Q.effect_instruction_i0));case aE:return O0(Q.effect_instruction_i0)}}}),VvQ=(A,Q)=>{let B=rB(A);if(!qB(B))return x();return H(k0(B),HY(H(aB(B),nP(dA)),(C,E)=>H(C,HH(E,{onSuccess:(I,Y)=>H(I,pB(Y)),onFailure:Q}))),nP(KJ),nP((C)=>CB(C)),j)},sN=(A)=>{return{...gG,[im]:oTA,state:SI(rTA([])),commit(){return PC(this)},blockingOn:A}},QI=()=>f(ND,(A)=>KEA(A)),KEA=(A)=>CA(()=>sN(A)),PC=(A)=>VX((Q)=>{let B=EB(A.state);switch(B._tag){case Z7:return Q(B.effect);case CH:return B.joiners.push(Q),MvQ(A,Q)}},A.blockingOn),Nf=F(2,(A,Q)=>zX(Q,A)),zU=F(2,(A,Q)=>CA(()=>{let B=EB(A.state);switch(B._tag){case Z7:return!1;case CH:{hE(A.state,aCA(Q));for(let C=0,E=B.joiners.length;C<E;C++)B.joiners[C](Q);return!0}}})),X_=F(2,(A,Q)=>zU(A,Q)),_qA=F(2,(A,Q)=>zU(A,HB(Q))),jqA=F(2,(A,Q)=>zU(A,$U(Q))),B5=F(2,(A,Q)=>zU(A,cB(Q))),xqA=F(2,(A,Q)=>zU(A,$X(Q))),SqA=F(2,(A,Q)=>zU(A,DD(Q))),gqA=F(2,(A,Q)=>zU(A,UD(Q))),vqA=(A)=>f(ND,(Q)=>zU(A,Y_(Q))),WH=F(2,(A,Q)=>zU(A,Y_(Q))),yqA=(A)=>CA(()=>EB(A.state)._tag===Z7),kqA=(A)=>CA(()=>{let Q=EB(A.state);switch(Q._tag){case Z7:return j(Q.effect);case CH:return x()}}),wU=F(2,(A,Q)=>zU(A,n(Q))),bqA=F(2,(A,Q)=>zU(A,CA(Q))),OX=(A,Q)=>{let B=EB(A.state);if(B._tag===CH){hE(A.state,aCA(Q));for(let C=0,E=B.joiners.length;C<E;C++)B.joiners[C](Q)}},MvQ=(A,Q)=>CA(()=>{let B=EB(A.state);if(B._tag===CH){let C=B.joiners.indexOf(Q);if(C>=0)B.joiners.splice(C,1)}}),$vQ=TQ((A)=>I0(A.currentContext)),DG=()=>$vQ;var LU=(A)=>f(DG(),A),$Y=F(2,(A,Q)=>iC(rI,Q)(A)),Zf=F(2,(A,Q)=>oI(rI,(B)=>E0(B,Q))(A)),OU=F(2,(A,Q)=>LU((B)=>$Y(A,Q(B)))),VEA=F(2,(A,Q)=>f(A,(B)=>f(Q.predicate(B),(C)=>C?n(B):Q.orElse(B)))),hqA=F(2,(A,Q)=>VEA(A,{predicate:Q.predicate,orElse:(B)=>HB(Q.orFailWith(B))})),Xf=(A)=>{let Q=A.currentSpan;return Q!==void 0&&Q._tag==="Span"?j(Q):x()},zvQ={_tag:"Span",spanId:"noop",traceId:"noop",sampled:!1,status:{_tag:"Ended",startTime:BigInt(0),endTime:BigInt(0),exit:KC},attributes:new Map,links:[],kind:"internal",attribute(){},event(){},end(){},addLinks(){}},mqA=(A)=>Object.assign(Object.create(zvQ),A);var C5=im,WB=QI,wvQ=KEA,WQ=PC;var F_=Nf,LvQ=zU,RX=X_,Aw=_qA,OvQ=jqA,XD=B5,RvQ=xqA,TvQ=SqA,qvQ=gqA,Qw=vqA,PvQ=WH,E5=yqA,MEA=kqA,nC=wU,_vQ=bqA,tN=sN,VC=OX;var Ff=sz,mY=Df,zY=Z_,Bw=LqA;var fqA=ez;var dqA=XH,BI=Q5;var f0=d8,iB=O0;var uqA=RqA,Hf=TqA;var I5=z7,H_=nP,$EA=qqA;var CE=FH;var hQ=I0,_C=KC;var zEA=PqA;var L7=Uf;var pqA=HH;var cqA=Symbol.for("effect/MutableHashMap"),jvQ={[cqA]:cqA,[Symbol.iterator](){return new wEA(this)},toString(){return PQ(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(wB)}},[sA](){return this.toJSON()},pipe(){return e(this,arguments)}};class wEA{self;referentialIterator;bucketIterator;constructor(A){this.self=A,this.referentialIterator=A.referential[Symbol.iterator]()}next(){if(this.bucketIterator!==void 0)return this.bucketIterator.next();let A=this.referentialIterator.next();if(A.done)return this.bucketIterator=new lqA(this.self.buckets.values()),this.next();return A}[Symbol.iterator](){return new wEA(this.self)}}class lqA{backing;constructor(A){this.backing=A}currentBucket;next(){if(this.currentBucket===void 0){let Q=this.backing.next();if(Q.done)return Q;this.currentBucket=Q.value[Symbol.iterator]()}let A=this.currentBucket.next();if(A.done)return this.currentBucket=void 0,this.next();return A}}var jE=()=>{let A=Object.create(jvQ);return A.referential=new Map,A.buckets=new Map,A.bucketsSize=0,A};var tB=F(2,(A,Q)=>{if(W1(Q)===!1)return A.referential.has(Q)?j(A.referential.get(Q)):x();let B=Q[TA](),C=A.buckets.get(B);if(C===void 0)return x();return iqA(A,C,Q)}),LEA=(A)=>{let Q=Array.from(A.referential.keys());for(let B of A.buckets.values())for(let C=0,E=B.length;C<E;C++)Q.push(B[C][0]);return Q};var iqA=(A,Q,B,C=!1)=>{for(let E=0,I=Q.length;E<I;E++)if(B[PA](Q[E][0])){let Y=Q[E][1];if(C)Q.splice(E,1),A.bucketsSize--;return j(Y)}return x()},mE=F(2,(A,Q)=>XA(tB(A,Q))),S0=F(3,(A,Q,B)=>{if(W1(Q)===!1)return A.referential.set(Q,B),A;let C=Q[TA](),E=A.buckets.get(C);if(E===void 0)return A.buckets.set(C,[[Q,B]]),A.bucketsSize++,A;return nqA(A,E,Q),E.push([Q,B]),A.bucketsSize++,A}),nqA=(A,Q,B)=>{for(let C=0,E=Q.length;C<E;C++)if(B[PA](Q[C][0])){Q.splice(C,1),A.bucketsSize--;return}};var OEA=F(3,(A,Q,B)=>{if(W1(Q)===!1){let Y=B(tB(A,Q));if(XA(Y))S0(A,Q,Y.value);else mC(A,Q);return A}let C=Q[TA](),E=A.buckets.get(C);if(E===void 0){let Y=B(x());return XA(Y)?S0(A,Q,Y.value):A}let I=B(iqA(A,E,Q,!0));if(cA(I)){if(E.length===0)A.buckets.delete(C);return A}return E.push([Q,I.value]),A.bucketsSize++,A}),mC=F(2,(A,Q)=>{if(W1(Q)===!1)return A.referential.delete(Q),A;let B=Q[TA](),C=A.buckets.get(B);if(C===void 0)return A;if(nqA(A,C,Q),C.length===0)A.buckets.delete(B);return A}),W_=(A)=>{return A.referential.clear(),A.buckets.clear(),A.bucketsSize=0,A},pG=(A)=>{return A.referential.size+A.bucketsSize},oqA=(A)=>pG(A)===0,K_=F(2,(A,Q)=>{A.referential.forEach(Q);for(let B of A.buckets.values())for(let[C,E]of B)Q(E,C)});var rqA=Symbol.for("effect/MutableList"),xvQ={[rqA]:rqA,[Symbol.iterator](){let A=!1,Q=this.head;return{next(){if(A)return this.return();if(Q==null)return A=!0,this.return();let B=Q.value;return Q=Q.next,{done:A,value:B}},return(B){if(!A)A=!0;return{done:!0,value:B}}}},toString(){return PQ(this.toJSON())},toJSON(){return{_id:"MutableList",values:Array.from(this).map(wB)}},[sA](){return this.toJSON()},pipe(){return e(this,arguments)}},SvQ=(A)=>({value:A,removed:!1,prev:void 0,next:void 0}),aqA=()=>{let A=Object.create(xvQ);return A.head=void 0,A.tail=void 0,A._length=0,A};var REA=(A)=>Wf(A)===0,Wf=(A)=>A._length;var sqA=F(2,(A,Q)=>{let B=SvQ(Q);if(A.head===void 0)A.head=B;if(A.tail===void 0)A.tail=B;else A.tail.next=B,B.prev=A.tail,A.tail=B;return A._length+=1,A}),tqA=(A)=>{let Q=A.head;if(Q!==void 0)return gvQ(A,Q),Q.value;return};var gvQ=(A,Q)=>{if(Q.removed)return;if(Q.removed=!0,Q.prev!==void 0&&Q.next!==void 0)Q.prev.next=Q.next,Q.next.prev=Q.prev;else if(Q.prev!==void 0)A.tail=Q.prev,Q.prev.next=void 0;else if(Q.next!==void 0)A.head=Q.next,Q.next.prev=void 0;else A.tail=void 0,A.head=void 0;if(A._length>0)A._length-=1};var APA=Symbol.for("effect/MutableQueue"),oC=Symbol.for("effect/mutable/MutableQueue/Empty"),vvQ={[APA]:APA,[Symbol.iterator](){return Array.from(this.queue)[Symbol.iterator]()},toString(){return PQ(this.toJSON())},toJSON(){return{_id:"MutableQueue",values:Array.from(this).map(wB)}},[sA](){return this.toJSON()},pipe(){return e(this,arguments)}},QPA=(A)=>{let Q=Object.create(vvQ);return Q.queue=aqA(),Q.capacity=A,Q},Kf=(A)=>QPA(A),TX=()=>QPA(void 0),Vf=(A)=>Wf(A.queue),Y5=(A)=>REA(A.queue);var BPA=(A)=>A.capacity===void 0?1/0:A.capacity,RU=F(2,(A,Q)=>{let B=Wf(A.queue);if(A.capacity!==void 0&&B===A.capacity)return!1;return sqA(Q)(A.queue),!0}),V_=F(2,(A,Q)=>{let B=Q[Symbol.iterator](),C,E=hA(),I=!0;while(I&&(C=B.next())&&!C.done)I=RU(C.value)(A);while(C!=null&&!C.done)E=pB(C.value)(E),C=B.next();return KJ(E)}),v2=F(2,(A,Q)=>{if(REA(A.queue))return Q;return tqA(A.queue)}),Cw=F(2,(A,Q)=>{let B=hA(),C=0;while(C<Q){let E=v2(oC)(A);if(E===oC)break;B=pB(E)(B),C+=1}return KJ(B)});var yvQ="effect/Clock",$_=Symbol.for(yvQ),rJ=pA("effect/Clock"),kvQ=2147483647,CPA={unsafeSchedule(A,Q){let B=b0(Q);if(B>kvQ)return x0;let C=!1,E=setTimeout(()=>{C=!0,A()},B);return()=>{return clearTimeout(E),!C}}},EPA=function(){let A=BigInt(1e6);if(typeof performance==="undefined")return()=>BigInt(Date.now())*A;let Q;return()=>{if(Q===void 0)Q=BigInt(Date.now())*A-BigInt(Math.round(performance.now()*1e6));return Q+BigInt(Math.round(performance.now()*1e6))}}(),bvQ=function(){let A=typeof process==="object"&&"hrtime"in process&&typeof process.hrtime.bigint==="function"?process.hrtime:void 0;if(!A)return EPA;let Q=EPA()-A.bigint();return()=>Q+A.bigint()}();class IPA{[$_]=$_;unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return bvQ()}currentTimeMillis=CA(()=>this.unsafeCurrentTimeMillis());currentTimeNanos=CA(()=>this.unsafeCurrentTimeNanos());scheduler(){return n(CPA)}sleep(A){return cJ((Q)=>{let B=CPA.unsafeSchedule(()=>Q(iA),A);return m0(CA(B))})}}var TEA=()=>new IPA;var $f="And",zf="Or",wf="InvalidData",Lf="MissingData",Of="SourceUnavailable",Rf="Unsupported";var mvQ="effect/ConfigError",qEA=Symbol.for(mvQ),Ew={_tag:"ConfigError",[qEA]:qEA},Tf=(A,Q)=>{let B=Object.create(Ew);return B._op=$f,B.left=A,B.right=Q,Object.defineProperty(B,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),Object.defineProperty(B,"message",{enumerable:!1,get(){return this.toString()}}),B},qf=(A,Q)=>{let B=Object.create(Ew);return B._op=zf,B.left=A,B.right=Q,Object.defineProperty(B,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),Object.defineProperty(B,"message",{enumerable:!1,get(){return this.toString()}}),B},KH=(A,Q,B={pathDelim:"."})=>{let C=Object.create(Ew);return C._op=wf,C.path=A,C.message=Q,Object.defineProperty(C,"toString",{enumerable:!1,value(){return`(Invalid data at ${H(this.path,yG(B.pathDelim))}: "${this.message}")`}}),C},u8=(A,Q,B={pathDelim:"."})=>{let C=Object.create(Ew);return C._op=Lf,C.path=A,C.message=Q,Object.defineProperty(C,"toString",{enumerable:!1,value(){return`(Missing data at ${H(this.path,yG(B.pathDelim))}: "${this.message}")`}}),C},YPA=(A,Q,B,C={pathDelim:"."})=>{let E=Object.create(Ew);return E._op=Of,E.path=A,E.message=Q,E.cause=B,Object.defineProperty(E,"toString",{enumerable:!1,value(){return`(Source unavailable at ${H(this.path,yG(C.pathDelim))}: "${this.message}")`}}),E},PEA=(A,Q,B={pathDelim:"."})=>{let C=Object.create(Ew);return C._op=Rf,C.path=A,C.message=Q,Object.defineProperty(C,"toString",{enumerable:!1,value(){return`(Unsupported operation at ${H(this.path,yG(B.pathDelim))}: "${this.message}")`}}),C};var G5=F(2,(A,Q)=>{switch(A._op){case $f:return Tf(G5(A.left,Q),G5(A.right,Q));case zf:return qf(G5(A.left,Q),G5(A.right,Q));case wf:return KH([...Q,...A.path],A.message);case Lf:return u8([...Q,...A.path],A.message);case Of:return YPA([...Q,...A.path],A.message,A.cause);case Rf:return PEA([...Q,...A.path],A.message)}}),fvQ={andCase:(A,Q,B)=>Q&&B,orCase:(A,Q,B)=>Q&&B,invalidDataCase:x0,missingDataCase:ZY,sourceUnavailableCase:x0,unsupportedCase:x0},GPA=F(3,(A,Q,B)=>{let C=[A],E=[];while(C.length>0){let Y=C.pop();switch(Y._op){case $f:{C.push(Y.right),C.push(Y.left),E.push(wA({_op:"AndCase"}));break}case zf:{C.push(Y.right),C.push(Y.left),E.push(wA({_op:"OrCase"}));break}case wf:{E.push($A(B.invalidDataCase(Q,Y.path,Y.message)));break}case Lf:{E.push($A(B.missingDataCase(Q,Y.path,Y.message)));break}case Of:{E.push($A(B.sourceUnavailableCase(Q,Y.path,Y.message,Y.cause)));break}case Rf:{E.push($A(B.unsupportedCase(Q,Y.path,Y.message)));break}}}let I=[];while(E.length>0){let Y=E.pop();switch(Y._op){case"Left":{switch(Y.left._op){case"AndCase":{let G=I.pop(),J=I.pop(),D=B.andCase(Q,G,J);I.push(D);break}case"OrCase":{let G=I.pop(),J=I.pop(),D=B.orCase(Q,G,J);I.push(D);break}}break}case"Right":{I.push(Y.right);break}}}if(I.length===0)throw new Error("BUG: ConfigError.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return I.pop()}),JPA=(A)=>GPA(A,void 0,fvQ);var _EA={_tag:"Empty"},DPA=F(2,(A,Q)=>({_tag:"AndThen",first:A,second:Q})),jEA=F(2,(A,Q)=>DPA(A,{_tag:"MapName",f:Q}));var _f=F(2,(A,Q)=>{let B=c1(Q),C=A;while(E7(B)){let E=B.head;switch(E._tag){case"Empty":{B=B.tail;break}case"AndThen":{B=KY(E.first,KY(E.second,B.tail));break}case"MapName":{C=n0(C,E.f),B=B.tail;break}case"Nested":{C=T1(C,E.name),B=B.tail;break}case"Unnested":{if(H(UU(C),BBA(E.name)))C=NU(C),B=B.tail;else return wA(u8(C,`Expected ${E.name} to be in path in ConfigProvider#unnested`));break}}}return $A(C)});var jf="Constant",xEA="Fail",xf="Fallback",Sf="Described",gf="Lazy",vf="MapOrFail",yf="Nested",kf="Primitive",SEA="Sequence",gEA="HashMap",bf="ZipWith";var XPA=(A)=>A.toLowerCase(),FPA=(A)=>A.toUpperCase(),ZPA=(A,Q,B)=>Q instanceof RegExp?A.replace(Q,B):Q.reduce((C,E)=>C.replace(E,B),A),dvQ=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],uvQ=/[^A-Z0-9]+/gi,pvQ=(A,Q={})=>{let{delimiter:B=" ",splitRegexp:C=dvQ,stripRegexp:E=uvQ,transform:I=XPA}=Q,Y=ZPA(ZPA(A,C,"$1\x00$2"),E,"\x00"),G=0,J=Y.length;while(Y.charAt(G)==="\x00")G++;while(Y.charAt(J-1)==="\x00")J--;return Y.slice(G,J).split("\x00").map(I).join(B)};var HPA=(A,Q)=>pvQ(A,{delimiter:"_",transform:FPA,...Q});var hf=(A,Q)=>[...A,...Q],nvQ="effect/ConfigProvider",vEA=Symbol.for(nvQ),O7=pA("effect/ConfigProvider"),ovQ="effect/ConfigProviderFlat",yEA=Symbol.for(ovQ),WPA=(A)=>({[vEA]:vEA,pipe(){return e(this,arguments)},...A}),bEA=(A)=>({[yEA]:yEA,patch:A.patch,load:(Q,B,C=!0)=>A.load(Q,B,C),enumerateChildren:A.enumerateChildren}),hEA=(A)=>WPA({load:(Q)=>f(eN(A,i0(),Q,!1),(B)=>HA(UU(B),{onNone:()=>HB(u8(i0(),`Expected a single value having structure: ${Q}`)),onSome:n})),flattened:A}),mf=(A)=>{let{pathDelim:Q,seqDelim:B}=Object.assign({},{pathDelim:"_",seqDelim:","},A),C=(J)=>H(J,yG(Q)),E=(J)=>J.split(Q),I=()=>typeof process!=="undefined"&&("env"in process)&&typeof process.env==="object"?process.env:{};return hEA(bEA({load:(J,D,U=!0)=>{let N=C(J),Z=I(),X=N in Z?j(Z[N]):x();return H(X,GH(()=>u8(J,`Expected ${N} to exist in the process context`)),f((W)=>AyQ(W,J,D,B,U)))},enumerateChildren:(J)=>CA(()=>{let D=I(),Z=Object.keys(D).map((X)=>E(X.toUpperCase())).filter((X)=>{for(let W=0;W<J.length;W++){let K=H(J,Ah(W)),V=X[W];if(V===void 0||K!==V)return!1}return!0}).flatMap((X)=>X.slice(J.length,J.length+1));return WU(Z)}),patch:_EA}))};var rvQ=(A,Q,B,C)=>{let E=NBA(B.length,(J)=>J>=C.length?x():j([A(J),J+1])),I=NBA(C.length,(J)=>J>=B.length?x():j([Q(J),J+1])),Y=hf(B,E),G=hf(C,I);return[Y,G]},avQ=(A,Q)=>{let B=Q;if(B._tag==="Nested"){let C=A.slice();while(B._tag==="Nested")C.push(B.name),B=B.config;return C}return A},eN=(A,Q,B,C)=>{let E=B;switch(E._tag){case jf:return n($0(E.value));case Sf:return qA(()=>eN(A,Q,E.config,C));case xEA:return HB(u8(Q,E.message));case xf:return H(qA(()=>eN(A,Q,E.first,C)),MU((I)=>{if(E.condition(I))return H(eN(A,Q,E.second,C),MU((Y)=>HB(qf(I,Y))));return HB(I)}));case gf:return qA(()=>eN(A,Q,E.config(),C));case vf:return qA(()=>H(eN(A,Q,E.original,C),f(gI((I)=>H(E.mapOrFail(I),GH(G5(avQ(Q,E.original))))))));case yf:return qA(()=>eN(A,hf(Q,$0(E.name)),E.config,C));case kf:return H(_f(Q,A.patch),f((I)=>H(A.load(I,E,C),f((Y)=>{if(Y.length===0){let G=H(c$(I),YQ(()=>"<n/a>"));return HB(u8([],`Expected ${E.description} with name ${G}`))}return n(Y)}))));case SEA:return H(_f(Q,A.patch),f((I)=>H(A.enumerateChildren(I),f(ByQ),f((Y)=>{if(Y.length===0)return qA(()=>GA(eN(A,Q,E.config,!0),$0));return H(gI(Y,(G)=>eN(A,yV(Q,`[${G}]`),E.config,!0)),GA((G)=>{let J=TF(G);if(J.length===0)return $0(i0());return $0(J)}))}))));case gEA:return qA(()=>H(_f(Q,A.patch),f((I)=>H(A.enumerateChildren(I),f((Y)=>{return H(Y,gI((G)=>eN(A,hf(I,$0(G)),E.valueConfig,C)),GA((G)=>{if(G.length===0)return $0(VI());return H(QyQ(G),n0((J)=>XX(JBA(aA(Y),J))))}))})))));case bf:return qA(()=>H(eN(A,Q,E.left,C),MX,f((I)=>H(eN(A,Q,E.right,C),MX,f((Y)=>{if(M0(I)&&M0(Y))return HB(Tf(I.left,Y.left));if(M0(I)&&CG(Y))return HB(I.left);if(CG(I)&&M0(Y))return HB(Y.left);if(CG(I)&&CG(Y)){let G=H(Q,yG(".")),J=svQ(Q,G),[D,U]=rvQ(J,J,H(I.right,n0($A)),H(Y.right,n0($A)));return H(D,JBA(U),gI(([N,Z])=>H(s1(N,Z),GA(([X,W])=>E.zip(X,W)))))}throw new Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},svQ=(A,Q)=>(B)=>wA(u8(A,`The element at index ${B} in a sequence at path "${Q}" was missing`)),KPA=F(2,(A,Q)=>hEA(tvQ(A.flattened,Q))),tvQ=(A,Q)=>bEA({load:(B,C,E=!0)=>A.load(B,C,E),enumerateChildren:(B)=>A.enumerateChildren(B),patch:jEA(A.patch,Q)});var VPA=(A)=>KPA(A,HPA);var evQ=(A,Q)=>{return A.split(new RegExp(`\\s*${s$(Q)}\\s*`))},AyQ=(A,Q,B,C,E)=>{if(!E)return H(B.parse(A),G_({onFailure:G5(Q),onSuccess:$0}));return H(evQ(A,C),gI((I)=>B.parse(I.trim())),GH(G5(Q)))},QyQ=(A)=>{return Object.keys(A[0]).map((Q)=>A.map((B)=>B[Q]))},ByQ=(A)=>H(gI(A,EyQ),G_({onFailure:()=>i0(),onSuccess:EG(xI)}),MX,GA(wF));var CyQ=/^(\[(\d+)\])$/,EyQ=(A)=>{let Q=A.match(CyQ);if(Q!==null){let B=Q[2];return H(B!==void 0&&B.length>0?j(B):x(),qE(IyQ))}return x()};var IyQ=(A)=>{let Q=Number.parseInt(A);return Number.isNaN(Q)?x():j(Q)};var mEA=Symbol.for("effect/Console"),y2=pA("effect/Console"),$PA={[mEA]:mEA,assert(A,...Q){return CA(()=>{console.assert(A,...Q)})},clear:CA(()=>{console.clear()}),count(A){return CA(()=>{console.count(A)})},countReset(A){return CA(()=>{console.countReset(A)})},debug(...A){return CA(()=>{console.debug(...A)})},dir(A,Q){return CA(()=>{console.dir(A,Q)})},dirxml(...A){return CA(()=>{console.dirxml(...A)})},error(...A){return CA(()=>{console.error(...A)})},group(A){return A?.collapsed?CA(()=>console.groupCollapsed(A?.label)):CA(()=>console.group(A?.label))},groupEnd:CA(()=>{console.groupEnd()}),info(...A){return CA(()=>{console.info(...A)})},log(...A){return CA(()=>{console.log(...A)})},table(A,Q){return CA(()=>{console.table(A,Q)})},time(A){return CA(()=>console.time(A))},timeEnd(A){return CA(()=>console.timeEnd(A))},timeLog(A,...Q){return CA(()=>{console.timeLog(A,...Q)})},trace(...A){return CA(()=>{console.trace(...A)})},warn(...A){return CA(()=>{console.warn(...A)})},unsafe:console};var YyQ="effect/Random",dEA=Symbol.for(YyQ),J5=pA("effect/Random");class zPA{seed;[dEA]=dEA;PRNG;constructor(A){this.seed=A,this.PRNG=new mb(A)}get next(){return CA(()=>this.PRNG.number())}get nextBoolean(){return GA(this.next,(A)=>A>0.5)}get nextInt(){return CA(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(A,Q){return GA(this.next,(B)=>(Q-A)*B+A)}nextIntBetween(A,Q){return CA(()=>this.PRNG.integer(Q-A)+A)}shuffle(A){return GyQ(A,(Q)=>this.nextIntBetween(0,Q))}}var GyQ=(A,Q)=>{return qA(()=>H(CA(()=>Array.from(A)),f((B)=>{let C=[];for(let E=B.length;E>=2;E=E-1)C.push(E);return H(C,iI((E)=>H(Q(E),GA((I)=>JyQ(B,E-1,I)))),lB(rB(B)))})))},JyQ=(A,Q,B)=>{let C=A[Q];return A[Q]=A[B],A[B]=C,A},uEA=(A)=>new zPA(QA(A));var pEA=Symbol.for("effect/Tracer"),cEA=(A)=>({[pEA]:pEA,...A}),qX=pA("effect/Tracer"),wY=pA("effect/ParentSpan"),LPA=function(){return function(B){let C="";for(let E=0;E<B;E++)C+="abcdef0123456789".charAt(Math.floor(Math.random()*16));return C}}();class OPA{name;parent;context;startTime;kind;_tag="Span";spanId;traceId="native";sampled=!0;status;attributes;events=[];links;constructor(A,Q,B,C,E,I){this.name=A,this.parent=Q,this.context=B,this.startTime=E,this.kind=I,this.status={_tag:"Started",startTime:E},this.attributes=new Map,this.traceId=Q._tag==="Some"?Q.value.traceId:LPA(32),this.spanId=LPA(16),this.links=Array.from(C)}end(A,Q){this.status={_tag:"Ended",endTime:A,exit:Q,startTime:this.status.startTime}}attribute(A,Q){this.attributes.set(A,Q)}event(A,Q,B){this.events.push([A,Q,B??{}])}addLinks(A){this.links.push(...A)}}var RPA=cEA({span:(A,Q,B,C,E,I)=>new OPA(A,Q,B,C,E,I),context:(A)=>A()}),TPA=(A)=>({_tag:"ExternalSpan",spanId:A.spanId,traceId:A.traceId,sampled:A.sampled??!0,context:A.context??F0()}),zJ=(A)=>{if(A?.captureStackTrace===!1)return A;else if(A?.captureStackTrace!==void 0&&typeof A.captureStackTrace!=="boolean")return A;let Q=Error.stackTraceLimit;Error.stackTraceLimit=3;let B=new Error;Error.stackTraceLimit=Q;let C=!1;return{...A,captureStackTrace:()=>{if(C!==!1)return C;if(B.stack!==void 0){let E=B.stack.split(`
`);if(E[3]!==void 0)return C=E[3].trim(),C}}}},R7=YG()("effect/Tracer/DisablePropagation",{defaultValue:x0});var ff=H(F0(),DQ(rJ,TEA()),DQ(y2,$PA),DQ(J5,uEA(Math.random())),DQ(O7,mf()),DQ(qX,RPA)),JC=xA(Symbol.for("effect/DefaultServices/currentServices"),()=>UH(ff)),qPA=(A)=>{let Q=cQ(A);return Iw((B)=>B.sleep(Q))},df=(A)=>TQ((Q)=>A(Q.currentDefaultServices)),Iw=(A)=>df((Q)=>A(Q.unsafeMap.get(rJ.key))),PPA=Iw((A)=>A.currentTimeMillis),_PA=Iw((A)=>A.currentTimeNanos),jPA=F(2,(A,Q)=>oI(JC,DQ(rJ,Q))(A)),xPA=F(2,(A,Q)=>oI(JC,DQ(O7,Q))(A)),lEA=(A)=>df((Q)=>A(Q.unsafeMap.get(O7.key))),SPA=(A)=>lEA((Q)=>Q.load(A));var Yw=(A)=>df((Q)=>A(Q.unsafeMap.get(J5.key))),gPA=F(2,(A,Q)=>oI(JC,DQ(J5,Q))(A)),vPA=Yw((A)=>A.next);var uf=(A)=>df((Q)=>A(Q.unsafeMap.get(qX.key))),yPA=F(2,(A,Q)=>oI(JC,DQ(qX,Q))(A));var iEA=$_;var AZ=qPA,wJ=PPA,kPA=_PA,nEA=Iw,z_=rJ;function bPA(A){return new U5(A)}function pf(){return bPA(new Map)}var oEA=Symbol.for("effect/FiberRefs");class U5{locals;[oEA]=oEA;constructor(A){this.locals=A}pipe(){return e(this,arguments)}}var DyQ=(A,Q,B,C=!1)=>{let E=A,I=Q,Y=B,G=C,J=void 0;while(J===void 0)if(oB(I)&&oB(Y)){let D=jI(I)[0],U=NU(I),N=jI(Y)[0],Z=jI(Y)[1],X=NU(Y);if(D.startTimeMillis<N.startTimeMillis)Y=X,G=!0;else if(D.startTimeMillis>N.startTimeMillis)I=U;else if(D.id<N.id)Y=X,G=!0;else if(D.id>N.id)I=U;else J=[Z,G]}else J=[E.initial,!0];return J},cf=F(3,(A,Q,B)=>{let C=new Map(A.locals);return B.locals.forEach((E,I)=>{let Y=E[0][1];if(!E[0][0][PA](Q)){if(!C.has(I)){if(JA(Y,I.initial))return;C.set(I,[[Q,I.join(I.initial,Y)]]);return}let G=C.get(I),[J,D]=DyQ(I,G,E);if(D){let U=I.diff(J,Y),N=G[0][1],Z=I.join(N,I.patch(U)(N));if(!JA(N,Z)){let X,W=G[0][0];if(W[PA](Q))X=[[W,Z],...G.slice(1)];else X=[[Q,Z],...G];C.set(I,X)}}}}),new U5(C)}),aEA=F(2,(A,Q)=>{let B=new Map;return hPA(A,B,Q),new U5(B)}),hPA=(A,Q,B)=>{A.locals.forEach((C,E)=>{let I=C[0][1],Y=E.patch(E.fork)(I);if(JA(I,Y))Q.set(E,C);else Q.set(E,[[B,Y],...C])})},mPA=(A)=>WU(A.locals.keys()),fPA=(A)=>iI(mPA(A),(Q)=>KX(Q,N5(A,Q))),w_=F(2,(A,Q)=>{let B=new Map(A.locals);return B.delete(Q),new U5(B)}),L_=F(2,(A,Q)=>{if(!A.locals.has(Q))return x();return j(jI(A.locals.get(Q))[1])}),N5=F(2,(A,Q)=>H(L_(A,Q),YQ(()=>Q.initial))),T7=F(2,(A,{fiberId:Q,fiberRef:B,value:C})=>{if(A.locals.size===0)return new U5(new Map([[B,[[Q,C]]]]));let E=new Map(A.locals);return rEA(E,Q,B,C),new U5(E)}),rEA=(A,Q,B,C)=>{let E=A.get(B)??[],I;if(oB(E)){let[Y,G]=jI(E);if(Y[PA](Q))if(JA(G,C))return;else I=[[Q,C],...E.slice(1)];else I=[[Q,C],...E]}else I=[[Q,C]];A.set(B,I)},dPA=F(2,(A,{entries:Q,forkAs:B})=>{if(A.locals.size===0)return new U5(new Map(Q));let C=new Map(A.locals);if(B!==void 0)hPA(A,C,B);return Q.forEach(([E,I])=>{if(I.length===1)rEA(C,I[0][0],E,I[0][1]);else I.forEach(([Y,G])=>{rEA(C,Y,E,G)})}),new U5(C)});var sEA=L_,p8=N5,uPA=cf,pPA=fPA,tEA=T7,cPA=dPA;var lPA=pf;var PX={};ZQ(PX,{locally:()=>UyQ,lessThanEqual:()=>ZyQ,lessThan:()=>NyQ,greaterThanEqual:()=>XyQ,greaterThan:()=>ef,fromLiteral:()=>Ad,allLevels:()=>oPA,Warning:()=>rf,Trace:()=>tf,Order:()=>O_,None:()=>nPA,Info:()=>af,Fatal:()=>nf,Error:()=>of,Debug:()=>sf,All:()=>iPA});var iPA=CEA,nf=EEA,of=IEA,rf=YEA,af=pz,sf=Bf,tf=GEA,nPA=JEA,oPA=DEA,UyQ=F(2,(A,Q)=>iC(A,lz,Q)),O_=H(xI,R2((A)=>A.ordinal)),NyQ=z1(O_),ZyQ=jV(O_),ef=w1(O_),XyQ=xV(O_),Ad=(A)=>{switch(A){case"All":return iPA;case"Debug":return sf;case"Error":return of;case"Fatal":return nf;case"Info":return af;case"Trace":return tf;case"None":return nPA;case"Warning":return rf}};var rPA=(A,Q)=>({label:A,startTime:Q}),eEA=(A)=>A.replace(/[\s="]/g,"_"),R_=(A)=>(Q)=>{return`${eEA(Q.label)}=${A-Q.startTime}ms`};var sPA=rPA;var yI={};ZQ(yI,{updateSomeAndGet:()=>HIA,updateSome:()=>FIA,updateAndGet:()=>Bd,update:()=>cG,unsafeMake:()=>TyQ,setAndGet:()=>XIA,set:()=>EI,modifySome:()=>ZIA,modify:()=>tJ,make:()=>DC,getAndUpdateSome:()=>NIA,getAndUpdate:()=>UIA,getAndSet:()=>j7,get:()=>d0,RefTypeId:()=>DIA});var vI={};ZQ(vI,{StructuralCommitPrototype:()=>VyQ,StructuralClass:()=>q7,StreamTypeId:()=>HyQ,SinkTypeId:()=>WyQ,EffectTypeId:()=>FyQ,EffectPrototype:()=>AIA,CommitPrototype:()=>c8,Class:()=>CI,ChannelTypeId:()=>KyQ});var FyQ=cQA,HyQ=y$,WyQ=lQA,KyQ=iQA,AIA=M1,c8=gG,VyQ=Oq,MyQ=TzA,$yQ=qzA;class CI extends MyQ{}class q7 extends $yQ{}var _X={};ZQ(_X,{unwrap:()=>RyQ,mapEffect:()=>OyQ,map:()=>LyQ,make:()=>Qd,isReadable:()=>zyQ,TypeId:()=>UG});var UG=Symbol.for("effect/Readable"),zyQ=(A)=>o(A,UG),wyQ={[UG]:UG,pipe(){return e(this,arguments)}},Qd=(A)=>{let Q=Object.create(wyQ);return Q.get=A,Q},LyQ=F(2,(A,Q)=>Qd(GA(A.get,Q))),OyQ=F(2,(A,Q)=>Qd(f(A.get,Q))),RyQ=(A)=>Qd(f(A,(Q)=>Q.get));var T_=Symbol.for("effect/Ref"),q_={_A:(A)=>A};class ePA extends CI{ref;commit(){return this.get}[T_]=q_;[UG]=UG;constructor(A){super();this.ref=A,this.get=CA(()=>EB(this.ref))}get;modify(A){return CA(()=>{let Q=EB(this.ref),[B,C]=A(Q);if(Q!==C)hE(C)(this.ref);return B})}}var P7=(A)=>new ePA(SI(A)),_7=(A)=>CA(()=>P7(A)),sJ=(A)=>A.get,QZ=F(2,(A,Q)=>A.modify(()=>[void 0,Q])),QIA=F(2,(A,Q)=>A.modify((B)=>[B,Q])),BIA=F(2,(A,Q)=>A.modify((B)=>[B,Q(B)])),CIA=F(2,(A,Q)=>A.modify((B)=>{let C=Q(B);switch(C._tag){case"None":return[B,B];case"Some":return[B,C.value]}})),EIA=F(2,(A,Q)=>A.modify(()=>[Q,Q])),P_=F(2,(A,Q)=>A.modify(Q)),IIA=F(3,(A,Q,B)=>A.modify((C)=>{let E=B(C);switch(E._tag){case"None":return[Q,C];case"Some":return E.value}})),Gw=F(2,(A,Q)=>A.modify((B)=>[void 0,Q(B)])),YIA=F(2,(A,Q)=>A.modify((B)=>{let C=Q(B);return[C,C]})),GIA=F(2,(A,Q)=>A.modify((B)=>[void 0,HA(Q(B),{onNone:()=>B,onSome:(C)=>C})])),JIA=F(2,(A,Q)=>A.modify((B)=>{let C=Q(B);switch(C._tag){case"None":return[B,B];case"Some":return[C.value,C.value]}}));var DIA=T_,DC=_7,d0=sJ,j7=QIA,UIA=BIA,NIA=CIA,tJ=P_,ZIA=IIA,EI=QZ,XIA=EIA,cG=Gw,Bd=YIA,FIA=GIA,HIA=JIA,TyQ=P7;var x7=wY;var A_A=cEA,Cd=TPA,Q_A=uf;var B_A="Empty",C_A="Add",E_A="Remove",I_A="Update",Y_A="AndThen",G_A={_tag:B_A},__=(A,Q)=>{let B=new Map(A.locals),C=G_A;for(let[E,I]of Q.locals.entries()){let Y=jI(I)[1],G=B.get(E);if(G!==void 0){let J=jI(G)[1];if(!JA(J,Y))C=Ed({_tag:I_A,fiberRef:E,patch:E.diff(J,Y)})(C)}else C=Ed({_tag:C_A,fiberRef:E,value:Y})(C);B.delete(E)}for(let[E]of B.entries())C=Ed({_tag:E_A,fiberRef:E})(C);return C},Ed=F(2,(A,Q)=>({_tag:Y_A,first:A,second:Q})),Id=F(3,(A,Q,B)=>{let C=B,E=$0(A);while(oB(E)){let I=jI(E),Y=NU(E);switch(I._tag){case B_A:{E=Y;break}case C_A:{C=T7(C,{fiberId:Q,fiberRef:I.fiberRef,value:I.value}),E=Y;break}case E_A:{C=w_(C,I.fiberRef),E=Y;break}case I_A:{let G=N5(C,I.fiberRef);C=T7(C,{fiberId:Q,fiberRef:I.fiberRef,value:I.fiberRef.patch(I.patch)(G)}),E=Y;break}case Y_A:{E=T1(I.first)(T1(I.second)(Y));break}}}return C});var D_A="effect/MetricLabel",Yd=Symbol.for(D_A);class U_A{key;value;[Yd]=Yd;_hash;constructor(A,Q){this.key=A,this.value=Q,this._hash=LQ(D_A+this.key+this.value)}[TA](){return this._hash}[PA](A){return N_A(A)&&this.key===A.key&&this.value===A.value}pipe(){return e(this,arguments)}}var F5=(A,Q)=>{return new U_A(A,Q)},N_A=(A)=>o(A,Yd);var Z_A=F((A)=>h0(A[0]),function(){let A=arguments;return oI(A[0],f8,typeof A[1]==="string"?FE(A[1],A[2]):(Q)=>Object.entries(A[1]).reduce((B,[C,E])=>FE(B,C,E),Q))}),S7=(A)=>GA(A,j),X_A=(A)=>GH(A,j),Dd=(A)=>{let Q,B=void 0;if(typeof A==="function")Q=A;else Q=A.try,B=A.catch;return qA(()=>{try{return n(CC(Q))}catch(C){return HB(B?CC(()=>B(C)):new $7(C,"An unknown error occurred in Effect.try"))}})},F_A=F(3,(A,Q,B)=>MU(A,(C)=>{if(o(C,Q)&&C[Q]===B.failure)return B.onFailure(C);return HB(C)})),H_A=F(2,(A,Q)=>oN(A,(B)=>{let C=HX(B,(E)=>G7(E)?j(E):x());switch(C._tag){case"None":return cB(B);case"Some":return Q(C.value.defect)}})),W_A=F(2,(A,Q)=>BE(A,{onFailure:(B)=>{let C=Q(B);switch(C._tag){case"None":return cB(B);case"Some":return C.value}},onSuccess:n})),K_A=F(2,(A,Q)=>oN(A,(B)=>{let C=HX(B,(E)=>G7(E)?j(E):x());switch(C._tag){case"None":return cB(B);case"Some":{let E=Q(C.value.defect);return E._tag==="Some"?E.value:cB(B)}}})),V_A=F((A)=>h0(A[0]),(A,...Q)=>{let B=Q[Q.length-1],C;if(Q.length===2)C=dI(Q[0]);else C=(E)=>{let I=o(E,"_tag")?E._tag:void 0;if(!I)return!1;for(let Y=0;Y<Q.length-1;Y++)if(Q[Y]===I)return!0;return!1};return E_(A,C,B)}),M_A=F(2,(A,Q)=>{let B;return E_(A,(C)=>{return B??=Object.keys(Q),o(C,"_tag")&&cC(C._tag)&&B.includes(C._tag)},(C)=>Q[C._tag](C))}),$_A=(A)=>I_(A,{onFailure:s,onSuccess:()=>VJ}),BZ=nEA,WIA=BZ(n),Ud=F(2,(A,Q)=>OQ(AZ(Q),A)),x_=(A)=>TQ((Q,B)=>A({id:Q.id(),status:B,interruptors:U7(Q.getFiberRef(A5))})),z_A=x_((A)=>uN(A.interruptors)>0?qC:iA),w_A=x_(n),Jw=(A)=>m_(A,Zd,__),qyQ=(A)=>m_(A,s1(Zd,dz),([Q,B],[C,E])=>[__(Q,C),VU(B,E)]),L_A=n({}),S_=VV(GA,f),g_=H1(GA),O_A=F1(GA),R_A=F(2,(A,Q)=>qA(()=>{let B=A[Symbol.iterator](),C=[],E,I=n(!1),Y=0;while((E=B.next())&&!E.done){let G=E.value,J=Y++;I=f(I,(D)=>{if(D)return C.push(G),n(!0);return Q(G,J)})}return GA(I,()=>C)})),T_A=F(2,(A,Q)=>qA(()=>{let B=A[Symbol.iterator](),C=[],E,I=n(!0),Y=0;while((E=B.next())&&!E.done){let G=E.value,J=Y++;I=f(I,(D)=>GA(D?Q(G,J):n(!1),(U)=>{if(!U)C.push(G);return U}))}return GA(I,()=>C)})),q_A=(A)=>GA(DG(),A),Nd=(A)=>F7(A,()=>f(b8(),()=>Nd(A))),P_A=F(2,(A,Q)=>GA(gI(A,s),z8(Q))),__A=F(3,(A,Q,B)=>v_(A,Q,(C)=>UD(()=>B(C)))),j_A=F(3,(A,Q,B)=>v_(A,Q,()=>a1(B))),v_=F(3,(A,Q,B)=>f(A,(C)=>Q(C)?n(C):B(C))),x_A=F(3,(A,Q,B)=>qA(()=>Q(A)?n(A):HB(B(A)))),KIA=F((A)=>h0(A[0]),(A,Q,B)=>v_(A,Q,(C)=>B===void 0?HB(new g2):$U(()=>B(C)))),S_A=F(2,(A,Q)=>qA(()=>{let B=A[Symbol.iterator](),C=B.next();if(!C.done)return g_A(B,0,Q,C.value);return n(x())})),g_A=(A,Q,B,C)=>f(B(C,Q),(E)=>{if(E)return n(j(C));let I=A.next();if(!I.done)return g_A(A,Q+1,B,I.value);return n(x())}),v_A=(A)=>qA(()=>{let Q=rB(A);if(!qB(Q))return UD(()=>new aN("Received an empty collection of effects"));return H(k0(Q),HY(aB(Q),(B,C)=>F7(B,()=>C)))}),y_A=F(2,(A,Q)=>YH(Q(YH(A)))),y_=F(2,(A,Q)=>bY(A,{onFailure:(B)=>n(Q.onFailure(B)),onSuccess:(B)=>n(Q.onSuccess(B))})),k_A=F(2,(A,Q)=>qA(()=>b_A(A[Symbol.iterator](),0,Q))),b_A=(A,Q,B)=>{let C=A.next();return C.done?n(!0):f(B(C.value,Q),(E)=>E?b_A(A,Q+1,B):n(E))},k_=(A)=>{let Q=f(f(A,()=>b8()),()=>Q);return Q},Zd=TQ((A)=>n(A.getFiberRefs())),h_A=(A)=>f(A,(Q)=>{let C=Q[Symbol.iterator]().next();if(C.done)return HB(new g2);return n(C.value)}),Xd=(A)=>y_(A,{onFailure:l0,onSuccess:l0}),VIA=(A)=>BE(A,{onFailure:(Q)=>$IA(Q,"An error was silently ignored because it is not anticipated to be useful"),onSuccess:()=>iA}),m_A=(A)=>Hd((Q,B)=>uPA(B,Q,A)),f_A=(A)=>y_(A,{onFailure:ZY,onSuccess:x0}),d_A=(A)=>y_(A,{onFailure:x0,onSuccess:ZY}),MIA=(A,Q)=>qA(()=>{if(Q.while(A))return f(Q.body(A),(B)=>MIA(B,Q));return n(A)}),H5=(A)=>(...Q)=>{let B=aQ(A),C=void 0;for(let E=0,I=Q.length;E<I;E++){let Y=Q[E];if(uP(Y)){if(C!==void 0)C=bC(C,Y);else C=Y;Q=[...Q.slice(0,E),...Q.slice(E+1)],E--}}if(C===void 0)C=VJ;return TQ((E)=>{return E.log(Q,C,B),iA})},u_A=H5(),p_A=H5(tf),$IA=H5(sf),c_A=H5(af),zIA=H5(rf),l_A=H5(of),i_A=H5(nf),n_A=F(2,(A,Q)=>f(wJ,(B)=>oI(A,iz,jP(sPA(Q,B))))),o_A=nJ(f8),r_A=(A,Q)=>Q.discard?s_A(A,Q.while,Q.step,Q.body):GA(a_A(A,Q.while,Q.step,Q.body),aA),a_A=(A,Q,B,C)=>qA(()=>Q(A)?f(C(A),(E)=>GA(a_A(B(A),Q,B,C),jP(E))):CA(()=>cN())),s_A=(A,Q,B,C)=>qA(()=>Q(A)?f(C(A),()=>s_A(B(A),Q,B,C)):iA),t_A=F(3,(A,Q,B)=>qA(()=>{let C=A[Symbol.iterator](),E=[],I=n(Q),Y,G=0;while(!(Y=C.next()).done){let J=G++,D=Y.value;I=f(I,(U)=>GA(B(U,D,J),([N,Z])=>{return E.push(Z),N}))}return GA(I,(J)=>[J,E])})),Dw=F(2,(A,Q)=>BE(A,{onFailure:(B)=>$X(()=>Q(B)),onSuccess:n})),b_=(A)=>H(QI(),f((Q)=>H(qyQ(A),zX(Q),wIA,GA((B)=>OQ(B,H(PC(Q),f(([C,E])=>lB(s1(g7(C[0]),JH(C[1])),E)))))))),e_A=(A)=>bY(A,{onFailure:(Q)=>n(Q),onSuccess:n}),h_=(A)=>GA(A,(Q)=>!Q),AjA=(A)=>f(A,(Q)=>{switch(Q._tag){case"None":return iA;case"Some":return HB(new g2)}}),wIA=(A)=>GA(DC(!0),(Q)=>m0(k8(A,j7(Q,!1)))),QjA=(A)=>bY(A,{onFailure:()=>n(x()),onSuccess:(Q)=>n(j(Q))}),BjA=F(2,(A,Q)=>F7(A,()=>$U(Q))),CjA=F(2,(A,Q)=>F7(A,()=>CA(Q))),EjA=(A)=>BE(A,{onFailure:(Q)=>{let B=aA(hz(Q));return B.length===0?cB(Q):HB(B)},onSuccess:n}),g7=(A)=>Hd((Q,B)=>H(A,Id(Q,B))),IjA=(A)=>A.length>=1?cJ((Q,B)=>{try{A(B).then((C)=>Q(I0(C)),(C)=>Q(Q5(C)))}catch(C){Q(Q5(C))}}):cJ((Q)=>{try{A().then((B)=>Q(I0(B)),(B)=>Q(Q5(B)))}catch(B){Q(Q5(B))}}),MH=F(3,(A,Q,B)=>LU((C)=>$Y(A,DQ(C,Q,B)))),YjA=F(3,(A,Q,B)=>LU((C)=>f(B,(E)=>$Y(A,H(C,DQ(Q,E)))))),GjA=Yw(n),LIA=F(3,(A,Q,B)=>aA(A).reduce((C,E,I)=>f(C,(Y)=>B(Y,E,I)),n(Q))),JjA=F(3,(A,Q,B)=>aA(A).reduceRight((C,E,I)=>f(C,(Y)=>B(E,Y,I)),n(Q))),DjA=F(3,(A,Q,B)=>f(CA(()=>A[Symbol.iterator]()),(C)=>UjA(C,0,Q,B.while,B.body))),UjA=(A,Q,B,C,E)=>{let I=A.next();if(!I.done&&C(B))return f(E(B,I.value,Q),(Y)=>UjA(A,Q+1,Y,C,E));return n(B)},NjA=F(2,(A,Q)=>qA(()=>ZjA(A,Q))),ZjA=(A,Q)=>f(A,(B)=>Q<=0?n(B):OQ(b8(),ZjA(A,Q-1))),XjA=(A)=>BE(A,{onFailure:HB,onSuccess:n}),FjA=(A)=>qA(()=>pPA(A)),jX=AZ,W5=n(x()),HjA=(A)=>n(j(A)),m_=F(3,(A,Q,B)=>f(Q,(C)=>f(A,(E)=>GA(Q,(I)=>[B(C,I),E])))),WjA=F((A)=>h0(A[0]),function(){return OIA(arguments[0],typeof arguments[1]==="string"?[F5(arguments[1],arguments[2])]:Object.entries(arguments[1]).map(([A,Q])=>F5(A,Q)))}),OIA=F(2,(A,Q)=>oI(A,rN,(B)=>PN(B,Q))),KjA=F(2,(A,Q)=>qA(()=>{let B=A[Symbol.iterator](),C=[],E,I=n(!1),Y=0;while((E=B.next())&&!E.done){let G=E.value,J=Y++;I=f(I,(D)=>{if(D)return n(!0);return C.push(G),Q(G,J)})}return GA(I,()=>C)})),VjA=F(2,(A,Q)=>qA(()=>{let B=A[Symbol.iterator](),C=[],E,I=n(!0),Y=0;while((E=B.next())&&!E.done){let G=E.value,J=Y++;I=f(I,(D)=>H(D?Q(G,J):n(!1),GA((U)=>{if(U)C.push(G);return U})))}return GA(I,()=>C)})),MjA=F(2,(A,{onFailure:Q,onSuccess:B})=>BE(A,{onFailure:(C)=>{let E=v8(C);switch(E._tag){case"Left":return OQ(Q(E.left),cB(C));case"Right":return cB(C)}},onSuccess:(C)=>lB(B(C),C)})),RIA=F(2,(A,Q)=>oN(A,(B)=>HA(cm(B),{onNone:()=>cB(B),onSome:(C)=>OQ(Q(C),cB(B))}))),Fd=F(2,(A,Q)=>BE(A,{onFailure:(B)=>{let C=v8(B);switch(C._tag){case"Left":return OQ(Q(C.left),cB(B));case"Right":return cB(B)}},onSuccess:n})),$jA=F(3,(A,Q,B)=>Fd(A,(C)=>{if(dI(C,Q))return B(C);return iA})),zjA=F(2,(A,Q)=>BE(A,{onFailure:(B)=>OQ(Q(B),cB(B)),onSuccess:n})),wjA=(A)=>TIA(A,kPA),TIA=F(2,(A,Q)=>m_(A,Q,(B,C)=>mN(C-B))),PyQ=Q_A,LjA=PyQ(n),qIA=(A)=>{let Q,B=void 0;if(typeof A==="function")Q=A;else Q=A.try,B=A.catch;let C=(E)=>B?$U(()=>B(E)):HB(new $7(E,"An unknown error occurred in Effect.tryPromise"));if(Q.length>=1)return cJ((E,I)=>{try{Q(I).then((Y)=>E(I0(Y)),(Y)=>E(C(Y)))}catch(Y){E(C(Y))}});return cJ((E)=>{try{Q().then((I)=>E(I0(I)),(I)=>E(C(I)))}catch(I){E(C(I))}})},OjA=F(2,(A,Q)=>f(A,(B)=>Dd({try:()=>Q.try(B),catch:Q.catch}))),RjA=F(2,(A,Q)=>f(A,(B)=>qIA({try:Q.try.length>=1?(C)=>Q.try(B,C):()=>Q.try(B),catch:Q.catch}))),TjA=F(2,(A,Q)=>qA(()=>Q()?W5:S7(A))),qjA=F(2,(A,Q)=>f(Q,(B)=>B?W5:S7(A))),PjA=(A)=>Dw(A,lm),Hd=(A)=>TQ((Q)=>{return Q.setFiberRefs(A(Q.id(),Q.getFiberRefs())),iA}),_jA=F(3,(A,Q,B)=>OU(A,(C)=>DQ(C,Q,B(v0(C,Q))))),f_=F(2,(A,Q)=>qA(()=>Q()?GA(A,j):n(x()))),jjA=F(3,(A,Q,B)=>f(nJ(Q),(C)=>B(C)?GA(A,(E)=>[C,j(E)]):n([C,x()]))),xjA=F(3,(A,Q,B)=>f(d0(Q),(C)=>B(C)?GA(A,(E)=>[C,j(E)]):n([C,x()]))),SjA=F(2,(A,Q)=>Q(A)),gjA=(A,Q)=>(...B)=>f(A,(C)=>Q(C)(...B)),vjA=(A,Q)=>(...B)=>GA(A,(C)=>Q(C)(...B)),PIA=(A)=>new Proxy({},{get(Q,B,C){return(...E)=>f(A,(I)=>I[B](...E))}}),_IA=(A)=>new Proxy({},{get(Q,B,C){return f(A,(E)=>h0(E[B])?E[B]:n(E[B]))}}),yjA=(A)=>({functions:PIA(A),constants:_IA(A)}),kjA=(A)=>GA(DG(),eE(A)),jIA=(A)=>f(DG(),eE(A)),bjA=function(){let A=arguments;return Xd(f(Wd,(Q)=>CA(()=>{if(typeof A[0]==="string")Q.attribute(A[0],A[1]);else for(let B in A[0])Q.attribute(B,A[0][B])})))},hjA=function(){let A=arguments,Q=Array.isArray(A[0])?A[0]:[{_tag:"SpanLink",span:A[0],attributes:A[1]??{}}];return Xd(f(Wd,(B)=>CA(()=>B.addLinks(Q))))},mjA=F((A)=>h0(A[0]),function(){let A=arguments;return oI(A[0],NH,typeof A[1]==="string"?FE(A[1],A[2]):(Q)=>Object.entries(A[1]).reduce((B,[C,E])=>FE(B,C,E),Q))}),fjA=jIA(wY),Wd=f(DG(),(A)=>{let Q=A.unsafeMap.get(wY.key);return Q!==void 0&&Q._tag==="Span"?n(Q):HB(new g2)}),djA=F((A)=>h0(A[0]),(A,Q,B)=>oI(A,oz,QE({_tag:"SpanLink",span:Q,attributes:B??{}}))),ujA=BigInt(0),pjA=qE((A)=>nQ(A.context,R7)?A._tag==="Span"?pjA(A.parent):x():j(A)),Kd=(A,Q,B)=>{let C=!A.getFiberRef(K7)||B.context&&nQ(B.context,R7),E=A.getFiberRef(rI),I=B.parent?j(B.parent):B.root?x():pjA(eE(E,wY)),Y;if(C)Y=mqA({name:Q,parent:I,context:DQ(B.context??F0(),R7,!0)});else{let G=A.getFiberRef(JC),J=nQ(G,qX),D=nQ(G,z_),U=A.getFiberRef(LX),N=A.getFiberRefs(),Z=sEA(N,NH),X=sEA(N,oz),W=X._tag==="Some"?B.links!==void 0?[...CB(X.value),...B.links??[]]:CB(X.value):B.links??i0();if(Y=J.span(Q,I,B.context??F0(),W,U?D.unsafeCurrentTimeNanos():ujA,B.kind??"internal"),Z._tag==="Some")wCA(Z.value,(K,V)=>Y.attribute(V,K));if(B.attributes!==void 0)Object.entries(B.attributes).forEach(([K,V])=>Y.attribute(K,V))}if(typeof B.captureStackTrace==="function")lP.set(Y,B.captureStackTrace);return Y},cjA=(A,Q)=>{return Q=zJ(Q),TQ((B)=>n(Kd(B,A,Q)))},ljA=nJ(NH),ijA=nJ(oz),Uw=(A,Q,B,C)=>CA(()=>{if(A.status._tag==="Ended")return;if(Df(Q)&&lP.has(A))A.attribute("code.stacktrace",lP.get(A)());A.end(C?B.unsafeCurrentTimeNanos():ujA,Q)}),Gd=(A,...Q)=>{let B=zJ(Q.length===1?void 0:Q[0]),C=Q[Q.length-1];return TQ((E)=>{let I=Kd(E,A,B),Y=E.getFiberRef(LX),G=nQ(E.getFiberRef(JC),rJ);return S2(C(I),(J)=>Uw(I,J,G,Y))})},Jd=F(2,(A,Q)=>MH(A,wY,Q)),xIA=function(){let A=typeof arguments[0]!=="string",Q=A?arguments[1]:arguments[0],B=zJ(A?arguments[2]:arguments[1]);if(A){let C=arguments[0];return Gd(Q,B,(E)=>Jd(C,E))}return(C)=>Gd(Q,B,(E)=>Jd(C,E))},njA=(A)=>function(){let Q=A.captureStackTrace??!1;if(A.captureStackTrace!==!1){let B=Error.stackTraceLimit;Error.stackTraceLimit=2;let C=new Error;Error.stackTraceLimit=B;let E=!1;Q=()=>{if(E!==!1)return E;if(C.stack)return E=C.stack.trim().split(`
`).slice(2).join(`
`).trim(),E}}return qA(()=>{let B=typeof A.options==="function"?A.options.apply(null,arguments):A.options;return xIA(qA(()=>CC(()=>A.body.apply(this,arguments))),B.name,{...B,captureStackTrace:Q})})},ojA=(A)=>A==null?HB(new g2):n(A),rjA=(A)=>MU(GA(A,j),(Q)=>Gf(Q)?W5:HB(Q));var ajA="Sequential",sjA="Parallel",_yQ="ParallelN",xX={_tag:ajA},tjA={_tag:sjA},ejA=(A)=>({_tag:_yQ,parallelism:A}),SIA=(A)=>A._tag===ajA,gIA=(A)=>A._tag===sjA;var K5=xX,Md=tjA,$d=ejA;var v7=__;var y7=Id;var Ld="effect/FiberStatus",$H=Symbol.for(Ld),wd="Done",vIA="Running",yIA="Suspended",jyQ=LQ(`${Ld}-${wd}`);class AxA{[$H]=$H;_tag=wd;[TA](){return jyQ}[PA](A){return Od(A)&&A._tag===wd}}class QxA{runtimeFlags;[$H]=$H;_tag=vIA;constructor(A){this.runtimeFlags=A}[TA](){return H(QA(Ld),FA(QA(this._tag)),FA(QA(this.runtimeFlags)),rA(this))}[PA](A){return Od(A)&&A._tag===vIA&&this.runtimeFlags===A.runtimeFlags}}class BxA{runtimeFlags;blockingOn;[$H]=$H;_tag=yIA;constructor(A,Q){this.runtimeFlags=A,this.blockingOn=Q}[TA](){return H(QA(Ld),FA(QA(this._tag)),FA(QA(this.runtimeFlags)),FA(QA(this.blockingOn)),rA(this))}[PA](A){return Od(A)&&A._tag===yIA&&this.runtimeFlags===A.runtimeFlags&&JA(this.blockingOn,A.blockingOn)}}var CxA=new AxA,ExA=(A)=>new QxA(A),IxA=(A,Q)=>new BxA(A,Q),Od=(A)=>o(A,$H),YxA=(A)=>A._tag===wd,GxA=(A)=>A._tag===vIA,JxA=(A)=>A._tag===yIA;var DxA=CxA,kIA=ExA,UxA=IxA;var d_=YxA,NxA=GxA,bIA=JxA;var SyQ=Symbol.for("effect/Micro"),qd=Symbol.for("effect/Micro/MicroExit");var ZxA=Symbol.for("effect/Micro/MicroCause");var gyQ={_E:s};class fIA extends globalThis.Error{_tag;traces;[ZxA];constructor(A,Q,B){let C=`MicroCause.${A}`,E,I,Y;if(Q instanceof globalThis.Error){E=`(${C}) ${Q.name}`,I=Q.message;let G=I.split(`
`).length;Y=Q.stack?`(${C}) ${Q.stack.split(`
`).slice(0,G+3).join(`
`)}`:`${E}: ${I}`}else E=C,I=IU(Q,0),Y=`${E}: ${I}`;if(B.length>0)Y+=`
    ${B.join(`
    `)}`;super(I);this._tag=A,this.traces=B,this[ZxA]=gyQ,this.name=E,this.stack=Y}pipe(){return e(this,arguments)}toString(){return this.stack}[sA](){return this.stack}}class HxA extends fIA{defect;constructor(A,Q=[]){super("Die",A,Q);this.defect=A}}var vyQ=(A,Q=[])=>new HxA(A,Q);class WxA extends fIA{constructor(A=[]){super("Interrupt","interrupted",A)}}var yyQ=(A=[])=>new WxA(A);var kyQ=(A)=>A._tag==="Interrupt";var XxA=Symbol.for("effect/Micro/MicroFiber"),byQ={_A:s,_E:s};class KxA{context;interruptible;[XxA];_stack=[];_observers=[];_exit;_children;currentOpCount=0;constructor(A,Q=!0){this.context=A,this.interruptible=Q,this[XxA]=byQ}getRef(A){return NOA(this.context,A)}addObserver(A){if(this._exit)return A(this._exit),l0;return this._observers.push(A),()=>{let Q=this._observers.indexOf(A);if(Q>=0)this._observers.splice(Q,1)}}_interrupted=!1;unsafeInterrupt(){if(this._exit)return;if(this._interrupted=!0,this.interruptible)this.evaluate(lIA)}unsafePoll(){return this._exit}evaluate(A){if(this._exit)return;else if(this._yielded!==void 0){let C=this._yielded;this._yielded=void 0,C()}let Q=this.runLoop(A);if(Q===Td)return;let B=FxA.interruptChildren&&FxA.interruptChildren(this);if(B!==void 0)return this.evaluate(_d(B,()=>Q));this._exit=Q;for(let C=0;C<this._observers.length;C++)this._observers[C](Q);this._observers.length=0}runLoop(A){let Q=!1,B=A;this.currentOpCount=0;try{while(!0){if(this.currentOpCount++,!Q&&this.getRef(xd).shouldYield(this)){Q=!0;let C=B;B=_d(uyQ,()=>C)}if(B=B[hIA](this),B===Td){let C=this._yielded;if(qd in C)return this._yielded=void 0,C;return Td}}}catch(C){if(!o(B,hIA))return mIA(`MicroFiber.runLoop: Not a valid effect: ${String(B)}`);return mIA(C)}}getCont(A){while(!0){let Q=this._stack.pop();if(!Q)return;let B=Q[Pd]&&Q[Pd](this);if(B)return{[A]:B};if(Q[A])return Q}}_yielded=void 0;yieldWith(A){return this._yielded=A,Td}children(){return this._children??=new Set}}var FxA=xA("effect/Micro/fiberMiddleware",()=>({interruptChildren:void 0}));var VxA=Symbol.for("effect/Micro/identifier"),NG=Symbol.for("effect/Micro/args"),hIA=Symbol.for("effect/Micro/evaluate"),Xw=Symbol.for("effect/Micro/successCont"),Zw=Symbol.for("effect/Micro/failureCont"),Pd=Symbol.for("effect/Micro/ensureCont"),Td=Symbol.for("effect/Micro/Yield"),hyQ={_A:s,_E:s,_R:s},myQ={...AIA,_op:"Micro",[SyQ]:hyQ,pipe(){return e(this,arguments)},[Symbol.iterator](){return new zV(new K8(this))},toJSON(){return{_id:"Micro",op:this[VxA],...NG in this?{args:this[NG]}:void 0}},toString(){return PQ(this)},[sA](){return PQ(this)}};function fyQ(A){return mIA("Micro.evaluate: Not implemented")}var jd=(A)=>({...myQ,[VxA]:A.op,[hIA]:A.eval??fyQ,[Xw]:A.contA,[Zw]:A.contE,[Pd]:A.ensure}),dIA=(A)=>{let Q=jd(A);return function(){let B=Object.create(Q);return B[NG]=A.single===!1?arguments:arguments[0],B}},MxA=(A)=>{let Q={...jd(A),[qd]:qd,_tag:A.op,get[A.prop](){return this[NG]},toJSON(){return{_id:"MicroExit",_tag:A.op,[A.prop]:this[NG]}},[PA](B){return lyQ(B)&&B._tag===A.op&&JA(this[NG],B[NG])},[TA](){return rA(this,FA(LQ(A.op))(QA(this[NG])))}};return function(B){let C=Object.create(Q);return C[NG]=B,C[Xw]=void 0,C[Zw]=void 0,C[Pd]=void 0,C}},uIA=MxA({op:"Success",prop:"value",eval(A){let Q=A.getCont(Xw);return Q?Q[Xw](this[NG],A):A.yieldWith(this)}}),$xA=MxA({op:"Failure",prop:"cause",eval(A){let Q=A.getCont(Zw);while(kyQ(this[NG])&&Q&&A.interruptible)Q=A.getCont(Zw);return Q?Q[Zw](this[NG],A):A.yieldWith(this)}});var dyQ=dIA({op:"Yield",eval(A){let Q=!1;return A.getRef(xd).scheduleTask(()=>{if(Q)return;A.evaluate(iyQ)},this[NG]??0),A.yieldWith(()=>{Q=!0})}}),uyQ=dyQ(0);var pyQ=uIA(void 0);var pIA=dIA({op:"WithMicroFiber",eval(A){return this[NG](A)}});var _d=F(2,(A,Q)=>{let B=Object.create(cyQ);return B[NG]=A,B[Xw]=Q,B}),cyQ=jd({op:"OnSuccess",eval(A){return A._stack.push(this),this[NG]}});var lyQ=(A)=>o(A,qd),zxA=uIA,cIA=$xA,lIA=cIA(yyQ());var mIA=(A)=>cIA(vyQ(A));var iyQ=zxA(void 0);var nyQ="setImmediate"in globalThis?globalThis.setImmediate:(A)=>setTimeout(A,0);class iIA{tasks=[];running=!1;scheduleTask(A,Q){if(this.tasks.push(A),!this.running)this.running=!0,nyQ(this.afterScheduled)}afterScheduled=()=>{this.running=!1,this.runTasks()};runTasks(){let A=this.tasks;this.tasks=[];for(let Q=0,B=A.length;Q<B;Q++)A[Q]()}shouldYield(A){return A.currentOpCount>=A.getRef(LxA)}flush(){while(this.tasks.length>0)this.runTasks()}}var oyQ=F(2,(A,Q)=>pIA((B)=>{let C=B.context;return B.context=Q(C),syQ(A,()=>{return B.context=C,pyQ})}));var wxA=F(2,(A,Q)=>oyQ(A,E0(Q)));class LxA extends YG()("effect/Micro/currentMaxOpsBeforeYield",{defaultValue:()=>2048}){}class xd extends YG()("effect/Micro/currentScheduler",{defaultValue:()=>new iIA}){}var ryQ=F(2,(A,Q)=>{let B=Object.create(ayQ);return B[NG]=A,B[Xw]=Q.onSuccess,B[Zw]=Q.onFailure,B}),ayQ=jd({op:"OnSuccessAndFailure",eval(A){return A._stack.push(this),this[NG]}});var syQ=F(2,(A,Q)=>eyQ((B)=>ryQ(B(A),{onFailure:(C)=>_d(Q(cIA(C)),()=>$xA(C)),onSuccess:(C)=>_d(Q(zxA(C)),()=>uIA(C))})));var OxA=dIA({op:"SetInterruptible",ensure(A){if(A.interruptible=this[NG],A._interrupted&&A.interruptible)return()=>lIA}}),tyQ=(A)=>pIA((Q)=>{if(Q.interruptible)return A;if(Q.interruptible=!0,Q._stack.push(OxA(!1)),Q._interrupted)return lIA;return A}),eyQ=(A)=>pIA((Q)=>{if(!Q.interruptible)return A(s);return Q.interruptible=!1,Q._stack.push(OxA(!0)),A(tyQ)});var RxA=(A,Q)=>{let B=new KxA(xd.context(Q?.scheduler??new iIA));if(B.evaluate(A),Q?.signal)if(Q.signal.aborted)B.unsafeInterrupt();else{let C=()=>B.unsafeInterrupt();Q.signal.addEventListener("abort",C,{once:!0}),B.addObserver(()=>Q.signal.removeEventListener("abort",C))}return B};class nIA{buckets=[];scheduleTask(A,Q){let B=this.buckets.length,C=void 0,E=0;for(;E<B;E++)if(this.buckets[E][0]<=Q)C=this.buckets[E];else break;if(C&&C[0]===Q)C[1].push(A);else if(E===B)this.buckets.push([Q,[A]]);else this.buckets.splice(E,0,[Q,[A]])}}class qxA{maxNextTickBeforeTimer;running=!1;tasks=new nIA;constructor(A){this.maxNextTickBeforeTimer=A}starveInternal(A){let Q=this.tasks.buckets;this.tasks.buckets=[];for(let[B,C]of Q)for(let E=0;E<C.length;E++)C[E]();if(this.tasks.buckets.length===0)this.running=!1;else this.starve(A)}starve(A=0){if(A>=this.maxNextTickBeforeTimer)setTimeout(()=>this.starveInternal(0),0);else Promise.resolve(void 0).then(()=>this.starveInternal(A+1))}shouldYield(A){return A.currentOpCount>A.getFiberRef(cz)?A.getFiberRef(m8):!1}scheduleTask(A,Q){if(this.tasks.scheduleTask(A,Q),!this.running)this.running=!0,this.starve()}}var PxA=xA(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new qxA(2048));class k7{tasks=new nIA;deferred=!1;scheduleTask(A,Q){if(this.deferred)PxA.scheduleTask(A,Q);else this.tasks.scheduleTask(A,Q)}shouldYield(A){return A.currentOpCount>A.getFiberRef(cz)?A.getFiberRef(m8):!1}flush(){while(this.tasks.buckets.length>0){let A=this.tasks.buckets;this.tasks.buckets=[];for(let[Q,B]of A)for(let C=0;C<B.length;C++)B[C]()}this.deferred=!0}}var l8=xA(Symbol.for("effect/FiberRef/currentScheduler"),()=>_E(PxA)),_xA=F(2,(A,Q)=>iC(A,l8,Q));var Sd=xA(Symbol.for("effect/FiberRef/currentRequestMap"),()=>_E(new Map));var oIA=(A,Q,B,C)=>{switch(A){case void 0:return Q();case"unbounded":return B();case"inherit":return nI(nz,(E)=>E==="unbounded"?B():E>1?C(E):Q());default:return A>1?C(A):Q()}},u_=(A,Q,B)=>{switch(A){case void 0:return Q();case"unbounded":return B();case"inherit":return nI(nz,(C)=>C==="unbounded"||C>1?B():Q());default:return A>1?B():Q()}};var rIA="InterruptSignal",aIA="Stateful",sIA="Resume",tIA="YieldNow",gd=(A)=>({_tag:"InterruptSignal",cause:A}),Fw=(A)=>({_tag:"Stateful",onFiber:A}),h7=(A)=>({_tag:"Resume",effect:A}),jxA=()=>({_tag:"YieldNow"});var BkQ="effect/FiberScope",vd=Symbol.for(BkQ);class SxA{[vd]=vd;fiberId=TC;roots=new Set;add(A,Q){this.roots.add(Q),Q.addObserver(()=>{this.roots.delete(Q)})}}class gxA{fiberId;parent;[vd]=vd;constructor(A,Q){this.fiberId=A,this.parent=Q}add(A,Q){this.parent.tell(Fw((B)=>{B.addChild(Q),Q.addObserver(()=>{B.removeChild(Q)})}))}}var vxA=(A)=>{return new gxA(A.id(),A)},i8=xA(Symbol.for("effect/FiberScope/Global"),()=>new SxA);var CkQ="effect/Fiber",V5=Symbol.for(CkQ),Hw={_E:(A)=>A,_A:(A)=>A},kd={[V5]:Hw,pipe(){return e(this,arguments)}},EkQ="effect/Fiber",p_=Symbol.for(EkQ),AYA=H(tQA(xI,xI),R2((A)=>[A.id().startTimeMillis,A.id().id])),yxA=(A)=>o(A,V5),QYA=(A)=>(p_ in A),Ww=(A)=>A.await,kxA=(A)=>A.children,m7=(A)=>{return{...gG,commit(){return lG(this)},...kd,id:()=>TC,await:n(A),children:n([]),inheritAll:iA,poll:n(j(A)),interruptAsFork:()=>iA}},bd=(A)=>GA(A.status,(Q)=>({id:A.id(),status:Q})),bxA=(A)=>gI(A,bd),hxA=(A)=>m7(f0(A)),BYA=(A)=>m7(iB(A)),mxA=(A)=>GA(IC(A),m7),fxA=(A)=>A.id(),hd=(A)=>A.inheritAll,dxA=(A)=>m7(I5(A)),uxA=(A)=>f(ND,(Q)=>H(A,CYA(Q))),CYA=F(2,(A,Q)=>H(iI(A,c_(Q)),OQ(H(A,iI(Ww))))),c_=F(2,(A,Q)=>A.interruptAsFork(Q)),lG=(A)=>wX(MY(A.await),A.inheritAll),yd=F(2,(A,Q)=>EYA(A,(B)=>CA(()=>Q(B)))),EYA=F(2,(A,Q)=>{return{...gG,commit(){return lG(this)},...kd,id:()=>A.id(),await:f(A.await,Hf(Q)),children:A.children,inheritAll:A.inheritAll,poll:f(A.poll,(C)=>{switch(C._tag){case"None":return n(x());case"Some":return H(Hf(C.value,Q),GA(j))}}),interruptAsFork:(C)=>A.interruptAsFork(C)}}),pxA=F(2,(A,Q)=>GA(A.await,CE({onFailure:(B)=>BYA(B),onSuccess:(B)=>Q(B)}))),cxA=F(2,(A,{onFiber:Q,onRuntimeFiber:B})=>{if(QYA(A))return B(A);return Q(A)}),IkQ={...gG,commit(){return lG(this)},...kd,id:()=>TC,await:DH,children:n([]),inheritAll:DH,poll:n(x()),interruptAsFork:()=>DH},lxA=IkQ,IYA=F(2,(A,Q)=>({...gG,commit(){return lG(this)},...kd,id:()=>Mm(A.id(),Q.id()),await:lJ(A.await,Q.await,(B,C)=>zY(B)?B:C),children:A.children,inheritAll:OQ(Q.inheritAll,A.inheritAll),poll:lJ(A.poll,Q.poll,(B,C)=>{switch(B._tag){case"None":return x();case"Some":return zY(B.value)?B:C}}),interruptAsFork:(B)=>H(iJ(A,B),OQ(H(Q,iJ(B))),m0)})),ixA=F(2,(A,Q)=>IYA(yd(A,wA),yd(Q,$A))),nxA=(A)=>A.poll,YkQ=(A)=>{let Q=A>0?Math.floor:Math.ceil;return{days:Q(A/86400000),hours:Q(A/3600000)%24,minutes:Q(A/60000)%60,seconds:Q(A/1000)%60,milliseconds:Q(A)%1000,microseconds:Q(A*1000)%1000,nanoseconds:Q(A*1e6)%1000}},GkQ=(A)=>{if(d_(A))return"Done";if(NxA(A))return"Running";return`Suspended(${iN(A.runtimeFlags)?"interruptible":"uninterruptible"})`},oxA=(A)=>f(wJ,(Q)=>GA(bd(A),(B)=>{let C=Q-B.id.startTimeMillis,{days:E,hours:I,milliseconds:Y,minutes:G,seconds:J}=YkQ(C),D=(E===0?"":`${E}d`)+(E===0&&I===0?"":`${I}h`)+(E===0&&I===0&&G===0?"":`${G}m`)+(E===0&&I===0&&G===0&&J===0?"":`${J}s`)+`${Y}ms`,U=bIA(B.status)?(()=>{let Z=ZX(B.status.blockingOn);return uN(Z)>0?"waiting on "+Array.from(Z).map((X)=>`${X}`).join(", "):""})():"",N=GkQ(B.status);return`[Fiber](#${B.id.id}) (${D}) ${U}
   Status: ${N}`})),YYA=()=>Array.from(i8.roots),rxA=CA(YYA),axA=(A)=>A.status,GYA=(A)=>m7(hQ(A)),sxA=GYA(void 0);var M5="effect/FiberCurrent",txA=()=>aQ(globalThis[M5]);var JkQ="effect/Logger",Kw=Symbol.for(JkQ),JYA={_Message:(A)=>A,_Output:(A)=>A},iG=(A)=>({[Kw]:JYA,log:A,pipe(){return e(this,arguments)}}),exA=F(2,(A,Q)=>iG((B)=>A.log({...B,message:Q(B.message)}))),fd=F(2,(A,Q)=>iG((B)=>A.log(Q(B)))),ASA=F(2,(A,Q)=>iG((B)=>Q(B.logLevel)?j(A.log(B)):x())),i_=F(2,(A,Q)=>iG((B)=>Q(A.log(B)))),QSA={[Kw]:JYA,log:l0,pipe(){return e(this,arguments)}},dd=(A)=>({[Kw]:JYA,log:({message:Q})=>A(Q),pipe(){return e(this,arguments)}}),BSA=(A)=>{return dd(()=>A)},CSA=(A)=>{return dd(A)},ud=F(2,(A,Q)=>iG((B)=>[A.log(B),Q.log(B)])),ESA=F(2,(A,Q)=>i_(ud(A,Q),(B)=>B[0])),ISA=F(2,(A,Q)=>i_(ud(A,Q),(B)=>B[1])),DkQ=/^[^\s"=]*$/,YSA=(A,Q)=>({annotations:B,cause:C,date:E,fiberId:I,logLevel:Y,message:G,spans:J})=>{let D=(W)=>W.match(DkQ)?W:A(W),U=(W,K)=>`${eEA(W)}=${D(K)}`,N=(W,K)=>" "+U(W,K),Z=U("timestamp",E.toISOString());Z+=N("level",Y.label),Z+=N("fiber",C7(I));let X=vV(G);for(let W=0;W<X.length;W++)Z+=N("message",IU(X[W],Q));if(!pm(C))Z+=N("cause",JD(C,{renderErrorCause:!0}));for(let W of J)Z+=" "+R_(E.getTime())(W);for(let[W,K]of B)Z+=N(W,IU(K,Q));return Z},UkQ=(A)=>`"${A.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`,pd=iG(YSA(UkQ)),cd=iG(YSA(JSON.stringify,0)),n_=iG(({annotations:A,cause:Q,date:B,fiberId:C,logLevel:E,message:I,spans:Y})=>{let G=B.getTime(),J={},D={};if(_z(A)>0)for(let[N,Z]of A)J[N]=l_(Z);if(E7(Y))for(let N of Y)D[N.label]=G-N.startTime;let U=vV(I);return{message:U.length===1?l_(U[0]):U.map(l_),logLevel:E.label,timestamp:B.toISOString(),cause:BH(Q)?void 0:JD(Q,{renderErrorCause:!0}),annotations:J,spans:D,fiberId:C7(C)}}),l_=(A)=>{switch(typeof A){case"bigint":case"function":case"symbol":return String(A);default:return wB(A)}},ld=i_(n_,$q),GSA=(A)=>{return typeof A==="object"&&A!=null&&Kw in A},NkQ=(A,...Q)=>{let B="";for(let C=0;C<Q.length;C++)B+=`\x1B[${Q[C]}m`;return B+A+"\x1B[0m"},ZkQ=(A,...Q)=>A,CZ={bold:"1",red:"31",green:"32",yellow:"33",blue:"34",cyan:"36",white:"37",gray:"90",black:"30",bgBrightRed:"101"},XkQ={None:[],All:[],Trace:[CZ.gray],Debug:[CZ.blue],Info:[CZ.green],Warning:[CZ.yellow],Error:[CZ.red],Fatal:[CZ.bgBrightRed,CZ.black]},FkQ={None:"",All:"",Trace:"color:gray",Debug:"color:blue",Info:"color:green",Warning:"color:orange",Error:"color:red",Fatal:"background-color:red;color:white"},HkQ=(A)=>`${A.getHours().toString().padStart(2,"0")}:${A.getMinutes().toString().padStart(2,"0")}:${A.getSeconds().toString().padStart(2,"0")}.${A.getMilliseconds().toString().padStart(3,"0")}`,JSA=typeof process==="object"&&process!==null&&typeof process.stdout==="object"&&process.stdout!==null,WkQ=JSA&&process.stdout.isTTY===!0,KkQ=JSA||"Deno"in globalThis,DYA=(A)=>{let Q=A?.mode??"auto",C=(Q==="auto"?KkQ?"tty":"browser":Q)==="browser",E=typeof A?.colors==="boolean"?A.colors:WkQ||C,I=A?.formatDate??HkQ;return C?MkQ({colors:E,formatDate:I}):VkQ({colors:E,formatDate:I,stderr:A?.stderr===!0})},VkQ=(A)=>{let Q=typeof process==="object"&&"isBun"in process&&process.isBun===!0,B=A.colors?NkQ:ZkQ;return iG(({annotations:C,cause:E,context:I,date:Y,fiberId:G,logLevel:J,message:D,spans:U})=>{let N=p8(I,JC),Z=nQ(N,y2).unsafe,X=A.stderr===!0?Z.error:Z.log,W=vV(D),K=B(`[${A.formatDate(Y)}]`,CZ.white)+` ${B(J.label,...XkQ[J._tag])} (${C7(G)})`;if(E7(U)){let M=Y.getTime(),z=R_(M);for(let L of U)K+=" "+z(L)}K+=":";let V=0;if(W.length>0){let M=l_(W[0]);if(typeof M==="string")K+=" "+B(M,CZ.bold,CZ.cyan),V++}if(X(K),!Q)Z.group();if(!BH(E))X(JD(E,{renderErrorCause:!0}));if(V<W.length)for(;V<W.length;V++)X(ON(W[V]));if(_z(C)>0)for(let[M,z]of C)X(B(`${M}:`,CZ.bold,CZ.white),ON(z));if(!Q)Z.groupEnd()})},MkQ=(A)=>{let Q=A.colors?"%c":"";return iG(({annotations:B,cause:C,context:E,date:I,fiberId:Y,logLevel:G,message:J,spans:D})=>{let U=p8(E,JC),N=nQ(U,y2).unsafe,Z=vV(J),X=`${Q}[${A.formatDate(I)}]`,W=[];if(A.colors)W.push("color:gray");if(X+=` ${Q}${G.label}${Q} (${C7(Y)})`,A.colors)W.push(FkQ[G._tag],"");if(E7(D)){let V=I.getTime(),M=R_(V);for(let z of D)X+=" "+M(z)}X+=":";let K=0;if(Z.length>0){let V=l_(Z[0]);if(typeof V==="string"){if(X+=` ${Q}${V}`,A.colors)W.push("color:deepskyblue");K++}}if(N.groupCollapsed(X,...W),!BH(C))N.error(JD(C,{renderErrorCause:!0}));if(K<Z.length)for(;K<Z.length;K++)N.log(ON(Z[K]));if(_z(B)>0)for(let[V,M]of B){let z=ON(M);if(A.colors)N.log(`%c${V}:`,"color:gray",z);else N.log(`${V}:`,z)}N.groupEnd()})},id=xA("effect/Logger/prettyLoggerDefault",()=>DYA());var USA="effect/MetricBoundaries",nd=Symbol.for(USA);class NSA{values;[nd]=nd;constructor(A){this.values=A,this._hash=H(LQ(USA),FA(XY(this.values)))}_hash;[TA](){return this._hash}[PA](A){return ZSA(A)&&JA(this.values,A.values)}pipe(){return e(this,arguments)}}var ZSA=(A)=>o(A,nd),UYA=(A)=>{let Q=H(A,CX(dA(Number.POSITIVE_INFINITY)),Gh);return new NSA(Q)};var od=(A)=>H(jq(A.count-1,(Q)=>A.start*Math.pow(A.factor,Q)),tA,UYA);var $kQ="effect/MetricKeyType",td=Symbol.for($kQ),XSA="effect/MetricKeyType/Counter",rd=Symbol.for(XSA),zkQ="effect/MetricKeyType/Frequency",FSA=Symbol.for(zkQ),HSA="effect/MetricKeyType/Gauge",ad=Symbol.for(HSA),WSA="effect/MetricKeyType/Histogram",sd=Symbol.for(WSA),wkQ="effect/MetricKeyType/Summary",KSA=Symbol.for(wkQ),ZYA={_In:(A)=>A,_Out:(A)=>A};class VSA{incremental;bigint;[td]=ZYA;[rd]=rd;constructor(A,Q){this.incremental=A,this.bigint=Q,this._hash=LQ(XSA)}_hash;[TA](){return this._hash}[PA](A){return f7(A)}pipe(){return e(this,arguments)}}var LkQ=LQ(HSA);class MSA{bigint;[td]=ZYA;[ad]=ad;constructor(A){this.bigint=A}[TA](){return LkQ}[PA](A){return ed(A)}pipe(){return e(this,arguments)}}class $SA{boundaries;[td]=ZYA;[sd]=sd;constructor(A){this.boundaries=A,this._hash=H(LQ(WSA),FA(QA(this.boundaries)))}_hash;[TA](){return this._hash}[PA](A){return Au(A)&&JA(this.boundaries,A.boundaries)}pipe(){return e(this,arguments)}}var XYA=(A)=>new VSA(A?.incremental??!1,A?.bigint??!1);var FYA=(A)=>new MSA(A?.bigint??!1),HYA=(A)=>{return new $SA(A)};var f7=(A)=>o(A,rd),WYA=(A)=>o(A,FSA),ed=(A)=>o(A,ad),Au=(A)=>o(A,sd),KYA=(A)=>o(A,KSA);var TkQ="effect/MetricKey",VYA=Symbol.for(TkQ),qkQ={_Type:(A)=>A},PkQ=WJ(JA);class o_{name;keyType;description;tags;[VYA]=qkQ;constructor(A,Q,B,C=[]){this.name=A,this.keyType=Q,this.description=B,this.tags=C,this._hash=H(LQ(this.name+this.description),FA(QA(this.keyType)),FA(XY(this.tags)))}_hash;[TA](){return this._hash}[PA](A){return zSA(A)&&this.name===A.name&&JA(this.keyType,A.keyType)&&JA(this.description,A.description)&&PkQ(this.tags,A.tags)}pipe(){return e(this,arguments)}}var zSA=(A)=>o(A,VYA),MYA=(A,Q)=>new o_(A,XYA(Q),aQ(Q?.description));var $YA=(A,Q)=>new o_(A,FYA(Q),aQ(Q?.description)),zYA=(A,Q,B)=>new o_(A,HYA(Q),aQ(B));var wYA=F(2,(A,Q)=>Q.length===0?A:new o_(A.name,A.keyType,A.description,PN(A.tags,Q)));var _kQ="effect/MetricState",Vw=Symbol.for(_kQ),LSA="effect/MetricState/Counter",Bu=Symbol.for(LSA),OSA="effect/MetricState/Frequency",Cu=Symbol.for(OSA),RSA="effect/MetricState/Gauge",Eu=Symbol.for(RSA),TSA="effect/MetricState/Histogram",Iu=Symbol.for(TSA),qSA="effect/MetricState/Summary",Yu=Symbol.for(qSA),r_={_A:(A)=>A};class PSA{count;[Vw]=r_;[Bu]=Bu;constructor(A){this.count=A}[TA](){return H(QA(LSA),FA(QA(this.count)),rA(this))}[PA](A){return gSA(A)&&this.count===A.count}pipe(){return e(this,arguments)}}var jkQ=WJ(JA);class _SA{occurrences;[Vw]=r_;[Cu]=Cu;constructor(A){this.occurrences=A}_hash;[TA](){return H(LQ(OSA),FA(XY(aA(this.occurrences.entries()))),rA(this))}[PA](A){return vSA(A)&&jkQ(aA(this.occurrences.entries()),aA(A.occurrences.entries()))}pipe(){return e(this,arguments)}}class jSA{value;[Vw]=r_;[Eu]=Eu;constructor(A){this.value=A}[TA](){return H(QA(RSA),FA(QA(this.value)),rA(this))}[PA](A){return ySA(A)&&this.value===A.value}pipe(){return e(this,arguments)}}class xSA{buckets;count;min;max;sum;[Vw]=r_;[Iu]=Iu;constructor(A,Q,B,C,E){this.buckets=A,this.count=Q,this.min=B,this.max=C,this.sum=E}[TA](){return H(QA(TSA),FA(QA(this.buckets)),FA(QA(this.count)),FA(QA(this.min)),FA(QA(this.max)),FA(QA(this.sum)),rA(this))}[PA](A){return kSA(A)&&JA(this.buckets,A.buckets)&&this.count===A.count&&this.min===A.min&&this.max===A.max&&this.sum===A.sum}pipe(){return e(this,arguments)}}class SSA{error;quantiles;count;min;max;sum;[Vw]=r_;[Yu]=Yu;constructor(A,Q,B,C,E,I){this.error=A,this.quantiles=Q,this.count=B,this.min=C,this.max=E,this.sum=I}[TA](){return H(QA(qSA),FA(QA(this.error)),FA(QA(this.quantiles)),FA(QA(this.count)),FA(QA(this.min)),FA(QA(this.max)),FA(QA(this.sum)),rA(this))}[PA](A){return bSA(A)&&this.error===A.error&&JA(this.quantiles,A.quantiles)&&this.count===A.count&&this.min===A.min&&this.max===A.max&&this.sum===A.sum}pipe(){return e(this,arguments)}}var LYA=(A)=>new PSA(A),OYA=(A)=>{return new _SA(A)},RYA=(A)=>new jSA(A),TYA=(A)=>new xSA(A.buckets,A.count,A.min,A.max,A.sum),qYA=(A)=>new SSA(A.error,A.quantiles,A.count,A.min,A.max,A.sum);var gSA=(A)=>o(A,Bu),vSA=(A)=>o(A,Cu),ySA=(A)=>o(A,Eu),kSA=(A)=>o(A,Iu),bSA=(A)=>o(A,Yu);var xkQ="effect/MetricHook",dSA=Symbol.for(xkQ),SkQ={_In:(A)=>A,_Out:(A)=>A},Mw=(A)=>({[dSA]:SkQ,pipe(){return e(this,arguments)},...A});var mSA=BigInt(0),PYA=(A)=>{let Q=A.keyType.bigint?mSA:0,B=A.keyType.incremental?A.keyType.bigint?(E)=>E>=mSA:(E)=>E>=0:(E)=>!0,C=(E)=>{if(B(E))Q=Q+E};return Mw({get:()=>LYA(Q),update:C,modify:C})},_YA=(A)=>{let Q=new Map;for(let C of A.keyType.preregisteredWords)Q.set(C,0);let B=(C)=>{let E=Q.get(C)??0;Q.set(C,E+1)};return Mw({get:()=>OYA(Q),update:B,modify:B})},jYA=(A,Q)=>{let B=Q;return Mw({get:()=>RYA(B),update:(C)=>{B=C},modify:(C)=>{B=B+C}})},xYA=(A)=>{let Q=A.keyType.boundaries.values,B=Q.length,C=new Uint32Array(B+1),E=new Float32Array(B),I=0,Y=0,G=Number.MAX_VALUE,J=Number.MIN_VALUE;H(Q,EG(xI),n0((N,Z)=>{E[Z]=N}));let D=(N)=>{let Z=0,X=B;while(Z!==X){let W=Math.floor(Z+(X-Z)/2),K=E[W];if(N<=K)X=W;else Z=W;if(X===Z+1)if(N<=E[Z])X=Z;else Z=X}if(C[Z]=C[Z]+1,I=I+1,Y=Y+N,N<G)G=N;if(N>J)J=N},U=()=>{let N=RF(B),Z=0;for(let X=0;X<B;X++){let W=E[X],K=C[X];Z=Z+K,N[X]=[W,Z]}return N};return Mw({get:()=>TYA({buckets:U(),count:I,min:G,max:J,sum:Y}),update:D,modify:D})},SYA=(A)=>{let{error:Q,maxAge:B,maxSize:C,quantiles:E}=A.keyType,I=H(E,EG(xI)),Y=RF(C),G=0,J=0,D=0,U=Number.MAX_VALUE,N=Number.MIN_VALUE,Z=(W)=>{let K=[],V=0;while(V!==C-1){let M=Y[V];if(M!=null){let[z,L]=M,O=lC(W-z);if(nV(O,GD)&&WP(O,B))K.push(L)}V=V+1}return gkQ(Q,I,EG(K,xI))},X=(W,K)=>{if(C>0){G=G+1;let V=G%C;Y[V]=[K,W]}if(J=J+1,D=D+W,W<U)U=W;if(W>N)N=W};return Mw({get:()=>qYA({error:Q,quantiles:Z(Date.now()),count:J,min:U,max:N,sum:D}),update:([W,K])=>X(W,K),modify:([W,K])=>X(W,K)})},gkQ=(A,Q,B)=>{let C=B.length;if(!oB(Q))return i0();let E=Q[0],I=Q.slice(1),Y=fSA(A,C,x(),0,E,B),G=$0(Y);return I.forEach((J)=>{G.push(fSA(A,C,Y.value,Y.consumed,J,Y.rest))}),n0(G,(J)=>[J.quantile,J.value])},fSA=(A,Q,B,C,E,I)=>{let Y=A,G=Q,J=B,D=C,U=E,N=I,Z=A,X=Q,W=B,K=C,V=E,M=I;while(!0){if(!oB(N))return{quantile:U,value:x(),consumed:D,rest:[]};if(U===1)return{quantile:U,value:j(xq(N)),consumed:D+N.length,rest:[]};let z=jI(N),L=Sq(N,(q)=>q===z),O=U*G,R=Y/2*O,_=D+L[0].length,S=Math.abs(_-O);if(_<O-R){Z=Y,X=G,W=UU(N),K=_,V=U,M=L[1],Y=Z,G=X,J=W,D=K,U=V,N=M;continue}if(_>O+R){let q=cA(J)?j(z):J;return{quantile:U,value:q,consumed:D,rest:N}}switch(J._tag){case"None":{Z=Y,X=G,W=UU(N),K=_,V=U,M=L[1],Y=Z,G=X,J=W,D=K,U=V,N=M;continue}case"Some":{let q=Math.abs(O-J.value);if(S<q){Z=Y,X=G,W=UU(N),K=_,V=U,M=L[1],Y=Z,G=X,J=W,D=K,U=V,N=M;continue}return{quantile:U,value:j(J.value),consumed:D,rest:N}}}}throw new Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")};var vkQ="effect/MetricPair",pSA=Symbol.for(vkQ),ykQ={_Type:(A)=>A};var gYA=(A,Q)=>{return{[pSA]:ykQ,metricKey:A,metricState:Q,pipe(){return e(this,arguments)}}};var kkQ="effect/MetricRegistry",vYA=Symbol.for(kkQ);class lSA{[vYA]=vYA;map=jE();snapshot(){let A=[];for(let[Q,B]of this.map)A.push(gYA(Q,B.get()));return A}get(A){let Q=H(this.map,tB(A),gB);if(Q==null){if(f7(A.keyType))return this.getCounter(A);if(ed(A.keyType))return this.getGauge(A);if(WYA(A.keyType))return this.getFrequency(A);if(Au(A.keyType))return this.getHistogram(A);if(KYA(A.keyType))return this.getSummary(A);throw new Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}else return Q}getCounter(A){let Q=H(this.map,tB(A),gB);if(Q==null){let B=PYA(A);if(!H(this.map,mE(A)))H(this.map,S0(A,B));Q=B}return Q}getFrequency(A){let Q=H(this.map,tB(A),gB);if(Q==null){let B=_YA(A);if(!H(this.map,mE(A)))H(this.map,S0(A,B));Q=B}return Q}getGauge(A){let Q=H(this.map,tB(A),gB);if(Q==null){let B=jYA(A,A.keyType.bigint?BigInt(0):0);if(!H(this.map,mE(A)))H(this.map,S0(A,B));Q=B}return Q}getHistogram(A){let Q=H(this.map,tB(A),gB);if(Q==null){let B=xYA(A);if(!H(this.map,mE(A)))H(this.map,S0(A,B));Q=B}return Q}getSummary(A){let Q=H(this.map,tB(A),gB);if(Q==null){let B=SYA(A);if(!H(this.map,mE(A)))H(this.map,S0(A,B));Q=B}return Q}}var yYA=()=>{return new lSA};var mkQ="effect/Metric",nSA=Symbol.for(mkQ),fkQ={_Type:(A)=>A,_In:(A)=>A,_Out:(A)=>A},kYA=xA(Symbol.for("effect/Metric/globalMetricRegistry"),()=>yYA()),Gu=function(A,Q,B,C){let E=Object.assign((I)=>YC(I,(Y)=>a_(E,Y)),{[nSA]:fkQ,keyType:A,unsafeUpdate:Q,unsafeValue:B,unsafeModify:C,register(){return this.unsafeValue([]),this},pipe(){return e(this,arguments)}});return E};var d7=(A,Q)=>Ju(MYA(A,Q));var Ju=(A)=>{let Q,B=new WeakMap,C=(E)=>{if(E.length===0){if(Q!==void 0)return Q;return Q=kYA.get(A),Q}let I=B.get(E);if(I!==void 0)return I;return I=kYA.get(wYA(A,E)),B.set(E,I),I};return Gu(A.keyType,(E,I)=>C(I).update(E),(E)=>C(E).get(),(E,I)=>C(I).modify(E))},oSA=(A,Q)=>Ju($YA(A,Q)),bYA=(A,Q,B)=>Ju(zYA(A,Q,B)),rSA=(A)=>f7(A.keyType)?a_(A,A.keyType.bigint?BigInt(1):1):hYA(A,A.keyType.bigint?BigInt(1):1),aSA=F(2,(A,Q)=>f7(A.keyType)?a_(A,Q):hYA(A,Q));var hYA=F(2,(A,Q)=>nI(rN,(B)=>CA(()=>A.unsafeModify(Q,B))));var Du=F(3,(A,Q,B)=>sSA(A,[F5(Q,B)]));var sSA=F(2,(A,Q)=>{return Gu(A.keyType,(B,C)=>A.unsafeUpdate(B,PN(Q,C)),(B)=>A.unsafeValue(PN(Q,B)),(B,C)=>A.unsafeModify(B,PN(Q,C)))});var a_=F(2,(A,Q)=>nI(rN,(B)=>CA(()=>A.unsafeUpdate(Q,B))));var dkQ="effect/Request",fYA=Symbol.for(dkQ),ukQ={_E:(A)=>A,_A:(A)=>A},pkQ={...M8,[fYA]:ukQ},tSA=(A)=>o(A,fYA);var eSA=function(){function A(Q){if(Q)Object.assign(this,Q)}return A.prototype=pkQ,A}();var Uu=F(2,(A,Q)=>nI(Sd,(B)=>CA(()=>{if(B.has(A)){let C=B.get(A);if(!C.state.completed)C.state.completed=!0,OX(C.result,Q)}})));class s_{count=0;observers=new Set;interrupted=!1;addObserver(A){this.observers.add(A)}removeObserver(A){this.observers.delete(A)}increment(){this.count++,this.observers.forEach((A)=>A(this.count))}decrement(){this.count--,this.observers.forEach((A)=>A(this.count))}}var $5={Forward:0,Backward:1};class t_{self;stack;direction;count=0;constructor(A,Q,B){this.self=A,this.stack=Q,this.direction=B}clone(){return new t_(this.self,this.stack.slice(),this.direction)}reversed(){return new t_(this.self,this.stack.slice(),this.direction===$5.Forward?$5.Backward:$5.Forward)}next(){let A=this.entry;if(this.count++,this.direction===$5.Forward)this.moveNext();else this.movePrev();switch(A._tag){case"None":return{done:!0,value:this.count};case"Some":return{done:!1,value:A.value}}}get key(){if(this.stack.length>0)return j(this.stack[this.stack.length-1].key);return x()}get value(){if(this.stack.length>0)return j(this.stack[this.stack.length-1].value);return x()}get entry(){return RQ(c$(this.stack),(A)=>[A.key,A.value])}get index(){let A=0,Q=this.stack;if(Q.length===0){let B=this.self._root;if(B!=null)return B.count;return 0}else if(Q[Q.length-1].left!=null)A=Q[Q.length-1].left.count;for(let B=Q.length-2;B>=0;--B)if(Q[B+1]===Q[B].right){if(++A,Q[B].left!=null)A+=Q[B].left.count}return A}moveNext(){let A=this.stack;if(A.length===0)return;let Q=A[A.length-1];if(Q.right!=null){Q=Q.right;while(Q!=null)A.push(Q),Q=Q.left}else{A.pop();while(A.length>0&&A[A.length-1].right===Q)Q=A[A.length-1],A.pop()}}get hasNext(){let A=this.stack;if(A.length===0)return!1;if(A[A.length-1].right!=null)return!0;for(let Q=A.length-1;Q>0;--Q)if(A[Q-1].left===A[Q])return!0;return!1}movePrev(){let A=this.stack;if(A.length===0)return;let Q=A[A.length-1];if(Q!=null&&Q.left!=null){Q=Q.left;while(Q!=null)A.push(Q),Q=Q.right}else{A.pop();while(A.length>0&&A[A.length-1].left===Q)Q=A[A.length-1],A.pop()}}get hasPrev(){let A=this.stack;if(A.length===0)return!1;if(A[A.length-1].left!=null)return!0;for(let Q=A.length-1;Q>0;--Q)if(A[Q-1].right===A[Q])return!0;return!1}}var EE={Red:0,Black:1};var e_=({count:A,key:Q,left:B,right:C,value:E},I)=>({color:I,key:Q,value:E,left:B,right:C,count:A}),n8=(A)=>{A.count=1+(A.left?.count??0)+(A.right?.count??0)};var AgA="effect/RedBlackTree",dYA=Symbol.for(AgA),nkQ={_Key:(A)=>A,_Value:(A)=>A},okQ={[dYA]:nkQ,[TA](){let A=QA(AgA);for(let Q of this)A^=H(QA(Q[0]),FA(QA(Q[1])));return rA(this,A)},[PA](A){if(BgA(A)){if((this._root?.count??0)!==(A._root?.count??0))return!1;let Q=Array.from(A);return Array.from(this).every((B,C)=>{let E=Q[C];return JA(B[0],E[0])&&JA(B[1],E[1])})}return!1},[Symbol.iterator](){let A=[],Q=this._root;while(Q!=null)A.push(Q),Q=Q.left;return new t_(this,A,$5.Forward)},toString(){return PQ(this.toJSON())},toJSON(){return{_id:"RedBlackTree",values:Array.from(this).map(wB)}},[sA](){return this.toJSON()},pipe(){return e(this,arguments)}},QgA=(A,Q)=>{let B=Object.create(okQ);return B._ord=A,B._root=Q,B},BgA=(A)=>o(A,dYA),CgA=(A)=>QgA(A,void 0),EgA=F(2,(A,Q)=>{let B=CgA(Q);for(let[C,E]of A)B=GgA(B,C,E);return B});var IgA=F(2,(A,Q)=>{let{_ord:B,_root:C}=A;while(C!==void 0){let E=B(Q,C.key);if(JA(Q,C.key))return j(C.value);if(E<=0)C=C.left;else C=C.right}return x()});var YgA=F(2,(A,Q)=>XA(IgA(A,Q))),GgA=F(3,(A,Q,B)=>{let{_ord:C,_root:E}=A,I=[],Y=[];while(E!=null){let G=C(Q,E.key);if(I.push(E),Y.push(G),G<=0)E=E.left;else E=E.right}I.push({color:EE.Red,key:Q,value:B,left:void 0,right:void 0,count:1});for(let G=I.length-2;G>=0;--G){let J=I[G];if(Y[G]<=0)I[G]={color:J.color,key:J.key,value:J.value,left:I[G+1],right:J.right,count:J.count+1};else I[G]={color:J.color,key:J.key,value:J.value,left:J.left,right:I[G+1],count:J.count+1}}for(let G=I.length-1;G>1;--G){let J=I[G-1],D=I[G];if(J.color===EE.Black||D.color===EE.Black)break;let U=I[G-2];if(U.left===J)if(J.left===D){let N=U.right;if(N&&N.color===EE.Red)J.color=EE.Black,U.right=e_(N,EE.Black),U.color=EE.Red,G-=1;else{if(U.color=EE.Red,U.left=J.right,J.color=EE.Black,J.right=U,I[G-2]=J,I[G-1]=D,n8(U),n8(J),G>=3){let Z=I[G-3];if(Z.left===U)Z.left=J;else Z.right=J}break}}else{let N=U.right;if(N&&N.color===EE.Red)J.color=EE.Black,U.right=e_(N,EE.Black),U.color=EE.Red,G-=1;else{if(J.right=D.left,U.color=EE.Red,U.left=D.right,D.color=EE.Black,D.left=J,D.right=U,I[G-2]=D,I[G-1]=J,n8(U),n8(J),n8(D),G>=3){let Z=I[G-3];if(Z.left===U)Z.left=D;else Z.right=D}break}}else if(J.right===D){let N=U.left;if(N&&N.color===EE.Red)J.color=EE.Black,U.left=e_(N,EE.Black),U.color=EE.Red,G-=1;else{if(U.color=EE.Red,U.right=J.left,J.color=EE.Black,J.left=U,I[G-2]=J,I[G-1]=D,n8(U),n8(J),G>=3){let Z=I[G-3];if(Z.right===U)Z.right=J;else Z.left=J}break}}else{let N=U.left;if(N&&N.color===EE.Red)J.color=EE.Black,U.left=e_(N,EE.Black),U.color=EE.Red,G-=1;else{if(J.left=D.right,U.color=EE.Red,U.right=D.left,D.color=EE.Black,D.right=J,D.left=U,I[G-2]=D,I[G-1]=J,n8(U),n8(J),n8(D),G>=3){let Z=I[G-3];if(Z.right===U)Z.right=D;else Z.left=D}break}}}return I[0].color=EE.Black,QgA(A._ord,I[0])}),JgA=(A)=>DgA(A,$5.Forward);var DgA=(A,Q)=>{let B=A[Symbol.iterator](),C=0;return{[Symbol.iterator]:()=>DgA(A,Q),next:()=>{C++;let E=B.key;if(Q===$5.Forward)B.moveNext();else B.movePrev();switch(E._tag){case"None":return{done:!0,value:C};case"Some":return{done:!1,value:E.value}}}}};var uYA=EgA;var pYA=YgA;var Nu=JgA;var lYA=Symbol.for("effect/SortedSet"),QbQ={[lYA]:{_A:(A)=>A},[TA](){return H(QA(this.keyTree),FA(QA(lYA)),rA(this))},[PA](A){return iYA(A)&&JA(this.keyTree,A.keyTree)},[Symbol.iterator](){return Nu(this.keyTree)},toString(){return PQ(this.toJSON())},toJSON(){return{_id:"SortedSet",values:Array.from(this).map(wB)}},[sA](){return this.toJSON()},pipe(){return e(this,arguments)}},BbQ=(A)=>{let Q=Object.create(QbQ);return Q.keyTree=A,Q},iYA=(A)=>o(A,lYA);var Zu=F(2,(A,Q)=>BbQ(uYA(Array.from(A).map((B)=>[B,!0]),Q)));var CbQ=F(2,(A,Q)=>{for(let B of A)if(!Q(B))return!1;return!0});var EbQ=F(2,(A,Q)=>pYA(A.keyTree,Q));var UgA=F(2,(A,Q)=>CbQ(A,(B)=>EbQ(Q,B)));var Xu=(A)=>Nu(A.keyTree),NgA=()=>(A,Q)=>UgA(A,Q)&&UgA(Q,A);var IbQ="effect/Supervisor",$w=Symbol.for(IbQ),Aj={_T:(A)=>A};class zw{underlying;value0;[$w]=Aj;constructor(A,Q){this.underlying=A,this.value0=Q}get value(){return this.value0}onStart(A,Q,B,C){this.underlying.onStart(A,Q,B,C)}onEnd(A,Q){this.underlying.onEnd(A,Q)}onEffect(A,Q){this.underlying.onEffect(A,Q)}onSuspend(A){this.underlying.onSuspend(A)}onResume(A){this.underlying.onResume(A)}map(A){return new zw(this,H(this.value,GA(A)))}zip(A){return new u7(this,A)}}class u7{left;right;_tag="Zip";[$w]=Aj;constructor(A,Q){this.left=A,this.right=Q}get value(){return s1(this.left.value,this.right.value)}onStart(A,Q,B,C){this.left.onStart(A,Q,B,C),this.right.onStart(A,Q,B,C)}onEnd(A,Q){this.left.onEnd(A,Q),this.right.onEnd(A,Q)}onEffect(A,Q){this.left.onEffect(A,Q),this.right.onEffect(A,Q)}onSuspend(A){this.left.onSuspend(A),this.right.onSuspend(A)}onResume(A){this.left.onResume(A),this.right.onResume(A)}map(A){return new zw(this,H(this.value,GA(A)))}zip(A){return new u7(this,A)}}var nYA=(A)=>o(A,$w)&&dI(A,"Zip");class ZgA{[$w]=Aj;fibers=new Set;get value(){return CA(()=>Array.from(this.fibers))}onStart(A,Q,B,C){this.fibers.add(C)}onEnd(A,Q){this.fibers.delete(Q)}onEffect(A,Q){}onSuspend(A){}onResume(A){}map(A){return new zw(this,H(this.value,GA(A)))}zip(A){return new u7(this,A)}onRun(A,Q){return A()}}class XgA{effect;[$w]=Aj;constructor(A){this.effect=A}get value(){return this.effect}onStart(A,Q,B,C){}onEnd(A,Q){}onEffect(A,Q){}onSuspend(A){}onResume(A){}map(A){return new zw(this,H(this.value,GA(A)))}zip(A){return new u7(this,A)}onRun(A,Q){return A()}}var FgA=()=>{return new ZgA},oYA=CA(FgA),HgA=(A)=>{return new XgA(A)},zH=xA("effect/Supervisor/none",()=>HgA(iA));var WgA=aF;var VgA="Empty",MgA="AddSupervisor",$gA="RemoveSupervisor",zgA="AndThen",Lw={_tag:VgA},Hu=(A,Q)=>{return{_tag:zgA,first:A,second:Q}},YbQ=(A,Q)=>{return GbQ(Q,dA(A))},GbQ=(A,Q)=>{let B=A,C=Q;while(qB(C)){let E=aB(C);switch(E._tag){case VgA:{C=k0(C);break}case MgA:{B=B.zip(E.supervisor),C=k0(C);break}case $gA:{B=rYA(B,E.supervisor),C=k0(C);break}case zgA:{C=pB(E.first)(pB(E.second)(k0(C)));break}}}return B},rYA=(A,Q)=>{if(JA(A,Q))return zH;else if(nYA(A))return rYA(A.left,Q).zip(rYA(A.right,Q));else return A},Wu=(A)=>{if(JA(A,zH))return mG();else if(nYA(A))return H(Wu(A.left),pN(Wu(A.right)));else return dN(A)},JbQ=(A,Q)=>{if(JA(A,Q))return Lw;let B=Wu(A),C=Wu(Q),E=H(C,Nm(B),u1(Lw,(Y,G)=>Hu(Y,{_tag:MgA,supervisor:G}))),I=H(B,Nm(C),u1(Lw,(Y,G)=>Hu(Y,{_tag:$gA,supervisor:G})));return Hu(E,I)},wgA=WgA({empty:Lw,patch:YbQ,combine:Hu,diff:JbQ});var qgA=d7("effect_fiber_started",{incremental:!0}),aYA=d7("effect_fiber_active"),PgA=d7("effect_fiber_successes",{incremental:!0}),_gA=d7("effect_fiber_failures",{incremental:!0}),jgA=Du(bYA("effect_fiber_lifetimes",od({start:0.5,factor:2,count:35})),"time_unit","milliseconds"),Qj="Continue",UbQ="Done",LgA="Yield",NbQ={_E:(A)=>A,_A:(A)=>A},Ku=(A)=>{throw new Error(`BUG: FiberRuntime - ${IU(A)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},z5=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),w5=xA("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),Bj={[x$]:(A,Q,B)=>{return CC(()=>Q.effect_instruction_i1(B))},["OnStep"]:(A,Q,B)=>{return I0(I0(B))},[S$]:(A,Q,B)=>{return CC(()=>Q.effect_instruction_i2(B))},[wq]:(A,Q,B)=>{if(A.patchRuntimeFlags(A.currentRuntimeFlags,Q.patch),iN(A.currentRuntimeFlags)&&A.isInterrupted())return O0(A.getInterruptedCause());else return I0(B)},[g$]:(A,Q,B)=>{if(CC(()=>Q.effect_instruction_i2(B)),CC(()=>Q.effect_instruction_i0()))return A.pushStack(Q),CC(()=>Q.effect_instruction_i1());else return iA},[TV]:(A,Q,B)=>{let C=CC(()=>Q.effect_instruction_i0.next(B));if(C.done)return I0(C.value);return A.pushStack(Q),wV(C.value)}},ZbQ={[rIA]:(A,Q,B,C)=>{return A.processNewInterruptSignal(C.cause),iN(Q)?O0(C.cause):B},[sIA]:(A,Q,B,C)=>{throw new Error("It is illegal to have multiple concurrent run loops in a single fiber")},[aIA]:(A,Q,B,C)=>{return C.onFiber(A,kIA(Q)),B},[tIA]:(A,Q,B,C)=>{return f(b8(),()=>B)}},XbQ=(A)=>iI(wTA(A),(Q)=>qU(RTA(Q),([B,C])=>{let E=new Map,I=[];for(let G of C){I.push(CB(G));for(let J of G)E.set(J.request,J)}let Y=I.flat();return iC(FvA(B.runAll(I),Y,()=>Y.forEach((G)=>{G.listeners.interrupted=!0})),Sd,E)},!1,!1)),FbQ=VF();class wu extends CI{[V5]=Hw;[p_]=NbQ;_fiberRefs;_fiberId;_queue=new Array;_children=null;_observers=new Array;_running=!1;_stack=[];_asyncInterruptor=null;_asyncBlockingOn=null;_exitValue=null;_steps=[];_isYielding=!1;currentRuntimeFlags;currentOpCount=0;currentSupervisor;currentScheduler;currentTracer;currentSpan;currentContext;currentDefaultServices;constructor(A,Q,B){super();if(this.currentRuntimeFlags=B,this._fiberId=A,this._fiberRefs=Q,km(B)){let C=this.getFiberRef(rN);qgA.unsafeUpdate(1,C),aYA.unsafeUpdate(1,C)}this.refreshRefCache()}commit(){return lG(this)}id(){return this._fiberId}resume(A){this.tell(h7(A))}get status(){return this.ask((A,Q)=>Q)}get runtimeFlags(){return this.ask((A,Q)=>{if(d_(Q))return A.currentRuntimeFlags;return Q.runtimeFlags})}scope(){return vxA(this)}get children(){return this.ask((A)=>Array.from(A.getChildren()))}getChildren(){if(this._children===null)this._children=new Set;return this._children}getInterruptedCause(){return this.getFiberRef(A5)}fiberRefs(){return this.ask((A)=>A.getFiberRefs())}ask(A){return qA(()=>{let Q=sN(this._fiberId);return this.tell(Fw((B,C)=>{OX(Q,CA(()=>A(B,C)))})),PC(Q)})}tell(A){if(this._queue.push(A),!this._running)this._running=!0,this.drainQueueLaterOnExecutor()}get await(){return cJ((A)=>{let Q=(B)=>A(n(B));return this.tell(Fw((B,C)=>{if(B._exitValue!==null)Q(this._exitValue);else B.addObserver(Q)})),CA(()=>this.tell(Fw((B,C)=>{B.removeObserver(Q)})))},this.id())}get inheritAll(){return TQ((A,Q)=>{let B=A.id(),C=A.getFiberRefs(),E=Q.runtimeFlags,I=this.getFiberRefs(),Y=cf(C,B,I);A.setFiberRefs(Y);let G=A.getFiberRef(zu),J=H(VU(E,G),uCA(lN),uCA(Sz));return JH(J)})}get poll(){return CA(()=>aQ(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(A){return CA(()=>this.tell(gd(dG(A))))}unsafeInterruptAsFork(A){this.tell(gd(dG(A)))}addObserver(A){if(this._exitValue!==null)A(this._exitValue);else this._observers.push(A)}removeObserver(A){this._observers=this._observers.filter((Q)=>Q!==A)}getFiberRefs(){return this.setFiberRef(zu,this.currentRuntimeFlags),this._fiberRefs}unsafeDeleteFiberRef(A){this._fiberRefs=w_(this._fiberRefs,A)}getFiberRef(A){if(this._fiberRefs.locals.has(A))return this._fiberRefs.locals.get(A)[0][1];return A.initial}setFiberRef(A,Q){this._fiberRefs=T7(this._fiberRefs,{fiberId:this._fiberId,fiberRef:A,value:Q}),this.refreshRefCache()}refreshRefCache(){this.currentDefaultServices=this.getFiberRef(JC),this.currentTracer=this.currentDefaultServices.unsafeMap.get(qX.key),this.currentSupervisor=this.getFiberRef(qw),this.currentScheduler=this.getFiberRef(l8),this.currentContext=this.getFiberRef(rI),this.currentSpan=this.currentContext.unsafeMap.get(wY.key)}setFiberRefs(A){this._fiberRefs=A,this.refreshRefCache()}addChild(A){this.getChildren().add(A)}removeChild(A){this.getChildren().delete(A)}transferChildren(A){let Q=this._children;if(this._children=null,Q!==null&&Q.size>0){for(let B of Q)if(B._exitValue===null)A.add(this.currentRuntimeFlags,B)}}drainQueueOnCurrentThread(){let A=!0;while(A){let Q=Qj,B=globalThis[M5];globalThis[M5]=this;try{while(Q===Qj)Q=this._queue.length===0?UbQ:this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[M5]=B}if(this._queue.length>0&&!this._running)if(this._running=!0,Q===LgA)this.drainQueueLaterOnExecutor(),A=!1;else A=!0;else A=!1}}drainQueueLaterOnExecutor(){this.currentScheduler.scheduleTask(this.run,this.getFiberRef(m8))}drainQueueWhileRunning(A,Q){let B=Q;while(this._queue.length>0){let C=this._queue.splice(0,1)[0];B=ZbQ[C._tag](this,A,B,C)}return B}isInterrupted(){return!BH(this.getFiberRef(A5))}addInterruptedCause(A){let Q=this.getFiberRef(A5);this.setFiberRef(A5,bC(Q,A))}processNewInterruptSignal(A){this.addInterruptedCause(A),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(this._children===null||this._children.size===0)return!1;let A=!1;for(let Q of this._children)Q.tell(gd(dG(this.id()))),A=!0;return A}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){let A=this._children.values();this._children=null;let Q=!1;return uz({while:()=>!Q,body:()=>{let C=A.next();if(!C.done)return m0(C.value.await);else return CA(()=>{Q=!0})},step:()=>{}})}return null}reportExitValue(A){if(km(this.currentRuntimeFlags)){let Q=this.getFiberRef(rN),B=this.id().startTimeMillis,C=Date.now();switch(jgA.unsafeUpdate(C-B,Q),aYA.unsafeUpdate(-1,Q),A._tag){case sE:{PgA.unsafeUpdate(1,Q);break}case aE:{_gA.unsafeUpdate(1,Q);break}}}if(A._tag==="Failure"){let Q=this.getFiberRef(e1);if(!J7(A.cause)&&Q._tag==="Some")this.log("Fiber terminated with an unhandled error",A.cause,Q)}}setExitValue(A){this._exitValue=A,this.reportExitValue(A);for(let Q=this._observers.length-1;Q>=0;Q--)this._observers[Q](A);this._observers=[]}getLoggers(){return this.getFiberRef(Tw)}log(A,Q,B){let C=XA(B)?B.value:this.getFiberRef(lz),E=this.getFiberRef(c7);if(ef(E,C))return;let I=this.getFiberRef(iz),Y=this.getFiberRef(f8),G=this.getLoggers(),J=this.getFiberRefs();if(uN(G)>0){let D=nQ(this.getFiberRef(JC),rJ),U=new Date(D.unsafeCurrentTimeMillis());LzA(J,()=>{for(let N of G)N.log({fiberId:this.id(),logLevel:C,message:A,cause:Q,context:J,spans:I,annotations:Y,date:U})})}}evaluateMessageWhileSuspended(A){switch(A._tag){case tIA:return LgA;case rIA:{if(this.processNewInterruptSignal(A.cause),this._asyncInterruptor!==null)this._asyncInterruptor(O0(A.cause)),this._asyncInterruptor=null;return Qj}case sIA:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(A.effect),Qj;case aIA:return A.onFiber(this,this._exitValue!==null?DxA:UxA(this.currentRuntimeFlags,this._asyncBlockingOn)),Qj;default:return Ku(A)}}evaluateEffect(A){this.currentSupervisor.onResume(this);try{let Q=iN(this.currentRuntimeFlags)&&this.isInterrupted()?O0(this.getInterruptedCause()):A;while(Q!==null){let B=Q,C=this.runLoop(B);if(C===z5){let E=w5.currentOp;if(w5.currentOp=null,E._op===v$)if(hCA(this.currentRuntimeFlags))this.tell(jxA()),this.tell(h7(KC)),Q=null;else Q=KC;else if(E._op===RV)Q=null}else{this.currentRuntimeFlags=H(this.currentRuntimeFlags,vm(Sz));let E=this.interruptAllChildren();if(E!==null)Q=f(E,()=>C);else{if(this._queue.length===0)this.setExitValue(C);else this.tell(h7(C));Q=null}}}}finally{this.currentSupervisor.onSuspend(this)}}start(A){if(!this._running){this._running=!0;let Q=globalThis[M5];globalThis[M5]=this;try{this.evaluateEffect(A)}finally{if(this._running=!1,globalThis[M5]=Q,this._queue.length>0)this.drainQueueLaterOnExecutor()}}else this.tell(h7(A))}startFork(A){this.tell(h7(A))}patchRuntimeFlags(A,Q){let B=FX(A,Q);return globalThis[M5]=this,this.currentRuntimeFlags=B,B}initiateAsync(A,Q){let B=!1,C=(E)=>{if(!B)B=!0,this.tell(h7(E))};if(iN(A))this._asyncInterruptor=C;try{Q(C)}catch(E){C(cB(AI(E)))}}pushStack(A){if(this._stack.push(A),A._op==="OnStep")this._steps.push({refs:this.getFiberRefs(),flags:this.currentRuntimeFlags})}popStack(){let A=this._stack.pop();if(A){if(A._op==="OnStep")this._steps.pop();return A}return}getNextSuccessCont(){let A=this.popStack();while(A){if(A._op!==j$)return A;A=this.popStack()}}getNextFailCont(){let A=this.popStack();while(A){if(A._op!==x$&&A._op!==g$&&A._op!==TV)return A;A=this.popStack()}}[RzA](A){return CA(()=>v0(this.currentContext,A))}["Left"](A){return HB(A.left)}["None"](A){return HB(new g2)}["Right"](A){return I0(A.right)}["Some"](A){return I0(A.value)}["Micro"](A){return fz((Q)=>{let B=Q,C=RxA(wxA(A,this.currentContext));return C.addObserver((E)=>{if(E._tag==="Success")return B(I0(E.value));switch(E.cause._tag){case"Interrupt":return B(O0(dG(TC)));case"Fail":return B(HB(E.cause.error));case"Die":return B(DD(E.cause.defect))}}),fz((E)=>{B=(I)=>{E(iA)},C.unsafeInterrupt()})})}[db](A){let Q=CC(()=>A.effect_instruction_i0()),B=this.getNextSuccessCont();if(B!==void 0){if(!(B._op in Bj))Ku(B);return Bj[B._op](this,B,Q)}else return w5.currentOp=I0(Q),z5}[sE](A){let Q=A,B=this.getNextSuccessCont();if(B!==void 0){if(!(B._op in Bj))Ku(B);return Bj[B._op](this,B,Q.effect_instruction_i0)}else return w5.currentOp=Q,z5}[aE](A){let Q=A.effect_instruction_i0,B=this.getNextFailCont();if(B!==void 0)switch(B._op){case j$:case S$:if(!(iN(this.currentRuntimeFlags)&&this.isInterrupted()))return CC(()=>B.effect_instruction_i1(Q));else return O0(pP(Q));case"OnStep":if(!(iN(this.currentRuntimeFlags)&&this.isInterrupted()))return I0(O0(Q));else return O0(pP(Q));case wq:if(this.patchRuntimeFlags(this.currentRuntimeFlags,B.patch),iN(this.currentRuntimeFlags)&&this.isInterrupted())return O0(bC(Q,this.getInterruptedCause()));else return O0(Q);default:Ku(B)}else return w5.currentOp=O0(Q),z5}[ub](A){return CC(()=>A.effect_instruction_i0(this,kIA(this.currentRuntimeFlags)))}["Blocked"](A){let Q=this.getFiberRefs(),B=this.currentRuntimeFlags;if(this._steps.length>0){let C=[],E=this._steps[this._steps.length-1],I=this.popStack();while(I&&I._op!=="OnStep")C.push(I),I=this.popStack();this.setFiberRefs(E.refs),this.currentRuntimeFlags=E.flags;let Y=v7(E.refs,Q),G=VU(E.flags,B);return I0(o1(A.effect_instruction_i0,TQ((J)=>{while(C.length>0)J.pushStack(C.pop());return J.setFiberRefs(y7(J.id(),J.getFiberRefs())(Y)),J.currentRuntimeFlags=FX(G)(J.currentRuntimeFlags),A.effect_instruction_i1})))}return GC((C)=>f(SX(rm(A.effect_instruction_i0)),()=>C(A.effect_instruction_i1)))}["RunBlocked"](A){return XbQ(A.effect_instruction_i0)}[V1](A){let Q=A.effect_instruction_i0,B=this.currentRuntimeFlags,C=FX(B,Q);if(iN(C)&&this.isInterrupted())return O0(this.getInterruptedCause());else if(this.patchRuntimeFlags(this.currentRuntimeFlags,Q),A.effect_instruction_i1){let E=VU(C,B);return this.pushStack(new sCA(E,A)),CC(()=>A.effect_instruction_i1(B))}else return KC}[x$](A){return this.pushStack(A),A.effect_instruction_i0}["OnStep"](A){return this.pushStack(A),A.effect_instruction_i0}[j$](A){return this.pushStack(A),A.effect_instruction_i0}[S$](A){return this.pushStack(A),A.effect_instruction_i0}[RV](A){return this._asyncBlockingOn=A.effect_instruction_i1,this.initiateAsync(this.currentRuntimeFlags,A.effect_instruction_i0),w5.currentOp=A,z5}[v$](A){return this._isYielding=!1,w5.currentOp=A,z5}[g$](A){let{effect_instruction_i0:Q,effect_instruction_i1:B}=A;if(Q())return this.pushStack(A),B();else return KC}[TV](A){return Bj[TV](this,A,void 0)}[K1](A){return CC(()=>A.commit())}runLoop(A){let Q=A;this.currentOpCount=0;while(!0){if((this.currentRuntimeFlags&gm)!==0)this.currentSupervisor.onEffect(this,Q);if(this._queue.length>0)Q=this.drainQueueWhileRunning(this.currentRuntimeFlags,Q);if(!this._isYielding){this.currentOpCount+=1;let B=this.currentScheduler.shouldYield(this);if(B!==!1){this._isYielding=!0,this.currentOpCount=0;let C=Q;Q=f(b8({priority:B}),()=>C)}}try{if(Q=this.currentTracer.context(()=>{if(FbQ!==Q[r1]._V)return a1(`Cannot execute an Effect versioned ${Q[r1]._V} with a Runtime of version ${VF()}`);return this[Q._op](Q)},this),Q===z5){let B=w5.currentOp;if(B._op===v$||B._op===RV)return z5;return w5.currentOp=null,B._op===sE||B._op===aE?B:O0(AI(B))}}catch(B){if(Q!==z5&&!o(Q,"_op")||!(Q._op in this))Q=a1(`Not a valid effect: ${IU(Q)}`);else if(Yf(B))Q=O0(bC(AI(B),dG(TC)));else Q=DD(B)}}}run=()=>{this.drainQueueOnCurrentThread()}}var c7=xA("effect/FiberRef/currentMinimumLogLevel",()=>_E(Ad("Info"))),Rw=(A)=>iG((Q)=>{let B=p8(Q.context,JC);nQ(B,y2).unsafe.log(A.log(Q))}),xgA=(A)=>iG((Q)=>{let B=p8(Q.context,JC),C=nQ(B,y2).unsafe;switch(Q.logLevel._tag){case"Debug":return C.debug(A.log(Q));case"Info":return C.info(A.log(Q));case"Trace":return C.trace(A.log(Q));case"Warning":return C.warn(A.log(Q));case"Error":case"Fatal":return C.error(A.log(Q));default:return C.log(A.log(Q))}}),SgA=(A)=>iG((Q)=>{let B=p8(Q.context,JC);nQ(B,y2).unsafe.error(A.log(Q))}),l7=xA(Symbol.for("effect/Logger/defaultLogger"),()=>Rw(pd)),ggA=xA(Symbol.for("effect/Logger/jsonLogger"),()=>Rw(ld)),vgA=xA(Symbol.for("effect/Logger/logFmtLogger"),()=>Rw(cd)),ygA=xA(Symbol.for("effect/Logger/prettyLogger"),()=>id),kgA=xA(Symbol.for("effect/Logger/structuredLogger"),()=>Rw(n_)),tYA=xA(Symbol.for("effect/Logger/tracerLogger"),()=>iG(({annotations:A,cause:Q,context:B,fiberId:C,logLevel:E,message:I})=>{let Y=eE(N5(B,rI),wY);if(Y._tag==="None"||Y.value._tag==="ExternalSpan")return;let G=v0(N5(B,JC),rJ),J={};for(let[D,U]of A)J[D]=U;if(J["effect.fiberId"]=HCA(C),J["effect.logLevel"]=E.label,Q!==null&&Q._tag!=="Empty")J["effect.cause"]=JD(Q,{renderErrorCause:!0});Y.value.event(IU(Array.isArray(I)?I[0]:I),G.unsafeCurrentTimeNanos(),J)})),bgA=(A)=>fd(A,(Q)=>{let B=qE(L_(Q.context,rI),eE(wY));if(B._tag==="None")return Q;return{...Q,annotations:H(Q.annotations,FE("effect.traceId",B.value.traceId),FE("effect.spanId",B.value.spanId),B.value._tag==="Span"?FE("effect.spanName",B.value.name):s)}}),Tw=xA(Symbol.for("effect/FiberRef/currentLoggers"),()=>If(dN(l7,tYA))),hgA=F(3,(A,Q,B)=>f(Tu,(C)=>{let E=[],I=qA(()=>{if(E.length===0)return iA;let Y=E;return E=[],B(Y)});return GC((Y)=>H(jX(Q),OQ(I),k_,Y,SX,f((G)=>rz(C,uG(G))),OQ(jU(()=>I)),lB(iG((G)=>{E.push(A.log(G))}))))})),mgA=function(){if(typeof arguments[0]==="string")return fY(f8,FE(arguments[0],arguments[1]));let A=Object.entries(arguments[0]);return fY(f8,MCA((Q)=>{for(let B=0;B<A.length;B++){let[C,E]=A[B];FE(Q,C,E)}return Q}))},fgA=F(2,(A,Q)=>{let B=typeof Q==="string"?Ad(Q):Q;return TQ((C)=>{let E=C.getFiberRef(c7);if(ef(E,B))return n(x());return GA(A,j)})}),HD=F((A)=>h0(A[0]),(A,Q)=>$J(YC(A,(B)=>jU((C)=>Q(B,C))))),dgA=F((A)=>h0(A[0]),(A,Q)=>nG(A,jU((B)=>Q(B)))),jU=(A)=>TQ((Q)=>{let B=Q.getFiberRefs(),C=Q.currentRuntimeFlags;return f(Tu,(E)=>ZH(E,(I)=>TQ((Y)=>{let G=Y.getFiberRefs(),J=Y.currentRuntimeFlags,D=v7(G,B),U=VU(J,C),N=v7(B,G);return Y.setFiberRefs(y7(D,Y.id(),B)),nG(Qf(A(I),U),CA(()=>{Y.setFiberRefs(y7(N,Y.id(),Y.getFiberRefs()))}))})))}),ugA=(A)=>{return iC(rP,j(i8))(A)},OgA=Symbol.for("effect/Effect/existsPar/found"),pgA=F((A)=>mJ(A[0])&&!h0(A[0]),(A,Q,B)=>u_(B?.concurrency,()=>qA(()=>cgA(A[Symbol.iterator](),0,Q)),()=>bY(_U(A,(C,E)=>tm(Q(C,E),{onTrue:()=>HB(OgA),onFalse:()=>iA}),B),{onFailure:(C)=>C===OgA?n(!0):HB(C),onSuccess:()=>n(!1)}))),cgA=(A,Q,B)=>{let C=A.next();if(C.done)return n(!1);return H(f(B(C.value,Q),(E)=>E?n(E):cgA(A,Q+1,B)))},lgA=F((A)=>mJ(A[0])&&!h0(A[0]),(A,Q,B)=>{let C=B?.negate?(E,I)=>GA(Q(E,I),BP):Q;return u_(B?.concurrency,()=>qA(()=>aA(A).reduceRight((E,I,Y)=>lJ(E,qA(()=>C(I,Y)),(G,J)=>J?[I,...G]:G),CA(()=>new Array))),()=>GA(_U(A,(E,I)=>GA(C(E,I),(Y)=>Y?j(E):x()),B),n$))}),HbQ=(A)=>{if(Array.isArray(A)||mJ(A))return[A,x()];let Q=Object.keys(A),B=Q.length;return[Q.map((C)=>A[C]),j((C)=>{let E={};for(let I=0;I<B;I++)E[Q[I]]=C[I];return E})]},WbQ=(A,Q,B)=>{let C=[];for(let E of A)C.push(MX(E));return f(_U(C,s,{concurrency:B?.concurrency,batching:B?.batching,concurrentFinalizers:B?.concurrentFinalizers}),(E)=>{let I=x(),Y=E.length,G=new Array(Y),J=new Array(Y),D=!1;for(let U=0;U<Y;U++){let N=E[U];if(N._tag==="Left")G[U]=j(N.left),D=!0;else J[U]=N.right,G[U]=I}if(D)return Q._tag==="Some"?HB(Q.value(G)):HB(G);else if(B?.discard)return iA;return Q._tag==="Some"?n(Q.value(J)):n(J)})},KbQ=(A,Q,B)=>{let C=[];for(let E of A)C.push(MX(E));if(B?.discard)return _U(C,s,{concurrency:B?.concurrency,batching:B?.batching,discard:!0,concurrentFinalizers:B?.concurrentFinalizers});return GA(_U(C,s,{concurrency:B?.concurrency,batching:B?.batching,concurrentFinalizers:B?.concurrentFinalizers}),(E)=>Q._tag==="Some"?Q.value(E):E)},IZ=(A,Q)=>{let[B,C]=HbQ(A);if(Q?.mode==="validate")return WbQ(B,C,Q);else if(Q?.mode==="either")return KbQ(B,C,Q);return Q?.discard!==!0&&C._tag==="Some"?GA(_U(B,s,Q),C.value):_U(B,s,Q)},igA=(A)=>(Q)=>IZ(Q,A),ngA=(A,Q)=>GA(IZ(aA(A).map(IC),Q),z8((B)=>Z_(B)?j(B.effect_instruction_i0):x())),eYA=F(2,(A,Q)=>Array.from({length:Q},()=>A)),Lu=F((A)=>h0(A[0]),(A,Q,B)=>IZ(eYA(A,Q),B)),_U=F((A)=>mJ(A[0]),(A,Q,B)=>TQ((C)=>{let E=B?.batching===!0||B?.batching==="inherit"&&C.getFiberRef(W7);if(B?.discard)return oIA(B.concurrency,()=>p7(K5,B?.concurrentFinalizers)((I)=>E?qU(A,(Y,G)=>I(Q(Y,G)),!0,!1,1):iI(A,(Y,G)=>I(Q(Y,G)))),()=>p7(Md,B?.concurrentFinalizers)((I)=>qU(A,(Y,G)=>I(Q(Y,G)),E,!1)),(I)=>p7($d(I),B?.concurrentFinalizers)((Y)=>qU(A,(G,J)=>Y(Q(G,J)),E,!1,I)));return oIA(B?.concurrency,()=>p7(K5,B?.concurrentFinalizers)((I)=>E?sYA(A,1,(Y,G)=>I(Q(Y,G)),!0):gI(A,(Y,G)=>I(Q(Y,G)))),()=>p7(Md,B?.concurrentFinalizers)((I)=>Ow(A,(Y,G)=>I(Q(Y,G)),E)),(I)=>p7($d(I),B?.concurrentFinalizers)((Y)=>sYA(A,I,(G,J)=>Y(Q(G,J)),E)))})),Ow=(A,Q,B)=>qA(()=>{let C=aA(A),E=new Array(C.length);return OQ(qU(C,(Y,G)=>f(Q(Y,G),(J)=>CA(()=>E[G]=J)),B,!1),n(E))}),qU=(A,Q,B,C,E)=>GC((I)=>Af((Y)=>TQ((G)=>{let J=Array.from(A).reverse(),D=J.length;if(D===0)return iA;let U=0,N=!1,Z=E?Math.min(J.length,E):J.length,X=new Set,W=new Array,K=()=>X.forEach((q)=>{q.currentScheduler.scheduleTask(()=>{q.unsafeInterruptAsFork(G.id())},0)}),V=new Array,M=new Array,z=new Array,L=()=>{let q=W.filter(({exit:y})=>y._tag==="Failure").sort((y,p)=>y.index<p.index?-1:y.index===p.index?0:1).map(({exit:y})=>y);if(q.length===0)q.push(KC);return q},O=(q,y=!1)=>{let p=$J(Y(q)),i=VbQ(p,G,G.currentRuntimeFlags,i8);return G.currentScheduler.scheduleTask(()=>{if(y)i.unsafeInterruptAsFork(G.id());i.resume(p)},0),i},R=()=>{if(!C)D-=J.length,J=[];N=!0,K()},_=B?sm:IC,S=O(cJ((q)=>{let y=(i,MA)=>{if(i._op==="Blocked")z.push(i);else if(W.push({index:MA,exit:i}),i._op==="Failure"&&!N)R()},p=()=>{if(J.length>0){let i=J.pop(),MA=U++,d=()=>{let NA=J.pop();return MA=U++,f(b8(),()=>f(_(I(Q(NA,MA))),AA))},AA=(NA)=>{if(J.length>0){if(y(NA,MA),J.length>0)return d()}return n(NA)},IA=f(_(I(Q(i,MA))),AA),UA=O(IA);if(V.push(UA),X.add(UA),N)UA.currentScheduler.scheduleTask(()=>{UA.unsafeInterruptAsFork(G.id())},0);UA.addObserver((NA)=>{let bA;if(NA._op==="Failure")bA=NA;else bA=NA.effect_instruction_i0;if(M.push(UA),X.delete(UA),y(bA,MA),W.length===D)q(n(YQ(XH(L(),{parallel:!0}),()=>KC)));else if(z.length+W.length===D){let FQ=L(),IQ=z.map((KQ)=>KQ.effect_instruction_i0).reduce(mP);q(n(o1(IQ,qU([YQ(XH(FQ,{parallel:!0}),()=>KC),...z.map((KQ)=>KQ.effect_instruction_i1)],(KQ)=>KQ,B,!0,E))))}else p()})}};for(let i=0;i<Z;i++)p()}));return m0(S2(MY(I(lG(S))),FH({onFailure:(q)=>{R();let y=z.length+1,p=Math.min(typeof E==="number"?E:z.length,z.length),i=Array.from(z);return cJ((MA)=>{let d=[],AA=0,IA=0,UA=(bA,FQ)=>(IQ)=>{if(d[bA]=IQ,AA++,AA===y)MA(I0(O0(q)));if(i.length>0&&FQ)NA()},NA=()=>{O(i.pop(),!0).addObserver(UA(IA,!0)),IA++};S.addObserver(UA(IA,!1)),IA++;for(let bA=0;bA<p;bA++)NA()})},onSuccess:()=>gI(M,(q)=>q.inheritAll)})))}))),sYA=(A,Q,B,C)=>qA(()=>{let E=aA(A),I=new Array(E.length);return OQ(qU(E,(G,J)=>GA(B(G,J),(D)=>I[J]=D),C,!1,Q),n(I))}),PU=(A)=>TQ((Q,B)=>n(Ou(A,Q,B.runtimeFlags))),SX=(A)=>MbQ(A,i8),ogA=F(2,(A,Q)=>PU(J_(A,(B)=>{let C=v8(B);switch(C._tag){case"Left":return Q(C.left);case"Right":return cB(C.right)}}))),Ou=(A,Q,B,C=null)=>{let E=Vu(A,Q,B,C);return E.resume(A),E},VbQ=(A,Q,B,C=null)=>{return Vu(A,Q,B,C)},Vu=(A,Q,B,C=null)=>{let E=$m(),I=Q.getFiberRefs(),Y=aEA(I,E),G=new wu(E,Y,B),J=N5(Y,rI),D=G.currentSupervisor;return D.onStart(J,A,j(Q),G),G.addObserver((N)=>D.onEnd(N,G)),(C!==null?C:H(Q.getFiberRef(rP),YQ(()=>Q.scope()))).add(B,G),G},MbQ=(A,Q)=>TQ((B,C)=>n(Ou(A,B,C.runtimeFlags,Q))),AGA=F((A)=>EU(A[2]),(A,Q,B,C)=>u_(C?.concurrency,()=>aA(A).reduce((E,I,Y)=>lJ(E,I,(G,J)=>B(G,J,Y)),n(Q)),()=>f(DC(Q),(E)=>f(_U(A,(I,Y)=>f(I,(G)=>cG(E,(J)=>B(J,G,Y))),C),()=>d0(E))))),QGA=F((A)=>mJ(A[0]),(A,Q,B)=>H(_U(A,(C,E)=>MX(Q(C,E)),B),GA((C)=>QEA(C,s)))),rgA=F((A)=>mJ(A[0]),(A,Q,B)=>f(QGA(A,Q,{concurrency:B?.concurrency,batching:B?.batching,concurrentFinalizers:B?.concurrentFinalizers}),([C,E])=>DU(C)?HB(C):B?.discard?iA:n(E))),agA=(A)=>{let Q=rB(A);if(!qB(Q))return UD(()=>new aN("Received an empty collection of effects"));let B=aB(Q),C=k0(Q),E=(I)=>H(hd(I[1]),lB(I[0]));return H(QI(),f((I)=>H(DC(C.length),f((Y)=>GC((G)=>H(PU(MJ(B)),f((J)=>H(C,gI((D)=>PU(MJ(D))),GA((D)=>tA(D)),GA((D)=>H(D,pB(J))),YC((D)=>H(D,HY(iA,(U,N)=>H(U,OQ(H(Ww(N),f($bQ(D,N,I,Y)),PU,m0)))))),f((D)=>H(G(H(WQ(I),f(E))),hY(()=>H(D,HY(iA,(U,N)=>H(U,wX(uG(N))))))))))))))))},$bQ=(A,Q,B,C)=>(E)=>w7(E,{onFailure:(I)=>H(tJ(C,(Y)=>[Y===0?H(B5(B,I),m0):iA,Y-1]),MY),onSuccess:(I)=>H(wU(B,[I,Q]),f((Y)=>Y?H(rB(A),HY(iA,(G,J)=>J===Q?G:H(G,wX(uG(J))))):iA))}),sgA=F((A)=>mJ(A[0])&&!h0(A[0]),(A,Q,B,C)=>u_(C?.concurrency,()=>aA(A).reduce((E,I,Y)=>lJ(E,I,(G,J)=>B(G,J,Y)),Q),()=>qA(()=>H(AGA([Q,...A],x(),(E,I,Y)=>{switch(E._tag){case"None":return j(I);case"Some":return j(B(E.value,I,Y))}},C),GA((E)=>{switch(E._tag){case"None":throw new Error("BUG: Effect.reduceEffect - please report an issue at https://github.com/Effect-TS/effect/issues");case"Some":return E.value}}))))),Mu=(A)=>LU((Q)=>HA(eE(Q,LY),{onNone:()=>A,onSome:(B)=>{switch(B.strategy._tag){case"Parallel":return A;case"Sequential":case"ParallelN":return f(V7(B,Md),(C)=>WD(A,C))}}})),RgA=(A)=>(Q)=>LU((B)=>HA(eE(B,LY),{onNone:()=>Q,onSome:(C)=>{if(C.strategy._tag==="ParallelN"&&C.strategy.parallelism===A)return Q;return f(V7(C,$d(A)),(E)=>WD(Q,E))}})),tgA=(A)=>(Q)=>p7(A,!0)(Q),p7=(A,Q)=>(B)=>LU((C)=>HA(eE(C,LY),{onNone:()=>B(s),onSome:(E)=>{if(Q===!0){let I=A._tag==="Parallel"?Mu:A._tag==="Sequential"?$u:RgA(A.parallelism);switch(E.strategy._tag){case"Parallel":return I(B(Mu));case"Sequential":return I(B($u));case"ParallelN":return I(B(RgA(E.strategy.parallelism)))}}else return B(s)}})),xU=(A)=>f(LY,A),Cj=(A)=>f(ZG(),(Q)=>S2(A(Q),(B)=>Q.close(B))),Ej=(A)=>f(ZG(),(Q)=>GGA(A,Q)),$u=(A)=>LU((Q)=>HA(eE(Q,LY),{onNone:()=>A,onSome:(B)=>{switch(B.strategy._tag){case"Sequential":return A;case"Parallel":case"ParallelN":return f(V7(B,K5),(C)=>WD(A,C))}}})),egA=(A,Q)=>BGA([F5(A,Q)]),BGA=(A)=>fY(rN,(Q)=>PN(Q,A)),AvA=F(2,(A,Q)=>Cj((B)=>f(WD(A,B),Q))),QvA=F((A)=>h0(A[1]),(A,Q,B)=>CGA(A,Q,(C,E)=>[C,E],B)),CGA=F((A)=>h0(A[1]),(A,Q,B,C)=>MY(o8(IC(A),IC(Q),(E,I)=>HH(E,I,{onSuccess:B,onFailure:(Y,G)=>C?.concurrent?VY(Y,G):bC(Y,G)}),C)));var BvA=F((A)=>mJ(A[0]),(A,Q,B)=>YH(_U(A,(C,E)=>YH(Q(C,E)),B))),EGA=(A)=>fY(JC,DQ(rJ,A)),CvA=(A)=>fY(JC,DQ(J5,A)),Ru=(A)=>fY(JC,DQ(O7,A)),EvA=(A)=>xU((Q)=>f(V7(Q,xX),(B)=>H(A,WD(B),GA((C)=>[ZD((E)=>oJ(B,z7(E))),C])))),IvA=F((A)=>h0(A[1]),(A,Q,B)=>o8(A,Q,(C,E)=>[C,E],B)),IGA=F((A)=>h0(A[1]),(A,Q,B)=>{if(B?.concurrent!==!0&&(B?.batching===void 0||B.batching===!1))return wX(A,Q);return o8(A,Q,(C,E)=>C,B)}),YvA=F((A)=>h0(A[1]),(A,Q,B)=>{if(B?.concurrent!==!0&&(B?.batching===void 0||B.batching===!1))return OQ(A,Q);return o8(A,Q,(C,E)=>E,B)}),o8=F((A)=>h0(A[1]),(A,Q,B,C)=>GA(IZ([A,Q],{concurrency:C?.concurrent?2:1,batching:C?.batching,concurrentFinalizers:C?.concurrentFinalizers}),([E,I])=>B(E,I))),YGA=(A)=>{if(A===zTA)return iA;return H(dz,f((Q)=>{let B=FX(Q,A),C=VU(B,Q);return H(JH(A),OQ(jU(()=>JH(C))),m0)}),$J)},LY=pA("effect/Scope"),Tu=LY,zbQ=(A,Q)=>{if(A.state._tag==="Open")A.state.finalizers.set({},Q)},wbQ={[U_]:U_,[N_]:N_,pipe(){return e(this,arguments)},fork(A){return CA(()=>{let Q=GvA(A);if(this.state._tag==="Closed")return Q.state=this.state,Q;let B={},C=(E)=>Q.close(E);return this.state.finalizers.set(B,C),zbQ(Q,(E)=>CA(()=>{if(this.state._tag==="Open")this.state.finalizers.delete(B)})),Q})},close(A){return qA(()=>{if(this.state._tag==="Closed")return iA;let Q=Array.from(this.state.finalizers.values()).reverse();if(this.state={_tag:"Closed",exit:A},Q.length===0)return iA;return SIA(this.strategy)?H(gI(Q,(B)=>IC(B(A))),f((B)=>H(XH(B),RQ(ez),YQ(()=>KC)))):gIA(this.strategy)?H(Ow(Q,(B)=>IC(B(A)),!1),f((B)=>H(XH(B,{parallel:!0}),RQ(ez),YQ(()=>KC)))):H(sYA(Q,this.strategy.parallelism,(B)=>IC(B(A)),!1),f((B)=>H(XH(B,{parallel:!0}),RQ(ez),YQ(()=>KC))))})},addFinalizer(A){return qA(()=>{if(this.state._tag==="Closed")return A(this.state.exit);return this.state.finalizers.set({},A),iA})}},GvA=(A=xX)=>{let Q=Object.create(wbQ);return Q.strategy=A,Q.state={_tag:"Open",finalizers:new Map},Q},ZG=(A=xX)=>CA(()=>GvA(A)),WD=F(2,(A,Q)=>OU(A,E0(hG(LY,Q)))),GGA=F(2,(A,Q)=>H(A,WD(Q),S2((B)=>Q.close(B)))),JGA=(A)=>t1(A,{differ:wgA,fork:Lw}),A2=F(2,(A,Q)=>m0(HD(f(nJ(A),(B)=>lB(KX(A,Q),B)),(B)=>KX(A,B)))),fY=F(2,(A,Q)=>nI(A,(B)=>A2(A,Q(B)))),DGA=(A,Q)=>Ij(()=>_E(A,Q)),Ij=(A)=>HD(YC(CA(A),(Q)=>Ef(Q,s)),(Q)=>Cf(Q)),JvA=(A)=>Ij(()=>UH(A)),DvA=(A)=>Ij(()=>NEA(A)),zu=NEA(mCA),qw=JGA(zH),qu=(A)=>_U(A,Ww),Pw=(A)=>{return{...c8,commit(){return lG(this)},[V5]:Hw,id:()=>aA(A).reduce((B,C)=>JG(B,C.id()),TC),await:IC(Ow(A,(B)=>MY(B.await),!1)),children:GA(Ow(A,(B)=>B.children,!1),TF),inheritAll:iI(A,(B)=>B.inheritAll),poll:GA(gI(A,(B)=>B.poll),P1(j(I0(new Array)),(B,C)=>{switch(C._tag){case"None":return x();case"Some":switch(B._tag){case"None":return x();case"Some":return j(HH(C.value,B.value,{onSuccess:(E,I)=>[E,...I],onFailure:VY}))}}})),interruptAsFork:(B)=>iI(A,(C)=>C.interruptAsFork(B))}},UvA=(A)=>m0(SX(uG(A))),NvA=(A)=>lG(Pw(A)),ZvA=(A)=>HD(n(A),uG),UGA=F(3,(A,Q,B)=>NGA(A,Q,{onSelfWin:(C,E)=>f(C.await,(I)=>{switch(I._tag){case sE:return f(C.inheritAll,()=>B.onSelfDone(I,E));case aE:return B.onSelfDone(I,E)}}),onOtherWin:(C,E)=>f(C.await,(I)=>{switch(I._tag){case sE:return f(C.inheritAll,()=>B.onOtherDone(I,E));case aE:return B.onOtherDone(I,E)}})})),XvA=(A)=>GC((Q)=>ZD((B)=>f(SX(Q(A)),(C)=>H(Q(lG(C)),hY(()=>H(C,c_(B))))))),Pu=F(2,(A,Q)=>ZD((B)=>UGA(A,Q,{onSelfDone:(C,E)=>w7(C,{onFailure:(I)=>H(lG(E),Dw((Y)=>VY(I,Y))),onSuccess:(I)=>H(E,iJ(B),lB(I))}),onOtherDone:(C,E)=>w7(C,{onFailure:(I)=>H(lG(E),Dw((Y)=>VY(Y,I))),onSuccess:(I)=>H(E,iJ(B),lB(I))})}))),NGA=F(3,(A,Q,B)=>TQ((C,E)=>{let I=E.runtimeFlags,Y=SI(!0),G=Vu(A,C,I,B.selfScope),J=Vu(Q,C,I,B.otherScope);return cJ((D)=>{G.addObserver(()=>TgA(G,J,B.onSelfWin,Y,D)),J.addObserver(()=>TgA(J,G,B.onOtherWin,Y,D)),G.startFork(A),J.startFork(Q)},JG(G.id(),J.id()))})),TgA=(A,Q,B,C,E)=>{if(wP(!0,!1)(C))E(B(A,Q))},nG=F(2,(A,Q)=>GC((B)=>BE(B(A),{onFailure:(C)=>BE(Q,{onFailure:(E)=>cB(bC(C,E)),onSuccess:()=>cB(C)}),onSuccess:(C)=>lB(Q,C)}))),FvA=(A,Q,B)=>ZD((C)=>f(f(SX(MJ(A)),(E)=>cJ((I)=>{let Y=Q.map((D)=>D.listeners.count),G=()=>{if(Y.every((D)=>D===0)){if(Q.every((D)=>{if(D.result.state.current._tag==="Pending")return!0;else if(D.result.state.current._tag==="Done"&&sz(D.result.state.current.effect)&&D.result.state.current.effect._tag==="Failure"&&bz(D.result.state.current.effect.cause))return!0;else return!1}))J.forEach((D)=>D()),B?.(),I(uG(E))}};E.addObserver((D)=>{J.forEach((U)=>U()),I(D)});let J=Q.map((D,U)=>{let N=(Z)=>{Y[U]=Z,G()};return D.listeners.addObserver(N),()=>D.listeners.removeObserver(N)});return G(),CA(()=>{J.forEach((D)=>D())})})),()=>qA(()=>{let E=Q.flatMap((I)=>{if(!I.state.completed)return[I];return[]});return iI(E,(I)=>Uu(I.request,z7(C)))})));var EZ=(A,Q)=>{return Q=zJ(Q),$J(TQ((B)=>{let C=v0(B.getFiberRef(rI),LY),E=Kd(B,A,Q),I=B.getFiberRef(LX),Y=nQ(B.getFiberRef(JC),rJ);return lB(ZH(C,(G)=>Uw(E,G,Y,I)),E)}))},_u=(A)=>fY(JC,DQ(qX,A)),HvA=function(){let A=typeof arguments[0]!=="string",Q=A?arguments[1]:arguments[0],B=zJ(A?arguments[2]:arguments[1]);if(A){let C=arguments[0];return f(EZ(Q,zJ(B)),(E)=>MH(C,wY,E))}return(C)=>f(EZ(Q,zJ(B)),(E)=>MH(C,wY,E))};var WvA=(A,Q,B,C)=>xz({_tag:"Complete",key:A,exit:Q,entryStats:B,timeToLiveMillis:C}),KvA=(A,Q)=>xz({_tag:"Pending",key:A,deferred:Q}),LbQ=(A,Q)=>xz({_tag:"Refreshing",deferred:A,complete:Q}),ZGA=Symbol.for("effect/Cache/MapKey");class VvA{current;[ZGA]=ZGA;previous=void 0;next=void 0;constructor(A){this.current=A}[TA](){return H(QA(this.current),FA(QA(this.previous)),FA(QA(this.next)),rA(this))}[PA](A){if(this===A)return!0;return ObQ(A)&&JA(this.current,A.current)&&JA(this.previous,A.previous)&&JA(this.next,A.next)}}var i7=(A)=>new VvA(A),ObQ=(A)=>o(A,ZGA);class MvA{head=void 0;tail=void 0;add(A){if(A!==this.tail)if(this.tail===void 0)this.head=A,this.tail=A;else{let{previous:Q,next:B}=A;if(B!==void 0)if(A.next=void 0,Q!==void 0)Q.next=B,B.previous=Q;else this.head=B,this.head.previous=void 0;this.tail.next=A,A.previous=this.tail,this.tail=A}}remove(){let A=this.head;if(A!==void 0){let Q=A.next;if(Q!==void 0)A.next=void 0,this.head=Q,this.head.previous=void 0;else this.head=void 0,this.tail=void 0}return A}}var $vA=()=>new MvA,RbQ=(A,Q,B,C,E,I)=>({map:A,keys:Q,accesses:B,updating:C,hits:E,misses:I}),TbQ=()=>RbQ(jE(),$vA(),TX(),SI(!1),0,0),qbQ="effect/Cache",zvA=Symbol.for(qbQ),PbQ={_Key:(A)=>A,_Error:(A)=>A,_Value:(A)=>A},_bQ="effect/ConsumerCache",wvA=Symbol.for(_bQ),jbQ={_Key:(A)=>A,_Error:(A)=>A,_Value:(A)=>A},XGA=(A)=>A,_w=(A)=>({loadedMillis:A});class LvA{capacity;context;fiberId;lookup;timeToLive;[zvA]=PbQ;[wvA]=jbQ;cacheState;constructor(A,Q,B,C,E){this.capacity=A,this.context=Q,this.fiberId=B,this.lookup=C,this.timeToLive=E,this.cacheState=TbQ()}get(A){return GA(this.getEither(A),wF)}get cacheStats(){return CA(()=>XGA({hits:this.cacheState.hits,misses:this.cacheState.misses,size:pG(this.cacheState.map)}))}getOption(A){return qA(()=>HA(tB(this.cacheState.map,A),{onNone:()=>{let Q=i7(A);return this.trackAccess(Q),this.trackMiss(),n(x())},onSome:(Q)=>this.resolveMapValue(Q)}))}getOptionComplete(A){return qA(()=>HA(tB(this.cacheState.map,A),{onNone:()=>{let Q=i7(A);return this.trackAccess(Q),this.trackMiss(),n(x())},onSome:(Q)=>this.resolveMapValue(Q,!0)}))}contains(A){return CA(()=>mE(this.cacheState.map,A))}entryStats(A){return CA(()=>{let Q=tB(this.cacheState.map,A);if(XA(Q))switch(Q.value._tag){case"Complete":{let B=Q.value.entryStats.loadedMillis;return j(_w(B))}case"Pending":return x();case"Refreshing":{let B=Q.value.complete.entryStats.loadedMillis;return j(_w(B))}}return x()})}getEither(A){return qA(()=>{let Q=A,B=void 0,C=void 0,E=gB(tB(this.cacheState.map,Q));if(E===void 0)if(C=tN(this.fiberId),B=i7(Q),mE(this.cacheState.map,Q))E=gB(tB(this.cacheState.map,Q));else S0(this.cacheState.map,Q,KvA(B,C));if(E===void 0)return this.trackAccess(B),this.trackMiss(),GA(this.lookupValueOf(A,C),$A);else return f(this.resolveMapValue(E),HA({onNone:()=>this.getEither(A),onSome:(I)=>n(wA(I))}))})}invalidate(A){return CA(()=>{mC(this.cacheState.map,A)})}invalidateWhen(A,Q){return CA(()=>{let B=tB(this.cacheState.map,A);if(XA(B)&&B.value._tag==="Complete"){if(B.value.exit._tag==="Success"){if(Q(B.value.exit.value))mC(this.cacheState.map,A)}}})}get invalidateAll(){return CA(()=>{this.cacheState.map=jE()})}refresh(A){return BZ((Q)=>qA(()=>{let B=A,C=tN(this.fiberId),E=gB(tB(this.cacheState.map,B));if(E===void 0)if(mE(this.cacheState.map,B))E=gB(tB(this.cacheState.map,B));else S0(this.cacheState.map,B,KvA(i7(B),C));if(E===void 0)return m0(this.lookupValueOf(A,C));else switch(E._tag){case"Complete":{if(this.hasExpired(Q,E.timeToLiveMillis)){let I=gB(tB(this.cacheState.map,B));if(JA(I,E))mC(this.cacheState.map,B);return m0(this.get(A))}return H(this.lookupValueOf(A,C),f_(()=>{let I=gB(tB(this.cacheState.map,B));if(JA(I,E)){let Y=LbQ(C,E);return S0(this.cacheState.map,B,Y),!0}return!1}),m0)}case"Pending":return WQ(E.deferred);case"Refreshing":return WQ(E.deferred)}}))}set(A,Q){return BZ((B)=>CA(()=>{let C=B.unsafeCurrentTimeMillis(),E=A,I=hQ(Q),Y=WvA(i7(E),I,_w(C),C+b0(cQ(this.timeToLive(I))));S0(this.cacheState.map,E,Y)}))}get size(){return CA(()=>{return pG(this.cacheState.map)})}get values(){return CA(()=>{let A=[];for(let Q of this.cacheState.map)if(Q[1]._tag==="Complete"&&Q[1].exit._tag==="Success")A.push(Q[1].exit.value);return A})}get entries(){return CA(()=>{let A=[];for(let Q of this.cacheState.map)if(Q[1]._tag==="Complete"&&Q[1].exit._tag==="Success")A.push([Q[0],Q[1].exit.value]);return A})}get keys(){return CA(()=>{let A=[];for(let Q of this.cacheState.map)if(Q[1]._tag==="Complete"&&Q[1].exit._tag==="Success")A.push(Q[0]);return A})}resolveMapValue(A,Q=!1){return BZ((B)=>{switch(A._tag){case"Complete":{if(this.trackAccess(A.key),this.hasExpired(B,A.timeToLiveMillis))return mC(this.cacheState.map,A.key.current),n(x());return this.trackHit(),GA(A.exit,j)}case"Pending":{if(this.trackAccess(A.key),this.trackHit(),Q)return n(x());return GA(WQ(A.deferred),j)}case"Refreshing":{if(this.trackAccess(A.complete.key),this.trackHit(),this.hasExpired(B,A.complete.timeToLiveMillis)){if(Q)return n(x());return GA(WQ(A.deferred),j)}return GA(A.complete.exit,j)}}})}trackHit(){this.cacheState.hits=this.cacheState.hits+1}trackMiss(){this.cacheState.misses=this.cacheState.misses+1}trackAccess(A){if(RU(this.cacheState.accesses,A),wP(this.cacheState.updating,!1,!0)){let Q=!0;while(Q){let C=v2(this.cacheState.accesses,oC);if(C===oC)Q=!1;else this.cacheState.keys.add(C)}let B=pG(this.cacheState.map);Q=B>this.capacity;while(Q){let C=this.cacheState.keys.remove();if(C!==void 0){if(mE(this.cacheState.map,C.current))mC(this.cacheState.map,C.current),B=B-1,Q=B>this.capacity}else Q=!1}hE(this.cacheState.updating,!1)}}hasExpired(A,Q){return A.unsafeCurrentTimeMillis()>Q}lookupValueOf(A,Q){return BZ((B)=>qA(()=>{let C=A;return H(this.lookup(A),$Y(this.context),IC,f((E)=>{let I=B.unsafeCurrentTimeMillis(),Y=_w(I),G=WvA(i7(C),E,Y,I+b0(cQ(this.timeToLive(E))));return S0(this.cacheState.map,C,G),OQ(RX(Q,E),E)}),hY(()=>OQ(Qw(Q),CA(()=>{mC(this.cacheState.map,C)}))))}))}}var OvA=(A,Q,B)=>new LvA(A,F0(),B7,Q,(C)=>cQ(B(C)));var yB={};ZQ(yB,{stripSomeDefects:()=>MGA,stripFailures:()=>ebQ,squashWith:()=>IhQ,squash:()=>WE,size:()=>pbQ,sequential:()=>Yj,reduceWithContext:()=>o7,reduce:()=>$GA,prettyErrors:()=>wGA,pretty:()=>L5,parallel:()=>ju,originalError:()=>VhQ,match:()=>JhQ,map:()=>Q2,linearize:()=>tbQ,keepDefects:()=>sbQ,isUnknownException:()=>HhQ,isTimeoutException:()=>XhQ,isSequentialType:()=>dbQ,isRuntimeException:()=>zGA,isParallelType:()=>ubQ,isNoSuchElementException:()=>Uj,isInterruptedOnly:()=>XG,isInterruptedException:()=>UhQ,isInterrupted:()=>k2,isInterruptType:()=>fbQ,isIllegalArgumentException:()=>NhQ,isFailure:()=>lbQ,isFailType:()=>VGA,isExceededCapacityException:()=>KhQ,isEmptyType:()=>KGA,isEmpty:()=>cbQ,isDieType:()=>Gj,isDie:()=>ibQ,isCause:()=>WGA,interruptors:()=>Jj,interruptOption:()=>abQ,interrupt:()=>LH,flipCauseOption:()=>n7,flatten:()=>ChQ,flatMap:()=>QhQ,find:()=>YhQ,filter:()=>GhQ,failures:()=>nbQ,failureOrCause:()=>YZ,failureOption:()=>Dj,fail:()=>SU,empty:()=>wH,dieOption:()=>rbQ,die:()=>MI,defects:()=>obQ,contains:()=>EhQ,as:()=>AhQ,andThen:()=>BhQ,YieldableError:()=>HGA,UnknownExceptionTypeId:()=>mbQ,UnknownException:()=>FhQ,TimeoutExceptionTypeId:()=>TvA,TimeoutException:()=>ZhQ,RuntimeExceptionTypeId:()=>gbQ,RuntimeException:()=>jw,NoSuchElementExceptionTypeId:()=>kbQ,NoSuchElementException:()=>r7,InvalidPubSubCapacityExceptionTypeId:()=>bbQ,InterruptedExceptionTypeId:()=>vbQ,InterruptedException:()=>DhQ,IllegalArgumentExceptionTypeId:()=>ybQ,IllegalArgumentException:()=>gU,ExceededCapacityExceptionTypeId:()=>hbQ,ExceededCapacityException:()=>WhQ,CauseTypeId:()=>SbQ});var SbQ=um,gbQ=aP,vbQ=sP,ybQ=tP,kbQ=eP,bbQ=om,hbQ=A_,TvA=Q_,mbQ=B_,HGA=az,wH=VJ,SU=nN,MI=AI,LH=dG,ju=VY,Yj=bC,WGA=uP,KGA=pm,VGA=_TA,Gj=G7,fbQ=jTA,dbQ=xTA,ubQ=STA,pbQ=gTA,cbQ=BH,lbQ=vTA,ibQ=yTA,k2=bz,XG=J7,nbQ=hz,obQ=D7,Jj=U7,Dj=mz,YZ=v8,n7=kTA,rbQ=nCA,abQ=oCA,sbQ=cm,tbQ=hTA,ebQ=pP,MGA=fTA,AhQ=dTA,Q2=cP,QhQ=yz,BhQ=uTA,ChQ=lm,EhQ=pTA,WE=HqA,IhQ=XEA,YhQ=HX,GhQ=lTA,JhQ=WX,$GA=n1,o7=N7,DhQ=HEA,UhQ=Yf,gU=aN,NhQ=KqA,r7=g2,Uj=Gf,jw=FEA,zGA=WqA,ZhQ=WEA,XhQ=zqA,FhQ=$7,HhQ=wqA,WhQ=Jf,KhQ=MqA,L5=JD,wGA=iP,VhQ=eTA;var b={};ZQ(b,{zipWith:()=>Y2,zipRight:()=>VA,zipLeft:()=>$Z,zip:()=>zE,yieldNow:()=>dhA,withUnhandledErrorLogLevel:()=>RfA,withTracerTiming:()=>GdA,withTracerScoped:()=>YdA,withTracerEnabled:()=>ij,withTracer:()=>IdA,withSpanScoped:()=>HdA,withSpan:()=>oj,withSchedulingPriority:()=>_mA,withScheduler:()=>PmA,withRuntimeFlagsPatchScoped:()=>kfA,withRuntimeFlagsPatch:()=>yfA,withRequestCaching:()=>QdA,withRequestCache:()=>BdA,withRequestBatching:()=>AdA,withRandomScoped:()=>SfA,withRandom:()=>xfA,withParentSpan:()=>zZ,withMetric:()=>ufA,withMaxOpsBeforeYield:()=>jmA,withLogSpan:()=>H2A,withFiberRuntime:()=>KB,withEarlyRelease:()=>XmA,withConsoleScoped:()=>kmA,withConsole:()=>bmA,withConfigProviderScoped:()=>dmA,withConfigProvider:()=>tw,withConcurrency:()=>qmA,withClockScoped:()=>SmA,withClock:()=>gmA,whileLoop:()=>RY,whenRef:()=>CfA,whenLogLevel:()=>TfA,whenFiberRef:()=>BfA,whenEffect:()=>QfA,when:()=>dX,void:()=>u,validateWith:()=>nfA,validateFirst:()=>khA,validateAll:()=>yhA,validate:()=>ifA,using:()=>ZmA,useSpan:()=>uX,updateService:()=>J2A,updateFiberRefs:()=>$fA,unsandbox:()=>ahA,unsafeMakeSemaphore:()=>hU,unsafeMakeLatch:()=>cY,unlessEffect:()=>X2A,unless:()=>AfA,uninterruptibleMask:()=>eI,uninterruptible:()=>E2,tryPromise:()=>YE,tryMapPromise:()=>rhA,tryMap:()=>XZ,try:()=>VE,transposeOption:()=>VdA,transposeMapOption:()=>MdA,transplant:()=>TmA,tracerWith:()=>EdA,tracer:()=>CdA,timeoutTo:()=>mmA,timeoutOption:()=>kp,timeoutFailCause:()=>bp,timeoutFail:()=>sw,timeout:()=>mX,timedWith:()=>hmA,timed:()=>yp,tapErrorTag:()=>GfA,tapErrorCause:()=>pY,tapError:()=>F2A,tapDefect:()=>pj,tapBoth:()=>YfA,tap:()=>VB,takeWhile:()=>E2A,takeUntil:()=>OhA,tagMetricsScoped:()=>mfA,tagMetrics:()=>bfA,sync:()=>r,suspend:()=>LA,supervised:()=>RmA,summarized:()=>IfA,succeedSome:()=>fhA,succeedNone:()=>h2,succeed:()=>c,step:()=>sfA,spanLinks:()=>NdA,spanAnnotations:()=>UdA,sleep:()=>sG,setFiberRefs:()=>MfA,serviceOptional:()=>imA,serviceOption:()=>yH,serviceMembers:()=>lmA,serviceFunctions:()=>G2A,serviceFunctionEffect:()=>pmA,serviceFunction:()=>umA,serviceConstants:()=>cmA,sequentialFinalizers:()=>UmA,scopedWith:()=>kU,scoped:()=>fC,scopeWith:()=>gp,scope:()=>ME,scheduleFrom:()=>XfA,scheduleForked:()=>ZfA,schedule:()=>NfA,sandbox:()=>xp,runtime:()=>wI,runSyncExit:()=>lfA,runSync:()=>eB,runRequestBlock:()=>afA,runPromiseExit:()=>cfA,runPromise:()=>$D,runFork:()=>lY,runCallback:()=>pfA,retryOrElse:()=>ohA,retry:()=>OY,request:()=>tfA,replicateEffect:()=>Pp,replicate:()=>vhA,repeatOrElse:()=>UfA,repeatN:()=>mp,repeat:()=>v5,reduceWhile:()=>xhA,reduceRight:()=>ShA,reduceEffect:()=>ghA,reduce:()=>nw,randomWith:()=>jfA,random:()=>_fA,raceWith:()=>g5,raceFirst:()=>ew,raceAll:()=>EfA,race:()=>J3,provideServiceEffect:()=>vH,provideService:()=>Y0,provide:()=>SC,promise:()=>kX,patchRuntimeFlags:()=>vfA,patchFiberRefs:()=>VfA,partition:()=>jhA,parallelFinalizers:()=>DmA,parallelErrors:()=>nhA,orElseSucceed:()=>cp,orElseFail:()=>W2A,orElse:()=>lj,orDieWith:()=>qfA,orDie:()=>YB,optionFromOptional:()=>KdA,option:()=>rmA,once:()=>zhA,onInterrupt:()=>rw,onExit:()=>WZ,onError:()=>hX,none:()=>mhA,never:()=>ZZ,negate:()=>Sp,metricLabels:()=>dfA,mergeAll:()=>_hA,merge:()=>JmA,matchEffect:()=>w0,matchCauseEffect:()=>aC,matchCause:()=>KZ,match:()=>tG,mapInputContext:()=>B9,mapErrorCause:()=>GmA,mapError:()=>fE,mapBoth:()=>bX,mapAccum:()=>YmA,map:()=>h,makeSpanScoped:()=>nj,makeSpan:()=>np,makeSemaphore:()=>VZ,makeLatch:()=>MZ,loop:()=>DfA,logWithLevel:()=>up,logWarning:()=>f2,logTrace:()=>wfA,logInfo:()=>m2,logFatal:()=>pp,logError:()=>MD,logDebug:()=>$E,logAnnotations:()=>OfA,log:()=>cj,locallyWith:()=>fp,locallyScopedWith:()=>KfA,locallyScoped:()=>WfA,locally:()=>T0,linkSpans:()=>ZdA,linkSpanCurrent:()=>XdA,liftPredicate:()=>BmA,let:()=>omA,labelMetricsScoped:()=>ffA,labelMetrics:()=>hfA,iterate:()=>JfA,isSuccess:()=>dp,isFailure:()=>zfA,isEffect:()=>nB,intoDeferred:()=>I2,interruptibleMask:()=>QmA,interruptible:()=>zQ,interruptWith:()=>AmA,interrupt:()=>GE,inheritFiberRefs:()=>HfA,ignoreLogged:()=>ihA,ignore:()=>WG,if:()=>amA,head:()=>PhA,getRuntimeFlags:()=>gfA,getFiberRefs:()=>FfA,gen:()=>KA,functionWithSpan:()=>FdA,fromNullable:()=>WdA,fromFiberEffect:()=>OmA,fromFiber:()=>LmA,forkWithErrorHandler:()=>wmA,forkScoped:()=>R0,forkIn:()=>uQ,forkDaemon:()=>KG,forkAll:()=>zmA,fork:()=>aw,forever:()=>QY,forEach:()=>LB,fnUntraced:()=>XQ,fn:()=>op,flipWith:()=>ImA,flip:()=>EmA,flatten:()=>AY,flatMap:()=>v,firstSuccessOf:()=>PfA,findFirst:()=>qp,finalizersMask:()=>NmA,filterOrFail:()=>Z2A,filterOrElse:()=>N2A,filterOrDieMessage:()=>U2A,filterOrDie:()=>smA,filterMap:()=>qhA,filterEffectOrFail:()=>emA,filterEffectOrElse:()=>tmA,filter:()=>fj,fiberIdWith:()=>aG,fiberId:()=>vp,failSync:()=>ow,failCauseSync:()=>_p,failCause:()=>z0,fail:()=>ZA,exit:()=>rC,exists:()=>ThA,every:()=>RhA,eventually:()=>lhA,ensuringChildren:()=>$mA,ensuringChild:()=>MmA,ensuring:()=>$C,either:()=>S5,dropWhile:()=>mj,dropUntil:()=>hj,disconnect:()=>ehA,diffFiberRefs:()=>VmA,dieSync:()=>jp,dieMessage:()=>xE,die:()=>MC,descriptorWith:()=>KmA,descriptor:()=>WmA,delay:()=>bU,daemonChildren:()=>HmA,custom:()=>hhA,currentSpan:()=>ip,currentParentSpan:()=>DdA,contextWithEffect:()=>Y2A,contextWith:()=>fX,context:()=>xC,consoleWith:()=>ymA,console:()=>vmA,configProviderWith:()=>fmA,clockWith:()=>xmA,clock:()=>OJ,checkInterruptible:()=>thA,cause:()=>chA,catchTags:()=>j5,catchTag:()=>HG,catchSomeDefect:()=>phA,catchSomeCause:()=>gH,catchSome:()=>dj,catchIf:()=>VD,catchAllDefect:()=>_5,catchAllCause:()=>dQ,catchAll:()=>zI,catch:()=>uhA,cachedWithTTL:()=>VhA,cachedInvalidateWithTTL:()=>MhA,cachedFunction:()=>$hA,cached:()=>LJ,cacheRequestResult:()=>efA,blocked:()=>rfA,bindTo:()=>hp,bindAll:()=>nmA,bind:()=>uj,awaitAllChildren:()=>FmA,asyncEffect:()=>bhA,async:()=>OB,asVoid:()=>JE,asSomeError:()=>CmA,asSome:()=>x5,as:()=>IB,ap:()=>ofA,annotateSpans:()=>JdA,annotateLogsScoped:()=>LfA,annotateLogs:()=>a0,annotateCurrentSpan:()=>lp,andThen:()=>r0,allowInterrupt:()=>shA,allWith:()=>whA,allSuccesses:()=>LhA,all:()=>tI,addFinalizer:()=>HZ,acquireUseRelease:()=>FZ,acquireReleaseInterruptible:()=>I2A,acquireRelease:()=>kQ,Tag:()=>zdA,Service:()=>AL,EffectTypeId:()=>bj,Do:()=>D2A});var MhQ="effect/ScheduleInterval",Nj=Symbol.for(MhQ),LGA={[Nj]:Nj,startMillis:0,endMillis:0},xu=(A,Q)=>{if(A>Q)return LGA;return{[Nj]:Nj,startMillis:A,endMillis:Q}},qvA=F(2,(A,Q)=>PvA(A,Q)===A),PvA=F(2,(A,Q)=>{if(A.endMillis<=Q.startMillis)return A;if(Q.endMillis<=A.startMillis)return Q;if(A.startMillis<Q.startMillis)return A;if(Q.startMillis<A.startMillis)return Q;if(A.endMillis<=Q.endMillis)return A;return Q});var _vA=(A)=>{return A.startMillis>=A.endMillis};var jvA=F(2,(A,Q)=>{let B=Math.max(A.startMillis,Q.startMillis),C=Math.min(A.endMillis,Q.endMillis);return xu(B,C)}),xvA=(A)=>{return lC(A.endMillis-A.startMillis)};var SvA=(A)=>{return xu(A,Number.POSITIVE_INFINITY)};var b2=xu,OGA=LGA,gvA=qvA;var vvA=_vA;var yvA=jvA,kvA=xvA;var r8=SvA;var zhQ="effect/ScheduleIntervals",TGA=Symbol.for(zhQ),gu=(A)=>{return{[TGA]:TGA,intervals:A}};var hvA=F(2,(A,Q)=>{if(!qB(Q.intervals))return A;if(!qB(A.intervals))return Q;if(aB(A.intervals).startMillis<aB(Q.intervals).startMillis)return bvA(k0(A.intervals),Q.intervals,aB(A.intervals),hA());return bvA(A.intervals,k0(Q.intervals),aB(Q.intervals),hA())}),bvA=(A,Q,B,C)=>{let E=A,I=Q,Y=B,G=C;while(qB(E)||qB(I))if(!qB(E)&&qB(I))if(Y.endMillis<aB(I).startMillis)G=H(G,pB(Y)),Y=aB(I),I=k0(I),E=hA();else Y=b2(Y.startMillis,aB(I).endMillis),I=k0(I),E=hA();else if(qB(E)&&SQ(I))if(Y.endMillis<aB(E).startMillis)G=H(G,pB(Y)),Y=aB(E),I=hA(),E=k0(E);else Y=b2(Y.startMillis,aB(E).endMillis),I=hA(),E=k0(E);else if(qB(E)&&qB(I))if(aB(E).startMillis<aB(I).startMillis)if(Y.endMillis<aB(E).startMillis)G=H(G,pB(Y)),Y=aB(E),E=k0(E);else Y=b2(Y.startMillis,aB(E).endMillis),E=k0(E);else if(Y.endMillis<aB(I).startMillis)G=H(G,pB(Y)),Y=aB(I),I=k0(I);else Y=b2(Y.startMillis,aB(I).endMillis),I=k0(I);else throw new Error(a9("Intervals.unionLoop"));return gu(H(G,pB(Y),KJ))},mvA=F(2,(A,Q)=>whQ(A.intervals,Q.intervals,hA())),whQ=(A,Q,B)=>{let C=A,E=Q,I=B;while(qB(C)&&qB(E)){let Y=H(aB(C),yvA(aB(E))),G=vvA(Y)?I:H(I,pB(Y));if(H(aB(C),gvA(aB(E))))C=k0(C);else E=k0(E);I=G}return gu(KJ(I))},Su=(A)=>{return H(A.intervals,_8,YQ(()=>OGA)).startMillis},fvA=(A)=>{return H(A.intervals,_8,YQ(()=>OGA)).endMillis},qGA=F(2,(A,Q)=>Su(A)<Su(Q)),dvA=(A)=>{return qB(A.intervals)},uvA=F(2,(A,Q)=>qGA(A,Q)?Q:A);var pvA=gu;var PGA=hvA,cvA=mvA,OH=Su,vu=fvA,lvA=qGA,ivA=dvA,nvA=uvA;var _GA="Continue",ovA="Done",rvA=(A)=>{return{_tag:_GA,intervals:A}},avA=(A)=>{return{_tag:_GA,intervals:pvA(dA(A))}},svA={_tag:ovA},tvA=(A)=>{return A._tag===_GA},evA=(A)=>{return A._tag===ovA};var a7=rvA;var dY=avA,GZ=svA,O5=tvA,FG=evA;var UC={};ZQ(UC,{use:()=>qhQ,make:()=>oG,fork:()=>RH,extend:()=>IE,close:()=>KE,addFinalizerExit:()=>KD,addFinalizer:()=>jC,ScopeTypeId:()=>RhQ,Scope:()=>aI,CloseableScopeTypeId:()=>ThQ});var RhQ=U_,ThQ=N_,aI=LY,jC=rz,KD=ZH,KE=oJ,IE=WD,RH=V7,qhQ=GGA,oG=ZG;var sI={};ZQ(sI,{unsafeStruct:()=>PhQ,unsafeArray:()=>SGA,tuple:()=>_hQ,taggedEnum:()=>s8,tagged:()=>s7,struct:()=>TH,case:()=>jhQ,array:()=>xGA,TaggedError:()=>gX,TaggedClass:()=>a8,Structural:()=>xhQ,Error:()=>xw,Class:()=>t7});var TH=xz,PhQ=(A)=>Object.setPrototypeOf(A,M8),_hQ=(...A)=>SGA(A),xGA=(A)=>SGA(A.slice(0)),SGA=(A)=>Object.setPrototypeOf(A,iRA),jhQ=()=>(A)=>A===void 0?Object.create(M8):TH(A);var s7=(A)=>(Q)=>{let B=Q===void 0?Object.create(M8):TH(Q);return B._tag=A,B},t7=x2,a8=(A)=>{class Q extends t7{_tag=A}return Q},xhQ=x2,s8=()=>new Proxy({},{get(A,Q,B){if(Q==="$is")return dI;else if(Q==="$match")return ShQ;return s7(Q)}});function ShQ(){if(arguments.length===1){let B=arguments[0];return function(C){return B[C._tag](C)}}let A=arguments[0];return arguments[1][A._tag](A)}var xw=function(){let A=Symbol.for("effect/Data/Error/plainArgs");return{BaseEffectError:class extends az{constructor(B){super(B?.message,B?.cause?{cause:B.cause}:void 0);if(B)Object.assign(this,B),Object.defineProperty(this,A,{value:B,enumerable:!1})}toJSON(){return{...this[A],...this}}}}.BaseEffectError}(),gX=(A)=>{let Q={BaseEffectError:class extends xw{_tag=A}};return Q.BaseEffectError.prototype.name=A,Q.BaseEffectError};var ku=Symbol.for("effect/DateTime"),bu=Symbol.for("effect/DateTime/TimeZone"),AyA={[ku]:ku,pipe(){return e(this,arguments)},[sA](){return this.toString()},toJSON(){return R5(this).toJSON()}},ghQ={...AyA,_tag:"Utc",[TA](){return rA(this,s9(this.epochMillis))},[PA](A){return Sw(A)&&A._tag==="Utc"&&this.epochMillis===A.epochMillis},toString(){return`DateTime.Utc(${R5(this).toJSON()})`}},vhQ={...AyA,_tag:"Zoned",[TA](){return H(s9(this.epochMillis),FA(QA(this.zone)),rA(this))},[PA](A){return Sw(A)&&A._tag==="Zoned"&&this.epochMillis===A.epochMillis&&JA(this.zone,A.zone)},toString(){return`DateTime.Zoned(${lGA(this)})`}},QyA={[bu]:bu,[sA](){return this.toString()}},yhQ={...QyA,_tag:"Named",[TA](){return rA(this,LQ(`Named:${this.id}`))},[PA](A){return qH(A)&&A._tag==="Named"&&this.id===A.id},toString(){return`TimeZone.Named(${this.id})`},toJSON(){return{_id:"TimeZone",_tag:"Named",id:this.id}}},khQ={...QyA,_tag:"Offset",[TA](){return rA(this,LQ(`Offset:${this.offset}`))},[PA](A){return qH(A)&&A._tag==="Offset"&&this.offset===A.offset},toString(){return`TimeZone.Offset(${fGA(this.offset)})`},toJSON(){return{_id:"TimeZone",_tag:"Offset",offset:this.offset}}},yGA=(A,Q,B)=>{let C=Object.create(vhQ);return C.epochMillis=A,C.zone=Q,Object.defineProperty(C,"partsUtc",{value:B,enumerable:!1,writable:!0}),Object.defineProperty(C,"adjustedEpochMillis",{value:void 0,enumerable:!1,writable:!0}),Object.defineProperty(C,"partsAdjusted",{value:void 0,enumerable:!1,writable:!0}),C},Sw=(A)=>o(A,ku);var qH=(A)=>o(A,bu),ByA=(A)=>qH(A)&&A._tag==="Offset",hu=(A)=>qH(A)&&A._tag==="Named",CyA=(A)=>A._tag==="Utc",kGA=(A)=>A._tag==="Zoned",EyA=TE((A,Q)=>A.epochMillis===Q.epochMillis);var IyA=(A)=>{let Q=Object.create(ghQ);return Q.epochMillis=A,Object.defineProperty(Q,"partsUtc",{value:void 0,enumerable:!1,writable:!0}),Q},Zj=(A)=>{let Q=A.getTime();if(Number.isNaN(Q))throw new gU("Invalid date");return IyA(Q)},bGA=(A)=>{if(Sw(A))return A;else if(A instanceof Date)return Zj(A);else if(typeof A==="object"){let Q=new Date(0);return phQ(Q,A),Zj(Q)}return Zj(new Date(A))},bhQ=-8639999956800000,hhQ=8639999949600000,e7=(A,Q)=>{if(Q?.timeZone===void 0&&Sw(A)&&kGA(A))return A;let B=bGA(A);if(B.epochMillis<bhQ||B.epochMillis>hhQ)throw new gU(`Epoch millis out of range: ${B.epochMillis}`);let C;if(Q?.timeZone===void 0){let E=new Date(B.epochMillis).getTimezoneOffset()*-60*1000;C=Fj(E)}else if(qH(Q?.timeZone))C=Q.timeZone;else if(typeof Q?.timeZone==="number")C=Fj(Q.timeZone);else{let E=Hj(Q.timeZone);if(cA(E))throw new gU(`Invalid time zone: ${Q.timeZone}`);C=E.value}if(Q?.adjustForTimeZone!==!0)return yGA(B.epochMillis,C,B.partsUtc);return ZyA(B.epochMillis,C)},gGA=AX(e7);var mhQ=/^(.{17,35})\[(.+)\]$/,YyA=(A)=>{let Q=mhQ.exec(A);if(Q===null){let E=pGA(A);return E!==null?gGA(A,{timeZone:E}):x()}let[,B,C]=Q;return gGA(B,{timeZone:C})};var Xj=xA("effect/DateTime/validZoneCache",()=>new Map),fhQ={day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"longOffset",fractionalSecondDigits:3,hourCycle:"h23"},dhQ=(A)=>{let Q=A.resolvedOptions().timeZone;if(Xj.has(Q))return Xj.get(Q);let B=Object.create(yhQ);return B.id=Q,B.format=A,Xj.set(Q,B),B},hGA=(A)=>{if(Xj.has(A))return Xj.get(A);try{return dhQ(new Intl.DateTimeFormat("en-US",{...fhQ,timeZone:A}))}catch{throw new gU(`Invalid time zone: ${A}`)}},Fj=(A)=>{let Q=Object.create(khQ);return Q.offset=A,Q},GyA=AX(hGA);var uhQ=/^(?:GMT|[+-])/,Hj=(A)=>{if(uhQ.test(A)){let Q=pGA(A);return Q===null?x():j(Fj(Q))}return GyA(A)},JyA=(A)=>{if(A._tag==="Offset")return fGA(A.offset);return A.id};var R5=(A)=>new Date(A.epochMillis),A3=(A)=>{if(A._tag==="Utc")return new Date(A.epochMillis);else if(A.zone._tag==="Offset")return new Date(A.epochMillis+A.zone.offset);else if(A.adjustedEpochMillis!==void 0)return new Date(A.adjustedEpochMillis);let Q=A.zone.format.formatToParts(A.epochMillis).filter((C)=>C.type!=="literal"),B=new Date(0);return B.setUTCFullYear(Number(Q[2].value),Number(Q[0].value)-1,Number(Q[1].value)),B.setUTCHours(Number(Q[3].value),Number(Q[4].value),Number(Q[5].value),Number(Q[6].value)),A.adjustedEpochMillis=B.getTime(),B},mGA=(A)=>{return A3(A).getTime()-dGA(A)},fGA=(A)=>{let Q=Math.abs(A),B=Math.floor(Q/3600000),C=Math.round(Q%3600000/60000);if(C===60)B+=1,C=0;return`${A<0?"-":"+"}${String(B).padStart(2,"0")}:${String(C).padStart(2,"0")}`},DyA=(A)=>fGA(mGA(A)),dGA=(A)=>A.epochMillis;var UyA=(A)=>({millis:A.getUTCMilliseconds(),seconds:A.getUTCSeconds(),minutes:A.getUTCMinutes(),hours:A.getUTCHours(),day:A.getUTCDate(),weekDay:A.getUTCDay(),month:A.getUTCMonth()+1,year:A.getUTCFullYear()}),uGA=(A)=>{if(A._tag==="Utc")return NyA(A);else if(A.partsAdjusted!==void 0)return A.partsAdjusted;return A.partsAdjusted=XyA(A,UyA),A.partsAdjusted},NyA=(A)=>{if(A.partsUtc!==void 0)return A.partsUtc;return A.partsUtc=FyA(A,UyA),A.partsUtc};var phQ=(A,Q)=>{if(Q.year!==void 0)A.setUTCFullYear(Q.year);if(Q.month!==void 0)A.setUTCMonth(Q.month-1);if(Q.day!==void 0)A.setUTCDate(Q.day);if(Q.weekDay!==void 0){let B=Q.weekDay-A.getUTCDay();A.setUTCDate(A.getUTCDate()+B)}if(Q.hours!==void 0)A.setUTCHours(Q.hours);if(Q.minutes!==void 0)A.setUTCMinutes(Q.minutes);if(Q.seconds!==void 0)A.setUTCSeconds(Q.seconds);if(Q.millis!==void 0)A.setUTCMilliseconds(Q.millis)};var ZyA=(A,Q)=>{let B=Q._tag==="Offset"?Q.offset:lhQ(A,Q);return yGA(A-B,Q)},chQ=/([+-])(\d{2}):(\d{2})$/,pGA=(A)=>{let Q=chQ.exec(A);if(Q===null)return null;let[,B,C,E]=Q;return(B==="+"?1:-1)*(Number(C)*60+Number(E))*60*1000},lhQ=(A,Q)=>{let B=Q.format.formatToParts(A).find((E)=>E.type==="timeZoneName")?.value??"";if(B==="GMT")return 0;let C=pGA(B);if(C===null)return mGA(yGA(A,Q));return C},cGA=F(2,(A,Q)=>{if(A._tag==="Utc"){let E=R5(A);return Q(E),IyA(E.getTime())}let B=A3(A),C=new Date(B.getTime());return Q(C),ZyA(C.getTime(),A.zone)});var XyA=F(2,(A,Q)=>Q(A3(A))),FyA=F(2,(A,Q)=>Q(R5(A)));var HyA=(A)=>R5(A).toISOString();var vGA=(A)=>{let Q=A3(A);return A._tag==="Utc"?Q.toISOString():`${Q.toISOString().slice(0,-1)}${DyA(A)}`},lGA=(A)=>A.zone._tag==="Offset"?vGA(A):`${vGA(A)}[${A.zone.id}]`;var KyA=YzA;var nhQ=(A)=>A.toUpperCase(),ohQ=(A)=>A.toLowerCase(),VyA=(A)=>{if(A.length===0)return A;return nhQ(A[0])+A.slice(1)},MyA=(A)=>{if(A.length===0)return A;return ohQ(A[0])+A.slice(1)};var mu=(A)=>A.length>0;var nGA=Symbol.for("effect/Cron"),rhQ={[nGA]:nGA,[PA](A){return oGA(A)&&AmQ(this,A)},[TA](){return H(QA(this.tz),FA(XY(aA(this.seconds))),FA(XY(aA(this.minutes))),FA(XY(aA(this.hours))),FA(XY(aA(this.days))),FA(XY(aA(this.months))),FA(XY(aA(this.weekdays))),rA(this))},toString(){return PQ(this.toJSON())},toJSON(){return{_id:"Cron",tz:this.tz,seconds:aA(this.seconds),minutes:aA(this.minutes),hours:aA(this.hours),days:aA(this.days),months:aA(this.months),weekdays:aA(this.weekdays)}},[sA](){return this.toJSON()},pipe(){return e(this,arguments)}},oGA=(A)=>o(A,nGA),ahQ=(A)=>{let Q=Object.create(rhQ);Q.seconds=new Set(EG(A.seconds??[0],xI)),Q.minutes=new Set(EG(A.minutes,xI)),Q.hours=new Set(EG(A.hours,xI)),Q.days=new Set(EG(A.days,xI)),Q.months=new Set(EG(A.months,xI)),Q.weekdays=new Set(EG(A.weekdays,xI)),Q.tz=aQ(A.tz);let B=Array.from(Q.seconds),C=Array.from(Q.minutes),E=Array.from(Q.hours),I=Array.from(Q.days),Y=Array.from(Q.months),G=Array.from(Q.weekdays);return Q.first={second:B[0]??0,minute:C[0]??0,hour:E[0]??0,day:I[0]??1,month:(Y[0]??1)-1,weekday:G[0]??0},Q.next={second:gw(B,60),minute:gw(C,60),hour:gw(E,24),day:gw(I,32),month:gw(Y,13),weekday:gw(G,7)},Q},gw=(A,Q)=>{let B=new Array(Q).fill(void 0);if(A.length===0)return B;let C=void 0,E=A.length-1;for(let I=Q-1;I>=0;I--){while(E>=0&&A[E]>=I)C=A[E--];B[I]=C}return B},$yA=Symbol.for("effect/Cron/errors/ParseError");class t8 extends gX("CronParseError"){[$yA]=$yA}var zyA=(A,Q)=>{let B=A.split(" ").filter(mu);if(B.length!==5&&B.length!==6)return wA(new t8({message:"Invalid number of segments in cron expression",input:A}));if(B.length===5)B.unshift("0");let[C,E,I,Y,G,J]=B,D=Q===void 0||qH(Q)?$A(Q):h$(Hj(Q),()=>new t8({message:"Invalid time zone in cron expression",input:Q}));return yzA({tz:D,seconds:yw(C,QmQ),minutes:yw(E,BmQ),hours:yw(I,CmQ),days:yw(Y,EmQ),months:yw(G,ImQ),weekdays:yw(J,YmQ)}).pipe(e9(ahQ))};var wyA=(A,Q)=>{let B=e7(Q,{timeZone:gB(A.tz)}).pipe(uGA);if(A.seconds.size!==0&&!A.seconds.has(B.seconds))return!1;if(A.minutes.size!==0&&!A.minutes.has(B.minutes))return!1;if(A.hours.size!==0&&!A.hours.has(B.hours))return!1;if(A.months.size!==0&&!A.months.has(B.month))return!1;if(A.days.size===0&&A.weekdays.size===0)return!0;if(A.weekdays.size===0)return A.days.has(B.day);if(A.days.size===0)return A.weekdays.has(B.weekDay);return A.days.has(B.day)||A.weekdays.has(B.weekDay)},shQ=(A)=>new Date(Date.UTC(A.getUTCFullYear(),A.getUTCMonth()+1,0)).getUTCDate(),LyA=(A,Q)=>{let B=gB(A.tz),C=e7(Q??new Date,{timeZone:B}),I=B!==void 0&&hu(B)&&B.id==="UTC"?l0:(G)=>{let J=e7(G,{timeZone:C.zone,adjustForTimeZone:!0}).pipe(A3),D=G.getTime()-J.getTime();if(D>0)G.setTime(G.getTime()+D)},Y=cGA(C,(G)=>{G.setUTCSeconds(G.getUTCSeconds()+1,0);for(let J=0;J<1e4;J++){if(A.seconds.size!==0){let D=G.getUTCSeconds(),U=A.next.second[D];if(U===void 0){G.setUTCMinutes(G.getUTCMinutes()+1,A.first.second),I(G);continue}if(U>D){G.setUTCSeconds(U),I(G);continue}}if(A.minutes.size!==0){let D=G.getUTCMinutes(),U=A.next.minute[D];if(U===void 0){G.setUTCHours(G.getUTCHours()+1,A.first.minute,A.first.second),I(G);continue}if(U>D){G.setUTCMinutes(U,A.first.second),I(G);continue}}if(A.hours.size!==0){let D=G.getUTCHours(),U=A.next.hour[D];if(U===void 0){G.setUTCDate(G.getUTCDate()+1),G.setUTCHours(A.first.hour,A.first.minute,A.first.second),I(G);continue}if(U>D){G.setUTCHours(U,A.first.minute,A.first.second),I(G);continue}}if(A.weekdays.size!==0||A.days.size!==0){let D=1/0,U=1/0;if(A.weekdays.size!==0){let Z=G.getUTCDay(),X=A.next.weekday[Z];D=X===void 0?7-Z+A.first.weekday:X-Z}if(A.days.size!==0&&D!==0){let Z=G.getUTCDate(),X=A.next.day[Z];U=X===void 0?shQ(G)-Z+A.first.day:X-Z}let N=Math.min(D,U);if(N!==0){G.setUTCDate(G.getUTCDate()+N),G.setUTCHours(A.first.hour,A.first.minute,A.first.second),I(G);continue}}if(A.months.size!==0){let D=G.getUTCMonth()+1,U=A.next.month[D];if(U===void 0){G.setUTCFullYear(G.getUTCFullYear()+1),G.setUTCMonth(A.first.month,A.first.day),G.setUTCHours(A.first.hour,A.first.minute,A.first.second),I(G);continue}if(U>D){G.setUTCMonth(U-1,A.first.day),G.setUTCHours(A.first.hour,A.first.minute,A.first.second),I(G);continue}}return}throw new Error("Unable to find next cron date")});return R5(Y)};var thQ=TE((A,Q)=>vw(A.seconds,Q.seconds)&&vw(A.minutes,Q.minutes)&&vw(A.hours,Q.hours)&&vw(A.days,Q.days)&&vw(A.months,Q.months)&&vw(A.weekdays,Q.weekdays)),ehQ=vb(gb),vw=(A,Q)=>ehQ(aA(A),aA(Q)),AmQ=F(2,(A,Q)=>thQ(A,Q)),QmQ={min:0,max:59},BmQ={min:0,max:59},CmQ={min:0,max:23},EmQ={min:1,max:31},ImQ={min:1,max:12,aliases:{jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12}},YmQ={min:0,max:6,aliases:{sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6}},yw=(A,Q)=>{let B=Q.max-Q.min+1,C=new Set,E=A.split(",");for(let I of E){let[Y,G]=GmQ(I);if(Y==="*"&&G===void 0)return $A(new Set);if(G!==void 0){if(!Number.isInteger(G))return wA(new t8({message:"Expected step value to be a positive integer",input:A}));if(G<1)return wA(new t8({message:"Expected step value to be greater than 0",input:A}));if(G>Q.max)return wA(new t8({message:`Expected step value to be less than ${Q.max}`,input:A}))}if(Y==="*")for(let J=Q.min;J<=Q.max;J+=G??1)C.add(J);else{let[J,D]=JmQ(Y,Q.aliases);if(!Number.isInteger(J))return wA(new t8({message:"Expected a positive integer",input:A}));if(J<Q.min||J>Q.max)return wA(new t8({message:`Expected a value between ${Q.min} and ${Q.max}`,input:A}));if(D===void 0)C.add(J);else{if(!Number.isInteger(D))return wA(new t8({message:"Expected a positive integer",input:A}));if(D<Q.min||D>Q.max)return wA(new t8({message:`Expected a value between ${Q.min} and ${Q.max}`,input:A}));if(J>D)return wA(new t8({message:"Invalid value range",input:A}));for(let U=J;U<=D;U+=G??1)C.add(U)}}if(C.size>=B)return $A(new Set)}return $A(C)},GmQ=(A)=>{let Q=A.indexOf("/");if(Q!==-1)return[A.slice(0,Q),Number(A.slice(Q+1))];return[A,void 0]},JmQ=(A,Q)=>{let B=A.indexOf("-");if(B!==-1)return[iGA(A.slice(0,B),Q),iGA(A.slice(B+1),Q)];return[iGA(A,Q),void 0]};function iGA(A,Q){return Q?.[A.toLocaleLowerCase()]??Number(A)}var RyA=vPA;var DmQ="effect/Schedule",pu=Symbol.for(DmQ),cu=(A)=>o(A,pu),UmQ="effect/ScheduleDriver",sGA=Symbol.for(UmQ),NmQ={_Out:(A)=>A,_In:(A)=>A,_R:(A)=>A},ZmQ={_Out:(A)=>A,_In:(A)=>A,_R:(A)=>A};class PyA{initial;step;[pu]=NmQ;constructor(A,Q){this.initial=A,this.step=Q}pipe(){return e(this,arguments)}}class _yA{schedule;ref;[sGA]=ZmQ;constructor(A,Q){this.schedule=A,this.ref=Q}get state(){return GA(sJ(this.ref),(A)=>A[1])}get last(){return f(sJ(this.ref),([A,Q])=>{switch(A._tag){case"None":return $U(()=>new g2);case"Some":return n(A.value)}})}get reset(){return QZ(this.ref,[x(),this.schedule.initial])}next(A){return H(GA(sJ(this.ref),(Q)=>Q[1]),f((Q)=>H(wJ,f((B)=>H(qA(()=>this.schedule.step(B,A,Q)),f(([C,E,I])=>{let Y=QZ(this.ref,[j(E),C]);if(FG(I))return OQ(Y,HB(x()));let G=OH(I.intervals)-B;if(G<=0)return lB(Y,E);return H(Y,OQ(jX(lC(G))),lB(E))}))))))}}var o0=(A,Q)=>new PyA(A,Q),lu=F(2,(A,Q)=>tGA(A,(B)=>CA(()=>Q(B)))),tGA=F(2,(A,Q)=>Vj(A,(B,C)=>GA(Q(B),(E)=>Qm(C,cQ(E))))),jyA=F(2,(A,Q)=>rG(eGA(A,Q),wF)),eGA=F(2,(A,Q)=>o0([A.initial,Q.initial,!0],(B,C,E)=>E[2]?f(A.step(B,C,E[0]),([I,Y,G])=>{if(FG(G))return GA(Q.step(B,C,E[1]),([J,D,U])=>[[I,J,!1],$A(D),U]);return n([[I,E[1],!0],wA(Y),G])}):GA(Q.step(B,C,E[1]),([I,Y,G])=>[[E[0],I,!1],$A(Y),G]))),xyA=F(2,(A,Q)=>rG(A,()=>Q)),iu=(A)=>rG(A,l0),SyA=F(2,(A,Q)=>o0([A.initial,Q.initial],(B,[C,E],I)=>lJ(A.step(B,C,I[0]),Q.step(B,E,I[1]),([Y,G,J],[D,U,N])=>{if(O5(J)&&O5(N)){let Z=H(J.intervals,PGA(N.intervals));return[[Y,D],[G,U],a7(Z)]}return[[Y,D],[G,U],GZ]}))),kw=F(2,(A,Q)=>Q3(A,(B,C)=>CA(()=>Q(B,C)))),Q3=F(2,(A,Q)=>o0(A.initial,(B,C,E)=>f(A.step(B,C,E),([I,Y,G])=>{if(FG(G))return n([I,Y,GZ]);return GA(Q(C,Y),(J)=>J?[I,Y,G]:[I,Y,GZ])}))),gyA=()=>B3(T5()),B3=(A)=>au(A,hA(),(Q,B)=>H(Q,QE(B))),vyA=(A)=>B3(IJA(A)),yyA=(A)=>B3(YJA(A)),kyA=(A)=>B3(JJA(A)),byA=(A)=>B3(DJA(A)),hyA=F(2,(A,Q)=>o0([A.initial,Q.initial],(B,C,E)=>f(A.step(B,C,E[0]),([I,Y,G])=>GA(Q.step(B,Y,E[1]),([J,D,U])=>FG(G)?[[I,J],D,GZ]:FG(U)?[[I,J],D,GZ]:[[I,J],D,a7(H(G.intervals,nvA(U.intervals)))])))),AJA=F(2,(A,Q)=>nu(A,(B)=>CA(()=>Q(B)))),myA=F(2,(A,Q)=>o0(A.initial,(B,C,E)=>OU(A.step(B,C,E),Q))),nu=F(2,(A,Q)=>o0(A.initial,(B,C,E)=>f(Q(C),(I)=>A.step(B,I,E)))),fyA=(A,Q)=>{let B=oGA(A)?$A(A):zyA(A,Q);return o0([!0,[Number.MIN_SAFE_INTEGER,0,0]],(C,E,[I,Y])=>{if(C<Y[0])return n([[!1,Y],[Y[1],Y[2]],dY(b2(Y[1],Y[2]))]);if(M0(B))return DD(B.left);let G=B.right,J=new Date(C),D;if(I&&wyA(G,J))D=C;D=LyA(G,J).getTime();let U=KJA(D),N=qkA(D);return n([[!1,[D,U,N]],[U,N],dY(b2(U,N))])})},dyA=(A)=>{return o0([Number.NEGATIVE_INFINITY,0],(Q,B,C)=>{if(!Number.isInteger(A)||A<1||31<A)return UD(()=>new aN(`Invalid argument in: dayOfMonth(${A}). Must be in range 1...31`));let E=C[1],Y=MmQ(Q,A,E===0),G=VJA(Y),J=jkA(Y),D=b2(G,J);return n([[J,E+1],E,dY(D)])})},uyA=(A)=>{return o0([Number.MIN_SAFE_INTEGER,0],(Q,B,C)=>{if(!Number.isInteger(A)||A<1||7<A)return UD(()=>new aN(`Invalid argument in: dayOfWeek(${A}). Must be in range 1 (Monday)...7 (Sunday)`));let E=C[1],Y=VmQ(Q,A,E===0),G=VJA(Y),J=jkA(Y),D=b2(G,J);return n([[J,E+1],E,dY(D)])})},pyA=F(2,(A,Q)=>ou(A,(B)=>CA(()=>Q(B)))),ou=F(2,(A,Q)=>Vj(A,(B,C)=>Q(C))),Wj=(A)=>lu(A,(Q)=>Q),cyA=(A)=>o0(A.initial,(Q,B,C)=>H(A.step(Q,B,C),f(([E,I,Y])=>{if(FG(Y))return n([E,GD,Y]);return n([E,lC(OH(Y.intervals)-Q),Y])}))),lyA=F(2,(A,{onInput:Q,onOutput:B})=>rG(AJA(A,Q),B)),iyA=F(2,(A,{onInput:Q,onOutput:B})=>ru(nu(A,Q),B)),Kj=(A)=>H(_7([x(),A.initial]),GA((Q)=>new _yA(A,Q))),QJA=(A)=>{let Q=cQ(A),B=b0(Q);return o0(!0,(C,E,I)=>n(I?[!1,Q,dY(r8(C+B))]:[!1,GD,GZ]))},nyA=F(2,(A,Q)=>ZJA(A,Q)),oyA=F(3,(A,Q,B)=>su(A,Q,B)),ryA=F(2,(A,Q)=>o0(A.initial,(B,C,E)=>f(A.step(B,C,E),([I,Y,G])=>FG(G)?lB(Q,[I,Y,G]):n([I,Y,G])))),ayA=(A,Q=2)=>{let B=cQ(A);return Wj(rG(e8,(C)=>Am(B,Math.pow(Q,C))))},syA=(A)=>{let Q=cQ(A);return Wj(H(Mj([Q,Q],([B,C])=>[C,Qm(B,C)]),rG((B)=>B[0])))},tyA=(A)=>{let Q=cQ(A),B=b0(Q);return o0([x(),0],(C,E,[I,Y])=>CA(()=>{switch(I._tag){case"None":return[[j([C,C+B]),Y+1],Y,dY(r8(C+B))];case"Some":{let[G,J]=I.value,D=C>J+B,U=JA(Q,GD)?Q:lC(B-(C-G)%B),N=JA(U,GD)?Q:U,Z=D?C:C+b0(N);return[[j([G,Z]),Y+1],Y,dY(r8(Z))]}}}))},eyA=(A)=>QJA(A),AkA=(A,...Q)=>o0([[A,...Q].map((B)=>cQ(B)),!0],(B,C,[E,I])=>CA(()=>{if(I){let Y=E[0],G=r8(B+b0(Y));if(E.length>=2)return[[E.slice(1),!0],Y,dY(G)];let J=E.slice(1);return[[[Y,...J],!1],Y,dY(G)]}return[[E,!1],GD,GZ]})),QkA=(A)=>rG(T5(),A),BkA=(A)=>o0([Number.NEGATIVE_INFINITY,0],(Q,B,C)=>{if(!Number.isInteger(A)||A<0||23<A)return UD(()=>new aN(`Invalid argument in: hourOfDay(${A}). Must be in range 0...23`));let E=C[1],Y=KmQ(Q,A,E===0),G=_kA(Y),J=WmQ(Y),D=b2(G,J);return n([[J,E+1],E,dY(D)])}),T5=()=>o0(void 0,(A,Q,B)=>n([B,Q,dY(r8(A))])),PH=F(2,(A,Q)=>BJA(A,Q,cvA)),BJA=F(3,(A,Q,B)=>o0([A.initial,Q.initial],(C,E,I)=>H(lJ(A.step(C,E,I[0]),Q.step(C,E,I[1]),(Y,G)=>[Y,G]),f(([[Y,G,J],[D,U,N]])=>{if(O5(J)&&O5(N))return rGA(A,Q,E,Y,G,J.intervals,D,U,N.intervals,B);return n([[Y,D],[G,U],GZ])})))),rGA=(A,Q,B,C,E,I,Y,G,J,D)=>{let U=D(I,J);if(ivA(U))return n([[C,Y],[E,G],a7(U)]);if(H(I,lvA(J)))return f(A.step(vu(I),B,C),([N,Z,X])=>{if(FG(X))return n([[N,Y],[Z,G],GZ]);return rGA(A,Q,B,N,Z,X.intervals,Y,G,J,D)});return f(Q.step(vu(J),B,Y),([N,Z,X])=>{if(FG(X))return n([[C,N],[E,Z],GZ]);return rGA(A,Q,B,C,E,I,N,Z,X.intervals,D)})},CkA=(A)=>CJA(A,{min:0.8,max:1.2}),CJA=F(2,(A,Q)=>{let{max:B,min:C}=Object.assign({min:0.8,max:1.2},Q);return ou(A,(E)=>GA(RyA,(I)=>{let Y=b0(E),G=Y*C*(1-I)+Y*B*I;return lC(G)}))}),EkA=(A)=>{let Q=cQ(A);return Wj(rG(e8,(B)=>Am(Q,B+1)))},rG=F(2,(A,Q)=>ru(A,(B)=>CA(()=>Q(B)))),ru=F(2,(A,Q)=>o0(A.initial,(B,C,E)=>f(A.step(B,C,E),([I,Y,G])=>GA(Q(Y),(J)=>[I,J,G])))),IkA=(A)=>o0([Number.MIN_SAFE_INTEGER,0],(Q,B,C)=>{if(!Number.isInteger(A)||A<0||59<A)return UD(()=>new aN(`Invalid argument in: minuteOfHour(${A}). Must be in range 0...59`));let E=C[1],Y=HmQ(Q,A,E===0),G=PkA(Y),J=FmQ(Y),D=b2(G,J);return n([[J,E+1],E,dY(D)])}),YkA=F(2,(A,Q)=>Vj(A,(B,C)=>CA(()=>Q(B,C)))),Vj=F(2,(A,Q)=>o0(A.initial,(B,C,E)=>f(A.step(B,C,E),([I,Y,G])=>{if(FG(G))return n([I,Y,G]);let J=G.intervals,D=kvA(b2(B,OH(J)));return GA(Q(Y,D),(U)=>{let N=cQ(U),Z=OH(J),X=B+b0(N),W=X-Z,K=Math.max(0,vu(J)+W),V=b2(X,K);return[I,Y,dY(V)]})}))),GkA=F(2,(A,Q)=>o0(A.initial,(B,C,E)=>f(A.step(B,C,E),([I,Y,G])=>lB(Q(Y,G),[I,Y,G])))),EJA=(A)=>o0(A.initial,(Q,B,C)=>H(A.step(Q,B,C),GA(([E,I,Y])=>[E,B,Y]))),JkA=F(2,(A,Q)=>o0(A.initial,(B,C,E)=>$Y(A.step(B,C,E),Q))),DkA=F(3,(A,Q,B)=>o0(A.initial,(C,E,I)=>LU((Y)=>$Y(A.step(C,E,I),DQ(Y,Q,B))))),IJA=(A)=>XJA(T5(),A),YJA=(A)=>$j(T5(),A),UkA=(A)=>FJA(rG(T5(),A),XA),GJA=(A)=>{let Q=cQ(A);return tu(eu,(B)=>HP(B,Q))},JJA=(A)=>HJA(T5(),A),DJA=(A)=>zj(T5(),A),bw=(A)=>tu(e8,(Q)=>Q<A),au=F(3,(A,Q,B)=>UJA(A,Q,(C,E)=>CA(()=>B(C,E)))),UJA=F(3,(A,Q,B)=>o0([A.initial,Q],(C,E,[I,Y])=>f(A.step(C,E,I),([G,J,D])=>FG(D)?n([[G,Y],Y,D]):GA(B(Y,J),(U)=>[[G,U],Y,D]))));var NkA=(A)=>au(A,0,(Q,B)=>Q+1),ZkA=F(2,(A,Q)=>{let B=cQ(Q);return H(A,PH(eu),NJA(([,C])=>nV(C,B)),rG((C)=>C[0]))}),NJA=F(2,(A,Q)=>o0(A.initial,(B,C,E)=>f(A.step(B,C,E),([I,Y,G])=>Q(Y)?A.step(B,C,A.initial):n([I,Y,G])))),XkA=F(3,(A,Q,B)=>H(FkA(A,Q,rB(B),A.initial,hA()),GA((C)=>KJ(C)))),FkA=(A,Q,B,C,E)=>{if(!qB(B))return n(E);let I=aB(B),Y=k0(B);return f(A.step(Q,I,C),([G,J,D])=>{if(FG(D))return CA(()=>H(E,pB(J)));return FkA(A,OH(D.intervals),Y,G,pB(E,J))})},HkA=(A)=>o0([Number.NEGATIVE_INFINITY,0],(Q,B,C)=>{if(!Number.isInteger(A)||A<0||59<A)return UD(()=>new aN(`Invalid argument in: secondOfMinute(${A}). Must be in range 0...59`));let E=C[1],Y=XmQ(Q,A,E===0),G=KJA(Y),J=qkA(Y),D=b2(G,J);return n([[J,E+1],E,dY(D)])}),WkA=(A)=>lu(e8,()=>A),KkA=(A)=>rG(e8,()=>A),VkA=(A)=>rG(e8,A),MkA=F(2,(A,Q)=>o0(A.initial,(B,C,E)=>OQ(Q(C),A.step(B,C,E)))),$kA=F(2,(A,Q)=>o0(A.initial,(B,C,E)=>YC(A.step(B,C,E),([,I])=>Q(I)))),Mj=(A,Q)=>o0(A,(B,C,E)=>CA(()=>[Q(E),E,dY(r8(B))])),ZJA=F(2,(A,Q)=>su(A,Q,PGA)),su=F(3,(A,Q,B)=>o0([A.initial,Q.initial],(C,E,I)=>lJ(A.step(C,E,I[0]),Q.step(C,E,I[1]),([Y,G,J],[D,U,N])=>{if(FG(J)&&FG(N))return[[Y,D],[G,U],GZ];if(FG(J)&&O5(N))return[[Y,D],[G,U],a7(N.intervals)];if(O5(J)&&FG(N))return[[Y,D],[G,U],a7(J.intervals)];if(O5(J)&&O5(N)){let Z=B(J.intervals,N.intervals);return[[Y,D],[G,U],a7(Z)]}throw new Error("BUG: Schedule.unionWith - please report an issue at https://github.com/Effect-TS/effect/issues")}))),XJA=F(2,(A,Q)=>kw(A,(B,C)=>!Q(B))),$j=F(2,(A,Q)=>Q3(A,(B,C)=>h_(Q(B)))),FJA=F(2,(A,Q)=>kw(A,(B,C)=>!Q(C))),zkA=F(2,(A,Q)=>Q3(A,(B,C)=>h_(Q(C)))),wkA=F(2,(A,Q)=>WJA(A,GJA(Q))),HJA=F(2,(A,Q)=>kw(A,(B,C)=>Q(B))),zj=F(2,(A,Q)=>Q3(A,(B,C)=>Q(B))),tu=F(2,(A,Q)=>kw(A,(B,C)=>Q(C))),LkA=F(2,(A,Q)=>Q3(A,(B,C)=>Q(C))),OkA=(A)=>{let Q=cQ(A),B=b0(Q);return o0([x(),0],(C,E,[I,Y])=>{switch(I._tag){case"None":return n([[j(C),Y+1],Y,dY(r8(C+B))]);case"Some":return n([[j(I.value),Y+1],Y,dY(r8(C+(B-(C-I.value)%B)))])}})},WJA=F(2,(A,Q)=>rG(PH(A,Q),(B)=>B[0])),RkA=F(2,(A,Q)=>rG(PH(A,Q),(B)=>B[1])),TkA=F(3,(A,Q,B)=>rG(PH(A,Q),([C,E])=>B(C,E))),KJA=(A)=>{let Q=new Date(A);return new Date(Q.getFullYear(),Q.getMonth(),Q.getDate(),Q.getHours(),Q.getMinutes(),Q.getSeconds(),0).getTime()},qkA=(A)=>{let Q=new Date(KJA(A));return Q.setSeconds(Q.getSeconds()+1)},XmQ=(A,Q,B)=>{let C=new Date(A);if(C.getSeconds()===Q&&B)return A;if(C.getSeconds()<Q)return C.setSeconds(Q);let E=new Date(C.setSeconds(Q));return E.setTime(E.getTime()+60000)},PkA=(A)=>{let Q=new Date(A);return new Date(Q.getFullYear(),Q.getMonth(),Q.getDate(),Q.getHours(),Q.getMinutes(),0,0).getTime()},FmQ=(A)=>{let Q=new Date(PkA(A));return Q.setMinutes(Q.getMinutes()+1)},HmQ=(A,Q,B)=>{let C=new Date(A);if(C.getMinutes()===Q&&B)return A;if(C.getMinutes()<Q)return C.setMinutes(Q);let E=new Date(C.setMinutes(Q));return E.setTime(E.getTime()+3600000)},_kA=(A)=>{let Q=new Date(A);return new Date(Q.getFullYear(),Q.getMonth(),Q.getDate(),Q.getHours(),0,0,0).getTime()},WmQ=(A)=>{let Q=new Date(_kA(A));return Q.setHours(Q.getHours()+1)},KmQ=(A,Q,B)=>{let C=new Date(A);if(C.getHours()===Q&&B)return A;if(C.getHours()<Q)return C.setHours(Q);let E=new Date(C.setHours(Q));return E.setTime(E.getTime()+86400000)},VJA=(A)=>{let Q=new Date(A);return new Date(Q.getFullYear(),Q.getMonth(),Q.getDate(),0,0,0,0).getTime()},jkA=(A)=>{let Q=new Date(VJA(A));return Q.setDate(Q.getDate()+1)},VmQ=(A,Q,B)=>{let C=new Date(A);if(C.getDay()===Q&&B)return A;let E=(7+Q-C.getDay())%7;return C.setDate(C.getDate()+(E===0?7:E))},MmQ=(A,Q,B)=>{let C=new Date(A);if(C.getDate()===Q&&B)return A;if(C.getDate()<Q)return C.setDate(Q);return xkA(A,Q,1)},xkA=(A,Q,B)=>{let C=new Date(A),E=new Date(C.setDate(Q));if(new Date(E.setMonth(E.getMonth()+B)).getDate()===Q){let Y=new Date(A),G=new Date(Y.setDate(Q));return G.setMonth(G.getMonth()+B)}return xkA(A,Q,B+1)},du=Symbol.for("effect/Schedule/ScheduleDefect");class SkA{error;[du];constructor(A){this.error=A,this[du]=du}}var $mQ=(A)=>o(A,du),uu=(A)=>MU(A,(Q)=>DD(new SkA(Q))),gkA=(A)=>oN(A,(Q)=>HA(HX(Q,(B)=>G7(B)&&$mQ(B.defect)?j(B.defect):x()),{onNone:()=>cB(Q),onSome:(B)=>HB(B.error)})),qyA=F(2,(A,Q)=>MJA(A,Q,(B,C)=>HB(B))),vkA=F(2,(A,Q)=>{if(cu(Q))return qyA(A,Q);let B=Q.schedule??EJA(e8),C=Q.while?zj(B,(Y)=>{let G=Q.while(Y);if(typeof G==="boolean")return n(G);return uu(G)}):B,E=Q.until?$j(C,(Y)=>{let G=Q.until(Y);if(typeof G==="boolean")return n(G);return uu(G)}):C,I=Q.times?PH(E,bw(Q.times)).pipe(rG((Y)=>Y[0])):E;return gkA(qyA(A,I))}),MJA=F(3,(A,Q,B)=>f(Kj(Q),(C)=>bY(A,{onFailure:(E)=>B(E,x()),onSuccess:(E)=>ykA(A,C,B,E)}))),ykA=(A,Q,B,C)=>{return bY(Q.next(C),{onFailure:()=>H7(Q.last),onSuccess:(E)=>bY(A,{onFailure:(I)=>B(I,j(E)),onSuccess:(I)=>ykA(A,Q,B,I)})})},aGA=F(2,(A,Q)=>$JA(A,Q,(B,C)=>HB(B))),kkA=F(2,(A,Q)=>{if(cu(Q))return aGA(A,Q);let B=Q.schedule??e8,C=Q.while?zj(B,(Y)=>{let G=Q.while(Y);if(typeof G==="boolean")return n(G);return uu(G)}):B,E=Q.until?$j(C,(Y)=>{let G=Q.until(Y);if(typeof G==="boolean")return n(G);return uu(G)}):C,I=Q.times?PH(E,bw(Q.times)):E;return gkA(aGA(A,I))}),$JA=F(3,(A,Q,B)=>f(Kj(Q),(C)=>bkA(A,C,B))),bkA=(A,Q,B)=>{return MU(A,(C)=>bY(Q.next(C),{onFailure:()=>H(Q.last,H7,f((E)=>B(C,E))),onSuccess:()=>bkA(A,Q,B)}))},hw=F(2,(A,Q)=>zJA(A,void 0,Q)),zJA=F(3,(A,Q,B)=>f(Kj(B),(C)=>hkA(A,Q,C))),hkA=(A,Q,B)=>bY(B.next(Q),{onFailure:()=>H7(B.last),onSuccess:()=>f(A,(C)=>hkA(A,C,B))}),mkA=Mj(0,(A)=>A+1),eu=o0(x(),(A,Q,B)=>{switch(B._tag){case"None":return n([j(A),GD,dY(r8(A))]);case"Some":return n([j(B.value),lC(A-B.value),dY(r8(A))])}}),e8=Mj(0,(A)=>A+1),fkA=iu(bw(1)),dkA=iu(bw(0));class pkA{permits;waiters=new Set;taken=0;constructor(A){this.permits=A}get free(){return this.permits-this.taken}take=(A)=>VX((Q)=>{if(this.free<A){let B=()=>{if(this.free<A)return;this.waiters.delete(B),this.taken+=A,Q(n(A))};return this.waiters.add(B),CA(()=>{this.waiters.delete(B)})}return this.taken+=A,Q(n(A))});updateTaken=(A)=>TQ((Q)=>{if(this.taken=A(this.taken),this.waiters.size>0)Q.getFiberRef(l8).scheduleTask(()=>{let B=this.waiters.values(),C=B.next();while(C.done===!1&&this.free>0)C.value(),C=B.next()},Q.getFiberRef(m8));return n(this.free)});release=(A)=>this.updateTaken((Q)=>Q-A);releaseAll=this.updateTaken((A)=>0);withPermits=(A)=>(Q)=>GC((B)=>f(B(this.take(A)),(C)=>nG(B(Q),this.release(C))));withPermitsIfAvailable=(A)=>(Q)=>GC((B)=>qA(()=>{if(this.free<A)return W5;return this.taken+=A,nG(B(S7(Q)),this.release(A))}))}var JZ=(A)=>new pkA(A),ckA=(A)=>CA(()=>JZ(A));class lkA extends CI{isOpen;waiters=[];scheduled=!1;constructor(A){super();this.isOpen=A}commit(){return this.await}unsafeSchedule(A){if(this.scheduled||this.waiters.length===0)return iA;return this.scheduled=!0,A.currentScheduler.scheduleTask(this.flushWaiters,A.getFiberRef(m8)),iA}flushWaiters=()=>{this.scheduled=!1;let A=this.waiters;this.waiters=[];for(let Q=0;Q<A.length;Q++)A[Q](KC)};open=TQ((A)=>{if(this.isOpen)return iA;return this.isOpen=!0,this.unsafeSchedule(A)});unsafeOpen(){if(this.isOpen)return;this.isOpen=!0,this.flushWaiters()}release=TQ((A)=>{if(this.isOpen)return iA;return this.unsafeSchedule(A)});await=VX((A)=>{if(this.isOpen)return A(iA);return this.waiters.push(A),CA(()=>{let Q=this.waiters.indexOf(A);if(Q!==-1)this.waiters.splice(Q,1)})});unsafeClose(){this.isOpen=!1}close=CA(()=>{this.isOpen=!1});whenOpen=(A)=>{return OQ(this.await,A)}}var wj=(A)=>new lkA(A??!1),ikA=(A)=>CA(()=>wj(A)),nkA=(A)=>Ap(A,qu),okA=F(2,(A,Q)=>GA(OJA(A,Q),(B)=>B[0])),OJA=F(2,(A,Q)=>{let B=cQ(Q);return f(DG(),(C)=>GA(C3(x()),(E)=>[$Y(zmQ(A,B,E),C),wmQ(E)]))}),ukA=(A,Q,B)=>{let C=b0(cQ(Q));return H(QI(),YC((E)=>zX(A,E)),GA((E)=>j([B+C,E])))},zmQ=(A,Q,B)=>GC((C)=>H(BZ((E)=>E.currentTimeMillis),f((E)=>xJA(B,(I)=>{switch(I._tag){case"None":return j(ukA(A,Q,E));case"Some":{let[Y]=I.value;return Y-E<=0?j(ukA(A,Q,E)):x()}}})),f((E)=>cA(E)?a1("BUG: Effect.cachedInvalidate - please report an issue at https://github.com/Effect-TS/effect/issues"):C(PC(E.value[1]))))),wmQ=(A)=>QZ(A,x()),rkA=F(2,(A,Q)=>Ap(A,(B)=>Q(Pw(B)))),Ap=F(2,(A,Q)=>f(oYA,(B)=>H(qJA(A,B),nG(f(B.value,Q))))),akA=F((A)=>mJ(A[0]),(A,Q)=>Q?.discard?iI(A,PU):GA(gI(A,PU),Pw)),DZ=F(2,(A,Q)=>TQ((B,C)=>{let E=Q,I=Ou(A,B,C.runtimeFlags,i8);if(E.state._tag==="Open"){let Y=()=>ZD((J)=>JA(J,I.id())?iA:m0(uG(I))),G={};E.state.finalizers.set(G,Y),I.addObserver(()=>{if(E.state._tag==="Closed")return;E.state.finalizers.delete(G)})}else I.unsafeInterruptAsFork(B.id());return n(I)})),RJA=(A)=>xU((Q)=>DZ(A,Q)),skA=(A)=>lG(A),tkA=(A)=>qA(()=>f(A,lG)),wJA=Symbol.for("effect/Effect/memoizeFunction.key");class LJA{a;eq;[wJA]=wJA;constructor(A,Q){this.a=A,this.eq=Q}[PA](A){if(o(A,wJA))if(this.eq)return this.eq(this.a,A.a);else return JA(this.a,A.a);return!1}[TA](){return this.eq?0:rA(this,QA(this.a))}}var ekA=(A,Q)=>{return H(CA(()=>jE()),f(C3),GA((B)=>(C)=>H(B.modifyEffect((E)=>{let I=H(E,tB(new LJA(C,Q)));if(cA(I))return H(QI(),YC((Y)=>H(Jw(A(C)),zX(Y),PU)),GA((Y)=>[Y,H(E,S0(new LJA(C,Q),Y))]));return n([I.value,E])}),f(PC),f(([E,I])=>H(g7(E),lB(I))))))},AbA=F(2,(A,Q)=>H(IC(A),Pu(IC(Q)),(B)=>MY(B))),TJA=F(2,(A,Q)=>H(A,hw(Q),RJA)),qJA=F(2,(A,Q)=>{return oI(qw,(C)=>C.zip(Q))(A)}),QbA=F(2,(A,Q)=>PJA(A,{onTimeout:()=>$qA(Q),duration:Q})),PJA=F(2,(A,{duration:Q,onTimeout:B})=>MY(Lj(A,{onTimeout:()=>$U(B),onSuccess:n,duration:Q}))),BbA=F(2,(A,{duration:Q,onTimeout:B})=>MY(Lj(A,{onTimeout:()=>$X(B),onSuccess:n,duration:Q}))),CbA=F(2,(A,Q)=>Lj(A,{duration:Q,onSuccess:j,onTimeout:x})),Lj=F(2,(A,{duration:Q,onSuccess:B,onTimeout:C})=>ZD((E)=>GC((I)=>NGA(I(A),MJ(jX(Q)),{onSelfWin:(Y,G)=>f(Y.await,(J)=>{if(J._tag==="Success")return f(Y.inheritAll,()=>lB(iJ(G,E),B(J.value)));else return f(iJ(G,E),()=>O0(J.cause))}),onOtherWin:(Y,G)=>f(Y.await,(J)=>{if(J._tag==="Success")return f(Y.inheritAll,()=>lB(iJ(G,E),C()));else return f(iJ(G,E),()=>O0(J.cause))}),otherScope:i8})))),LmQ="effect/Ref/SynchronizedRef",_JA=Symbol.for(LmQ),jJA={_A:(A)=>A};class EbA extends CI{ref;withLock;[_JA]=jJA;[T_]=q_;[UG]=UG;constructor(A,Q){super();this.ref=A,this.withLock=Q,this.get=sJ(this.ref)}get;commit(){return this.get}modify(A){return this.modifyEffect((Q)=>n(A(Q)))}modifyEffect(A){return this.withLock(H(f(sJ(this.ref),A),f(([Q,B])=>lB(QZ(this.ref,B),Q))))}}var C3=(A)=>CA(()=>Qp(A)),Qp=(A)=>{let Q=P7(A),B=JZ(1);return new EbA(Q,B.withPermits(1))},xJA=F(2,(A,Q)=>A.modifyEffect((B)=>{let C=Q(B);switch(C._tag){case"None":return n([B,B]);case"Some":return GA(C.value,(E)=>[E,E])}})),IbA=F(2,(A,Q)=>Oj(A,Q,(B,C)=>[B,C])),YbA=F(2,(A,Q)=>Oj(A,Q,(B,C)=>B)),GbA=F(2,(A,Q)=>Oj(A,Q,(B,C)=>C)),Oj=F(3,(A,Q,B)=>({...c8,commit(){return lG(this)},[V5]:Hw,id:()=>H(A.id(),Mm(Q.id())),await:H(A.await,MY,o8(MY(Q.await),B,{concurrent:!0}),IC),children:A.children,inheritAll:OQ(Q.inheritAll,A.inheritAll),poll:lJ(A.poll,Q.poll,(C,E)=>H(C,qE((I)=>H(E,RQ((Y)=>pqA(I,Y,{onSuccess:B,onFailure:VY})))))),interruptAsFork:(C)=>OQ(A.interruptAsFork(C),Q.interruptAsFork(C)),pipe(){return e(this,arguments)}})),JbA=F((A)=>h0(A[0]),(A,Q,B)=>f(A,(C)=>IZ(Q(C),B).pipe(GA((E)=>Object.assign({},C,E)))));var fw=Symbol.for("effect/ManagedRuntime");var DbA="ExtendScope",UbA="Fold",gJA="Fresh",NbA="FromEffect",ZbA="Scoped",XbA="Suspend",FbA="Provide",vJA="ProvideMerge",HbA="ZipWith";var uY={};ZQ(uY,{zipWith:()=>YfQ,zipRight:()=>IfQ,zipLeft:()=>EfQ,zip:()=>CfQ,void:()=>BfQ,unsafeRoots:()=>tmQ,succeed:()=>QfQ,status:()=>AfQ,scoped:()=>emQ,roots:()=>smQ,pretty:()=>amQ,poll:()=>bJA,orElseEither:()=>rmQ,orElse:()=>omQ,never:()=>nmQ,match:()=>imQ,mapFiber:()=>lmQ,mapEffect:()=>cmQ,map:()=>pmQ,joinAll:()=>kJA,join:()=>B2,isRuntimeFiber:()=>_mQ,isFiber:()=>PmQ,interrupted:()=>fmQ,interruptFork:()=>yJA,interruptAsFork:()=>dmQ,interruptAs:()=>NZ,interruptAllAs:()=>Rj,interruptAll:()=>umQ,interrupt:()=>$I,inheritAll:()=>Bp,id:()=>jmQ,getCurrentFiber:()=>_H,fromEffect:()=>mmQ,failCause:()=>hmQ,fail:()=>bmQ,dumpAll:()=>kmQ,dump:()=>ymQ,done:()=>vmQ,children:()=>SmQ,awaitAll:()=>xmQ,await:()=>vX,all:()=>gmQ,RuntimeFiberTypeId:()=>TmQ,Order:()=>qmQ,FiberTypeId:()=>RmQ});var RmQ=V5,TmQ=p_,qmQ=AYA,PmQ=yxA,_mQ=QYA,jmQ=fxA,vX=Ww;var xmQ=qu,SmQ=kxA,gmQ=Pw,vmQ=m7,ymQ=bd,kmQ=bxA,bmQ=hxA,hmQ=BYA,mmQ=mxA,_H=txA,Bp=hd,$I=uG,fmQ=dxA,NZ=iJ,dmQ=c_,umQ=uxA,Rj=CYA,yJA=UvA,B2=lG,kJA=NvA,pmQ=yd,cmQ=EYA,lmQ=pxA,imQ=cxA,nmQ=lxA,omQ=IYA,rmQ=ixA,bJA=nxA,amQ=oxA,smQ=rxA,tmQ=YYA,emQ=ZvA,AfQ=axA,QfQ=GYA,BfQ=sxA;var CfQ=IbA,EfQ=YbA,IfQ=GbA,YfQ=Oj;var dw=(A)=>function(){if(arguments.length===1){let Q=arguments[0];return(B,...C)=>A(Q,B,...C)}return A.apply(this,arguments)},jH=dw((A,Q,B)=>{let C=$m(),E=[[rI,[[C,A.context]]]];if(B?.scheduler)E.push([l8,[[C,B.scheduler]]]);let I=cPA(A.fiberRefs,{entries:E,forkAs:C});if(B?.updateRefs)I=B.updateRefs(I,C);let Y=new wu(C,I,A.runtimeFlags),G=Q;if(B?.scope)G=f(RH(B.scope,xX),(D)=>OQ(rz(D,ZD((U)=>JA(U,Y.id())?iA:iJ(Y,U))),S2(Q,(U)=>KE(D,U))));let J=Y.currentSupervisor;if(J!==zH)J.onStart(A.context,G,x(),Y),Y.addObserver((D)=>J.onEnd(D,Y));if(i8.add(A.runtimeFlags,Y),B?.immediate===!1)Y.resume(G);else Y.start(G);return Y}),E3=dw((A,Q,B={})=>{let C=jH(A,Q,B);if(B.onExit)C.addObserver((E)=>{B.onExit(E)});return(E,I)=>E3(A)(H(C,NZ(E??TC)),{...I,onExit:I?.onExit?(Y)=>I.onExit(uqA(Y)):void 0})}),Cp=dw((A,Q)=>{let B=qj(A)(Q);if(B._tag==="Failure")throw mJA(B.effect_instruction_i0);return B.effect_instruction_i0});class WbA extends Error{fiber;_tag="AsyncFiberException";constructor(A){super(`Fiber #${A.id().id} cannot be resolved synchronously. This is caused by using runSync on an effect that performs async work`);this.fiber=A,this.name=this._tag,this.stack=this.message}}var JfQ=(A)=>{let Q=Error.stackTraceLimit;Error.stackTraceLimit=0;let B=new WbA(A);return Error.stackTraceLimit=Q,B};var hJA=Symbol.for("effect/Runtime/FiberFailure"),Tj=Symbol.for("effect/Runtime/FiberFailure/Cause");class KbA extends Error{[hJA];[Tj];constructor(A){let Q=iP(A)[0];super(Q?.message||"An error has occurred");if(this[hJA]=hJA,this[Tj]=A,this.name=Q?`(FiberFailure) ${Q.name}`:"FiberFailure",Q?.stack)this.stack=Q.stack}toJSON(){return{_id:"FiberFailure",cause:this[Tj].toJSON()}}toString(){return"(FiberFailure) "+JD(this[Tj],{renderErrorCause:!0})}[sA](){return this.toString()}}var mJA=(A)=>{let Q=Error.stackTraceLimit;Error.stackTraceLimit=0;let B=new KbA(A);return Error.stackTraceLimit=Q,B};var VbA=(A)=>{let Q=A;switch(Q._op){case"Failure":case"Success":return Q;case"Left":return d8(Q.left);case"Right":return I0(Q.right);case"Some":return I0(Q.value);case"None":return d8(g2())}},qj=dw((A,Q)=>{let B=VbA(Q);if(B)return B;let C=new k7,E=jH(A)(Q,{scheduler:C});C.flush();let I=E.unsafePoll();if(I)return I;return Q5(am(JfQ(E),Xf(E)))}),Ep=dw((A,Q,B)=>uw(A,Q,B).then((C)=>{switch(C._tag){case sE:return C.effect_instruction_i0;case aE:throw mJA(C.effect_instruction_i0)}})),uw=dw((A,Q,B)=>new Promise((C)=>{let E=VbA(Q);if(E)C(E);let I=jH(A)(Q);if(I.addObserver((Y)=>{C(Y)}),B?.signal!==void 0)if(B.signal.aborted)I.unsafeInterruptAsFork(I.id());else B.signal.addEventListener("abort",()=>{I.unsafeInterruptAsFork(I.id())},{once:!0})}));class fJA{context;runtimeFlags;fiberRefs;constructor(A,Q,B){this.context=A,this.runtimeFlags=Q,this.fiberRefs=B}pipe(){return e(this,arguments)}}var Ip=(A)=>new fJA(A.context,A.runtimeFlags,A.fiberRefs),pw=()=>TQ((A,Q)=>n(new fJA(A.getFiberRef(rI),Q.runtimeFlags,A.getFiberRefs()))),MbA=ym(lN,bP,kP),vU=Ip({context:F0(),runtimeFlags:MbA,fiberRefs:lPA()});var $bA=F(2,(A,Q)=>Ip({context:Q(A.context),runtimeFlags:A.runtimeFlags,fiberRefs:A.fiberRefs}));var zbA=E3(vU),Pj=jH(vU),cw=Ep(vU),Yp=uw(vU),_j=Cp(vU),Gp=qj(vU),wbA=(A)=>qA(()=>{let Q=void 0;return f(QI(),(B)=>f(pw(),(C)=>GC((E)=>OQ(PU(E(BE(A((I)=>E3(C)(zX(I,B))),{onFailure:(I)=>B5(B,I),onSuccess:(I)=>{return Q=I,iA}}))),E(hY(PC(B),()=>Q??iA))))))});var LbA=F(2,(A,Q)=>A.modifyEffect((B)=>GA(Q(B),(C)=>[B,C]))),ObA=F(2,(A,Q)=>A.modifyEffect((B)=>{let C=Q(B);switch(C._tag){case"None":return n([B,B]);case"Some":return GA(C.value,(E)=>[B,E])}}));var Dp=F(2,(A,Q)=>A.modifyEffect(Q)),RbA=F(3,(A,Q,B)=>A.modifyEffect((C)=>H(B(C),YQ(()=>n([Q,C]))))),TbA=F(2,(A,Q)=>A.modifyEffect((B)=>GA(Q(B),(C)=>[void 0,C]))),qbA=F(2,(A,Q)=>A.modifyEffect((B)=>GA(Q(B),(C)=>[C,C]))),dJA=F(2,(A,Q)=>A.modifyEffect((B)=>{let C=Q(B);switch(C._tag){case"None":return n([void 0,B]);case"Some":return GA(C.value,(E)=>[void 0,E])}}));var DfQ="effect/Layer",Zp=Symbol.for(DfQ),UfQ={_RIn:(A)=>A,_E:(A)=>A,_ROut:(A)=>A},A9={[Zp]:UfQ,pipe(){return e(this,arguments)}},NfQ="effect/Layer/MemoMap",jj=Symbol.for(NfQ),uJA=YG()("effect/Layer/CurrentMemoMap",{defaultValue:()=>iJA()}),xj=(A)=>o(A,Zp),pJA=(A)=>{return A._op_layer===gJA};class cJA{ref;[jj];constructor(A){this.ref=A,this[jj]=jj}getOrElseMemoize(A,Q){return H(Dp(this.ref,(B)=>{let C=B.get(A);if(C!==void 0){let[E,I]=C,Y=H(E,f(([G,J])=>H(g7(G),lB(J))),S2(FH({onFailure:()=>iA,onSuccess:()=>ZH(Q,I)})));return n([Y,B])}return H(_7(0),f((E)=>H(QI(),f((I)=>H(_7(()=>iA),GA((Y)=>{let G=GC((D)=>H(ZG(),f((U)=>H(D(f(jbA(A,U,!0),(N)=>Jw(N(this)))),IC,f((N)=>{switch(N._tag){case aE:return H(B5(I,N.effect_instruction_i0),OQ(oJ(U,N)),OQ(cB(N.effect_instruction_i0)));case sE:return H(QZ(Y,(Z)=>H(oJ(U,Z),k8(P_(E,(X)=>[X===1,X-1])),m0)),OQ(Gw(E,(Z)=>Z+1)),OQ(ZH(Q,(Z)=>H(CA(()=>B.delete(A)),OQ(sJ(Y)),f((X)=>X(Z))))),OQ(wU(I,N.effect_instruction_i0)),lB(N.effect_instruction_i0[1]))}}))))),J=[H(PC(I),S2(w7({onFailure:()=>iA,onSuccess:()=>Gw(E,(D)=>D+1)}))),(D)=>H(sJ(Y),f((U)=>U(D)))];return[G,pJA(A)?B:B.set(A,J)]}))))))}),MY)}}var lJA=qA(()=>GA(C3(new Map),(A)=>new cJA(A))),iJA=()=>new cJA(Qp(new Map)),nJA=(A)=>xU((Q)=>xH(A,Q)),xH=F(2,(A,Q)=>f(lJA,(B)=>Xp(A,B,Q))),Xp=F(3,(A,Q,B)=>f(jbA(A,B),(C)=>MH(C(Q),uJA,Q))),jbA=(A,Q,B=!1)=>{let C=A;switch(C._op_layer){case"Locally":return CA(()=>(E)=>C.f(E.getOrElseMemoize(C.self,Q)));case"ExtendScope":return CA(()=>(E)=>xU((I)=>E.getOrElseMemoize(C.layer,I)));case"Fold":return CA(()=>(E)=>H(E.getOrElseMemoize(C.layer,Q),BE({onFailure:(I)=>E.getOrElseMemoize(C.failureK(I),Q),onSuccess:(I)=>E.getOrElseMemoize(C.successK(I),Q)})));case"Fresh":return CA(()=>(E)=>H(C.layer,xH(Q)));case"FromEffect":return B?CA(()=>(E)=>C.effect):CA(()=>(E)=>E.getOrElseMemoize(A,Q));case"Provide":return CA(()=>(E)=>H(E.getOrElseMemoize(C.first,Q),f((I)=>H(E.getOrElseMemoize(C.second,Q),$Y(I)))));case"Scoped":return B?CA(()=>(E)=>WD(C.effect,Q)):CA(()=>(E)=>E.getOrElseMemoize(A,Q));case"Suspend":return CA(()=>(E)=>E.getOrElseMemoize(C.evaluate(),Q));case"ProvideMerge":return CA(()=>(E)=>H(E.getOrElseMemoize(C.first,Q),lJ(E.getOrElseMemoize(C.second,Q),C.zipK)));case"ZipWith":return CA(()=>(E)=>H(E.getOrElseMemoize(C.first,Q),o8(E.getOrElseMemoize(C.second,Q),C.zipK,{concurrent:!0})))}},I3=F(2,(A,Q)=>$p(A,{onFailure:Q,onSuccess:q5})),oJA=F(2,(A,Q)=>Mp(A,{onFailure:Q,onSuccess:q5})),rJA=(A)=>Sj(MI(A)),xbA=(A)=>Hp(()=>MI(A())),SbA=(A)=>Vp(A,()=>F0()),Fp=()=>C2(DG()),gbA=(A)=>{let Q=Object.create(A9);return Q._op_layer=DbA,Q.layer=A,Q},aJA=(A)=>Sj(SU(A)),sJA=(A)=>Hp(()=>SU(A())),Sj=(A)=>C2(cB(A)),Hp=(A)=>C2($X(A)),yU=F(2,(A,Q)=>$p(A,{onFailure:aJA,onSuccess:Q})),vbA=F(2,(A,Q)=>yU(A,nQ(Q))),tJA=(A)=>{let Q=Object.create(A9);return Q._op_layer=gJA,Q.layer=A,Q},Y3=F(2,(A,Q)=>{let B=Kz(A),C=B?A:Q;return C2(GA(B?Q:A,(I)=>hG(C,I)))}),ybA=(A)=>C2(GA(A,()=>F0()));function C2(A){let Q=Object.create(A9);return Q._op_layer=NbA,Q.effect=A,Q}var kbA=F(3,(A,Q,B)=>Wp(A,iC(Q,B))),Wp=F(2,(A,Q)=>{let B=Object.create(A9);return B._op_layer="Locally",B.self=A,B.f=Q,B}),Kp=F(3,(A,Q,B)=>Wp(A,oI(Q,B))),bbA=(A,Q)=>Q9(A2(A,Q)),hbA=(A,Q)=>Q9(fY(A,Q)),mbA=(A,Q,B)=>C2(GA(A,(C)=>hG(Q,B(C)))),fbA=(A)=>Ej(OQ(xU((Q)=>H(A,xH(Q))),DH)),Vp=F(2,(A,Q)=>yU(A,(B)=>q5(Q(B)))),dbA=F(2,(A,Q)=>I3(A,(B)=>sJA(()=>Q(B)))),Mp=F(2,(A,{onFailure:Q,onSuccess:B})=>{let C=Object.create(A9);return C._op_layer=UbA,C.layer=A,C.failureK=Q,C.successK=B,C}),$p=F(2,(A,{onFailure:Q,onSuccess:B})=>Mp(A,{onFailure:(C)=>{let E=YZ(C);switch(E._tag){case"Left":return Q(E.left);case"Right":return Sj(E.right)}},onSuccess:B})),ubA=(A)=>xU((Q)=>GA(b_(xH(A,Q)),C2)),gj=F(2,(A,Q)=>Q2A(A,Q,(B,C)=>E0(B,C))),zp=(...A)=>{let Q=A[0];for(let B=1;B<A.length;B++)Q=gj(Q,A[B]);return Q},pbA=(A)=>I3(A,(Q)=>rJA(Q)),cbA=F(2,(A,Q)=>I3(A,Q)),lbA=(A)=>gj(Fp(),A),ibA=F(4,(A,Q,B,C)=>Vp(A,(E)=>hG(B,C(v0(E,Q))))),nbA=F(2,(A,Q)=>kj(()=>{let B=pA("effect/Layer/retry/{ state: unknown }");return H(yj(B,{state:Q.initial}),yU((C)=>obA(A,Q,B,H(C,nQ(B)).state)))})),obA=(A,Q,B,C)=>{return H(A,I3((E)=>H(ZfQ(Q,B,E,C),yU((I)=>tJA(obA(A,Q,B,H(I,nQ(B)).state))))))},ZfQ=(A,Q,B,C)=>{return Y3(Q,H(wJ,f((E)=>H(A.step(E,B,C),f(([I,Y,G])=>FG(G)?HB(B):H(AZ(lC(OH(G.intervals)-E)),lB({state:I})))))))},yX=F(2,(A,Q)=>{let B=Kz(A),C=B?A:Q;return vj(GA(B?Q:A,(I)=>hG(C,I)))}),Q9=(A)=>vj(H(A,lB(F0()))),vj=(A)=>{let Q=Object.create(A9);return Q._op_layer=ZbA,Q.effect=A,Q},rbA=vj(GA(HD(ZG(),(A,Q)=>A.close(Q)),(A)=>hG(aI,A))),abA=(A)=>Y3(A,A),yj=F(2,(A,Q)=>{let B=Kz(A);return C2(n(hG(B?A:Q,B?Q:A)))}),q5=(A)=>{return C2(n(A))},sbA=q5(F0()),kj=(A)=>{let Q=Object.create(A9);return Q._op_layer=XbA,Q.evaluate=A,Q},wp=F(2,(A,Q)=>{let B=Kz(A),C=B?A:Q,E=B?Q:A;return C2(CA(()=>hG(C,E())))}),eJA=(A)=>{return C2(CA(A))},tbA=F(2,(A,Q)=>yU(A,(B)=>C2(lB(Q(B),B)))),ebA=F(2,(A,Q)=>I3(A,(B)=>C2(f(Q(B),()=>HB(B))))),AhA=F(2,(A,Q)=>oJA(A,(B)=>C2(f(Q(B),()=>cB(B))))),QhA=(A)=>H(xU((Q)=>xH(A,Q)),f((Q)=>H(pw(),$Y(Q)))),Lp=F(2,(A,Q)=>f(xU((B)=>Xp(A,Q,B)),(B)=>H(pw(),$Y(B)))),iw=F(2,(A,Q)=>kj(()=>{let B=Object.create(A9);return B._op_layer=FbA,B.first=Object.create(A9,{_op_layer:{value:vJA,enumerable:!0},first:{value:Fp(),enumerable:!0},second:{value:Array.isArray(Q)?zp(...Q):Q},zipK:{value:(C,E)=>H(C,E0(E))}}),B.second=A,B})),A2A=F(2,(A,Q)=>{let B=Object.create(A9);return B._op_layer=vJA,B.first=Q,B.second=iw(A,Q),B.zipK=(C,E)=>{return H(C,E0(E))},B}),Q2A=F(3,(A,Q,B)=>kj(()=>{let C=Object.create(A9);return C._op_layer=HbA,C.first=A,C.second=Q,C.zipK=B,C})),Op=(A)=>{let Q=pA("effect/Layer/unwrapEffect/Layer.Layer<R1, E1, A>");return yU(Y3(Q,A),(B)=>nQ(B,Q))},lw=(A)=>{let Q=pA("effect/Layer/unwrapScoped/Layer.Layer<R1, E1, A>");return yU(yX(Q,A),(B)=>nQ(B,Q))},BhA=F((A)=>xj(A[0]),function(){let A=arguments;return Kp(A[0],f8,typeof A[1]==="string"?FE(A[1],A[2]):(Q)=>Object.entries(A[1]).reduce((B,[C,E])=>FE(B,C,E),Q))}),ChA=F((A)=>xj(A[0]),function(){let A=arguments;return Kp(A[0],NH,typeof A[1]==="string"?FE(A[1],A[2]):(Q)=>Object.entries(A[1]).reduce((B,[C,E])=>FE(B,C,E),Q))}),EhA=function(){let A=typeof arguments[0]!=="string",Q=A?arguments[1]:arguments[0],B=zJ(A?arguments[2]:arguments[1]);if(A){let C=arguments[0];return lw(GA(B?.onEnd?YC(EZ(Q,B),(E)=>jU((I)=>B.onEnd(E,I))):EZ(Q,B),(E)=>Np(C,E)))}return(C)=>lw(GA(B?.onEnd?YC(EZ(Q,B),(E)=>jU((I)=>B.onEnd(E,I))):EZ(Q,B),(E)=>Np(C,E)))},Np=F(2,(A,Q)=>iw(A,q5(hG(wY,Q)))),PbA=F(2,(A,Q)=>Cj((B)=>f(xH(Q,B),(C)=>Zf(A,C)))),_bA=F(2,(A,Q)=>{let B=v7(vU.fiberRefs,Q.fiberRefs),C=VU(vU.runtimeFlags,Q.runtimeFlags);return GC((E)=>TQ((I)=>{let Y=I.getFiberRef(rI),G=I.getFiberRefs(),J=y7(I.id(),G)(B),D=I.currentRuntimeFlags,U=FX(C)(D),N=v7(J,G),Z=VU(U,D);return I.setFiberRefs(J),I.currentRuntimeFlags=U,nG(Zf(E(A),E0(Y,Q.context)),TQ((X)=>{return X.setFiberRefs(y7(X.id(),X.getFiberRefs())(N)),X.currentRuntimeFlags=FX(Z)(X.currentRuntimeFlags),iA}))}))}),IhA=F(2,(A,Q)=>{if(Array.isArray(Q))return PbA(A,zp(...Q));else if(xj(Q))return PbA(A,Q);else if(EP(Q))return Zf(A,Q);else if(fw in Q)return f(Q.runtimeEffect,(B)=>_bA(A,B));else return _bA(A,Q)});var YhA=GA(nJ(JC),nQ(y2)),Rp=(A)=>nI(JC,(Q)=>A(nQ(Q,y2))),B2A=F(2,(A,Q)=>oI(A,JC,DQ(y2,Q))),GhA=(A)=>fY(JC,DQ(y2,A));var JhA=(...A)=>Rp((Q)=>Q.log(...A));var SH=xA(Symbol.for("effect/FiberRef/currentCache"),()=>_E(OvA(65536,()=>GA(QI(),(A)=>({listeners:new s_,handle:A})),()=>dJ(60)))),G3=xA(Symbol.for("effect/FiberRef/currentCacheEnabled"),()=>_E(!1)),UhA=(A,Q)=>f(h0(Q)?Q:n(Q),(B)=>ZD((C)=>{let E=new Proxy(A,{});return nI(G3,(I)=>{if(I){let G=nI(SH,(J)=>f(J.getEither(E),(D)=>{switch(D._tag){case"Left":{if(D.left.listeners.interrupted)return f(J.invalidateWhen(E,(U)=>U.handle===D.left.handle),()=>G);return D.left.listeners.increment(),GC((U)=>f(IC(o1(hm,U(PC(D.left.handle)))),(N)=>{return D.left.listeners.decrement(),N}))}case"Right":return D.right.listeners.increment(),GC((U)=>f(IC(o1(fP(B,mm({request:E,result:D.right.handle,listeners:D.right.listeners,ownerId:C,state:{completed:!1}})),U(PC(D.right.handle)))),()=>{return D.right.listeners.decrement(),PC(D.right.handle)}))}}));return G}let Y=new s_;return Y.increment(),f(QI(),(G)=>nG(o1(fP(B,mm({request:E,result:G,listeners:Y,ownerId:C,state:{completed:!1}})),PC(G)),CA(()=>Y.decrement())))})})),NhA=(A,Q)=>{return nI(G3,(B)=>{if(B)return nI(SH,(C)=>f(C.getEither(A),(E)=>{switch(E._tag){case"Left":return iA;case"Right":return Nf(E.right.handle,Q)}}));return iA})},ZhA=F(2,(A,Q)=>iC(A,G3,Q)),XhA=F(2,(A,Q)=>iC(A,SH,Q));var FhA=tSA;var HhA=eSA;var bj=r1,nB=h0,VhA=okA,MhA=OJA,LJ=b_,$hA=ekA,zhA=wIA,tI=IZ,whA=igA,LhA=ngA,hj=R_A,mj=T_A,OhA=KjA,E2A=VjA,RhA=k_A,ThA=pgA,fj=lgA,qhA=P_A,qp=S_A,LB=_U,PhA=h_A,_hA=AGA,jhA=QGA,nw=LIA,xhA=DjA,ShA=JjA,ghA=sgA,vhA=eYA,Pp=Lu,yhA=rgA,khA=BvA,OB=cJ,bhA=wbA,hhA=C_,KB=TQ,ZA=HB,ow=$U,z0=cB,_p=$X,MC=DD,xE=a1,jp=UD,KA=BEA,ZZ=DH,mhA=AjA,kX=IjA,c=n,h2=W5,fhA=HjA,LA=qA,r=CA,u=iA;var dhA=b8,uhA=F_A;var zI=MU,dQ=oN,_5=H_A,VD=E_,dj=sTA,gH=W_A,phA=K_A,HG=V_A,j5=M_A,chA=$_A,lhA=Nd,WG=Xd,ihA=VIA,nhA=EjA,xp=XjA,OY=kkA,ohA=$JA,VE=Dd;var XZ=OjA,rhA=RjA,YE=qIA,ahA=PjA,shA=z_A,thA=tTA,ehA=XvA,GE=qC,AmA=Y_,zQ=MJ,QmA=em,rw=hY,E2=$J,eI=GC,BmA=x_A,IB=lB,x5=S7,CmA=X_A,JE=m0,EmA=YH,ImA=y_A,h=GA,YmA=t_A,bX=G_,fE=GH,GmA=Dw,JmA=e_A,Sp=h_,kQ=HD,I2A=dgA,FZ=X7,HZ=jU,$C=nG,hX=J_,WZ=S2,DmA=Mu,UmA=$u,NmA=tgA,ME=Tu,gp=xU,kU=Cj,fC=Ej,ZmA=AvA,XmA=EvA,FmA=nkA,HmA=ugA,WmA=w_A,KmA=x_,VmA=Jw,MmA=rkA,$mA=Ap,vp=ND,aG=ZD,aw=PU,KG=SX,zmA=akA,uQ=DZ,R0=RJA,wmA=ogA,LmA=skA,OmA=tkA,RmA=qJA,TmA=Af,qmA=AqA,PmA=_xA,_mA=ZEA,jmA=ZqA,OJ=WIA,xmA=BZ,SmA=EGA,gmA=jPA,vmA=YhA,ymA=Rp,kmA=GhA,bmA=B2A,bU=Ud,sG=jX,yp=wjA,hmA=TIA,mX=QbA,kp=CbA,sw=PJA,bp=BbA,mmA=Lj,fmA=lEA,tw=xPA,dmA=Ru,xC=DG,fX=q_A,Y2A=LU,B9=OU,SC=IhA,Y0=MH,vH=YjA,umA=vjA,pmA=gjA,G2A=PIA,cmA=_IA,lmA=yjA,yH=kjA,imA=jIA,J2A=_jA,D2A=L_A,uj=S_,nmA=JbA,hp=g_,omA=O_A;var rmA=QjA,S5=MX,rC=IC,I2=zX,amA=tm;var smA=__A,U2A=j_A,N2A=v_,Z2A=KIA,tmA=VEA,emA=hqA,AfA=TjA,X2A=qjA,dX=f_,QfA=k8,BfA=jjA,CfA=xjA,v=f,r0=IH,AY=MY,J3=Pu,EfA=agA,ew=AbA,g5=UGA,IfA=m_,VB=YC,YfA=MjA,pj=RIA,F2A=Fd,GfA=$jA,pY=zjA,QY=k_,JfA=MIA,DfA=r_A,v5=vkA,mp=NjA,UfA=MJA,NfA=hw,ZfA=TJA,XfA=zJA,RY=uz,FfA=Zd,HfA=m_A,T0=iC,fp=oI,WfA=A2,KfA=fY,VfA=g7,MfA=FjA,$fA=Hd,zfA=f_A,dp=d_A,tG=y_,KZ=I_,aC=BE,w0=bY,cj=u_A,up=(A,...Q)=>H5(A)(...Q),wfA=p_A,$E=$IA,m2=c_A,f2=zIA,MD=l_A,pp=i_A,H2A=n_A,a0=Z_A,LfA=mgA,OfA=o_A,RfA=XqA,TfA=fgA,YB=H7,qfA=AEA,lj=F7,W2A=BjA,cp=CjA,PfA=v_A,_fA=GjA,jfA=Yw,xfA=gPA,SfA=CvA,wI=pw,gfA=dz,vfA=JH,yfA=Qf,kfA=YGA,bfA=WjA,hfA=OIA,mfA=egA,ffA=BGA,dfA=FqA,ufA=SjA,hU=JZ,VZ=ckA,cY=wj,MZ=ikA,lY=Pj,pfA=zbA,$D=cw,cfA=Yp,eB=_j,lfA=Gp,ifA=QvA,nfA=CGA,zE=IvA,$Z=IGA,VA=YvA,Y2=o8,ofA=F(2,(A,Q)=>Y2(A,Q,(B,C)=>B(C))),rfA=o1,afA=rm,sfA=sm,tfA=F((A)=>FhA(A[0]),UhA),efA=NhA,AdA=QqA,QdA=ZhA,BdA=XhA,CdA=LjA,EdA=uf,IdA=yPA,YdA=_u,ij=BqA,GdA=CqA,JdA=mjA,lp=bjA,ip=Wd,DdA=fjA,UdA=ljA,NdA=ijA,ZdA=djA,XdA=hjA,np=cjA,nj=EZ,uX=Gd,oj=xIA,FdA=njA,HdA=HvA,zZ=Jd,WdA=ojA,KdA=rjA,VdA=(A)=>{return $1(A)?h2:h(A.value,vG)},MdA=F(2,(A,Q)=>$1(A)?h2:h(Q(A.value),vG)),$dA=(A)=>{let Q=new Map;return new Proxy(A,{get(B,C,E){if(C in B)return Reflect.get(B,C,E);if(Q.has(C))return Q.get(C);let I=(...G)=>IH(B,(J)=>{if(typeof J[C]==="function")return Q.set(C,(...D)=>IH(B,(U)=>U[C](...D))),J[C](...G);return Q.set(C,IH(B,(D)=>D[C])),J[C]}),Y=IH(B,(G)=>G[C]);return Object.assign(I,Y),Object.setPrototypeOf(I,Object.getPrototypeOf(Y)),Q.set(C,I),I}})},zdA=(A)=>()=>{let Q=Error.stackTraceLimit;Error.stackTraceLimit=2;let B=new Error;Error.stackTraceLimit=Q;function C(){}return Object.setPrototypeOf(C,Wz),C.key=A,Object.defineProperty(C,"use",{get(){return(E)=>IH(this,E)}}),Object.defineProperty(C,"stack",{get(){return B.stack}}),$dA(C)},AL=function(){return function(){let[A,Q]=arguments,B="accessors"in Q?Q.accessors:!1,C=Error.stackTraceLimit;Error.stackTraceLimit=2;let E=new Error;Error.stackTraceLimit=C;let I="unchecked",Y=function(U){if(I==="unchecked"){let N=Object.getPrototypeOf(U);if(N===Object.prototype||N===null)I="plain";else{let Z=Object.getPrototypeOf(this);Object.setPrototypeOf(Z,N),I="patched"}}if(I==="plain")Object.assign(this,U);else if(I==="patched")return Object.setPrototypeOf(U,Object.getPrototypeOf(this)),U};Y.prototype._tag=A,Object.defineProperty(Y,"make",{get(){return(U)=>new this(U)}}),Object.defineProperty(Y,"use",{get(){return(U)=>IH(this,U)}}),Y.key=A,Object.assign(Y,Wz),Object.defineProperty(Y,"stack",{get(){return E.stack}});let G="dependencies"in Q&&Q.dependencies.length>0,J=G?"DefaultWithoutDependencies":"Default",D;if("effect"in Q)Object.defineProperty(Y,J,{get(){return D??=Y3(Y,h(Q.effect,(U)=>new this(U)))}});else if("scoped"in Q)Object.defineProperty(Y,J,{get(){return D??=yX(Y,h(Q.scoped,(U)=>new this(U)))}});else if("sync"in Q)Object.defineProperty(Y,J,{get(){return D??=wp(Y,()=>new this(Q.sync()))}});else Object.defineProperty(Y,J,{get(){return D??=yj(Y,new this(Q.succeed))}});if(G){let U;Object.defineProperty(Y,"Default",{get(){return U??=iw(this.DefaultWithoutDependencies,Q.dependencies)}})}return B===!0?$dA(Y):Y}},op=function(A,...Q){let B=Error.stackTraceLimit;Error.stackTraceLimit=2;let C=new Error;if(Error.stackTraceLimit=B,typeof A!=="string")return WhA(A.length,function(...Y){let G=Error.stackTraceLimit;Error.stackTraceLimit=2;let J=new Error;return Error.stackTraceLimit=G,KhA({self:this,body:A,args:Y,pipeables:Q,spanName:"<anonymous>",spanOptions:{context:R7.context(!0)},errorDef:C,errorCall:J})});let E=A,I=Q[0];return(Y,...G)=>WhA(Y.length,{[E](...J){let D=Error.stackTraceLimit;Error.stackTraceLimit=2;let U=new Error;return Error.stackTraceLimit=D,KhA({self:this,body:Y,args:J,pipeables:G,spanName:E,spanOptions:I,errorDef:C,errorCall:U})}}[E])};function WhA(A,Q){return Object.defineProperty(Q,"length",{value:A,configurable:!0})}function KhA(A){let Q,B=void 0;if(MzA(A.body))Q=oP(()=>A.body.apply(A.self,A.args));else try{Q=A.body.apply(A.self,A.args)}catch(Y){B=Y,Q=MC(Y)}if(A.pipeables.length>0)try{for(let Y of A.pipeables)Q=Y(Q,...A.args)}catch(Y){Q=B?z0(bC(AI(B),AI(Y))):MC(Y)}let C=!1,E=()=>{if(C!==!1)return C;if(A.errorCall.stack){let Y=A.errorDef.stack.trim().split(`
`),G=A.errorCall.stack.trim().split(`
`),J=Y.slice(2).join(`
`).trim();if(!J.includes("("))J=J.replace(/at (.*)/,"at ($1)");let D=G.slice(2).join(`
`).trim();if(!D.includes("("))D=D.replace(/at (.*)/,"at ($1)");return C=`${J}
${D}`,C}},I=A.spanOptions&&"captureStackTrace"in A.spanOptions?A.spanOptions:{captureStackTrace:E,...A.spanOptions};return oj(Q,A.spanName,I)}var XQ=D_;var s0={};ZQ(s0,{updateSomeAndGet:()=>xfQ,updateSome:()=>_fQ,updateAndGet:()=>jfQ,update:()=>LdA,unsafeMakeSupervisor:()=>$fQ,unsafeMakePatch:()=>zfQ,unsafeMakeHashSet:()=>VfQ,unsafeMakeContext:()=>MfQ,unsafeMake:()=>II,unhandledErrorLogLevel:()=>M2A,set:()=>wdA,reset:()=>TfQ,modifySome:()=>PfQ,modify:()=>qfQ,makeWith:()=>HfQ,makeRuntimeFlags:()=>KfQ,makeContext:()=>WfQ,make:()=>FfQ,interruptedCause:()=>lfQ,getWith:()=>K2A,getAndUpdateSome:()=>OfQ,getAndUpdate:()=>LfQ,getAndSet:()=>wfQ,get:()=>pX,delete:()=>RfQ,currentTracerTimingEnabled:()=>z2A,currentTracerSpanLinks:()=>cfQ,currentTracerSpanAnnotations:()=>pfQ,currentTracerEnabled:()=>$2A,currentSupervisor:()=>dfQ,currentSchedulingPriority:()=>V2A,currentScheduler:()=>rj,currentRuntimeFlags:()=>ffQ,currentRequestCacheEnabled:()=>yfQ,currentRequestCache:()=>vfQ,currentRequestBatchingEnabled:()=>gfQ,currentMinimumLogLevel:()=>hfQ,currentMetricLabels:()=>ufQ,currentMaxOpsBeforeYield:()=>kfQ,currentLoggers:()=>rp,currentLogSpan:()=>mfQ,currentLogLevel:()=>bfQ,currentLogAnnotations:()=>D3,currentContext:()=>gC,currentConcurrency:()=>SfQ,FiberRefTypeId:()=>XfQ});var XfQ=UEA,FfQ=DGA,HfQ=Ij,WfQ=JvA,KfQ=DvA,II=_E,VfQ=If,MfQ=UH,$fQ=JGA,zfQ=t1,pX=nJ,wfQ=EqA,LfQ=IqA,OfQ=YqA,K2A=nI,wdA=KX,RfQ=Cf;var TfQ=GqA,qfQ=h8,PfQ=JqA,LdA=Ef,_fQ=DqA,jfQ=UqA,xfQ=NqA,SfQ=nz,gfQ=W7,vfQ=SH,yfQ=G3,gC=rI,V2A=m8,kfQ=cz,M2A=e1,D3=f8,rp=Tw,bfQ=lz,hfQ=c7,mfQ=iz,ffQ=zu,rj=l8,dfQ=qw,ufQ=rN,$2A=K7,z2A=LX,pfQ=NH,cfQ=oz,lfQ=A5;var lA={};ZQ(lA,{zipWith:()=>SdQ,withSpan:()=>pdQ,withParentSpan:()=>cdQ,updateService:()=>j2A,unwrapScoped:()=>q2A,unwrapEffect:()=>AJ,toRuntimeWithMemoMap:()=>xdQ,toRuntime:()=>hdA,tapErrorCause:()=>jdQ,tapError:()=>_dQ,tap:()=>PdQ,syncContext:()=>qdQ,sync:()=>RJ,suspend:()=>TdQ,succeedContext:()=>RdQ,succeed:()=>q0,span:()=>mdQ,setUnhandledErrorLogLevel:()=>udQ,setTracerTiming:()=>ddQ,setTracerEnabled:()=>fdQ,setTracer:()=>tp,setScheduler:()=>hdQ,setRequestCaching:()=>kdQ,setRequestCache:()=>bdQ,setRequestBatching:()=>ydQ,setRandom:()=>vdQ,setConfigProvider:()=>_2A,setClock:()=>P2A,service:()=>OdQ,scopedDiscard:()=>eG,scopedContext:()=>ej,scoped:()=>t0,scope:()=>T2A,retry:()=>LdQ,provideMerge:()=>zC,provide:()=>mA,project:()=>$dQ,passthrough:()=>MdQ,parentSpan:()=>gdQ,orElse:()=>VdQ,orDie:()=>KdQ,mergeAll:()=>wZ,merge:()=>fU,memoize:()=>WdQ,matchCause:()=>HdQ,match:()=>FdQ,mapError:()=>XdQ,map:()=>kdA,makeMemoMap:()=>mdA,locallyWith:()=>wdQ,locallyScoped:()=>O2A,locallyEffect:()=>zdQ,locally:()=>bdA,launch:()=>ZdQ,isLayer:()=>vdA,isFresh:()=>ofQ,function:()=>NdQ,fresh:()=>UdQ,flatten:()=>DdQ,flatMap:()=>JdQ,fiberRefLocallyScopedWith:()=>R2A,failSync:()=>IdQ,failCauseSync:()=>GdQ,failCause:()=>YdQ,fail:()=>EdQ,extendScope:()=>CdQ,empty:()=>ydA,effectDiscard:()=>mU,effectContext:()=>BdQ,effect:()=>GB,discard:()=>QdQ,dieSync:()=>AdQ,die:()=>efQ,context:()=>tj,catchAllCause:()=>tfQ,catchAll:()=>sfQ,buildWithScope:()=>QL,buildWithMemoMap:()=>fdA,build:()=>sp,annotateSpans:()=>afQ,annotateLogs:()=>rfQ,MemoMapTypeId:()=>nfQ,LayerTypeId:()=>ifQ,CurrentMemoMap:()=>gdA});var OdA=(A)=>Q9(A2(c7,A)),RdA=F(2,(A,Q)=>iC(c7,Q)(A)),aj=(A)=>Q9(fY(Tw,uJ(A))),w2A=(A)=>Op(GA(A,aj)),L2A=(A)=>lw(GA(A,aj)),sj=(A)=>Q9(fY(Tw,NX(A))),TdA=F(2,(A,Q)=>yU(sj(A),()=>aj(Q))),qdA=F(2,(A,Q)=>yU(sj(A),()=>w2A(Q))),PdA=F(2,(A,Q)=>yU(sj(A),()=>L2A(Q)));var _dA=(A)=>Q9(Ru(A)),jdA=(A)=>q5(hG(wY,A)),xdA=(A,Q)=>{return Q=zJ(Q),yX(wY,Q?.onEnd?YC(EZ(A,Q),(B)=>jU((C)=>Q.onEnd(B,C))):EZ(A,Q))},SdA=(A)=>Q9(_u(A));var ifQ=Zp,nfQ=jj,gdA=uJA,vdA=xj,ofQ=pJA,rfQ=BhA,afQ=ChA,sp=nJA,QL=xH,sfQ=I3,tfQ=oJA,tj=Fp,efQ=rJA,AdQ=xbA,QdQ=SbA,GB=Y3,mU=ybA,BdQ=C2,ydA=sbA,CdQ=gbA,EdQ=aJA,IdQ=sJA,YdQ=Sj,GdQ=Hp,JdQ=yU,DdQ=vbA,UdQ=tJA,NdQ=mbA;var ZdQ=fbA,kdA=Vp,XdQ=dbA,FdQ=$p,HdQ=Mp,WdQ=ubA,fU=gj,wZ=zp,KdQ=pbA,VdQ=cbA,MdQ=lbA,$dQ=ibA,zdQ=Wp,bdA=kbA,wdQ=Kp,O2A=bbA,R2A=hbA,LdQ=nbA,T2A=rbA,t0=yX,eG=Q9,ej=vj,OdQ=abA,q0=yj,RdQ=q5,TdQ=kj,RJ=wp,qdQ=eJA,PdQ=tbA,_dQ=ebA,jdQ=AhA,hdA=QhA,xdQ=Lp,mA=iw,zC=A2A,SdQ=Q2A,AJ=Op,q2A=lw,P2A=(A)=>eG(fY(JC,DQ(rJ,A))),_2A=_dA,gdQ=jdA,vdQ=(A)=>eG(fY(JC,DQ(J5,A))),ydQ=(A)=>eG(A2(W7,A)),kdQ=(A)=>eG(A2(G3,A)),bdQ=(A)=>eG(h0(A)?f(A,(Q)=>A2(SH,Q)):A2(SH,A)),hdQ=(A)=>eG(A2(l8,A)),mdQ=xdA,tp=SdA,fdQ=(A)=>eG(A2(K7,A)),ddQ=(A)=>eG(A2(LX,A)),udQ=(A)=>eG(A2(e1,A)),pdQ=EhA,cdQ=Np,mdA=lJA,fdA=Xp,j2A=F(3,(A,Q,B)=>mA(A,kdA(tj(),(C)=>DQ(C,Q,B(v0(C,Q))))));var ldQ="effect/QueueEnqueue",Qc=Symbol.for(ldQ),idQ="effect/QueueDequeue",CL=Symbol.for(idQ),ndQ="effect/QueueStrategy",Bc=Symbol.for(ndQ),odQ="effect/BackingQueue",ddA=Symbol.for(odQ),x2A={_A:(A)=>A},rdQ={_A:(A)=>A},S2A={_In:(A)=>A},Cc={_Out:(A)=>A};class udA extends CI{queue;takers;shutdownHook;shutdownFlag;strategy;[Qc]=S2A;[CL]=Cc;constructor(A,Q,B,C,E){super();this.queue=A,this.takers=Q,this.shutdownHook=B,this.shutdownFlag=C,this.strategy=E}pipe(){return e(this,arguments)}commit(){return this.take}capacity(){return this.queue.capacity()}get size(){return qA(()=>MU(this.unsafeSize(),()=>qC))}unsafeSize(){if(EB(this.shutdownFlag))return x();return j(this.queue.length()-Vf(this.takers)+this.strategy.surplusSize())}get isEmpty(){return GA(this.size,(A)=>A<=0)}get isFull(){return GA(this.size,(A)=>A>=this.capacity())}get shutdown(){return $J(TQ((A)=>{return H(this.shutdownFlag,hE(!0)),H(qU(BL(this.takers),(Q)=>WH(Q,A.id()),!1,!1),OQ(this.strategy.shutdown),k8(wU(this.shutdownHook,void 0)),m0)}))}get isShutdown(){return CA(()=>EB(this.shutdownFlag))}get awaitShutdown(){return PC(this.shutdownHook)}isActive(){return!EB(this.shutdownFlag)}unsafeOffer(A){if(EB(this.shutdownFlag))return!1;let Q;if(this.queue.length()===0){let C=H(this.takers,v2(oC));if(C!==oC)N3(C,A),Q=!0;else Q=!1}else Q=!1;if(Q)return!0;let B=this.queue.offer(A);return U3(this.strategy,this.queue,this.takers),B}offer(A){return qA(()=>{if(EB(this.shutdownFlag))return qC;let Q;if(this.queue.length()===0){let C=H(this.takers,v2(oC));if(C!==oC)N3(C,A),Q=!0;else Q=!1}else Q=!1;if(Q)return n(!0);let B=this.queue.offer(A);return U3(this.strategy,this.queue,this.takers),B?n(!0):this.strategy.handleSurplus([A],this.queue,this.takers,this.shutdownFlag)})}offerAll(A){return qA(()=>{if(EB(this.shutdownFlag))return qC;let Q=aA(A),B=this.queue.length()===0?aA(sdQ(this.takers,Q.length)):i0,[C,E]=H(Q,vq(B.length));for(let Y=0;Y<B.length;Y++){let G=B[Y],J=C[Y];N3(G,J)}if(E.length===0)return n(!0);let I=this.queue.offerAll(E);return U3(this.strategy,this.queue,this.takers),SQ(I)?n(!0):this.strategy.handleSurplus(I,this.queue,this.takers,this.shutdownFlag)})}get take(){return TQ((A)=>{if(EB(this.shutdownFlag))return qC;let Q=this.queue.poll(oC);if(Q!==oC)return this.strategy.unsafeOnQueueEmptySpace(this.queue,this.takers),n(Q);else{let B=sN(A.id());return H(qA(()=>{return H(this.takers,RU(B)),U3(this.strategy,this.queue,this.takers),EB(this.shutdownFlag)?qC:PC(B)}),hY(()=>{return CA(()=>tdQ(this.takers,B))}))}})}get takeAll(){return qA(()=>{return EB(this.shutdownFlag)?qC:CA(()=>{let A=this.queue.pollUpTo(Number.POSITIVE_INFINITY);return this.strategy.unsafeOnQueueEmptySpace(this.queue,this.takers),rB(A)})})}takeUpTo(A){return qA(()=>EB(this.shutdownFlag)?qC:CA(()=>{let Q=this.queue.pollUpTo(A);return this.strategy.unsafeOnQueueEmptySpace(this.queue,this.takers),rB(Q)}))}takeBetween(A,Q){return qA(()=>pdA(this,A,Q,hA()))}}var pdA=(A,Q,B,C)=>{if(B<Q)return n(C);return H(v2A(A,B),f((E)=>{let I=Q-E.length;if(I===1)return H(ep(A),GA((Y)=>H(C,tQ(E),QE(Y))));if(I>1)return H(ep(A),f((Y)=>pdA(A,I-1,B-E.length-1,H(C,tQ(E),QE(Y)))));return n(H(C,tQ(E)))}))};var cdA=(A)=>H(CA(()=>Kf(A)),f((Q)=>Ax(Ec(Q),GuA()))),ldA=(A)=>H(CA(()=>Kf(A)),f((Q)=>Ax(Ec(Q),y2A()))),idA=(A)=>H(CA(()=>Kf(A)),f((Q)=>Ax(Ec(Q),JuA()))),g2A=()=>H(CA(()=>TX()),f((A)=>Ax(Ec(A),y2A()))),adQ=(A,Q,B,C,E)=>{return new udA(A,Q,B,C,E)},Ax=(A,Q)=>H(QI(),GA((B)=>adQ(A,TX(),B,SI(!1),Q)));class ndA{mutable;[ddA]=rdQ;constructor(A){this.mutable=A}poll(A){return v2(this.mutable,A)}pollUpTo(A){return Cw(this.mutable,A)}offerAll(A){return V_(this.mutable,A)}offer(A){return RU(this.mutable,A)}capacity(){return BPA(this.mutable)}length(){return Vf(this.mutable)}}var Ec=(A)=>new ndA(A),odA=(A)=>A.capacity(),rdA=(A)=>A.size,adA=(A)=>A.isFull,sdA=(A)=>A.isEmpty,tdA=(A)=>A.isShutdown,edA=(A)=>A.awaitShutdown,AuA=(A)=>A.shutdown,QuA=F(2,(A,Q)=>A.offer(Q));var BuA=F(2,(A,Q)=>A.offerAll(Q)),CuA=(A)=>GA(A.takeUpTo(1),_8),ep=(A)=>A.take,EuA=(A)=>A.takeAll,v2A=F(2,(A,Q)=>A.takeUpTo(Q)),IuA=F(3,(A,Q,B)=>A.takeBetween(Q,B)),YuA=F(2,(A,Q)=>A.takeBetween(Q,Q)),GuA=()=>new DuA,y2A=()=>new UuA,JuA=()=>new NuA;class DuA{[Bc]=x2A;putters=TX();surplusSize(){return Vf(this.putters)}onCompleteTakersWithEmptyQueue(A){while(!Y5(this.putters)&&!Y5(A)){let Q=v2(A,void 0),B=v2(this.putters,void 0);if(B[2])N3(B[1],!0);N3(Q,B[0])}}get shutdown(){return H(ND,f((A)=>H(CA(()=>BL(this.putters)),f((Q)=>qU(Q,([B,C,E])=>E?H(WH(C,A),m0):iA,!1,!1)))))}handleSurplus(A,Q,B,C){return TQ((E)=>{let I=sN(E.id());return H(qA(()=>{return this.unsafeOffer(A,I),this.unsafeOnQueueEmptySpace(Q,B),U3(this,Q,B),EB(C)?qC:PC(I)}),hY(()=>CA(()=>this.unsafeRemove(I))))})}unsafeOnQueueEmptySpace(A,Q){let B=!0;while(B&&(A.capacity()===Number.POSITIVE_INFINITY||A.length()<A.capacity())){let C=H(this.putters,v2(oC));if(C===oC)B=!1;else{let E=A.offer(C[0]);if(E&&C[2])N3(C[1],!0);else if(!E)Ac(this.putters,H(BL(this.putters),pB(C)));U3(this,A,Q)}}}unsafeOffer(A,Q){let B=aA(A);for(let C=0;C<B.length;C++){let E=B[C];if(C===B.length-1)H(this.putters,RU([E,Q,!0]));else H(this.putters,RU([E,Q,!1]))}}unsafeRemove(A){Ac(this.putters,H(BL(this.putters),FU(([,Q])=>Q!==A)))}}class UuA{[Bc]=x2A;surplusSize(){return 0}get shutdown(){return iA}onCompleteTakersWithEmptyQueue(){}handleSurplus(A,Q,B,C){return n(!1)}unsafeOnQueueEmptySpace(A,Q){}}class NuA{[Bc]=x2A;surplusSize(){return 0}get shutdown(){return iA}onCompleteTakersWithEmptyQueue(){}handleSurplus(A,Q,B,C){return CA(()=>{return this.unsafeOffer(Q,A),U3(this,Q,B),!0})}unsafeOnQueueEmptySpace(A,Q){}unsafeOffer(A,Q){let B=Q[Symbol.iterator](),C,E=!0;while(!(C=B.next()).done&&E){if(A.capacity()===0)return;A.poll(oC),E=A.offer(C.value)}}}var N3=(A,Q)=>{return OX(A,n(Q))},Ac=(A,Q)=>{return H(A,V_(Q))},BL=(A)=>{return H(A,Cw(Number.POSITIVE_INFINITY))},sdQ=(A,Q)=>{return H(A,Cw(Q))},tdQ=(A,Q)=>{Ac(A,H(BL(A),FU((B)=>Q!==B)))},U3=(A,Q,B)=>{let C=!0;while(C&&Q.length()!==0){let E=H(B,v2(oC));if(E!==oC){let I=Q.poll(oC);if(I!==oC)N3(E,I),A.unsafeOnQueueEmptySpace(Q,B);else Ac(B,H(BL(B),pB(E)));C=!0}else C=!1}if(C&&Q.length()===0&&!Y5(B))A.onCompleteTakersWithEmptyQueue(B)};var kI=Symbol.for("effect/PubSub/AbsentValue"),ZuA=(A,Q)=>(B)=>{if(!B.has(A))B.set(A,new Set);B.get(A).add(Q)},edQ=(A,Q)=>(B)=>{if(!B.has(A))return;let C=B.get(A);if(C.delete(Q),C.size===0)B.delete(A)},XuA=(A)=>qA(()=>{let Q=b2A(A);return Yc(Q,new SuA)}),FuA=(A)=>qA(()=>{let Q=b2A(A);return Yc(Q,new h2A)}),HuA=(A)=>qA(()=>{let Q=b2A(A);return Yc(Q,new guA)}),WuA=(A)=>qA(()=>{let Q=AuQ(A);return Yc(Q,new h2A)});var KuA=(A)=>A.shutdown;var VuA=F(2,(A,Q)=>A.publish(Q));var MuA=(A)=>A.subscribe,b2A=(A)=>{let Q=typeof A==="number"?{capacity:A}:A;EuQ(Q.capacity);let B=Q.replay&&Q.replay>0?new d2A(Math.ceil(Q.replay)):void 0;if(Q.capacity===1)return new OuA(B);else if(wLA(Q.capacity)===Q.capacity)return new wuA(Q.capacity,B);else return new $uA(Q.capacity,B)},AuQ=(A)=>new TuA(A?.replay?new d2A(A.replay):void 0),QuQ=(A,Q,B)=>GA(QI(),(C)=>BuQ(A,Q,A.subscribe(),TX(),C,SI(!1),B)),BuQ=(A,Q,B,C,E,I,Y)=>new PuA(A,Q,B,C,E,I,Y,A.replayWindow());class $uA{capacity;replayBuffer;array;publisherIndex=0;subscribers;subscriberCount=0;subscribersIndex=0;constructor(A,Q){this.capacity=A,this.replayBuffer=Q,this.array=Array.from({length:A}),this.subscribers=Array.from({length:A})}replayWindow(){return this.replayBuffer?new Qx(this.replayBuffer):Gc}isEmpty(){return this.publisherIndex===this.subscribersIndex}isFull(){return this.publisherIndex===this.subscribersIndex+this.capacity}size(){return this.publisherIndex-this.subscribersIndex}publish(A){if(this.isFull())return!1;if(this.subscriberCount!==0){let Q=this.publisherIndex%this.capacity;this.array[Q]=A,this.subscribers[Q]=this.subscriberCount,this.publisherIndex+=1}if(this.replayBuffer)this.replayBuffer.offer(A);return!0}publishAll(A){if(this.subscriberCount===0){if(this.replayBuffer)this.replayBuffer.offerAll(A);return hA()}let Q=rB(A),B=Q.length,C=this.publisherIndex-this.subscribersIndex,E=this.capacity-C,I=Math.min(B,E);if(I===0)return Q;let Y=0,G=this.publisherIndex+I;while(this.publisherIndex!==G){let J=EC(Q,Y++),D=this.publisherIndex%this.capacity;if(this.array[D]=J,this.subscribers[D]=this.subscriberCount,this.publisherIndex+=1,this.replayBuffer)this.replayBuffer.offer(J)}return y0(Q,Y)}slide(){if(this.subscribersIndex!==this.publisherIndex){let A=this.subscribersIndex%this.capacity;this.array[A]=kI,this.subscribers[A]=0,this.subscribersIndex+=1}if(this.replayBuffer)this.replayBuffer.slide()}subscribe(){return this.subscriberCount+=1,new zuA(this,this.publisherIndex,!1)}}class zuA{self;subscriberIndex;unsubscribed;constructor(A,Q,B){this.self=A,this.subscriberIndex=Q,this.unsubscribed=B}isEmpty(){return this.unsubscribed||this.self.publisherIndex===this.subscriberIndex||this.self.publisherIndex===this.self.subscribersIndex}size(){if(this.unsubscribed)return 0;return this.self.publisherIndex-Math.max(this.subscriberIndex,this.self.subscribersIndex)}poll(A){if(this.unsubscribed)return A;if(this.subscriberIndex=Math.max(this.subscriberIndex,this.self.subscribersIndex),this.subscriberIndex!==this.self.publisherIndex){let Q=this.subscriberIndex%this.self.capacity,B=this.self.array[Q];if(this.self.subscribers[Q]-=1,this.self.subscribers[Q]===0)this.self.array[Q]=kI,this.self.subscribersIndex+=1;return this.subscriberIndex+=1,B}return A}pollUpTo(A){if(this.unsubscribed)return hA();this.subscriberIndex=Math.max(this.subscriberIndex,this.self.subscribersIndex);let Q=this.self.publisherIndex-this.subscriberIndex,B=Math.min(A,Q);if(B<=0)return hA();let C=[],E=this.subscriberIndex+B;while(this.subscriberIndex!==E){let I=this.subscriberIndex%this.self.capacity,Y=this.self.array[I];if(this.self.subscribers[I]-=1,this.self.subscribers[I]===0)this.self.array[I]=kI,this.self.subscribersIndex+=1;C.push(Y),this.subscriberIndex+=1}return rB(C)}unsubscribe(){if(!this.unsubscribed){this.unsubscribed=!0,this.self.subscriberCount-=1,this.subscriberIndex=Math.max(this.subscriberIndex,this.self.subscribersIndex);while(this.subscriberIndex!==this.self.publisherIndex){let A=this.subscriberIndex%this.self.capacity;if(this.self.subscribers[A]-=1,this.self.subscribers[A]===0)this.self.array[A]=kI,this.self.subscribersIndex+=1;this.subscriberIndex+=1}}}}class wuA{capacity;replayBuffer;array;mask;publisherIndex=0;subscribers;subscriberCount=0;subscribersIndex=0;constructor(A,Q){this.capacity=A,this.replayBuffer=Q,this.array=Array.from({length:A}),this.mask=A-1,this.subscribers=Array.from({length:A})}replayWindow(){return this.replayBuffer?new Qx(this.replayBuffer):Gc}isEmpty(){return this.publisherIndex===this.subscribersIndex}isFull(){return this.publisherIndex===this.subscribersIndex+this.capacity}size(){return this.publisherIndex-this.subscribersIndex}publish(A){if(this.isFull())return!1;if(this.subscriberCount!==0){let Q=this.publisherIndex&this.mask;this.array[Q]=A,this.subscribers[Q]=this.subscriberCount,this.publisherIndex+=1}if(this.replayBuffer)this.replayBuffer.offer(A);return!0}publishAll(A){if(this.subscriberCount===0){if(this.replayBuffer)this.replayBuffer.offerAll(A);return hA()}let Q=rB(A),B=Q.length,C=this.publisherIndex-this.subscribersIndex,E=this.capacity-C,I=Math.min(B,E);if(I===0)return Q;let Y=0,G=this.publisherIndex+I;while(this.publisherIndex!==G){let J=EC(Q,Y++),D=this.publisherIndex&this.mask;if(this.array[D]=J,this.subscribers[D]=this.subscriberCount,this.publisherIndex+=1,this.replayBuffer)this.replayBuffer.offer(J)}return y0(Q,Y)}slide(){if(this.subscribersIndex!==this.publisherIndex){let A=this.subscribersIndex&this.mask;this.array[A]=kI,this.subscribers[A]=0,this.subscribersIndex+=1}if(this.replayBuffer)this.replayBuffer.slide()}subscribe(){return this.subscriberCount+=1,new LuA(this,this.publisherIndex,!1)}}class LuA{self;subscriberIndex;unsubscribed;constructor(A,Q,B){this.self=A,this.subscriberIndex=Q,this.unsubscribed=B}isEmpty(){return this.unsubscribed||this.self.publisherIndex===this.subscriberIndex||this.self.publisherIndex===this.self.subscribersIndex}size(){if(this.unsubscribed)return 0;return this.self.publisherIndex-Math.max(this.subscriberIndex,this.self.subscribersIndex)}poll(A){if(this.unsubscribed)return A;if(this.subscriberIndex=Math.max(this.subscriberIndex,this.self.subscribersIndex),this.subscriberIndex!==this.self.publisherIndex){let Q=this.subscriberIndex&this.self.mask,B=this.self.array[Q];if(this.self.subscribers[Q]-=1,this.self.subscribers[Q]===0)this.self.array[Q]=kI,this.self.subscribersIndex+=1;return this.subscriberIndex+=1,B}return A}pollUpTo(A){if(this.unsubscribed)return hA();this.subscriberIndex=Math.max(this.subscriberIndex,this.self.subscribersIndex);let Q=this.self.publisherIndex-this.subscriberIndex,B=Math.min(A,Q);if(B<=0)return hA();let C=[],E=this.subscriberIndex+B;while(this.subscriberIndex!==E){let I=this.subscriberIndex&this.self.mask,Y=this.self.array[I];if(this.self.subscribers[I]-=1,this.self.subscribers[I]===0)this.self.array[I]=kI,this.self.subscribersIndex+=1;C.push(Y),this.subscriberIndex+=1}return rB(C)}unsubscribe(){if(!this.unsubscribed){this.unsubscribed=!0,this.self.subscriberCount-=1,this.subscriberIndex=Math.max(this.subscriberIndex,this.self.subscribersIndex);while(this.subscriberIndex!==this.self.publisherIndex){let A=this.subscriberIndex&this.self.mask;if(this.self.subscribers[A]-=1,this.self.subscribers[A]===0)this.self.array[A]=kI,this.self.subscribersIndex+=1;this.subscriberIndex+=1}}}}class OuA{replayBuffer;publisherIndex=0;subscriberCount=0;subscribers=0;value=kI;capacity=1;constructor(A){this.replayBuffer=A}replayWindow(){return this.replayBuffer?new Qx(this.replayBuffer):Gc}pipe(){return e(this,arguments)}isEmpty(){return this.subscribers===0}isFull(){return!this.isEmpty()}size(){return this.isEmpty()?0:1}publish(A){if(this.isFull())return!1;if(this.subscriberCount!==0)this.value=A,this.subscribers=this.subscriberCount,this.publisherIndex+=1;if(this.replayBuffer)this.replayBuffer.offer(A);return!0}publishAll(A){if(this.subscriberCount===0){if(this.replayBuffer)this.replayBuffer.offerAll(A);return hA()}let Q=rB(A);if(SQ(Q))return Q;if(this.publish(fF(Q)))return y0(Q,1);else return Q}slide(){if(this.isFull())this.subscribers=0,this.value=kI;if(this.replayBuffer)this.replayBuffer.slide()}subscribe(){return this.subscriberCount+=1,new RuA(this,this.publisherIndex,!1)}}class RuA{self;subscriberIndex;unsubscribed;constructor(A,Q,B){this.self=A,this.subscriberIndex=Q,this.unsubscribed=B}isEmpty(){return this.unsubscribed||this.self.subscribers===0||this.subscriberIndex===this.self.publisherIndex}size(){return this.isEmpty()?0:1}poll(A){if(this.isEmpty())return A;let Q=this.self.value;if(this.self.subscribers-=1,this.self.subscribers===0)this.self.value=kI;return this.subscriberIndex+=1,Q}pollUpTo(A){if(this.isEmpty()||A<1)return hA();let Q=this.self.value;if(this.self.subscribers-=1,this.self.subscribers===0)this.self.value=kI;return this.subscriberIndex+=1,dA(Q)}unsubscribe(){if(!this.unsubscribed){if(this.unsubscribed=!0,this.self.subscriberCount-=1,this.subscriberIndex!==this.self.publisherIndex){if(this.self.subscribers-=1,this.self.subscribers===0)this.self.value=kI}}}}class TuA{replayBuffer;publisherHead={value:kI,subscribers:0,next:null};publisherTail=this.publisherHead;publisherIndex=0;subscribersIndex=0;capacity=Number.MAX_SAFE_INTEGER;constructor(A){this.replayBuffer=A}replayWindow(){return this.replayBuffer?new Qx(this.replayBuffer):Gc}isEmpty(){return this.publisherHead===this.publisherTail}isFull(){return!1}size(){return this.publisherIndex-this.subscribersIndex}publish(A){let Q=this.publisherTail.subscribers;if(Q!==0)this.publisherTail.next={value:A,subscribers:Q,next:null},this.publisherTail=this.publisherTail.next,this.publisherIndex+=1;if(this.replayBuffer)this.replayBuffer.offer(A);return!0}publishAll(A){if(this.publisherTail.subscribers!==0)for(let Q of A)this.publish(Q);else if(this.replayBuffer)this.replayBuffer.offerAll(A);return hA()}slide(){if(this.publisherHead!==this.publisherTail)this.publisherHead=this.publisherHead.next,this.publisherHead.value=kI,this.subscribersIndex+=1;if(this.replayBuffer)this.replayBuffer.slide()}subscribe(){return this.publisherTail.subscribers+=1,new quA(this,this.publisherTail,this.publisherIndex,!1)}}class quA{self;subscriberHead;subscriberIndex;unsubscribed;constructor(A,Q,B,C){this.self=A,this.subscriberHead=Q,this.subscriberIndex=B,this.unsubscribed=C}isEmpty(){if(this.unsubscribed)return!0;let A=!0,Q=!0;while(Q)if(this.subscriberHead===this.self.publisherTail)Q=!1;else if(this.subscriberHead.next.value!==kI)A=!1,Q=!1;else this.subscriberHead=this.subscriberHead.next,this.subscriberIndex+=1;return A}size(){if(this.unsubscribed)return 0;return this.self.publisherIndex-Math.max(this.subscriberIndex,this.self.subscribersIndex)}poll(A){if(this.unsubscribed)return A;let Q=!0,B=A;while(Q)if(this.subscriberHead===this.self.publisherTail)Q=!1;else{let C=this.subscriberHead.next.value;if(C!==kI){if(B=C,this.subscriberHead.subscribers-=1,this.subscriberHead.subscribers===0)this.self.publisherHead=this.self.publisherHead.next,this.self.publisherHead.value=kI,this.self.subscribersIndex+=1;Q=!1}this.subscriberHead=this.subscriberHead.next,this.subscriberIndex+=1}return B}pollUpTo(A){let Q=[],B=kI,C=0;while(C!==A){let E=this.poll(B);if(E===B)C=A;else Q.push(E),C+=1}return rB(Q)}unsubscribe(){if(!this.unsubscribed){this.unsubscribed=!0,this.self.publisherTail.subscribers-=1;while(this.subscriberHead!==this.self.publisherTail){if(this.subscriberHead.next.value!==kI){if(this.subscriberHead.subscribers-=1,this.subscriberHead.subscribers===0)this.self.publisherHead=this.self.publisherHead.next,this.self.publisherHead.value=kI,this.self.subscribersIndex+=1}this.subscriberHead=this.subscriberHead.next}}}}class PuA extends CI{pubsub;subscribers;subscription;pollers;shutdownHook;shutdownFlag;strategy;replayWindow;[CL]=Cc;constructor(A,Q,B,C,E,I,Y,G){super();this.pubsub=A,this.subscribers=Q,this.subscription=B,this.pollers=C,this.shutdownHook=E,this.shutdownFlag=I,this.strategy=Y,this.replayWindow=G}commit(){return this.take}pipe(){return e(this,arguments)}capacity(){return this.pubsub.capacity}isActive(){return!EB(this.shutdownFlag)}get size(){return qA(()=>EB(this.shutdownFlag)?qC:n(this.subscription.size()+this.replayWindow.remaining))}unsafeSize(){if(EB(this.shutdownFlag))return x();return j(this.subscription.size()+this.replayWindow.remaining)}get isFull(){return qA(()=>EB(this.shutdownFlag)?qC:n(this.subscription.size()===this.capacity()))}get isEmpty(){return GA(this.size,(A)=>A===0)}get shutdown(){return $J(TQ((A)=>{return hE(this.shutdownFlag,!0),H(Ow(EL(this.pollers),(Q)=>WH(Q,A.id()),!1),OQ(CA(()=>{this.subscribers.delete(this.subscription),this.subscription.unsubscribe(),this.strategy.unsafeOnPubSubEmptySpace(this.pubsub,this.subscribers)})),k8(wU(this.shutdownHook,void 0)),m0)}))}get isShutdown(){return CA(()=>EB(this.shutdownFlag))}get awaitShutdown(){return PC(this.shutdownHook)}get take(){return TQ((A)=>{if(EB(this.shutdownFlag))return qC;if(this.replayWindow.remaining>0){let B=this.replayWindow.take();return n(B)}let Q=Y5(this.pollers)?this.subscription.poll(oC):oC;if(Q===oC){let B=sN(A.id());return H(qA(()=>{return H(this.pollers,RU(B)),H(this.subscribers,ZuA(this.subscription,this.pollers)),this.strategy.unsafeCompletePollers(this.pubsub,this.subscribers,this.subscription,this.pollers),EB(this.shutdownFlag)?qC:PC(B)}),hY(()=>CA(()=>JuQ(this.pollers,B))))}else return this.strategy.unsafeOnPubSubEmptySpace(this.pubsub,this.subscribers),n(Q)})}get takeAll(){return qA(()=>{if(EB(this.shutdownFlag))return qC;let A=Y5(this.pollers)?IuQ(this.subscription):hA();if(this.strategy.unsafeOnPubSubEmptySpace(this.pubsub,this.subscribers),this.replayWindow.remaining>0)return n(tQ(this.replayWindow.takeAll(),A));return n(A)})}takeUpTo(A){return qA(()=>{if(EB(this.shutdownFlag))return qC;let Q=void 0;if(this.replayWindow.remaining>=A){let C=this.replayWindow.takeN(A);return n(C)}else if(this.replayWindow.remaining>0)Q=this.replayWindow.takeAll(),A=A-Q.length;let B=Y5(this.pollers)?YuQ(this.subscription,A):hA();return this.strategy.unsafeOnPubSubEmptySpace(this.pubsub,this.subscribers),Q?n(tQ(Q,B)):n(B)})}takeBetween(A,Q){return qA(()=>_uA(this,A,Q,hA()))}}var _uA=(A,Q,B,C)=>{if(B<Q)return n(C);return H(A.takeUpTo(B),f((E)=>{let I=Q-E.length;if(I===1)return H(A.take,GA((Y)=>H(C,tQ(E),QE(Y))));if(I>1)return H(A.take,f((Y)=>_uA(A,I-1,B-E.length-1,H(C,tQ(E),QE(Y)))));return n(H(C,tQ(E)))}))};class juA{pubsub;subscribers;scope;shutdownHook;shutdownFlag;strategy;[Qc]=S2A;[CL]=Cc;constructor(A,Q,B,C,E,I){this.pubsub=A,this.subscribers=Q,this.scope=B,this.shutdownHook=C,this.shutdownFlag=E,this.strategy=I}capacity(){return this.pubsub.capacity}get size(){return qA(()=>EB(this.shutdownFlag)?qC:CA(()=>this.pubsub.size()))}unsafeSize(){if(EB(this.shutdownFlag))return x();return j(this.pubsub.size())}get isFull(){return GA(this.size,(A)=>A===this.capacity())}get isEmpty(){return GA(this.size,(A)=>A===0)}get awaitShutdown(){return PC(this.shutdownHook)}get isShutdown(){return CA(()=>EB(this.shutdownFlag))}get shutdown(){return $J(TQ((A)=>{return H(this.shutdownFlag,hE(!0)),H(this.scope.close(z7(A.id())),OQ(this.strategy.shutdown),k8(wU(this.shutdownHook,void 0)),m0)}))}publish(A){return qA(()=>{if(EB(this.shutdownFlag))return qC;if(this.pubsub.publish(A))return this.strategy.unsafeCompleteSubscribers(this.pubsub,this.subscribers),n(!0);return this.strategy.handleSurplus(this.pubsub,this.subscribers,dA(A),this.shutdownFlag)})}isActive(){return!EB(this.shutdownFlag)}unsafeOffer(A){if(EB(this.shutdownFlag))return!1;if(this.pubsub.publish(A))return this.strategy.unsafeCompleteSubscribers(this.pubsub,this.subscribers),!0;return!1}publishAll(A){return qA(()=>{if(EB(this.shutdownFlag))return qC;let Q=GuQ(this.pubsub,A);if(this.strategy.unsafeCompleteSubscribers(this.pubsub,this.subscribers),SQ(Q))return n(!0);return this.strategy.handleSurplus(this.pubsub,this.subscribers,Q,this.shutdownFlag)})}get subscribe(){let A=YC(IZ([this.scope.fork(xX),QuQ(this.pubsub,this.subscribers,this.strategy)]),(Q)=>Q[0].addFinalizer(()=>Q[1].shutdown));return GA(HD(A,(Q,B)=>Q[0].close(B)),(Q)=>Q[1])}offer(A){return this.publish(A)}offerAll(A){return this.publishAll(A)}pipe(){return e(this,arguments)}}var Yc=(A,Q)=>f(ZG(),(B)=>GA(QI(),(C)=>CuQ(A,new Map,B,C,SI(!1),Q))),CuQ=(A,Q,B,C,E,I)=>new juA(A,Q,B,C,E,I),EuQ=(A)=>{if(A<=0)throw new VqA(`Cannot construct PubSub with capacity of ${A}`)},xuA=(A,Q)=>{OX(A,n(Q))},Ic=(A,Q)=>{return H(A,V_(Q))},EL=(A)=>{return H(A,Cw(Number.POSITIVE_INFINITY))},IuQ=(A)=>{return A.pollUpTo(Number.POSITIVE_INFINITY)},YuQ=(A,Q)=>{return A.pollUpTo(Q)},GuQ=(A,Q)=>{return A.publishAll(Q)},JuQ=(A,Q)=>{Ic(A,H(EL(A),FU((B)=>B!==Q)))};class SuA{publishers=TX();get shutdown(){return f(ND,(A)=>f(CA(()=>EL(this.publishers)),(Q)=>qU(Q,([B,C,E])=>E?H(WH(C,A),m0):iA,!1,!1)))}handleSurplus(A,Q,B,C){return TQ((E)=>{let I=sN(E.id());return H(qA(()=>{return this.unsafeOffer(B,I),this.unsafeOnPubSubEmptySpace(A,Q),this.unsafeCompleteSubscribers(A,Q),EB(C)?qC:PC(I)}),hY(()=>CA(()=>this.unsafeRemove(I))))})}unsafeOnPubSubEmptySpace(A,Q){let B=!0;while(B&&!A.isFull()){let C=H(this.publishers,v2(oC));if(C===oC)B=!1;else{let E=A.publish(C[0]);if(E&&C[2])xuA(C[1],!0);else if(!E)Ic(this.publishers,H(EL(this.publishers),pB(C)));this.unsafeCompleteSubscribers(A,Q)}}}unsafeCompletePollers(A,Q,B,C){return m2A(this,A,Q,B,C)}unsafeCompleteSubscribers(A,Q){return f2A(this,A,Q)}unsafeOffer(A,Q){let B=A[Symbol.iterator](),C=B.next();if(!C.done)while(!0){let E=C.value;if(C=B.next(),C.done){H(this.publishers,RU([E,Q,!0]));break}H(this.publishers,RU([E,Q,!1]))}}unsafeRemove(A){Ic(this.publishers,H(EL(this.publishers),FU(([Q,B])=>B!==A)))}}class h2A{get shutdown(){return iA}handleSurplus(A,Q,B,C){return n(!1)}unsafeOnPubSubEmptySpace(A,Q){}unsafeCompletePollers(A,Q,B,C){return m2A(this,A,Q,B,C)}unsafeCompleteSubscribers(A,Q){return f2A(this,A,Q)}}class guA{get shutdown(){return iA}handleSurplus(A,Q,B,C){return CA(()=>{return this.unsafeSlidingPublish(A,B),this.unsafeCompleteSubscribers(A,Q),!0})}unsafeOnPubSubEmptySpace(A,Q){}unsafeCompletePollers(A,Q,B,C){return m2A(this,A,Q,B,C)}unsafeCompleteSubscribers(A,Q){return f2A(this,A,Q)}unsafeSlidingPublish(A,Q){let B=Q[Symbol.iterator](),C=B.next();if(!C.done&&A.capacity>0){let E=C.value,I=!0;while(I){A.slide();let Y=A.publish(E);if(Y&&(C=B.next())&&!C.done)E=C.value;else if(Y)I=!1}}}}var m2A=(A,Q,B,C,E)=>{let I=!0;while(I&&!C.isEmpty()){let Y=H(E,v2(oC));if(Y===oC)if(H(B,edQ(C,E)),Y5(E))I=!1;else H(B,ZuA(C,E));else{let G=C.poll(oC);if(G===oC)Ic(E,H(EL(E),pB(Y)));else xuA(Y,G),A.unsafeOnPubSubEmptySpace(Q,B)}}},f2A=(A,Q,B)=>{for(let[C,E]of B)for(let I of E)A.unsafeCompletePollers(Q,B,C,I)};class d2A{capacity;constructor(A){this.capacity=A}head={value:kI,next:null};tail=this.head;size=0;index=0;slide(){this.index++}offer(A){if(this.tail.value=A,this.tail.next={value:kI,next:null},this.tail=this.tail.next,this.size===this.capacity)this.head=this.head.next;else this.size+=1}offerAll(A){for(let Q of A)this.offer(Q)}}class Qx{buffer;head;index;remaining;constructor(A){this.buffer=A,this.index=A.index,this.remaining=A.size,this.head=A.head}fastForward(){while(this.index<this.buffer.index)this.head=this.head.next,this.index++}take(){if(this.remaining===0)return;else if(this.index<this.buffer.index)this.fastForward();this.remaining--;let A=this.head.value;return this.head=this.head.next,A}takeN(A){if(this.remaining===0)return hA();else if(this.index<this.buffer.index)this.fastForward();let Q=Math.min(A,this.remaining),B=new Array(Q);for(let C=0;C<Q;C++){let E=this.head.value;this.head=this.head.next,B[C]=E}return this.remaining-=Q,tA(B)}takeAll(){return this.takeN(this.remaining)}}var Gc={remaining:0,take:()=>{return},takeN:()=>hA(),takeAll:()=>hA()};var Bx=XuA,vuA=FuA,yuA=HuA,kH=WuA;var IL=KuA;var C9=VuA;var zD=MuA;var kuA=CL;var wD=cdA,YL=ldA,hH=idA,mH=g2A,buA=odA,Jc=rdA,huA=sdA,muA=adA,Cx=tdA,fuA=edA,DE=AuA,P0=QuA;var u2A=BuA,duA=CuA,BY=ep,uuA=EuA,puA=v2A,GL=IuA,cuA=YuA;var Dc="Continue",p2A="Close",c2A="Yield";var UuQ="effect/ChannelChildExecutorDecision",l2A=Symbol.for(UuQ),NuQ={[l2A]:l2A},Uc=(A)=>{let Q=Object.create(NuQ);return Q._tag=Dc,Q};var JL="ContinuationK",nuA="ContinuationFinalizer";var ruA=Symbol.for("effect/ChannelContinuation"),auA={_Env:(A)=>A,_InErr:(A)=>A,_InElem:(A)=>A,_InDone:(A)=>A,_OutErr:(A)=>A,_OutDone:(A)=>A,_OutErr2:(A)=>A,_OutElem:(A)=>A,_OutDone2:(A)=>A};class DL{onSuccess;onHalt;_tag=JL;[ruA]=auA;constructor(A,Q){this.onSuccess=A,this.onHalt=Q}onExit(A){return mY(A)?this.onHalt(A.cause):this.onSuccess(A.value)}}class i2A{finalizer;_tag=nuA;[ruA]=auA;constructor(A){this.finalizer=A}}var Nc="PullAfterNext",n2A="PullAfterAllEnqueued";var XuQ="effect/ChannelUpstreamPullStrategy",tuA=Symbol.for(XuQ),FuQ={_A:(A)=>A},HuQ={[tuA]:FuQ},Zc=(A)=>{let Q=Object.create(HuQ);return Q._tag=Nc,Q.emitSeparator=A,Q};var Xc="BracketOut",Fc="Bridge",Ex="ConcatAll",Hc="Emit",Wc="Ensuring",Kc="Fail",UL="Fold",Vc="FromEffect",Mc="PipeTo",$c="Provide",zc="Read",wc="Succeed",Lc="SucceedNow",Oc="Suspend";var WuQ="effect/Channel",NL=Symbol.for(WuQ),KuQ={_Env:(A)=>A,_InErr:(A)=>A,_InElem:(A)=>A,_InDone:(A)=>A,_OutErr:(A)=>A,_OutElem:(A)=>A,_OutDone:(A)=>A},TJ={[NL]:KuQ,pipe(){return e(this,arguments)}},Ix=(A)=>o(A,NL)||nB(A),o2A=F(2,(A,Q)=>{let B=Object.create(TJ);return B._tag=Xc,B.acquire=()=>A,B.finalizer=Q,B}),ZL=F(2,(A,Q)=>{let B=Object.create(TJ);return B._tag=UL,B.channel=A,B.k=new DL(dE,Q),B}),k5=(A)=>{return wE(()=>{let Q=[];return WA(gQ(A,QpA(Q)),(B)=>E9(()=>[rB(Q),B]))})},QpA=(A)=>NC({onInput:(Q)=>WA(E9(()=>{A.push(Q)}),()=>QpA(A)),onFailure:Q0,onDone:uE});var Rc=(A,Q,B)=>{let C=Object.create(TJ);return C._tag=Ex,C.combineInners=Q,C.combineAll=B,C.onPull=()=>Zc(x()),C.onEmit=()=>Uc,C.value=()=>A,C.k=s,C},r2A=F(4,(A,Q,B,C)=>{let E=Object.create(TJ);return E._tag=Ex,E.combineInners=B,E.combineAll=C,E.onPull=()=>Zc(x()),E.onEmit=()=>Uc,E.value=()=>A,E.k=Q,E});var XL=F(2,(A,Q)=>{let B=Object.create(TJ);return B._tag=Fc,B.input=Q,B.channel=A,B}),fH=F(2,(A,Q)=>{let B=Object.create(TJ);return B._tag=Wc,B.channel=A,B.finalizer=Q,B}),Q0=(A)=>VQ(SU(A));var VQ=(A)=>Yx(()=>A),Yx=(A)=>{let Q=Object.create(TJ);return Q._tag=Kc,Q.error=A,Q},WA=F(2,(A,Q)=>{let B=Object.create(TJ);return B._tag=UL,B.channel=A,B.k=new DL(Q,VQ),B}),Z3=F(2,(A,Q)=>{let B=Object.create(TJ);return B._tag=UL,B.channel=A,B.k=new DL(Q.onSuccess,Q.onFailure),B}),QQ=(A)=>{let Q=Object.create(TJ);return Q._tag=Vc,Q.effect=()=>A,Q},gQ=F(2,(A,Q)=>{let B=Object.create(TJ);return B._tag=Mc,B.left=()=>A,B.right=()=>Q,B}),dH=F(2,(A,Q)=>{let B=Object.create(TJ);return B._tag=$c,B.context=()=>Q,B.inner=A,B});var NC=(A)=>kB({onInput:A.onInput,onFailure:(Q)=>sB(YZ(Q),{onLeft:A.onFailure,onRight:VQ}),onDone:A.onDone}),kB=(A)=>{let Q=Object.create(TJ);return Q._tag=zc,Q.more=A.onInput,Q.done=new DL(A.onDone,A.onFailure),Q},dE=(A)=>E9(()=>A),uE=(A)=>{let Q=Object.create(TJ);return Q._tag=Lc,Q.terminal=A,Q},wE=(A)=>{let Q=Object.create(TJ);return Q._tag=Oc,Q.channel=A,Q},E9=(A)=>{let Q=Object.create(TJ);return Q._tag=wc,Q.evaluate=A,Q},UQ=uE(void 0);var zA=(A)=>{let Q=Object.create(TJ);return Q._tag=Hc,Q.out=A,Q};var uH="Done",pH="Emit",b5="FromEffect",cH="Read";var VuQ=Symbol.for("effect/ChannelState"),MuQ={_E:(A)=>A,_R:(A)=>A},Tc={[VuQ]:MuQ},F3=()=>{let A=Object.create(Tc);return A._tag=uH,A},qc=()=>{let A=Object.create(Tc);return A._tag=pH,A},FL=(A)=>{let Q=Object.create(Tc);return Q._tag=b5,Q.effect=A,Q},Pc=(A,Q,B,C)=>{let E=Object.create(Tc);return E._tag=cH,E.upstream=A,E.onEffect=Q,E.onEmit=B,E.onDone=C,E};var Gx=(A)=>A._tag===b5;var BpA=(A)=>Gx(A)?A.effect:u,s2A=(A)=>Gx(A)?WG(A.effect):void 0;var t2A="PullFromChild",_c="PullFromUpstream",jc="DrainChildExecutors",e2A="Emit";class HL{childExecutor;parentSubexecutor;onEmit;_tag=t2A;constructor(A,Q,B){this.childExecutor=A,this.parentSubexecutor=Q,this.onEmit=B}close(A){let Q=this.childExecutor.close(A),B=this.parentSubexecutor.close(A);if(Q!==void 0&&B!==void 0)return Y2(rC(Q),rC(B),(C,E)=>H(C,L7(E)));else if(Q!==void 0)return Q;else if(B!==void 0)return B;else return}enqueuePullFromChild(A){return this}}class lH{upstreamExecutor;createChild;lastDone;activeChildExecutors;combineChildResults;combineWithChildResult;onPull;onEmit;_tag=_c;constructor(A,Q,B,C,E,I,Y,G){this.upstreamExecutor=A,this.createChild=Q,this.lastDone=B,this.activeChildExecutors=C,this.combineChildResults=E,this.combineWithChildResult=I,this.onPull=Y,this.onEmit=G}close(A){let Q=this.upstreamExecutor.close(A),C=[...this.activeChildExecutors.map((E)=>E!==void 0?E.childExecutor.close(A):void 0),Q].reduce((E,I)=>{if(E!==void 0&&I!==void 0)return Y2(E,rC(I),(Y,G)=>L7(Y,G));else if(E!==void 0)return E;else if(I!==void 0)return rC(I);else return},void 0);return C===void 0?C:C}enqueuePullFromChild(A){return new lH(this.upstreamExecutor,this.createChild,this.lastDone,[...this.activeChildExecutors,A],this.combineChildResults,this.combineWithChildResult,this.onPull,this.onEmit)}}class H3{upstreamExecutor;lastDone;activeChildExecutors;upstreamDone;combineChildResults;combineWithChildResult;onPull;_tag=jc;constructor(A,Q,B,C,E,I,Y){this.upstreamExecutor=A,this.lastDone=Q,this.activeChildExecutors=B,this.upstreamDone=C,this.combineChildResults=E,this.combineWithChildResult=I,this.onPull=Y}close(A){let Q=this.upstreamExecutor.close(A),C=[...this.activeChildExecutors.map((E)=>E!==void 0?E.childExecutor.close(A):void 0),Q].reduce((E,I)=>{if(E!==void 0&&I!==void 0)return Y2(E,rC(I),(Y,G)=>L7(Y,G));else if(E!==void 0)return E;else if(I!==void 0)return rC(I);else return},void 0);return C===void 0?C:C}enqueuePullFromChild(A){return new H3(this.upstreamExecutor,this.lastDone,[...this.activeChildExecutors,A],this.upstreamDone,this.combineChildResults,this.combineWithChildResult,this.onPull)}}class Jx{value;next;_tag=e2A;constructor(A,Q){this.value=A,this.next=Q}close(A){let Q=this.next.close(A);return Q===void 0?Q:Q}enqueuePullFromChild(A){return this}}var CpA="Pulled",EpA="NoUpstream";var LuQ="effect/ChannelUpstreamPullRequest",IpA=Symbol.for(LuQ),OuQ={_A:(A)=>A},YpA={[IpA]:OuQ},xc=(A)=>{let Q=Object.create(YpA);return Q._tag=CpA,Q.value=A,Q},ADA=(A)=>{let Q=Object.create(YpA);return Q._tag=EpA,Q.activeDownstreamCount=A,Q};class iH{_activeSubexecutor=void 0;_cancelled=void 0;_closeLastSubstream=void 0;_currentChannel;_done=void 0;_doneStack=[];_emitted=void 0;_executeCloseLastSubstream;_input=void 0;_inProgressFinalizer=void 0;_providedEnv;constructor(A,Q,B){this._currentChannel=A,this._executeCloseLastSubstream=B,this._providedEnv=Q}run(){let A=void 0;while(A===void 0)if(this._cancelled!==void 0)A=this.processCancellation();else if(this._activeSubexecutor!==void 0)A=this.runSubexecutor();else try{if(this._currentChannel===void 0)A=F3();else{if(nB(this._currentChannel))this._currentChannel=QQ(this._currentChannel);switch(this._currentChannel._tag){case Xc:{A=this.runBracketOut(this._currentChannel);break}case Fc:{let Q=this._currentChannel.input;if(this._currentChannel=this._currentChannel.channel,this._input!==void 0){let B=this._input;this._input=void 0;let C=()=>v(Q.awaitRead(),()=>LA(()=>{let E=B.run();switch(E._tag){case uH:return CE(B.getDone(),{onFailure:(I)=>Q.error(I),onSuccess:(I)=>Q.done(I)});case pH:return v(Q.emit(B.getEmit()),()=>C());case b5:return aC(E.effect,{onFailure:(I)=>Q.error(I),onSuccess:()=>C()});case cH:return gc(E,()=>C(),(I)=>Q.error(I))}}));A=FL(v(KG(zQ(C())),(E)=>r(()=>this.addFinalizer((I)=>v($I(E),()=>LA(()=>{let Y=this.restorePipe(I,B);return Y!==void 0?Y:u}))))))}break}case Ex:{let Q=new iH(this._currentChannel.value(),this._providedEnv,(C)=>r(()=>{let E=this._closeLastSubstream===void 0?u:this._closeLastSubstream;this._closeLastSubstream=H(E,VA(C))}));Q._input=this._input;let B=this._currentChannel;this._activeSubexecutor=new lH(Q,(C)=>B.k(C),void 0,[],(C,E)=>B.combineInners(C,E),(C,E)=>B.combineAll(C,E),(C)=>B.onPull(C),(C)=>B.onEmit(C)),this._closeLastSubstream=void 0,this._currentChannel=void 0;break}case Hc:{this._emitted=this._currentChannel.out,this._currentChannel=this._activeSubexecutor!==void 0?void 0:UQ,A=qc();break}case Wc:{this.runEnsuring(this._currentChannel);break}case Kc:{A=this.doneHalt(this._currentChannel.error());break}case UL:{this._doneStack.push(this._currentChannel.k),this._currentChannel=this._currentChannel.channel;break}case Vc:{let Q=this._providedEnv===void 0?this._currentChannel.effect():H(this._currentChannel.effect(),SC(this._providedEnv));A=FL(aC(Q,{onFailure:(B)=>{let C=this.doneHalt(B);return C!==void 0&&Gx(C)?C.effect:u},onSuccess:(B)=>{let C=this.doneSucceed(B);return C!==void 0&&Gx(C)?C.effect:u}}));break}case Mc:{let Q=this._input,B=new iH(this._currentChannel.left(),this._providedEnv,(C)=>this._executeCloseLastSubstream(C));B._input=Q,this._input=B,this.addFinalizer((C)=>{let E=this.restorePipe(C,Q);return E!==void 0?E:u}),this._currentChannel=this._currentChannel.right();break}case $c:{let Q=this._providedEnv;this._providedEnv=this._currentChannel.context(),this._currentChannel=this._currentChannel.inner,this.addFinalizer(()=>r(()=>{this._providedEnv=Q}));break}case zc:{let Q=this._currentChannel;A=Pc(this._input,s,(B)=>{try{this._currentChannel=Q.more(B)}catch(C){this._currentChannel=Q.done.onExit(BI(C))}return},(B)=>{let C=(E)=>{return Q.done.onExit(E)};this._currentChannel=C(B);return});break}case wc:{A=this.doneSucceed(this._currentChannel.evaluate());break}case Lc:{A=this.doneSucceed(this._currentChannel.terminal);break}case Oc:{this._currentChannel=this._currentChannel.channel();break}}}}catch(Q){this._currentChannel=VQ(MI(Q))}return A}getDone(){return this._done}getEmit(){return this._emitted}cancelWith(A){this._cancelled=A}clearInProgressFinalizer(){this._inProgressFinalizer=void 0}storeInProgressFinalizer(A){this._inProgressFinalizer=A}popAllFinalizers(A){let Q=[],B=this._doneStack.pop();while(B){if(B._tag==="ContinuationFinalizer")Q.push(B.finalizer);B=this._doneStack.pop()}let C=Q.length===0?u:BDA(Q,A);return this.storeInProgressFinalizer(C),C}popNextFinalizers(){let A=[];while(this._doneStack.length!==0){let Q=this._doneStack[this._doneStack.length-1];if(Q._tag===JL)return A;A.push(Q),this._doneStack.pop()}return A}restorePipe(A,Q){let B=this._input;if(this._input=Q,B!==void 0)return B.close(A);return u}close(A){let Q=void 0,B=this._inProgressFinalizer;if(B!==void 0)Q=H(B,$C(r(()=>this.clearInProgressFinalizer())));let C=void 0,E=this.popAllFinalizers(A);if(E!==void 0)C=H(E,$C(r(()=>this.clearInProgressFinalizer())));let I=this._activeSubexecutor===void 0?void 0:this._activeSubexecutor.close(A);if(I===void 0&&Q===void 0&&C===void 0)return;return H(rC(QDA(I)),zE(rC(QDA(Q))),zE(rC(QDA(C))),h(([[Y,G],J])=>H(Y,L7(G),L7(J))),E2,v((Y)=>LA(()=>Y)))}doneSucceed(A){if(this._doneStack.length===0)return this._done=hQ(A),this._currentChannel=void 0,F3();let Q=this._doneStack[this._doneStack.length-1];if(Q._tag===JL){this._doneStack.pop(),this._currentChannel=Q.onSuccess(A);return}let B=this.popNextFinalizers();if(this._doneStack.length===0)return this._doneStack=B.reverse(),this._done=hQ(A),this._currentChannel=void 0,F3();let C=BDA(B.map((I)=>I.finalizer),hQ(A));this.storeInProgressFinalizer(C);let E=H(C,$C(r(()=>this.clearInProgressFinalizer())),E2,v(()=>r(()=>this.doneSucceed(A))));return FL(E)}doneHalt(A){if(this._doneStack.length===0)return this._done=iB(A),this._currentChannel=void 0,F3();let Q=this._doneStack[this._doneStack.length-1];if(Q._tag===JL){this._doneStack.pop();try{this._currentChannel=Q.onHalt(A)}catch(I){this._currentChannel=VQ(MI(I))}return}let B=this.popNextFinalizers();if(this._doneStack.length===0)return this._doneStack=B.reverse(),this._done=iB(A),this._currentChannel=void 0,F3();let C=BDA(B.map((I)=>I.finalizer),iB(A));this.storeInProgressFinalizer(C);let E=H(C,$C(r(()=>this.clearInProgressFinalizer())),E2,v(()=>r(()=>this.doneHalt(A))));return FL(E)}processCancellation(){return this._currentChannel=void 0,this._done=this._cancelled,this._cancelled=void 0,F3()}runBracketOut(A){let Q=E2(aC(this.provide(A.acquire()),{onFailure:(B)=>r(()=>{this._currentChannel=VQ(B)}),onSuccess:(B)=>r(()=>{this.addFinalizer((C)=>this.provide(A.finalizer(B,C))),this._currentChannel=zA(B)})}));return FL(Q)}provide(A){if(this._providedEnv===void 0)return A;return H(A,SC(this._providedEnv))}runEnsuring(A){this.addFinalizer(A.finalizer),this._currentChannel=A.channel}addFinalizer(A){this._doneStack.push(new i2A(A))}runSubexecutor(){let A=this._activeSubexecutor;switch(A._tag){case t2A:return this.pullFromChild(A.childExecutor,A.parentSubexecutor,A.onEmit,A);case _c:return this.pullFromUpstream(A);case jc:return this.drainChildExecutors(A);case e2A:return this._emitted=A.value,this._activeSubexecutor=A.next,qc()}}replaceSubexecutor(A){this._currentChannel=void 0,this._activeSubexecutor=A}finishWithExit(A){let Q=CE(A,{onFailure:(B)=>this.doneHalt(B),onSuccess:(B)=>this.doneSucceed(B)});return this._activeSubexecutor=void 0,Q===void 0?u:BpA(Q)}finishSubexecutorWithCloseEffect(A,...Q){this.addFinalizer(()=>H(Q,LB((C)=>H(r(()=>C(A)),v((E)=>E!==void 0?E:u)),{discard:!0})));let B=H(A,CE({onFailure:(C)=>this.doneHalt(C),onSuccess:(C)=>this.doneSucceed(C)}));return this._activeSubexecutor=void 0,B}applyUpstreamPullStrategy(A,Q,B){switch(B._tag){case Nc:{let C=!A||Q.some((E)=>E!==void 0);return[B.emitSeparator,C?[void 0,...Q]:Q]}case n2A:{let C=!A||Q.some((E)=>E!==void 0);return[B.emitSeparator,C?[...Q,void 0]:Q]}}}pullFromChild(A,Q,B,C){return Pc(A,s,(E)=>{let I=B(E);switch(I._tag){case Dc:break;case p2A:{this.finishWithDoneValue(A,Q,I.value);break}case c2A:{let Y=Q.enqueuePullFromChild(C);this.replaceSubexecutor(Y);break}}this._activeSubexecutor=new Jx(E,this._activeSubexecutor);return},CE({onFailure:(E)=>{let I=this.handleSubexecutorFailure(A,Q,E);return I===void 0?void 0:s2A(I)},onSuccess:(E)=>{this.finishWithDoneValue(A,Q,E);return}}))}finishWithDoneValue(A,Q,B){let C=Q;switch(C._tag){case _c:{let E=new lH(C.upstreamExecutor,C.createChild,C.lastDone!==void 0?C.combineChildResults(C.lastDone,B):B,C.activeChildExecutors,C.combineChildResults,C.combineWithChildResult,C.onPull,C.onEmit);this._closeLastSubstream=A.close(hQ(B)),this.replaceSubexecutor(E);break}case jc:{let E=new H3(C.upstreamExecutor,C.lastDone!==void 0?C.combineChildResults(C.lastDone,B):B,C.activeChildExecutors,C.upstreamDone,C.combineChildResults,C.combineWithChildResult,C.onPull);this._closeLastSubstream=A.close(hQ(B)),this.replaceSubexecutor(E);break}default:break}}handleSubexecutorFailure(A,Q,B){return this.finishSubexecutorWithCloseEffect(iB(B),(C)=>Q.close(C),(C)=>A.close(C))}pullFromUpstream(A){if(A.activeChildExecutors.length===0)return this.performPullFromUpstream(A);let Q=A.activeChildExecutors[0],B=new lH(A.upstreamExecutor,A.createChild,A.lastDone,A.activeChildExecutors.slice(1),A.combineChildResults,A.combineWithChildResult,A.onPull,A.onEmit);if(Q===void 0)return this.performPullFromUpstream(B);this.replaceSubexecutor(new HL(Q.childExecutor,B,Q.onEmit));return}performPullFromUpstream(A){return Pc(A.upstreamExecutor,(Q)=>{let B=this._closeLastSubstream===void 0?u:this._closeLastSubstream;return this._closeLastSubstream=void 0,H(this._executeCloseLastSubstream(B),VA(Q))},(Q)=>{if(this._closeLastSubstream!==void 0){let I=this._closeLastSubstream;return this._closeLastSubstream=void 0,H(this._executeCloseLastSubstream(I),h(()=>{let Y=new iH(A.createChild(Q),this._providedEnv,this._executeCloseLastSubstream);Y._input=this._input;let[G,J]=this.applyUpstreamPullStrategy(!1,A.activeChildExecutors,A.onPull(xc(Q)));if(this._activeSubexecutor=new HL(Y,new lH(A.upstreamExecutor,A.createChild,A.lastDone,J,A.combineChildResults,A.combineWithChildResult,A.onPull,A.onEmit),A.onEmit),XA(G))this._activeSubexecutor=new Jx(G.value,this._activeSubexecutor);return}))}let B=new iH(A.createChild(Q),this._providedEnv,this._executeCloseLastSubstream);B._input=this._input;let[C,E]=this.applyUpstreamPullStrategy(!1,A.activeChildExecutors,A.onPull(xc(Q)));if(this._activeSubexecutor=new HL(B,new lH(A.upstreamExecutor,A.createChild,A.lastDone,E,A.combineChildResults,A.combineWithChildResult,A.onPull,A.onEmit),A.onEmit),XA(C))this._activeSubexecutor=new Jx(C.value,this._activeSubexecutor);return},(Q)=>{if(A.activeChildExecutors.some((E)=>E!==void 0)){let E=new H3(A.upstreamExecutor,A.lastDone,[void 0,...A.activeChildExecutors],A.upstreamExecutor.getDone(),A.combineChildResults,A.combineWithChildResult,A.onPull);if(this._closeLastSubstream!==void 0){let I=this._closeLastSubstream;return this._closeLastSubstream=void 0,H(this._executeCloseLastSubstream(I),h(()=>this.replaceSubexecutor(E)))}this.replaceSubexecutor(E);return}let B=this._closeLastSubstream,C=this.finishSubexecutorWithCloseEffect(H(Q,H_((E)=>A.combineWithChildResult(A.lastDone,E))),()=>B,(E)=>A.upstreamExecutor.close(E));return C===void 0?void 0:s2A(C)})}drainChildExecutors(A){if(A.activeChildExecutors.length===0){let E=this._closeLastSubstream;if(E!==void 0)this.addFinalizer(()=>c(E));return this.finishSubexecutorWithCloseEffect(A.upstreamDone,()=>E,(I)=>A.upstreamExecutor.close(I))}let Q=A.activeChildExecutors[0],B=A.activeChildExecutors.slice(1);if(Q===void 0){let[E,I]=this.applyUpstreamPullStrategy(!0,B,A.onPull(ADA(B.reduce((Y,G)=>G!==void 0?Y+1:Y,0))));if(this.replaceSubexecutor(new H3(A.upstreamExecutor,A.lastDone,I,A.upstreamDone,A.combineChildResults,A.combineWithChildResult,A.onPull)),XA(E))return this._emitted=E.value,qc();return}let C=new H3(A.upstreamExecutor,A.lastDone,B,A.upstreamDone,A.combineChildResults,A.combineWithChildResult,A.onPull);this.replaceSubexecutor(new HL(Q.childExecutor,C,Q.onEmit));return}}var QDA=(A)=>A!==void 0?A:u,BDA=(A,Q)=>{return H(LB(A,(B)=>rC(B(Q))),h((B)=>H(dqA(B),YQ(()=>_C))),v((B)=>LA(()=>B)))},gc=(A,Q,B)=>{let C=[A],E=()=>{let I=C.pop();if(I===void 0||I.upstream===void 0)return xE("Unexpected end of input for channel execution");let Y=I.upstream.run();switch(Y._tag){case pH:{let G=I.onEmit(I.upstream.getEmit());if(C.length===0){if(G===void 0)return LA(Q);return H(G,aC({onFailure:B,onSuccess:Q}))}if(G===void 0)return LA(()=>E());return H(G,aC({onFailure:B,onSuccess:()=>E()}))}case uH:{let G=I.onDone(I.upstream.getDone());if(C.length===0){if(G===void 0)return LA(Q);return H(G,aC({onFailure:B,onSuccess:Q}))}if(G===void 0)return LA(()=>E());return H(G,aC({onFailure:B,onSuccess:()=>E()}))}case b5:return C.push(I),H(I.onEffect(Y.effect),dQ((G)=>LA(()=>{let J=I.onDone(iB(G));return J===void 0?u:J})),aC({onFailure:B,onSuccess:()=>E()}));case cH:return C.push(I),C.push(Y),LA(()=>E())}};return E()},d2=F(2,(A,Q)=>{let B=(C,E,I)=>FZ(r(()=>new iH(A,void 0,s)),(Y)=>LA(()=>Sc(Y.run(),Y).pipe(I2(C),VA(WQ(C)),$Z(WQ(E)))),(Y,G)=>{let J=Y.close(G);if(J===void 0)return u;return pY(J,(D)=>jC(I,z0(D)))});return eI((C)=>tI([RH(Q,K5),WB(),WB()]).pipe(v(([E,I,Y])=>C(B(I,Y,E)).pipe(uQ(Q),v((G)=>Q.addFinalizer((J)=>{let D=mY(J)?Jj(J.cause):void 0;return E5(I).pipe(v((U)=>U?nC(Y,void 0).pipe(VA(vX(G)),VA(Bp(G))):nC(Y,void 0).pipe(VA(D&&uN(D)>0?NZ(G,kRA(D)):$I(G)),VA(Bp(G)))))}).pipe(VA(C(WQ(I)))))))))}),Sc=(A,Q)=>{let B=A;switch(B._tag){case b5:return H(B.effect,v(()=>Sc(Q.run(),Q)));case pH:return Sc(Q.run(),Q);case uH:return LA(()=>Q.getDone());case cH:return gc(B,()=>Sc(Q.run(),Q),z0)}};var yc="Done",JpA="Await";var RuQ="effect/ChannelMergeDecision",UpA=Symbol.for(RuQ),NpA={[UpA]:{_R:(A)=>A,_E0:(A)=>A,_Z0:(A)=>A,_E:(A)=>A,_Z:(A)=>A}},h5=(A)=>{let Q=Object.create(NpA);return Q._tag=yc,Q.effect=A,Q},m5=(A)=>{let Q=Object.create(NpA);return Q._tag=JpA,Q.f=A,Q};var kc="BothRunning",bc="LeftDone",hc="RightDone";var TuQ="effect/ChannelMergeState",EDA=Symbol.for(TuQ),IDA={[EDA]:EDA},Dx=(A,Q)=>{let B=Object.create(IDA);return B._tag=kc,B.left=A,B.right=Q,B},mc=(A)=>{let Q=Object.create(IDA);return Q._tag=bc,Q.f=A,Q},fc=(A)=>{let Q=Object.create(IDA);return Q._tag=hc,Q.f=A,Q};var YDA="BackPressure",GDA="BufferSliding";var PuQ="effect/ChannelMergeStrategy",JDA=Symbol.for(PuQ),FpA={[JDA]:JDA},DDA=(A)=>{let Q=Object.create(FpA);return Q._tag=YDA,Q},UDA=(A)=>{let Q=Object.create(FpA);return Q._tag=GDA,Q};var NDA=F(2,(A,{onBackPressure:Q,onBufferSliding:B})=>{switch(A._tag){case YDA:return Q();case GDA:return B()}});var WL="Empty",Ux="Emit",Nx="Error",Zx="Done",HpA=(A)=>({_tag:WL,notifyProducer:A}),XDA=(A)=>({_tag:Ux,notifyConsumers:A}),_uQ=(A)=>({_tag:Nx,cause:A}),juQ=(A)=>({_tag:Zx,done:A});class WpA{ref;constructor(A){this.ref=A}awaitRead(){return AY(tJ(this.ref,(A)=>A._tag===WL?[WQ(A.notifyProducer),A]:[u,A]))}get close(){return aG((A)=>this.error(LH(A)))}done(A){return AY(tJ(this.ref,(Q)=>{switch(Q._tag){case WL:return[WQ(Q.notifyProducer),Q];case Ux:return[LB(Q.notifyConsumers,(B)=>nC(B,wA(A)),{discard:!0}),juQ(A)];case Nx:return[GE,Q];case Zx:return[GE,Q]}}))}emit(A){return v(WB(),(Q)=>AY(tJ(this.ref,(B)=>{switch(B._tag){case WL:return[WQ(B.notifyProducer),B];case Ux:{let C=B.notifyConsumers[0],E=B.notifyConsumers.slice(1);if(C!==void 0)return[nC(C,$A(A)),E.length===0?HpA(Q):XDA(E)];throw new Error("Bug: Channel.SingleProducerAsyncInput.emit - Queue was empty! please report an issue at https://github.com/Effect-TS/effect/issues")}case Nx:return[GE,B];case Zx:return[GE,B]}})))}error(A){return AY(tJ(this.ref,(Q)=>{switch(Q._tag){case WL:return[WQ(Q.notifyProducer),Q];case Ux:return[LB(Q.notifyConsumers,(B)=>XD(B,A),{discard:!0}),_uQ(A)];case Nx:return[GE,Q];case Zx:return[GE,Q]}}))}get take(){return this.takeWith((A)=>iB(Q2(A,wA)),(A)=>hQ(A),(A)=>f0($A(A)))}takeWith(A,Q,B){return v(WB(),(C)=>AY(tJ(this.ref,(E)=>{switch(E._tag){case WL:return[VA(nC(E.notifyProducer,void 0),KZ(WQ(C),{onFailure:A,onSuccess:sB({onLeft:B,onRight:Q})})),XDA([C])];case Ux:return[KZ(WQ(C),{onFailure:A,onSuccess:sB({onLeft:B,onRight:Q})}),XDA([...E.notifyConsumers,C])];case Nx:return[c(A(E.cause)),E];case Zx:return[c(B(E.done)),E]}})))}}var Xx=()=>H(WB(),v((A)=>DC(HpA(A))),h((A)=>new WpA(A)));var dc=(A,Q,B)=>WA(QQ(DC(()=>u)),(C)=>H(QQ(E2(VB(A,(E)=>EI(C,(I)=>B(E,I))))),WA(Q),fH((E)=>v(d0(C),(I)=>I(E))))),KL=F(2,(A,Q)=>rH(A,()=>Q));var oH=F(2,(A,Q)=>ZL(A,(B)=>sB(YZ(B),{onLeft:Q,onRight:VQ}))),LZ=F(2,(A,Q)=>r2A(A,Q,()=>{return},()=>{return}));var OZ=(A)=>{let Q=kB({onInput:()=>Q,onFailure:VQ,onDone:dE});return gQ(A,Q)};var VL=F(2,(A,Q)=>fH(A,()=>Q));var VpA=(A)=>WA(A,s),HDA=F(2,(A,Q)=>Z3(A,{onFailure:(B)=>{let C=YZ(B);switch(C._tag){case"Left":return Q.onFailure(C.left);case"Right":return VQ(C.right)}},onSuccess:Q.onSuccess}));var Fx=(A)=>MB(A.takeWith(VQ,(Q)=>WA(zA(Q),()=>Fx(A)),dE));var pc=(A)=>wE(()=>MpA(A)),MpA=(A)=>H(QQ(BY(A)),WA(sB({onLeft:CE({onFailure:VQ,onSuccess:uE}),onRight:(Q)=>WA(zA(Q),()=>MpA(A))}))),LD=()=>NC({onInput:(A)=>WA(zA(A),()=>LD()),onFailure:Q0,onDone:uE}),cc=F(2,(A,Q)=>sH(A,{other:QQ(Q),onSelfDone:(B)=>h5(LA(()=>B)),onOtherDone:(B)=>h5(LA(()=>B))})),WDA=F(2,(A,Q)=>cc(A,WQ(Q))),rH=F(2,(A,Q)=>WA(A,(B)=>E9(()=>Q(B))));var lc=F(2,(A,Q)=>ic(A,Q2(Q))),ic=F(2,(A,Q)=>ZL(A,(B)=>VQ(Q(B)))),aH=F(2,(A,Q)=>{let B=NC({onInput:(C)=>WA(zA(Q(C)),()=>B),onFailure:Q0,onDone:uE});return gQ(A,B)}),Hx=F(2,(A,Q)=>{let B=kB({onInput:(C)=>H(QQ(Q(C)),WA(zA),WA(()=>B)),onFailure:VQ,onDone:uE});return gQ(A,B)}),nc=F(3,(A,Q,B)=>TZ((C)=>KA(function*(){let E=yield*Xx(),I=Fx(E),Y=yield*wD(B);yield*jC(C,DE(Y));let G=yield*WB(),J=B===Number.POSITIVE_INFINITY?(N)=>s:(yield*VZ(B)).withPermits;yield*(yield*I.pipe(gQ(A),nH(C))).pipe(aC({onFailure:(N)=>P0(Y,z0(N)),onSuccess:sB({onLeft:(N)=>VA(zQ(J(B)(u)),JE(P0(Y,c(wA(N))))),onRight:(N)=>KA(function*(){let Z=yield*WB(),X=yield*WB();yield*P0(Y,h(WQ(Z),$A)),yield*nC(X,void 0).pipe(VA(eI((W)=>rC(W(WQ(G))).pipe(ew(rC(W(Q(N)))),v(s))).pipe(pY((W)=>XD(G,W)),I2(Z))),J(1),uQ(C)),yield*WQ(X)})})}),QY,zQ,uQ(C));let U=MB(KZ(AY(BY(Y)),{onFailure:VQ,onSuccess:sB({onLeft:uE,onRight:(N)=>WA(zA(N),()=>U)})}));return XL(U,E)}))),$pA=(A)=>{return(Q)=>zpA(A)(Q,l0)};var zpA=({bufferSize:A=16,concurrency:Q,mergeStrategy:B=DDA()})=>(C,E)=>TZ((I)=>KA(function*(){let Y=Q==="unbounded"?Number.MAX_SAFE_INTEGER:Q,G=yield*Xx(),J=Fx(G),D=yield*wD(A);yield*jC(I,DE(D));let U=yield*mH();yield*jC(I,DE(U));let N=yield*DC(x()),Z=yield*WB(),X=(yield*VZ(Y)).withPermits,W=yield*nH(gQ(J,C),I);function K(M){return M.pipe(v(sB({onLeft:(z)=>c(j(z)),onRight:(z)=>IB(P0(D,c($A(z))),x())})),v5({until:(z)=>XA(z)}),v((z)=>cG(N,HA({onNone:()=>j(z.value),onSome:(L)=>j(E(L,z.value))}))),dQ((z)=>k2(z)?z0(z):P0(D,z0(z)).pipe(VA(nC(Z,void 0)),JE)))}yield*W.pipe(aC({onFailure:(M)=>P0(D,z0(M)).pipe(VA(c(!1))),onSuccess:sB({onLeft:(M)=>g5(zQ(WQ(Z)),zQ(X(Y)(u)),{onSelfDone:(z,L)=>IB($I(L),!1),onOtherDone:(z,L)=>VA($I(L),d0(N).pipe(v(HA({onNone:()=>P0(D,c(wA(M))),onSome:(O)=>P0(D,c(wA(E(O,M))))})),IB(!1)))}),onRight:(M)=>NDA(B,{onBackPressure:()=>KA(function*(){let z=yield*WB(),L=kU((R)=>nH(gQ(J,M),R).pipe(v((_)=>J3(rC(K(_)),rC(zQ(WQ(Z))))),v(s)));return yield*nC(z,void 0).pipe(VA(L),X(1),uQ(I)),yield*WQ(z),!(yield*E5(Z))}),onBufferSliding:()=>KA(function*(){let z=yield*WB(),L=yield*WB(),O=yield*Jc(U);yield*BY(U).pipe(v((S)=>nC(S,void 0)),dX(()=>O>=Y)),yield*P0(U,z);let R=kU((S)=>nH(gQ(J,M),S).pipe(v((q)=>rC(K(q)).pipe(J3(rC(zQ(WQ(Z)))),J3(rC(zQ(WQ(z)))))),v(s)));return yield*nC(L,void 0).pipe(VA(R),X(1),uQ(I)),yield*WQ(L),!(yield*E5(Z))})})})}),v5({while:(M)=>M}),uQ(I));let V=H(BY(D),AY,KZ({onFailure:VQ,onSuccess:sB({onLeft:uE,onRight:(M)=>WA(zA(M),()=>V)})}),MB);return XL(V,G)})),oc=F(3,(A,Q,B)=>$pA(B)(aH(A,Q)));var sH=F(2,(A,Q)=>{function B(C){return KA(function*(){let E=yield*Xx(),I=Fx(E),Y=yield*nH(gQ(I,A),C),G=yield*nH(gQ(I,Q.other),C);function J(U,N,Z){return(X,W,K)=>{function V(M){let z=M;if(z._tag===yc)return c(QQ(VA($I(N),z.effect)));return h(vX(N),CE({onFailure:(L)=>QQ(z.f(iB(L))),onSuccess:sB({onLeft:(L)=>QQ(z.f(hQ(L))),onRight:(L)=>bB(zA(L),D(K(z.f)))})}))}return CE(U,{onFailure:(M)=>V(X(iB(M))),onSuccess:sB({onLeft:(M)=>V(X(hQ(M))),onRight:(M)=>c(WA(zA(M),()=>WA(QQ(uQ(zQ(Z),C)),(z)=>D(W(z,N)))))})})}}function D(U){switch(U._tag){case kc:{let N=zQ(B2(U.left)),Z=zQ(B2(U.right));return MB(g5(N,Z,{onSelfDone:(X,W)=>VA($I(W),J(X,U.right,Y)(Q.onSelfDone,Dx,(K)=>mc(K))),onOtherDone:(X,W)=>VA($I(W),J(X,U.left,G)(Q.onOtherDone,(K,V)=>Dx(V,K),(K)=>fc(K)))}))}case bc:return MB(h(rC(G),CE({onFailure:(N)=>QQ(U.f(iB(N))),onSuccess:sB({onLeft:(N)=>QQ(U.f(hQ(N))),onRight:(N)=>WA(zA(N),()=>D(mc(U.f)))})})));case hc:return MB(h(rC(Y),CE({onFailure:(N)=>QQ(U.f(iB(N))),onSuccess:sB({onLeft:(N)=>QQ(U.f(hQ(N))),onRight:(N)=>WA(zA(N),()=>D(fc(U.f)))})})))}}return QQ(KB((U)=>{let N=KB((W)=>{return W.transferChildren(U.scope()),u}),Z=zQ(Y).pipe($C(N),uQ(C)),X=zQ(G).pipe($C(N),uQ(C));return Y2(Z,X,(W,K)=>Dx(W,K))})).pipe(WA(D),XL(E))})}return TZ(B)});var KDA=F(2,(A,Q)=>oH(A,(B)=>Yx(()=>MI(Q(B))))),rc=F(2,(A,Q)=>oH(A,Q)),SE=F(2,(A,Q)=>wE(()=>{let B=void 0,C=NC({onInput:(I)=>WA(zA(I),()=>C),onFailure:(I)=>{return B=RpA(I),VQ(MI(B))},onDone:uE}),E=kB({onInput:(I)=>H(zA(I),WA(()=>E)),onFailure:(I)=>Gj(I)&&TpA(I.defect)&&JA(I.defect,B)?Q0(I.defect.error):VQ(I),onDone:uE});return gQ(gQ(gQ(A,C),Q),E)}));var Wx=(A)=>WA(A,()=>Wx(A)),ML=(A)=>kU((Q)=>d2(A,Q));var VDA=(A)=>ML(OZ(A)),$L=(A)=>gp((Q)=>d2(A,Q)),ac=(A)=>MB(eI((Q)=>h(oG(),(B)=>o2A(pY(Q(IE(A,B)),(C)=>KE(B,iB(C))),(C,E)=>KE(B,E))))),sc=(A)=>RZ(h(ME,(Q)=>WA(QQ(A(Q)),zA)));var MDA=()=>wE(()=>{let A="",Q=!1,B=(E)=>{let I=[];return N0(E,(Y)=>{if(Y.length!==0){let G=0,J=Y.indexOf("\r"),D=Y.indexOf(`
`);if(Q){if(D===0)I.push(A),A="",G=1,D=Y.indexOf(`
`,G);else A=A+"\r";Q=!1}while(J!==-1||D!==-1)if(J===-1||D!==-1&&D<J){if(A.length===0)I.push(Y.substring(G,D));else I.push(A+Y.substring(G,D)),A="";G=D+1,D=Y.indexOf(`
`,G)}else if(Y.length===J+1)Q=!0,J=-1;else if(D===J+1){if(A.length===0)I.push(Y.substring(G,J));else A=A+Y.substring(G,J),I.push(A),A="";G=J+2,J=Y.indexOf("\r",G),D=Y.indexOf(`
`,G)}else J=Y.indexOf("\r",J+1);if(Q)A=A+Y.substring(G,Y.length-1);else A=A+Y.substring(G,Y.length)}}),tA(I)},C=kB({onInput:(E)=>{let I=B(E);return SQ(I)?C:WA(zA(I),()=>C)},onFailure:(E)=>A.length===0?VQ(E):WA(zA(dA(A)),()=>VQ(E)),onDone:(E)=>A.length===0?dE(E):WA(zA(dA(A)),()=>dE(E))});return C}),$DA=(A)=>wpA(A),zDA=(A)=>v(ME,(Q)=>nH(A,Q)),nH=F(2,(A,Q)=>zE(r(()=>new iH(A,void 0,s)),wI()).pipe(VB(([B,C])=>KD(Q,(E)=>{let I=B.close(E);return I!==void 0?SC(I,C):u})),E2,h(([B])=>LA(()=>FDA(B.run(),B))))),FDA=(A,Q)=>{let B=A;switch(B._tag){case uH:return CE(Q.getDone(),{onFailure:z0,onSuccess:(C)=>c(wA(C))});case pH:return c($A(Q.getEmit()));case b5:return H(B.effect,v(()=>FDA(Q.run(),Q)));case cH:return gc(B,()=>FDA(Q.run(),Q),(C)=>z0(C))}},wpA=(A)=>wE(()=>LpA(A)),LpA=(A)=>{return kB({onInput:(Q)=>WA(QQ(P0(A,$A(Q))),()=>LpA(A)),onFailure:(Q)=>QQ(H(P0(A,wA(iB(Q))))),onDone:(Q)=>QQ(H(P0(A,wA(hQ(Q)))))})},MB=(A)=>VpA(QQ(A)),RZ=(A)=>Rc(ac(A),(Q,B)=>Q,(Q,B)=>Q),TZ=(A)=>Rc(sc(A),(Q,B)=>Q,(Q,B)=>Q);var tc=function(){let A=typeof arguments[0]!=="string",Q=A?arguments[1]:arguments[0],B=zJ(A?arguments[2]:arguments[1]),C=tI([np(Q,B),xC(),OJ,pX(z2A)]);if(A){let E=arguments[0];return dc(C,([I,Y])=>dH(E,DQ(Y,wY,I)),([I,,Y,G],J)=>Uw(I,J,Y,G))}return(E)=>dc(C,([I,Y])=>dH(E,DQ(Y,wY,I)),([I,,Y,G],J)=>Uw(I,J,Y,G))},wDA=(...A)=>QJ(rB(A)),QJ=(A)=>OpA(0,A.length,A),OpA=(A,Q,B)=>{return A===Q?UQ:H(zA(H(B,EC(A))),WA(()=>OpA(A+1,Q,B)))},LDA=F((A)=>Ix(A[1]),(A,Q,B)=>B?.concurrent?sH(A,{other:Q,onSelfDone:(C)=>m5((E)=>LA(()=>zEA(C,E))),onOtherDone:(C)=>m5((E)=>LA(()=>zEA(E,C)))}):WA(A,(C)=>rH(Q,(E)=>[C,E]))),ec=F((A)=>Ix(A[1]),(A,Q,B)=>B?.concurrent?rH(LDA(A,Q,{concurrent:!0}),(C)=>C[0]):WA(A,(C)=>KL(Q,C))),bB=F((A)=>Ix(A[1]),(A,Q,B)=>B?.concurrent?rH(LDA(A,Q,{concurrent:!0}),(C)=>C[1]):WA(A,()=>Q)),uc=Symbol.for("effect/Channel/ChannelException"),RpA=(A)=>({_tag:"ChannelException",[uc]:uc,error:A}),TpA=(A)=>o(A,uc);var zL=Symbol.for("effect/Sink"),buQ={_A:(A)=>A,_In:(A)=>A,_L:(A)=>A,_E:(A)=>A,_R:(A)=>A};class MG{channel;[zL]=buQ;constructor(A){this.channel=A}pipe(){return e(this,arguments)}}var qpA=(A)=>o(A,zL),wL=(A)=>new MG(wE(()=>VG(A())));var ODA=()=>new MG(PpA(hA())),PpA=(A)=>kB({onInput:(Q)=>PpA(H(A,tQ(Q))),onFailure:VQ,onDone:()=>dE(A)}),RDA=(A)=>wL(()=>zx(_pA(A,hA()))),_pA=(A,Q)=>kB({onInput:(B)=>{let[C,E]=dF(B,A);if(C.length<A)return _pA(A-C.length,tQ(Q,C));if(SQ(E))return dE(tQ(Q,C));return WA(zA(E),()=>dE(tQ(Q,C)))},onFailure:VQ,onDone:()=>dE(Q)});var TDA=(A)=>new MG(H(k5(VG(A)),rH(([Q,B])=>[B,GP(Q)])));var Al=new MG(OZ(LD()));var Vx=(A)=>new MG(Q0(A));var Mx=(A,Q,B)=>wL(()=>new MG(jpA(A,Q,B))),jpA=(A,Q,B)=>{if(!Q(A))return uE(A);return NC({onInput:(C)=>{let[E,I]=xpA(A,C,Q,B,0,C.length);if(qB(I))return H(zA(I),KL(E));return jpA(E,Q,B)},onFailure:Q0,onDone:()=>uE(A)})},xpA=(A,Q,B,C,E,I)=>{if(E===I)return[A,hA()];let Y=C(A,H(Q,EC(E)));if(B(Y))return xpA(Y,Q,B,C,E+1,I);return[Y,H(Q,y0(E+1))]},Ql=F(2,(A,Q)=>{let B=H(VG(A),k5,HDA({onFailure:(C)=>VG(Q.onFailure(C)),onSuccess:([C,E])=>wE(()=>{let I={ref:H(C,FU(qB))},Y=H(E9(()=>{let D=I.ref;return I.ref=hA(),D}),WA((D)=>QJ(D))),G=LD(),J=H(Y,bB(G),gQ(VG(Q.onSuccess(E))));return WA(k5(J),([D,U])=>H(dE(I.ref),WA(QJ),bB(QJ(D)),KL(U)))})}));return new MG(B)}),SpA=(A,Q,B)=>wL(()=>new MG(gpA(A,Q,B))),gpA=(A,Q,B)=>{if(!Q(A))return uE(A);return NC({onInput:(C)=>gpA(B(A,C),Q,B),onFailure:Q0,onDone:()=>uE(A)})};var Bl=(A,Q,B)=>wL(()=>new MG(vpA(A,Q,B))),vpA=(A,Q,B)=>{if(!Q(A))return uE(A);return NC({onInput:(C)=>H(QQ(huQ(A,C,Q,B)),WA(([E,I])=>H(I,HA({onNone:()=>vpA(E,Q,B),onSome:(Y)=>H(zA(Y),KL(E))})))),onFailure:Q0,onDone:()=>uE(A)})},huQ=(A,Q,B,C)=>ypA(A,Q,0,Q.length,B,C),ypA=(A,Q,B,C,E,I)=>{if(B===C)return c([A,x()]);return H(I(A,H(Q,EC(B))),v((Y)=>E(Y)?ypA(Y,Q,B+1,C,E,I):c([Y,j(H(Q,y0(B+1)))])))};var LL=(A,Q)=>SpA(A,ZY,Q);var kpA=F(2,(A,Q)=>Ql(A,{onFailure:Vx,onSuccess:Q})),$x=(A)=>{let Q=kB({onInput:(B)=>H(QQ(LB(B,(C)=>A(C),{discard:!0})),WA(()=>Q)),onFailure:VQ,onDone:()=>UQ});return new MG(Q)},Cl=(A)=>{let Q=kB({onInput:(B)=>H(QQ(A(B)),WA(()=>Q)),onFailure:VQ,onDone:()=>UQ});return new MG(Q)},El=(A)=>{let Q=kB({onInput:(B)=>bpA(A,B,0,B.length,Q),onFailure:VQ,onDone:()=>UQ});return new MG(Q)},bpA=(A,Q,B,C,E)=>{if(B===C)return E;return H(QQ(A(H(Q,EC(B)))),WA((I)=>I?bpA(A,Q,B+1,C,E):zA(H(Q,y0(B)))),oH((I)=>H(zA(H(Q,y0(B))),bB(Q0(I)))))};var zx=(A)=>new MG(A),Il=(A)=>new MG(QQ(A));var qDA=()=>Mx(x(),cA,(A,Q)=>HA(A,{onNone:()=>j(Q),onSome:()=>A}));var PDA=()=>LL(x(),(A,Q)=>KI(JP(Q),()=>A));var _DA=F(2,(A,Q)=>{return new MG(H(VG(A),rH(Q)))});var hpA=F(2,(A,Q)=>{function B(C){return KA(function*(){let E=yield*Bx(Q?.capacity??16),I=yield*IE(zD(E),C),Y=yield*IE(zD(E),C),G=$DA(E),J=pc(I).pipe(gQ(VG(A)),ec(QQ(DE(I))),sH({other:pc(Y).pipe(gQ(VG(Q.other)),ec(QQ(DE(Y)))),onSelfDone:Q.onSelfDone,onOtherDone:Q.onOtherDone})),D=sH(G,{other:J,onSelfDone:()=>m5(s),onOtherDone:(U)=>h5(U)});return new MG(D)})}return fpA(B)});var jDA=LL(0,(A,Q)=>A+hN(Q,0,(B,C)=>B+C));var VG=(A)=>nB(A)?VG(Il(A)):A.channel;var mpA=(A)=>new MG(RZ(A.pipe(h((Q)=>VG(Q))))),fpA=(A)=>new MG(TZ((Q)=>A(Q).pipe(h((B)=>VG(B)))));var xDA=F((A)=>qpA(A[1]),(A,Q,B)=>dpA(A,Q,(C,E)=>E,B)),dpA=F((A)=>qpA(A[1]),(A,Q,B,C)=>C?.concurrent?hpA(A,{other:Q,onSelfDone:CE({onFailure:(E)=>h5(z0(E)),onSuccess:(E)=>m5(CE({onFailure:z0,onSuccess:(I)=>c(B(E,I))}))}),onOtherDone:CE({onFailure:(E)=>h5(z0(E)),onSuccess:(E)=>m5(CE({onFailure:z0,onSuccess:(I)=>c(B(I,E))}))})}):kpA(A,(E)=>_DA(Q,(I)=>B(E,I))));var SDA=LL(0,(A,Q)=>A+Q.length),gDA=wL(()=>{let A=[];return H(LL(void 0,(Q,B)=>N0(B,(C)=>{A.push(String(C))})),_DA(()=>A.join("")))});var upA=h5,ppA=m5;var lpA=Symbol.for("effect/RcRef"),yDA={_tag:"Empty"},muQ={_tag:"Closed"},fuQ={_A:s,_E:s};class ipA extends CI{acquire;context;scope;idleTimeToLive;[lpA]=fuQ;[UG]=UG;state=yDA;semaphore=JZ(1);constructor(A,Q,B,C){super();this.acquire=A,this.context=Q,this.scope=B,this.idleTimeToLive=C,this.get=kDA(this)}get;commit(){return this.get}}var npA=(A)=>TQ((Q)=>{let B=Q.getFiberRef(rI),C=nQ(B,LY),E=new ipA(A.acquire,B,C,A.idleTimeToLive?cQ(A.idleTimeToLive):void 0);return lB(C.addFinalizer(()=>E.semaphore.withPermits(1)(qA(()=>{let I=E.state._tag==="Acquired"?oJ(E.state.scope,KC):iA;return E.state=muQ,I}))),E)}),kDA=(A)=>{let Q=A;return GC((B)=>qA(()=>{switch(Q.state._tag){case"Closed":return qC;case"Acquired":return Q.state.refCount++,Q.state.fiber?lB(uG(Q.state.fiber),Q.state):n(Q.state);case"Empty":return ZG().pipe(g_("scope"),S_("value",({scope:C})=>B(iC(Q.acquire,rI,DQ(Q.context,LY,C)))),GA(({scope:C,value:E})=>{let I={_tag:"Acquired",value:E,scope:C,fiber:void 0,refCount:1};return Q.state=I,I}))}})).pipe(Q.semaphore.withPermits(1),g_("state"),S_("scope",()=>LY),YC(({scope:B,state:C})=>B.addFinalizer(()=>qA(()=>{if(C.refCount--,C.refCount>0)return iA;if(Q.idleTimeToLive===void 0)return Q.state=yDA,oJ(C.scope,KC);return jX(Q.idleTimeToLive).pipe(MJ,OQ(qA(()=>{if(Q.state._tag==="Acquired"&&Q.state.refCount===0)return Q.state=yDA,oJ(C.scope,KC);return iA})),nG(CA(()=>{C.fiber=void 0})),DZ(Q.scope),YC((E)=>{C.fiber=E}),Q.semaphore.withPermits(1))}))),GA(({state:B})=>B.value))};var opA=npA,rpA=kDA;var pE=jH;var Yl=uw,dU=vU;var wx=Ip;var Lx=$bA;var BJ={};ZQ(BJ,{zipWith:()=>klA,zipRight:()=>ylA,zipLeft:()=>vlA,windowed:()=>glA,whileOutputEffect:()=>SlA,whileOutput:()=>xlA,whileInputEffect:()=>jlA,whileInput:()=>_lA,upTo:()=>PlA,untilOutputEffect:()=>qlA,untilOutput:()=>TlA,untilInputEffect:()=>RlA,untilInput:()=>OlA,unionWith:()=>LlA,union:()=>Dl,unfold:()=>wlA,tapOutput:()=>zlA,tapInput:()=>$lA,sync:()=>MlA,succeed:()=>VlA,stop:()=>KlA,spaced:()=>LI,secondOfMinute:()=>zcA,run:()=>WlA,resetWhen:()=>HlA,resetAfter:()=>FlA,repetitions:()=>XlA,repeatForever:()=>ZlA,reduceEffect:()=>NlA,reduce:()=>UlA,recurs:()=>DlA,recurWhileEffect:()=>JlA,recurWhile:()=>GlA,recurUpTo:()=>YlA,recurUntilOption:()=>IlA,recurUntilEffect:()=>ElA,recurUntil:()=>ClA,provideService:()=>BlA,provideContext:()=>QlA,passthrough:()=>pcA,once:()=>AlA,onDecision:()=>ecA,modifyDelayEffect:()=>tcA,modifyDelay:()=>scA,minuteOfHour:()=>wcA,mapInputEffect:()=>KcA,mapInputContext:()=>VcA,mapInput:()=>WcA,mapEffect:()=>acA,mapBothEffect:()=>xcA,mapBoth:()=>jcA,map:()=>rcA,makeWithState:()=>tpA,linear:()=>ocA,jitteredWith:()=>ncA,jittered:()=>icA,isSchedule:()=>epA,intersectWith:()=>lcA,intersect:()=>ccA,identity:()=>ucA,hourOfDay:()=>LcA,fromFunction:()=>dcA,fromDelays:()=>fcA,fromDelay:()=>mcA,forever:()=>Jl,fixed:()=>hcA,fibonacci:()=>bcA,exponential:()=>Gl,ensuring:()=>kcA,elapsed:()=>ycA,eitherWith:()=>vcA,either:()=>gcA,duration:()=>ScA,driver:()=>cX,delays:()=>_cA,delayedSchedule:()=>PcA,delayedEffect:()=>qcA,delayed:()=>TcA,dayOfWeek:()=>RcA,dayOfMonth:()=>OcA,cron:()=>$cA,count:()=>McA,compose:()=>HcA,collectWhileEffect:()=>FcA,collectWhile:()=>XcA,collectUntilEffect:()=>ZcA,collectUntil:()=>NcA,collectAllOutputs:()=>UcA,collectAllInputs:()=>DcA,checkEffect:()=>JcA,check:()=>GcA,bothInOut:()=>YcA,asVoid:()=>IcA,as:()=>EcA,andThenEither:()=>CcA,andThen:()=>BcA,addDelayEffect:()=>QcA,addDelay:()=>AcA,ScheduleTypeId:()=>bDA,ScheduleDriverTypeId:()=>spA});var bDA=pu,spA=sGA,tpA=o0,epA=cu,AcA=lu,QcA=tGA,BcA=jyA,CcA=eGA,EcA=xyA,IcA=iu,YcA=SyA,GcA=kw,JcA=Q3,DcA=gyA,UcA=B3,NcA=vyA,ZcA=yyA,XcA=kyA,FcA=byA,HcA=hyA,WcA=AJA,KcA=nu,VcA=myA,McA=mkA,$cA=fyA,zcA=HkA,wcA=IkA,LcA=BkA,OcA=dyA,RcA=uyA,TcA=pyA,qcA=ou,PcA=Wj,_cA=cyA,jcA=lyA,xcA=iyA,cX=Kj,ScA=QJA,gcA=nyA,vcA=oyA,ycA=eu,kcA=ryA,Gl=ayA,bcA=syA,hcA=tyA,Jl=e8,mcA=eyA,fcA=AkA,dcA=QkA,ucA=T5,pcA=EJA,ccA=PH,lcA=BJA,icA=CkA,ncA=CJA,ocA=EkA,rcA=rG,acA=ru,scA=YkA,tcA=Vj,ecA=GkA,AlA=fkA,QlA=JkA,BlA=DkA,ClA=IJA,ElA=YJA,IlA=UkA,YlA=GJA,GlA=JJA,JlA=DJA,DlA=bw,UlA=au,NlA=UJA,ZlA=e8,XlA=NkA,FlA=ZkA,HlA=NJA,WlA=XkA,LI=WkA,KlA=dkA,VlA=KkA,MlA=VkA,$lA=MkA,zlA=$kA,wlA=Mj,Dl=ZJA,LlA=su,OlA=XJA,RlA=$j,TlA=FJA,qlA=zkA,PlA=wkA,_lA=HJA,jlA=zj,xlA=tu,SlA=LkA,glA=OkA,vlA=WJA,ylA=RkA,klA=TkA;var blA="Left",hlA="Right",mlA="Both",flA="Either";var dlA={_tag:blA},ulA={_tag:hlA},hDA={_tag:mlA},plA={_tag:flA},mDA=(A)=>{switch(A){case"left":return dlA;case"right":return ulA;case"both":return hDA;case"either":return plA;default:return A}};var llA=hDA;class Ox{value;constructor(A){this.value=A}}var fDA=(A,Q)=>({ref:A,isNew:Q,isChanged:!1,expected:A.versioned,newValue:A.versioned.value}),dDA=(A)=>{return A.newValue},uDA=(A,Q)=>{A.isChanged=!0,A.newValue=Q},olA=(A)=>{A.ref.versioned=new Ox(A.newValue)};var rlA=(A)=>{return A.ref.versioned!==A.expected},alA=(A)=>{return A.isChanged};var Rx="Invalid",Ul="ReadWrite",puQ="ReadOnly",pDA=(A)=>{for(let Q of A)olA(Q[1])},cDA=(A)=>{let Q=puQ;for(let[,B]of A)if(Q=rlA(B)?Rx:alA(B)?Ul:Q,Q===Rx)return Q;return Q};var tlA=(A)=>{let Q=new Map;for(let[,B]of A){for(let C of B.ref.todos)Q.set(C[0],C[1]);B.ref.todos=new Map}return Q},elA=(A)=>{let Q=Array.from(A.entries()).sort((B,C)=>B[0]-C[0]);for(let[B,C]of Q)C()},AiA=(A,Q,B)=>{let C=!1;for(let[,E]of Q)if(!E.ref.todos.has(A))E.ref.todos.set(A,B),C=!0;return C};var lDA="WithSTMRuntime",Nl="OnFailure",iDA="OnRetry",Zl="OnSuccess",BiA="Provide",nDA="Sync",oDA="Succeed",rDA="Retry",aDA="Fail",sDA="Die",tDA="Interrupt";var f5="Fail",d5="Die",u5="Interrupt",lX="Succeed",p5="Retry";var Tx="Done",qx="Suspend";var Px="Done",Xl="Interrupted",_x="Running";var Fl="effect/STM/State",W3=Symbol.for(Fl),AUA=(A)=>o(A,W3),QUA=(A)=>{return A._tag===_x},BUA=(A)=>{return A._tag===Px};var jx=(A)=>{return{[W3]:W3,_tag:Px,exit:A,[TA](){return H(QA(Fl),FA(QA(Px)),FA(QA(A)),rA(this))},[PA](Q){return AUA(Q)&&Q._tag===Px&&JA(A,Q.exit)}}},iuQ=H(QA(Fl),FA(QA(Xl)),FA(QA("interrupted"))),CUA={[W3]:W3,_tag:Xl,[TA](){return iuQ},[PA](A){return AUA(A)&&A._tag===Xl}},nuQ=H(QA(Fl),FA(QA(_x)),FA(QA("running"))),EUA={[W3]:W3,_tag:_x,[TA](){return nuQ},[PA](A){return AUA(A)&&A._tag===_x}},xx=(A)=>{switch(A._tag){case f5:return jx(f0(A.error));case d5:return jx(BI(A.defect));case u5:return jx(I5(A.fiberId));case lX:return jx(hQ(A.value));case p5:throw new Error("BUG: STM.STMState.fromTExit - please report an issue at https://github.com/Effect-TS/effect/issues")}};var OL="effect/TExit",RL=Symbol.for(OL),Sx={_A:(A)=>A,_E:(A)=>A},gx=(A)=>o(A,RL);var IiA=(A)=>{return A._tag===lX},ouQ=(A)=>{return A._tag===p5},YiA=(A)=>({[RL]:Sx,_tag:f5,error:A,[TA](){return H(QA(OL),FA(QA(f5)),FA(QA(A)),rA(this))},[PA](Q){return gx(Q)&&Q._tag===f5&&JA(A,Q.error)}}),GiA=(A)=>({[RL]:Sx,_tag:d5,defect:A,[TA](){return H(QA(OL),FA(QA(d5)),FA(QA(A)),rA(this))},[PA](Q){return gx(Q)&&Q._tag===d5&&JA(A,Q.defect)}}),JiA=(A)=>({[RL]:Sx,_tag:u5,fiberId:A,[TA](){return H(QA(OL),FA(QA(u5)),FA(QA(A)),rA(this))},[PA](Q){return gx(Q)&&Q._tag===u5&&JA(A,Q.fiberId)}}),IUA=(A)=>({[RL]:Sx,_tag:lX,value:A,[TA](){return H(QA(OL),FA(QA(lX)),FA(QA(A)),rA(this))},[PA](Q){return gx(Q)&&Q._tag===lX&&JA(A,Q.value)}}),ruQ=H(QA(OL),FA(QA(p5)),FA(QA("retry"))),DiA={[RL]:Sx,_tag:p5,[TA](){return ruQ},[PA](A){return gx(A)&&ouQ(A)}};var UiA=(A)=>{return{_tag:Tx,exit:A}},YUA=(A)=>{return{_tag:qx,journal:A}};var NiA={ref:0},ZiA=()=>{let A=NiA.ref+1;return NiA.ref=A,A};var euQ="effect/STM",XiA=Symbol.for(euQ),Hl={_R:(A)=>A,_E:(A)=>A,_A:(A)=>A};class iX{effect_instruction_i0;_op=K1;effect_instruction_i1=void 0;effect_instruction_i2=void 0;[bj];[y$];[zL];[NL];get[XiA](){return Hl}constructor(A){this.effect_instruction_i0=A,this[bj]=t9,this[y$]=Hl,this[zL]=Hl,this[NL]=Hl}[PA](A){return this===A}[TA](){return rA(this,MF(this))}[Symbol.iterator](){return new EH(new K8(this))}commit(){return FiA(this,l0,l0)}pipe(){return e(this,arguments)}}var FiA=(A,Q,B)=>TQ((C)=>{let E=C.id(),I=C.getFiberRef(gC),Y=C.getFiberRef(rj),G=C.getFiberRef(V2A),J=QpQ(E,A,I,Y,G);switch(J._tag){case Tx:return Q(J.exit),J.exit;case qx:{let D=ZiA(),U={value:EUA},N=OB((Z)=>HiA(E,A,D,U,I,Y,G,Z));return eI((Z)=>H(Z(N),dQ((X)=>{let W=U.value;if(QUA(W))U.value=CUA;if(W=U.value,BUA(W))return Q(W.exit),W.exit;return B(),z0(X)})))}}}),ApQ=(A,Q,B,C,E,I)=>{let Y=new Map,G=new GUA(Q,Y,A,C).run(),J=cDA(Y);if(J===Ul)pDA(Y);else if(J===Rx)throw new Error("BUG: STM.TryCommit.tryCommit - please report an issue at https://github.com/Effect-TS/effect/issues");switch(G._tag){case lX:return B.value=xx(G),tH(hQ(G.value),Y,E,I);case f5:{B.value=xx(G);let D=SU(G.error);return tH(iB(D),Y,E,I)}case d5:{B.value=xx(G);let D=MI(G.defect);return tH(iB(D),Y,E,I)}case u5:{B.value=xx(G);let D=LH(A);return tH(iB(D),Y,E,I)}case p5:return YUA(Y)}},QpQ=(A,Q,B,C,E)=>{let I=new Map,Y=new GUA(Q,I,A,B).run(),G=cDA(I);if(G===Ul&&IiA(Y))pDA(I);else if(G===Rx)throw new Error("BUG: STM.TryCommit.tryCommitSync - please report an issue at https://github.com/Effect-TS/effect/issues");switch(Y._tag){case lX:return tH(hQ(Y.value),I,C,E);case f5:{let J=SU(Y.error);return tH(iB(J),I,C,E)}case d5:{let J=MI(Y.defect);return tH(iB(J),I,C,E)}case u5:{let J=LH(A);return tH(iB(J),I,C,E)}case p5:return YUA(I)}},HiA=(A,Q,B,C,E,I,Y,G)=>{if(QUA(C.value)){let J=ApQ(A,Q,C,E,I,Y);switch(J._tag){case Tx:{BpQ(J.exit,G);break}case qx:{AiA(B,J.journal,()=>HiA(A,Q,B,C,E,I,Y,G));break}}}},tH=(A,Q,B,C)=>{let E=tlA(Q);if(E.size>0)B.scheduleTask(()=>elA(E),C);return UiA(A)},BpQ=(A,Q)=>{Q(A)};class GUA{self;journal;fiberId;contStack=[];env;constructor(A,Q,B,C){this.self=A,this.journal=Q,this.fiberId=B,this.env=C}getEnv(){return this.env}pushStack(A){this.contStack.push(A)}popStack(){return this.contStack.pop()}nextSuccess(){let A=this.popStack();while(A!==void 0&&A.effect_instruction_i0!==Zl)A=this.popStack();return A}nextFailure(){let A=this.popStack();while(A!==void 0&&A.effect_instruction_i0!==Nl)A=this.popStack();return A}nextRetry(){let A=this.popStack();while(A!==void 0&&A.effect_instruction_i0!==iDA)A=this.popStack();return A}run(){let A=this.self,Q=void 0;while(Q===void 0&&A!==void 0)try{let B=A;if(B)switch(B._op){case"Tag":{A=G2((C,E,I)=>v0(I,B));break}case"Left":{A=TL(B.left);break}case"None":{A=TL(new r7);break}case"Right":{A=W0(B.right);break}case"Some":{A=W0(B.value);break}case"Commit":{switch(B.effect_instruction_i0){case sDA:{Q=GiA(CC(()=>B.effect_instruction_i1()));break}case aDA:{let C=this.nextFailure();if(C===void 0)Q=YiA(CC(()=>B.effect_instruction_i1()));else A=CC(()=>C.effect_instruction_i2(CC(()=>B.effect_instruction_i1())));break}case rDA:{let C=this.nextRetry();if(C===void 0)Q=DiA;else A=CC(()=>C.effect_instruction_i2());break}case tDA:{Q=JiA(this.fiberId);break}case lDA:{A=CC(()=>B.effect_instruction_i1(this));break}case Zl:case Nl:case iDA:{this.pushStack(B),A=B.effect_instruction_i1;break}case BiA:{let C=this.env;this.env=CC(()=>B.effect_instruction_i2(C)),A=H(B.effect_instruction_i1,WiA(PL(()=>this.env=C)));break}case oDA:{let C=B.effect_instruction_i1,E=this.nextSuccess();if(E===void 0)Q=IUA(C);else A=CC(()=>E.effect_instruction_i2(C));break}case nDA:{let C=CC(()=>B.effect_instruction_i1()),E=this.nextSuccess();if(E===void 0)Q=IUA(C);else A=CC(()=>E.effect_instruction_i2(C));break}}break}}}catch(B){A=DUA(B)}return Q}}var JUA=F(2,(A,Q)=>{let B=new iX(Nl);return B.effect_instruction_i1=A,B.effect_instruction_i2=Q,B});var DUA=(A)=>UUA(()=>A);var UUA=(A)=>{let Q=new iX(sDA);return Q.effect_instruction_i1=A,Q},G2=(A)=>bI((Q)=>W0(A(Q.journal,Q.fiberId,Q.getEnv()))),WiA=F(2,(A,Q)=>Wl(A,{onFailure:(B)=>qL(Q,TL(B)),onSuccess:(B)=>qL(Q,W0(B))})),TL=(A)=>NUA(()=>A),NUA=(A)=>{let Q=new iX(aDA);return Q.effect_instruction_i1=A,Q},TY=F(2,(A,Q)=>{let B=new iX(Zl);return B.effect_instruction_i1=A,B.effect_instruction_i2=Q,B}),Wl=F(2,(A,{onFailure:Q,onSuccess:B})=>H(A,YI($A),JUA((C)=>H(Q(C),YI(wA))),TY((C)=>{switch(C._tag){case"Left":return W0(C.left);case"Right":return B(C.right)}}))),bI=(A)=>{let Q=new iX(lDA);return Q.effect_instruction_i1=A,Q};var CJ=(A)=>{let Q=new iX(tDA);return Q.effect_instruction_i1=A,Q},YI=F(2,(A,Q)=>H(A,TY((B)=>PL(()=>Q(B)))));var qJ=new iX(rDA),W0=(A)=>{let Q=new iX(oDA);return Q.effect_instruction_i1=A,Q},PL=(A)=>{let Q=new iX(nDA);return Q.effect_instruction_i1=A,Q};var qL=F(2,(A,Q)=>H(A,TY(()=>Q))),Kl=F(3,(A,Q,B)=>H(A,TY((C)=>H(Q,YI((E)=>B(C,E))))));var vx="BackPressure",yx="Dropping",kx="Sliding";var ZUA=F(2,(A,Q)=>H(A,YI(()=>Q)));var XUA=(A)=>TY(A,s);var c5=F((A)=>mJ(A[0]),(A,Q,B)=>{if(B?.discard)return H(PL(()=>A[Symbol.iterator]()),TY((C)=>{let E=bx(()=>{let I=C.next();if(I.done)return l5;return H(Q(I.value),TY(()=>E))});return E}));return bx(()=>aA(A).reduce((C,E)=>Kl(C,Q(E),(I,Y)=>{return I.push(Y),I}),W0([])))});var FUA=(A,Q)=>{if(Symbol.iterator in A)return c5(A,s,Q);else if(Q?.discard)return c5(Object.values(A),s,Q);return YI(c5(Object.entries(A),([B,C])=>YI(C,(E)=>[B,E])),(B)=>{let C={};for(let[E,I]of B)C[E]=I;return C})};var bx=(A)=>XUA(PL(A)),Ml=F(2,(A,Q)=>TY(A,(B)=>ZUA(Q(B),B)));var l5=W0(void 0);var GpQ="effect/TRef",MiA=Symbol.for(GpQ),$iA={_A:(A)=>A};class V3{[MiA]=$iA;todos;versioned;constructor(A){this.versioned=new Ox(A),this.todos=new Map}modify(A){return G2((Q)=>{let B=HUA(this,Q),[C,E]=A(dDA(B));return uDA(B,E),C})}pipe(){return e(this,arguments)}}var I9=(A)=>G2((Q)=>{let B=new V3(A);return Q.set(B,fDA(B,!0)),B}),Y9=(A)=>A.modify((Q)=>[Q,Q]),_L=F(2,(A,Q)=>A.modify(()=>[void 0,Q]));var HUA=(A,Q)=>{if(Q.has(A))return Q.get(A);let B=fDA(A,!1);return Q.set(A,B),B},B0=F(2,(A,Q)=>dDA(HUA(A,Q))),G0=F(3,(A,Q,B)=>{let C=HUA(A,B);uDA(C,Q);return});var JpQ="effect/TQueue/TEnqueue",$l=Symbol.for(JpQ),DpQ="effect/TQueue/TDequeue",zl=Symbol.for(DpQ);var wl={_Out:(A)=>A},WUA={_In:(A)=>A};class UpQ{ref;requestedCapacity;strategy;[zl]=wl;[$l]=WUA;constructor(A,Q,B){this.ref=A,this.requestedCapacity=Q,this.strategy=B}capacity(){return this.requestedCapacity}size=bI((A)=>{let Q=B0(this.ref,A.journal);if(Q===void 0)return CJ(A.fiberId);return W0(Q.length)});isFull=YI(this.size,(A)=>A===this.requestedCapacity);isEmpty=YI(this.size,(A)=>A===0);shutdown=bI((A)=>{return G0(this.ref,void 0,A.journal),l5});isShutdown=G2((A)=>{return B0(this.ref,A)===void 0});awaitShutdown=TY(this.isShutdown,(A)=>A?l5:qJ);offer(A){return bI((Q)=>{let B=H(this.ref,B0(Q.journal));if(B===void 0)return CJ(Q.fiberId);if(B.length<this.requestedCapacity)return B.push(A),G0(this.ref,B,Q.journal),W0(!0);switch(this.strategy._tag){case vx:return qJ;case yx:return W0(!1);case kx:{if(B.length===0)return W0(!0);return B.shift(),B.push(A),G0(this.ref,B,Q.journal),W0(!0)}}})}offerAll(A){return bI((Q)=>{let B=Array.from(A),C=B0(this.ref,Q.journal);if(C===void 0)return CJ(Q.fiberId);if(C.length+B.length<=this.requestedCapacity)return G0(this.ref,[...C,...B],Q.journal),W0(!0);switch(this.strategy._tag){case vx:return qJ;case yx:{let E=B.slice(0,this.requestedCapacity-C.length);return G0(this.ref,[...C,...E],Q.journal),W0(!1)}case kx:{let E=B.slice(0,this.requestedCapacity-C.length),I=C.length+E.length-this.requestedCapacity,Y=C.slice(I);return G0(this.ref,[...Y,...E],Q.journal),W0(!0)}}})}peek=bI((A)=>{let Q=B0(this.ref,A.journal);if(Q===void 0)return CJ(A.fiberId);if(Q.length===0)return qJ;return W0(Q[0])});peekOption=bI((A)=>{let Q=B0(this.ref,A.journal);if(Q===void 0)return CJ(A.fiberId);return W0(aQ(Q[0]))});take=bI((A)=>{let Q=B0(this.ref,A.journal);if(Q===void 0)return CJ(A.fiberId);if(Q.length===0)return qJ;let B=Q.shift();return G0(this.ref,Q,A.journal),W0(B)});takeAll=bI((A)=>{let Q=B0(this.ref,A.journal);if(Q===void 0)return CJ(A.fiberId);return G0(this.ref,[],A.journal),W0(Q)});takeUpTo(A){return bI((Q)=>{let B=B0(this.ref,Q.journal);if(B===void 0)return CJ(Q.fiberId);let[C,E]=dF(tA(B),A);return G0(this.ref,Array.from(E),Q.journal),W0(Array.from(C))})}}var ziA=(A)=>A.isShutdown;var KUA=(A)=>A.shutdown;var wiA=(A)=>A.take;var NpQ="effect/TPubSub",Ll=Symbol.for(NpQ),pU=Symbol.for("effect/TPubSub/AbsentValue"),i5=(A,Q,B)=>({head:A,subscribers:Q,tail:B});class ZpQ{pubsubSize;publisherHead;publisherTail;requestedCapacity;strategy;subscriberCount;subscribers;[Ll]={_A:(A)=>A};[$l]=WUA;constructor(A,Q,B,C,E,I,Y){this.pubsubSize=A,this.publisherHead=Q,this.publisherTail=B,this.requestedCapacity=C,this.strategy=E,this.subscriberCount=I,this.subscribers=Y}isShutdown=G2((A)=>{return B0(this.publisherTail,A)===void 0});awaitShutdown=TY(this.isShutdown,(A)=>A?l5:qJ);capacity(){return this.requestedCapacity}size=bI((A)=>{if(B0(this.publisherTail,A.journal)===void 0)return CJ(A.fiberId);return W0(B0(this.pubsubSize,A.journal))});isEmpty=YI(this.size,(A)=>A===0);isFull=YI(this.size,(A)=>A===this.capacity());offer(A){return bI((Q)=>{let B=B0(this.publisherTail,Q.journal);if(B===void 0)return CJ(Q.fiberId);let C=B0(this.subscriberCount,Q.journal);if(C===0)return W0(!0);let E=B0(this.pubsubSize,Q.journal);if(E<this.requestedCapacity){let I=new V3(void 0),Y=i5(A,C,I);return G0(B,Y,Q.journal),G0(this.publisherTail,I,Q.journal),G0(this.pubsubSize,E+1,Q.journal),W0(!0)}switch(this.strategy._tag){case vx:return qJ;case yx:return W0(!1);case kx:{if(this.requestedCapacity>0){let G=B0(this.publisherHead,Q.journal),J=!0;while(J){let D=B0(G,Q.journal);if(D===void 0)return qJ;let{head:U,tail:N}=D;if(U!==pU){let Z=i5(pU,D.subscribers,D.tail);G0(G,Z,Q.journal),G0(this.publisherHead,N,Q.journal),J=!1}else G=N}}let I=new V3(void 0),Y=i5(A,C,I);return G0(B,Y,Q.journal),G0(this.publisherTail,I,Q.journal),W0(!0)}}})}offerAll(A){return YI(c5(A,(Q)=>this.offer(Q)),yq(s))}shutdown=G2((A)=>{if(B0(this.publisherTail,A)!==void 0){G0(this.publisherTail,void 0,A);let B=B0(this.subscribers,A);UCA(B,(C)=>{G0(C,void 0,A)}),G0(this.subscribers,mG(),A)}})}class OiA{pubsubSize;publisherHead;requestedCapacity;subscriberHead;subscriberCount;subscribers;[Ll]=Ll;[zl]=wl;constructor(A,Q,B,C,E,I){this.pubsubSize=A,this.publisherHead=Q,this.requestedCapacity=B,this.subscriberHead=C,this.subscriberCount=E,this.subscribers=I}isShutdown=G2((A)=>{return B0(this.subscriberHead,A)===void 0});awaitShutdown=TY(this.isShutdown,(A)=>A?l5:qJ);capacity(){return this.requestedCapacity}size=bI((A)=>{let Q=B0(this.subscriberHead,A.journal);if(Q===void 0)return CJ(A.fiberId);let B=!0,C=0;while(B){let E=B0(Q,A.journal);if(E===void 0)B=!1;else{let{head:I,tail:Y}=E;if(I!==pU){if(C=C+1,C>=Number.MAX_SAFE_INTEGER)B=!1}Q=Y}}return W0(C)});isEmpty=YI(this.size,(A)=>A===0);isFull=YI(this.size,(A)=>A===this.capacity());peek=bI((A)=>{let Q=B0(this.subscriberHead,A.journal);if(Q===void 0)return CJ(A.fiberId);let B=pU,C=!0;while(C){let E=B0(Q,A.journal);if(E===void 0)return qJ;let{head:I,tail:Y}=E;if(I!==pU)B=I,C=!1;else Q=Y}return W0(B)});peekOption=bI((A)=>{let Q=B0(this.subscriberHead,A.journal);if(Q===void 0)return CJ(A.fiberId);let B=x(),C=!0;while(C){let E=B0(Q,A.journal);if(E===void 0)B=x(),C=!1;else{let{head:I,tail:Y}=E;if(I!==pU)B=j(I),C=!1;else Q=Y}}return W0(B)});shutdown=G2((A)=>{let Q=B0(this.subscriberHead,A);if(Q!==void 0){G0(this.subscriberHead,void 0,A);let B=!0;while(B){let E=B0(Q,A);if(E===void 0)B=!1;else{let{head:I,tail:Y}=E;if(I!==pU){let G=E.subscribers;if(G===1){let J=B0(this.pubsubSize,A),D=i5(pU,0,Y);G0(Q,D,A),G0(this.publisherHead,Y,A),G0(this.pubsubSize,J-1,A)}else{let J=i5(I,G-1,Y);G0(Q,J,A)}}Q=Y}}let C=B0(this.subscriberCount,A);G0(this.subscriberCount,C-1,A),G0(this.subscribers,NX(B0(this.subscribers,A),this.subscriberHead),A)}});take=bI((A)=>{let Q=B0(this.subscriberHead,A.journal);if(Q===void 0)return CJ(A.fiberId);let B=pU,C=!0;while(C){let E=B0(Q,A.journal);if(E===void 0)return qJ;let{head:I,tail:Y}=E;if(I!==pU){let G=E.subscribers;if(G===1){let J=B0(this.pubsubSize,A.journal),D=i5(pU,0,Y);G0(Q,D,A.journal),G0(this.publisherHead,Y,A.journal),G0(this.pubsubSize,J-1,A.journal)}else{let J=i5(I,G-1,Y);G0(Q,J,A.journal)}G0(this.subscriberHead,Y,A.journal),B=I,C=!1}else Q=Y}return W0(B)});takeAll=this.takeUpTo(Number.POSITIVE_INFINITY);takeUpTo(A){return bI((Q)=>{let B=B0(this.subscriberHead,Q.journal);if(B===void 0)return CJ(Q.fiberId);let C=[],E=0;while(E!==A){let I=B0(B,Q.journal);if(I===void 0)E=A;else{let{head:Y,tail:G}=I;if(Y!==pU){let J=I.subscribers;if(J===1){let D=B0(this.pubsubSize,Q.journal),U=i5(pU,0,G);G0(B,U,Q.journal),G0(this.publisherHead,G,Q.journal),G0(this.pubsubSize,D-1,Q.journal)}else{let D=i5(Y,J-1,G);G0(B,D,Q.journal)}C.push(Y),E=E+1}B=G}}return G0(this.subscriberHead,B,Q.journal),W0(C)})}}var XpQ=(A,Q,B,C,E,I)=>H(Y9(B),TY((Y)=>H(FUA([I9(Y),Y9(E),Y9(I)]),Ml(([G,J])=>H(E,_L(J+1))),Ml(([G,J,D])=>H(I,_L(H(D,uJ(G))))),YI(([G])=>new OiA(A,Q,C,G,E,I)))));var RiA=(A)=>XpQ(A.pubsubSize,A.publisherHead,A.publisherTail,A.requestedCapacity,A.subscriberCount,A.subscribers),TiA=(A)=>kQ(RiA(A),(Q)=>KUA(Q));var qiA=TiA;var PiA=ziA;var _iA=wiA;class hx{capacity;array;size=0;current=0;constructor(A){this.capacity=A,this.array=Array.from({length:A},KF)}head(){return aQ(this.array[this.current])}lastOrNull(){if(this.size===0)return;let A=this.current===0?this.array.length-1:this.current-1;return this.array[A]??void 0}put(A){this.array[this.current]=A,this.increment()}dropLast(){if(this.size>0)this.decrement(),this.array[this.current]=void 0}toChunk(){let A=this.current-this.size,Q=A<0?[...this.array.slice(this.capacity+A,this.capacity),...this.array.slice(0,this.current)]:this.array.slice(A,this.current);return rB(Q)}increment(){if(this.size<this.capacity)this.size+=1;this.current=(this.current+1)%this.capacity}decrement(){if(this.size-=1,this.current>0)this.current-=1;else this.current=this.capacity-1}}var jiA="NotStarted",xiA="Previous",SiA="Current",giA={_tag:"NotStarted"},viA=(A)=>({_tag:"Previous",fiber:A}),yiA=(A)=>({_tag:"Current",fiber:A});var Rl=(A)=>{return Object.assign(A,{chunk(B){return this(c(B))},die(B){return this(MC(B))},dieMessage(B){return this(xE(B))},done(B){return this(LA(()=>$EA(B,{onFailure:j,onSuccess:dA})))},end(){return this(ZA(x()))},fail(B){return this(ZA(j(B)))},fromEffect(B){return this(bX(B,{onFailure:j,onSuccess:dA}))},fromEffectChunk(B){return this(H(B,fE(j)))},halt(B){return this(z0(H(B,Q2(j))))},single(B){return this(c(dA(B)))}})},kiA=(A,Q)=>{let B=!1,C=[],E=!1;function I(J){if(B)return!1;if(J.length<=50000)C.push.apply(C,J);else for(let D=0;D<J.length;D++)C.push(J[0]);if(!E)E=!0,Q.scheduleTask(Y,0);return!0}function Y(){if(E=!1,C.length>0)A.unsafeOffer(C),C=[]}function G(J){if(B)return;if(B=!0,J._tag==="Success")C.push(J.value);Y(),A.unsafeOffer(J._tag==="Success"?_C:J)}return{single(J){if(B)return!1;if(C.push(J),!E)E=!0,Q.scheduleTask(Y,0);return!0},array:I,chunk(J){return I(CB(J))},done:G,end(){if(B)return;B=!0,Y(),A.unsafeOffer(_C)},halt(J){return G(iB(J))},fail(J){return G(f0(J))},die(J){return G(BI(J))},dieMessage(J){return G(BI(new Error(J)))}}};var KpQ=Symbol.for("effect/Stream/Handoff"),biA="Empty",hiA="Full",miA=(A)=>({_tag:biA,notifyConsumer:A}),VpQ=(A,Q)=>({_tag:hiA,value:A,notifyProducer:Q}),fiA=(A,Q)=>{return(B)=>{switch(B._tag){case biA:return A(B.notifyConsumer);case hiA:return Q(B.value,B.notifyProducer)}}},MpQ={_A:(A)=>A},OD=()=>H(WB(),v((A)=>DC(miA(A))),h((A)=>({[KpQ]:MpQ,ref:A}))),LE=F(2,(A,Q)=>{return v(WB(),(B)=>AY(tJ(A.ref,(C)=>H(C,fiA((E)=>[VA(nC(E,void 0),WQ(B)),VpQ(Q,B)],(E,I)=>[v(WQ(I),()=>H(A,LE(Q))),C])))))}),RD=(A)=>v(WB(),(Q)=>AY(tJ(A.ref,(B)=>H(B,fiA((C)=>[v(WQ(C),()=>RD(A)),B],(C,E)=>[IB(nC(E,void 0),C),miA(Q)])))));var mx="Emit",fx="Halt",dx="End",MUA=(A)=>({_tag:"Emit",elements:A}),Tl=(A)=>({_tag:"Halt",cause:A}),ux=(A)=>({_tag:"End",reason:A});var LpQ="effect/Take",diA=Symbol.for(LpQ),OpQ={_A:(A)=>A,_E:(A)=>A};class M3{exit;[diA]=OpQ;constructor(A){this.exit=A}pipe(){return e(this,arguments)}}var oX=(A)=>new M3(hQ(A));var eH=(A)=>LA(()=>A.exit),qZ=new M3(f0(x()));var rX=(A)=>new M3(iB(H(A,Q2(j))));var px=(A)=>KZ(A,{onFailure:(Q)=>HA(n7(Q),{onNone:()=>qZ,onSome:rX}),onSuccess:oX});var $3=F(2,(A,{onEnd:Q,onFailure:B,onSuccess:C})=>CE(A.exit,{onFailure:(E)=>HA(n7(E),{onNone:Q,onSome:B}),onSuccess:C}));var cx=(A)=>new M3(hQ(dA(A)));var lx=()=>ZA(x());var Pl=(A)=>fE(z0(A),j);var $UA="ScheduleEnd",uiA="UpstreamEnd",jL={_tag:"ScheduleEnd"},zUA={_tag:"UpstreamEnd"};var wUA="DrainLeft",LUA="DrainRight",OUA="PullBoth",RUA="PullLeft",TUA="PullRight",AW={_tag:"DrainLeft"},QW={_tag:"DrainRight"},BW={_tag:"PullBoth"},n5=(A)=>({_tag:"PullLeft",rightChunk:A}),o5=(A)=>({_tag:"PullRight",leftChunk:A});var piA="PullBoth",ciA="PullLet",liA="PullRight",ix={_tag:"PullBoth"},nx=(A)=>({_tag:"PullLet",rightChunk:A}),ox=(A)=>({_tag:"PullRight",leftChunk:A});var _pQ="effect/Stream",xl=Symbol.for(_pQ),jpQ={_R:(A)=>A,_E:(A)=>A,_A:(A)=>A};class yA{channel;[xl]=jpQ;constructor(A){this.channel=A}pipe(){return e(this,arguments)}}var TD=(A)=>o(A,xl)||nB(A),xL=4096,riA=(A)=>sx(qUA(A)),qUA=(A)=>{let Q=(B)=>NC({onInput:(C)=>{let E=tQ(B,C);return WA(zA(E),()=>Q(E))},onFailure:Q0,onDone:()=>UQ});return new yA(gQ(jA(A),Q(hA())))},PUA=(A,Q)=>O3(kQ(A,Q)),aiA=F(2,(A,Q)=>Sl(A,Q,Jl)),Sl=F(3,(A,Q,B)=>EW(_UA(A,Q,B),(C)=>sB(C,{onLeft:x,onRight:j}))),_UA=F(3,(A,Q,B)=>{let C=tI([OD(),DC(jL),DC(hA()),cX(B),DC(!1),DC(!1)]);return cE(C).pipe(GI(([E,I,Y,G,J,D])=>{let U=kB({onInput:(W)=>WA(QQ(H(E,LE(MUA(W)),dX(()=>qB(W)))),()=>U),onFailure:(W)=>QQ(LE(E,Tl(W))),onDone:()=>QQ(LE(E,ux(zUA)))}),N=H(j7(Y,hA()),v((W)=>{if(qB(W))return H(EI(J,!0),VA(c(H(zA(W),WA(()=>N)))));return H(RD(E),h((K)=>{switch(K._tag){case mx:return H(QQ(EI(J,!0)),bB(zA(K.elements)),bB(QQ(d0(D))),WA((V)=>V?UQ:N));case fx:return VQ(K.cause);case dx:{if(K.reason._tag===$UA)return H(d0(J),h((V)=>V?QQ(H(EI(I,jL),VA(EI(D,!0)))):H(QQ(H(EI(I,jL),VA(EI(D,!0)))),WA(()=>N))),MB);return H(EI(I,K.reason),VA(EI(D,!0)),QQ)}}}))}),MB),Z=(W)=>G.next(W),X=(W,K,V)=>{let M=H(EI(J,!1),VA(EI(D,!1)),VA(H(N,SE(VG(Q)),k5,ML,uQ(V)))),z=(L,O,R)=>H(EI(Y,GP(L)),VA(h(d0(I),(_)=>{switch(_._tag){case $UA:return H(tI([d0(J),M,H(Z(j(O)),uQ(V))]),h(([S,q,y])=>{let p=H(R,HA({onNone:()=>dA($A(O)),onSome:(i)=>bN($A(O),wA(i))}));if(S)return H(zA(p),WA(()=>X(q,y,V)));return X(q,y,V)}),MB);case uiA:return H(d0(J),h((S)=>S?zA(dA($A(O))):UQ),MB)}})),MB);return MB(g5(B2(W),B2(K),{onSelfDone:(L,O)=>H($I(K),VA(H(LA(()=>L),h(([R,_])=>z(R,_,x()))))),onOtherDone:(L,O)=>aC(LA(()=>L),{onFailure:(R)=>sB(YZ(R),{onLeft:()=>H(E,LE(ux(jL)),KG,VA(H(B2(W),h(([_,S])=>z(_,S,x()))))),onRight:(_)=>H(E,LE(Tl(_)),KG,VA(H(B2(W),h(([S,q])=>z(S,q,x())))))}),onSuccess:(R)=>H(E,LE(ux(jL)),KG,VA(H(B2(W),h(([_,S])=>z(_,S,j(R))))))})}))};return hL((W)=>gQ(jA(A),U).pipe(ML,uQ(W),VA(SE(N,VG(Q)).pipe(k5,ML,uQ(W),v((K)=>Z(x()).pipe(uQ(W),h((V)=>new yA(X(K,V,W)))))))))}))}),siA=F(2,(A,Q)=>OI(A,()=>Q)),jUA=(A)=>{if(A==="unbounded")return mH();else if(typeof A==="number"||A===void 0)return wD(A??16);switch(A.strategy){case"dropping":return YL(A.bufferSize??16);case"sliding":return hH(A.bufferSize??16);default:return wD(A.bufferSize??16)}},tiA=(A,Q)=>kQ(jUA(Q),(B)=>DE(B)).pipe(v((B)=>wI().pipe(v((C)=>r(()=>{let E=Yl(C);return A(Rl((Y)=>px(Y).pipe(v((G)=>P0(B,G)),JE,E).then((G)=>{if(mY(G)){if(!k2(G.cause))throw WE(G.cause)}})))})),h((C)=>{let E=BY(B).pipe(v((I)=>eH(I)),tG({onFailure:(I)=>QQ(DE(B)).pipe(bB(HA(I,{onNone:()=>UQ,onSome:(Y)=>Q0(Y)}))),onSuccess:(I)=>zA(I).pipe(WA(()=>E))}),MB);return UW(E).pipe(r5(C??u))}))),cU),eiA=(A,Q)=>H(kQ(jUA(Q),(B)=>DE(B)),v((B)=>H(wI(),v((C)=>H(A(Rl((E)=>H(px(E),v((I)=>P0(B,I)),JE,Yl(C)).then((I)=>{if(mY(I)){if(!k2(I.cause))throw WE(I.cause)}}))),h(()=>{let E=H(BY(B),v(eH),tG({onFailure:(I)=>H(QQ(DE(B)),bB(HA(I,{onNone:()=>UQ,onSome:Q0}))),onSuccess:(I)=>H(zA(I),WA(()=>E))}),MB);return E}))))),RZ,UW),xpQ=(A)=>{if(A?.bufferSize==="unbounded"||A?.bufferSize===void 0&&A?.strategy===void 0)return mH();switch(A?.strategy){case"sliding":return hH(A.bufferSize??16);default:return YL(A?.bufferSize??16)}},xUA=(A,Q)=>kQ(xpQ(Q),DE).pipe(VB((B)=>K2A(rj,(C)=>A(kiA(B,C)))),h((B)=>{let C=WA(BY(B),(E)=>Ff(E)?zY(E)?UQ:VQ(E.cause):bB(zA(tA(E)),C));return C}),RZ,UW),AnA=(A,Q)=>H(kQ(jUA(Q),(B)=>DE(B)),v((B)=>H(wI(),v((C)=>H(A(Rl((E)=>H(px(E),v((I)=>P0(B,I)),JE,Yl(C)).then((I)=>{if(mY(I)){if(!k2(I.cause))throw WE(I.cause)}}))),VA(DC(!1)),v((E)=>H(d0(E),h((I)=>I?lx():H(BY(B),v(eH),hX(()=>H(EI(E,!0),VA(DE(B)))))))))))),O3,GI(s5)),QnA=F(3,(A,Q,B)=>p2(()=>{let C=(I)=>NC({onInput:(Y)=>{if(I.length+Y.length>=Q){let[J,D]=H(Y,dF(Q-I.length));return E(H(I,tQ(J)),D)}return C(H(I,tQ(Y)))},onFailure:Q0,onDone:()=>E(I,hA())}),E=(I,Y)=>gQ(bB(zA(Y),LD()),jA(B(I)));return new yA(H(jA(A),SE(C(hA()))))})),BnA=F(3,(A,Q,B)=>H(A,gUA(Q,B),h((C)=>C.map((E)=>DW(PZ(E,{shutdown:!0})))))),SUA=F(2,(A,Q)=>h(al(A,Q),(B)=>DW(QS(B)))),CnA=F(2,(A,Q)=>h(opA({acquire:SUA(A,Q),idleTimeToLive:Q.idleTimeToLive}),(B)=>cU(rpA(B)))),gUA=F(3,(A,Q,B)=>v(zrA(B),(C)=>H(tI(Array.from({length:Q},()=>zD(C))),VB(()=>R0(rl(A,C)))))),EnA=F(2,(A,Q)=>h(al(A,Q),zD)),InA=F(2,(A,Q)=>{if(Q.capacity==="unbounded")return kpQ(A);else if(Q.strategy==="dropping")return vpQ(A,Q.capacity);else if(Q.strategy==="sliding")return ypQ(A,Q.capacity);let B=kNA(A,Q);return new yA(RZ(h(B,(C)=>{let E=H(QQ(BY(C)),WA(CE({onFailure:(I)=>H(n7(I),HA({onNone:()=>UQ,onSome:VQ})),onSuccess:(I)=>WA(zA(dA(I)),()=>E)})));return E})))}),YnA=F(2,(A,Q)=>{if(Q.strategy==="dropping")return SpQ(A,Q.capacity);else if(Q.strategy==="sliding")return gpQ(A,Q.capacity);let B=sl(A,Q);return new yA(RZ(h(B,(C)=>{let E=H(QQ(BY(C)),WA($3({onEnd:()=>UQ,onFailure:VQ,onSuccess:(I)=>H(zA(I),WA(()=>E))})));return E})))}),SpQ=F(2,(A,Q)=>{let B=kQ(YL(Q),(C)=>DE(C));return new yA(gl(B,jA(A)))}),gpQ=F(2,(A,Q)=>{let B=kQ(hH(Q),(C)=>DE(C));return new yA(gl(B,jA(A)))}),vpQ=F(2,(A,Q)=>{let B=kQ(YL(Q),(C)=>DE(C));return new yA(gl(B,jA(YS(1)(A))))}),ypQ=F(2,(A,Q)=>{let B=kQ(hH(Q),(C)=>DE(C));return new yA(gl(B,jA(H(A,YS(1)))))}),kpQ=(A)=>{let Q=sl(A,{strategy:"unbounded"});return new yA(RZ(h(Q,(B)=>{let C=H(QQ(BY(B)),WA($3({onEnd:()=>UQ,onFailure:VQ,onSuccess:(E)=>WA(zA(E),()=>C)})));return C})))},gl=(A,Q)=>{let B=(E,I)=>{let Y=(G)=>H(d0(I),VB(WQ),VA(WB()),v((J)=>H(P0(E,[G,J]),VA(EI(I,J)),VA(WQ(J)))),JE,QQ);return kB({onInput:(G)=>H(WB(),v((J)=>H(P0(E,[oX(G),J]),v((D)=>H(EI(I,J),dX(()=>D))))),JE,QQ,WA(()=>B(E,I))),onFailure:(G)=>Y(rX(G)),onDone:()=>Y(qZ)})},C=(E)=>{let I=H(QQ(BY(E)),WA(([Y,G])=>bB(QQ(nC(G,void 0)),$3(Y,{onEnd:()=>UQ,onFailure:VQ,onSuccess:(J)=>H(zA(J),WA(()=>I))}))));return I};return RZ(H(A,v((E)=>H(WB(),VB((I)=>nC(I,void 0)),v((I)=>H(DC(I),v((Y)=>H(Q,gQ(B(E,Y)),$L,R0)),IB(C(E))))))))},JW=F(2,(A,Q)=>ax(A,(B)=>sB(YZ(B),{onLeft:Q,onRight:ml}))),ax=F(2,(A,Q)=>new yA(H(jA(A),ZL((B)=>jA(Q(B)))))),GnA=F(2,(A,Q)=>H(A,JW((B)=>H(Q(B),YQ(()=>gL(B)))))),vUA=F(2,(A,Q)=>H(A,ax((B)=>H(Q(B),YQ(()=>ml(B)))))),JnA=F(3,(A,Q,B)=>JW(A,(C)=>{if("_tag"in C&&C._tag===Q)return B(C);return gL(C)})),DnA=F(2,(A,Q)=>JW(A,(B)=>{let C=Object.keys(Q);if("_tag"in B&&C.includes(B._tag))return Q[B._tag](B);return gL(B)})),UnA=(A)=>H(A,yUA((Q,B)=>JA(B)(Q))),yUA=F(2,(A,Q)=>{let B=(C)=>kB({onInput:(E)=>{let[I,Y]=hN(E,[C,hA()],([G,J],D)=>{if(XA(G)&&Q(G.value,D))return[j(D),J];return[j(D),H(J,QE(D))]});return WA(zA(Y),()=>B(I))},onFailure:VQ,onDone:()=>UQ});return new yA(H(jA(A),gQ(B(x()))))}),NnA=F(2,(A,Q)=>{let B=(C)=>kB({onInput:(E)=>H(E,nw([C,hA()],([I,Y],G)=>{if(XA(I))return H(Q(I.value,G),h((J)=>J?[j(G),Y]:[j(G),H(Y,QE(G))]));return c([j(G),H(Y,QE(G))])}),QQ,WA(([I,Y])=>H(zA(Y),WA(()=>B(I))))),onFailure:VQ,onDone:()=>UQ});return new yA(H(jA(A),gQ(B(x()))))}),sx=(A)=>H(A,bL(dA)),ZnA=F(2,(A,Q)=>AS(Q(sx(A)))),CW=(A)=>zI(x5(A),(Q)=>Q._tag==="None"?h2:ZA(Q.value)),XnA=F(4,(A,Q,B,C)=>{function E(I,Y){return QQ(RD(Y)).pipe(bB(kB({onInput:(G)=>WA(QQ(LE(I,hQ(G))),()=>E(I,Y)),onFailure:(G)=>QQ(LE(I,iB(H(G,Q2(j))))),onDone:()=>WA(QQ(LE(I,f0(x()))),()=>E(I,Y))})))}return new yA(TZ((I)=>tI([OD(),OD(),OD(),OD()]).pipe(VB(([Y,G,J])=>jA(A).pipe(LZ(QJ),gQ(E(Y,J)),d2(I),uQ(I))),VB(([,Y,G,J])=>jA(Q).pipe(LZ(QJ),gQ(E(Y,J)),d2(I),uQ(I))),h(([Y,G,J,D])=>{let U=LE(J,void 0).pipe(VA(RD(Y).pipe(v(s)))),N=LE(D,void 0).pipe(VA(RD(G).pipe(v(s))));return jA(Ai(B,(Z)=>v(C(Z,U,N),CW)))}))))}),tx=F(4,(A,Q,B,C)=>{let E=(I,Y)=>bB(QQ(RD(Y)),kB({onInput:(G)=>WA(QQ(H(I,LE(oX(G)))),()=>E(I,Y)),onFailure:(G)=>QQ(LE(I,rX(G))),onDone:()=>QQ(LE(I,qZ))}));return new yA(TZ((I)=>tI([OD(),OD(),OD(),OD()]).pipe(VB(([Y,G,J])=>gQ(jA(A),E(Y,J)).pipe(d2(I),uQ(I))),VB(([Y,G,J,D])=>gQ(jA(Q),E(G,D)).pipe(d2(I),uQ(I))),h(([Y,G,J,D])=>{let U=LE(J,void 0).pipe(VA(RD(Y).pipe(v(eH)))),N=LE(D,void 0).pipe(VA(RD(G).pipe(v(eH))));return jA(US(B,(Z)=>v(C(Z,U,N),CW)))}))))}),aX=F(2,(A,Q)=>new yA(H(jA(A),bB(jA(Q))))),FnA=(A)=>p2(()=>H(A,hN(a5,(Q,B)=>aX(B)(Q)))),HnA=F(2,(A,Q)=>H(A,yl(Q,(B,C)=>[B,C]))),WnA=F(2,(A,Q)=>H(A,yl(Q,(B,C)=>B))),vl=F(2,(A,Q)=>GI(A,()=>Q)),yl=F(3,(A,Q,B)=>H(A,GI((C)=>H(Q,OI((E)=>B(C,E)))))),KnA=F(2,(A,Q)=>hL((B)=>KA(function*(){let C=yield*OD();function E(G){return AZ(Q).pipe(IB(G),uQ(B),h((J)=>Y(viA(J))))}let I=kB({onInput:(G)=>HA(JP(G),{onNone:()=>I,onSome:(J)=>QQ(LE(C,MUA(dA(J)))).pipe(WA(()=>I))}),onFailure:(G)=>QQ(LE(C,Tl(G))),onDone:()=>QQ(LE(C,ux(zUA)))});function Y(G){switch(G._tag){case jiA:return MB(RD(C).pipe(h((J)=>{switch(J._tag){case mx:return MB(E(J.elements));case fx:return VQ(J.cause);case dx:return UQ}})));case xiA:return MB(RD(C).pipe(uQ(B),v((J)=>g5(B2(G.fiber),B2(J),{onSelfDone:(D,U)=>CE(D,{onFailure:(N)=>$I(U).pipe(IB(VQ(N))),onSuccess:(N)=>$I(U).pipe(VA(c(zA(N).pipe(WA(()=>Y(yiA(J)))))))}),onOtherDone:(D,U)=>CE(D,{onFailure:(N)=>$I(U).pipe(IB(VQ(N))),onSuccess:(N)=>{switch(N._tag){case mx:return $I(U).pipe(VA(E(N.elements)));case fx:return $I(U).pipe(IB(VQ(N.cause)));case dx:return B2(U).pipe(h((Z)=>zA(Z).pipe(bB(UQ))))}}})}))));case SiA:return MB(B2(G.fiber).pipe(h((J)=>{switch(J._tag){case mx:return MB(E(J.elements));case fx:return VQ(J.cause);case dx:return UQ}})))}}return JS((G)=>gQ(jA(A),I).pipe(d2(G),uQ(G))).pipe(vl(new yA(Y(giA))))}))),kl=(A)=>cE(MC(A)),VnA=(A)=>cE(jp(A)),MnA=(A)=>cE(xE(A)),kUA=F(2,(A,Q)=>H(WB(),v((B)=>H(A,bUA({maximumLag:Q.maximumLag,decide:(C)=>v(WQ(B),(E)=>E(C))}),v((C)=>H(tI(N0(NP(0,Q.size-1),(E)=>h(C,([I,Y])=>[[I,E],Y]))),h(tA),v((E)=>{let[I,Y]=k0A(E,[new Map,hA()],([G,J],[D,U])=>[G.set(D[0],D[1]),H(J,pB(U))]);return H(nC(B,(G)=>h(Q.decide(G),(J)=>(D)=>H(J(I.get(D))))),IB(Array.from(Y)))}))))))),iiA={ref:0},niA=()=>{let A=iiA.ref;return iiA.ref=A+1,A},bUA=F(2,(A,Q)=>hUA(A,Q.maximumLag,Q.decide,()=>u)),hUA=F(4,(A,Q,B,C)=>H(kQ(DC(new Map),(E,I)=>H(d0(E),v((Y)=>H(Y.values(),LB(DE))))),v((E)=>KA(function*(){let I=(D)=>H(B(D),v((U)=>H(d0(E),v((N)=>H(N.entries(),nw(hA(),(Z,[X,W])=>{if(U(X))return H(P0(W,hQ(D)),aC({onFailure:(K)=>k2(K)?c(H(Z,pB(X))):z0(K),onSuccess:()=>c(Z)}));return c(Z)}),v((Z)=>{if(qB(Z))return H(cG(E,(X)=>{for(let W of Z)X.delete(W);return X}));return u}))))),JE),Y=yield*VZ(1),G=yield*DC(H(wD(Q),v((D)=>{let U=niA();return H(cG(E,(N)=>N.set(U,D)),IB([U,D]))}))),J=(D)=>Y.withPermits(1)(H(EI(G,H(wD(1),VB((U)=>P0(U,D)),v((U)=>{let N=niA();return H(cG(E,(Z)=>Z.set(N,U)),IB(Pq(N,U)))}))),VA(H(d0(E),v((U)=>H(rB(U.values()),LB((N)=>H(P0(N,D),gH((Z)=>k2(Z)?j(u):x()))))))),VA(C(D)),JE));return yield*H(A,$NA(I),aC({onFailure:(D)=>J(iB(H(D,Q2(j)))),onSuccess:()=>J(f0(x()))}),R0),Y.withPermits(1)(AY(d0(G)))})))),SL=(A)=>new yA(OZ(jA(A))),$nA=F(2,(A,Q)=>cE(WB()).pipe(GI((B)=>JS((C)=>jA(Q).pipe(OZ,d2(C),dQ((E)=>XD(B,E)),uQ(C))).pipe(vl(oUA(A,B)))))),mUA=F(2,(A,Q)=>{let B=(C)=>NC({onInput:(E)=>{let I=H(E,y0(C)),Y=Math.max(0,C-E.length);if(SQ(E)||Y>0)return B(Y);return H(zA(I),bB(LD()))},onFailure:Q0,onDone:()=>UQ});return new yA(H(jA(A),SE(B(Q))))}),znA=F(2,(A,Q)=>{if(Q<=0)return lUA();return p2(()=>{let B=new hx(Q),C=NC({onInput:(E)=>{let I=H(E,mF((Y)=>{let G=B.head();return B.put(Y),G}));return H(zA(I),WA(()=>C))},onFailure:Q0,onDone:()=>UQ});return new yA(H(jA(A),SE(C)))})}),wnA=F(2,(A,Q)=>mUA(fUA(A,(B)=>!Q(B)),1)),LnA=F(2,(A,Q)=>{let B=NC({onInput:(C)=>H(hj(C,Q),h(tA),h((E)=>{if(SQ(E))return wE(()=>B);return H(zA(E),bB(LD()))}),MB),onFailure:Q0,onDone:()=>UQ});return new yA(H(jA(A),SE(B)))}),fUA=F(2,(A,Q)=>{let B=NC({onInput:(C)=>{let E=nh(C,Q);if(SQ(E))return wE(()=>B);return bB(zA(E),LD())},onFailure:Q0,onDone:uE});return new yA(SE(jA(A),B))}),OnA=F(2,(A,Q)=>{let B=NC({onInput:(C)=>H(mj(C,Q),h(tA),h((E)=>{if(SQ(E))return wE(()=>B);return bB(zA(E),LD())}),MB),onFailure:Q0,onDone:()=>UQ});return new yA(SE(jA(A),B))}),RnA=(A)=>H(A,OI($A),JW((Q)=>YW(wA(Q)))),a5=new yA(UQ),r5=F(2,(A,Q)=>new yA(H(jA(A),VL(Q)))),TnA=F(2,(A,Q)=>new yA(fH(jA(A),Q))),ex=()=>cE(xC()),qnA=(A)=>H(ex(),OI(A)),PnA=(A)=>H(ex(),_Z(A)),bl=(A)=>H(ex(),GI(A)),dUA=(A)=>SL(cE(A)),gL=(A)=>yL(ZA(j(A))),hl=(A)=>yL(ow(()=>j(A()))),ml=(A)=>cE(z0(A)),_nA=(A)=>cE(_p(A)),jnA=F(2,(A,Q)=>bL(A,FU(Q))),uUA=F(2,(A,Q)=>{let B=(C)=>{let E=C.next();if(E.done)return kB({onInput:(I)=>B(I[Symbol.iterator]()),onFailure:VQ,onDone:dE});else return H(Q(E.value),h((I)=>I?H(zA(dA(E.value)),WA(()=>B(C))):B(C)),MB)};return new yA(wE(()=>H(jA(A),gQ(B(hA()[Symbol.iterator]())))))}),EW=F(2,(A,Q)=>bL(A,mF(Q))),xnA=F(2,(A,Q)=>p2(()=>{let B=(C)=>{let E=C.next();if(E.done)return kB({onInput:(I)=>B(I[Symbol.iterator]()),onFailure:VQ,onDone:dE});else return H(Q(E.value),HA({onNone:()=>r(()=>B(C)),onSome:h((I)=>WA(zA(dA(I)),()=>B(C)))}),MB)};return new yA(H(jA(A),gQ(B(hA()[Symbol.iterator]()))))})),SnA=F(2,(A,Q)=>{let B=NC({onInput:(C)=>{let E=S0A(C,Q);if(E.length===C.length)return H(zA(E),WA(()=>B));return zA(E)},onFailure:Q0,onDone:dE});return new yA(H(jA(A),SE(B)))}),gnA=F(2,(A,Q)=>p2(()=>{let B=(C)=>{let E=C.next();if(E.done)return kB({onInput:(I)=>B(I[Symbol.iterator]()),onFailure:VQ,onDone:dE});else return MB(HA(Q(E.value),{onNone:()=>c(UQ),onSome:h((I)=>WA(zA(dA(I)),()=>B(C)))}))};return new yA(H(jA(A),SE(B(hA()[Symbol.iterator]()))))})),vnA=(A)=>PUA(u,()=>A),ynA=F(2,(A,Q)=>{let B=NC({onInput:(C)=>HA(ZP(C,Q),{onNone:()=>B,onSome:(E)=>zA(dA(E))}),onFailure:Q0,onDone:()=>UQ});return new yA(H(jA(A),gQ(B)))}),knA=F(2,(A,Q)=>{let B=NC({onInput:(C)=>H(qp(C,Q),h(HA({onNone:()=>B,onSome:(E)=>zA(dA(E))})),MB),onFailure:Q0,onDone:()=>UQ});return new yA(H(jA(A),gQ(B)))}),GI=F((A)=>TD(A[0]),(A,Q,B)=>{let C=B?.bufferSize??16;if(B?.switch)return rx(B?.concurrency,()=>oiA(A,1,C,Q),(E)=>oiA(A,E,C,Q));return rx(B?.concurrency,()=>new yA(LZ(jA(A),(E)=>H(E,N0((I)=>jA(Q(I))),hN(UQ,(I,Y)=>H(I,bB(Y)))))),(E)=>new yA(H(jA(A),LZ(QJ),oc((I)=>jA(Q(I)),B))))}),rx=(A,Q,B)=>{switch(A){case void 0:return Q();case"unbounded":return B(Number.MAX_SAFE_INTEGER);default:return A>1?B(A):Q()}},oiA=F(4,(A,Q,B,C)=>new yA(H(jA(A),LZ(QJ),oc((E)=>jA(C(E)),{concurrency:Q,mergeStrategy:UDA(),bufferSize:B})))),vL=F((A)=>TD(A[0]),(A,Q)=>GI(A,s,Q)),AS=(A)=>{let Q=kB({onInput:(B)=>WA(QJ(B),()=>Q),onFailure:VQ,onDone:()=>UQ});return new yA(H(jA(A),gQ(Q)))},bnA=F((A)=>TD(A[0]),(A,Q)=>Q?.unordered?GI(A,(B)=>cE(B),{concurrency:Q.concurrency}):rx(Q?.concurrency,()=>_Z(A,s),(B)=>new yA(H(jA(A),LZ(QJ),nc(s,B),aH(dA))))),w3=(A)=>{let Q=(C,E)=>{let[I,Y]=H(C,rh((J)=>!zY(J))),G=H(_8(Y),HA({onNone:()=>E,onSome:CE({onFailure:(J)=>HA(n7(J),{onNone:()=>UQ,onSome:VQ}),onSuccess:()=>UQ})}));return H(zA(H(I,mF((J)=>zY(J)?j(J.value):x()))),WA(()=>G))},B=kB({onInput:(C)=>Q(C,B),onFailure:(C)=>VQ(C),onDone:()=>UQ});return new yA(H(jA(A),gQ(B)))},hnA=(A)=>H(A,OI(rB),AS),DW=(A)=>AS(w3(H(A,OI((Q)=>Q.exit)))),fl=(A)=>new yA(Wx(jA(A))),mnA=(A,Q)=>H(kQ(r(()=>A[Symbol.asyncIterator]()),(B)=>B.return?kX(async()=>B.return()):u),h((B)=>GW(H(YE({try:async()=>B.next(),catch:(C)=>j(Q(C))}),v((C)=>C.done?ZA(x()):c(C.value))))),cU),UW=(A)=>new yA(A),jA=(A)=>{if("channel"in A)return A.channel;else if(nB(A))return jA(cE(A));else throw new TypeError("Expected a Stream.")},IW=(A)=>new yA(SQ(A)?UQ:zA(A)),fnA=(A,Q)=>{if(Q?.scoped){let C=h(zD(A),jl);return Q.shutdown?h(C,r5(IL(A))):C}let B=GI(O3(zD(A)),jl);return Q?.shutdown?r5(B,IL(A)):B},jl=(A,Q)=>H(BY(A),dQ((B)=>H(Cx(A),v((C)=>C&&k2(B)?lx():Pl(B)))),s5,Q?.shutdown?r5(DE(A)):s),dnA=(...A)=>H(kL(A),GI(IW)),cE=(A)=>H(A,fE(j),yL),yL=(A)=>new yA(MB(tG(A,{onFailure:HA({onNone:()=>UQ,onSome:Q0}),onSuccess:(Q)=>zA(dA(Q))}))),QS=(A,Q)=>{let B=Q?.maxChunkSize??xL;if(Q?.scoped){let E=h(zD(A),(I)=>PZ(I,{maxChunkSize:B,shutdown:!0}));return Q.shutdown?h(E,r5(IL(A))):E}let C=GI(O3(zD(A)),(E)=>PZ(E,{maxChunkSize:B}));return Q?.shutdown?r5(C,IL(A)):C},unA=(A)=>{return cU(h(qiA(A),(Q)=>dl(Q)))},kL=(A)=>p2(()=>DX(A)?IW(A):pUA(A[Symbol.iterator]())),pnA=(A)=>H(A,h(kL),t5),pUA=(A,Q=xL)=>{return H(r(()=>{let B=[],C=(E)=>H(r(()=>{let I=E.next();if(Q===1){if(I.done)return UQ;return H(zA(dA(I.value)),WA(()=>C(E)))}B=[];let Y=0;while(I.done===!1){if(B.push(I.value),Y=Y+1,Y>=Q)break;I=E.next()}if(Y>0)return H(zA(tA(B)),WA(()=>C(E)));return UQ}),MB);return new yA(C(A))}),t5)},BS=(A)=>H(A,h(s5),cU),PZ=(A,Q)=>H(GL(A,1,Q?.maxChunkSize??xL),dQ((B)=>H(Cx(A),v((C)=>C&&k2(B)?lx():Pl(B)))),s5,Q?.shutdown?r5(DE(A)):s),dl=(A)=>H(_iA(A),h(dA),dQ((Q)=>H(PiA(A),v((B)=>B&&k2(Q)?lx():Pl(Q)))),s5),cnA=(A)=>H(cX(A),h((Q)=>GW(Q.next(void 0))),t5),lnA=(...A)=>{let Q=A.length===1?A[0].evaluate:A[0],B=A.length===1?A[0].onError:A[1],C=A.length===1?A[0].releaseLockOnEnd===!0:!1;return cU(h(kQ(r(()=>Q().getReader()),(E)=>C?r(()=>E.releaseLock()):kX(()=>E.cancel())),(E)=>GW(v(YE({try:()=>E.read(),catch:(I)=>j(B(I))}),({done:I,value:Y})=>I?ZA(x()):c(Y)))))},inA=(...A)=>{let Q=A.length===1?A[0].evaluate:A[0],B=A.length===1?A[0].onError:A[1],C=(A.length===1?A[0].bufferSize:A[2])??4096,E=A.length===1?A[0].releaseLockOnEnd===!0:!1;return cU(h(kQ(r(()=>Q().getReader({mode:"byob"})),(I)=>E?r(()=>I.releaseLock()):kX(()=>I.cancel())),(I)=>JW(fl(bpQ(I,B,C)),(Y)=>Y===nnA?a5:gL(Y))))},nnA=Symbol.for("effect/Stream/EOF"),bpQ=(A,Q,B)=>{let C=new ArrayBuffer(B);return QNA(0,(E)=>v(YE({try:()=>A.read(new Uint8Array(C,E,C.byteLength-E)),catch:(I)=>Q(I)}),({done:I,value:Y})=>{if(I)return ZA(nnA);let G=E+Y.byteLength;return c([Y,G>=C.byteLength?x():j(G)])}))},onA=F(2,(A,Q)=>{let B=(E,I)=>{if(SQ(I))return[E,hA()];let Y=[],G=0,J=0,D=void 0,U=hA();switch(E._tag){case"Some":{let X=E.value;D=X[0];let W=!0;while(W&&J<I.length){let K=EC(I,J),V=Q(K);if(!JA(D,V)){let M=X[1],z=tA(Array.from(I).slice(G,J)),L=tQ(M,z);Y.push([D,L]),D=V,G=J,W=!1}J=J+1}if(W)U=X[1];break}case"None":{D=Q(EC(I,J)),J=J+1;break}}while(J<I.length){let X=EC(I,J),W=Q(X);if(!JA(D,W))Y.push([D,tA(Array.from(I).slice(G,J))]),D=W,G=J;J=J+1}let N=tQ(U,tA(Array.from(I).slice(G,J))),Z=tA(Y);return[j([D,N]),Z]},C=(E)=>kB({onInput:(I)=>{let[Y,G]=B(E,I);return SQ(G)?C(Y):WA(zA(G),()=>C(Y))},onFailure:(I)=>HA(E,{onNone:()=>VQ(I),onSome:(Y)=>WA(zA(dA(Y)),()=>VQ(I))}),onDone:(I)=>HA(E,{onNone:()=>uE(I),onSome:(Y)=>WA(zA(dA(Y)),()=>uE(I))})});return new yA(SE(jA(A),C(x())))}),rnA=F(2,(A,Q)=>H(A,YS(Q),sx)),anA=F(3,(A,Q,B)=>Sl(A,RDA(Q),LI(B))),cUA=F(2,(A,Q)=>{let B=(C)=>H(bJA(C),h(HA({onNone:()=>NC({onInput:(E)=>WA(zA(E),()=>B(C)),onFailure:Q0,onDone:()=>UQ}),onSome:CE({onFailure:VQ,onSuccess:()=>UQ})})),MB);return new yA(TZ((C)=>Q.pipe(uQ(C),h((E)=>jA(A).pipe(gQ(B(E)))))))}),snA=F(2,(A,Q)=>H(A,cUA(AZ(Q)))),tnA=F(2,(A,Q)=>{let B=H(MEA(Q),h(HA({onNone:()=>NC({onInput:(C)=>H(zA(C),WA(()=>B)),onFailure:Q0,onDone:()=>UQ}),onSome:(C)=>MB(tG(C,{onFailure:Q0,onSuccess:()=>UQ}))})),MB);return new yA(H(jA(A),gQ(B)))}),lUA=()=>new yA(LD()),enA=F(2,(A,Q)=>H(A,iUA(Q,fl(YW(!0,!1))))),iUA=F(3,(A,Q,B)=>{let C=(E)=>kB({onInput:(I)=>WA(QQ(LE(E,cx(I))),()=>C(E)),onFailure:(I)=>QQ(LE(E,rX(I))),onDone:()=>QQ(LE(E,qZ))});return new yA(TZ((E)=>H(OD(),zE(OD()),VB(([I])=>jA(A).pipe(LZ(QJ),gQ(C(I)),d2(E),uQ(E))),VB(([I,Y])=>jA(Q).pipe(LZ(QJ),gQ(C(Y)),d2(E),uQ(E))),h(([I,Y])=>{let G=(J,D)=>kB({onInput:(U)=>{if(U&&!J)return H(QQ(RD(I)),WA($3({onEnd:()=>D?UQ:G(!0,D),onFailure:VQ,onSuccess:(N)=>H(zA(N),WA(()=>G(J,D)))})));if(!U&&!D)return H(QQ(RD(Y)),WA($3({onEnd:()=>J?UQ:G(J,!0),onFailure:VQ,onSuccess:(N)=>H(zA(N),WA(()=>G(J,D)))})));return G(J,D)},onFailure:VQ,onDone:()=>UQ});return H(jA(B),LZ(QJ),gQ(G(!1,!1)))}))))}),nUA=F(2,(A,Q)=>new yA(H(jA(A),SE(wE(()=>{let B=(C)=>kB({onInput:(E)=>{let I=[],Y=C;for(let G of E)if(Y)Y=!1,I.push(G);else I.push(Q),I.push(G);return H(zA(tA(I)),WA(()=>B(Y)))},onFailure:VQ,onDone:()=>UQ});return B(!0)}))))),AoA=F(2,(A,{end:Q,middle:B,start:C})=>H(YW(C),aX(H(A,nUA(B))),aX(YW(Q)))),QoA=F(2,(A,Q)=>H(A,ul(AZ(Q)))),ul=F(2,(A,Q)=>new yA(H(jA(A),cc(Q)))),oUA=F(2,(A,Q)=>new yA(H(jA(A),WDA(Q)))),BoA=(A,Q)=>bNA(A,(B)=>j([B,Q(B)])),YW=(...A)=>kL(A),OI=F(2,(A,Q)=>new yA(H(jA(A),aH(N0(Q))))),pl=F(3,(A,Q,B)=>{let C=(E)=>NC({onInput:(I)=>{let[Y,G]=oh(I,E,B);return WA(zA(G),()=>C(Y))},onFailure:Q0,onDone:()=>UQ});return new yA(H(jA(A),gQ(C(Q))))}),cl=F(3,(A,Q,B)=>p2(()=>{let C=(E)=>NC({onInput:(I)=>H(LA(()=>{let Y=[],G=(J)=>r(()=>{Y.push(J)});return H(I,nw(E,(J,D)=>H(B(J,D),v(([U,N])=>H(G(N),IB(U))))),tG({onFailure:(J)=>{if(Y.length!==0)return bB(zA(tA(Y)),Q0(J));return Q0(J)},onSuccess:(J)=>WA(zA(tA(Y)),()=>C(J))}))}),MB),onFailure:Q0,onDone:()=>UQ});return new yA(H(jA(A),SE(C(Q))))})),CoA=F(2,(A,Q)=>H(A,ll(Q.onFailure),OI(Q.onSuccess))),bL=F(2,(A,Q)=>new yA(H(jA(A),aH(Q)))),EoA=F(2,(A,Q)=>new yA(H(jA(A),Hx(Q)))),IoA=F(2,(A,Q)=>H(A,CS((B)=>rB(Q(B))))),CS=F(2,(A,Q)=>H(A,bL(YP(Q)))),YoA=F(2,(A,Q)=>H(A,_Z(Q),CS(s))),GoA=F(2,(A,Q)=>H(A,_Z((B)=>H(Q(B),h(rB))),CS(s))),_Z=F(2,(A,Q)=>{let B=(C)=>{let E=C.next();if(E.done)return kB({onInput:(I)=>B(I[Symbol.iterator]()),onFailure:VQ,onDone:dE});else{let I=E.value;return MB(h(Q(I),(Y)=>WA(zA(dA(Y)),()=>B(C))))}};return new yA(H(jA(A),gQ(wE(()=>B(hA()[Symbol.iterator]())))))}),JoA=F(3,(A,Q,B)=>new yA(H(jA(A),LZ(QJ),nc(B,Q),aH(dA)))),ll=F(2,(A,Q)=>new yA(H(jA(A),lc(Q)))),DoA=F(2,(A,Q)=>new yA(H(jA(A),ic(Q)))),ES=F((A)=>TD(A[1]),(A,Q,B)=>nl(A,Q,{onSelf:s,onOther:s,haltStrategy:B?.haltStrategy})),il=F((A)=>(Symbol.iterator in A[0]),(A,Q)=>vL(kL(A),Q)),UoA=F(2,(A,Q)=>{let C=Object.keys(A).map((E)=>A[E].pipe(OI((I)=>({_tag:E,value:I}))));return il(C,Q)}),rUA=F(2,(A,Q)=>nl(A,Q,{onSelf:wA,onOther:$A})),NoA=F(2,(A,Q)=>H(A,ES(SL(Q)))),ZoA=F(2,(A,Q)=>H(SL(A),ES(Q))),nl=F(3,(A,Q,B)=>{let C=B.haltStrategy?mDA(B.haltStrategy):llA,E=(I)=>(Y)=>I||!zY(Y)?upA(LA(()=>Y)):ppA((G)=>LA(()=>G));return new yA(sH(jA(OI(A,B.onSelf)),{other:jA(OI(Q,B.onOther)),onSelfDone:E(C._tag==="Either"||C._tag==="Left"),onOtherDone:E(C._tag==="Either"||C._tag==="Right")}))}),XoA=(A)=>J2(A,gDA),FoA=cE(ZZ),HoA=F(2,(A,Q)=>aX(A,SL(cE(Q)))),WoA=F(2,(A,Q)=>H(A,ax((B)=>cE(H(Q(B),VA(z0(B))))))),KoA=F(2,(A,Q)=>new yA(H(jA(A),fH((B)=>zY(B)?Q():u)))),VoA=F(2,(A,Q)=>t5(IB(Q,A))),MoA=(A)=>H(A,aUA(s)),aUA=F(2,(A,Q)=>new yA(H(jA(A),KDA(Q)))),IS=F(2,(A,Q)=>new yA(H(jA(A),rc(()=>jA(Q()))))),$oA=F(2,(A,Q)=>H(A,OI(wA),IS(()=>H(Q(),OI($A))))),zoA=F(2,(A,Q)=>H(A,IS(()=>hl(Q)))),woA=F(2,(A,Q)=>H(A,sUA(()=>dA(Q())))),sUA=F(2,(A,Q)=>H(A,tUA(()=>new yA(zA(Q()))))),tUA=F(2,(A,Q)=>{let B=NC({onInput:(C)=>{if(SQ(C))return wE(()=>B);return H(zA(C),bB(LD()))},onFailure:Q0,onDone:()=>wE(()=>jA(Q()))});return new yA(H(jA(A),gQ(B)))}),LoA=F(2,(A,Q)=>H(A,IS(()=>PNA(Q)))),OoA=(A,Q)=>eUA(A,(B)=>{let C=Q(B);return[dA(C[0]),C[1]]}),eUA=(A,Q)=>{let B=(C)=>{let E=Q(C);return HA(E[1],{onNone:()=>bB(zA(E[0]),UQ),onSome:(I)=>WA(zA(E[0]),()=>B(I))})};return new yA(wE(()=>B(A)))},ANA=(A,Q)=>{let B=(C)=>MB(h(Q(C),([E,I])=>HA(I,{onNone:()=>bB(zA(E),UQ),onSome:(Y)=>WA(zA(E),()=>B(Y))})));return new yA(wE(()=>B(A)))},QNA=(A,Q)=>ANA(A,(B)=>H(Q(B),h(([C,E])=>[dA(C),E]))),RoA=F(2,(A,Q)=>{return H(WB(),v((I)=>H(OD(),h((Y)=>{let G=Ql(TDA(Q),{onFailure:(D)=>xDA(Il(Aw(I,D)),Vx(D)),onSuccess:([D,U])=>{let N=kB({onInput:(Z)=>WA(QQ(LE(Y,{_tag:"Emit",elements:Z})),()=>N),onFailure:(Z)=>bB(QQ(LE(Y,{_tag:"Halt",cause:Z})),VQ(Z)),onDone:(Z)=>bB(QQ(LE(Y,{_tag:"End"})),UQ)});return zx(H(QQ(nC(I,D)),bB(QQ(H(Y,LE({_tag:"Emit",elements:U})))),bB(N)))}}),J=H(RD(Y),h((D)=>{switch(D._tag){case"Emit":return H(zA(D.elements),WA(()=>J));case"Halt":return VQ(D.cause);case"End":return UQ}}),MB);return H(A,SNA((D)=>XD(I,D)),J2(G),R0,VA(WQ(I)),h((D)=>[D,new yA(J)]))}))),AY)}),ToA=F((A)=>typeof A[1]==="function",(A,Q,B)=>BNA(A,(C)=>c(Q(C)?$A(C):wA(C)),B)),BNA=F((A)=>typeof A[1]==="function",(A,Q,B)=>H(_Z(A,Q),kUA({size:2,maximumLag:B?.bufferSize??16,decide:sB({onLeft:()=>c((C)=>C===0),onRight:()=>c((C)=>C===1)})}),v(([C,E])=>c([EW(w3(PZ(C,{shutdown:!0})),(I)=>sB(I,{onLeft:j,onRight:x})),EW(w3(PZ(E,{shutdown:!0})),(I)=>sB(I,{onLeft:x,onRight:j}))])))),qoA=F(2,(A,Q)=>new yA(H(jA(A),SE(VG(Q))))),CNA=F(2,(A,Q)=>new yA(gQ(jA(A),Q))),PoA=F(2,(A,Q)=>new yA(H(jA(A),SE(Q)))),_oA=F(2,(A,Q)=>new yA(bB(zA(Q),jA(A)))),ol=F(2,(A,Q)=>new yA(H(jA(A),dH(Q)))),ENA=F(2,(A,Q)=>new yA(TZ((B)=>QL(Q,B).pipe(h((C)=>H(jA(A),dH(C))))))),joA=F(3,(A,Q,B)=>INA(A,Q,c(B))),INA=F(3,(A,Q,B)=>YNA(A,Q,cE(B))),YNA=F(3,(A,Q,B)=>bl((C)=>GI(B,(E)=>H(A,ol(DQ(C,Q,E)))))),GNA=F(2,(A,Q)=>bl((B)=>H(A,ol(Q(B))))),xoA=F(2,(A,Q)=>H(A,ENA(H(tj(),fU(Q))))),SoA=(A,Q,B=xL)=>p2(()=>{if(A>Q)return a5;let C=(E,I,Y)=>{let G=I-E+1;if(G>Y)return H(zA(NP(E,E+Y-1)),WA(()=>C(E+Y,I,Y)));return zA(NP(E,E+G-1))};return new yA(C(A,Q,B))}),goA=F(2,(A,Q)=>JNA(A,Q)),JNA=(...A)=>WB().pipe(h((Q)=>{let B=null;return il(A.map((C,E)=>C.pipe(_NA(()=>{if(B===null)return B=E,VC(Q,_C),!0;return B===E}),ul(WQ(Q).pipe(v(()=>B===E?ZZ:u))))),{concurrency:A.length})}),t5),YS=F(2,(A,Q)=>p2(()=>{let B=Math.max(Q,1),C=_l(new voA(B),B);return new yA(H(jA(A),gQ(C)))})),_l=(A,Q)=>kB({onInput:(B)=>{if(B.length===Q&&A.isEmpty())return WA(zA(B),()=>_l(A,Q));if(B.length>0){let C=[],E=void 0,I=0;while(I<B.length){while(I<B.length&&E===void 0)E=A.write(H(B,EC(I))),I=I+1;if(E!==void 0)C.push(E),E=void 0}return WA(wDA(...C),()=>_l(A,Q))}return wE(()=>_l(A,Q))},onFailure:(B)=>bB(A.emitIfNotEmpty(),VQ(B)),onDone:()=>A.emitIfNotEmpty()});class voA{n;builder=[];pos=0;constructor(A){this.n=A}isEmpty(){return this.pos===0}write(A){if(this.builder.push(A),this.pos+=1,this.pos===this.n){let Q=tA(this.builder);return this.builder=[],this.pos=0,Q}return}emitIfNotEmpty(){if(this.pos!==0)return zA(tA(this.builder));return UQ}}var yoA=F(2,(A,Q)=>H(A,DNA(Q,s))),DNA=F(3,(A,Q,B)=>new yA(oH(jA(A),(C)=>HA(Q(C),{onNone:()=>VQ(MI(B(C))),onSome:Q0})))),koA=F(2,(A,Q)=>EW(UNA(A,Q),(B)=>sB(B,{onLeft:x,onRight:j}))),boA=(A)=>GW(H(A,fE(j))),hoA=(A)=>s5(H(A,fE(j))),s5=(A)=>US(A,(Q)=>H(h(Q,(B)=>j([B,Q])),zI(HA({onNone:()=>c(x()),onSome:ZA})))),GW=(A)=>s5(H(A,h(dA))),UNA=F(2,(A,Q)=>ZNA(A,Q,{onElement:(B)=>$A(B),onSchedule:wA})),moA=F(2,(A,Q)=>EW(NNA(A,Q,{onElement:(B)=>j(B),onSchedule:x}),s)),NNA=F(3,(A,Q,B)=>{let C=H(cX(Q),h((E)=>{let I=(J)=>HA(_8(J),{onNone:()=>G,onSome:(D)=>bB(zA(dA(B.onElement(D))),Y(H(J,y0(1)),D))}),Y=(J,D)=>{let U=H(E.next(D),IB(H(zA(dA(B.onElement(D))),WA(()=>Y(J,D))))),N=H(E.last,YB,v((Z)=>H(E.reset,h(()=>H(zA(dA(B.onSchedule(Z))),bB(I(J)))))));return H(U,lj(()=>N),MB)},G=NC({onInput:I,onFailure:Q0,onDone:()=>UQ});return G}),MB);return new yA(H(jA(A),gQ(C)))}),foA=(A)=>new yA(Wx(zA(dA(A)))),ZNA=F(3,(A,Q,B)=>{return H(cX(Q),h((C)=>{let E=H(C.last,YB,h(B.onSchedule)),I=H(A,OI(B.onElement),jA),Y=MB(tG(C.next(void 0),{onFailure:()=>UQ,onSuccess:()=>H(I,bB(H(E,h((G)=>H(zA(dA(G)),WA(()=>Y))),MB)))}));return new yA(H(I,bB(Y)))}),t5)}),hpQ=(A,Q)=>XNA(c(A),Q),XNA=(A,Q)=>GI(cE(zE(A,cX(Q))),([B,C])=>aX(DS(B),Ai(B,(E)=>w0(C.next(E),{onFailure:c,onSuccess:()=>h(A,(I)=>j([I,I]))})))),doA=F(2,(A,Q)=>cX(Q).pipe(h((B)=>{let C=jA(A).pipe(Hx((E)=>IB(B.reset,E)),oH((E)=>B.next(E).pipe(tG({onFailure:()=>Q0(E),onSuccess:()=>C}),MB)));return C}),MB,UW)),J2=F(2,(A,Q)=>jA(A).pipe(SE(VG(Q)),VDA)),uoA=(A)=>J2(A,ODA()),poA=(A)=>J2(A,SDA),coA=(A)=>J2(A,Al),loA=F(3,(A,Q,B)=>FNA(A,Q,ZY,B)),ioA=F(3,(A,Q,B)=>HNA(A,Q,ZY,B)),noA=F(3,(A,Q,B)=>H(A,WNA(Q,ZY,B))),ooA=F(3,(A,Q,B)=>H(A,KNA(Q,ZY,B))),FNA=F(4,(A,Q,B,C)=>J2(A,Mx(Q,B,C))),HNA=F(4,(A,Q,B,C)=>J2(A,Bl(Q,B,C))),WNA=F(4,(A,Q,B,C)=>H(A,L3(Mx(Q,B,C)))),KNA=F(4,(A,Q,B,C)=>H(A,L3(Bl(Q,B,C)))),VNA=F(2,(A,Q)=>J2(A,$x(Q))),MNA=F(2,(A,Q)=>J2(A,Cl(Q))),roA=F(2,(A,Q)=>H(A,L3(Cl(Q)))),$NA=F(2,(A,Q)=>H(A,L3($x(Q)))),aoA=F(2,(A,Q)=>J2(A,El(Q))),soA=F(2,(A,Q)=>H(A,L3(El(Q)))),toA=(A)=>J2(A,qDA()),eoA=F(2,(A,Q)=>H(A,zNA(Q))),rl=F(2,(A,Q)=>H(A,GS(Q))),zNA=F(2,(A,Q)=>H(A,GS(Q),fC)),wNA=F(2,(A,Q)=>{let B=kB({onInput:(C)=>WA(QQ(u2A(Q,N0(C,hQ))),()=>B),onFailure:(C)=>QQ(P0(Q,iB(Q2(C,j)))),onDone:()=>QQ(P0(Q,f0(x())))});return H(gQ(jA(A),B),OZ,$L,JE)}),GS=F(2,(A,Q)=>{let B=kB({onInput:(C)=>WA(zA(oX(C)),()=>B),onFailure:(C)=>zA(rX(C)),onDone:()=>zA(qZ)});return H(gQ(jA(A),B),Hx((C)=>P0(Q,C)),OZ,$L,JE)}),ArA=(A)=>J2(A,PDA()),L3=F(2,(A,Q)=>H(jA(A),SE(VG(Q)),OZ,$L)),QrA=(A)=>J2(A,jDA),BrA=F(3,(A,Q,B)=>H(A,RNA(Q,(C,E)=>c(B(C,E))))),CrA=F(2,(A,Q)=>H(A,LNA((B,C)=>c(Q(B,C))))),LNA=F(2,(A,Q)=>H(A,cl(x(),(B,C)=>{switch(B._tag){case"None":return c([j(C),C]);case"Some":return H(Q(B.value,C),h((E)=>[j(E),E]))}}))),ErA=F(2,(A,Q)=>EW(ONA(A,Q,{onElement:j,onSchedule:x}),s)),ONA=F(3,(A,Q,B)=>{let C=(E,I)=>{let Y=I.next();if(Y.done)return kB({onInput:(G)=>C(E,G[Symbol.iterator]()),onFailure:VQ,onDone:uE});return MB(w0(E.next(Y.value),{onFailure:()=>H(E.last,YB,h((G)=>H(zA(bN(B.onElement(Y.value),B.onSchedule(G))),WA(()=>C(E,I)))),$Z(E.reset)),onSuccess:()=>c(H(zA(dA(B.onElement(Y.value))),WA(()=>C(E,I))))}))};return new yA(H(QQ(cX(Q)),WA((E)=>H(jA(A),gQ(C(E,hA()[Symbol.iterator]()))))))}),RNA=F(3,(A,Q,B)=>new yA(H(zA(dA(Q)),WA(()=>jA(H(A,cl(Q,(C,E)=>H(B(C,E),h((I)=>[I,I]))))))))),O3=(A)=>new yA(VL(ac(H(A,h(dA))),u)),JS=(A)=>new yA(sc((Q)=>A(Q).pipe(h(dA)))),IrA=(A)=>H(A,ll(j),TNA(()=>x())),YrA=F(2,(A,Q)=>H(A,OI(YQ(Q)))),TNA=F(2,(A,Q)=>_Z(A,HA({onNone:()=>ow(Q),onSome:c}))),GrA=F(2,(A,Q)=>qNA(A,Q,1)),qNA=F(3,(A,Q,B)=>{if(Q<=0||B<=0)return kl(new gU("Invalid bounds - `chunkSize` and `stepSize` must be greater than zero"));return new yA(wE(()=>{let C=new hx(Q),E=(Y,G)=>{if(Y<Q){let Z=C.toChunk(),X=SQ(Z)?hA():dA(Z);return H(zA(X),WA(()=>G))}let J=Y-(Y-Q)%B;if(J===Y)return G;let D=Y-(J-Q+B),U=H(C.toChunk(),DP(D)),N=SQ(U)?hA():dA(U);return H(zA(N),WA(()=>G))},I=(Y)=>kB({onInput:(G)=>WA(zA(mF(G,(J,D)=>{C.put(J);let U=Y+D+1;if(U<Q||(U-Q)%B>0)return x();return j(C.toChunk())})),()=>I(Y+G.length)),onFailure:(G)=>E(Y,VQ(G)),onDone:()=>E(Y,UQ)});return H(jA(A),gQ(I(0)))}))}),JrA=F(2,(A,Q)=>{let B=(E,I)=>{let[Y,G]=H(E,tQ(I),rh(Q));if(SQ(Y)||SQ(G))return C(H(Y,tQ(H(G,y0(1)))));return H(zA(dA(Y)),WA(()=>B(hA(),H(G,y0(1)))))},C=(E)=>NC({onInput:(I)=>B(E,I),onFailure:Q0,onDone:()=>{if(SQ(E))return UQ;if(cA(H(E,ZP(Q))))return bB(zA(dA(E)),UQ);return bB(B(hA(),E),UQ)}});return new yA(H(jA(A),gQ(C(hA()))))}),DrA=F(2,(A,Q)=>{let B=(C,E)=>kB({onInput:(I)=>{let Y,[G,J]=H(I,hN([H(C,YQ(()=>hA())),E],([U,N],Z)=>{let X=H(U,QE(Z));if(N<Q.length&&JA(Z,H(Q,EC(N)))){if(N+1===Q.length){if(Y===void 0)Y=[];return Y.push(H(X,GG(X.length-Q.length))),[hA(),0]}return[X,N+1]}return[X,JA(Z,H(Q,EC(0)))?1:0]})),D=Y===void 0?hA():tA(Y);return WA(zA(D),()=>B(qB(G)?j(G):x(),J))},onFailure:(I)=>HA(C,{onNone:()=>VQ(I),onSome:(Y)=>bB(zA(dA(Y)),VQ(I))}),onDone:(I)=>HA(C,{onNone:()=>dE(I),onSome:(Y)=>bB(zA(dA(Y)),dE(I))})});return new yA(H(jA(A),gQ(B(x(),0))))}),UrA=(A)=>CNA(A,MDA()),DS=(A)=>IW(dA(A)),PNA=(A)=>p2(()=>IW(dA(A()))),p2=(A)=>new yA(wE(()=>jA(A()))),NrA=F(2,(A,Q)=>{if(!Number.isInteger(Q))return kl(new gU(`${Q} must be an integer`));let B=(C)=>NC({onInput:(E)=>{let I=H(E,GG(Math.min(C,Number.POSITIVE_INFINITY))),Y=Math.max(0,C-I.length);if(Y>0)return H(zA(I),WA(()=>B(Y)));return zA(I)},onFailure:Q0,onDone:dE});return new yA(H(jA(A),SE(0<Q?B(Q):UQ)))}),ZrA=F(2,(A,Q)=>{if(Q<=0)return a5;return new yA(H(c(new hx(Q)),h((B)=>{let C=NC({onInput:(E)=>{for(let I of E)B.put(I);return C},onFailure:Q0,onDone:()=>H(zA(B.toChunk()),bB(UQ))});return H(jA(A),gQ(C))}),MB))}),XrA=F(2,(A,Q)=>{let B=NC({onInput:(C)=>{let E=H(C,ah((Y)=>!Q(Y))),I=H(C,y0(E.length),GG(1));if(SQ(I))return H(zA(E),WA(()=>B));return zA(H(E,tQ(I)))},onFailure:Q0,onDone:dE});return new yA(H(jA(A),SE(B)))}),FrA=F(2,(A,Q)=>{let B=(C)=>{let E=C.next();if(E.done)return kB({onInput:(I)=>B(I[Symbol.iterator]()),onFailure:VQ,onDone:dE});return H(Q(E.value),h((I)=>I?zA(dA(E.value)):H(zA(dA(E.value)),WA(()=>B(C)))),MB)};return new yA(H(jA(A),gQ(B(hA()[Symbol.iterator]()))))}),_NA=F(2,(A,Q)=>{let B=NC({onInput:(C)=>{let E=H(C,ah(Q));if(E.length===C.length)return H(zA(E),WA(()=>B));return zA(E)},onFailure:Q0,onDone:dE});return new yA(H(jA(A),SE(B)))}),jNA=F(2,(A,Q)=>_Z(A,(B)=>IB(Q(B),B))),HrA=F(2,(A,Q)=>H(A,xNA(Q.onFailure),jNA(Q.onSuccess))),xNA=F(2,(A,Q)=>JW(A,(B)=>cE(VA(Q(B),ZA(B))))),SNA=F(2,(A,Q)=>{let B=kB({onInput:(C)=>WA(zA(C),()=>B),onFailure:(C)=>QQ(VA(Q(C),z0(C))),onDone:uE});return new yA(H(jA(A),gQ(B)))}),WrA=F(2,(A,Q)=>H(cE(tI([wD(1),WB()])),GI(([B,C])=>{let E=DW(PZ(B,{maxChunkSize:1})),I=kB({onInput:(Y)=>H(QQ(P0(B,oX(Y))),Z3({onFailure:()=>WA(zA(Y),()=>LD()),onSuccess:()=>WA(zA(Y),()=>I)})),onFailure:(Y)=>H(QQ(P0(B,rX(Y))),Z3({onFailure:()=>VQ(Y),onSuccess:()=>VQ(Y)})),onDone:()=>H(QQ(P0(B,qZ)),Z3({onFailure:()=>UQ,onSuccess:()=>UQ}))});return H(new yA(H(gQ(jA(A),I),VL(VA(KG(P0(B,qZ)),WQ(C))))),ES(dUA(H(J2(E,Q),$C(VA(DE(B),nC(C,void 0)))))))}))),KrA=F(2,(A,Q)=>gNA(A,{...Q,cost:(B)=>c(Q.cost(B))})),gNA=F(2,(A,Q)=>{if(Q.strategy==="enforce")return mpQ(A,Q.cost,Q.units,Q.duration,Q.burst??0);return fpQ(A,Q.cost,Q.units,Q.duration,Q.burst??0)}),mpQ=(A,Q,B,C,E)=>{let I=(G,J)=>kB({onInput:(D)=>H(Q(D),zE(wJ),h(([U,N])=>{let X=(N-J)/b0(C),W=G+X*B,K=B+E<0?Number.POSITIVE_INFINITY:B+E,V=W<0?K:Math.min(W,K);if(U<=V)return H(zA(D),WA(()=>I(V-U,N)));return I(G,J)}),MB),onFailure:VQ,onDone:()=>UQ}),Y=H(wJ,h((G)=>I(B,G)),MB);return new yA(H(jA(A),SE(Y)))},fpQ=(A,Q,B,C,E)=>{let I=(G,J)=>kB({onInput:(D)=>H(Q(D),zE(wJ),h(([U,N])=>{let X=(N-J)/b0(C),W=G+X*B,K=B+E<0?Number.POSITIVE_INFINITY:B+E,M=(W<0?K:Math.min(W,K))-U,z=M>=0?0:-M/B,L=lC(Math.max(0,z*b0(C)));if(KP(L,GD))return H(QQ(AZ(L)),bB(zA(D)),WA(()=>I(M,N)));return WA(zA(D),()=>I(M,N))}),MB),onFailure:VQ,onDone:()=>UQ}),Y=H(wJ,h((G)=>I(B,G)),MB);return new yA(H(jA(A),SE(Y)))},VrA=(A)=>hpQ(void 0,LI(A)),MrA=F(2,(A,Q)=>H(z3(A),h(sw({onTimeout:()=>x(),duration:Q})),BS)),$rA=F(3,(A,Q,B)=>H(A,yNA(B,hl(Q)))),vNA=F(3,(A,Q,B)=>H(z3(A),h(bp({onTimeout:()=>Q2(Q(),j),duration:B})),BS)),yNA=F(3,(A,Q,B)=>{let C=new jw("Stream Timeout");return H(A,vNA(()=>MI(C),Q),vUA((E)=>Gj(E)&&zGA(E.defect)&&E.defect.message!==void 0&&E.defect.message==="Stream Timeout"?j(B):x()))}),zrA=(A)=>{if(typeof A==="number")return Bx(A);else if(A.capacity==="unbounded")return kH({replay:A.replay});switch(A.strategy){case"dropping":return vuA(A);case"sliding":return yuA(A);default:return Bx(A)}},al=F(2,(A,Q)=>H(kQ(zrA(Q),(B)=>IL(B)),VB((B)=>H(A,rl(B),R0)))),z3=(A)=>h(zDA(jA(A)),(Q)=>H(Q,fE(j),v(sB({onLeft:()=>ZA(x()),onRight:c})))),sl=F((A)=>TD(A[0]),(A,Q)=>VB(kQ(Q?.strategy==="unbounded"?mH():Q?.strategy==="dropping"?YL(Q.capacity??2):Q?.strategy==="sliding"?hH(Q.capacity??2):wD(Q?.capacity??2),(B)=>DE(B)),(B)=>R0(GS(A,B)))),kNA=F((A)=>TD(A[0]),(A,Q)=>VB(kQ(wD(Q?.capacity??2),(B)=>DE(B)),(B)=>R0(wNA(A,B)))),wrA=F((A)=>TD(A[0]),(A,Q)=>tl(A,dU,Q)),LrA=F((A)=>TD(A[0]),(A,Q)=>h(wI(),(B)=>tl(A,B,Q))),tl=F((A)=>TD(A[0]),(A,Q,B)=>{let C=pE(Q),E=void 0,I=void 0,Y=cY(!1);return new ReadableStream({start(G){I=C(MNA(A,(J)=>Y.whenOpen(r(()=>{Y.unsafeClose();for(let D of J)G.enqueue(D);E(),E=void 0})))),I.addObserver((J)=>{if(J._tag==="Failure")G.error(WE(J.cause));else G.close()})},pull(){return new Promise((G)=>{E=G,eB(Y.open)})},cancel(){if(!I)return;return $D(JE($I(I)))}},B?.strategy)}),OrA=F(2,(A,Q)=>{let B=wE(()=>{let C={ref:hA()},E={ref:!1},I=wE(()=>{let D=C.ref;if(SQ(D))return NC({onInput:(U)=>H(zA(U),WA(()=>I)),onFailure:Q0,onDone:uE});return C.ref=hA(),H(QJ(D),WA(()=>I))}),Y=(D)=>{let U=C.ref,N=tQ(U,FU(D,(Z)=>Z.length!==0));return C.ref=N,N},G=NC({onInput:(D)=>WA(zA(D),()=>G),onFailure:Q0,onDone:(D)=>bB(E9(()=>{E.ref=!0}),uE(D))}),J=H(Q,VG,k5,WA(([D,U])=>H(dE([E.ref,Y(D)]),WA(([N,Z])=>{let X=N&&SQ(Z)?UQ:J;return H(zA(dA(U)),WA(()=>X))}))));return H(jA(A),gQ(G),gQ(I),SE(J))});return new yA(B)}),el=F((A)=>TD(A[0]),(A,Q)=>{let B=pE(Q);return{[Symbol.asyncIterator](){let C=void 0,E=void 0,I=void 0,Y=cY(!1);return{next(){if(!I)I=B(VNA(A,(G)=>Y.whenOpen(r(()=>{Y.unsafeClose(),C({done:!1,value:G}),C=E=void 0})))),I.addObserver((G)=>{I=lY(Y.whenOpen(r(()=>{if(G._tag==="Failure")E(WE(G.cause));else C({done:!0,value:void 0});C=E=void 0})))});return new Promise((G,J)=>{C=G,E=J,Y.unsafeOpen()})},return(){if(!I)return Promise.resolve({done:!0,value:void 0});return $D(IB($I(I),{done:!0,value:void 0}))}}}}}),RrA=(A)=>el(A,dU),TrA=(A)=>h(wI(),(Q)=>el(A,Q)),bNA=(A,Q)=>hNA(A,(B)=>H(Q(B),RQ(([C,E])=>[dA(C),E]))),hNA=(A,Q)=>{let B=(C)=>HA(Q(C),{onNone:()=>UQ,onSome:([E,I])=>WA(zA(E),()=>B(I))});return new yA(wE(()=>B(A)))},US=(A,Q)=>p2(()=>{let B=(C)=>MB(h(Q(C),HA({onNone:()=>UQ,onSome:([E,I])=>WA(zA(E),()=>B(I))})));return new yA(B(A))}),Ai=(A,Q)=>US(A,(B)=>H(Q(B),h(RQ(([C,E])=>[dA(C),E])))),qrA=DS(void 0);var t5=(A)=>vL(cE(A)),cU=(A)=>vL(O3(A)),hL=(A)=>vL(JS((Q)=>A(Q))),PrA=F(3,(A,Q,B)=>H(A,GNA((C)=>H(C,DQ(Q,B(H(C,v0(Q)))))))),_rA=F(2,(A,Q)=>H(A,fNA(r(Q)))),jrA=(A,Q)=>mNA(Q)(r(A)),mNA=F(2,(A,Q)=>H(cE(A),GI((B)=>H(Q(B),YQ(()=>a5))))),fNA=F(2,(A,Q)=>H(cE(Q),GI((B)=>B?A:a5))),xrA=function(){let A=typeof arguments[0]!=="string",Q=A?arguments[1]:arguments[0],B=zJ(A?arguments[2]:arguments[1]);if(A){let C=arguments[0];return new yA(tc(jA(C),Q,B))}return(C)=>new yA(tc(jA(C),Q,B))},SrA=F(2,(A,Q)=>H(A,Bi(Q,(B,C)=>[B,C]))),grA=F(2,(A,Q)=>H(A,Bi(Q,(B,C)=>[...B,C]))),vrA=F(2,(A,Q)=>ZS(A,{other:Q.other,onSelf:(B)=>[B,Q.defaultOther],onOther:(B)=>[Q.defaultSelf,B],onBoth:(B,C)=>[B,C]})),yrA=F(3,(A,Q,B)=>ZS(A,{other:Q,onSelf:s,onOther:()=>B,onBoth:(C)=>C})),krA=F(3,(A,Q,B)=>ZS(A,{other:Q,onSelf:()=>B,onOther:s,onBoth:(C,E)=>E})),brA=F(2,(A,Q)=>NS(A,{other:Q.other,onSelf:(B)=>[B,Q.defaultOther],onOther:(B)=>[Q.defaultSelf,B],onBoth:(B,C)=>[B,C],order:Q.order})),hrA=F(2,(A,Q)=>NS(A,{other:Q.other,onSelf:s,onOther:()=>Q.defaultSelf,onBoth:(B)=>B,order:Q.order})),mrA=F(2,(A,Q)=>NS(A,{other:Q.other,onSelf:()=>Q.defaultOther,onOther:s,onBoth:(B,C)=>C,order:Q.order})),NS=F(2,(A,Q)=>{let B=(E,I,Y)=>{switch(E._tag){case wUA:return H(I,tG({onFailure:f0,onSuccess:(G)=>hQ([N0(G,([J,D])=>[J,Q.onSelf(D)]),AW])}));case LUA:return H(Y,tG({onFailure:f0,onSuccess:(G)=>hQ([N0(G,([J,D])=>[J,Q.onOther(D)]),QW])}));case OUA:return H(CW(I),zE(CW(Y),{concurrent:!0}),w0({onFailure:(G)=>c(f0(j(G))),onSuccess:([G,J])=>{if(XA(G)&&XA(J)){if(SQ(G.value)&&SQ(J.value))return B(BW,I,Y);if(SQ(G.value))return B(n5(J.value),I,Y);if(SQ(J.value))return B(o5(G.value),I,Y);return c(hQ(C(G.value,J.value)))}if(XA(G)&&cA(J)){if(SQ(G.value))return B(AW,I,Y);return c(hQ([H(G.value,N0(([D,U])=>[D,Q.onSelf(U)])),AW]))}if(cA(G)&&XA(J)){if(SQ(J.value))return B(QW,I,Y);return c(hQ([H(J.value,N0(([D,U])=>[D,Q.onOther(U)])),QW]))}return c(f0(x()))}}));case RUA:return w0(I,{onFailure:HA({onNone:()=>c(hQ([H(E.rightChunk,N0(([G,J])=>[G,Q.onOther(J)])),QW])),onSome:(G)=>c(f0(j(G)))}),onSuccess:(G)=>SQ(G)?B(n5(E.rightChunk),I,Y):c(hQ(C(G,E.rightChunk)))});case TUA:return w0(Y,{onFailure:HA({onNone:()=>c(hQ([N0(E.leftChunk,([G,J])=>[G,Q.onSelf(J)]),AW])),onSome:(G)=>c(f0(j(G)))}),onSuccess:(G)=>SQ(G)?B(o5(E.leftChunk),I,Y):c(hQ(C(E.leftChunk,G)))})}},C=(E,I)=>{let Y=(z,L)=>L<z.length-1,G=[],J=void 0,D=0,U=0,N=H(E,EC(D)),Z=H(I,EC(U)),X=N[0],W=N[1],K=Z[0],V=Z[1],M=!0;while(M){let z=Q.order(X,K);if(z===0)if(G.push([X,Q.onBoth(W,V)]),Y(E,D)&&Y(I,U))D=D+1,U=U+1,N=H(E,EC(D)),Z=H(I,EC(U)),X=N[0],W=N[1],K=Z[0],V=Z[1];else if(Y(E,D))J=o5(H(E,y0(D+1))),M=!1;else if(Y(I,U))J=n5(H(I,y0(U+1))),M=!1;else J=BW,M=!1;else if(z<0)if(G.push([X,Q.onSelf(W)]),Y(E,D))D=D+1,N=H(E,EC(D)),X=N[0],W=N[1];else{let L=[];L.push(Z);while(Y(I,U))U=U+1,Z=H(I,EC(U)),L.push(Z);J=n5(tA(L)),M=!1}else if(G.push([K,Q.onOther(V)]),Y(I,U))U=U+1,Z=H(I,EC(U)),K=Z[0],V=Z[1];else{let L=[];L.push(N);while(Y(E,D))D=D+1,N=H(E,EC(D)),L.push(N);J=o5(tA(L)),M=!1}}return[tA(G),J]};return tx(A,Q.other,BW,B)}),ZS=F(2,(A,Q)=>{let B=(E,I,Y)=>{switch(E._tag){case wUA:return w0(I,{onFailure:(G)=>c(f0(G)),onSuccess:(G)=>c(hQ([N0(G,Q.onSelf),AW]))});case LUA:return w0(Y,{onFailure:(G)=>c(f0(G)),onSuccess:(G)=>c(hQ([N0(G,Q.onOther),QW]))});case OUA:return H(CW(I),zE(CW(Y),{concurrent:!0}),w0({onFailure:(G)=>c(f0(j(G))),onSuccess:([G,J])=>{if(XA(G)&&XA(J)){if(SQ(G.value)&&SQ(J.value))return B(BW,I,Y);if(SQ(G.value))return B(n5(J.value),I,Y);if(SQ(J.value))return B(o5(G.value),I,Y);return c(hQ(C(G.value,J.value,Q.onBoth)))}if(XA(G)&&cA(J))return c(hQ([N0(G.value,Q.onSelf),AW]));if(cA(G)&&XA(J))return c(hQ([N0(J.value,Q.onOther),QW]));return c(f0(x()))}}));case RUA:return w0(I,{onFailure:HA({onNone:()=>c(hQ([N0(E.rightChunk,Q.onOther),QW])),onSome:(G)=>c(f0(j(G)))}),onSuccess:(G)=>{if(SQ(G))return B(n5(E.rightChunk),I,Y);if(SQ(E.rightChunk))return B(o5(G),I,Y);return c(hQ(C(G,E.rightChunk,Q.onBoth)))}});case TUA:return w0(Y,{onFailure:HA({onNone:()=>c(hQ([N0(E.leftChunk,Q.onSelf),AW])),onSome:(G)=>c(f0(j(G)))}),onSuccess:(G)=>{if(SQ(G))return B(o5(E.leftChunk),I,Y);if(SQ(E.leftChunk))return B(n5(G),I,Y);return c(hQ(C(E.leftChunk,G,Q.onBoth)))}})}},C=(E,I,Y)=>{let[G,J]=crA(E,I,Y);switch(J._tag){case"Left":{if(SQ(J.left))return[G,BW];return[G,o5(J.left)]}case"Right":{if(SQ(J.right))return[G,BW];return[G,n5(J.right)]}}};return tx(A,Q.other,BW,B)}),frA=F(2,(A,Q)=>H(A,Qi(Q,(B,C)=>[B,C]))),dNA=(...A)=>{if(A.length===0)return a5;else if(A.length===1)return OI(A[0],(C)=>[C]);let[Q,...B]=A;return Qi(Q,dNA(...B),(C,E)=>[C,...E])},Qi=F(3,(A,Q,B)=>{let C=(E)=>H(E,v((I)=>SQ(I)?C(E):c(I)));return H(z3(A),h(C),zE(H(z3(Q),h(C))),v(([E,I])=>H(yL(g5(E,I,{onSelfDone:(Y,G)=>H(LA(()=>Y),Y2(B2(G),(J,D)=>[J,D,!0])),onOtherDone:(Y,G)=>H(LA(()=>Y),Y2(B2(G),(J,D)=>[D,J,!1]))})),GI(([Y,G,J])=>H(cE(DC([h1(Y),h1(G)])),GI((D)=>H(IW(J?H(G,N0((U)=>B(h1(Y),U))):H(Y,N0((U)=>B(U,h1(G))))),aX(H(GW(E),rUA(GW(I)),_Z(sB({onLeft:(U)=>H(tJ(D,([N,Z])=>[H(U,N0((X)=>B(X,Z))),[h1(U),Z]])),onRight:(U)=>H(tJ(D,([N,Z])=>[H(U,N0((X)=>B(N,X))),[N,h1(U)]]))})),GI(IW))))))),z3)),BS)}),drA=F(2,(A,Q)=>H(A,XS(Q,(B,C)=>{if(B.length>C.length)return[H(B,GG(C.length)),wA(H(B,GG(C.length)))];return[B,$A(H(C,y0(B.length)))]}))),urA=F(2,(A,Q)=>H(A,XS(Q,(B,C)=>{if(B.length>C.length)return[C,wA(H(B,GG(C.length)))];return[H(C,GG(B.length)),$A(H(C,y0(B.length)))]}))),Bi=F(3,(A,Q,B)=>H(A,XS(Q,(C,E)=>crA(C,E,B)))),XS=F(3,(A,Q,B)=>{let C=(I,Y,G)=>{switch(I._tag){case piA:return H(CW(Y),zE(CW(G),{concurrent:!0}),w0({onFailure:(J)=>c(f0(j(J))),onSuccess:([J,D])=>{if(XA(J)&&XA(D)){if(SQ(J.value)&&SQ(D.value))return C(ix,Y,G);if(SQ(J.value))return C(nx(D.value),Y,G);if(SQ(D.value))return C(ox(J.value),Y,G);return c(hQ(E(J.value,D.value)))}return c(f0(x()))}}));case ciA:return w0(Y,{onFailure:(J)=>c(f0(J)),onSuccess:(J)=>{if(SQ(J))return C(nx(I.rightChunk),Y,G);if(SQ(I.rightChunk))return C(ox(J),Y,G);return c(hQ(E(J,I.rightChunk)))}});case liA:return w0(G,{onFailure:(J)=>c(f0(J)),onSuccess:(J)=>{if(SQ(J))return C(ox(I.leftChunk),Y,G);if(SQ(I.leftChunk))return C(nx(J),Y,G);return c(hQ(E(I.leftChunk,J)))}})}},E=(I,Y)=>{let[G,J]=B(I,Y);switch(J._tag){case"Left":{if(SQ(J.left))return[G,ix];return[G,ox(J.left)]}case"Right":{if(SQ(J.right))return[G,ix];return[G,nx(J.right)]}}};return H(A,tx(Q,ix,C))}),uNA=(A)=>H(A,pl(0,(Q,B)=>[Q+1,[B,Q]])),pNA=(A)=>{let Q=(B)=>kB({onInput:(C)=>{let[E,I]=oh(C,B,(G,J)=>[j(J),H(G,RQ((D)=>[D,J]))]),Y=mF(I,(G)=>XA(G)?j([G.value[0],j(G.value[1])]):x());return WA(zA(Y),()=>Q(E))},onFailure:VQ,onDone:()=>HA(B,{onNone:()=>UQ,onSome:(C)=>bB(zA(dA([C,x()])),UQ)})});return new yA(H(jA(A),SE(Q(x()))))},cNA=(A)=>H(A,pl(x(),(Q,B)=>[j(B),[Q,B]])),prA=(A)=>H(pNA(cNA(A)),OI(([[Q,B],C])=>[Q,B,H(C,RQ((E)=>E[1]))])),crA=(A,Q,B)=>{if(A.length>Q.length)return[H(A,GG(Q.length),UP(Q,B)),wA(H(A,y0(Q.length)))];return[H(A,UP(H(Q,GG(A.length)),B)),$A(H(Q,y0(A.length)))]},lrA=DS({}),irA=F((A)=>typeof A[0]!=="string",(A,Q,B,C)=>GI(A,(E)=>OI(B(E),(I)=>({...E,[Q]:I})),C)),nrA=H1(OI),orA=F1(OI);var rrA=F((A)=>TD(A[0]),(A,Q="utf-8")=>p2(()=>{let B=new TextDecoder(Q);return OI(A,(C)=>B.decode(C))})),arA=(A)=>p2(()=>{let Q=new TextEncoder;return OI(A,(B)=>Q.encode(B))}),srA=(A,Q,B)=>xUA((C)=>kQ(r(()=>A.addEventListener(Q,C.single,B)),()=>r(()=>A.removeEventListener(Q,C.single,B))),{bufferSize:typeof B==="object"?B.bufferSize:void 0});var R3=dc;var NW=XL;var FS=VQ;var lU=WA;var HS=wE,lNA=E9;var e5=UQ;var Ci=RZ;var G9=zA;var sX=bB;var trA=KH;var WS=JPA;var erA="effect/Redacted",ZW=xA("effect/Redacted/redactedRegistry",()=>new WeakMap),Ei=Symbol.for(erA),iNA={[Ei]:{_A:(A)=>A},pipe(){return e(this,arguments)},toString(){return"<redacted>"},toJSON(){return"<redacted>"},[sA](){return"<redacted>"},[TA](){return H(QA(erA),FA(QA(ZW.get(this))),rA(this))},[PA](A){return nNA(A)&&JA(ZW.get(this),ZW.get(A))}},nNA=(A)=>o(A,Ei),oNA=(A)=>{let Q=Object.create(iNA);return ZW.set(Q,A),Q},AaA=(A)=>{if(ZW.has(A))return ZW.get(A);else throw new Error("Unable to get redacted value")},QaA=(A)=>ZW.delete(A);var upQ="effect/Secret",aNA=Symbol.for(upQ);var ciB={...iNA,[aNA]:aNA};var cpQ="effect/Config",sNA=Symbol.for(cpQ),lpQ={_A:(A)=>A},XW={...gG,[sNA]:lpQ,commit(){return SPA(this)}},EaA=(A)=>{let Q=KS("a boolean property",(B)=>{switch(B){case"true":case"yes":case"on":case"1":return $A(!0);case"false":case"no":case"off":case"0":return $A(!1);default:{let C=KH([],`Expected a boolean value but received ${B}`);return wA(C)}}});return A===void 0?Q:uL(Q,A)};var IaA=(A)=>{let Q=KS("a number property",(B)=>{let C=Number(B);if(Number.isNaN(C))return wA(KH([],`Expected a number value but received ${B}`));return $A(C)});return A===void 0?Q:uL(Q,A)},YaA=(A)=>{let Q=KS("an integer property",(B)=>{let C=Number(B);if(!Number.isInteger(C))return wA(KH([],`Expected an integer value but received ${B}`));return $A(C)});return A===void 0?Q:uL(Q,A)};var GaA=(A)=>{let Q=Ii(eNA(),(B)=>{let C=d0A(B);return h$(C,()=>KH([],`Expected a duration but received ${B}`))});return A===void 0?Q:uL(Q,A)},dL=F(2,(A,Q)=>Ii(A,(B)=>$A(Q(B))));var Ii=F(2,(A,Q)=>{let B=Object.create(XW);return B._tag=vf,B.original=A,B.mapOrFail=Q,B}),uL=F(2,(A,Q)=>{let B=Object.create(XW);return B._tag=yf,B.name=Q,B.config=A,B});var tNA=F(2,(A,Q)=>{let B=Object.create(XW);return B._tag=xf,B.first=A,B.second=NaA(Q.orElse),B.condition=Q.if,B}),JaA=(A)=>{return H(A,dL(j),tNA({orElse:()=>Yi(x()),if:WS}))},KS=(A,Q)=>{let B=Object.create(XW);return B._tag=kf,B.description=A,B.parse=Q,B};var eNA=(A)=>{let Q=KS("a text property",$A);return A===void 0?Q:uL(Q,A)};var DaA=(A)=>{if(Array.isArray(A))return CaA(A);else if(Symbol.iterator in A)return CaA([...A]);return UaA(A)},UaA=(A)=>{let Q=Object.entries(A),B=H(Q[0][1],dL((E)=>({[Q[0][0]]:E})));if(Q.length===1)return B;let C=Q.slice(1);for(let[E,I]of C)B=H(B,QZA(I,(Y,G)=>({...Y,[E]:G})));return B},Yi=(A)=>{let Q=Object.create(XW);return Q._tag=jf,Q.value=A,Q.parse=()=>$A(A),Q},NaA=(A)=>{let Q=Object.create(XW);return Q._tag=gf,Q.config=A,Q};var ZaA=(A)=>o(A,sNA),CaA=(A)=>{if(A.length===0)return Yi([]);if(A.length===1)return dL(A[0],(B)=>[B]);let Q=dL(A[0],(B)=>[B]);for(let B=1;B<A.length;B++){let C=A[B];Q=H(Q,QZA(C,(E,I)=>[...E,I]))}return Q},AZA=(A)=>{if(ZaA(A))return A;return UaA(Object.fromEntries(Object.entries(A).map(([Q,B])=>[Q,AZA(B)])))};var XaA=F(2,(A,Q)=>tNA(A,{orElse:()=>Yi(Q),if:WS})),FaA=F(2,(A,Q)=>{let B=Object.create(XW);return B._tag=Sf,B.config=A,B.description=Q,B});var QZA=F(3,(A,Q,B)=>{let C=Object.create(XW);return C._tag=bf,C.left=A,C.right=Q,C.zip=B,C});var pL=DaA;var HaA=EaA;var WaA=IaA,FW=YaA;var c2=GaA;var Gi=dL;var KaA=Ii;var BZA=JaA;var cL=eNA;var VaA=AZA;var lE=XaA,JI=FaA;var Ji=mf;var Di=VPA;var iL=JhA;var CZA=Sw;var $aA=ByA,zaA=hu,waA=CyA,LaA=kGA,EZA=EyA;var OaA=Zj,Ui=bGA,RaA=e7;var TaA=YyA;var IZA=hGA,YZA=Fj;var qaA=Hj,PaA=JyA;var _aA=R5;var jaA=dGA;var xaA=HyA;var SaA=lGA;var GZA=Symbol.for("effect/Encoding/errors/Decode"),jZ=(A,Q)=>{let B={_tag:"DecodeException",[GZA]:GZA,input:A};if(cC(Q))B.message=Q;return B};var JZA=Symbol.for("effect/Encoding/errors/Encode"),gaA=(A,Q)=>{let B={_tag:"EncodeException",[JZA]:JZA,input:A};if(cC(Q))B.message=Q;return B};var Xi=new TextEncoder,Fi=new TextDecoder;var MS=(A)=>{let Q=A.length,B="",C;for(C=2;C<Q;C+=3)B+=A6[A[C-2]>>2],B+=A6[(A[C-2]&3)<<4|A[C-1]>>4],B+=A6[(A[C-1]&15)<<2|A[C]>>6],B+=A6[A[C]&63];if(C===Q+1)B+=A6[A[C-2]>>2],B+=A6[(A[C-2]&3)<<4],B+="==";if(C===Q)B+=A6[A[C-2]>>2],B+=A6[(A[C-2]&3)<<4|A[C-1]>>4],B+=A6[(A[C-1]&15)<<2],B+="=";return B},Wi=(A)=>{let Q=DZA(A),B=Q.length;if(B%4!==0)return wA(jZ(Q,`Length must be a multiple of 4, but is ${B}`));let C=Q.indexOf("=");if(C!==-1&&(C<B-2||C===B-2&&Q[B-1]!=="="))return wA(jZ(Q,"Found a '=' character, but it is not at the end"));try{let E=Q.endsWith("==")?2:Q.endsWith("=")?1:0,I=new Uint8Array(3*(B/4)-E);for(let Y=0,G=0;Y<B;Y+=4,G+=3){let J=Hi(Q.charCodeAt(Y))<<18|Hi(Q.charCodeAt(Y+1))<<12|Hi(Q.charCodeAt(Y+2))<<6|Hi(Q.charCodeAt(Y+3));I[G]=J>>16,I[G+1]=J>>8&255,I[G+2]=J&255}return $A(I)}catch(E){return wA(jZ(Q,E instanceof Error?E.message:"Invalid input"))}},DZA=(A)=>A.replace(/[\n\r]/g,"");function Hi(A){if(A>=vaA.length)throw new TypeError(`Invalid character ${String.fromCharCode(A)}`);let Q=vaA[A];if(Q===255)throw new TypeError(`Invalid character ${String.fromCharCode(A)}`);return Q}var A6=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],vaA=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];var UZA=(A)=>MS(A).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),kaA=(A)=>{let Q=DZA(A),B=Q.length;if(B%4===1)return wA(jZ(Q,`Length should be a multiple of 4, but is ${B}`));if(!/^[-_A-Z0-9]*?={0,2}$/i.test(Q))return wA(jZ(Q,"Invalid input"));let C=B%4===2?`${Q}==`:B%4===3?`${Q}=`:Q;return C=C.replace(/-/g,"+").replace(/_/g,"/"),Wi(C)};var NZA=(A)=>{let Q="";for(let B=0;B<A.length;++B)Q+=rpQ[A[B]];return Q},haA=(A)=>{let Q=new TextEncoder().encode(A);if(Q.length%2!==0)return wA(jZ(A,`Length must be a multiple of 2, but is ${Q.length}`));try{let B=Q.length/2,C=new Uint8Array(B);for(let E=0;E<B;E++){let I=baA(Q[E*2]),Y=baA(Q[E*2+1]);C[E]=I<<4|Y}return $A(C)}catch(B){return wA(jZ(A,B instanceof Error?B.message:"Invalid input"))}},rpQ=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],baA=(A)=>{if(48<=A&&A<=57)return A-48;if(97<=A&&A<=102)return A-97+10;if(65<=A&&A<=70)return A-65+10;throw new TypeError("Invalid input")};var nL=(A)=>typeof A==="string"?MS(Xi.encode(A)):MS(A),$S=(A)=>Wi(A),ZZA=(A)=>e9($S(A),(Q)=>Fi.decode(Q)),XZA=(A)=>typeof A==="string"?UZA(Xi.encode(A)):UZA(A),FZA=(A)=>kaA(A),maA=(A)=>e9(FZA(A),(Q)=>Fi.decode(Q)),HZA=(A)=>typeof A==="string"?NZA(Xi.encode(A)):NZA(A),WZA=(A)=>haA(A),faA=(A)=>e9(WZA(A),(Q)=>Fi.decode(Q)),daA=(A)=>qV({try:()=>encodeURIComponent(A),catch:(Q)=>tpQ(A,Q instanceof Error?Q.message:"Invalid input")}),uaA=(A)=>qV({try:()=>decodeURIComponent(A),catch:(Q)=>spQ(A,Q instanceof Error?Q.message:"Invalid input")});var spQ=jZ;var tpQ=gaA;var KZA=Symbol.for("effect/FiberHandle"),epQ=(A)=>o(A,KZA),AcQ={[KZA]:KZA,toString(){return PQ(this.toJSON())},toJSON(){return{_id:"FiberHandle",state:this.state}},[sA](){return this.toJSON()},pipe(){return e(this,arguments)}},QcQ=(A)=>{let Q=Object.create(AcQ);return Q.state={_tag:"Open",fiber:void 0},Q.deferred=A,Q},caA=()=>kQ(h(WB(),(A)=>QcQ(A)),(A)=>KB((Q)=>{let B=A.state;if(B._tag==="Closed")return u;return A.state={_tag:"Closed"},B.fiber?I2(JE(NZ(B.fiber,JG(Q.id(),zS))),A.deferred):RX(A.deferred,_C)}));var laA=-1,zS=qz(laA,0),BcQ=o7(void 0,{emptyCase:x0,failCase:x0,dieCase:x0,interruptCase:(A,Q)=>KU(ZX(Q),laA),sequentialCase:(A,Q,B)=>Q||B,parallelCase:(A,Q,B)=>Q||B}),CcQ=F((A)=>epQ(A[0]),(A,Q,B)=>{if(A.state._tag==="Closed"){Q.unsafeInterruptAsFork(JG(B?.interruptAs??TC,zS));return}else if(A.state.fiber!==void 0){if(B?.onlyIfMissing===!0){Q.unsafeInterruptAsFork(JG(B?.interruptAs??TC,zS));return}else if(A.state.fiber===Q)return;A.state.fiber.unsafeInterruptAsFork(JG(B?.interruptAs??TC,zS)),A.state.fiber=void 0}A.state.fiber=Q,Q.addObserver((C)=>{if(A.state._tag==="Open"&&Q===A.state.fiber)A.state.fiber=void 0;if(mY(C)&&(B?.propagateInterruption===!0?!BcQ(C.cause):!XG(C.cause)))VC(A.deferred,C)})});var iaA=(A)=>eI((Q)=>KB((B)=>{if(A.state._tag==="Closed"||A.state.fiber===void 0)return u;return VA(Q(NZ(A.state.fiber,JG(B.id(),zS))),r(()=>{if(A.state._tag==="Open")A.state.fiber=void 0}))})),EcQ=function(){let A=void 0;return()=>{if(A===void 0)A=lY(GE);return A}}(),naA=function(){let A=arguments[0];if(nB(arguments[1]))return paA(A,arguments[1],arguments[2]);let Q=arguments[1];return(B)=>paA(A,B,Q)},paA=(A,Q,B)=>aG((C)=>{if(A.state._tag==="Closed")return GE;else if(A.state.fiber!==void 0&&B?.onlyIfMissing===!0)return r(EcQ);return VB(KG(Q),(E)=>CcQ(A,E,{...B,interruptAs:C}))});var T3={};ZQ(T3,{unsafeSet:()=>$i,unsafeHas:()=>rL,unsafeGet:()=>aaA,size:()=>FcQ,set:()=>UcQ,runtimePromise:()=>saA,runtime:()=>zZA,run:()=>zi,remove:()=>$ZA,makeRuntimePromise:()=>JcQ,makeRuntime:()=>GcQ,make:()=>wS,join:()=>HcQ,isFiberMap:()=>MZA,has:()=>ZcQ,get:()=>NcQ,clear:()=>XcQ,awaitEmpty:()=>WcQ,TypeId:()=>Mi});var Mi=Symbol.for("effect/FiberMap"),MZA=(A)=>o(A,Mi),IcQ={[Mi]:Mi,[Symbol.iterator](){if(this.state._tag==="Closed")return sb();return this.state.backing[Symbol.iterator]()},toString(){return PQ(this.toJSON())},toJSON(){return{_id:"FiberMap",state:this.state}},[sA](){return this.toJSON()},pipe(){return e(this,arguments)}},YcQ=(A,Q)=>{let B=Object.create(IcQ);return B.state={_tag:"Open",backing:A},B.deferred=Q,B},wS=()=>kQ(h(WB(),(A)=>YcQ(jE(),A)),(A)=>KB((Q)=>{let B=A.state;if(B._tag==="Closed")return u;return A.state={_tag:"Closed"},Rj(tb(B.backing,([,C])=>C),JG(Q.id(),oL)).pipe(I2(A.deferred))})),GcQ=()=>v(wS(),(A)=>zZA(A)()),JcQ=()=>v(wS(),(A)=>saA(A)()),raA=-1,oL=qz(raA,0),DcQ=o7(void 0,{emptyCase:x0,failCase:x0,dieCase:x0,interruptCase:(A,Q)=>KU(ZX(Q),raA),sequentialCase:(A,Q,B)=>Q||B,parallelCase:(A,Q,B)=>Q||B}),$i=F((A)=>MZA(A[0]),(A,Q,B,C)=>{if(A.state._tag==="Closed"){B.unsafeInterruptAsFork(JG(C?.interruptAs??TC,oL));return}let E=tB(A.state.backing,Q);if(E._tag==="Some"){if(C?.onlyIfMissing===!0){B.unsafeInterruptAsFork(JG(C?.interruptAs??TC,oL));return}else if(E.value===B)return;E.value.unsafeInterruptAsFork(JG(C?.interruptAs??TC,oL))}S0(A.state.backing,Q,B),B.addObserver((I)=>{if(A.state._tag==="Closed")return;let Y=tB(A.state.backing,Q);if(XA(Y)&&B===Y.value)mC(A.state.backing,Q);if(mY(I)&&(C?.propagateInterruption===!0?!DcQ(I.cause):!XG(I.cause)))VC(A.deferred,I)})}),UcQ=F((A)=>MZA(A[0]),(A,Q,B,C)=>aG((E)=>r(()=>$i(A,Q,B,{...C,interruptAs:E})))),aaA=F(2,(A,Q)=>A.state._tag==="Closed"?x():tB(A.state.backing,Q)),NcQ=F(2,(A,Q)=>LA(()=>aaA(A,Q))),rL=F(2,(A,Q)=>A.state._tag==="Closed"?!1:mE(A.state.backing,Q)),ZcQ=F(2,(A,Q)=>r(()=>rL(A,Q))),$ZA=F(2,(A,Q)=>KB((B)=>{if(A.state._tag==="Closed")return u;let C=tB(A.state.backing,Q);if(C._tag==="None")return u;return NZ(C.value,JG(B.id(),oL))})),XcQ=(A)=>KB((Q)=>{if(A.state._tag==="Closed")return u;return LB(A.state.backing,([,B])=>NZ(B,JG(Q.id(),oL)))}),VZA=function(){let A=void 0;return()=>{if(A===void 0)A=lY(GE);return A}}(),zi=function(){let A=arguments[0];if(nB(arguments[2]))return oaA(A,arguments[1],arguments[2],arguments[3]);let Q=arguments[1],B=arguments[2];return(C)=>oaA(A,Q,C,B)},oaA=(A,Q,B,C)=>aG((E)=>{if(A.state._tag==="Closed")return GE;else if(C?.onlyIfMissing===!0&&rL(A,Q))return r(VZA);return VB(KG(B),(I)=>$i(A,Q,I,{...C,interruptAs:E}))}),zZA=(A)=>()=>h(wI(),(Q)=>{let B=pE(Q);return(C,E,I)=>{if(A.state._tag==="Closed")return VZA();else if(I?.onlyIfMissing===!0&&rL(A,C))return VZA();let Y=B(E,I);return $i(A,C,Y,I),Y}}),saA=(A)=>()=>h(zZA(A)(),(Q)=>(B,C,E)=>new Promise((I,Y)=>Q(B,C,E).addObserver((G)=>{if(zY(G))I(G.value);else Y(WE(G.cause))}))),FcQ=(A)=>r(()=>A.state._tag==="Closed"?0:pG(A.state.backing)),HcQ=(A)=>WQ(A.deferred),WcQ=(A)=>RY({while:()=>A.state._tag==="Open"&&pG(A.state.backing)>0,body:()=>vX(JU(A)[1]),step:l0});var wZA=Symbol.for("effect/FiberSet"),KcQ=(A)=>o(A,wZA),VcQ={[wZA]:wZA,[Symbol.iterator](){if(this.state._tag==="Closed")return sb();return this.state.backing[Symbol.iterator]()},toString(){return PQ(this.toJSON())},toJSON(){return{_id:"FiberMap",state:this.state}},[sA](){return this.toJSON()},pipe(){return e(this,arguments)}},McQ=(A,Q)=>{let B=Object.create(VcQ);return B.state={_tag:"Open",backing:A},B.deferred=Q,B},PJ=()=>kQ(h(WB(),(A)=>McQ(new Set,A)),(A)=>KB((Q)=>{let B=A.state;if(B._tag==="Closed")return u;A.state={_tag:"Closed"};let C=B.backing;return Rj(C,JG(Q.id(),QsA)).pipe(I2(A.deferred))})),eaA=()=>v(PJ(),(A)=>tX(A)());var AsA=-1,QsA=qz(AsA,0),$cQ=o7(void 0,{emptyCase:x0,failCase:x0,dieCase:x0,interruptCase:(A,Q)=>KU(ZX(Q),AsA),sequentialCase:(A,Q,B)=>Q||B,parallelCase:(A,Q,B)=>Q||B}),J9=F((A)=>KcQ(A[0]),(A,Q,B)=>{if(A.state._tag==="Closed"){Q.unsafeInterruptAsFork(JG(B?.interruptAs??TC,QsA));return}else if(A.state.backing.has(Q))return;A.state.backing.add(Q),Q.addObserver((C)=>{if(A.state._tag==="Closed")return;if(A.state.backing.delete(Q),mY(C)&&(B?.propagateInterruption===!0?!$cQ(C.cause):!XG(C.cause)))VC(A.deferred,C)})});var BsA=function(){let A=void 0;return()=>{if(A===void 0)A=lY(GE);return A}}(),LS=function(){let A=arguments[0];if(!nB(arguments[1])){let Q=arguments[1];return(B)=>taA(A,B,Q)}return taA(A,arguments[1],arguments[2])},taA=(A,Q,B)=>aG((C)=>{if(A.state._tag==="Closed")return r(BsA);return VB(KG(Q),(E)=>J9(A,E,{...B,interruptAs:C}))}),tX=(A)=>()=>h(wI(),(Q)=>{let B=pE(Q);return(C,E)=>{if(A.state._tag==="Closed")return BsA();let I=B(C,E);return J9(A,I),I}});var q3=(A)=>WQ(A.deferred),wi=(A)=>RY({while:()=>A.state._tag==="Open"&&A.state.backing.size>0,body:()=>vX(JU(A)),step:l0});var zcQ="effect/GroupBy",LZA=Symbol.for(zcQ),wcQ={_R:(A)=>A,_E:(A)=>A,_K:(A)=>A,_V:(A)=>A},LcQ=(A)=>o(A,LZA),CsA=F((A)=>LcQ(A[0]),(A,Q,B)=>GI(A.grouped,([C,E])=>Q(C,DW(PZ(E,{shutdown:!0}))),{concurrency:"unbounded",bufferSize:B?.bufferSize??16}));var OZA=(A)=>({[LZA]:wcQ,pipe(){return e(this,arguments)},grouped:A}),EsA=F((A)=>TD(A[0]),(A,Q,B)=>OZA(cU(KA(function*(){let C=yield*WB(),E=yield*kQ(wD(B?.bufferSize??16),(G)=>DE(G)),I=yield*DC(new Map),Y=yield*H(_Z(A,Q),hUA(B?.bufferSize??16,([G,J])=>v(WQ(C),(D)=>D(G,J)),(G)=>P0(E,G)));return yield*nC(C,(G,J)=>H(d0(I),h((D)=>aQ(D.get(G))),v(HA({onNone:()=>v(Y,([D,U])=>VA(cG(I,(N)=>N.set(G,D)),H(P0(E,hQ([G,OcQ(U,(N)=>new M3(H(N,H_((Z)=>dA(Z[1])))))])),IB((N)=>N===D)))),onSome:(D)=>c((U)=>U===D)})))),w3(PZ(E,{shutdown:!0}))})))),RZA=F((A)=>typeof A[0]!=="function",(A,Q,B)=>{if(B?.key)return CsA(TZA(A,B.key,{bufferSize:B.bufferSize}),(C,E)=>_Z(E,Q));return rx(B?.concurrency,()=>_Z(A,Q),(C)=>B?.unordered?GI(A,(E)=>cE(Q(E)),{concurrency:C}):JoA(A,C,Q))}),IsA=F((A)=>typeof A[0]!=="string",(A,Q,B,C)=>RZA(A,(E)=>h(B(E),(I)=>({...E,[Q]:I})),C)),OcQ=(A,Q)=>new YsA(A,Q);class YsA extends CI{dequeue;f;[kuA]={_Out:(A)=>A};constructor(A,Q){super();this.dequeue=A,this.f=Q}capacity(){return buA(this.dequeue)}get size(){return Jc(this.dequeue)}unsafeSize(){return this.dequeue.unsafeSize()}get awaitShutdown(){return fuA(this.dequeue)}isActive(){return this.dequeue.isActive()}get isShutdown(){return Cx(this.dequeue)}get shutdown(){return DE(this.dequeue)}get isFull(){return muA(this.dequeue)}get isEmpty(){return huA(this.dequeue)}get take(){return H(BY(this.dequeue),h((A)=>this.f(A)))}get takeAll(){return H(uuA(this.dequeue),h(N0((A)=>this.f(A))))}takeUpTo(A){return H(puA(this.dequeue,A),h(N0((Q)=>this.f(Q))))}takeBetween(A,Q){return H(GL(this.dequeue,A,Q),h(N0((B)=>this.f(B))))}takeN(A){return H(cuA(this.dequeue,A),h(N0((Q)=>this.f(Q))))}poll(){return H(duA(this.dequeue),h(RQ((A)=>this.f(A))))}pipe(){return e(this,arguments)}commit(){return this.take}}var TZA=F((A)=>typeof A[0]!=="function",(A,Q,B)=>{let C=(E,I)=>kB({onInput:(Y)=>WA(QQ(LB(RcQ(Y,Q),([G,J])=>{let D=E.get(G);if(D===void 0)return H(wD(B?.bufferSize??16),v((U)=>H(r(()=>{E.set(G,U)}),VA(P0(I,cx([G,U]))),VA(H(P0(U,oX(J)),gH((N)=>XG(N)?j(u):x()))))));return gH(P0(D,oX(J)),(U)=>XG(U)?j(u):x())},{discard:!0})),()=>C(E,I)),onFailure:(Y)=>QQ(P0(I,rX(Y))),onDone:()=>H(QQ(H(LB(E.entries(),([Y,G])=>H(P0(G,qZ),gH((J)=>XG(J)?j(u):x())),{discard:!0}),VA(P0(I,qZ)))))});return OZA(hL((E)=>KA(function*(){let I=new Map,Y=yield*mH();return yield*jC(E,DE(Y)),yield*jA(A).pipe(gQ(C(I,Y)),OZ,d2(E),uQ(E),IB(DW(PZ(Y,{shutdown:!0}))))})))}),RcQ=F(2,(A,Q)=>{let B=[],C=A[Symbol.iterator](),E=new Map,I;while((I=C.next())&&!I.done){let Y=I.value,G=Q(Y);if(E.has(G))E.get(G).push(Y);else{let J=[Y];B.push([G,J]),E.set(G,J)}}return tA(B.map((Y)=>[Y[0],tA(Y[1])]))});var gE={};ZQ(gE,{validateSync:()=>B6,validatePromise:()=>jcQ,validateOption:()=>Pi,validateEither:()=>kZA,validate:()=>_i,try:()=>KW,succeed:()=>L0,parseError:()=>eX,orElse:()=>SZA,mergeInternalOptions:()=>BO,mapError:()=>Q6,mapBoth:()=>xZA,map:()=>zG,isParseError:()=>AO,isComposite:()=>hZA,is:()=>N9,getSearchTree:()=>Si,getRefinementExpected:()=>KsA,getOption:()=>PS,getLiterals:()=>tL,getFinalTransformation:()=>XsA,fromOption:()=>QO,flatMap:()=>qD,fail:()=>OE,encodeUnknownSync:()=>SS,encodeUnknownPromise:()=>NsA,encodeUnknownOption:()=>gS,encodeUnknownEither:()=>Ti,encodeUnknown:()=>NI,encodeSync:()=>xZ,encodePromise:()=>ScQ,encodeOption:()=>xi,encodeEither:()=>xcQ,encode:()=>gcQ,eitherOrUndefined:()=>qcQ,decodeUnknownSync:()=>_S,decodeUnknownPromise:()=>UsA,decodeUnknownOption:()=>jS,decodeUnknownEither:()=>xS,decodeUnknown:()=>UI,decodeSync:()=>A4,decodePromise:()=>_cQ,decodeOption:()=>qi,decodeEither:()=>PcQ,decode:()=>yZA,asserts:()=>ji,Unexpected:()=>Oi,Type:()=>JB,TreeFormatter:()=>PD,Transformation:()=>TS,Refinement:()=>RS,Pointer:()=>iY,ParseErrorTypeId:()=>Ri,ParseError:()=>jZA,Missing:()=>_3,Forbidden:()=>eL,Composite:()=>DI,ArrayFormatter:()=>j3});class iY{path;actual;issue;_tag="Pointer";constructor(A,Q,B){this.path=A,this.actual=Q,this.issue=B}}class Oi{actual;message;_tag="Unexpected";constructor(A,Q){this.actual=A,this.message=Q}}class _3{ast;message;_tag="Missing";actual=void 0;constructor(A,Q){this.ast=A,this.message=Q}}class DI{ast;actual;issues;output;_tag="Composite";constructor(A,Q,B,C){this.ast=A,this.actual=Q,this.issues=B,this.output=C}}class RS{ast;actual;kind;issue;_tag="Refinement";constructor(A,Q,B,C){this.ast=A,this.actual=Q,this.kind=B,this.issue=C}}class TS{ast;actual;kind;issue;_tag="Transformation";constructor(A,Q,B,C){this.ast=A,this.actual=Q,this.kind=B,this.issue=C}}class JB{ast;actual;message;_tag="Type";constructor(A,Q,B){this.ast=A,this.actual=Q,this.message=B}}class eL{ast;actual;message;_tag="Forbidden";constructor(A,Q,B){this.ast=A,this.actual=Q,this.message=B}}var Ri=Symbol.for("effect/Schema/ParseErrorTypeId"),AO=(A)=>o(A,Ri);class jZA extends gX("ParseError"){[Ri]=Ri;get message(){return this.toString()}toString(){return PD.formatIssueSync(this.issue)}toJSON(){return{_id:"ParseError",message:this.toString()}}[sA](){return this.toJSON()}}var eX=(A)=>new jZA({issue:A}),L0=$A,OE=wA,KW=qV;var QO=h$,_J=zF,qD=F(2,(A,Q)=>{return _J(A)?sB(A,{onLeft:wA,onRight:Q}):v(A,Q)}),zG=F(2,(A,Q)=>{return _J(A)?e9(A,Q):h(A,Q)}),Q6=F(2,(A,Q)=>{return _J(A)?$8(A,Q):fE(A,Q)}),qcQ=(A)=>{if(_J(A))return A},xZA=F(2,(A,Q)=>{return _J(A)?vzA(A,{onLeft:Q.onFailure,onRight:Q.onSuccess}):bX(A,Q)}),SZA=F(2,(A,Q)=>{return _J(A)?sB(A,{onLeft:Q,onRight:$A}):zI(A,Q)}),BO=(A,Q)=>{if(Q===void 0||BG(Q))return A;if(A===void 0)return Q;return{...A,...Q}},qS=(A,Q,B)=>{let C=$G(A,Q);return(E,I)=>C(E,BO(B,I))},gZA=(A,Q,B)=>{let C=qS(A,Q,B);return(E,I)=>PV(C(E,I),eX)},PS=(A,Q,B)=>{let C=qS(A,Q,B);return(E,I)=>f$(C(E,I))},vZA=(A,Q,B)=>{let C=$G(A,Q);return(E,I)=>C(E,{...BO(B,I),isEffectAllowed:!0})},_S=(A,Q)=>gZA(A.ast,!0,Q),jS=(A,Q)=>PS(A.ast,!0,Q),xS=(A,Q)=>qS(A.ast,!0,Q),UsA=(A,Q)=>{let B=UI(A,Q);return(C,E)=>$D(B(C,E))},UI=(A,Q)=>vZA(A.ast,!0,Q),SS=(A,Q)=>gZA(A.ast,!1,Q),gS=(A,Q)=>PS(A.ast,!1,Q),Ti=(A,Q)=>qS(A.ast,!1,Q),NsA=(A,Q)=>{let B=NI(A,Q);return(C,E)=>$D(B(C,E))},NI=(A,Q)=>vZA(A.ast,!1,Q),A4=_S,qi=jS,PcQ=xS,_cQ=UsA,yZA=UI,B6=(A,Q)=>gZA(RC(A.ast),!0,Q),Pi=(A,Q)=>PS(RC(A.ast),!0,Q),kZA=(A,Q)=>qS(RC(A.ast),!0,Q),jcQ=(A,Q)=>{let B=_i(A,Q);return(C,E)=>$D(B(C,E))},_i=(A,Q)=>vZA(RC(A.ast),!0,Q),N9=(A,Q)=>{let B=$G(RC(A.ast),!0);return(C,E)=>CG(B(C,{exact:!0,...BO(Q,E)}))},ji=(A,Q)=>{let B=$G(RC(A.ast),!0);return(C,E)=>{let I=B(C,{exact:!0,...BO(Q,E)});if(M0(I))throw eX(I.left)}},xZ=SS,xi=gS,xcQ=Ti,ScQ=NsA,gcQ=NI,vcQ=xA(Symbol.for("effect/ParseResult/decodeMemoMap"),()=>new WeakMap),ycQ=xA(Symbol.for("effect/ParseResult/encodeMemoMap"),()=>new WeakMap),$G=(A,Q)=>{let B=Q?vcQ:ycQ,C=B.get(A);if(C)return C;let E=kcQ(A,Q),I=bBA(A),Y=XA(I)?(D,U)=>E(D,BO(U,I.value)):E,G=hBA(A),J=Q&&XA(G)?(D,U)=>OS(SZA(Y(D,U),G.value),A,D,U):Y;return B.set(A,J),J},qZA=(A)=>gB(vBA(A)),PZA=(A)=>gB(yBA(A)),kcQ=(A,Q)=>{switch(A._tag){case"Refinement":if(Q){let B=$G(A.from,!0);return(C,E)=>{E=E??Zz;let I=E?.errors==="all",Y=qD(SZA(B(C,E),(G)=>{let J=new RS(A,C,"From",G);if(I&&Ph(A)&&hZA(G))return HA(A.filter(C,E,A),{onNone:()=>wA(J),onSome:(D)=>wA(new DI(A,C,[J,new RS(A,C,"Predicate",D)]))});return wA(J)}),(G)=>HA(A.filter(G,E,A),{onNone:()=>$A(G),onSome:(J)=>wA(new RS(A,C,"Predicate",J))}));return OS(Y,A,C,E)}}else{let B=$G(RC(A),!0),C=$G(ZsA(A.from),!1);return(E,I)=>OS(qD(B(E,I),(Y)=>C(Y,I)),A,E,I)}case"Transformation":{let B=XsA(A.transformation,Q),C=Q?$G(A.from,!0):$G(A.to,!1),E=Q?$G(A.to,!0):$G(A.from,!1);return(I,Y)=>OS(qD(Q6(C(I,Y),(G)=>new TS(A,I,Q?"Encoded":"Type",G)),(G)=>qD(Q6(B(G,Y??Zz,A,I),(J)=>new TS(A,I,"Transformation",J)),(J)=>Q6(E(J,Y),(D)=>new TS(A,I,Q?"Type":"Encoded",D)))),A,I,Y)}case"Declaration":{let B=Q?A.decodeUnknown(...A.typeParameters):A.encodeUnknown(...A.typeParameters);return(C,E)=>OS(B(C,E??Zz,A),A,C,E)}case"Literal":return nU(A,(B)=>B===A.literal);case"UniqueSymbol":return nU(A,(B)=>B===A.symbol);case"UndefinedKeyword":return nU(A,kb);case"NeverKeyword":return nU(A,FzA);case"UnknownKeyword":case"AnyKeyword":case"VoidKeyword":return $A;case"StringKeyword":return nU(A,cC);case"NumberKeyword":return nU(A,BG);case"BooleanKeyword":return nU(A,SG);case"BigIntKeyword":return nU(A,LN);case"SymbolKeyword":return nU(A,CU);case"ObjectKeyword":return nU(A,vY);case"Enums":return nU(A,(B)=>A.enums.some(([C,E])=>E===B));case"TemplateLiteral":{let B=QP(A);return nU(A,(C)=>cC(C)&&B.test(C))}case"TupleType":{let B=A.elements.map((D)=>$G(D.type,Q)),C=A.rest.map((D)=>$G(D.type,Q)),E=A.elements.filter((D)=>!D.isOptional);if(A.rest.length>0)E=E.concat(A.rest.slice(1));let I=E.length,Y=A.elements.length>0?A.elements.map((D,U)=>U).join(" | "):"never",G=qZA(A),J=PZA(A);return(D,U)=>{if(!u$(D))return wA(new JB(A,D));let N=U?.errors==="all",Z=[],X=0,W=[],K=D.length;for(let L=K;L<=I-1;L++){let O=new iY(L,D,new _3(E[L-K]));if(N){Z.push([X++,O]);continue}else return wA(new DI(A,D,O,W))}if(A.rest.length===0)for(let L=A.elements.length;L<=K-1;L++){let O=new iY(L,D,new Oi(D[L],`is unexpected, expected: ${Y}`));if(N){Z.push([X++,O]);continue}else return wA(new DI(A,D,O,W))}let V=0,M=void 0;for(;V<B.length;V++)if(K<V+1){if(A.elements[V].isOptional)continue}else{let L=B[V],O=L(D[V],U);if(_J(O)){if(M0(O)){let R=new iY(V,D,O.left);if(N){Z.push([X++,R]);continue}else return wA(new DI(A,D,R,U9(W)))}W.push([X++,O.right])}else{let R=X++,_=V;if(!M)M=[];M.push(({es:S,output:q})=>v(S5(O),(y)=>{if(M0(y)){let p=new iY(_,D,y.left);if(N)return S.push([R,p]),u;else return wA(new DI(A,D,p,U9(q)))}return q.push([R,y.right]),u}))}}if(oB(C)){let[L,...O]=C;for(;V<K-O.length;V++){let R=L(D[V],U);if(_J(R))if(M0(R)){let _=new iY(V,D,R.left);if(N){Z.push([X++,_]);continue}else return wA(new DI(A,D,_,U9(W)))}else W.push([X++,R.right]);else{let _=X++,S=V;if(!M)M=[];M.push(({es:q,output:y})=>v(S5(R),(p)=>{if(M0(p)){let i=new iY(S,D,p.left);if(N)return q.push([_,i]),u;else return wA(new DI(A,D,i,U9(y)))}else return y.push([_,p.right]),u}))}}for(let R=0;R<O.length;R++)if(V+=R,K<V+1)continue;else{let _=O[R](D[V],U);if(_J(_)){if(M0(_)){let S=new iY(V,D,_.left);if(N){Z.push([X++,S]);continue}else return wA(new DI(A,D,S,U9(W)))}W.push([X++,_.right])}else{let S=X++,q=V;if(!M)M=[];M.push(({es:y,output:p})=>v(S5(_),(i)=>{if(M0(i)){let MA=new iY(q,D,i.left);if(N)return y.push([S,MA]),u;else return wA(new DI(A,D,MA,U9(p)))}return p.push([S,i.right]),u}))}}}let z=({es:L,output:O})=>DU(L)?wA(new DI(A,D,U9(L),U9(O))):$A(U9(O));if(M&&M.length>0){let L=M;return LA(()=>{let O={es:l$(Z),output:l$(W)};return v(LB(L,(R)=>R(O),{concurrency:G,batching:J,discard:!0}),()=>z(O))})}return z({output:W,es:Z})}}case"TypeLiteral":{if(A.propertySignatures.length===0&&A.indexSignatures.length===0)return nU(A,kQA);let B=[],C={},E=[];for(let U of A.propertySignatures)B.push([$G(U.type,Q),U]),C[U.name]=null,E.push(U.name);let I=A.indexSignatures.map((U)=>[$G(U.parameter,Q),$G(U.type,Q),U.parameter]),Y=kC.make(A.indexSignatures.map((U)=>U.parameter).concat(E.map((U)=>CU(U)?new uV(U):new O8(U)))),G=$G(Y,Q),J=qZA(A),D=PZA(A);return(U,N)=>{if(!hb(U))return wA(new JB(A,U));let Z=N?.errors==="all",X=[],W=0,K=N?.onExcessProperty==="error",V=N?.onExcessProperty==="preserve",M={},z;if(K||V){z=T2(U);for(let _ of z){let S=G(_,N);if(_J(S)&&M0(S))if(K){let q=new iY(_,U,new Oi(U[_],`is unexpected, expected: ${String(Y)}`));if(Z){X.push([W++,q]);continue}else return wA(new DI(A,U,q,M))}else M[_]=U[_]}}let L=void 0,O=N?.exact===!0;for(let _=0;_<B.length;_++){let S=B[_][1],q=S.name,y=Object.prototype.hasOwnProperty.call(U,q);if(!y){if(S.isOptional)continue;else if(O){let MA=new iY(q,U,new _3(S));if(Z){X.push([W++,MA]);continue}else return wA(new DI(A,U,MA,M))}}let p=B[_][0],i=p(U[q],N);if(_J(i)){if(M0(i)){let MA=new iY(q,U,y?i.left:new _3(S));if(Z){X.push([W++,MA]);continue}else return wA(new DI(A,U,MA,M))}M[q]=i.right}else{let MA=W++,d=q;if(!L)L=[];L.push(({es:AA,output:IA})=>v(S5(i),(UA)=>{if(M0(UA)){let NA=new iY(d,U,y?UA.left:new _3(S));if(Z)return AA.push([MA,NA]),u;else return wA(new DI(A,U,NA,IA))}return IA[d]=UA.right,u}))}}for(let _=0;_<I.length;_++){let S=I[_],q=S[0],y=S[1],p=mq(U,S[2]);for(let i of p){let MA=q(i,N);if(_J(MA)&&CG(MA)){let d=y(U[i],N);if(_J(d)){if(M0(d)){let AA=new iY(i,U,d.left);if(Z){X.push([W++,AA]);continue}else return wA(new DI(A,U,AA,M))}else if(!Object.prototype.hasOwnProperty.call(C,i))M[i]=d.right}else{let AA=W++,IA=i;if(!L)L=[];L.push(({es:UA,output:NA})=>v(S5(d),(bA)=>{if(M0(bA)){let FQ=new iY(IA,U,bA.left);if(Z)return UA.push([AA,FQ]),u;else return wA(new DI(A,U,FQ,NA))}else{if(!Object.prototype.hasOwnProperty.call(C,i))NA[i]=bA.right;return u}}))}}}}let R=({es:_,output:S})=>{if(DU(_))return wA(new DI(A,U,U9(_),S));if(N?.propertyOrder==="original"){let q=z||T2(U);for(let p of E)if(q.indexOf(p)===-1)q.push(p);let y={};for(let p of q)if(Object.prototype.hasOwnProperty.call(S,p))y[p]=S[p];return $A(y)}return $A(S)};if(L&&L.length>0){let _=L;return LA(()=>{let S={es:l$(X),output:Object.assign({},M)};return v(LB(_,(q)=>q(S),{concurrency:J,batching:D,discard:!0}),()=>R(S))})}return R({es:X,output:M})}}case"Union":{let B=Si(A.types,Q),C=T2(B.keys),E=C.length,I=A.types.length,Y=new Map;for(let D=0;D<I;D++)Y.set(A.types[D],$G(A.types[D],Q));let G=qZA(A)??1,J=PZA(A);return(D,U)=>{let N=[],Z=0,X=[];if(E>0)if(_$(D))for(let V=0;V<E;V++){let M=C[V],z=B.keys[M].buckets;if(Object.prototype.hasOwnProperty.call(D,M)){let L=String(D[M]);if(Object.prototype.hasOwnProperty.call(z,L))X=X.concat(z[L]);else{let{candidates:O,literals:R}=B.keys[M],_=kC.make(R),S=O.length===I?new IG([new AE(M,_,!1,!0)],[]):kC.make(O);N.push([Z++,new DI(S,D,new iY(M,D,new JB(_,D[M])))])}}else{let{candidates:L,literals:O}=B.keys[M],R=new AE(M,kC.make(O),!1,!0),_=L.length===I?new IG([R],[]):kC.make(L);N.push([Z++,new DI(_,D,new iY(M,D,new _3(R)))])}}else{let V=B.candidates.length===I?A:kC.make(B.candidates);N.push([Z++,new JB(V,D)])}if(B.otherwise.length>0)X=X.concat(B.otherwise);let W=void 0;for(let V=0;V<X.length;V++){let M=X[V],z=Y.get(M)(D,U);if(_J(z)&&(!W||W.length===0))if(CG(z))return z;else N.push([Z++,z.left]);else{let L=Z++;if(!W)W=[];W.push((O)=>LA(()=>{if("finalResult"in O)return u;else return v(S5(z),(R)=>{if(CG(R))O.finalResult=R;else O.es.push([L,R.left]);return u})}))}}let K=(V)=>DU(V)?V.length===1&&V[0][1]._tag==="Type"?wA(V[0][1]):wA(new DI(A,D,U9(V))):wA(new JB(A,D));if(W&&W.length>0){let V=W;return LA(()=>{let M={es:l$(N)};return v(LB(V,(z)=>z(M),{concurrency:G,batching:J,discard:!0}),()=>{if("finalResult"in M)return M.finalResult;return K(M.es)})})}return K(N)}}case"Suspend":{let B=j1(()=>$G(XU(A.f(),A.annotations),Q));return(C,E)=>B()(C,E)}}},nU=(A,Q)=>(B)=>Q(B)?$A(B):wA(new JB(A,B)),tL=(A,Q)=>{switch(A._tag){case"Declaration":{let B=L8(A);if(XA(B))return tL(B.value,Q);break}case"TypeLiteral":{let B=[];for(let C=0;C<A.propertySignatures.length;C++){let E=A.propertySignatures[C],I=Q?cV(E.type):RC(E.type);if(R8(I)&&!E.isOptional)B.push([E.name,I])}return B}case"TupleType":{let B=[];for(let C=0;C<A.elements.length;C++){let E=A.elements[C],I=Q?cV(E.type):RC(E.type);if(R8(I)&&!E.isOptional)B.push([C,I])}return B}case"Refinement":return tL(A.from,Q);case"Suspend":return tL(A.f(),Q);case"Transformation":return tL(Q?A.from:A.to,Q)}return[]},Si=(A,Q)=>{let B={},C=[],E=[];for(let I=0;I<A.length;I++){let Y=A[I],G=tL(Y,Q);if(G.length>0){E.push(Y);for(let J=0;J<G.length;J++){let[D,U]=G[J],N=String(U.literal);B[D]=B[D]||{buckets:{},literals:[],candidates:[]};let Z=B[D].buckets;if(Object.prototype.hasOwnProperty.call(Z,N)){if(J<G.length-1)continue;Z[N].push(Y),B[D].literals.push(U),B[D].candidates.push(Y)}else{Z[N]=[Y],B[D].literals.push(U),B[D].candidates.push(Y);break}}}else C.push(Y)}return{keys:B,otherwise:C,candidates:E}},ZsA=(A)=>GX(A)?ZsA(A.from):A,OS=(A,Q,B,C)=>{if(C?.isEffectAllowed===!0)return A;if(_J(A))return A;let E=new k7,I=lY(A,{scheduler:E});E.flush();let Y=I.unsafePoll();if(Y){if(zY(Y))return $A(Y.value);let G=Y.cause;if(VGA(G))return wA(G.error);return wA(new eL(Q,B,L5(G)))}return wA(new eL(Q,B,"cannot be be resolved synchronously, this is caused by using runSync on an effect that performs async work"))},bcQ=([A],[Q])=>A>Q?1:A<Q?-1:0;function U9(A){return A.sort(bcQ).map((Q)=>Q[1])}var XsA=(A,Q)=>{switch(A._tag){case"FinalTransformation":return Q?A.decode:A.encode;case"ComposeTransformation":return $A;case"TypeLiteralTransformation":return(B)=>{let C=$A(B);for(let E of A.propertySignatureTransformations){let[I,Y]=Q?[E.from,E.to]:[E.to,E.from],G=Q?E.decode:E.encode;C=zG(C,(D)=>{let U=G(Object.prototype.hasOwnProperty.call(D,I)?j(D[I]):x());if(delete D[I],XA(U))D[Y]=U.value;return D})}return C}}},l2=(A,Q=[])=>({value:A,forest:Q}),PD={formatIssue:(A)=>zG(aL(A),hcQ),formatIssueSync:(A)=>{let Q=PD.formatIssue(A);return _J(Q)?sQA(Q):eB(Q)},formatError:(A)=>PD.formatIssue(A.issue),formatErrorSync:(A)=>PD.formatIssueSync(A.issue)},hcQ=(A)=>A.value+FsA(`
`,A.forest),FsA=(A,Q)=>{let B="",C=Q.length,E;for(let I=0;I<C;I++){E=Q[I];let Y=I===C-1;B+=A+(Y?"└":"├")+"─ "+E.value,B+=FsA(A+(C>1&&!Y?"│  ":"   "),E.forest)}return B},mcQ=(A)=>{switch(A){case"Encoded":return"Encoded side transformation failure";case"Transformation":return"Transformation process failure";case"Type":return"Type side transformation failure"}},fcQ=(A)=>{switch(A){case"From":return"From side refinement failure";case"Predicate":return"Predicate refinement failure"}},HsA=(A)=>("ast"in A)?j(A.ast):x(),_ZA=$A(void 0),dcQ=(A)=>HsA(A).pipe(qE(xBA),HA({onNone:()=>_ZA,onSome:(Q)=>{let B=Q(A);if(cC(B))return $A({message:B,override:!1});if(nB(B))return h(B,(C)=>({message:C,override:!1}));if(cC(B.message))return $A({message:B.message,override:B.override});return h(B.message,(C)=>({message:C,override:B.override}))}})),bZA=(A)=>(Q)=>Q._tag===A,hZA=bZA("Composite"),JsA=bZA("Refinement"),DsA=bZA("Transformation"),WW=(A)=>qD(dcQ(A),(Q)=>{if(Q!==void 0)return!Q.override&&(hZA(A)||JsA(A)&&A.kind==="From"||DsA(A)&&A.kind!=="Transformation")?DsA(A)||JsA(A)?WW(A.issue):_ZA:$A(Q.message);return _ZA}),WsA=(A)=>HsA(A).pipe(qE(kBA),ABA((Q)=>Q(A)),gB);function KsA(A){return rq(A).pipe(KI(()=>oq(A)),KI(()=>qh(A)),KI(()=>fV(A)),YQ(()=>`{ ${A.from} | filter }`))}function ucQ(A){if(A.message!==void 0)return A.message;return`Expected ${GX(A.ast)?KsA(A.ast):String(A.ast)}, actual ${yY(A.actual)}`}var VsA=(A)=>zG(WW(A),(Q)=>Q??WsA(A)??ucQ(A)),Li=(A)=>WsA(A)??String(A.ast),MsA=(A)=>A.message??"is forbidden",$sA=(A)=>A.message??"is unexpected",zsA=(A)=>{let Q=SBA(A.ast);if(XA(Q)){let B=Q.value();return cC(B)?$A(B):B}return $A(A.message??"is missing")},aL=(A)=>{switch(A._tag){case"Type":return zG(VsA(A),l2);case"Forbidden":return $A(l2(Li(A),[l2(MsA(A))]));case"Unexpected":return $A(l2($sA(A)));case"Missing":return zG(zsA(A),l2);case"Transformation":return qD(WW(A),(Q)=>{if(Q!==void 0)return $A(l2(Q));return zG(aL(A.issue),(B)=>l2(Li(A),[l2(mcQ(A.kind),[B])]))});case"Refinement":return qD(WW(A),(Q)=>{if(Q!==void 0)return $A(l2(Q));return zG(aL(A.issue),(B)=>l2(Li(A),[l2(fcQ(A.kind),[B])]))});case"Pointer":return zG(aL(A.issue),(Q)=>l2(Xh(A.path),[Q]));case"Composite":return qD(WW(A),(Q)=>{if(Q!==void 0)return $A(l2(Q));let B=Li(A);return Zh(A.issues)?zG(LB(A.issues,aL),(C)=>l2(B,C)):zG(aL(A.issues),(C)=>l2(B,[C]))})}},P3=(A,Q,B)=>({_tag:A,path:Q,message:B}),j3={formatIssue:(A)=>sL(A,void 0,[]),formatIssueSync:(A)=>{let Q=j3.formatIssue(A);return _J(Q)?sQA(Q):eB(Q)},formatError:(A)=>j3.formatIssue(A.issue),formatErrorSync:(A)=>j3.formatIssueSync(A.issue)},sL=(A,Q,B)=>{let C=A._tag;switch(C){case"Type":return zG(VsA(A),(E)=>[P3(Q??C,B,E)]);case"Forbidden":return $A([P3(C,B,MsA(A))]);case"Unexpected":return $A([P3(C,B,$sA(A))]);case"Missing":return zG(zsA(A),(E)=>[P3(C,B,E)]);case"Pointer":return sL(A.issue,void 0,B.concat(A.path));case"Composite":return qD(WW(A),(E)=>{if(E!==void 0)return $A([P3(C,B,E)]);return Zh(A.issues)?zG(LB(A.issues,(I)=>sL(I,void 0,B)),TF):sL(A.issues,void 0,B)});case"Refinement":return qD(WW(A),(E)=>{if(E!==void 0)return $A([P3(C,B,E)]);return sL(A.issue,A.kind==="Predicate"?C:void 0,B)});case"Transformation":return qD(WW(A),(E)=>{if(E!==void 0)return $A([P3(C,B,E)]);return sL(A.issue,A.kind==="Transformation"?C:void 0,B)})}};var mZA=Symbol.for("effect/Pool"),pcQ={_E:(A)=>A,_A:(A)=>A};class ccQ extends CI{scope;acquire;concurrency;minSize;maxSize;strategy;targetUtilization;[mZA];isShuttingDown=!1;semaphore;items=new Set;available=new Set;availableLatch=wj(!1);invalidated=new Set;waiters=0;constructor(A,Q,B,C,E,I,Y){super();this.scope=A,this.acquire=Q,this.concurrency=B,this.minSize=C,this.maxSize=E,this.strategy=I,this.targetUtilization=Y,this[mZA]=pcQ,this.semaphore=JZ(B*E)}allocate=X7(ZG(),(A)=>this.acquire.pipe(WD(A),IC,f((Q)=>{let B={exit:Q,finalizer:oN(A.close(Q),lcQ),refCount:0,disableReclaim:!1};return this.items.add(B),this.available.add(B),lB(Q._tag==="Success"?this.strategy.onAcquire(B):OQ(B.finalizer,this.strategy.onAcquire(B)),B)})),(A,Q)=>Q._tag==="Failure"?A.close(Q):iA);get currentUsage(){let A=this.waiters;for(let Q of this.items)A+=Q.refCount;return A}get targetSize(){if(this.isShuttingDown)return 0;let A=this.currentUsage/this.targetUtilization,Q=Math.ceil(A/this.concurrency);return Math.min(Math.max(this.minSize,Q),this.maxSize)}get activeSize(){return this.items.size-this.invalidated.size}resizeLoop=qA(()=>{if(this.activeSize>=this.targetSize)return iA;let A=this.targetSize-this.activeSize;return this.strategy.reclaim(this).pipe(f(HA({onNone:()=>this.allocate,onSome:n})),Lu(A,{concurrency:A}),wX(this.availableLatch.open),f((Q)=>Q.some((B)=>B.exit._tag==="Failure")?iA:this.resizeLoop))});resizeSemaphore=JZ(1);resize=this.resizeSemaphore.withPermits(1)(this.resizeLoop);getPoolItem=GC((A)=>A(this.semaphore.take(1)).pipe(OQ(LY),f((Q)=>qA(()=>{if(this.waiters++,this.isShuttingDown)return qC;else if(this.targetSize>this.activeSize){let B=this;return f(this.resizeSemaphore.withPermitsIfAvailable(1)(DZ(MJ(this.resize),this.scope)),function C(){if(B.isShuttingDown)return qC;else if(B.available.size>0)return n(JU(B.available));return B.availableLatch.unsafeClose(),f(B.availableLatch.await,C)})}return n(JU(this.available))}).pipe(nG(CA(()=>this.waiters--)),YC((B)=>{if(B.exit._tag==="Failure")return this.items.delete(B),this.invalidated.delete(B),this.available.delete(B),this.semaphore.release(1);if(B.refCount++,this.available.delete(B),B.refCount<this.concurrency)this.available.add(B);return Q.addFinalizer(()=>OQ(qA(()=>{if(B.refCount--,this.invalidated.has(B))return this.invalidatePoolItem(B);return this.available.add(B),KC}),this.semaphore.release(1)))}),hY(()=>this.semaphore.release(1))))));commit(){return this.get}get=f(qA(()=>this.isShuttingDown?qC:this.getPoolItem),(A)=>A.exit);invalidate(A){return qA(()=>{if(this.isShuttingDown)return iA;for(let Q of this.items)if(Q.exit._tag==="Success"&&Q.exit.value===A)return Q.disableReclaim=!0,$J(this.invalidatePoolItem(Q));return iA})}invalidatePoolItem(A){return qA(()=>{if(!this.items.has(A))return iA;else if(A.refCount===0)return this.items.delete(A),this.available.delete(A),this.invalidated.delete(A),OQ(A.finalizer,DZ(MJ(this.resize),this.scope));return this.invalidated.add(A),this.available.delete(A),iA})}get shutdown(){return qA(()=>{if(this.isShuttingDown)return iA;this.isShuttingDown=!0;let A=this.items.size,Q=JZ(A);return iI(this.items,(B)=>{if(B.refCount>0)return B.finalizer=wX(B.finalizer,Q.release(1)),this.invalidated.add(B),Q.take(1);return this.items.delete(B),this.available.delete(B),this.invalidated.delete(B),B.finalizer}).pipe(OQ(this.semaphore.releaseAll),OQ(this.availableLatch.open),OQ(Q.take(A)))})}pipe(){return e(this,arguments)}}var lcQ=(A)=>TQ((Q)=>{let B=Q.getFiberRef(e1);if(B._tag==="Some")Q.log("Unhandled error in pool finalizer",A,B);return iA});var fZA=Symbol.for("effect/RcMap"),acQ={_K:s,_A:s,_E:s};class OsA{lookup;context;scope;idleTimeToLive;capacity;[fZA];state={_tag:"Open",map:jE()};semaphore=JZ(1);constructor(A,Q,B,C,E){this.lookup=A,this.context=Q,this.scope=B,this.idleTimeToLive=C,this.capacity=E,this[fZA]=acQ}pipe(){return e(this,arguments)}}var RsA=(A)=>TQ((Q)=>{let B=Q.getFiberRef(rI),C=nQ(B,LY),E=new OsA(A.lookup,B,C,A.idleTimeToLive?cQ(A.idleTimeToLive):void 0,Math.max(A.capacity??Number.POSITIVE_INFINITY,0));return lB(C.addFinalizer(()=>qA(()=>{if(E.state._tag==="Closed")return iA;let I=E.state.map;return E.state={_tag:"Closed"},iI(I,([,Y])=>oJ(Y.scope,KC)).pipe(YC(()=>{W_(I)}),E.semaphore.withPermits(1))})),E)}),TsA=F(2,(A,Q)=>{let B=A;return GC((C)=>scQ(B,Q,C))}),scQ=D_(function*(A,Q,B){if(A.state._tag==="Closed")return yield*qC;let C=A.state,E=tB(C.map,Q),I;if(E._tag==="Some")I=E.value,I.refCount++;else if(Number.isFinite(A.capacity)&&pG(A.state.map)>=A.capacity)return yield*HB(new Jf(`RcMap attempted to exceed capacity of ${A.capacity}`));else I=yield*A.semaphore.withPermits(1)(tcQ(A,Q,B));return yield*(yield*LY).addFinalizer(()=>I.finalizer),yield*B(PC(I.deferred))}),tcQ=D_(function*(A,Q,B){let C=yield*ZG(),E=yield*QI(),I=A.lookup(Q),Y=new Map(A.context.unsafeMap);yield*B(OU(I,(J)=>{return J.unsafeMap.forEach((D,U)=>{Y.set(U,D)}),Y.set(LY.key,C),yN(Y)})).pipe(IC,f((J)=>X_(E,J)),DZ(C));let G={deferred:E,scope:C,finalizer:void 0,fiber:void 0,expiresAt:0,refCount:1};if(G.finalizer=ecQ(A,Q,G),A.state._tag==="Open")S0(A.state.map,Q,G);return G}),ecQ=(A,Q,B)=>BZ((C)=>{if(B.refCount--,B.refCount>0)return iA;else if(A.state._tag==="Closed"||!mE(A.state.map,Q)||A.idleTimeToLive===void 0){if(A.state._tag==="Open")mC(A.state.map,Q);return oJ(B.scope,KC)}if(!uF(A.idleTimeToLive))return iA;if(B.expiresAt=C.unsafeCurrentTimeMillis()+b0(A.idleTimeToLive),B.fiber)return iA;return em(function E(I){let Y=C.unsafeCurrentTimeMillis(),G=B.expiresAt-Y;if(G<=0){if(A.state._tag==="Closed"||B.refCount>0)return iA;return mC(A.state.map,Q),I(oJ(B.scope,KC))}return f(C.sleep(lC(G)),()=>E(I))}).pipe(nG(CA(()=>{B.fiber=void 0})),DZ(A.scope),YC((E)=>{B.fiber=E}),A.semaphore.withPermits(1))});var dZA=RsA,x3=TsA;var SZ={};ZQ(SZ,{zipRight:()=>ssA,zipLeft:()=>asA,zip:()=>rsA,withSpanAnnotations:()=>osA,withMinimumLogLevel:()=>cZA,withLeveledConsole:()=>hsA,withConsoleLog:()=>bsA,withConsoleError:()=>msA,tracerLogger:()=>CtA,test:()=>nsA,sync:()=>isA,succeed:()=>lsA,structuredLogger:()=>BtA,structured:()=>GtA,stringLogger:()=>AtA,simple:()=>csA,replaceScoped:()=>psA,replaceEffect:()=>usA,replace:()=>CO,remove:()=>dsA,prettyLoggerDefault:()=>gi,prettyLogger:()=>QtA,pretty:()=>YtA,none:()=>fsA,minimumLogLevel:()=>JtA,mapInputOptions:()=>vsA,mapInput:()=>gsA,map:()=>ksA,make:()=>_sA,logfmtLogger:()=>esA,logFmt:()=>ItA,jsonLogger:()=>tsA,json:()=>EtA,isLogger:()=>lZA,filterLogLevel:()=>ysA,defaultLogger:()=>vS,batched:()=>pZA,addScoped:()=>SsA,addEffect:()=>xsA,add:()=>jsA,LoggerTypeId:()=>PsA});var qsA=F(2,(A,Q)=>A.log({fiberId:B7,logLevel:pz,message:Q,cause:wH,context:pf(),spans:cN(),annotations:VI(),date:new Date}));var PsA=Kw,_sA=iG,jsA=aj,xsA=w2A,SsA=L2A,gsA=exA,vsA=fd,ysA=ASA,ksA=i_,pZA=hgA,bsA=Rw,hsA=xgA,msA=SgA,fsA=QSA,dsA=sj,CO=TdA,usA=qdA,psA=PdA,csA=dd,lsA=BSA,isA=CSA,nsA=qsA,cZA=RdA,osA=bgA,rsA=ud,asA=ESA,ssA=ISA,vS=l7,tsA=ld,esA=cd,AtA=pd,QtA=DYA,gi=id,BtA=n_,CtA=tYA,EtA=CO(l7,ggA),ItA=CO(l7,vgA),YtA=CO(l7,ygA),GtA=CO(l7,kgA),JtA=OdA,lZA=GSA;var ki=Symbol.for("effect/Mailbox"),iZA=Symbol.for("effect/Mailbox/ReadonlyMailbox");var S3=hA(),DtA=I0(S3),vi=I0(!1),yi=I0(!0),UtA=[S3,!0];class NtA extends CI{scheduler;capacity;strategy;[ki]=ki;[iZA]=iZA;state={_tag:"Open",takers:new Set,offers:new Set,awaiters:new Set};messages=[];messagesChunk=hA();constructor(A,Q,B){super();this.scheduler=A,this.capacity=Q,this.strategy=B}offer(A){return qA(()=>{if(this.state._tag!=="Open")return vi;else if(this.messages.length+this.messagesChunk.length>=this.capacity)switch(this.strategy){case"dropping":return vi;case"suspend":if(this.capacity<=0&&this.state.takers.size>0)return this.messages.push(A),this.releaseTaker(),yi;return this.offerRemainingSingle(A);case"sliding":return this.unsafeTake(),this.messages.push(A),yi}return this.messages.push(A),this.scheduleReleaseTaker(),yi})}unsafeOffer(A){if(this.state._tag!=="Open")return!1;else if(this.messages.length+this.messagesChunk.length>=this.capacity){if(this.strategy==="sliding")return this.unsafeTake(),this.messages.push(A),!0;else if(this.capacity<=0&&this.state.takers.size>0)return this.messages.push(A),this.releaseTaker(),!0;return!1}return this.messages.push(A),this.scheduleReleaseTaker(),!0}offerAll(A){return qA(()=>{if(this.state._tag!=="Open")return n(rB(A));let Q=this.unsafeOfferAllArray(A);if(Q.length===0)return DtA;else if(this.strategy==="dropping")return n(tA(Q));return this.offerRemainingArray(Q)})}unsafeOfferAll(A){return tA(this.unsafeOfferAllArray(A))}unsafeOfferAllArray(A){if(this.state._tag!=="Open")return aA(A);else if(this.capacity===Number.POSITIVE_INFINITY||this.strategy==="sliding"){if(this.messages.length>0)this.messagesChunk=tQ(this.messagesChunk,tA(this.messages));if(this.strategy==="sliding")this.messagesChunk=this.messagesChunk.pipe(tQ(rB(A)),DP(this.capacity));else if(DX(A))this.messagesChunk=tQ(this.messagesChunk,A);else this.messages=aA(A);return this.scheduleReleaseTaker(),[]}let Q=this.capacity<=0?this.state.takers.size:this.capacity-this.messages.length-this.messagesChunk.length;if(Q===0)return aA(A);let B=[],C=0;for(let E of A){if(C<Q)this.messages.push(E);else B.push(E);C++}return this.scheduleReleaseTaker(),B}fail(A){return this.done(d8(A))}failCause(A){return this.done(O0(A))}unsafeDone(A){if(this.state._tag!=="Open")return!1;else if(this.state.offers.size===0&&this.messages.length===0&&this.messagesChunk.length===0)return this.finalize(A),!0;return this.state={...this.state,_tag:"Closing",exit:A},!0}shutdown=CA(()=>{if(this.state._tag==="Done")return!0;this.messages=[],this.messagesChunk=S3;let A=this.state.offers;if(this.finalize(this.state._tag==="Open"?KC:this.state.exit),A.size>0){for(let Q of A)if(Q._tag==="Single")Q.resume(vi);else Q.resume(I0(tA(Q.remaining.slice(Q.offset))));A.clear()}return!0});done(A){return CA(()=>this.unsafeDone(A))}end=this.done(KC);clear=qA(()=>{if(this.state._tag==="Done")return tz(this.state.exit,S3);let A=this.unsafeTakeAll();return this.releaseCapacity(),n(A)});takeAll=qA(()=>{if(this.state._tag==="Done")return tz(this.state.exit,UtA);let A=this.unsafeTakeAll();if(A.length===0)return OQ(this.awaitTake,this.takeAll);return n([A,this.releaseCapacity()])});takeN(A){return qA(()=>{if(this.state._tag==="Done")return tz(this.state.exit,UtA);else if(A<=0)return n([S3,!1]);A=Math.min(A,this.capacity);let Q;if(A<=this.messagesChunk.length)Q=GG(this.messagesChunk,A),this.messagesChunk=y0(this.messagesChunk,A);else if(A<=this.messages.length+this.messagesChunk.length)this.messagesChunk=tQ(this.messagesChunk,tA(this.messages)),this.messages=[],Q=GG(this.messagesChunk,A),this.messagesChunk=y0(this.messagesChunk,A);else return OQ(this.awaitTake,this.takeN(A));return n([Q,this.releaseCapacity()])})}unsafeTake(){if(this.state._tag==="Done")return Uf(this.state.exit,d8(new r7));let A;if(this.messagesChunk.length>0)A=fF(this.messagesChunk),this.messagesChunk=y0(this.messagesChunk,1);else if(this.messages.length>0)A=this.messages[0],this.messagesChunk=y0(tA(this.messages),1),this.messages=[];else if(this.capacity<=0&&this.state.offers.size>0)return this.capacity=1,this.releaseCapacity(),this.capacity=0,this.messages.length>0?I0(this.messages.pop()):void 0;else return;return this.releaseCapacity(),I0(A)}take=qA(()=>this.unsafeTake()??OQ(this.awaitTake,this.take));await=VX((A)=>{if(this.state._tag==="Done")return A(this.state.exit);return this.state.awaiters.add(A),CA(()=>{if(this.state._tag!=="Done")this.state.awaiters.delete(A)})});unsafeSize(){let A=this.messages.length+this.messagesChunk.length;return this.state._tag==="Done"?x():j(A)}size=CA(()=>this.unsafeSize());commit(){return this.takeAll}pipe(){return e(this,arguments)}toJSON(){return{_id:"effect/Mailbox",state:this.state._tag,size:this.unsafeSize().toJSON()}}toString(){return PQ(this)}[sA](){return PQ(this)}offerRemainingSingle(A){return VX((Q)=>{if(this.state._tag!=="Open")return Q(vi);let B={_tag:"Single",message:A,resume:Q};return this.state.offers.add(B),CA(()=>{if(this.state._tag==="Open")this.state.offers.delete(B)})})}offerRemainingArray(A){return VX((Q)=>{if(this.state._tag!=="Open")return Q(I0(tA(A)));let B={_tag:"Array",remaining:A,offset:0,resume:Q};return this.state.offers.add(B),CA(()=>{if(this.state._tag==="Open")this.state.offers.delete(B)})})}releaseCapacity(){if(this.state._tag==="Done")return this.state.exit._tag==="Success";else if(this.state.offers.size===0){if(this.state._tag==="Closing"&&this.messages.length===0&&this.messagesChunk.length===0)return this.finalize(this.state.exit),this.state.exit._tag==="Success";return!1}let A=this.capacity-this.messages.length-this.messagesChunk.length;for(let Q of this.state.offers)if(A===0)return!1;else if(Q._tag==="Single")this.messages.push(Q.message),A--,Q.resume(yi),this.state.offers.delete(Q);else{for(;Q.offset<Q.remaining.length;Q.offset++){if(A===0)return!1;this.messages.push(Q.remaining[Q.offset]),A--}Q.resume(DtA),this.state.offers.delete(Q)}return!1}awaitTake=VX((A)=>{if(this.state._tag==="Done")return A(this.state.exit);return this.state.takers.add(A),CA(()=>{if(this.state._tag!=="Done")this.state.takers.delete(A)})});scheduleRunning=!1;scheduleReleaseTaker(){if(this.scheduleRunning)return;this.scheduleRunning=!0,this.scheduler.scheduleTask(this.releaseTaker,0)}releaseTaker=()=>{if(this.scheduleRunning=!1,this.state._tag==="Done")return;else if(this.state.takers.size===0)return;let A=JU(this.state.takers);this.state.takers.delete(A),A(KC)};unsafeTakeAll(){if(this.messagesChunk.length>0){let A=this.messages.length>0?tQ(this.messagesChunk,tA(this.messages)):this.messagesChunk;return this.messagesChunk=S3,this.messages=[],A}else if(this.messages.length>0){let A=tA(this.messages);return this.messages=[],A}else if(this.state._tag!=="Done"&&this.state.offers.size>0)return this.capacity=1,this.releaseCapacity(),this.capacity=0,dA(this.messages.pop());return S3}finalize(A){if(this.state._tag==="Done")return;let Q=this.state;this.state={_tag:"Done",exit:A};for(let B of Q.takers)B(A);Q.takers.clear();for(let B of Q.awaiters)B(A);Q.awaiters.clear()}}var ZtA=(A)=>TQ((Q)=>n(new NtA(Q.currentScheduler,typeof A==="number"?A:A?.capacity??Number.POSITIVE_INFINITY,typeof A==="number"?"suspend":A?.strategy??"suspend"))),XtA=F(2,(A,Q)=>GC((B)=>BE(B(A),{onFailure:(C)=>Q.failCause(C),onSuccess:(C)=>Q.end}))),nZA=(A)=>{let Q=WA(A.takeAll,([B,C])=>C?B.length===0?UQ:zA(B):bB(zA(B),Q));return Q},FtA=(A)=>UW(nZA(A));var ElQ=ki;var HtA=(A)=>o(A,ElQ);var RI=ZtA,WtA=XtA,bi=nZA,EO=FtA;function IO(A,Q){return f(A.runtimeEffect,(B)=>TQ((C)=>{return C.setFiberRefs(B.fiberRefs),C.currentRuntimeFlags=B.runtimeFlags,$Y(Q,B.context)}))}var IlQ={...c8,[fw]:fw,pipe(){return e(this,arguments)},commit(){return this.runtimeEffect}},KtA=(A,Q)=>{Q=Q??iJA();let B=_j(ZG()),C,E=TQ((Y)=>{if(!C)C=Pj(YC(IE(Lp(A,Q),B),(G)=>{I.cachedRuntime=G}),{scope:B,scheduler:Y.currentScheduler});return MY(C.await)}),I=Object.assign(Object.create(IlQ),{memoMap:Q,scope:B,runtimeEffect:E,cachedRuntime:void 0,runtime(){return I.cachedRuntime===void 0?cw(I.runtimeEffect):Promise.resolve(I.cachedRuntime)},dispose(){return cw(I.disposeEffect)},disposeEffect:qA(()=>{return I.runtimeEffect=DD("ManagedRuntime disposed"),I.cachedRuntime=void 0,KE(I.scope,KC)}),runFork(Y,G){return I.cachedRuntime===void 0?Pj(IO(I,Y),G):jH(I.cachedRuntime)(Y,G)},runSyncExit(Y){return I.cachedRuntime===void 0?Gp(IO(I,Y)):qj(I.cachedRuntime)(Y)},runSync(Y){return I.cachedRuntime===void 0?_j(IO(I,Y)):Cp(I.cachedRuntime)(Y)},runPromiseExit(Y,G){return I.cachedRuntime===void 0?Yp(IO(I,Y),G):uw(I.cachedRuntime)(Y,G)},runCallback(Y,G){return I.cachedRuntime===void 0?E3(vU)(IO(I,Y),G):E3(I.cachedRuntime)(Y,G)},runPromise(Y,G){return I.cachedRuntime===void 0?cw(IO(I,Y),G):Ep(I.cachedRuntime)(Y,G)}});return I};var oZA=KtA;var Q4={};ZQ(Q4,{withReturnType:()=>KlQ,whenOr:()=>VlQ,whenAnd:()=>MlQ,when:()=>htA,valueTags:()=>HlQ,value:()=>btA,undefined:()=>klQ,typeTags:()=>WlQ,type:()=>FlQ,tagsExhaustive:()=>qlQ,tags:()=>TlQ,tagStartsWith:()=>RlQ,tag:()=>OlQ,symbol:()=>mlQ,string:()=>xlQ,record:()=>dlQ,orElseAbsurd:()=>clQ,orElse:()=>mtA,option:()=>ilQ,number:()=>SlQ,null:()=>blQ,not:()=>PlQ,nonEmptyString:()=>_lQ,is:()=>jlQ,instanceOfUnsafe:()=>plQ,instanceOf:()=>ulQ,exhaustive:()=>nlQ,either:()=>llQ,discriminatorsExhaustive:()=>LlQ,discriminators:()=>wlQ,discriminatorStartsWith:()=>zlQ,discriminator:()=>$lQ,defined:()=>vlQ,date:()=>flQ,boolean:()=>ylQ,bigint:()=>hlQ,any:()=>glQ,SafeRefinementId:()=>olQ,MatcherTypeId:()=>XlQ});var mi=Symbol.for("@effect/matcher/Matcher"),GlQ={[mi]:{_input:s,_filters:s,_remaining:s,_result:s,_return:s},_tag:"TypeMatcher",add(A){return fi([...this.cases,A])},pipe(){return e(this,arguments)}};function fi(A){let Q=Object.create(GlQ);return Q.cases=A,Q}var JlQ={[mi]:{_input:s,_filters:s,_result:s,_return:s},_tag:"ValueMatcher",add(A){if(this.value._tag==="Right")return this;if(A._tag==="When"&&A.guard(this.provided)===!0)return rZA(this.provided,$A(A.evaluate(this.provided)));else if(A._tag==="Not"&&A.guard(this.provided)===!1)return rZA(this.provided,$A(A.evaluate(this.provided)));return this},pipe(){return e(this,arguments)}};function rZA(A,Q){let B=Object.create(JlQ);return B.provided=A,B.value=Q,B}var GO=(A,Q)=>({_tag:"When",guard:A,evaluate:Q}),DlQ=(A,Q)=>({_tag:"Not",guard:A,evaluate:Q}),YO=(A)=>{if(typeof A==="function")return A;else if(Array.isArray(A)){let Q=A.map(YO),B=Q.length;return(C)=>{if(!Array.isArray(C))return!1;for(let E=0;E<B;E++)if(Q[E](C[E])===!1)return!1;return!0}}else if(A!==null&&typeof A==="object"){let Q=Object.entries(A).map(([C,E])=>[C,YO(E)]),B=Q.length;return(C)=>{if(typeof C!=="object"||C===null)return!1;for(let E=0;E<B;E++){let[I,Y]=Q[E];if(!(I in C)||Y(C[I])===!1)return!1}return!0}}return(Q)=>Q===A},UlQ=(A)=>{let Q=A.map(YO),B=Q.length;return(C)=>{for(let E=0;E<B;E++)if(Q[E](C)===!0)return!0;return!1}},NlQ=(A)=>{let Q=A.map(YO),B=Q.length;return(C)=>{for(let E=0;E<B;E++)if(Q[E](C)===!1)return!1;return!0}},MtA=()=>fi([]),$tA=(A)=>rZA(A,wA(A)),ztA=F(2,(A,Q)=>{return ui(Q)(fi([]))(A)}),wtA=()=>(A)=>{let Q=ui(A)(fi([]));return(B)=>Q(B)},LtA=()=>(A)=>A,OtA=(A,Q)=>(B)=>B.add(GO(YO(A),Q)),RtA=(...A)=>(Q)=>{let B=A[A.length-1],C=A.slice(0,-1);return Q.add(GO(UlQ(C),B))},TtA=(...A)=>(Q)=>{let B=A[A.length-1],C=A.slice(0,-1);return Q.add(GO(NlQ(C),B))},aZA=(A)=>(...Q)=>{let B=Q[Q.length-1],C=Q.slice(0,-1),E=C.length===1?(I)=>I[A]===C[0]:(I)=>C.includes(I[A]);return(I)=>I.add(GO(E,B))},sZA=(A)=>(Q,B)=>{let C=(E)=>typeof E[A]==="string"&&E[A].startsWith(Q);return(E)=>E.add(GO(C,B))},di=(A)=>(Q)=>{let B=GO((C)=>C!=null&&(C[A]in Q),(C)=>Q[C[A]](C));return(C)=>C.add(B)},tZA=(A)=>(Q)=>{let B=di(A)(Q);return(C)=>Q8A(B(C))},qtA=aZA("_tag"),PtA=sZA("_tag"),_tA=di("_tag"),ui=tZA("_tag"),jtA=(A,Q)=>(B)=>B.add(DlQ(YO(A),Q)),xtA=(A)=>typeof A==="string"&&A.length>0,StA=(...A)=>{let Q=A.length;return(B)=>{for(let C=0;C<Q;C++)if(B===A[C])return!0;return!1}},gtA=()=>!0,vtA=(A)=>A!==void 0&&A!==null,eZA=(A)=>(Q)=>Q instanceof A;var A8A=(A)=>(Q)=>{let B=yS(Q);if(zF(B))return B._tag==="Right"?B.right:A(B.left);return(C)=>{let E=B(C);return E._tag==="Right"?E.right:A(E.left)}},ytA=(A)=>A8A(()=>{throw new Error("effect/Match/orElseAbsurd: absurd")})(A),yS=(A)=>{if(A._tag==="ValueMatcher")return A.value;let Q=A.cases.length;if(Q===1){let B=A.cases[0];return(C)=>{if(B._tag==="When"&&B.guard(C)===!0)return $A(B.evaluate(C));else if(B._tag==="Not"&&B.guard(C)===!1)return $A(B.evaluate(C));return wA(C)}}return(B)=>{for(let C=0;C<Q;C++){let E=A.cases[C];if(E._tag==="When"&&E.guard(B)===!0)return $A(E.evaluate(B));else if(E._tag==="Not"&&E.guard(B)===!1)return $A(E.evaluate(B))}return wA(B)}},ktA=(A)=>{let Q=yS(A);if(zF(Q))return sB(Q,{onLeft:()=>x(),onRight:j});return(B)=>sB(Q(B),{onLeft:()=>x(),onRight:j})},VtA="effect/Match/exhaustive: absurd",Q8A=(A)=>{let Q=yS(A);if(zF(Q)){if(Q._tag==="Right")return Q.right;throw new Error(VtA)}return(B)=>{let C=Q(B);if(C._tag==="Right")return C.right;throw new Error(VtA)}};var XlQ=mi,FlQ=MtA,btA=$tA,HlQ=ztA,WlQ=wtA,KlQ=LtA,htA=OtA,VlQ=RtA,MlQ=TtA,$lQ=aZA,zlQ=sZA,wlQ=di,LlQ=tZA,OlQ=qtA,RlQ=PtA,TlQ=_tA,qlQ=ui,PlQ=jtA,_lQ=xtA,jlQ=StA,xlQ=cC,SlQ=BG,glQ=gtA,vlQ=vtA,ylQ=SG,klQ=kb;var blQ=XzA;var hlQ=LN,mlQ=CU,flQ=$V,dlQ=hb,ulQ=eZA,plQ=eZA,mtA=A8A,clQ=ytA,llQ=yS,ilQ=ktA,nlQ=Q8A,olQ=Symbol.for("effect/SafeRefinement");var B8A=d7;var JO=oSA;var kS=rSA,VW=aSA;var B4=Du;var dtA=Symbol.for("effect/MutableHashSet"),DiQ={[dtA]:dtA,[Symbol.iterator](){return Array.from(this.keyMap).map(([A])=>A)[Symbol.iterator]()},toString(){return PQ(this.toJSON())},toJSON(){return{_id:"MutableHashSet",values:Array.from(this).map(wB)}},[sA](){return this.toJSON()},pipe(){return e(this,arguments)}},UiQ=(A)=>{let Q=Object.create(DiQ);return Q.keyMap=A,Q},pi=()=>UiQ(jE());var g3=F(2,(A,Q)=>(S0(A.keyMap,Q,!0),A));var C8A=(A)=>pG(A.keyMap);var utA=(A)=>FiQ(A.ast,[]),MW=bE(Cz),v3=(A)=>(Q)=>HA(MW(Q),{onNone:()=>A,onSome:(B)=>B()}),hS=v3((A)=>String(A)),I8A=v3((A)=>JSON.stringify(A)),Y8A=v3(yY),XiQ={Declaration:(A,Q,B)=>{let C=MW(A);if(XA(C))return C.value(...A.typeParameters.map((E)=>Q(E,B)));throw new Error(lwA(B,A))},VoidKeyword:v3(()=>"void(0)"),NeverKeyword:v3(()=>{throw new Error(iwA)}),Literal:v3((A)=>typeof A==="bigint"?`${String(A)}n`:JSON.stringify(A)),SymbolKeyword:hS,UniqueSymbol:hS,TemplateLiteral:I8A,UndefinedKeyword:hS,UnknownKeyword:Y8A,AnyKeyword:Y8A,ObjectKeyword:Y8A,StringKeyword:I8A,NumberKeyword:hS,BooleanKeyword:hS,BigIntKeyword:v3((A)=>`${String(A)}n`),Enums:I8A,TupleType:(A,Q,B)=>{let C=MW(A);if(XA(C))return C.value();let E=A.elements.map((Y,G)=>Q(Y.type,B.concat(G))),I=A.rest.map((Y)=>Q(Y.type,B));return(Y)=>{let G=[],J=0;for(;J<E.length;J++)if(Y.length<J+1){if(A.elements[J].isOptional)continue}else G.push(E[J](Y[J]));if(oB(I)){let[D,...U]=I;for(;J<Y.length-U.length;J++)G.push(D(Y[J]));for(let N=0;N<U.length;N++)J+=N,G.push(U[N](Y[J]))}return"["+G.join(", ")+"]"}},TypeLiteral:(A,Q,B)=>{let C=MW(A);if(XA(C))return C.value();let E=A.propertySignatures.map((G)=>Q(G.type,B.concat(G.name))),I=A.indexSignatures.map((G)=>Q(G.type,B)),Y={};for(let G=0;G<E.length;G++)Y[A.propertySignatures[G].name]=null;return(G)=>{let J=[];for(let D=0;D<E.length;D++){let U=A.propertySignatures[D],N=U.name;if(U.isOptional&&!Object.prototype.hasOwnProperty.call(G,N))continue;J.push(`${PF(N)}: ${E[D](G[N])}`)}if(I.length>0)for(let D=0;D<I.length;D++){let U=I[D],N=mq(G,A.indexSignatures[D].parameter);for(let Z of N){if(Object.prototype.hasOwnProperty.call(Y,Z))continue;J.push(`${PF(Z)}: ${U(G[Z])}`)}}return oB(J)?"{ "+J.join(", ")+" }":"{}"}},Union:(A,Q,B)=>{let C=MW(A);if(XA(C))return C.value();let E=A.types.map((I)=>[N9({ast:I}),Q(I,B)]);return(I)=>{let Y=E.findIndex(([G])=>G(I));if(Y===-1)throw new Error(nwA(I,B,A));return E[Y][1](I)}},Suspend:(A,Q,B)=>{return HA(MW(A),{onNone:()=>{let C=j1(()=>Q(A.f(),B));return(E)=>C()(E)},onSome:(C)=>C()})},Refinement:(A,Q,B)=>{return HA(MW(A),{onNone:()=>Q(A.from,B),onSome:(C)=>C()})},Transformation:(A,Q,B)=>{return HA(MW(A),{onNone:()=>Q(A.to,B),onSome:(C)=>C()})}},FiQ=X0A(XiQ);var J8A=Symbol.for("effect/PrimaryKey"),ptA=(A)=>A[J8A]();var oU={};ZQ(oU,{value:()=>C6,unsafeWipe:()=>ViQ,make:()=>Z9,isRedacted:()=>U8A,getEquivalence:()=>N8A,RedactedTypeId:()=>KiQ});var KiQ=Ei,U8A=nNA,Z9=oNA,C6=AaA,ViQ=QaA,N8A=(A)=>TE((Q,B)=>A(C6(Q),C6(B)));var MiQ="effect/ScopedRef",ctA=Symbol.for(MiQ),$iQ={_A:(A)=>A},raB={...gG,commit(){return mS(this)},[ctA]:$iQ};var mS=(A)=>GA(sJ(A.ref),(Q)=>Q[1]);var TiQ="effect/Resource",ntA=Symbol.for(TiQ),qiQ={_E:(A)=>A,_A:(A)=>A},_sB={...gG,commit(){return otA(this)},[ntA]:qiQ};var otA=(A)=>f(mS(A.scopedRef),s);var EQ={};ZQ(EQ,{withDefaults:()=>leA,withDecodingDefault:()=>_8A,withConstructorDefault:()=>I6,validateSync:()=>B6,validatePromise:()=>_eA,validateOption:()=>Pi,validateEither:()=>PeA,validate:()=>O8A,validDate:()=>cn,uppercased:()=>i8A,uncapitalized:()=>a8A,typeSchema:()=>vQ,trimmed:()=>h8A,transformOrFail:()=>dC,transformLiterals:()=>YAQ,transformLiteral:()=>k8A,transform:()=>qQ,tag:()=>x8A,symbolWithResult:()=>Z4,symbolSerializable:()=>TO,suspend:()=>pS,successSchema:()=>VO,startsWith:()=>UAQ,standardSchemaV1:()=>LeA,split:()=>XAQ,serializeSuccess:()=>hXA,serializeFailure:()=>bXA,serializeExit:()=>iQQ,serialize:()=>kXA,serializableSchema:()=>dQQ,requiredToOptional:()=>neA,required:()=>BAQ,rename:()=>JAQ,propertySignature:()=>k3,positiveBigInt:()=>mn,positiveBigDecimal:()=>WXA,positive:()=>w9A,pluck:()=>eeA,pickLiteral:()=>xeA,pick:()=>S8A,pattern:()=>_n,partialWith:()=>QAQ,partial:()=>AAQ,parseNumber:()=>T9A,parseJson:()=>D4,optionalWith:()=>reA,optionalToRequired:()=>C4,optionalToOptional:()=>ai,optionalElement:()=>meA,optional:()=>oeA,omit:()=>teA,nonPositiveBigInt:()=>un,nonPositiveBigDecimal:()=>wXA,nonPositive:()=>O9A,nonNegativeBigInt:()=>dn,nonNegativeBigDecimal:()=>VXA,nonNegative:()=>R9A,nonNaN:()=>z9A,nonEmptyString:()=>vn,negativeBigInt:()=>fn,negativeBigDecimal:()=>$XA,negative:()=>L9A,mutable:()=>v8A,multipleOf:()=>FAQ,minLength:()=>d8A,minItems:()=>pAQ,maxLength:()=>DAQ,maxItems:()=>cAQ,makePropertySignature:()=>W9,make:()=>$B,lowercased:()=>c8A,lessThanOrEqualToDuration:()=>gAQ,lessThanOrEqualToDate:()=>aAQ,lessThanOrEqualToBigInt:()=>m9A,lessThanOrEqualToBigDecimal:()=>zQQ,lessThanOrEqualTo:()=>V9A,lessThanDuration:()=>xAQ,lessThanDate:()=>oAQ,lessThanBigInt:()=>h9A,lessThanBigDecimal:()=>$QQ,lessThan:()=>W9A,length:()=>u8A,keyof:()=>heA,itemsCount:()=>e9A,isSchema:()=>ZI,isPropertySignature:()=>sS,is:()=>N9,int:()=>Qg,instanceOf:()=>P8A,includes:()=>ZAQ,headOrElse:()=>nAQ,headNonEmpty:()=>iAQ,head:()=>lAQ,greaterThanOrEqualToDuration:()=>yAQ,greaterThanOrEqualToDate:()=>tAQ,greaterThanOrEqualToBigInt:()=>b9A,greaterThanOrEqualToBigDecimal:()=>MQQ,greaterThanOrEqualTo:()=>Z9A,greaterThanDuration:()=>vAQ,greaterThanDate:()=>sAQ,greaterThanBigInt:()=>k9A,greaterThanBigDecimal:()=>VQQ,greaterThan:()=>U9A,getNumberIndexedAccess:()=>Cg,getClassTag:()=>Yg,fromKey:()=>ieA,fromBrand:()=>keA,format:()=>sC,finite:()=>kn,filterEffect:()=>IAQ,filter:()=>NB,failureSchema:()=>nS,extend:()=>zO,exitSchema:()=>Yo,equivalence:()=>aQQ,endsWith:()=>NAQ,encodedSchema:()=>h3,encodedBoundSchema:()=>On,encodeUnknownSync:()=>SS,encodeUnknownPromise:()=>z8A,encodeUnknownOption:()=>gS,encodeUnknownEither:()=>$8A,encodeUnknown:()=>I4,encodeSync:()=>xZ,encodePromise:()=>ReA,encodeOption:()=>xi,encodeEither:()=>OeA,encode:()=>EJ,element:()=>oi,deserializeSuccess:()=>lQQ,deserializeFailure:()=>cQQ,deserializeExit:()=>nQQ,deserialize:()=>uQQ,decodeUnknownSync:()=>_S,decodeUnknownPromise:()=>L8A,decodeUnknownOption:()=>jS,decodeUnknownEither:()=>w8A,decodeUnknown:()=>iE,decodeSync:()=>A4,decodePromise:()=>qeA,decodeOption:()=>qi,decodeEither:()=>TeA,decode:()=>jJ,declare:()=>K0,compose:()=>FO,clampDuration:()=>jAQ,clampBigInt:()=>VAQ,clampBigDecimal:()=>TQQ,clamp:()=>HAQ,capitalized:()=>o8A,brand:()=>vZ,betweenDuration:()=>i9A,betweenDate:()=>eAQ,betweenBigInt:()=>hn,betweenBigDecimal:()=>LXA,between:()=>bn,attachPropertySignature:()=>GAQ,asserts:()=>ji,asWithResult:()=>pQQ,asSerializableWithResult:()=>oQQ,asSerializable:()=>fQQ,asSchema:()=>wC,annotations:()=>wO,Void:()=>Y4,ValidDateSchemaId:()=>Nn,ValidDateFromSelf:()=>AXA,UppercasedSchemaId:()=>l8A,Uppercased:()=>xn,Uppercase:()=>e8A,Unknown:()=>rU,UniqueSymbolFromSelf:()=>R8A,Union:()=>_0,UndefinedOr:()=>$W,Undefined:()=>oS,UncapitalizedSchemaId:()=>r8A,Uncapitalized:()=>gn,Uncapitalize:()=>Q9A,Uint8ArrayFromSelf:()=>D6,Uint8ArrayFromHex:()=>hAQ,Uint8ArrayFromBase64Url:()=>bAQ,Uint8ArrayFromBase64:()=>kAQ,Uint8Array:()=>n9A,Uint8:()=>pn,UUIDSchemaId:()=>C9A,UUID:()=>E9A,URLFromSelf:()=>yn,URL:()=>G9A,ULIDSchemaId:()=>I9A,ULID:()=>Y9A,TypeId:()=>E4,Tuple:()=>xD,TrimmedSchemaId:()=>b8A,Trimmed:()=>eS,Trim:()=>B9A,ToPropertySignature:()=>H9,TimeZoneOffsetFromSelf:()=>Eg,TimeZoneOffset:()=>YXA,TimeZoneNamedFromSelf:()=>Ig,TimeZoneNamed:()=>GXA,TimeZoneFromSelf:()=>on,TimeZone:()=>JXA,TemplateLiteralParser:()=>yeA,TemplateLiteral:()=>T8A,TaggedStruct:()=>i2,TaggedRequest:()=>rQQ,TaggedError:()=>vD,TaggedClass:()=>Gg,SymbolFromSelf:()=>aS,Symbol:()=>y9A,Struct:()=>hB,StringFromUriComponent:()=>uAQ,StringFromHex:()=>dAQ,StringFromBase64Url:()=>fAQ,StringFromBase64:()=>mAQ,String:()=>lQ,StartsWithSchemaId:()=>An,SortedSetFromSelf:()=>gXA,SortedSet:()=>hQQ,SetFromSelf:()=>ZXA,Set:()=>KQQ,RefineSchemaId:()=>Pn,RedactedFromSelf:()=>u9A,Redacted:()=>TAQ,Record:()=>$O,ReadonlySetFromSelf:()=>NXA,ReadonlySet:()=>WQQ,ReadonlyMapFromSelf:()=>tn,ReadonlyMapFromRecord:()=>XQQ,ReadonlyMap:()=>Ao,PropertySignatureTypeId:()=>Tn,PropertySignatureTransformation:()=>gZ,PropertySignatureDeclaration:()=>Y6,PropertyKey:()=>Go,PositiveBigIntFromSelf:()=>MAQ,PositiveBigInt:()=>$AQ,PositiveBigDecimalSchemaId:()=>HXA,PositiveBigDecimalFromSelf:()=>wQQ,Positive:()=>_9A,PatternSchemaId:()=>ei,OptionFromUndefinedOr:()=>IQQ,OptionFromSelf:()=>D2,OptionFromNullishOr:()=>EQQ,OptionFromNullOr:()=>CQQ,OptionFromNonEmptyTrimmedString:()=>UXA,Option:()=>an,Object:()=>MO,NumberFromString:()=>LO,Number:()=>TI,NullishOr:()=>ZO,NullOr:()=>NO,Null:()=>rS,Not:()=>v9A,NonPositiveBigIntFromSelf:()=>LAQ,NonPositiveBigInt:()=>OAQ,NonPositiveBigDecimalSchemaId:()=>zXA,NonPositiveBigDecimalFromSelf:()=>RQQ,NonPositive:()=>x9A,NonNegativeInt:()=>cS,NonNegativeBigIntFromSelf:()=>f9A,NonNegativeBigInt:()=>RAQ,NonNegativeBigDecimalSchemaId:()=>KXA,NonNegativeBigDecimalFromSelf:()=>LQQ,NonNegative:()=>Bg,NonNaNSchemaId:()=>$9A,NonNaN:()=>P9A,NonEmptyTrimmedString:()=>J4,NonEmptyString:()=>Ag,NonEmptyChunkFromSelf:()=>OXA,NonEmptyChunk:()=>PQQ,NonEmptyArrayEnsure:()=>peA,NonEmptyArray:()=>F9,Never:()=>N2,NegativeBigIntFromSelf:()=>zAQ,NegativeBigInt:()=>wAQ,NegativeBigDecimalSchemaId:()=>MXA,NegativeBigDecimalFromSelf:()=>OQQ,Negative:()=>j9A,MultipleOfSchemaId:()=>X9A,MinLengthSchemaId:()=>f8A,MinItemsSchemaId:()=>a9A,MaxLengthSchemaId:()=>m8A,MaxItemsSchemaId:()=>s9A,MapFromSelf:()=>en,MapFromRecord:()=>FQQ,Map:()=>ZQQ,LowercasedSchemaId:()=>p8A,Lowercased:()=>jn,Lowercase:()=>t8A,Literal:()=>J0,ListFromSelf:()=>SXA,List:()=>bQQ,LessThanSchemaId:()=>H9A,LessThanOrEqualToSchemaId:()=>K9A,LessThanOrEqualToDurationSchemaId:()=>SAQ,LessThanOrEqualToDateSchemaId:()=>rAQ,LessThanOrEqualToBigIntSchemaId:()=>Yn,LessThanOrEqualToBigDecimalSchemaId:()=>Mn,LessThanDurationSchemaId:()=>HO,LessThanDateSchemaId:()=>WO,LessThanBigIntSchemaId:()=>In,LessThanBigDecimalSchemaId:()=>Vn,LengthSchemaId:()=>ti,JsonNumberSchemaId:()=>S9A,JsonNumber:()=>g9A,ItemsCountSchemaId:()=>t9A,IntSchemaId:()=>F9A,Int:()=>SD,InstanceOfSchemaId:()=>ni,IncludesSchemaId:()=>Bn,HashSetFromSelf:()=>jXA,HashSet:()=>yQQ,HashMapFromSelf:()=>xXA,HashMap:()=>kQQ,GreaterThanSchemaId:()=>D9A,GreaterThanOrEqualToSchemaId:()=>N9A,GreaterThanOrEqualToDurationSchemaId:()=>Dn,GreaterThanOrEqualToDateSchemaId:()=>Xn,GreaterThanOrEqualToBigIntSchemaId:()=>En,GreaterThanOrEqualToBigDecimalSchemaId:()=>Kn,GreaterThanDurationSchemaId:()=>Jn,GreaterThanDateSchemaId:()=>Zn,GreaterThanBigIntSchemaId:()=>Cn,GreaterThanBigDecimalSchemaId:()=>Wn,FromPropertySignature:()=>G6,FiniteSchemaId:()=>J9A,Finite:()=>q9A,FiberIdFromSelf:()=>Eo,FiberId:()=>PXA,ExitFromSelf:()=>_XA,Exit:()=>KO,Enums:()=>geA,EndsWithSchemaId:()=>Qn,EitherFromUnion:()=>UQQ,EitherFromSelf:()=>sn,Either:()=>DQQ,DurationFromSelf:()=>OO,DurationFromNanos:()=>p9A,DurationFromMillis:()=>c9A,Duration:()=>l9A,Defect:()=>wG,DateTimeZonedFromSelf:()=>rn,DateTimeZoned:()=>DXA,DateTimeUtcFromSelf:()=>RO,DateTimeUtcFromNumber:()=>CXA,DateTimeUtcFromDate:()=>EXA,DateTimeUtc:()=>IXA,DateFromString:()=>ln,DateFromSelfSchemaId:()=>Hn,DateFromSelf:()=>m3,DateFromNumber:()=>QXA,Date:()=>nn,DataFromSelf:()=>TXA,Data:()=>_QQ,Config:()=>mQQ,Class:()=>N4,ChunkFromSelf:()=>f3,Chunk:()=>qQQ,Char:()=>s8A,CauseFromSelf:()=>iS,Cause:()=>Io,CapitalizedSchemaId:()=>n8A,Capitalized:()=>Sn,Capitalize:()=>A9A,BrandSchemaId:()=>ii,BooleanFromUnknown:()=>vXA,BooleanFromString:()=>yXA,Boolean:()=>jD,BigIntFromSelf:()=>G4,BigIntFromNumber:()=>d9A,BigInt:()=>U4,BigDecimalFromSelf:()=>U6,BigDecimalFromNumber:()=>FXA,BigDecimal:()=>XXA,BetweenSchemaId:()=>M9A,BetweenDurationSchemaId:()=>Un,BetweenDateSchemaId:()=>Fn,BetweenBigIntSchemaId:()=>Gn,BetweenBigDecimalSchemaId:()=>$n,ArrayFormatterIssue:()=>Jo,ArrayEnsure:()=>ueA,Array:()=>Z0,Any:()=>wW});var AeA=F((A)=>vY(A[0]),(A,...Q)=>{let B={};for(let C of Q)if(C in A)B[C]=A[C];return B}),li=F((A)=>vY(A[0]),(A,...Q)=>{let B={...A};for(let C of Q)delete B[C];return B});var E4=Symbol.for("effect/Schema");function $B(A){return class Q{[E4]=F8A;static ast=A;static annotations(B){return $B(gD(this.ast,B))}static pipe(){return e(this,arguments)}static toString(){return String(A)}static Type;static Encoded;static Context;static[E4]=F8A}}var F8A={_A:(A)=>A,_I:(A)=>A,_R:(A)=>A},QeA=(A)=>zY(A)?A.value:viQ(L5(A.cause)),viQ=(A)=>({issues:[{message:A}]}),yiQ=(A)=>h(j3.formatIssue(A),(Q)=>({issues:Q.map((B)=>({path:B.path,message:B.message}))})),LeA=(A,Q)=>{let B=UI(A,{errors:"all"});return class C extends $B(A.ast){static "~standard"={version:1,vendor:"effect",validate(E){let I=new k7,Y=lY(w0(B(E,Q),{onFailure:yiQ,onSuccess:(J)=>c({value:J})}),{scheduler:I});I.flush();let G=Y.unsafePoll();if(G)return QeA(G);return new Promise((J)=>{Y.addObserver((D)=>{J(QeA(D))})})}}}},BeA={schemaId:SF,message:Mh,missingMessage:uq,identifier:mV,title:fJ,description:SN,examples:pq,default:cq,documentation:$h,jsonSchema:lq,arbitrary:iq,pretty:Cz,equivalence:nq,concurrency:zh,batching:wh,parseIssueTitle:Lh,parseOptions:Oh,decodingFallback:Rh},J6=(A)=>{if(!A)return{};let Q={...A};for(let B in BeA)if(B in A){let C=BeA[B];Q[C]=A[B],delete Q[B]}return Q},gD=(A,Q)=>XU(A,J6(Q));function wC(A){return A}var sC=(A)=>String(A.ast),h3=(A)=>$B(cV(A.ast)),On=(A)=>$B(H0A(A.ast)),vQ=(A)=>$B(RC(A.ast)),I4=(A,Q)=>{let B=NI(A,Q);return(C,E)=>Q6(B(C,E),eX)},$8A=(A,Q)=>{let B=Ti(A,Q);return(C,E)=>$8(B(C,E),eX)},z8A=(A,Q)=>{let B=I4(A,Q);return(C,E)=>$D(B(C,E))},EJ=I4,OeA=$8A,ReA=z8A,iE=(A,Q)=>{let B=UI(A,Q);return(C,E)=>Q6(B(C,E),eX)},w8A=(A,Q)=>{let B=xS(A,Q);return(C,E)=>$8(B(C,E),eX)},L8A=(A,Q)=>{let B=iE(A,Q);return(C,E)=>$D(B(C,E))},jJ=iE,TeA=w8A,qeA=L8A,O8A=(A,Q)=>{let B=_i(A,Q);return(C,E)=>Q6(B(C,E),eX)},PeA=(A,Q)=>{let B=kZA(A,Q);return(C,E)=>$8(B(C,E),eX)},_eA=(A,Q)=>{let B=O8A(A,Q);return(C,E)=>$D(B(C,E))},ZI=(A)=>o(A,E4)&&vY(A[E4]);function kiQ(A){return tq(A)?kC.make(Y0A(A,(Q)=>new O8(Q))):new O8(A[0])}function jeA(A,Q=kiQ(A)){return class B extends $B(Q){static annotations(C){return jeA(this.literals,gD(this.ast,C))}static literals=[...A]}}function J0(...A){return oB(A)?jeA(A):N2}var xeA=(...A)=>(Q)=>J0(...A),R8A=(A)=>$B(new uV(A)),biQ=(A)=>new vh(Object.keys(A).filter((Q)=>typeof A[A[Q]]!=="number").map((Q)=>[Q,A[Q]])),SeA=(A,Q=biQ(A))=>class B extends $B(Q){static annotations(C){return SeA(this.enums,gD(this.ast,C))}static enums={...A}},geA=(A)=>SeA(A),T8A=(...[A,...Q])=>{let B=[],C="",E=Q;if(ZI(A))if(R8(A.ast))C=String(A.ast.literal);else E=[A,...E];else C=String(A);for(let I=0;I<E.length;I++){let Y=E[I];if(ZI(Y)){if(I<E.length-1){let G=E[I+1];if(ZI(G)){if(R8(G.ast)){B.push(new vF(Y.ast,String(G.ast.literal))),I++;continue}}else{B.push(new vF(Y.ast,String(G))),I++;continue}}B.push(new vF(Y.ast,""))}else B.push(new vF(new O8(Y),""))}if(DU(B))return $B(new sq(C,B));else return $B(new sq("",[new vF(new O8(C),"")]))};function veA(A,Q){let B=A.ast;switch(B._tag){case"Literal":{let C=B.literal;if(!cC(C)){let E=String(C);return qQ(J0(E),Q,{strict:!0,decode:()=>C,encode:()=>E})}break}case"NumberKeyword":return FO(LO,Q);case"Union":{let C=[],E=!1;for(let I of B.types){let Y=$B(I),G=h3(Y),J=veA(G,Y);if(J)E=!0;C.push(J??Y)}return E?FO(_0(...C),Q):Q}}}var yeA=(...A)=>{let Q=[],B=[],C=[],E=!1;for(let J=0;J<A.length;J++){let D=A[J],U=ZI(D)?D:J0(D);C.push(U);let N=h3(U);Q.push(N);let Z=veA(N,U);if(Z)B.push(Z),E=!0;else B.push(U)}let I=T8A(...Q),Y=N0A(I.ast),G=xD(...B);if(E)G=G.annotations({[g1]:sC(xD(...C))});return class J extends dC(I,G,{strict:!1,decode:(D,U,N)=>{let Z=Y.exec(D);return Z?L0(Z.slice(1,A.length+1)):OE(new JB(N,D,`${Y.source}: no match for ${JSON.stringify(D)}`))},encode:(D)=>L0(D.join(""))}){static params=A.slice()}},hiQ=(A,Q,B)=>q8A(A,new dV(A.map((C)=>C.ast),(...C)=>Q.decode(...C.map($B)),(...C)=>Q.encode(...C.map($B)),J6(B))),miQ=(A,Q)=>{let B=()=>(E,I,Y)=>A(E)?L0(E):OE(new JB(Y,E));return q8A([],new dV([],B,B,J6(Q)))};function q8A(A,Q){return class B extends $B(Q){static annotations(C){return q8A(this.typeParameters,gD(this.ast,C))}static typeParameters=[...A]}}var K0=function(){if(Array.isArray(arguments[0])){let B=arguments[0],C=arguments[1],E=arguments[2];return hiQ(B,C,E)}let A=arguments[0],Q=arguments[1];return miQ(A,Q)},ii=Symbol.for("effect/SchemaId/Brand"),keA=(A,Q)=>(B)=>{return g8A(B,new k1(B.ast,function E(I,Y,G){let J=A.either(I);return M0(J)?j(new JB(G,I,J.left.map((D)=>D.message).join(", "))):x()},J6({schemaId:ii,[ii]:{constructor:A},...Q})))},ni=Symbol.for("effect/SchemaId/InstanceOf"),P8A=(A,Q)=>K0((B)=>B instanceof A,{title:A.name,description:`an instance of ${A.name}`,pretty:()=>String,schemaId:ni,[ni]:{constructor:A},...Q});class oS extends $B(gF){}class Y4 extends $B(pBA){}class rS extends $B(fBA){}class N2 extends $B(Gz){}class rU extends $B(jh){}class wW extends $B(xh){}class G4 extends $B(tBA){}class aS extends $B(A0A){}class lQ extends $B(Jz){}class TI extends $B(Uz){}class jD extends $B(Nz){}class MO extends $B(B0A){}var fiQ=(A)=>kC.make(A.map((Q)=>Q.ast));function beA(A,Q=fiQ(A)){return class B extends $B(Q){static annotations(C){return beA(this.members,gD(this.ast,C))}static members=[...A]}}function _0(...A){return tq(A)?beA(A):oB(A)?A[0]:N2}var NO=(A)=>_0(A,rS),$W=(A)=>_0(A,oS),ZO=(A)=>_0(A,rS,oS),heA=(A)=>$B(D0A(A.ast)),oi=(A)=>new Rn(new _2(A.ast,!1),A),meA=(A)=>new Rn(new _2(A.ast,!0),A);class Rn{ast;from;[E4];_Token;constructor(A,Q){this.ast=A,this.from=Q}annotations(A){return new Rn(new _2(this.ast.type,this.ast.isOptional,{...this.ast.annotations,...J6(A)}),this.from)}toString(){return`${this.ast.type}${this.ast.isOptional?"?":""}`}}var diQ=(A,Q)=>new v1(A.map((B)=>ZI(B)?new _2(B.ast,!1):B.ast),Q.map((B)=>ZI(B)?new yF(B.ast):B.ast),!0);function uS(A,Q,B=diQ(A,Q)){return class C extends $B(B){static annotations(E){return uS(this.elements,this.rest,gD(this.ast,E))}static elements=[...A];static rest=[...Q]}}function xD(...A){return Array.isArray(A[0])?uS(A[0],A.slice(1)):uS(A,[])}function feA(A,Q){return class B extends uS([],[A],Q){static annotations(C){return feA(this.value,gD(this.ast,C))}static value=A}}var Z0=(A)=>feA(A);function deA(A,Q){return class B extends uS([A],[A],Q){static annotations(C){return deA(this.value,gD(this.ast,C))}static value=A}}var F9=(A)=>deA(A);function ueA(A){return qQ(_0(A,Z0(A)),Z0(vQ(wC(A))),{strict:!0,decode:(Q)=>vV(Q),encode:(Q)=>Q.length===1?Q[0]:Q})}function peA(A){return qQ(_0(A,F9(A)),F9(vQ(wC(A))),{strict:!0,decode:(Q)=>oB(Q)?Q:$0(Q),encode:(Q)=>Q.length===1?Q[0]:Q})}var H8A=(A)=>A?'"?:"':'":"';class Y6 extends _2{isReadonly;defaultValue;_tag="PropertySignatureDeclaration";constructor(A,Q,B,C,E){super(A,Q,C);this.isReadonly=B,this.defaultValue=E}toString(){let A=H8A(this.isOptional),Q=String(this.type);return`PropertySignature<${A}, ${Q}, never, ${A}, ${Q}>`}}class G6 extends _2{isReadonly;fromKey;constructor(A,Q,B,C,E){super(A,Q,C);this.isReadonly=B,this.fromKey=E}}class H9 extends _2{isReadonly;defaultValue;constructor(A,Q,B,C,E){super(A,Q,C);this.isReadonly=B,this.defaultValue=E}}var uiQ=(A)=>{if(A===void 0)return"never";if(cC(A))return JSON.stringify(A);return String(A)};class gZ{from;to;decode;encode;_tag="PropertySignatureTransformation";constructor(A,Q,B,C){this.from=A,this.to=Q,this.decode=B,this.encode=C}toString(){return`PropertySignature<${H8A(this.to.isOptional)}, ${this.to.type}, ${uiQ(this.from.fromKey)}, ${H8A(this.from.isOptional)}, ${this.from.type}>`}}var ceA=(A,Q)=>{switch(A._tag){case"PropertySignatureDeclaration":return new Y6(A.type,A.isOptional,A.isReadonly,{...A.annotations,...Q},A.defaultValue);case"PropertySignatureTransformation":return new gZ(A.from,new H9(A.to.type,A.to.isOptional,A.to.isReadonly,{...A.to.annotations,...Q},A.to.defaultValue),A.decode,A.encode)}},Tn=Symbol.for("effect/PropertySignature"),sS=(A)=>o(A,Tn);class qn{ast;[E4];[Tn]=null;_TypeToken;_Key;_EncodedToken;_HasDefault;constructor(A){this.ast=A}pipe(){return e(this,arguments)}annotations(A){return new qn(ceA(this.ast,J6(A)))}toString(){return String(this.ast)}}var W9=(A)=>new qn(A);class tS extends qn{from;constructor(A,Q){super(A);this.from=Q}annotations(A){return new tS(ceA(this.ast,J6(A)),this.from)}}var k3=(A)=>new tS(new Y6(A.ast,!1,!0,{},void 0),A),I6=F(2,(A,Q)=>{let B=A.ast;switch(B._tag){case"PropertySignatureDeclaration":return W9(new Y6(B.type,B.isOptional,B.isReadonly,B.annotations,Q));case"PropertySignatureTransformation":return W9(new gZ(B.from,new H9(B.to.type,B.to.isOptional,B.to.isReadonly,B.to.annotations,Q),B.decode,B.encode))}}),CeA=(A,Q)=>HA(A,{onNone:()=>j(Q()),onSome:(B)=>j(B===void 0?Q():B)}),ri=(A)=>uh(A,ri,(Q)=>{let B=ri(Q.to);if(B)return new kG(Q.from,B,Q.transformation)}),_8A=F(2,(A,Q)=>{let B=A.ast;switch(B._tag){case"PropertySignatureDeclaration":{let C=RC(B.type);return W9(new gZ(new G6(B.type,B.isOptional,B.isReadonly,B.annotations),new H9(ri(C)??C,!1,!0,{},B.defaultValue),(E)=>CeA(E,Q),s))}case"PropertySignatureTransformation":{let C=B.to.type;return W9(new gZ(B.from,new H9(ri(C)??C,!1,B.to.isReadonly,B.to.annotations,B.to.defaultValue),(E)=>CeA(B.decode(E),Q),B.encode))}}}),leA=F(2,(A,Q)=>A.pipe(_8A(Q.decoding),I6(Q.constructor))),ieA=F(2,(A,Q)=>{let B=A.ast;switch(B._tag){case"PropertySignatureDeclaration":return W9(new gZ(new G6(B.type,B.isOptional,B.isReadonly,B.annotations,Q),new H9(RC(B.type),B.isOptional,B.isReadonly,{},B.defaultValue),s,s));case"PropertySignatureTransformation":return W9(new gZ(new G6(B.from.type,B.from.isOptional,B.from.isReadonly,B.from.annotations,Q),B.to,B.decode,B.encode))}}),C4=(A,Q,B)=>W9(new gZ(new G6(A.ast,!0,!0,{},void 0),new H9(Q.ast,!1,!0,{},void 0),(C)=>j(B.decode(C)),qE(B.encode))),neA=(A,Q,B)=>W9(new gZ(new G6(A.ast,!1,!0,{},void 0),new H9(Q.ast,!0,!0,{},void 0),qE(B.decode),(C)=>j(B.encode(C)))),ai=(A,Q,B)=>W9(new gZ(new G6(A.ast,!0,!0,{},void 0),new H9(Q.ast,!0,!0,{},void 0),B.decode,B.encode)),piQ=(A,Q)=>{let B=Q?.exact,C=Q?.default,E=Q?.nullable,I=Q?.as=="Option",Y=Q?.onNoneEncoding?KI(Q.onNoneEncoding):s;if(B)if(C)if(E)return I6(C4(NO(A),vQ(A),{decode:HA({onNone:C,onSome:(G)=>G===null?C():G}),encode:j}),C).ast;else return I6(C4(A,vQ(A),{decode:HA({onNone:C,onSome:s}),encode:j}),C).ast;else if(I)if(E)return C4(NO(A),D2(vQ(A)),{decode:GU(bb),encode:Y}).ast;else return C4(A,D2(vQ(A)),{decode:s,encode:s}).ast;else if(E)return ai(NO(A),vQ(A),{decode:GU(bb),encode:s}).ast;else return new Y6(A.ast,!0,!0,{},void 0);else if(C)if(E)return I6(C4(ZO(A),vQ(A),{decode:HA({onNone:C,onSome:(G)=>G==null?C():G}),encode:j}),C).ast;else return I6(C4($W(A),vQ(A),{decode:HA({onNone:C,onSome:(G)=>G===void 0?C():G}),encode:j}),C).ast;else if(I)if(E)return C4(ZO(A),D2(vQ(A)),{decode:GU((G)=>G!=null),encode:Y}).ast;else return C4($W(A),D2(vQ(A)),{decode:GU(ZzA),encode:Y}).ast;else if(E)return ai(ZO(A),$W(vQ(A)),{decode:GU(bb),encode:s}).ast;else return new Y6($W(A).ast,!0,!0,{},void 0)},oeA=(A)=>{let Q=A.ast===gF||A.ast===Gz?gF:$W(A).ast;return new tS(new Y6(Q,!0,!0,{},void 0),A)},reA=F((A)=>ZI(A[0]),(A,Q)=>{return new tS(piQ(A,Q),A)}),ciQ=mh([uq]),liQ=(A,Q)=>{let B=T2(A),C=[];if(B.length>0){let I=[],Y=[],G=[];for(let J=0;J<B.length;J++){let D=B[J],U=A[D];if(sS(U)){let N=U.ast;switch(N._tag){case"PropertySignatureDeclaration":{let{type:Z,isOptional:X,annotations:W}=N;I.push(new AE(D,Z,X,!0,ciQ(N))),Y.push(new AE(D,RC(Z),X,!0,W)),C.push(new AE(D,Z,X,!0,W));break}case"PropertySignatureTransformation":{let Z=N.from.fromKey??D;I.push(new AE(Z,N.from.type,N.from.isOptional,!0,N.from.annotations)),Y.push(new AE(D,N.to.type,N.to.isOptional,!0,N.to.annotations)),G.push(new Xz(Z,D,N.decode,N.encode));break}}}else I.push(new AE(D,U.ast,!1,!0)),Y.push(new AE(D,RC(U.ast),!1,!0)),C.push(new AE(D,U.ast,!1,!0))}if(oB(G)){let J=[],D=[];for(let U of Q){let{indexSignatures:N,propertySignatures:Z}=hh(U.key.ast,U.value.ast);Z.forEach((X)=>{I.push(X),Y.push(new AE(X.name,RC(X.type),X.isOptional,X.isReadonly,X.annotations))}),N.forEach((X)=>{J.push(X),D.push(new y1(X.parameter,RC(X.type),X.isReadonly))})}return new kG(new IG(I,J,{[g1]:"Struct (Encoded side)"}),new IG(Y,D,{[g1]:"Struct (Type side)"}),new b1(G))}}let E=[];for(let I of Q){let{indexSignatures:Y,propertySignatures:G}=hh(I.key.ast,I.value.ast);G.forEach((J)=>C.push(J)),Y.forEach((J)=>E.push(J))}return new IG(C,E)},aeA=(A,Q)=>{let B=T2(A);for(let C of B){let E=A[C];if(Q[C]===void 0&&sS(E)){let I=E.ast,Y=I._tag==="PropertySignatureDeclaration"?I.defaultValue:I.to.defaultValue;if(Y!==void 0)Q[C]=Y()}}return Q};function j8A(A,Q,B=liQ(A,Q)){return class C extends $B(B){static annotations(E){return j8A(this.fields,this.records,gD(this.ast,E))}static fields={...A};static records=[...Q];static make=(E,I)=>{let Y=aeA(A,{...E});return Co(I)?Y:B6(this)(Y)};static pick(...E){return hB(AeA(A,...E))}static omit(...E){return hB(li(A,...E))}}}function hB(A,...Q){return j8A(A,Q)}var x8A=(A)=>J0(A).pipe(k3,I6(()=>A)),i2=(A,Q)=>hB({_tag:x8A(A),...Q});function seA(A,Q,B){return class C extends j8A({},[{key:A,value:Q}],B){static annotations(E){return seA(A,Q,gD(this.ast,E))}static key=A;static value=Q}}var $O=(A)=>seA(A.key,A.value),S8A=(...A)=>(Q)=>$B(jN(Q.ast,A)),teA=(...A)=>(Q)=>$B(Z0A(Q.ast,A)),eeA=F(2,(A,Q)=>{let B=S1(RC(A.ast),Q),C=$B(B.isOptional?Qz(B.type):B.type);return qQ(A.pipe(S8A(Q)),C,{strict:!0,decode:(I)=>I[Q],encode:(I)=>B.isOptional&&I===void 0?{}:{[Q]:I}})});function g8A(A,Q){return class B extends $B(Q){static annotations(C){return g8A(this.from,gD(this.ast,C))}static make=(C,E)=>{return Co(E)?C:B6(this)(C)};static from=A}}var vZ=(A,Q)=>(B)=>{let C=HA(Th(B.ast),{onNone:()=>[A],onSome:(I)=>[...I,A]}),E=XU(B.ast,J6({[Vh]:C,...Q}));return g8A(B,E)},AAQ=(A)=>$B(xF(A.ast)),QAQ=F((A)=>ZI(A[0]),(A,Q)=>$B(xF(A.ast,Q))),BAQ=(A)=>$B(hV(A.ast)),v8A=(A)=>$B(jF(A.ast)),fS=(A,Q,B)=>{if(kh(A)&&kh(Q)){let C=[...A.propertySignatures];for(let E of Q.propertySignatures){let I=E.name,Y=C.findIndex((G)=>G.name===I);if(Y===-1)C.push(E);else{let{isOptional:G,type:J}=C[Y];C[Y]=new AE(I,si(J,E.type,B.concat(I)),G,!0)}}return new IG(C,A.indexSignatures.concat(Q.indexSignatures))}throw new Error(OBA(A,Q,B))},iiQ=F0A([mV]),dS=(A,Q)=>Q.map((B)=>new k1(B,A.filter,iiQ(A))),si=(A,Q,B)=>kC.make(E6([A],[Q],B)),y3=(A)=>kF(A)?A.types:[A],E6=(A,Q,B)=>EX(A,(C)=>EX(Q,(E)=>{switch(E._tag){case"Literal":{if(cC(E.literal)&&Dz(C)||BG(E.literal)&&Sh(C)||SG(E.literal)&&gh(C))return[E];break}case"StringKeyword":{if(E===Jz){if(Dz(C)||R8(C)&&cC(C.literal))return[C];else if(GX(C))return dS(C,E6(y3(C.from),[E],B))}else if(C===Jz)return[E];break}case"NumberKeyword":{if(E===Uz){if(Sh(C)||R8(C)&&BG(C.literal))return[C];else if(GX(C))return dS(C,E6(y3(C.from),[E],B))}else if(C===Uz)return[E];break}case"BooleanKeyword":{if(E===Nz){if(gh(C)||R8(C)&&SG(C.literal))return[C];else if(GX(C))return dS(C,E6(y3(C.from),[E],B))}else if(C===Nz)return[E];break}case"Union":return E6(y3(C),E.types,B);case"Suspend":return[new gN(()=>si(C,E.f(),B))];case"Refinement":return dS(E,E6(y3(C),y3(E.from),B));case"TypeLiteral":{switch(C._tag){case"Union":return E6(C.types,[E],B);case"Suspend":return[new gN(()=>si(C.f(),E,B))];case"Refinement":return dS(C,E6(y3(C.from),[E],B));case"TypeLiteral":return[fS(C,E,B)];case"Transformation":{let I=C.transformation,Y=fS(C.from,E,B),G=fS(C.to,RC(E),B);switch(I._tag){case"TypeLiteralTransformation":return[new kG(Y,G,new b1(I.propertySignatureTransformations))];case"ComposeTransformation":return[new kG(Y,G,AP)];case"FinalTransformation":return[new kG(Y,G,new eq((J,D,U,N)=>zG(I.decode(J,D,U,N),(Z)=>({...J,...Z})),(J,D,U,N)=>zG(I.encode(J,D,U,N),(Z)=>({...J,...Z}))))]}}}break}case"Transformation":{if(bh(C)){if(pV(E.transformation)&&pV(C.transformation))return[new kG(fS(C.from,E.from,B),fS(C.to,E.to,B),new b1(E.transformation.propertySignatureTransformations.concat(C.transformation.propertySignatureTransformations)))]}else return E6([E],[C],B);break}}throw new Error(OBA(C,E,B))})),zO=F(2,(A,Q)=>$B(si(A.ast,Q.ast,[]))),FO=F((A)=>ZI(A[1]),(A,Q)=>y8A(A,Q,dh(A.ast,Q.ast))),pS=(A)=>$B(new gN(()=>A().ast)),Pn=Symbol.for("effect/SchemaId/Refine");function CAQ(A,Q,B){return class C extends $B(B){static annotations(E){return CAQ(this.from,this.filter,gD(this.ast,E))}static[Pn]=A;static from=A;static filter=Q;static make=(E,I)=>{return Co(I)?E:B6(this)(E)}}}var EeA=(A,Q,B)=>{if(SG(A))return A?x():j(new JB(Q,B));if(cC(A))return j(new JB(Q,B,A));if(A!==void 0){if("_tag"in A)return j(A);let C=new JB(Q,B,A.message);return j(oB(A.path)?new iY(A.path,B,C):C)}return x()},EAQ=(A,Q,B)=>{if(pwA(A))return EeA(A,Q,B);if(oB(A)){let C=z8(A,(E)=>EeA(E,Q,B));if(oB(C))return j(C.length===1?C[0]:new DI(Q,B,C))}return x()};function NB(A,Q){return(B)=>{function C(I,Y,G){return EAQ(A(I,Y,G),G,I)}let E=new k1(B.ast,C,J6(Q));return CAQ(B,C,E)}}var IAQ=F(2,(A,Q)=>dC(A,vQ(A),{strict:!0,decode:(B,C,E)=>qD(Q(B,C,E),(I)=>HA(EAQ(I,E,B),{onNone:()=>L0(B),onSome:OE})),encode:(B)=>L0(B)}));function y8A(A,Q,B){return class C extends $B(B){static annotations(E){return y8A(this.from,this.to,gD(this.ast,E))}static from=A;static to=Q}}var dC=F((A)=>ZI(A[0])&&ZI(A[1]),(A,Q,B)=>y8A(A,Q,new kG(A.ast,Q.ast,new eq(B.decode,B.encode)))),qQ=F((A)=>ZI(A[0])&&ZI(A[1]),(A,Q,B)=>dC(A,Q,{strict:!0,decode:(C,E,I,Y)=>L0(B.decode(C,Y)),encode:(C,E,I,Y)=>L0(B.encode(C,Y))}));function k8A(A,Q){return qQ(J0(A),J0(Q),{strict:!0,decode:()=>Q,encode:()=>A})}function YAQ(...A){return _0(...A.map(([Q,B])=>k8A(Q,B)))}var GAQ=F((A)=>ZI(A[0]),(A,Q,B,C)=>{let E=zO(vQ(A),hB({[Q]:CU(B)?R8A(B):J0(B)})).ast;return $B(new kG(A.ast,C?gD(E,C):E,new b1([new Xz(Q,Q,()=>j(B),()=>x())])))}),wO=F(2,(A,Q)=>A.annotations(Q)),JAQ=F(2,(A,Q)=>$B(Bz(A.ast,Q))),b8A=Symbol.for("effect/SchemaId/Trimmed"),h8A=(A)=>(Q)=>Q.pipe(NB((B)=>B===B.trim(),{schemaId:b8A,title:"trimmed",description:"a string with no leading or trailing whitespace",jsonSchema:{pattern:"^\\S[\\s\\S]*\\S$|^\\S$|^$"},...A})),m8A=FLA,DAQ=(A,Q)=>(B)=>B.pipe(NB((C)=>C.length<=A,{schemaId:m8A,title:`maxLength(${A})`,description:`a string at most ${A} character(s) long`,jsonSchema:{maxLength:A},...Q})),f8A=XLA,d8A=(A,Q)=>(B)=>B.pipe(NB((C)=>C.length>=A,{schemaId:f8A,title:`minLength(${A})`,description:`a string at least ${A} character(s) long`,jsonSchema:{minLength:A},...Q})),ti=HLA,u8A=(A,Q)=>(B)=>{let C=vY(A)?Math.max(0,Math.floor(A.min)):Math.max(0,Math.floor(A)),E=vY(A)?Math.max(C,Math.floor(A.max)):C;if(C!==E)return B.pipe(NB((I)=>I.length>=C&&I.length<=E,{schemaId:ti,title:`length({ min: ${C}, max: ${E})`,description:`a string at least ${C} character(s) and at most ${E} character(s) long`,jsonSchema:{minLength:C,maxLength:E},...Q}));return B.pipe(NB((I)=>I.length===C,{schemaId:ti,title:`length(${C})`,description:C===1?"a single character":`a string ${C} character(s) long`,jsonSchema:{minLength:C,maxLength:C},...Q}))},ei=Symbol.for("effect/SchemaId/Pattern"),_n=(A,Q)=>(B)=>{let C=A.source;return B.pipe(NB((E)=>{return A.lastIndex=0,A.test(E)},{schemaId:ei,[ei]:{regex:A},description:`a string matching the pattern ${C}`,jsonSchema:{pattern:C},...Q}))},An=Symbol.for("effect/SchemaId/StartsWith"),UAQ=(A,Q)=>(B)=>{let C=JSON.stringify(A);return B.pipe(NB((E)=>E.startsWith(A),{schemaId:An,[An]:{startsWith:A},title:`startsWith(${C})`,description:`a string starting with ${C}`,jsonSchema:{pattern:`^${A}`},...Q}))},Qn=Symbol.for("effect/SchemaId/EndsWith"),NAQ=(A,Q)=>(B)=>{let C=JSON.stringify(A);return B.pipe(NB((E)=>E.endsWith(A),{schemaId:Qn,[Qn]:{endsWith:A},title:`endsWith(${C})`,description:`a string ending with ${C}`,jsonSchema:{pattern:`^.*${A}$`},...Q}))},Bn=Symbol.for("effect/SchemaId/Includes"),ZAQ=(A,Q)=>(B)=>{let C=JSON.stringify(A);return B.pipe(NB((E)=>E.includes(A),{schemaId:Bn,[Bn]:{includes:A},title:`includes(${C})`,description:`a string including ${C}`,jsonSchema:{pattern:`.*${A}.*`},...Q}))},p8A=Symbol.for("effect/SchemaId/Lowercased"),c8A=(A)=>(Q)=>Q.pipe(NB((B)=>B===B.toLowerCase(),{schemaId:p8A,title:"lowercased",description:"a lowercase string",jsonSchema:{pattern:"^[^A-Z]*$"},...A}));class jn extends lQ.pipe(c8A({identifier:"Lowercased"})){}var l8A=Symbol.for("effect/SchemaId/Uppercased"),i8A=(A)=>(Q)=>Q.pipe(NB((B)=>B===B.toUpperCase(),{schemaId:l8A,title:"uppercased",description:"an uppercase string",jsonSchema:{pattern:"^[^a-z]*$"},...A}));class xn extends lQ.pipe(i8A({identifier:"Uppercased"})){}var n8A=Symbol.for("effect/SchemaId/Capitalized"),o8A=(A)=>(Q)=>Q.pipe(NB((B)=>B[0]?.toUpperCase()===B[0],{schemaId:n8A,title:"capitalized",description:"a capitalized string",jsonSchema:{pattern:"^[^a-z]?.*$"},...A}));class Sn extends lQ.pipe(o8A({identifier:"Capitalized"})){}var r8A=Symbol.for("effect/SchemaId/Uncapitalized"),a8A=(A)=>(Q)=>Q.pipe(NB((B)=>B[0]?.toLowerCase()===B[0],{schemaId:r8A,title:"uncapitalized",description:"a uncapitalized string",jsonSchema:{pattern:"^[^A-Z]?.*$"},...A}));class gn extends lQ.pipe(a8A({identifier:"Uncapitalized"})){}class s8A extends lQ.pipe(u8A(1,{identifier:"Char"})){}var vn=(A)=>d8A(1,{title:"nonEmptyString",description:"a non empty string",...A});class t8A extends qQ(lQ.annotations({description:"a string that will be converted to lowercase"}),jn,{strict:!0,decode:(A)=>A.toLowerCase(),encode:s}).annotations({identifier:"Lowercase"}){}class e8A extends qQ(lQ.annotations({description:"a string that will be converted to uppercase"}),xn,{strict:!0,decode:(A)=>A.toUpperCase(),encode:s}).annotations({identifier:"Uppercase"}){}class A9A extends qQ(lQ.annotations({description:"a string that will be converted to a capitalized format"}),Sn,{strict:!0,decode:(A)=>VyA(A),encode:s}).annotations({identifier:"Capitalize"}){}class Q9A extends qQ(lQ.annotations({description:"a string that will be converted to an uncapitalized format"}),gn,{strict:!0,decode:(A)=>MyA(A),encode:s}).annotations({identifier:"Uncapitalize"}){}class eS extends lQ.pipe(h8A({identifier:"Trimmed"})){}class J4 extends eS.pipe(vn({identifier:"NonEmptyTrimmedString"})){}class B9A extends qQ(lQ.annotations({description:"a string that will be trimmed"}),eS,{strict:!0,decode:(A)=>A.trim(),encode:s}).annotations({identifier:"Trim"}){}var XAQ=(A)=>qQ(lQ.annotations({description:"a string that will be split"}),Z0(lQ),{strict:!0,decode:(Q)=>Q.split(A),encode:(Q)=>Q.join(A)}),W8A=(A)=>A instanceof Error?A.message:String(A),niQ=(A)=>dC(lQ.annotations({description:"a string to be decoded into JSON"}),rU,{strict:!0,decode:(Q,B,C)=>KW({try:()=>JSON.parse(Q,A?.reviver),catch:(E)=>new JB(C,Q,W8A(E))}),encode:(Q,B,C)=>KW({try:()=>JSON.stringify(Q,A?.replacer,A?.space),catch:(E)=>new JB(C,Q,W8A(E))})}).annotations({title:"parseJson",schemaId:_h}),D4=(A,Q)=>ZI(A)?FO(D4(Q),A):niQ(A);class Ag extends lQ.pipe(vn({identifier:"NonEmptyString"})){}var C9A=Symbol.for("effect/SchemaId/UUID"),IeA=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i;class E9A extends lQ.pipe(_n(IeA,{schemaId:C9A,identifier:"UUID",jsonSchema:{format:"uuid",pattern:IeA.source},description:"a Universally Unique Identifier",arbitrary:()=>(A)=>A.uuid()})){}var I9A=Symbol.for("effect/SchemaId/ULID"),oiQ=/^[0-7][0-9A-HJKMNP-TV-Z]{25}$/i;class Y9A extends lQ.pipe(_n(oiQ,{schemaId:I9A,identifier:"ULID",description:"a Universally Unique Lexicographically Sortable Identifier",arbitrary:()=>(A)=>A.ulid()})){}class yn extends P8A(URL,{identifier:"URLFromSelf",arbitrary:()=>(A)=>A.webUrl().map((Q)=>new URL(Q)),pretty:()=>(A)=>A.toString()}){}class G9A extends dC(lQ.annotations({description:"a string to be decoded into a URL"}),yn,{strict:!0,decode:(A,Q,B)=>KW({try:()=>new URL(A),catch:(C)=>new JB(B,A,`Unable to decode ${JSON.stringify(A)} into a URL. ${W8A(C)}`)}),encode:(A)=>L0(A.toString())}).annotations({identifier:"URL",pretty:()=>(A)=>A.toString()}){}var J9A=ILA,kn=(A)=>(Q)=>Q.pipe(NB(Number.isFinite,{schemaId:J9A,title:"finite",description:"a finite number",jsonSchema:{type:"number"},...A})),D9A=ALA,U9A=(A,Q)=>(B)=>B.pipe(NB((C)=>C>A,{schemaId:D9A,title:`greaterThan(${A})`,description:A===0?"a positive number":`a number greater than ${A}`,jsonSchema:{exclusiveMinimum:A},...Q})),N9A=QLA,Z9A=(A,Q)=>(B)=>B.pipe(NB((C)=>C>=A,{schemaId:N9A,title:`greaterThanOrEqualTo(${A})`,description:A===0?"a non-negative number":`a number greater than or equal to ${A}`,jsonSchema:{minimum:A},...Q})),X9A=Symbol.for("effect/SchemaId/MultipleOf"),FAQ=(A,Q)=>(B)=>{let C=Math.abs(A);return B.pipe(NB((E)=>zLA(E,A)===0,{schemaId:X9A,title:`multipleOf(${C})`,description:`a number divisible by ${C}`,jsonSchema:{multipleOf:C},...Q}))},F9A=ELA,Qg=(A)=>(Q)=>Q.pipe(NB((B)=>Number.isSafeInteger(B),{schemaId:F9A,title:"int",description:"an integer",jsonSchema:{type:"integer"},...A})),H9A=BLA,W9A=(A,Q)=>(B)=>B.pipe(NB((C)=>C<A,{schemaId:H9A,title:`lessThan(${A})`,description:A===0?"a negative number":`a number less than ${A}`,jsonSchema:{exclusiveMaximum:A},...Q})),K9A=CLA,V9A=(A,Q)=>(B)=>B.pipe(NB((C)=>C<=A,{schemaId:K9A,title:`lessThanOrEqualTo(${A})`,description:A===0?"a non-positive number":`a number less than or equal to ${A}`,jsonSchema:{maximum:A},...Q})),M9A=GLA,bn=(A,Q,B)=>(C)=>C.pipe(NB((E)=>E>=A&&E<=Q,{schemaId:M9A,title:`between(${A}, ${Q})`,description:`a number between ${A} and ${Q}`,jsonSchema:{minimum:A,maximum:Q},...B})),$9A=PBA,z9A=(A)=>(Q)=>Q.pipe(NB((B)=>!Number.isNaN(B),{schemaId:$9A,title:"nonNaN",description:"a number excluding NaN",...A})),w9A=(A)=>U9A(0,{title:"positive",...A}),L9A=(A)=>W9A(0,{title:"negative",...A}),O9A=(A)=>V9A(0,{title:"nonPositive",...A}),R9A=(A)=>Z9A(0,{title:"nonNegative",...A}),HAQ=(A,Q)=>(B)=>{return qQ(B,vQ(B).pipe(bn(A,Q)),{strict:!1,decode:(C)=>$LA(C,{minimum:A,maximum:Q}),encode:s})};function T9A(A){return dC(A,TI,{strict:!1,decode:(Q,B,C)=>QO(LLA(Q),()=>new JB(C,Q,`Unable to decode ${JSON.stringify(Q)} into a number`)),encode:(Q)=>L0(String(Q))})}class LO extends T9A(lQ.annotations({description:"a string to be decoded into a number"})).annotations({identifier:"NumberFromString"}){}class q9A extends TI.pipe(kn({identifier:"Finite"})){}class SD extends TI.pipe(Qg({identifier:"Int"})){}class P9A extends TI.pipe(z9A({identifier:"NonNaN"})){}class _9A extends TI.pipe(w9A({identifier:"Positive"})){}class j9A extends TI.pipe(L9A({identifier:"Negative"})){}class x9A extends TI.pipe(O9A({identifier:"NonPositive"})){}class Bg extends TI.pipe(R9A({identifier:"NonNegative"})){}var S9A=YLA;class g9A extends TI.pipe(kn({schemaId:S9A,identifier:"JsonNumber"})){}class v9A extends qQ(jD.annotations({description:"a boolean that will be negated"}),jD,{strict:!0,decode:(A)=>BP(A),encode:(A)=>BP(A)}){}var WAQ=(A,Q)=>{let B=Symbol.keyFor(A);return B===void 0?OE(new JB(Q,A,`Unable to encode a unique symbol ${String(A)} into a string`)):L0(B)},KAQ=(A)=>L0(Symbol.for(A));class y9A extends dC(lQ.annotations({description:"a string to be decoded into a globally shared symbol"}),aS,{strict:!1,decode:(A)=>KAQ(A),encode:(A,Q,B)=>WAQ(A,B)}).annotations({identifier:"Symbol"}){}var Cn=JLA,k9A=(A,Q)=>(B)=>B.pipe(NB((C)=>C>A,{schemaId:Cn,[Cn]:{min:A},title:`greaterThanBigInt(${A})`,description:A===0n?"a positive bigint":`a bigint greater than ${A}n`,...Q})),En=DLA,b9A=(A,Q)=>(B)=>B.pipe(NB((C)=>C>=A,{schemaId:En,[En]:{min:A},title:`greaterThanOrEqualToBigInt(${A})`,description:A===0n?"a non-negative bigint":`a bigint greater than or equal to ${A}n`,...Q})),In=ULA,h9A=(A,Q)=>(B)=>B.pipe(NB((C)=>C<A,{schemaId:In,[In]:{max:A},title:`lessThanBigInt(${A})`,description:A===0n?"a negative bigint":`a bigint less than ${A}n`,...Q})),Yn=NLA,m9A=(A,Q)=>(B)=>B.pipe(NB((C)=>C<=A,{schemaId:Yn,[Yn]:{max:A},title:`lessThanOrEqualToBigInt(${A})`,description:A===0n?"a non-positive bigint":`a bigint less than or equal to ${A}n`,...Q})),Gn=ZLA,hn=(A,Q,B)=>(C)=>C.pipe(NB((E)=>E>=A&&E<=Q,{schemaId:Gn,[Gn]:{min:A,max:Q},title:`betweenBigInt(${A}, ${Q})`,description:`a bigint between ${A}n and ${Q}n`,...B})),mn=(A)=>k9A(0n,{title:"positiveBigInt",...A}),fn=(A)=>h9A(0n,{title:"negativeBigInt",...A}),dn=(A)=>b9A(0n,{title:"nonNegativeBigInt",...A}),un=(A)=>m9A(0n,{title:"nonPositiveBigInt",...A}),VAQ=(A,Q)=>(B)=>qQ(B,B.pipe(vQ,hn(A,Q)),{strict:!1,decode:(C)=>AOA(C,{minimum:A,maximum:Q}),encode:s});class U4 extends dC(lQ.annotations({description:"a string to be decoded into a bigint"}),G4,{strict:!0,decode:(A,Q,B)=>QO(BOA(A),()=>new JB(B,A,`Unable to decode ${JSON.stringify(A)} into a bigint`)),encode:(A)=>L0(String(A))}).annotations({identifier:"BigInt"}){}var MAQ=G4.pipe(mn({identifier:"PositiveBigintFromSelf"})),$AQ=U4.pipe(mn({identifier:"PositiveBigint"})),zAQ=G4.pipe(fn({identifier:"NegativeBigintFromSelf"})),wAQ=U4.pipe(fn({identifier:"NegativeBigint"})),LAQ=G4.pipe(un({identifier:"NonPositiveBigintFromSelf"})),OAQ=U4.pipe(un({identifier:"NonPositiveBigint"})),f9A=G4.pipe(dn({identifier:"NonNegativeBigintFromSelf"})),RAQ=U4.pipe(dn({identifier:"NonNegativeBigint"}));class d9A extends dC(TI.annotations({description:"a number to be decoded into a bigint"}),G4.pipe(hn(BigInt(Number.MIN_SAFE_INTEGER),BigInt(Number.MAX_SAFE_INTEGER))),{strict:!0,decode:(A,Q,B)=>QO(COA(A),()=>new JB(B,A,`Unable to decode ${A} into a bigint`)),encode:(A,Q,B)=>QO(QOA(A),()=>new JB(B,A,`Unable to encode ${A}n into a number`))}).annotations({identifier:"BigIntFromNumber"}){}var riQ=(A)=>(Q)=>A(Q).map(Z9),U2=(A,Q,B,C)=>xZA(A,{onFailure:(E)=>new DI(B,C,E),onSuccess:Q}),YeA=(A)=>(Q,B,C)=>U8A(Q)?U2(A(C6(Q),B),Z9,C,Q):OE(new JB(C,Q)),u9A=(A)=>K0([A],{decode:(Q)=>YeA(UI(Q)),encode:(Q)=>YeA(NI(Q))},{description:"Redacted(<redacted>)",pretty:()=>()=>"Redacted(<redacted>)",arbitrary:riQ,equivalence:N8A});function TAQ(A){return qQ(A,u9A(vQ(wC(A))),{strict:!0,decode:(Q)=>Z9(Q),encode:(Q)=>C6(Q)})}class OO extends K0(XP,{identifier:"DurationFromSelf",pretty:()=>String,arbitrary:()=>(A)=>A.oneof(A.constant(pF),A.bigInt({min:0n}).map((Q)=>mN(Q)),A.maxSafeNat().map((Q)=>lC(Q))),equivalence:()=>eh}){}class p9A extends dC(f9A.annotations({description:"a bigint to be decoded into a Duration"}),OO.pipe(NB((A)=>uF(A),{description:"a finite duration"})),{strict:!0,decode:(A)=>L0(mN(A)),encode:(A,Q,B)=>HA(p0A(A),{onNone:()=>OE(new JB(B,A,`Unable to encode ${A} into a bigint`)),onSome:(C)=>L0(C)})}).annotations({identifier:"DurationFromNanos"}){}var cS=Bg.pipe(Qg()).annotations({identifier:"NonNegativeInt"});class c9A extends qQ(Bg.annotations({description:"a non-negative number to be decoded into a Duration"}),OO,{strict:!0,decode:(A)=>lC(A),encode:(A)=>b0(A)}).annotations({identifier:"DurationFromMillis"}){}var qAQ=i2("Millis",{millis:cS}),PAQ=i2("Nanos",{nanos:U4}),_AQ=i2("Infinity",{}),aiQ=_AQ.make({}),siQ=_0(qAQ,PAQ,_AQ).annotations({identifier:"DurationValue",description:"an JSON-compatible tagged union to be decoded into a Duration"}),tiQ=xD(oi(cS).annotations({title:"seconds"}),oi(cS).annotations({title:"nanos"})).annotations({identifier:"FiniteHRTime"}),eiQ=xD(J0(-1),J0(0)).annotations({identifier:"InfiniteHRTime"}),AnQ=_0(tiQ,eiQ).annotations({identifier:"HRTime",description:"a tuple of seconds and nanos to be decoded into a Duration"}),QnQ=(A)=>typeof A==="object";class l9A extends qQ(_0(siQ,AnQ),OO,{strict:!0,decode:(A)=>{if(QnQ(A))switch(A._tag){case"Millis":return lC(A.millis);case"Nanos":return mN(A.nanos);case"Infinity":return pF}let[Q,B]=A;return Q===-1?pF:mN(BigInt(Q)*BigInt(1e9)+BigInt(B))},encode:(A)=>{switch(A.value._tag){case"Millis":return qAQ.make({millis:A.value.millis});case"Nanos":return PAQ.make({nanos:A.value.nanos});case"Infinity":return aiQ}}}).annotations({identifier:"Duration"}){}var jAQ=(A,Q)=>(B)=>qQ(B,B.pipe(vQ,i9A(A,Q)),{strict:!1,decode:(C)=>l0A(C,{minimum:A,maximum:Q}),encode:s}),HO=Symbol.for("effect/SchemaId/LessThanDuration"),xAQ=(A,Q)=>(B)=>B.pipe(NB((C)=>HP(C,A),{schemaId:HO,[HO]:{max:A},title:`lessThanDuration(${A})`,description:`a Duration less than ${cQ(A)}`,...Q})),SAQ=Symbol.for("effect/schema/LessThanOrEqualToDuration"),gAQ=(A,Q)=>(B)=>B.pipe(NB((C)=>WP(C,A),{schemaId:HO,[HO]:{max:A},title:`lessThanOrEqualToDuration(${A})`,description:`a Duration less than or equal to ${cQ(A)}`,...Q})),Jn=Symbol.for("effect/SchemaId/GreaterThanDuration"),vAQ=(A,Q)=>(B)=>B.pipe(NB((C)=>KP(C,A),{schemaId:Jn,[Jn]:{min:A},title:`greaterThanDuration(${A})`,description:`a Duration greater than ${cQ(A)}`,...Q})),Dn=Symbol.for("effect/schema/GreaterThanOrEqualToDuration"),yAQ=(A,Q)=>(B)=>B.pipe(NB((C)=>nV(C,A),{schemaId:Dn,[Dn]:{min:A},title:`greaterThanOrEqualToDuration(${A})`,description:`a Duration greater than or equal to ${cQ(A)}`,...Q})),Un=Symbol.for("effect/SchemaId/BetweenDuration"),i9A=(A,Q,B)=>(C)=>C.pipe(NB((E)=>c0A(E,{minimum:A,maximum:Q}),{schemaId:Un,[Un]:{maximum:Q,minimum:A},title:`betweenDuration(${A}, ${Q})`,description:`a Duration between ${cQ(A)} and ${cQ(Q)}`,...B}));class D6 extends K0(HzA,{identifier:"Uint8ArrayFromSelf",pretty:()=>(A)=>`new Uint8Array(${JSON.stringify(Array.from(A))})`,arbitrary:()=>(A)=>A.uint8Array(),equivalence:()=>WJ(JA)}){}class pn extends TI.pipe(bn(0,255,{identifier:"Uint8",description:"a 8-bit unsigned integer"})){}class n9A extends qQ(Z0(pn).annotations({description:"an array of 8-bit unsigned integers to be decoded into a Uint8Array"}),D6,{strict:!0,decode:(A)=>Uint8Array.from(A),encode:(A)=>Array.from(A)}).annotations({identifier:"Uint8Array"}){}var o9A=(A,Q,B)=>dC(lQ.annotations({description:"a string to be decoded into a Uint8Array"}),D6,{strict:!0,decode:(C,E,I)=>$8(Q(C),(Y)=>new JB(I,C,Y.message)),encode:(C)=>L0(B(C))}).annotations({identifier:A}),kAQ=o9A("Uint8ArrayFromBase64",$S,nL),bAQ=o9A("Uint8ArrayFromBase64Url",FZA,XZA),hAQ=o9A("Uint8ArrayFromHex",WZA,HZA),r9A=(A,Q,B)=>dC(lQ.annotations({description:`A string that is interpreted as being ${A}-encoded and will be decoded into a UTF-8 string`}),lQ,{strict:!0,decode:(C,E,I)=>$8(Q(C),(Y)=>new JB(I,C,Y.message)),encode:(C)=>L0(B(C))}).annotations({identifier:`StringFrom${A}`}),mAQ=r9A("Base64",ZZA,nL),fAQ=r9A("Base64Url",maA,XZA),dAQ=r9A("Hex",faA,HZA),uAQ=dC(lQ.annotations({description:"A string that is interpreted as being UriComponent-encoded and will be decoded into a UTF-8 string"}),lQ,{strict:!0,decode:(A,Q,B)=>$8(uaA(A),(C)=>new JB(B,A,C.message)),encode:(A,Q,B)=>$8(daA(A),(C)=>new JB(B,A,C.message))}).annotations({identifier:"StringFromUriComponent"}),a9A=WLA,pAQ=(A,Q)=>(B)=>{let C=Math.floor(A);if(C<1)throw new Error(Fh(`Expected an integer greater than or equal to 1, actual ${A}`));return B.pipe(NB((E)=>E.length>=C,{schemaId:a9A,title:`minItems(${C})`,description:`an array of at least ${C} item(s)`,jsonSchema:{minItems:C},[Iz]:!0,...Q}))},s9A=KLA,cAQ=(A,Q)=>(B)=>{let C=Math.floor(A);if(C<1)throw new Error(Fh(`Expected an integer greater than or equal to 1, actual ${A}`));return B.pipe(NB((E)=>E.length<=C,{schemaId:s9A,title:`maxItems(${C})`,description:`an array of at most ${C} item(s)`,jsonSchema:{maxItems:C},[Iz]:!0,...Q}))},t9A=VLA,e9A=(A,Q)=>(B)=>{let C=Math.floor(A);if(C<0)throw new Error(Fh(`Expected an integer greater than or equal to 0, actual ${A}`));return B.pipe(NB((E)=>E.length===C,{schemaId:t9A,title:`itemsCount(${C})`,description:`an array of exactly ${C} item(s)`,jsonSchema:{minItems:C,maxItems:C},[Iz]:!0,...Q}))},Cg=(A)=>$B(Az(A.ast));function lAQ(A){return qQ(A,D2(Cg(vQ(A))),{strict:!1,decode:(Q)=>UU(Q),encode:(Q)=>HA(Q,{onNone:()=>[],onSome:$0})})}function iAQ(A){return qQ(A,Cg(vQ(A)),{strict:!1,decode:(Q)=>jI(Q),encode:(Q)=>$0(Q)})}var nAQ=F((A)=>ZI(A[0]),(A,Q)=>dC(A,Cg(vQ(A)),{strict:!0,decode:(B,C,E)=>B.length>0?L0(B[0]):Q?L0(Q()):OE(new JB(E,B,"Unable to retrieve the first element of an empty array")),encode:(B)=>L0($0(B))})),Nn=Symbol.for("effect/SchemaId/ValidDate"),cn=(A)=>(Q)=>Q.pipe(NB((B)=>!Number.isNaN(B.getTime()),{schemaId:Nn,[Nn]:{noInvalidDate:!0},title:"validDate",description:"a valid Date",...A})),WO=Symbol.for("effect/SchemaId/LessThanDate"),oAQ=(A,Q)=>(B)=>B.pipe(NB((C)=>C<A,{schemaId:WO,[WO]:{max:A},title:`lessThanDate(${q2(A)})`,description:`a date before ${q2(A)}`,...Q})),rAQ=Symbol.for("effect/schema/LessThanOrEqualToDate"),aAQ=(A,Q)=>(B)=>B.pipe(NB((C)=>C<=A,{schemaId:WO,[WO]:{max:A},title:`lessThanOrEqualToDate(${q2(A)})`,description:`a date before or equal to ${q2(A)}`,...Q})),Zn=Symbol.for("effect/SchemaId/GreaterThanDate"),sAQ=(A,Q)=>(B)=>B.pipe(NB((C)=>C>A,{schemaId:Zn,[Zn]:{min:A},title:`greaterThanDate(${q2(A)})`,description:`a date after ${q2(A)}`,...Q})),Xn=Symbol.for("effect/schema/GreaterThanOrEqualToDate"),tAQ=(A,Q)=>(B)=>B.pipe(NB((C)=>C>=A,{schemaId:Xn,[Xn]:{min:A},title:`greaterThanOrEqualToDate(${q2(A)})`,description:`a date after or equal to ${q2(A)}`,...Q})),Fn=Symbol.for("effect/SchemaId/BetweenDate"),eAQ=(A,Q,B)=>(C)=>C.pipe(NB((E)=>E<=Q&&E>=A,{schemaId:Fn,[Fn]:{max:Q,min:A},title:`betweenDate(${q2(A)}, ${q2(Q)})`,description:`a date between ${q2(A)} and ${q2(Q)}`,...B})),Hn=qBA;class m3 extends K0($V,{identifier:"DateFromSelf",schemaId:Hn,[Hn]:{noInvalidDate:!1},description:"a potentially invalid Date instance",pretty:()=>(A)=>`new Date(${JSON.stringify(A)})`,arbitrary:()=>(A)=>A.date({noInvalidDate:!1}),equivalence:()=>GzA}){}class AXA extends m3.pipe(cn({identifier:"ValidDateFromSelf",description:"a valid Date instance"})){}class ln extends qQ(lQ.annotations({description:"a string to be decoded into a Date"}),m3,{strict:!0,decode:(A)=>new Date(A),encode:(A)=>q2(A)}).annotations({identifier:"DateFromString"}){}class nn extends ln.pipe(cn({identifier:"Date"})){}class QXA extends qQ(TI.annotations({description:"a number to be decoded into a Date"}),m3,{strict:!0,decode:(A)=>new Date(A),encode:(A)=>A.getTime()}).annotations({identifier:"DateFromNumber"}){}class RO extends K0((A)=>CZA(A)&&waA(A),{identifier:"DateTimeUtcFromSelf",description:"a DateTime.Utc instance",pretty:()=>(A)=>A.toString(),arbitrary:()=>(A)=>A.date({noInvalidDate:!0}).map((Q)=>OaA(Q)),equivalence:()=>EZA}){}var BXA=(A,Q)=>KW({try:()=>Ui(A),catch:()=>new JB(Q,A,`Unable to decode ${yY(A)} into a DateTime.Utc`)});class CXA extends dC(TI.annotations({description:"a number to be decoded into a DateTime.Utc"}),RO,{strict:!0,decode:(A,Q,B)=>BXA(A,B),encode:(A)=>L0(jaA(A))}).annotations({identifier:"DateTimeUtcFromNumber"}){}class EXA extends dC(m3.annotations({description:"a Date to be decoded into a DateTime.Utc"}),RO,{strict:!0,decode:(A,Q,B)=>BXA(A,B),encode:(A)=>L0(_aA(A))}).annotations({identifier:"DateTimeUtcFromDate"}){}class IXA extends dC(lQ.annotations({description:"a string to be decoded into a DateTime.Utc"}),RO,{strict:!0,decode:(A,Q,B)=>BXA(A,B),encode:(A)=>L0(xaA(A))}).annotations({identifier:"DateTimeUtc"}){}var AQQ=()=>(A)=>A.integer({min:-43200000,max:50400000}).map(YZA);class Eg extends K0($aA,{identifier:"TimeZoneOffsetFromSelf",description:"a TimeZone.Offset instance",pretty:()=>(A)=>A.toString(),arbitrary:AQQ}){}class YXA extends qQ(TI.annotations({description:"a number to be decoded into a TimeZone.Offset"}),Eg,{strict:!0,decode:(A)=>YZA(A),encode:(A)=>A.offset}).annotations({identifier:"TimeZoneOffset"}){}var QQQ=()=>(A)=>A.constantFrom(...Intl.supportedValuesOf("timeZone")).map(IZA);class Ig extends K0(zaA,{identifier:"TimeZoneNamedFromSelf",description:"a TimeZone.Named instance",pretty:()=>(A)=>A.toString(),arbitrary:QQQ}){}class GXA extends dC(lQ.annotations({description:"a string to be decoded into a TimeZone.Named"}),Ig,{strict:!0,decode:(A,Q,B)=>KW({try:()=>IZA(A),catch:()=>new JB(B,A,`Unable to decode ${JSON.stringify(A)} into a TimeZone.Named`)}),encode:(A)=>L0(A.id)}).annotations({identifier:"TimeZoneNamed"}){}class on extends _0(Eg,Ig){}class JXA extends dC(lQ.annotations({description:"a string to be decoded into a TimeZone"}),on,{strict:!0,decode:(A,Q,B)=>HA(qaA(A),{onNone:()=>OE(new JB(B,A,`Unable to decode ${JSON.stringify(A)} into a TimeZone`)),onSome:L0}),encode:(A)=>L0(PaA(A))}).annotations({identifier:"TimeZone"}){}var BnQ=(A)=>A.oneof(AQQ()(A),QQQ()(A));class rn extends K0((A)=>CZA(A)&&LaA(A),{identifier:"DateTimeZonedFromSelf",description:"a DateTime.Zoned instance",pretty:()=>(A)=>A.toString(),arbitrary:()=>(A)=>A.tuple(A.integer({min:-31536000000000,max:31536000000000}),BnQ(A)).map(([Q,B])=>RaA(Q,{timeZone:B})),equivalence:()=>EZA}){}class DXA extends dC(lQ.annotations({description:"a string to be decoded into a DateTime.Zoned"}),rn,{strict:!0,decode:(A,Q,B)=>HA(TaA(A),{onNone:()=>OE(new JB(B,A,`Unable to decode ${JSON.stringify(A)} into a DateTime.Zoned`)),onSome:L0}),encode:(A)=>L0(SaA(A))}).annotations({identifier:"DateTimeZoned"}){}var CnQ=hB({_tag:J0("None")}).annotations({description:"NoneEncoded"}),EnQ=(A)=>hB({_tag:J0("Some"),value:A}).annotations({description:`SomeEncoded<${sC(A)}>`}),InQ=(A)=>_0(CnQ,EnQ(A)).annotations({description:`OptionEncoded<${sC(A)}>`}),BQQ=(A)=>A._tag==="None"?x():j(A.value),YnQ=(A,Q)=>(B)=>B.oneof(Q,B.record({_tag:B.constant("None")}),B.record({_tag:B.constant("Some"),value:A(B)})).map(BQQ),GnQ=(A)=>HA({onNone:()=>"none()",onSome:(Q)=>`some(${A(Q)})`}),GeA=(A)=>(Q,B,C)=>gV(Q)?cA(Q)?L0(x()):U2(A(Q.value,B),j,C,Q):OE(new JB(C,Q)),D2=(A)=>{return K0([A],{decode:(Q)=>GeA(UI(Q)),encode:(Q)=>GeA(NI(Q))},{description:`Option<${sC(A)}>`,pretty:GnQ,arbitrary:YnQ,equivalence:QBA})},JnQ={_tag:"None"},DnQ=(A)=>({_tag:"Some",value:A});function an(A){let Q=wC(A);return qQ(InQ(Q),D2(vQ(Q)),{strict:!0,decode:(C)=>BQQ(C),encode:(C)=>HA(C,{onNone:()=>JnQ,onSome:DnQ})})}function CQQ(A){return qQ(NO(A),D2(vQ(wC(A))),{strict:!0,decode:(Q)=>aQ(Q),encode:(Q)=>nb(Q)})}function EQQ(A,Q){return qQ(ZO(A),D2(vQ(wC(A))),{strict:!0,decode:(B)=>aQ(B),encode:Q===null?(B)=>nb(B):(B)=>gB(B)})}function IQQ(A){return qQ($W(A),D2(vQ(wC(A))),{strict:!0,decode:(Q)=>aQ(Q),encode:(Q)=>gB(Q)})}class UXA extends qQ(lQ,D2(J4),{strict:!0,decode:(A)=>GU(j(A.trim()),mu),encode:(A)=>YQ(A,()=>"")}){}var YQQ=(A)=>hB({_tag:J0("Right"),right:A}).annotations({description:`RightEncoded<${sC(A)}>`}),GQQ=(A)=>hB({_tag:J0("Left"),left:A}).annotations({description:`LeftEncoded<${sC(A)}>`}),UnQ=(A,Q)=>_0(YQQ(A),GQQ(Q)).annotations({description:`EitherEncoded<${sC(Q)}, ${sC(A)}>`}),JQQ=(A)=>A._tag==="Left"?wA(A.left):$A(A.right),NnQ=(A,Q)=>(B)=>B.oneof(B.record({_tag:B.constant("Left"),left:Q(B)}),B.record({_tag:B.constant("Right"),right:A(B)})).map(JQQ),ZnQ=(A,Q)=>sB({onLeft:(B)=>`left(${Q(B)})`,onRight:(B)=>`right(${A(B)})`}),JeA=(A,Q)=>(B,C,E)=>zF(B)?sB(B,{onLeft:(I)=>U2(Q(I,C),wA,E,B),onRight:(I)=>U2(A(I,C),$A,E,B)}):OE(new JB(E,B)),sn=({left:A,right:Q})=>{return K0([Q,A],{decode:(B,C)=>JeA(UI(B),UI(C)),encode:(B,C)=>JeA(NI(B),NI(C))},{description:`Either<${sC(Q)}, ${sC(A)}>`,pretty:ZnQ,arbitrary:NnQ,equivalence:(B,C)=>gzA({left:C,right:B})})},K8A=(A)=>({_tag:"Left",left:A}),V8A=(A)=>({_tag:"Right",right:A}),DQQ=({left:A,right:Q})=>{let B=wC(Q),C=wC(A);return qQ(UnQ(B,C),sn({left:vQ(C),right:vQ(B)}),{strict:!0,decode:(I)=>JQQ(I),encode:(I)=>sB(I,{onLeft:K8A,onRight:V8A})})},UQQ=({left:A,right:Q})=>{let B=wC(Q),C=wC(A),E=vQ(B),I=vQ(C),Y=qQ(B,YQQ(E),{strict:!0,decode:(D)=>V8A(D),encode:(D)=>D.right}),G=qQ(C,GQQ(I),{strict:!0,decode:(D)=>K8A(D),encode:(D)=>D.left});return qQ(_0(Y,G),sn({left:I,right:E}),{strict:!0,decode:(D)=>D._tag==="Left"?wA(D.left):$A(D.right),encode:(D)=>sB(D,{onLeft:K8A,onRight:V8A})})},XnQ=(A,Q,B)=>{return(C)=>{let E=C.array(C.tuple(A(C),Q(C)));return(B.depthIdentifier!==void 0?C.oneof(B,C.constant([]),E):E).map((I)=>new Map(I))}},FnQ=(A,Q)=>(B)=>`new Map([${Array.from(B.entries()).map(([C,E])=>`[${A(C)}, ${Q(E)}]`).join(", ")}])`,HnQ=(A,Q)=>{let B=WJ(TE(([C,E],[I,Y])=>A(C,I)&&Q(E,Y)));return TE((C,E)=>B(Array.from(C.entries()),Array.from(E.entries())))},DeA=(A)=>(Q,B,C)=>NzA(Q)?U2(A(Array.from(Q.entries()),B),(E)=>new Map(E),C,Q):OE(new JB(C,Q)),NQQ=(A,Q,B)=>K0([A,Q],{decode:(C,E)=>DeA(UI(Z0(xD(C,E)))),encode:(C,E)=>DeA(NI(Z0(xD(C,E))))},{description:B,pretty:FnQ,arbitrary:XnQ,equivalence:HnQ}),tn=({key:A,value:Q})=>NQQ(A,Q,`ReadonlyMap<${sC(A)}, ${sC(Q)}>`),en=({key:A,value:Q})=>NQQ(A,Q,`Map<${sC(A)}, ${sC(Q)}>`);function Ao({key:A,value:Q}){return qQ(Z0(xD(A,Q)),tn({key:vQ(wC(A)),value:vQ(wC(Q))}),{strict:!0,decode:(B)=>new Map(B),encode:(B)=>Array.from(B.entries())})}function ZQQ({key:A,value:Q}){return qQ(Z0(xD(A,Q)),en({key:vQ(wC(A)),value:vQ(wC(Q))}),{strict:!0,decode:(B)=>new Map(B),encode:(B)=>Array.from(B.entries())})}var XQQ=({key:A,value:Q})=>qQ($O({key:On(A),value:Q}).annotations({description:"a record to be decoded into a ReadonlyMap"}),tn({key:A,value:vQ(Q)}),{strict:!0,decode:(B)=>new Map(Object.entries(B)),encode:(B)=>Object.fromEntries(B)}),FQQ=({key:A,value:Q})=>qQ($O({key:On(A),value:Q}).annotations({description:"a record to be decoded into a Map"}),en({key:A,value:vQ(Q)}),{strict:!0,decode:(B)=>new Map(Object.entries(B)),encode:(B)=>Object.fromEntries(B)}),WnQ=(A,Q)=>(B)=>{let C=B.array(A(B));return(Q.depthIdentifier!==void 0?B.oneof(Q,B.constant([]),C):C).map((E)=>new Set(E))},KnQ=(A)=>(Q)=>`new Set([${Array.from(Q.values()).map((B)=>A(B)).join(", ")}])`,VnQ=(A)=>{let Q=WJ(A);return TE((B,C)=>Q(Array.from(B.values()),Array.from(C.values())))},UeA=(A)=>(Q,B,C)=>UzA(Q)?U2(A(Array.from(Q.values()),B),(E)=>new Set(E),C,Q):OE(new JB(C,Q)),HQQ=(A,Q)=>K0([A],{decode:(B)=>UeA(UI(Z0(B))),encode:(B)=>UeA(NI(Z0(B)))},{description:Q,pretty:KnQ,arbitrary:WnQ,equivalence:VnQ}),NXA=(A)=>HQQ(A,`ReadonlySet<${sC(A)}>`),ZXA=(A)=>HQQ(A,`Set<${sC(A)}>`);function WQQ(A){return qQ(Z0(A),NXA(vQ(wC(A))),{strict:!0,decode:(Q)=>new Set(Q),encode:(Q)=>Array.from(Q)})}function KQQ(A){return qQ(Z0(A),ZXA(vQ(wC(A))),{strict:!0,decode:(Q)=>new Set(Q),encode:(Q)=>Array.from(Q)})}var MnQ=()=>(A)=>`BigDecimal(${P8(lV(A))})`,$nQ=()=>(A)=>A.tuple(A.bigInt(),A.integer({min:0,max:18})).map(([Q,B])=>bF(Q,B));class U6 extends K0(V0A,{identifier:"BigDecimalFromSelf",pretty:MnQ,arbitrary:$nQ,equivalence:()=>M0A}){}class XXA extends dC(lQ.annotations({description:"a string to be decoded into a BigDecimal"}),U6,{strict:!0,decode:(A,Q,B)=>$0A(A).pipe(HA({onNone:()=>OE(new JB(B,A,`Unable to decode ${JSON.stringify(A)} into a BigDecimal`)),onSome:(C)=>L0(lV(C))})),encode:(A)=>L0(P8(lV(A)))}).annotations({identifier:"BigDecimal"}){}class FXA extends qQ(TI.annotations({description:"a number to be decoded into a BigDecimal"}),U6,{strict:!0,decode:(A)=>aLA(A),encode:(A)=>sLA(A)}).annotations({identifier:"BigDecimalFromNumber"}){}var Wn=Symbol.for("effect/SchemaId/GreaterThanBigDecimal"),VQQ=(A,Q)=>(B)=>{let C=P8(A);return B.pipe(NB((E)=>iLA(E,A),{schemaId:Wn,[Wn]:{min:A},title:`greaterThanBigDecimal(${C})`,description:`a BigDecimal greater than ${C}`,...Q}))},Kn=Symbol.for("effect/schema/GreaterThanOrEqualToBigDecimal"),MQQ=(A,Q)=>(B)=>{let C=P8(A);return B.pipe(NB((E)=>nLA(E,A),{schemaId:Kn,[Kn]:{min:A},title:`greaterThanOrEqualToBigDecimal(${C})`,description:`a BigDecimal greater than or equal to ${C}`,...Q}))},Vn=Symbol.for("effect/SchemaId/LessThanBigDecimal"),$QQ=(A,Q)=>(B)=>{let C=P8(A);return B.pipe(NB((E)=>cLA(E,A),{schemaId:Vn,[Vn]:{max:A},title:`lessThanBigDecimal(${C})`,description:`a BigDecimal less than ${C}`,...Q}))},Mn=Symbol.for("effect/schema/LessThanOrEqualToBigDecimal"),zQQ=(A,Q)=>(B)=>{let C=P8(A);return B.pipe(NB((E)=>lLA(E,A),{schemaId:Mn,[Mn]:{max:A},title:`lessThanOrEqualToBigDecimal(${C})`,description:`a BigDecimal less than or equal to ${C}`,...Q}))},HXA=Symbol.for("effect/schema/PositiveBigDecimal"),WXA=(A)=>(Q)=>Q.pipe(NB((B)=>tLA(B),{schemaId:HXA,title:"positiveBigDecimal",description:"a positive BigDecimal",...A})),wQQ=U6.pipe(WXA({identifier:"PositiveBigDecimalFromSelf"})),KXA=Symbol.for("effect/schema/NonNegativeBigDecimal"),VXA=(A)=>(Q)=>Q.pipe(NB((B)=>B.value>=0n,{schemaId:KXA,title:"nonNegativeBigDecimal",description:"a non-negative BigDecimal",...A})),LQQ=U6.pipe(VXA({identifier:"NonNegativeBigDecimalFromSelf"})),MXA=Symbol.for("effect/schema/NegativeBigDecimal"),$XA=(A)=>(Q)=>Q.pipe(NB((B)=>z0A(B),{schemaId:MXA,title:"negativeBigDecimal",description:"a negative BigDecimal",...A})),OQQ=U6.pipe($XA({identifier:"NegativeBigDecimalFromSelf"})),zXA=Symbol.for("effect/schema/NonPositiveBigDecimal"),wXA=(A)=>(Q)=>Q.pipe(NB((B)=>B.value<=0n,{schemaId:zXA,title:"nonPositiveBigDecimal",description:"a non-positive BigDecimal",...A})),RQQ=U6.pipe(wXA({identifier:"NonPositiveBigDecimalFromSelf"})),$n=Symbol.for("effect/SchemaId/BetweenBigDecimal"),LXA=(A,Q,B)=>(C)=>{let E=P8(A),I=P8(Q);return C.pipe(NB((Y)=>oLA(Y,{minimum:A,maximum:Q}),{schemaId:$n,[$n]:{maximum:Q,minimum:A},title:`betweenBigDecimal(${E}, ${I})`,description:`a BigDecimal between ${E} and ${I}`,...B}))},TQQ=(A,Q)=>(B)=>qQ(B,B.pipe(vQ,LXA(A,Q)),{strict:!1,decode:(C)=>rLA(C,{minimum:A,maximum:Q}),encode:s}),znQ=(A,Q)=>(B)=>{let C=B.array(A(B));return(Q.depthIdentifier!==void 0?B.oneof(Q,B.constant([]),C):C).map(rB)},wnQ=(A)=>(Q)=>`Chunk(${CB(Q).map(A).join(", ")})`,NeA=(A)=>(Q,B,C)=>DX(Q)?SQ(Q)?L0(hA()):U2(A(CB(Q),B),rB,C,Q):OE(new JB(C,Q)),f3=(A)=>{return K0([A],{decode:(Q)=>NeA(UI(Z0(Q))),encode:(Q)=>NeA(NI(Z0(Q)))},{description:`Chunk<${sC(A)}>`,pretty:wnQ,arbitrary:znQ,equivalence:IP})};function qQQ(A){return qQ(Z0(A),f3(vQ(wC(A))),{strict:!0,decode:(Q)=>Q.length===0?hA():rB(Q),encode:(Q)=>CB(Q)})}var LnQ=(A)=>(Q)=>zBA(A(Q),{minLength:1}).map((B)=>Vz(B)),OnQ=(A)=>(Q)=>`NonEmptyChunk(${CB(Q).map(A).join(", ")})`,ZeA=(A)=>(Q,B,C)=>DX(Q)&&qB(Q)?U2(A(CB(Q),B),Vz,C,Q):OE(new JB(C,Q)),OXA=(A)=>{return K0([A],{decode:(Q)=>ZeA(UI(F9(Q))),encode:(Q)=>ZeA(NI(F9(Q)))},{description:`NonEmptyChunk<${sC(A)}>`,pretty:OnQ,arbitrary:LnQ,equivalence:IP})};function PQQ(A){return qQ(F9(A),OXA(vQ(wC(A))),{strict:!0,decode:(Q)=>Vz(Q),encode:(Q)=>CB(Q)})}var RXA=(A)=>Array.isArray(A)?xGA(A):TH(A),RnQ=(A)=>(Q)=>A(Q).map(RXA),TnQ=(A)=>(Q)=>`Data(${A(Q)})`,XeA=(A)=>(Q,B,C)=>W1(Q)?U2(A(Q,B),RXA,C,Q):OE(new JB(C,Q)),TXA=(A)=>{return K0([A],{decode:(Q)=>XeA(UI(Q)),encode:(Q)=>XeA(NI(Q))},{description:`Data<${sC(A)}>`,pretty:TnQ,arbitrary:RnQ})},_QQ=(A)=>{return qQ(A,TXA(vQ(A)),{strict:!1,decode:(Q)=>RXA(Q),encode:(Q)=>Array.isArray(Q)?Array.from(Q):Object.assign({},Q)})},qnQ=(A)=>ZI(A)||sS(A),jQQ=(A)=>T2(A).every((Q)=>qnQ(A[Q])),qXA=(A)=>("fields"in A)?A.fields:qXA(A[Pn]),Qo=(A)=>jQQ(A)?hB(A):ZI(A)?A:hB(qXA(A)),Bo=(A)=>jQQ(A)?A:qXA(A),N4=(A)=>(Q,B)=>b3({kind:"Class",identifier:A,schema:Qo(Q),fields:Bo(Q),Base:t7,annotations:B}),Yg=(A)=>I6(k3(J0(A)),()=>A),Gg=(A)=>(Q,B,C)=>{let E=Bo(B),I=Qo(B),Y={_tag:Yg(Q)},G=XO(Y,E);return class J extends b3({kind:"TaggedClass",identifier:A??Q,schema:zO(I,hB(Y)),fields:G,Base:t7,annotations:C}){static _tag=Q}},vD=(A)=>(Q,B,C)=>{class E extends xw{}E.prototype.name=Q;let I=Bo(B),Y=Qo(B),G={_tag:Yg(Q)},J=XO(G,I),D="message"in J;class U extends b3({kind:"TaggedError",identifier:A??Q,schema:zO(Y,hB(G)),fields:J,Base:E,annotations:C,disableToString:!0}){static _tag=Q}if(!D)Object.defineProperty(U.prototype,"message",{get(){return`{ ${T2(I).map((N)=>`${PF(N)}: ${yY(this[N])}`).join(", ")} }`},enumerable:!1,configurable:!0});return U},XO=(A,Q)=>{let B={...A};for(let C of T2(Q)){if(C in A)throw new Error(Hh(C));B[C]=Q[C]}return B};function Co(A){return SG(A)?A:A?.disableValidation??!1}var FeA=xA("effect/Schema/astCache",()=>new WeakMap),PnQ=(A)=>{if(A===void 0)return[];else if(Array.isArray(A))return A;else return[A]},b3=({Base:A,annotations:Q,disableToString:B,fields:C,identifier:E,kind:I,schema:Y})=>{let G=Symbol.for(`effect/Schema/${I}/${E}`),[J,D,U]=PnQ(Q),N=vQ(Y),Z=N.annotations({identifier:E,...J}),X=N.annotations({[g1]:`${E} (Type side)`,...J}),W=Y.annotations({[g1]:`${E} (Constructor)`,...J}),K=Y.annotations({[g1]:`${E} (Encoded side)`,...U}),V=Y.annotations({[Yz]:E,...U,...J,...D}),M=(L)=>o(L,G)&&N9(X)(L),z=class extends A{constructor(L={},O=!1){if(L={...L},I!=="Class")delete L._tag;if(L=aeA(C,L),!Co(O))L=B6(W)(L);super(L,!0)}static[E4]=F8A;static get ast(){let L=FeA.get(this);if(L)return L;let O=K0([Y],{decode:()=>(R,_,S)=>R instanceof this||M(R)?L0(R):OE(new JB(S,R)),encode:()=>(R,_)=>R instanceof this?L0(R):zG(NI(X)(R,_),(S)=>new this(S,!0))},{identifier:E,pretty:(R)=>(_)=>`${E}(${R(_)})`,arbitrary:(R)=>(_)=>R(_).map((S)=>new this(S)),equivalence:s,[Ez]:Z.ast,...J});return L=qQ(K,O,{strict:!0,decode:(R)=>new this(R,!0),encode:s}).annotations({[Ez]:V.ast,...D}).ast,FeA.set(this,L),L}static pipe(){return e(this,arguments)}static annotations(L){return $B(this.ast).annotations(L)}static toString(){return`(${String(K)} <-> ${E})`}static make(...L){return new this(...L)}static fields={...C};static identifier=E;static extend(L){return(O,R)=>{let _=Bo(O),S=Qo(O),q=XO(C,_);return b3({kind:I,identifier:L,schema:zO(Y,S),fields:q,Base:this,annotations:R})}}static transformOrFail(L){return(O,R,_)=>{let S=XO(C,O);return b3({kind:I,identifier:L,schema:dC(Y,vQ(hB(S)),R),fields:S,Base:this,annotations:_})}}static transformOrFailFrom(L){return(O,R,_)=>{let S=XO(C,O);return b3({kind:I,identifier:L,schema:dC(h3(Y),hB(S),R),fields:S,Base:this,annotations:_})}}get[G](){return G}};if(B!==!0)Object.defineProperty(z.prototype,"toString",{value(){return`${E}({ ${T2(C).map((L)=>`${PF(L)}: ${yY(this[L])}`).join(", ")} })`},configurable:!0,writable:!0});return z},_nQ=hB({_tag:J0("None")}).annotations({identifier:"FiberIdNoneEncoded"}),jnQ=hB({_tag:J0("Runtime"),id:SD,startTimeMillis:SD}).annotations({identifier:"FiberIdRuntimeEncoded"}),xnQ=hB({_tag:J0("Composite"),left:pS(()=>zn),right:pS(()=>zn)}).annotations({identifier:"FiberIdCompositeEncoded"}),zn=_0(_nQ,jnQ,xnQ).annotations({identifier:"FiberIdEncoded"}),xQQ=(A)=>A.letrec((Q)=>({None:A.record({_tag:A.constant("None")}),Runtime:A.record({_tag:A.constant("Runtime"),id:A.integer(),startTimeMillis:A.integer()}),Composite:A.record({_tag:A.constant("Composite"),left:Q("FiberId"),right:Q("FiberId")}),FiberId:A.oneof(Q("None"),Q("Runtime"),Q("Composite"))})).FiberId.map(lS),wn=(A)=>{switch(A._tag){case"None":return"FiberId.none";case"Runtime":return`FiberId.runtime(${A.id}, ${A.startTimeMillis})`;case"Composite":return`FiberId.composite(${wn(A.right)}, ${wn(A.left)})`}};class Eo extends K0(yRA,{identifier:"FiberIdFromSelf",pretty:()=>wn,arbitrary:()=>xQQ}){}var lS=(A)=>{switch(A._tag){case"None":return TC;case"Runtime":return Vm(A.id,A.startTimeMillis);case"Composite":return vRA(lS(A.left),lS(A.right))}},M8A=(A)=>{switch(A._tag){case"None":return{_tag:"None"};case"Runtime":return{_tag:"Runtime",id:A.id,startTimeMillis:A.startTimeMillis};case"Composite":return{_tag:"Composite",left:M8A(A.left),right:M8A(A.right)}}};class PXA extends qQ(zn,Eo,{strict:!0,decode:(A)=>lS(A),encode:(A)=>M8A(A)}).annotations({identifier:"FiberId"}){}var SnQ=(A)=>hB({_tag:J0("Die"),defect:A}),gnQ=hB({_tag:J0("Empty")}),vnQ=(A)=>hB({_tag:J0("Fail"),error:A}),ynQ=hB({_tag:J0("Interrupt"),fiberId:zn}),knQ=0,Ln=(A,Q)=>{let B=wC(A),C=wC(Q),E=pS(()=>I),I=_0(gnQ,vnQ(B),SnQ(C),ynQ,hB({_tag:J0("Sequential"),left:E,right:E}),hB({_tag:J0("Parallel"),left:E,right:E})).annotations({title:`CauseEncoded<${sC(A)}>`,[Yz]:`CauseEncoded${knQ++}`});return I},SQQ=(A,Q)=>(B)=>B.letrec((C)=>({Empty:B.record({_tag:B.constant("Empty")}),Fail:B.record({_tag:B.constant("Fail"),error:A(B)}),Die:B.record({_tag:B.constant("Die"),defect:Q(B)}),Interrupt:B.record({_tag:B.constant("Interrupt"),fiberId:xQQ(B)}),Sequential:B.record({_tag:B.constant("Sequential"),left:C("Cause"),right:C("Cause")}),Parallel:B.record({_tag:B.constant("Parallel"),left:C("Cause"),right:C("Cause")}),Cause:B.oneof(C("Empty"),C("Fail"),C("Die"),C("Interrupt"),C("Sequential"),C("Parallel"))})).Cause.map(zW),gQQ=(A)=>(Q)=>{let B=(C)=>{switch(C._tag){case"Empty":return"Cause.empty";case"Fail":return`Cause.fail(${A(C.error)})`;case"Die":return`Cause.die(${L5(C)})`;case"Interrupt":return`Cause.interrupt(${wn(C.fiberId)})`;case"Sequential":return`Cause.sequential(${B(C.left)}, ${B(C.right)})`;case"Parallel":return`Cause.parallel(${B(C.left)}, ${B(C.right)})`}};return B(Q)},HeA=(A)=>(Q,B,C)=>WGA(Q)?U2(A(UO(Q),B),zW,C,Q):OE(new JB(C,Q)),iS=({defect:A,error:Q})=>{return K0([Q,A],{decode:(B,C)=>HeA(UI(Ln(B,C))),encode:(B,C)=>HeA(NI(Ln(B,C)))},{title:`Cause<${Q.ast}>`,pretty:gQQ,arbitrary:SQQ})};function zW(A){switch(A._tag){case"Empty":return wH;case"Fail":return SU(A.error);case"Die":return MI(A.defect);case"Interrupt":return LH(lS(A.fiberId));case"Sequential":return Yj(zW(A.left),zW(A.right));case"Parallel":return ju(zW(A.left),zW(A.right))}}function UO(A){switch(A._tag){case"Empty":return{_tag:"Empty"};case"Fail":return{_tag:"Fail",error:A.error};case"Die":return{_tag:"Die",defect:A.defect};case"Interrupt":return{_tag:"Interrupt",fiberId:A.fiberId};case"Sequential":return{_tag:"Sequential",left:UO(A.left),right:UO(A.right)};case"Parallel":return{_tag:"Parallel",left:UO(A.left),right:UO(A.right)}}}var Io=({defect:A,error:Q})=>{let B=wC(Q),C=wC(A);return qQ(Ln(B,C),iS({error:vQ(B),defect:vQ(C)}),{strict:!1,decode:(I)=>zW(I),encode:(I)=>UO(I)})};class wG extends qQ(rU,rU,{strict:!0,decode:(A)=>{if(vY(A)&&"message"in A&&typeof A.message==="string"){let Q=new Error(A.message,{cause:A});if("name"in A&&typeof A.name==="string")Q.name=A.name;return Q.stack="stack"in A&&typeof A.stack==="string"?A.stack:"",Q}return String(A)},encode:(A)=>{if(A instanceof Error)return{name:A.name,message:A.message};return rCA(A)}}).annotations({identifier:"Defect"}){}var bnQ=(A,Q)=>hB({_tag:J0("Failure"),cause:Ln(A,Q)}),hnQ=(A)=>hB({_tag:J0("Success"),value:A}),mnQ=(A,Q,B)=>{return _0(bnQ(Q,B),hnQ(A)).annotations({title:`ExitEncoded<${sC(A)}, ${sC(Q)}, ${sC(B)}>`})},vQQ=(A)=>{switch(A._tag){case"Failure":return iB(zW(A.cause));case"Success":return hQ(A.value)}},fnQ=(A,Q,B)=>(C)=>C.oneof(C.record({_tag:C.constant("Failure"),cause:SQQ(Q,B)(C)}),C.record({_tag:C.constant("Success"),value:A(C)})).map(vQQ),dnQ=(A,Q)=>(B)=>B._tag==="Failure"?`Exit.failCause(${gQQ(Q)(B.cause)})`:`Exit.succeed(${A(B.value)})`,WeA=(A,Q)=>(B,C,E)=>Ff(B)?CE(B,{onFailure:(I)=>U2(Q(I,C),iB,E,B),onSuccess:(I)=>U2(A(I,C),hQ,E,B)}):OE(new JB(E,B)),_XA=({defect:A,failure:Q,success:B})=>K0([B,Q,A],{decode:(C,E,I)=>WeA(UI(C),UI(iS({error:E,defect:I}))),encode:(C,E,I)=>WeA(NI(C),NI(iS({error:E,defect:I})))},{title:`Exit<${B.ast}, ${Q.ast}>`,pretty:dnQ,arbitrary:fnQ}),KO=({defect:A,failure:Q,success:B})=>{let C=wC(B),E=wC(Q),I=wC(A);return qQ(mnQ(C,E,I),_XA({failure:vQ(E),success:vQ(C),defect:vQ(I)}),{strict:!1,decode:(G)=>vQQ(G),encode:(G)=>G._tag==="Failure"?{_tag:"Failure",cause:G.cause}:{_tag:"Success",value:G.value}})},unQ=(A,Q)=>(B)=>{let C=B.array(A(B));return(Q.depthIdentifier!==void 0?B.oneof(Q,B.constant([]),C):C).map(WU)},pnQ=(A)=>(Q)=>`HashSet(${Array.from(Q).map((B)=>A(B)).join(", ")})`,cnQ=(A)=>{let Q=WJ(A);return TE((B,C)=>Q(Array.from(B),Array.from(C)))},KeA=(A)=>(Q,B,C)=>JCA(Q)?U2(A(Array.from(Q),B),WU,C,Q):OE(new JB(C,Q)),jXA=(A)=>{return K0([A],{decode:(Q)=>KeA(UI(Z0(Q))),encode:(Q)=>KeA(NI(Z0(Q)))},{description:`HashSet<${sC(A)}>`,pretty:pnQ,arbitrary:unQ,equivalence:cnQ})};function yQQ(A){return qQ(Z0(A),jXA(vQ(wC(A))),{strict:!0,decode:(Q)=>WU(Q),encode:(Q)=>Array.from(Q)})}var lnQ=(A,Q,B)=>(C)=>{let E=C.array(C.tuple(A(C),Q(C)));return(B.depthIdentifier!==void 0?C.oneof(B,C.constant([]),E):E).map(XX)},inQ=(A,Q)=>(B)=>`HashMap([${Array.from(B).map(([C,E])=>`[${A(C)}, ${Q(E)}]`).join(", ")}])`,nnQ=(A,Q)=>{let B=WJ(TE(([C,E],[I,Y])=>A(C,I)&&Q(E,Y)));return TE((C,E)=>B(Array.from(C),Array.from(E)))},VeA=(A)=>(Q,B,C)=>KCA(Q)?U2(A(Array.from(Q),B),XX,C,Q):OE(new JB(C,Q)),xXA=({key:A,value:Q})=>{return K0([A,Q],{decode:(B,C)=>VeA(UI(Z0(xD(B,C)))),encode:(B,C)=>VeA(NI(Z0(xD(B,C))))},{description:`HashMap<${sC(A)}, ${sC(Q)}>`,pretty:inQ,arbitrary:lnQ,equivalence:nnQ})},kQQ=({key:A,value:Q})=>{return qQ(Z0(xD(A,Q)),xXA({key:vQ(wC(A)),value:vQ(wC(Q))}),{strict:!0,decode:(B)=>XX(B),encode:(B)=>Array.from(B)})},onQ=(A,Q)=>(B)=>{let C=B.array(A(B));return(Q.depthIdentifier!==void 0?B.oneof(Q,B.constant([]),C):C).map(Rm)},rnQ=(A)=>(Q)=>`List(${Array.from(Q).map((B)=>A(B)).join(", ")})`,anQ=(A)=>{let Q=WJ(A);return TE((B,C)=>Q(Array.from(B),Array.from(C)))},MeA=(A)=>(Q,B,C)=>Om(Q)?U2(A(Array.from(Q),B),Rm,C,Q):OE(new JB(C,Q)),SXA=(A)=>{return K0([A],{decode:(Q)=>MeA(UI(Z0(Q))),encode:(Q)=>MeA(NI(Z0(Q)))},{description:`List<${sC(A)}>`,pretty:rnQ,arbitrary:onQ,equivalence:anQ})};function bQQ(A){return qQ(Z0(A),SXA(vQ(wC(A))),{strict:!0,decode:(Q)=>Rm(Q),encode:(Q)=>Array.from(Q)})}var snQ=(A,Q,B)=>(C)=>{let E=C.array(A(C));return(B.depthIdentifier!==void 0?C.oneof(B,C.constant([]),E):E).map((I)=>Zu(I,Q))},tnQ=(A)=>(Q)=>`new SortedSet([${Array.from(Xu(Q)).map((B)=>A(B)).join(", ")}])`,$eA=(A,Q)=>(B,C,E)=>iYA(B)?U2(A(Array.from(Xu(B)),C),(I)=>Zu(I,Q),E,B):OE(new JB(E,B)),gXA=(A,Q,B)=>{return K0([A],{decode:(C)=>$eA(UI(Z0(C)),Q),encode:(C)=>$eA(NI(Z0(C)),B)},{description:`SortedSet<${sC(A)}>`,pretty:tnQ,arbitrary:(C,E)=>snQ(C,Q,E),equivalence:()=>NgA()})};function hQQ(A,Q){let B=vQ(wC(A));return qQ(Z0(A),gXA(B,Q,Q),{strict:!0,decode:(C)=>Zu(C,Q),encode:(C)=>Array.from(Xu(C))})}class vXA extends qQ(rU,jD,{strict:!0,decode:(A)=>DzA(A),encode:s}).annotations({identifier:"BooleanFromUnknown"}){}class yXA extends qQ(J0("true","false").annotations({description:"a string to be decoded into a boolean"}),jD,{strict:!0,decode:(A)=>A==="true",encode:(A)=>A?"true":"false"}).annotations({identifier:"BooleanFromString"}){}var mQQ=(A,Q)=>{let B=xS(Q);return cL(A).pipe(KaA((C)=>B(C).pipe($8((E)=>trA([],PD.formatIssueSync(E))))))},TO=Symbol.for("effect/Schema/Serializable/symbol"),fQQ=(A)=>A,dQQ=(A)=>A[TO],kXA=(A)=>I4(A[TO])(A),uQQ=F(2,(A,Q)=>iE(A[TO])(Q)),Z4=Symbol.for("effect/Schema/Serializable/symbolResult"),pQQ=(A)=>A,nS=(A)=>A[Z4].failure,VO=(A)=>A[Z4].success,zeA=xA("effect/Schema/Serializable/exitSchemaCache",()=>new WeakMap),Yo=(A)=>{let Q=Object.getPrototypeOf(A);if(!(Z4 in Q))return KO({failure:nS(A),success:VO(A),defect:wG});let B=zeA.get(Q);if(B===void 0)B=KO({failure:nS(A),success:VO(A),defect:wG}),zeA.set(Q,B);return B},bXA=F(2,(A,Q)=>EJ(A[Z4].failure)(Q)),cQQ=F(2,(A,Q)=>iE(A[Z4].failure)(Q)),hXA=F(2,(A,Q)=>EJ(A[Z4].success)(Q)),lQQ=F(2,(A,Q)=>iE(A[Z4].success)(Q)),iQQ=F(2,(A,Q)=>EJ(Yo(A))(Q)),nQQ=F(2,(A,Q)=>iE(Yo(A))(Q)),oQQ=(A)=>A,rQQ=(A)=>(Q,B,C)=>{let E=XO({_tag:Yg(Q)},B.payload);return class I extends b3({kind:"TaggedRequest",identifier:A??Q,schema:hB(E),fields:E,Base:HhA,annotations:C}){static _tag=Q;static success=B.success;static failure=B.failure;get[TO](){return this.constructor}get[Z4](){return{failure:B.failure,success:B.success}}}},aQQ=(A)=>X9(A.ast,[]),enQ=bE(nq),X9=(A,Q)=>{let B=enQ(A);if(XA(B))switch(A._tag){case"Declaration":return B.value(...A.typeParameters.map((C)=>X9(C,Q)));case"Refinement":return B.value(X9(A.from,Q));default:return B.value()}switch(A._tag){case"NeverKeyword":throw new Error(cwA(A,Q));case"Transformation":return X9(A.to,Q);case"Declaration":case"Literal":case"StringKeyword":case"TemplateLiteral":case"UniqueSymbol":case"SymbolKeyword":case"UnknownKeyword":case"AnyKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"UndefinedKeyword":case"VoidKeyword":case"Enums":case"ObjectKeyword":return JA;case"Refinement":return X9(A.from,Q);case"Suspend":{let C=j1(()=>X9(A.f(),Q));return(E,I)=>C()(E,I)}case"TupleType":{let C=A.elements.map((I,Y)=>X9(I.type,Q.concat(Y))),E=A.rest.map((I)=>X9(I.type,Q));return TE((I,Y)=>{let G=I.length;if(G!==Y.length)return!1;let J=0;for(;J<Math.min(G,A.elements.length);J++)if(!C[J](I[J],Y[J]))return!1;if(oB(E)){let[D,...U]=E;for(;J<G-U.length;J++)if(!D(I[J],Y[J]))return!1;for(let N=0;N<U.length;N++)if(J+=N,!U[N](I[J],Y[J]))return!1}return!0})}case"TypeLiteral":{if(A.propertySignatures.length===0&&A.indexSignatures.length===0)return JA;let C=A.propertySignatures.map((I)=>X9(I.type,Q.concat(I.name))),E=A.indexSignatures.map((I)=>X9(I.type,Q));return TE((I,Y)=>{let G=Object.keys(I),J=Object.getOwnPropertySymbols(I);for(let N=0;N<C.length;N++){let Z=A.propertySignatures[N],X=Z.name,W=Object.prototype.hasOwnProperty.call(I,X),K=Object.prototype.hasOwnProperty.call(Y,X);if(Z.isOptional){if(W!==K)return!1}if(W&&K&&!C[N](I[X],Y[X]))return!1}let D,U;for(let N=0;N<E.length;N++){let Z=A.indexSignatures[N],X=YX(Z.parameter),W=aq(X);if(W){if(D=D||Object.getOwnPropertySymbols(Y),J.length!==D.length)return!1}else if(U=U||Object.keys(Y),G.length!==U.length)return!1;let K=W?J:G;for(let V=0;V<K.length;V++){let M=K[V];if(!Object.prototype.hasOwnProperty.call(Y,M)||!E[N](I[M],Y[M]))return!1}}return!0})}case"Union":{let C=Si(A.types,!0),E=T2(C.keys),I=E.length;return TE((Y,G)=>{let J=[];if(I>0&&_$(Y))for(let U=0;U<I;U++){let N=E[U],Z=C.keys[N].buckets;if(Object.prototype.hasOwnProperty.call(Y,N)){let X=String(Y[N]);if(Object.prototype.hasOwnProperty.call(Z,X))J=J.concat(Z[X])}}if(C.otherwise.length>0)J=J.concat(C.otherwise);let D=J.map((U)=>[X9(U,Q),N9({ast:U})]);for(let U=0;U<D.length;U++){let[N,Z]=D[U];if(Z(Y)&&Z(G)){if(N(Y,G))return!0}}return!1})}}},weA=i2("symbol",{key:lQ}).annotations({description:"an object to be decoded into a globally shared symbol"}),AoQ=dC(weA,aS,{strict:!0,decode:(A)=>KAQ(A.key),encode:(A,Q,B)=>zG(WAQ(A,B),(C)=>weA.make({key:C}))});class Go extends _0(lQ,TI,AoQ).annotations({identifier:"PropertyKey"}){}class Jo extends hB({_tag:k3(J0("Pointer","Unexpected","Missing","Composite","Refinement","Transformation","Type","Forbidden")).annotations({description:"The tag identifying the type of parse issue"}),path:k3(Z0(Go)).annotations({description:"The path to the property where the issue occurred"}),message:k3(lQ).annotations({description:"A descriptive message explaining the issue"})}).annotations({identifier:"ArrayFormatterIssue",description:"Represents an issue returned by the ArrayFormatter formatter"}){}var tQQ=Al;var eQQ=Vx;var ABQ=LL;var QBQ=$x;var BBQ=zx;var CBQ=mpA;var EBQ=Symbol.for("effect/SortedMap"),RQ0={[EBQ]:{_K:(A)=>A,_V:(A)=>A},[TA](){return H(QA(this.tree),FA(QA("effect/SortedMap")),rA(this))},[PA](A){return IoQ(A)&&JA(this.tree,A.tree)},[Symbol.iterator](){return this.tree[Symbol.iterator]()},toString(){return PQ(this.toJSON())},toJSON(){return{_id:"SortedMap",values:Array.from(this).map(wB)}},[sA](){return this.toJSON()},pipe(){return e(this,arguments)}};var IoQ=(A)=>o(A,EBQ);var PB={};ZQ(PB,{zipWithPreviousAndNext:()=>tIQ,zipWithPrevious:()=>sIQ,zipWithNext:()=>aIQ,zipWithIndex:()=>eIQ,zipWithChunks:()=>rIQ,zipWith:()=>oIQ,zipRight:()=>nIQ,zipLeft:()=>iIQ,zipLatestWith:()=>lIQ,zipLatestAll:()=>cIQ,zipLatest:()=>pIQ,zipFlatten:()=>vIQ,zipAllWith:()=>uIQ,zipAllSortedByKeyWith:()=>dIQ,zipAllSortedByKeyRight:()=>fIQ,zipAllSortedByKeyLeft:()=>mIQ,zipAllSortedByKey:()=>hIQ,zipAllRight:()=>bIQ,zipAllLeft:()=>kIQ,zipAll:()=>yIQ,zip:()=>gIQ,withSpan:()=>SIQ,whenEffect:()=>xIQ,whenCaseEffect:()=>jIQ,whenCase:()=>_IQ,when:()=>PIQ,void:()=>RIQ,updateService:()=>qIQ,unwrapScopedWith:()=>TIQ,unwrapScoped:()=>xJ,unwrap:()=>N6,unfoldEffect:()=>OIQ,unfoldChunkEffect:()=>LIQ,unfoldChunk:()=>wIQ,unfold:()=>zIQ,transduce:()=>Lo,toReadableStreamRuntime:()=>wo,toReadableStreamEffect:()=>iXA,toReadableStream:()=>KIQ,toQueueOfElements:()=>WIQ,toQueue:()=>HIQ,toPull:()=>FIQ,toPubSub:()=>XIQ,toChannel:()=>dXA,toAsyncIterableRuntime:()=>VIQ,toAsyncIterableEffect:()=>MIQ,toAsyncIterable:()=>$IQ,timeoutTo:()=>ZIQ,timeoutFailCause:()=>NIQ,timeoutFail:()=>UIQ,timeout:()=>DIQ,tick:()=>JIQ,throttleEffect:()=>GIQ,throttle:()=>YIQ,tapSink:()=>IIQ,tapErrorCause:()=>EIQ,tapError:()=>CIQ,tapBoth:()=>BIQ,tap:()=>QIQ,takeWhile:()=>AIQ,takeUntilEffect:()=>eEQ,takeUntil:()=>tEQ,takeRight:()=>sEQ,take:()=>aEQ,sync:()=>rEQ,suspend:()=>zo,succeed:()=>lXA,splitOnChunk:()=>oEQ,splitLines:()=>$o,split:()=>nEQ,someOrFail:()=>iEQ,someOrElse:()=>lEQ,some:()=>cEQ,slidingSize:()=>pEQ,sliding:()=>uEQ,share:()=>KBQ,scopedWith:()=>dEQ,scoped:()=>fEQ,scheduleWith:()=>mEQ,schedule:()=>hEQ,scanReduceEffect:()=>bEQ,scanReduce:()=>kEQ,scanEffect:()=>yEQ,scan:()=>vEQ,runSum:()=>gEQ,runScoped:()=>SEQ,runLast:()=>xEQ,runIntoQueueScoped:()=>jEQ,runIntoQueueElementsScoped:()=>_EQ,runIntoQueue:()=>PEQ,runIntoPubSubScoped:()=>qEQ,runIntoPubSub:()=>TEQ,runHead:()=>REQ,runForEachWhileScoped:()=>OEQ,runForEachWhile:()=>LEQ,runForEachScoped:()=>wEQ,runForEachChunkScoped:()=>zEQ,runForEachChunk:()=>K9,runForEach:()=>Mo,runFoldWhileScopedEffect:()=>$EQ,runFoldWhileScoped:()=>MEQ,runFoldWhileEffect:()=>VEQ,runFoldWhile:()=>KEQ,runFoldScopedEffect:()=>WEQ,runFoldScoped:()=>HEQ,runFoldEffect:()=>FEQ,runFold:()=>cXA,runDrain:()=>XEQ,runCount:()=>ZEQ,runCollect:()=>Vo,run:()=>F4,retry:()=>NEQ,repeatWith:()=>UEQ,repeatValue:()=>DEQ,repeatElementsWith:()=>JEQ,repeatElements:()=>GEQ,repeatEither:()=>YEQ,repeatEffectWithSchedule:()=>IEQ,repeatEffectOption:()=>EEQ,repeatEffectChunkOption:()=>CEQ,repeatEffectChunk:()=>BEQ,repeatEffect:()=>QEQ,repeat:()=>AEQ,refineOrDieWith:()=>eCQ,refineOrDie:()=>tCQ,rechunk:()=>sCQ,range:()=>aCQ,raceAll:()=>rCQ,race:()=>oCQ,provideSomeLayer:()=>nCQ,provideServiceStream:()=>lCQ,provideServiceEffect:()=>cCQ,provideService:()=>pCQ,provideLayer:()=>uCQ,provideContext:()=>TW,prepend:()=>dCQ,pipeThroughChannelOrFail:()=>Ug,pipeThroughChannel:()=>Ko,pipeThrough:()=>fCQ,peel:()=>mCQ,partitionEither:()=>hCQ,partition:()=>bCQ,paginateEffect:()=>kCQ,paginateChunkEffect:()=>yCQ,paginateChunk:()=>vCQ,paginate:()=>gCQ,orElseSucceed:()=>SCQ,orElseIfEmptyStream:()=>xCQ,orElseIfEmptyChunk:()=>jCQ,orElseIfEmpty:()=>_CQ,orElseFail:()=>PCQ,orElseEither:()=>qCQ,orElse:()=>TCQ,orDieWith:()=>RCQ,orDie:()=>OCQ,onStart:()=>LCQ,onError:()=>zCQ,onEnd:()=>$CQ,onDone:()=>wCQ,never:()=>MCQ,mkString:()=>VCQ,mergeWithTag:()=>XCQ,mergeWith:()=>FCQ,mergeRight:()=>KCQ,mergeLeft:()=>WCQ,mergeEither:()=>HCQ,mergeAll:()=>ZCQ,merge:()=>NCQ,mapInputContext:()=>iCQ,mapErrorCause:()=>UCQ,mapError:()=>jO,mapEffect:()=>_O,mapConcatEffect:()=>DCQ,mapConcatChunkEffect:()=>JCQ,mapConcatChunk:()=>GCQ,mapConcat:()=>YCQ,mapChunksEffect:()=>Wo,mapChunks:()=>Ho,mapBoth:()=>ICQ,mapAccumEffect:()=>ECQ,mapAccum:()=>CCQ,map:()=>PO,make:()=>BCQ,let:()=>EYQ,iterate:()=>QCQ,intersperseAffixes:()=>s0Q,intersperse:()=>a0Q,interruptWhenDeferred:()=>ACQ,interruptWhen:()=>e0Q,interruptAfter:()=>t0Q,interleaveWith:()=>r0Q,interleave:()=>o0Q,identity:()=>n0Q,haltWhenDeferred:()=>i0Q,haltWhen:()=>l0Q,haltAfter:()=>c0Q,groupedWithin:()=>p0Q,grouped:()=>u0Q,groupByKey:()=>d0Q,groupBy:()=>f0Q,groupAdjacentBy:()=>m0Q,fromTQueue:()=>k0Q,fromTPubSub:()=>S0Q,fromSchedule:()=>h0Q,fromReadableStreamByob:()=>b0Q,fromReadableStream:()=>RW,fromQueue:()=>Fo,fromPull:()=>y0Q,fromPubSub:()=>Xo,fromIteratorSucceed:()=>v0Q,fromIterableEffect:()=>g0Q,fromIterable:()=>pXA,fromEventListener:()=>oXA,fromEffectOption:()=>x0Q,fromEffect:()=>j0Q,fromChunks:()=>_0Q,fromChunkQueue:()=>P0Q,fromChunkPubSub:()=>q0Q,fromChunk:()=>uXA,fromChannel:()=>X4,fromAsyncIterable:()=>T0Q,forever:()=>R0Q,flattenTake:()=>O0Q,flattenIterables:()=>L0Q,flattenExitOption:()=>w0Q,flattenEffect:()=>z0Q,flattenChunks:()=>$0Q,flatten:()=>M0Q,flatMap:()=>Zo,findEffect:()=>V0Q,find:()=>K0Q,finalizer:()=>W0Q,filterMapWhileEffect:()=>H0Q,filterMapWhile:()=>F0Q,filterMapEffect:()=>X0Q,filterMap:()=>Z0Q,filterEffect:()=>N0Q,filter:()=>U0Q,failSync:()=>G0Q,failCauseSync:()=>D0Q,failCause:()=>J0Q,fail:()=>OW,execute:()=>Y0Q,ensuringWith:()=>qO,ensuring:()=>Q0Q,encodeText:()=>nXA,empty:()=>A0Q,either:()=>eBQ,dropWhileEffect:()=>tBQ,dropWhile:()=>sBQ,dropUntilEffect:()=>aBQ,dropUntil:()=>rBQ,dropRight:()=>oBQ,drop:()=>nBQ,drainFork:()=>iBQ,drain:()=>lBQ,distributedWithDynamic:()=>cBQ,distributedWith:()=>pBQ,dieSync:()=>dBQ,dieMessage:()=>uBQ,die:()=>No,decodeText:()=>IYQ,debounce:()=>fBQ,crossWith:()=>mBQ,crossRight:()=>hBQ,crossLeft:()=>bBQ,cross:()=>kBQ,contextWithStream:()=>I0Q,contextWithEffect:()=>E0Q,contextWith:()=>C0Q,context:()=>B0Q,concatAll:()=>yBQ,concat:()=>vBQ,combineChunks:()=>gBQ,combine:()=>SBQ,chunksWith:()=>xBQ,chunks:()=>jBQ,changesWithEffect:()=>_BQ,changesWith:()=>PBQ,changes:()=>qBQ,catchTags:()=>RBQ,catchTag:()=>OBQ,catchSomeCause:()=>TBQ,catchSome:()=>LBQ,catchAllCause:()=>wBQ,catchAll:()=>Dg,bufferChunks:()=>Uo,buffer:()=>zBQ,broadcastedQueuesDynamic:()=>$BQ,broadcastedQueues:()=>MBQ,broadcastDynamic:()=>VBQ,broadcast:()=>WBQ,branchAfter:()=>HBQ,bindTo:()=>CYQ,bindEffect:()=>BYQ,bind:()=>QYQ,asyncScoped:()=>Do,asyncPush:()=>FBQ,asyncEffect:()=>XBQ,async:()=>fXA,as:()=>ZBQ,aggregateWithinEither:()=>NBQ,aggregateWithin:()=>UBQ,aggregate:()=>DBQ,acquireRelease:()=>JBQ,accumulateChunks:()=>GBQ,accumulate:()=>YBQ,StreamTypeId:()=>LW,Do:()=>AYQ,DefaultChunkSize:()=>IBQ});var LW=xl,IBQ=xL,YBQ=riA,GBQ=qUA,JBQ=PUA,DBQ=aiA,UBQ=Sl,NBQ=_UA,ZBQ=siA,fXA=tiA;var XBQ=eiA,FBQ=xUA,Do=AnA,HBQ=QnA,WBQ=BnA,KBQ=CnA,VBQ=SUA,MBQ=gUA,$BQ=EnA,zBQ=InA,Uo=YnA,Dg=JW,wBQ=ax,LBQ=GnA,OBQ=JnA,RBQ=DnA,TBQ=vUA,qBQ=UnA,PBQ=yUA,_BQ=NnA,jBQ=sx,xBQ=ZnA,SBQ=XnA,gBQ=tx,vBQ=aX,yBQ=FnA,kBQ=HnA,bBQ=WnA,hBQ=vl,mBQ=yl,fBQ=KnA,No=kl,dBQ=VnA,uBQ=MnA,pBQ=kUA,cBQ=bUA,lBQ=SL,iBQ=$nA,nBQ=mUA,oBQ=znA,rBQ=wnA,aBQ=LnA,sBQ=fUA,tBQ=OnA,eBQ=RnA,A0Q=a5,Q0Q=r5,qO=TnA,B0Q=ex,C0Q=qnA,E0Q=PnA,I0Q=bl,Y0Q=dUA,OW=gL,G0Q=hl,J0Q=ml,D0Q=_nA,U0Q=jnA,N0Q=uUA,Z0Q=EW,X0Q=xnA,F0Q=SnA,H0Q=gnA,W0Q=vnA,K0Q=ynA,V0Q=knA,Zo=GI,M0Q=vL,$0Q=AS,z0Q=bnA,w0Q=w3,L0Q=hnA,O0Q=DW,R0Q=fl,T0Q=mnA,X4=UW,dXA=jA,uXA=IW,q0Q=fnA,P0Q=jl,_0Q=dnA,j0Q=cE,x0Q=yL,Xo=QS,S0Q=unA,pXA=kL,g0Q=pnA,v0Q=pUA,y0Q=BS,Fo=PZ,k0Q=dl,RW=lnA,b0Q=inA,h0Q=cnA,m0Q=onA,f0Q=EsA,d0Q=TZA,u0Q=rnA,p0Q=anA,c0Q=snA,l0Q=cUA,i0Q=tnA,n0Q=lUA,o0Q=enA,r0Q=iUA,a0Q=nUA,s0Q=AoA,t0Q=QoA,e0Q=ul,ACQ=oUA,QCQ=BoA,BCQ=YW,PO=OI,CCQ=pl,ECQ=cl,ICQ=CoA,Ho=bL,Wo=EoA,YCQ=IoA,GCQ=CS,JCQ=YoA,DCQ=GoA,_O=RZA,jO=ll,UCQ=DoA,NCQ=ES,ZCQ=il,XCQ=UoA,FCQ=nl,HCQ=rUA,WCQ=NoA,KCQ=ZoA,VCQ=XoA,MCQ=FoA,$CQ=HoA,zCQ=WoA,wCQ=KoA,LCQ=VoA,OCQ=MoA,RCQ=aUA,TCQ=IS,qCQ=$oA,PCQ=zoA,_CQ=woA,jCQ=sUA,xCQ=tUA,SCQ=LoA,gCQ=OoA,vCQ=eUA,yCQ=ANA,kCQ=QNA,bCQ=ToA,hCQ=BNA,mCQ=RoA,fCQ=qoA,Ko=CNA,Ug=PoA,dCQ=_oA,TW=ol,uCQ=ENA,pCQ=joA,cCQ=INA,lCQ=YNA,iCQ=GNA,nCQ=xoA,oCQ=goA,rCQ=JNA,aCQ=SoA,sCQ=YS,tCQ=yoA,eCQ=DNA,AEQ=koA,QEQ=boA,BEQ=hoA,CEQ=s5,EEQ=GW,IEQ=XNA,YEQ=UNA,GEQ=moA,JEQ=NNA,DEQ=foA,UEQ=ZNA,NEQ=doA,F4=J2,Vo=uoA,ZEQ=poA,XEQ=coA,cXA=loA,FEQ=ioA,HEQ=noA,WEQ=ooA,KEQ=FNA,VEQ=HNA,MEQ=WNA,$EQ=KNA,Mo=VNA,K9=MNA,zEQ=roA,wEQ=$NA,LEQ=aoA,OEQ=soA,REQ=toA,TEQ=eoA,qEQ=rl,PEQ=zNA,_EQ=wNA,jEQ=GS,xEQ=ArA,SEQ=L3,gEQ=QrA,vEQ=BrA,yEQ=RNA,kEQ=CrA,bEQ=LNA,hEQ=ErA,mEQ=ONA,fEQ=O3,dEQ=JS,uEQ=GrA,pEQ=qNA,cEQ=IrA,lEQ=YrA,iEQ=TNA,nEQ=JrA,oEQ=DrA,$o=UrA,lXA=DS,rEQ=PNA,zo=p2,aEQ=NrA,sEQ=ZrA,tEQ=XrA,eEQ=FrA,AIQ=_NA,QIQ=jNA,BIQ=HrA,CIQ=xNA,EIQ=SNA,IIQ=WrA,YIQ=KrA,GIQ=gNA,JIQ=VrA,DIQ=MrA,UIQ=$rA,NIQ=vNA,ZIQ=yNA,XIQ=al,FIQ=z3,HIQ=sl,WIQ=kNA,KIQ=wrA,iXA=LrA,wo=tl,VIQ=el,MIQ=TrA,$IQ=RrA,Lo=OrA,zIQ=bNA,wIQ=hNA,LIQ=US,OIQ=Ai,RIQ=qrA;var N6=t5,xJ=cU,TIQ=hL,qIQ=PrA,PIQ=_rA,_IQ=jrA,jIQ=mNA,xIQ=fNA,SIQ=xrA,gIQ=SrA,vIQ=grA,yIQ=vrA,kIQ=yrA,bIQ=krA,hIQ=brA,mIQ=hrA,fIQ=mrA,dIQ=NS,uIQ=ZS,pIQ=frA,cIQ=dNA,lIQ=Qi,iIQ=drA,nIQ=urA,oIQ=Bi,rIQ=XS,aIQ=pNA,sIQ=cNA,tIQ=prA,eIQ=uNA,AYQ=lrA,QYQ=irA,BYQ=IsA,CYQ=nrA,EYQ=orA;var IYQ=rrA,nXA=arA,oXA=srA;var Ng=Symbol.for("effect/Subscribable");var jQ0={[UG]:UG,[Ng]:Ng,pipe(){return e(this,arguments)}};var GYQ=_JA;var JYQ=LbA;var DYQ=ObA;var UYQ=RbA;var rXA=TbA;var NYQ=qbA;var ZYQ=dJA;var XYQ=xJA;var GoQ="effect/SubscriptionRef",aXA=Symbol.for(GoQ),JoQ={_A:(A)=>A};class FYQ extends CI{ref;pubsub;semaphore;[UG]=UG;[Ng]=Ng;[DIA]=q_;[GYQ]=jJA;[aXA]=JoQ;constructor(A,Q,B){super();this.ref=A,this.pubsub=Q,this.semaphore=B,this.get=d0(this.ref)}commit(){return this.get}get;get changes(){return H(d0(this.ref),v((A)=>h(QS(this.pubsub,{scoped:!0}),(Q)=>aX(YW(A),Q))),this.semaphore.withPermits(1),cU)}modify(A){return this.modifyEffect((Q)=>c(A(Q)))}modifyEffect(A){return H(d0(this.ref),v(A),v(([Q,B])=>H(EI(this.ref,B),IB(Q),$Z(C9(this.pubsub,B)))),this.semaphore.withPermits(1))}}var HYQ=(A)=>d0(A.ref),WYQ=(A)=>H(tI([kH(),DC(A),VZ(1)]),h(([Q,B,C])=>new FYQ(B,Q,C))),KYQ=F(2,(A,Q)=>A.modify(Q)),VYQ=F(2,(A,Q)=>A.modifyEffect(Q)),MYQ=F(2,(A,Q)=>H(EI(A.ref,Q),$Z(C9(A.pubsub,Q)),A.semaphore.withPermits(1)));var UoQ=aXA,NoQ=HYQ,ZoQ=j7,XoQ=UIA,FoQ=JYQ,HoQ=NIA,WoQ=DYQ,KoQ=WYQ,VoQ=KYQ,MoQ=VYQ,$oQ=ZIA,zoQ=UYQ,woQ=MYQ,LoQ=XIA,OoQ=cG,RoQ=rXA,ToQ=Bd,qoQ=NYQ,PoQ=FIA,_oQ=ZYQ,joQ=HIA,xoQ=XYQ;var _YQ="effect/Trie",C4A=Symbol.for(_YQ),TrQ={_Value:(A)=>A},bI0={[C4A]:TrQ,[Symbol.iterator](){return new E4A(this,(A,Q)=>[A,Q],()=>!0)},[TA](){let A=QA(_YQ);for(let Q of this)A^=H(QA(Q[0]),FA(QA(Q[1])));return rA(this,A)},[PA](A){if(qrQ(A)){let Q=Array.from(A);return Array.from(this).every((B,C)=>{let E=Q[C];return JA(B[0],E[0])&&JA(B[1],E[1])})}return!1},toString(){return PQ(this.toJSON())},toJSON(){return{_id:"Trie",values:Array.from(this).map(wB)}},[sA](){return this.toJSON()},pipe(){return e(this,arguments)}};class E4A{trie;f;filter;stack=[];constructor(A,Q,B){this.trie=A,this.f=Q,this.filter=B;let C=A._root!==void 0?A._root:void 0;if(C!==void 0)this.stack.push([C,"",!1])}next(){while(this.stack.length>0){let[A,Q,B]=this.stack.pop();if(B){let C=A.value;if(C!==void 0){let E=Q+A.key;if(this.filter(E,C))return{done:!1,value:this.f(E,C)}}}else this.addToStack(A,Q)}return{done:!0,value:void 0}}addToStack(A,Q){if(A.right!==void 0)this.stack.push([A.right,Q,!1]);if(A.mid!==void 0)this.stack.push([A.mid,Q+A.key,!1]);if(this.stack.push([A,Q,!0]),A.left!==void 0)this.stack.push([A.left,Q,!1])}[Symbol.iterator](){return new E4A(this.trie,this.f,this.filter)}}var qrQ=(A)=>o(A,C4A);var Oo=s;var n2={};ZQ(n2,{zipWithPreviousAndNext:()=>tIQ,zipWithPrevious:()=>sIQ,zipWithNext:()=>aIQ,zipWithIndex:()=>eIQ,zipWithChunks:()=>rIQ,zipWith:()=>oIQ,zipRight:()=>nIQ,zipLeft:()=>iIQ,zipLatestWith:()=>lIQ,zipLatestAll:()=>cIQ,zipLatest:()=>pIQ,zipFlatten:()=>vIQ,zipAllWith:()=>uIQ,zipAllSortedByKeyWith:()=>dIQ,zipAllSortedByKeyRight:()=>fIQ,zipAllSortedByKeyLeft:()=>mIQ,zipAllSortedByKey:()=>hIQ,zipAllRight:()=>bIQ,zipAllLeft:()=>kIQ,zipAll:()=>yIQ,zip:()=>gIQ,withSpan:()=>SIQ,whenEffect:()=>xIQ,whenCaseEffect:()=>jIQ,whenCase:()=>_IQ,when:()=>PIQ,void:()=>RIQ,updateService:()=>qIQ,unwrapScopedWith:()=>TIQ,unwrapScoped:()=>xJ,unwrap:()=>N6,unfoldEffect:()=>OIQ,unfoldChunkEffect:()=>LIQ,unfoldChunk:()=>wIQ,unfold:()=>zIQ,transduce:()=>Lo,toReadableStreamRuntime:()=>wo,toReadableStreamEffect:()=>iXA,toReadableStream:()=>KIQ,toQueueOfElements:()=>WIQ,toQueue:()=>HIQ,toPull:()=>FIQ,toPubSub:()=>XIQ,toChannel:()=>dXA,toAsyncIterableRuntime:()=>VIQ,toAsyncIterableEffect:()=>MIQ,toAsyncIterable:()=>$IQ,timeoutTo:()=>ZIQ,timeoutFailCause:()=>NIQ,timeoutFail:()=>UIQ,timeout:()=>DIQ,tick:()=>JIQ,throttleEffect:()=>GIQ,throttle:()=>YIQ,tapSync:()=>vrQ,tapSink:()=>IIQ,tapLogWithLabel:()=>yrQ,tapLog:()=>grQ,tapErrorCause:()=>EIQ,tapError:()=>CIQ,tapChunk:()=>I4A,tapBoth:()=>BIQ,tap:()=>QIQ,takeWhile:()=>AIQ,takeUntilEffect:()=>eEQ,takeUntil:()=>tEQ,takeRight:()=>sEQ,take:()=>aEQ,sync:()=>rEQ,suspend:()=>zo,succeed:()=>lXA,splitOnChunk:()=>oEQ,splitLines:()=>$o,split:()=>nEQ,someOrFail:()=>iEQ,someOrElse:()=>lEQ,some:()=>cEQ,slidingSize:()=>pEQ,sliding:()=>uEQ,skipRepeated_:()=>SYQ,skipRepeated:()=>krQ,share:()=>KBQ,scopedWith:()=>dEQ,scoped:()=>fEQ,scheduleWith:()=>mEQ,schedule:()=>hEQ,scanReduceEffect:()=>bEQ,scanReduce:()=>kEQ,scanEffect:()=>yEQ,scan:()=>vEQ,runSum:()=>gEQ,runScoped:()=>SEQ,runLast:()=>xEQ,runIntoQueueScoped:()=>jEQ,runIntoQueueElementsScoped:()=>_EQ,runIntoQueue:()=>PEQ,runIntoPubSubScoped:()=>qEQ,runIntoPubSub:()=>TEQ,runHead:()=>REQ,runForEachWhileScoped:()=>OEQ,runForEachWhile:()=>LEQ,runForEachScoped:()=>wEQ,runForEachChunkScoped:()=>zEQ,runForEachChunk:()=>K9,runForEach:()=>Mo,runFoldWhileScopedEffect:()=>$EQ,runFoldWhileScoped:()=>MEQ,runFoldWhileEffect:()=>VEQ,runFoldWhile:()=>KEQ,runFoldScopedEffect:()=>WEQ,runFoldScoped:()=>HEQ,runFoldEffect:()=>FEQ,runFold:()=>cXA,runDrain:()=>XEQ,runCount:()=>ZEQ,runCollect:()=>Vo,run:()=>F4,retry:()=>NEQ,repeatWith:()=>UEQ,repeatValue:()=>DEQ,repeatElementsWith:()=>JEQ,repeatElements:()=>GEQ,repeatEither:()=>YEQ,repeatEffectWithSchedule:()=>IEQ,repeatEffectOption:()=>EEQ,repeatEffectChunkOption:()=>CEQ,repeatEffectChunk:()=>BEQ,repeatEffect:()=>QEQ,repeat:()=>AEQ,refineOrDieWith:()=>eCQ,refineOrDie:()=>tCQ,rechunk:()=>sCQ,range:()=>aCQ,raceAll:()=>rCQ,race:()=>oCQ,provideSomeLayer:()=>nCQ,provideServiceStream:()=>lCQ,provideServiceEffect:()=>cCQ,provideService:()=>pCQ,provideLayer:()=>uCQ,provideContext:()=>TW,prepend:()=>dCQ,pipeThroughChannelOrFail:()=>Ug,pipeThroughChannel:()=>Ko,pipeThrough:()=>fCQ,peel:()=>mCQ,partitionEither:()=>hCQ,partition:()=>bCQ,paginateEffect:()=>kCQ,paginateChunkEffect:()=>yCQ,paginateChunk:()=>vCQ,paginate:()=>gCQ,orElseSucceed:()=>SCQ,orElseIfEmptyStream:()=>xCQ,orElseIfEmptyChunk:()=>jCQ,orElseIfEmpty:()=>_CQ,orElseFail:()=>PCQ,orElseEither:()=>qCQ,orElse:()=>TCQ,orDieWith:()=>RCQ,orDie:()=>OCQ,onStart:()=>LCQ,onError:()=>zCQ,onEnd:()=>$CQ,onDone:()=>wCQ,never:()=>MCQ,mkString:()=>VCQ,mergeWithTag:()=>XCQ,mergeWith:()=>FCQ,mergeRight:()=>KCQ,mergeLeft:()=>WCQ,mergeEither:()=>HCQ,mergeAll:()=>ZCQ,merge:()=>NCQ,mapInputContext:()=>iCQ,mapErrorCause:()=>UCQ,mapError:()=>jO,mapEffect:()=>_O,mapConcatEffect:()=>DCQ,mapConcatChunkEffect:()=>JCQ,mapConcatChunk:()=>GCQ,mapConcat:()=>YCQ,mapChunksEffect:()=>Wo,mapChunks:()=>Ho,mapBoth:()=>ICQ,mapAccumEffect:()=>ECQ,mapAccum:()=>CCQ,map:()=>PO,make:()=>BCQ,let:()=>EYQ,iterate:()=>QCQ,intersperseAffixes:()=>s0Q,intersperse:()=>a0Q,interruptWhenDeferred:()=>ACQ,interruptWhen:()=>e0Q,interruptAfter:()=>t0Q,interleaveWith:()=>r0Q,interleave:()=>o0Q,identity:()=>n0Q,haltWhenDeferred:()=>i0Q,haltWhen:()=>l0Q,haltAfter:()=>c0Q,groupedWithin:()=>p0Q,grouped:()=>u0Q,groupByKey:()=>d0Q,groupBy:()=>f0Q,groupAdjacentBy:()=>m0Q,fromTQueue:()=>k0Q,fromTPubSub:()=>S0Q,fromSchedule:()=>h0Q,fromReadableStreamByob:()=>b0Q,fromReadableStream:()=>RW,fromQueue:()=>Fo,fromPull:()=>y0Q,fromPubSub:()=>Xo,fromIteratorSucceed:()=>v0Q,fromIterableEffect:()=>g0Q,fromIterable:()=>pXA,fromEventListener:()=>oXA,fromEffectOption:()=>x0Q,fromEffect:()=>j0Q,fromChunks:()=>_0Q,fromChunkQueue:()=>P0Q,fromChunkPubSub:()=>q0Q,fromChunk:()=>uXA,fromChannel:()=>X4,fromAsyncIterable:()=>T0Q,forever:()=>R0Q,flattenTake:()=>O0Q,flattenIterables:()=>L0Q,flattenExitOption:()=>w0Q,flattenEffect:()=>z0Q,flattenChunks:()=>$0Q,flatten:()=>M0Q,flatMap:()=>Zo,findEffect:()=>V0Q,find:()=>K0Q,finalizer:()=>W0Q,filterMapWhileEffect:()=>H0Q,filterMapWhile:()=>F0Q,filterMapEffect:()=>X0Q,filterMap:()=>Z0Q,filterEffect:()=>N0Q,filter:()=>U0Q,failSync:()=>G0Q,failCauseSync:()=>D0Q,failCause:()=>J0Q,fail:()=>OW,execute:()=>Y0Q,ensuringWith:()=>qO,ensuring:()=>Q0Q,encodeText:()=>nXA,empty:()=>A0Q,either:()=>eBQ,dropWhileEffect:()=>tBQ,dropWhile:()=>sBQ,dropUntilEffect:()=>aBQ,dropUntil:()=>rBQ,dropRight:()=>oBQ,drop:()=>nBQ,drainFork:()=>iBQ,drain:()=>lBQ,distributedWithDynamic:()=>cBQ,distributedWith:()=>pBQ,dieSync:()=>dBQ,dieMessage:()=>uBQ,die:()=>No,decodeText:()=>IYQ,debounce:()=>fBQ,crossWith:()=>mBQ,crossRight:()=>hBQ,crossLeft:()=>bBQ,cross:()=>kBQ,contextWithStream:()=>I0Q,contextWithEffect:()=>E0Q,contextWith:()=>C0Q,context:()=>B0Q,concatAll:()=>yBQ,concat:()=>vBQ,combineChunks:()=>gBQ,combine:()=>SBQ,chunksWith:()=>xBQ,chunks:()=>jBQ,changesWithEffect:()=>_BQ,changesWith:()=>PBQ,changes:()=>qBQ,catchTags:()=>RBQ,catchTag:()=>OBQ,catchSomeCause:()=>TBQ,catchSome:()=>LBQ,catchAllCause:()=>wBQ,catchAll:()=>Dg,bufferChunks:()=>Uo,buffer:()=>zBQ,broadcastedQueuesDynamic:()=>$BQ,broadcastedQueues:()=>MBQ,broadcastDynamic:()=>VBQ,broadcast:()=>WBQ,branchAfter:()=>HBQ,bindTo:()=>CYQ,bindEffect:()=>BYQ,bind:()=>QYQ,asyncScoped:()=>Do,asyncPush:()=>FBQ,asyncEffect:()=>XBQ,async:()=>fXA,as:()=>ZBQ,aggregateWithinEither:()=>NBQ,aggregateWithin:()=>UBQ,aggregate:()=>DBQ,acquireRelease:()=>JBQ,accumulateChunks:()=>GBQ,accumulate:()=>YBQ,StreamTypeId:()=>LW,Do:()=>AYQ,DefaultChunkSize:()=>IBQ});var grQ=(A)=>I4A(b.forEach((Q)=>b.succeed(console.log(Q))))(A),vrQ=(A)=>(Q)=>PB.tap(Q,(B)=>b.sync(()=>A(B))),yrQ=(A)=>(Q)=>I4A(b.forEach((B)=>b.succeed(console.log(A,B))))(Q),I4A=(A)=>(Q)=>PB.mapChunksEffect(Q,(B)=>H(A(B),b.map(()=>B))),xYQ=(A,Q)=>A===Q,krQ=(A=xYQ)=>(Q)=>SYQ(Q,A),SYQ=(A,Q=xYQ)=>H(yI.make(EA.none()),PB.fromEffect,PB.flatMap((B)=>H(A,PB.filterEffect((C)=>H(yI.get(B),b.flatMap((E)=>{if(E._tag==="None"||Q(E.value,C)===!1)return H(yI.set(B,EA.some(C)),b.map(()=>!0));else return b.succeed(!1)}))))));var xO={};ZQ(xO,{waitUntil:()=>brQ,updateSomeEffect:()=>_oQ,updateSomeAndGetEffect:()=>xoQ,updateSomeAndGet:()=>joQ,updateSome:()=>PoQ,updateEffect:()=>RoQ,updateAndGetEffect:()=>qoQ,updateAndGet:()=>ToQ,update:()=>OoQ,setAndGet:()=>LoQ,set:()=>woQ,modifySomeEffect:()=>zoQ,modifySome:()=>$oQ,modifyEffect:()=>MoQ,modify:()=>VoQ,make:()=>KoQ,getAndUpdateSomeEffect:()=>WoQ,getAndUpdateSome:()=>HoQ,getAndUpdateEffect:()=>FoQ,getAndUpdate:()=>XoQ,getAndSet:()=>ZoQ,get:()=>NoQ,SubscriptionRefTypeId:()=>UoQ});var brQ=F(2,(A,Q)=>H(A.changes,PB.filter(Q),PB.take(1),PB.runCollect,b.map(fQ.unsafeHead)));var To={};ZQ(To,{unwrap:()=>urQ,never:()=>prQ,mapEffect:()=>drQ,map:()=>frQ,make:()=>SO,isSubscribable:()=>hrQ,fromSubscriptionRef:()=>mrQ,TypeId:()=>Ro});var Ro=Symbol.for("effect/Subscribable"),hrQ=(A)=>o(A,Ro);class gYQ extends vI.Class{get;changes;[Ro]=Ro;[_X.TypeId]=_X.TypeId;constructor(A,Q){super();this.get=A,this.changes=Q}commit(){return this.get}}var SO=(A)=>new gYQ(A.get,A.changes),mrQ=(A)=>SO({get:A.get,changes:A.changes}),frQ=F(2,(A,Q)=>SO({get:b.map(A.get,Q),changes:PB.map(A.changes,Q)})),drQ=F(2,(A,Q)=>SO({get:b.flatMap(A.get,Q),changes:PB.mapEffect(A.changes,Q)})),urQ=(A)=>SO({get:b.flatMap(A,(Q)=>Q.get),changes:PB.unwrap(b.map(A,(Q)=>Q.changes))}),prQ=SO({get:b.never,changes:PB.never});var qo={};ZQ(qo,{zipRight:()=>ssA,zipLeft:()=>asA,zip:()=>rsA,withSpanAnnotations:()=>osA,withMinimumLogLevel:()=>cZA,withLeveledConsole:()=>hsA,withConsoleLog:()=>bsA,withConsoleError:()=>msA,tracerLogger:()=>CtA,test:()=>nsA,sync:()=>isA,succeed:()=>lsA,structuredLogger:()=>BtA,structured:()=>GtA,stringLogger:()=>AtA,simple:()=>csA,replaceScoped:()=>psA,replaceEffect:()=>usA,replace:()=>CO,remove:()=>dsA,prettyWithThread:()=>crQ,prettyLoggerDefault:()=>gi,prettyLogger:()=>QtA,pretty:()=>YtA,none:()=>fsA,minimumLogLevel:()=>JtA,mapInputOptions:()=>vsA,mapInput:()=>gsA,map:()=>ksA,make:()=>_sA,logfmtLogger:()=>esA,logFmt:()=>ItA,jsonLogger:()=>tsA,json:()=>EtA,isLogger:()=>lZA,filterLogLevel:()=>ysA,defaultLogger:()=>vS,consoleLogger:()=>lrQ,batched:()=>pZA,addScoped:()=>SsA,addEffect:()=>xsA,add:()=>jsA,LoggerTypeId:()=>PsA});var vYQ=(A)=>`${A.getHours().toString().padStart(2,"0")}:${A.getMinutes().toString().padStart(2,"0")}:${A.getSeconds().toString().padStart(2,"0")}.${A.getMilliseconds().toString().padStart(3,"0")}`,crQ=(A)=>SZ.replace(SZ.defaultLogger,SZ.prettyLogger({formatDate:(Q)=>`${vYQ(Q)} ${A}`})),lrQ=(A)=>SZ.make(({message:Q,annotations:B,date:C,logLevel:E,cause:I})=>{let Y=E===PX.Debug?console.debug:E===PX.Info?console.info:E===PX.Warning?console.warn:console.error,G=Object.fromEntries(PE.entries(B)),J=Array.isArray(Q)?Q:[Q];if(yB.isEmpty(I)===!1)J.push(yB.pretty(I,{renderErrorCause:!0}));Y(`[${vYQ(C)} ${A}]`,...J,G)});var irQ=()=>{if(typeof process!=="undefined"&&process.env!==void 0)return!0;if(import.meta.env!==void 0)return import.meta.env.DEV;if(typeof globalThis!=="undefined"&&globalThis.__DEV__)return!0;return!1},Xg=(A)=>{let Q=A?.toString();if(Q!=="[object Object]")return Q;try{return JSON.stringify(A,null,2)}catch(B){return console.log(A),"Error while printing error: "+B}};var Po=(A)=>A!==void 0&&A.toLowerCase()!=="false"&&A.toLowerCase()!=="0",Y4A=(A,...Q)=>{if(console.error(A,...Q),irQ())debugger;throw new Error(`This should never happen: ${A}`)};var eQ={};ZQ(eQ,{zipWith:()=>Y2,zipRight:()=>VA,zipLeft:()=>$Z,zip:()=>zE,yieldNow:()=>dhA,withUnhandledErrorLogLevel:()=>RfA,withTracerTiming:()=>GdA,withTracerScoped:()=>YdA,withTracerEnabled:()=>ij,withTracer:()=>IdA,withSpanScoped:()=>HdA,withSpan:()=>oj,withSchedulingPriority:()=>_mA,withScheduler:()=>PmA,withRuntimeFlagsPatchScoped:()=>kfA,withRuntimeFlagsPatch:()=>yfA,withRequestCaching:()=>QdA,withRequestCache:()=>BdA,withRequestBatching:()=>AdA,withRandomScoped:()=>SfA,withRandom:()=>xfA,withPerformanceMeasure:()=>mtQ,withParentSpan:()=>zZ,withMetric:()=>ufA,withMaxOpsBeforeYield:()=>jmA,withLogSpan:()=>H2A,withFiberRuntime:()=>KB,withEarlyRelease:()=>XmA,withConsoleScoped:()=>kmA,withConsole:()=>bmA,withConfigProviderScoped:()=>dmA,withConfigProvider:()=>tw,withConcurrency:()=>qmA,withClockScoped:()=>SmA,withClock:()=>gmA,whileLoop:()=>RY,whenRef:()=>CfA,whenLogLevel:()=>TfA,whenFiberRef:()=>BfA,whenEffect:()=>QfA,when:()=>dX,void:()=>u,validateWith:()=>nfA,validateFirst:()=>khA,validateAll:()=>yhA,validate:()=>ifA,using:()=>ZmA,useSpan:()=>uX,updateService:()=>J2A,updateFiberRefs:()=>$fA,unsandbox:()=>ahA,unsafeMakeSemaphore:()=>hU,unsafeMakeLatch:()=>cY,unlessEffect:()=>X2A,unless:()=>AfA,uninterruptibleMask:()=>eI,uninterruptible:()=>E2,tryPromise:()=>YE,tryMapPromise:()=>rhA,tryMap:()=>XZ,tryAll:()=>TtQ,try:()=>VE,transposeOption:()=>VdA,transposeMapOption:()=>MdA,transplant:()=>TmA,tracerWith:()=>EdA,tracer:()=>CdA,toForkedDeferred:()=>htQ,timeoutTo:()=>mmA,timeoutOption:()=>kp,timeoutFailCause:()=>bp,timeoutFail:()=>sw,timeoutDieMsg:()=>btQ,timeoutDie:()=>ktQ,timeout:()=>mX,timedWith:()=>hmA,timed:()=>yp,tapSync:()=>vtQ,tapErrorTag:()=>GfA,tapErrorCause:()=>pY,tapError:()=>F2A,tapDefect:()=>pj,tapCauseLogPretty:()=>c2Q,tapBoth:()=>YfA,tap:()=>VB,takeWhile:()=>E2A,takeUntil:()=>OhA,tagMetricsScoped:()=>mfA,tagMetrics:()=>bfA,sync:()=>r,suspend:()=>LA,supervised:()=>RmA,summarized:()=>IfA,succeedSome:()=>fhA,succeedNone:()=>h2,succeed:()=>c,step:()=>sfA,spanLinks:()=>NdA,spanEvent:()=>xtQ,spanAnnotations:()=>UdA,sleep:()=>sG,setFiberRefs:()=>MfA,serviceOptional:()=>imA,serviceOption:()=>yH,serviceMembers:()=>lmA,serviceFunctions:()=>G2A,serviceFunctionEffect:()=>pmA,serviceFunction:()=>umA,serviceConstants:()=>cmA,sequentialFinalizers:()=>UmA,scopedWith:()=>kU,scoped:()=>fC,scopeWithCloseable:()=>RtQ,scopeWith:()=>gp,scope:()=>ME,scheduleFrom:()=>XfA,scheduleForked:()=>ZfA,schedule:()=>NfA,sandbox:()=>xp,runtime:()=>wI,runSyncExit:()=>lfA,runSync:()=>eB,runRequestBlock:()=>afA,runPromiseExit:()=>cfA,runPromise:()=>$D,runFork:()=>lY,runCallback:()=>pfA,retryOrElse:()=>ohA,retry:()=>OY,request:()=>tfA,replicateEffect:()=>Pp,replicate:()=>vhA,repeatOrElse:()=>UfA,repeatN:()=>mp,repeat:()=>v5,reduceWhile:()=>xhA,reduceRight:()=>ShA,reduceEffect:()=>ghA,reduce:()=>nw,randomWith:()=>jfA,random:()=>_fA,raceWith:()=>g5,raceFirst:()=>ew,raceAll:()=>EfA,race:()=>J3,provideServiceEffect:()=>vH,provideService:()=>Y0,provide:()=>SC,promise:()=>kX,patchRuntimeFlags:()=>vfA,patchFiberRefs:()=>VfA,partition:()=>jhA,parallelFinalizers:()=>DmA,parallelErrors:()=>nhA,orElseSucceed:()=>cp,orElseFail:()=>W2A,orElse:()=>lj,orDieWith:()=>qfA,orDie:()=>YB,optionFromOptional:()=>KdA,option:()=>rmA,once:()=>zhA,onInterrupt:()=>rw,onExit:()=>WZ,onError:()=>hX,none:()=>mhA,never:()=>ZZ,negate:()=>Sp,metricLabels:()=>dfA,mergeAll:()=>_hA,merge:()=>JmA,matchEffect:()=>w0,matchCauseEffect:()=>aC,matchCause:()=>KZ,match:()=>tG,mapInputContext:()=>B9,mapErrorCause:()=>GmA,mapError:()=>fE,mapBoth:()=>bX,mapAccum:()=>YmA,map:()=>h,makeSpanScoped:()=>nj,makeSpan:()=>np,makeSemaphore:()=>VZ,makeLatch:()=>MZ,loop:()=>DfA,logWithLevel:()=>up,logWarning:()=>f2,logWarnIfTakesLongerThan:()=>StQ,logTrace:()=>wfA,logInfo:()=>m2,logFatal:()=>pp,logError:()=>MD,logDuration:()=>gtQ,logDebug:()=>$E,logBefore:()=>_tQ,logAnnotations:()=>OfA,log:()=>cj,locallyWith:()=>fp,locallyScopedWith:()=>KfA,locallyScoped:()=>WfA,locally:()=>T0,linkSpans:()=>ZdA,linkSpanCurrent:()=>XdA,liftPredicate:()=>BmA,let:()=>omA,labelMetricsScoped:()=>ffA,labelMetrics:()=>hfA,iterate:()=>JfA,isSuccess:()=>dp,isFailure:()=>zfA,isEffect:()=>nB,intoDeferred:()=>I2,interruptibleMask:()=>QmA,interruptible:()=>zQ,interruptWith:()=>AmA,interrupt:()=>GE,inheritFiberRefs:()=>HfA,ignoreLogged:()=>ihA,ignore:()=>WG,if:()=>amA,head:()=>PhA,getRuntimeFlags:()=>gfA,getFiberRefs:()=>FfA,gen:()=>KA,functionWithSpan:()=>FdA,fromNullable:()=>WdA,fromFiberEffect:()=>OmA,fromFiber:()=>LmA,forkWithErrorHandler:()=>wmA,forkScoped:()=>R0,forkIn:()=>uQ,forkDaemon:()=>KG,forkAll:()=>zmA,fork:()=>aw,forever:()=>QY,forEach:()=>LB,fnUntraced:()=>XQ,fn:()=>op,flipWith:()=>ImA,flip:()=>EmA,flatten:()=>AY,flatMap:()=>v,firstSuccessOf:()=>PfA,findFirst:()=>qp,finalizersMask:()=>NmA,filterOrFail:()=>Z2A,filterOrElse:()=>N2A,filterOrDieMessage:()=>U2A,filterOrDie:()=>smA,filterMap:()=>qhA,filterEffectOrFail:()=>emA,filterEffectOrElse:()=>tmA,filter:()=>fj,fiberIdWith:()=>aG,fiberId:()=>vp,failSync:()=>ow,failCauseSync:()=>_p,failCause:()=>z0,fail:()=>ZA,exit:()=>rC,exists:()=>ThA,every:()=>RhA,eventually:()=>lhA,eventListener:()=>jtQ,ensuringChildren:()=>$mA,ensuringChild:()=>MmA,ensuring:()=>$C,either:()=>S5,dropWhile:()=>mj,dropUntil:()=>hj,disconnect:()=>ehA,diffFiberRefs:()=>VmA,dieSync:()=>jp,dieMessage:()=>xE,die:()=>MC,descriptorWith:()=>KmA,descriptor:()=>WmA,delay:()=>bU,debugLogEnv:()=>ytQ,daemonChildren:()=>HmA,custom:()=>hhA,currentSpan:()=>ip,currentParentSpan:()=>DdA,contextWithEffect:()=>Y2A,contextWith:()=>fX,context:()=>xC,consoleWith:()=>ymA,console:()=>vmA,configProviderWith:()=>fmA,clockWith:()=>xmA,clock:()=>OJ,checkInterruptible:()=>thA,cause:()=>chA,catchTags:()=>j5,catchTag:()=>HG,catchSomeDefect:()=>phA,catchSomeCause:()=>gH,catchSome:()=>dj,catchIf:()=>VD,catchAllDefect:()=>_5,catchAllCause:()=>dQ,catchAll:()=>zI,catch:()=>uhA,cachedWithTTL:()=>VhA,cachedInvalidateWithTTL:()=>MhA,cachedFunction:()=>$hA,cached:()=>LJ,cacheRequestResult:()=>efA,blocked:()=>rfA,bindTo:()=>hp,bindAll:()=>nmA,bind:()=>uj,awaitAllChildren:()=>FmA,asyncEffect:()=>bhA,async:()=>OB,asVoid:()=>JE,asSomeError:()=>CmA,asSome:()=>x5,as:()=>IB,ap:()=>ofA,annotateSpans:()=>JdA,annotateLogsScoped:()=>LfA,annotateLogs:()=>a0,annotateCurrentSpan:()=>lp,andThen:()=>r0,allowInterrupt:()=>shA,allWith:()=>whA,allSuccesses:()=>LhA,all:()=>tI,addFinalizerLog:()=>PtQ,addFinalizer:()=>HZ,acquireUseRelease:()=>FZ,acquireReleaseLog:()=>qtQ,acquireReleaseInterruptible:()=>I2A,acquireRelease:()=>kQ,Tag:()=>zdA,Service:()=>AL,EffectTypeId:()=>bj,Do:()=>D2A});var hO={};ZQ(hO,{withSpanContext:()=>OtQ,makeExternalSpan:()=>FtQ,make:()=>XtQ,layerWithoutOtelTracer:()=>HtQ,layerTracer:()=>VtQ,layerGlobalTracer:()=>MtQ,layerGlobal:()=>KtQ,layer:()=>WtQ,currentOtelSpan:()=>Y1A,OtelTracerProvider:()=>$tQ,OtelTracer:()=>ztQ,OtelTraceState:()=>LtQ,OtelTraceFlags:()=>wtQ});var RE=wN(j2Q(),1);var x2Q=pA("@effect/opentelemetry/Resource");var S2Q=1000000000n,ko=(A)=>{return[Number(A/S2Q),Number(A%S2Q)]},bo=(A)=>Object.entries(A).reduce((Q,[B,C])=>{return Q[B]=A1A(C),Q},{}),A1A=(A)=>{if(typeof A==="string"||typeof A==="number"||typeof A==="boolean")return A;else if(typeof A==="bigint")return Number(A);return IU(A)};var ho=Symbol.for("@effect/opentelemetry/Tracer/OtelSpan"),DtQ={internal:RE.SpanKind.INTERNAL,client:RE.SpanKind.CLIENT,server:RE.SpanKind.SERVER,producer:RE.SpanKind.PRODUCER,consumer:RE.SpanKind.CONSUMER};class B1A{name;parent;context;links;kind;[ho];_tag="Span";span;spanId;traceId;attributes=new Map;sampled;status;constructor(A,Q,B,C,E,I,Y,G){this.name=B,this.parent=C,this.context=E,this.links=I,this.kind=G,this[ho]=ho;let J=A.active();this.span=Q.startSpan(B,{startTime:ko(Y),links:I.length>0?I.map((U)=>({context:Q1A(U.span),attributes:bo(U.attributes)})):void 0,kind:DtQ[this.kind]},C._tag==="Some"?b2Q(J,C.value,E):RE.trace.deleteSpan(J));let D=this.span.spanContext();this.spanId=D.spanId,this.traceId=D.traceId,this.status={_tag:"Started",startTime:Y},this.sampled=(D.traceFlags&RE.TraceFlags.SAMPLED)===RE.TraceFlags.SAMPLED}attribute(A,Q){this.span.setAttribute(A,A1A(Q)),this.attributes.set(A,Q)}addLinks(A){this.links.push(...A),this.span.addLinks(A.map((Q)=>({context:Q1A(Q.span),attributes:bo(Q.attributes)})))}end(A,Q){let B=ko(A);if(this.status={_tag:"Ended",endTime:A,exit:Q,startTime:this.status.startTime},Q._tag==="Success")this.span.setStatus({code:RE.SpanStatusCode.OK});else if(XG(Q.cause))this.span.setStatus({code:RE.SpanStatusCode.OK,message:L5(Q.cause)}),this.span.setAttribute("span.label","⚠︎ Interrupted"),this.span.setAttribute("status.interrupted",!0);else{let C=wGA(Q.cause)[0];if(C)C.stack=L5(Q.cause,{renderErrorCause:!0}),this.span.recordException(C,B),this.span.setStatus({code:RE.SpanStatusCode.ERROR,message:C.message});else this.span.setStatus({code:RE.SpanStatusCode.OK})}this.span.end(B)}event(A,Q,B){this.span.addEvent(A,B?bo(B):void 0,ko(Q))}}var mo=pA("@effect/opentelemetry/Tracer/OtelTracerProvider"),fo=pA("@effect/opentelemetry/Tracer/OtelTracer"),uo=h(fo,(A)=>A_A({span(Q,B,C,E,I,Y){return new B1A(RE.context,A,Q,B,C,E.slice(),I,Y)},context(Q,B){let C=B.currentSpan;if(C===void 0)return Q();return RE.context.with(b2Q(RE.context.active(),C),Q)}})),$g=pA("@effect/opentelemetry/Tracer/OtelTraceFlags"),bO=pA("@effect/opentelemetry/Tracer/OtelTraceState"),C1A=(A)=>{let Q=F0();if(A.traceFlags)Q=DQ(Q,$g,A.traceFlags);if(typeof A.traceState==="string")Q=HA(NtQ(A.traceState),{onNone:()=>Q,onSome:(B)=>DQ(Q,bO,B)});else if(A.traceState)Q=DQ(Q,bO,A.traceState);return{_tag:"ExternalSpan",traceId:A.traceId,spanId:A.spanId,sampled:A.traceFlags?(A.traceFlags&RE.TraceFlags.SAMPLED)===RE.TraceFlags.SAMPLED:!0,context:Q}},v2Q=v(ip,(A)=>{if(ho in A)return c(A.span);return ZA(new r7)}),UtQ=RJ(mo,()=>RE.trace.getTracerProvider()),po=GB(fo,v(zE(x2Q,mo),([A,Q])=>r(()=>Q.getTracer(A.attributes["service.name"],A.attributes["service.version"])))),E1A=po.pipe(mA(UtQ)),y2Q=AJ(h(uo,tp)).pipe(zC(E1A)),I1A=AJ(h(uo,tp)),k2Q=I1A.pipe(zC(po)),NtQ=AX(RE.createTraceState),b2Q=(A,Q,B)=>Q instanceof B1A?RE.trace.setSpan(A,Q.span):RE.trace.setSpanContext(A,Q1A(Q,B)),Q1A=(A,Q)=>({spanId:A.spanId,traceId:A.traceId,isRemote:A._tag==="ExternalSpan",traceFlags:YQ(Q?g2Q(A,Q,$g):eE(A.context,$g),()=>RE.TraceFlags.SAMPLED),traceState:gB(Q?g2Q(A,Q,bO):eE(A.context,bO))}),g2Q=(A,Q,B)=>KI(eE(Q,B),()=>eE(A.context,B)),h2Q=F(2,(A,Q)=>zZ(A,C1A(Q)));var XtQ=uo,FtQ=C1A,Y1A=v2Q,HtQ=I1A,WtQ=k2Q,KtQ=y2Q,VtQ=po,MtQ=E1A,$tQ=mo,ztQ=fo,wtQ=$g,LtQ=bO,OtQ=h2Q;var m2Q=()=>{let A=performance.now(),Q={_performanceStartTime:A,setAttribute:()=>null,setAttributes:()=>null,addEvent:()=>null,setStatus:()=>null,updateName:()=>null,recordException:()=>null,end:()=>{let C=performance.now()-A,E=C/1000,I=C%1000*1e6;Q._duration=[E,I]},spanContext:()=>{return{traceId:"livestore-noop-trace-id",spanId:"livestore-noop-span-id"}},_duration:[0,0]};return Q},f2Q=()=>{return new d2Q};class d2Q{startSpan=()=>m2Q();startActiveSpan(A,Q,B,C){let E,I,Y;if(arguments.length<2)return;else if(arguments.length===2)Y=Q;else if(arguments.length===3)E=Q,Y=B;else E=Q,I=B,Y=C;return Y(m2Q())}}var zg=(A)=>{if(typeof process!=="undefined"&&process.env!==void 0)return process.env[A];if(import.meta.env!==void 0)return import.meta.env[A];return},XJ0=zg("LS_TRACE_VERBOSE")!==void 0||zg("VITE_LS_TRACE_VERBOSE")!==void 0,co=Po(zg("LS_DEV"))||Po(zg("VITE_LS_DEV")),FJ0=Po(zg("CI"));var HJ0=typeof navigator!=="undefined"&&navigator.product==="ReactNative";var u2Q=(A)=>{let Q=new Map;return(B)=>{if(Q.has(B))return Q.get(B);let C=A(B);return Q.set(B,C),C}};var p2Q=(A)=>typeof A?.then==="function";class mO extends EQ.TaggedError()("UnknownError",{cause:EQ.Any,payload:EQ.optional(EQ.Any)}){}var RtQ=(A)=>b.gen(function*(){let Q=yield*UC.make();return yield*b.addFinalizer((B)=>UC.close(Q,B)),yield*A(Q).pipe(UC.extend(Q))}),TtQ=(A)=>b.try(()=>A()).pipe(b.andThen((Q)=>b.isEffect(Q)?Q:p2Q(Q)?b.promise(()=>Q):b.succeed(Q))),qtQ=(A)=>b.acquireRelease(b.log(`${A} acquire`),(Q,B)=>b.log(`${A} release`,B)),PtQ=(...A)=>b.addFinalizer(()=>b.log(...A)),_tQ=(...A)=>(Q)=>b.andThen(b.log(...A),Q),c2Q=(A)=>b.tapErrorCause(A,(Q)=>b.gen(function*(){if(yB.isInterruptedOnly(Q))return;let B=yield*Y1A.pipe(b.catchTag("NoSuchElementException",(E)=>b.succeed(void 0))),C=Q.toString().split(`
`)[0];yield*b.logError(C,Q).pipe((E)=>B===void 0?E:b.annotateLogs({spanId:B.spanContext().spanId,traceId:B.spanContext().traceId})(E))})),jtQ=(A,Q,B,C)=>b.gen(function*(){let E=yield*b.runtime(),I=(Y)=>B(Y).pipe(b.provide(E),b.runFork);A.addEventListener(Q,I,{once:C?.once??!1}),yield*b.addFinalizer(()=>b.sync(()=>A.removeEventListener(Q,I)))}),xtQ=(A,Q)=>b.locallyWith(b.log(A).pipe(b.annotateLogs(Q??{})),s0.currentLoggers,()=>WC.make(SZ.tracerLogger)),StQ=({label:A,duration:Q})=>(B)=>b.gen(function*(){let C=yield*b.runtime(),E=!1,I=b.sleep(Q).pipe(b.tap(()=>{return E=!0,b.logWarning(`${A}: Took longer than ${Q}ms`)}),b.provide(C),b.runFork),Y=Date.now(),G=yield*B.pipe(b.exit,b.onInterrupt(b.fn(function*(){let J=Date.now();if(yield*uY.interrupt(I),E)yield*b.logWarning(`${A}: Interrupted after ${J-Y}ms`)})));if(E){let J=Date.now();yield*b.logWarning(`${A}: Actual duration: ${J-Y}ms`)}return yield*uY.interrupt(I),yield*G}),gtQ=(A)=>(Q)=>b.gen(function*(){let B=Date.now(),C=yield*Q,E=Date.now();return yield*b.log(`${A}: ${E-B}ms`),C}),vtQ=(A)=>(Q)=>b.tap(Q,(B)=>b.sync(()=>A(B))),ytQ=(A)=>H(b.context(),b.tap((Q)=>iL(A??"debugLogEnv",Q))),ktQ=(A)=>(Q)=>b.orDie(b.timeoutFail(A)(Q)),btQ=(A)=>(Q)=>b.orDie(b.timeoutFail({onTimeout:()=>new mO({cause:A.error}),duration:A.duration})(Q)),htQ=(A)=>H(hC.make(),b.tap((Q)=>H(b.exit(A),b.flatMap((B)=>hC.done(Q,B)),c2Q,b.forkScoped))),mtQ=(A)=>(Q)=>b.acquireUseRelease(b.sync(()=>performance.mark(`${A}:start`)),()=>Q,()=>b.sync(()=>{performance.mark(`${A}:end`),performance.measure(A,`${A}:start`,`${A}:end`)})),l2Q=()=>{let A=uY.getCurrentFiber();if(A._tag==="None"||A.value.currentSpan===void 0)return"No current fiber";return""},ftQ=()=>console.log(l2Q());globalThis.getSpanTrace=l2Q;globalThis.logSpanTrace=ftQ;var g={};ZQ(g,{withDefaults:()=>leA,withDecodingDefault:()=>_8A,withConstructorDefault:()=>I6,validateSync:()=>B6,validatePromise:()=>_eA,validateOption:()=>Pi,validateEither:()=>PeA,validate:()=>O8A,validDate:()=>cn,uppercased:()=>i8A,uncapitalized:()=>a8A,typeSchema:()=>vQ,trimmed:()=>h8A,transformOrFail:()=>dC,transformLiterals:()=>YAQ,transformLiteral:()=>k8A,transform:()=>qQ,tag:()=>x8A,symbolWithResult:()=>Z4,symbolSerializable:()=>TO,swap:()=>X9Q,suspend:()=>pS,successSchema:()=>VO,startsWith:()=>UAQ,standardSchemaV1:()=>LeA,split:()=>XAQ,serializeSuccess:()=>hXA,serializeFailure:()=>bXA,serializeExit:()=>iQQ,serialize:()=>kXA,serializableSchema:()=>dQQ,requiredToOptional:()=>neA,required:()=>BAQ,rename:()=>JAQ,propertySignature:()=>k3,positiveBigInt:()=>mn,positiveBigDecimal:()=>WXA,positive:()=>w9A,pluck:()=>eeA,pickLiteral:()=>xeA,pick:()=>S8A,pattern:()=>_n,partialWith:()=>QAQ,partial:()=>AAQ,parseNumber:()=>T9A,parseJson:()=>D4,optionalWith:()=>reA,optionalToRequired:()=>C4,optionalToOptional:()=>ai,optionalElement:()=>meA,optional:()=>oeA,omit:()=>teA,nonPositiveBigInt:()=>un,nonPositiveBigDecimal:()=>wXA,nonPositive:()=>O9A,nonNegativeBigInt:()=>dn,nonNegativeBigDecimal:()=>VXA,nonNegative:()=>R9A,nonNaN:()=>z9A,nonEmptyString:()=>vn,negativeBigInt:()=>fn,negativeBigDecimal:()=>$XA,negative:()=>L9A,mutable:()=>v8A,multipleOf:()=>FAQ,minLength:()=>d8A,minItems:()=>pAQ,maxLength:()=>DAQ,maxItems:()=>cAQ,makePropertySignature:()=>W9,make:()=>$B,lowercased:()=>c8A,lessThanOrEqualToDuration:()=>gAQ,lessThanOrEqualToDate:()=>aAQ,lessThanOrEqualToBigInt:()=>m9A,lessThanOrEqualToBigDecimal:()=>zQQ,lessThanOrEqualTo:()=>V9A,lessThanDuration:()=>xAQ,lessThanDate:()=>oAQ,lessThanBigInt:()=>h9A,lessThanBigDecimal:()=>$QQ,lessThan:()=>W9A,length:()=>u8A,keyof:()=>heA,itemsCount:()=>e9A,isSchema:()=>ZI,isPropertySignature:()=>sS,is:()=>N9,int:()=>Qg,instanceOf:()=>P8A,includes:()=>ZAQ,headOrElse:()=>nAQ,headNonEmpty:()=>iAQ,head:()=>lAQ,hash:()=>pBB,greaterThanOrEqualToDuration:()=>yAQ,greaterThanOrEqualToDate:()=>tAQ,greaterThanOrEqualToBigInt:()=>b9A,greaterThanOrEqualToBigDecimal:()=>MQQ,greaterThanOrEqualTo:()=>Z9A,greaterThanDuration:()=>vAQ,greaterThanDate:()=>sAQ,greaterThanBigInt:()=>k9A,greaterThanBigDecimal:()=>VQQ,greaterThan:()=>U9A,getNumberIndexedAccess:()=>Cg,getClassTag:()=>Yg,fromKey:()=>ieA,fromBrand:()=>keA,format:()=>sC,finite:()=>kn,filterEffect:()=>IAQ,filter:()=>NB,failureSchema:()=>nS,extend:()=>zO,exitSchema:()=>Yo,equivalence:()=>aQQ,endsWith:()=>NAQ,encodedSchema:()=>h3,encodedBoundSchema:()=>On,encodeWithTransferables:()=>cBB,encodeUnknownSync:()=>SS,encodeUnknownPromise:()=>z8A,encodeUnknownOption:()=>gS,encodeUnknownEither:()=>$8A,encodeUnknown:()=>I4,encodeSyncDebug:()=>iBB,encodeSync:()=>xZ,encodePromise:()=>ReA,encodeOption:()=>xi,encodeEither:()=>OeA,encode:()=>EJ,element:()=>oi,deserializeSuccess:()=>lQQ,deserializeFailure:()=>cQQ,deserializeExit:()=>nQQ,deserialize:()=>uQQ,decodeUnknownSync:()=>_S,decodeUnknownPromise:()=>L8A,decodeUnknownOption:()=>jS,decodeUnknownEither:()=>w8A,decodeUnknown:()=>iE,decodeSyncDebug:()=>lBB,decodeSync:()=>A4,decodePromise:()=>qeA,decodeOption:()=>qi,decodeEither:()=>TeA,decode:()=>jJ,declare:()=>K0,debugDiff:()=>fBB,compose:()=>FO,clampDuration:()=>jAQ,clampBigInt:()=>VAQ,clampBigDecimal:()=>TQQ,clamp:()=>HAQ,capitalized:()=>o8A,brand:()=>vZ,betweenDuration:()=>i9A,betweenDate:()=>eAQ,betweenBigInt:()=>hn,betweenBigDecimal:()=>LXA,between:()=>bn,attachPropertySignature:()=>GAQ,asserts:()=>ji,asWithResult:()=>pQQ,asSerializableWithResult:()=>oQQ,asSerializable:()=>fQQ,asSchema:()=>wC,annotations:()=>wO,Void:()=>Y4,ValidDateSchemaId:()=>Nn,ValidDateFromSelf:()=>AXA,UppercasedSchemaId:()=>l8A,Uppercased:()=>xn,Uppercase:()=>e8A,Unknown:()=>rU,UniqueSymbolFromSelf:()=>R8A,Union:()=>_0,UndefinedOr:()=>$W,Undefined:()=>oS,UncapitalizedSchemaId:()=>r8A,Uncapitalized:()=>gn,Uncapitalize:()=>Q9A,Uint8ArrayFromSelf:()=>D6,Uint8ArrayFromHex:()=>hAQ,Uint8ArrayFromBase64Url:()=>bAQ,Uint8ArrayFromBase64:()=>kAQ,Uint8Array:()=>n9A,Uint8:()=>pn,UUIDSchemaId:()=>C9A,UUID:()=>E9A,URLFromSelf:()=>yn,URL:()=>G9A,ULIDSchemaId:()=>I9A,ULID:()=>Y9A,TypeId:()=>E4,Tuple:()=>xD,TrimmedSchemaId:()=>b8A,Trimmed:()=>eS,Trim:()=>B9A,ToPropertySignature:()=>H9,TimeZoneOffsetFromSelf:()=>Eg,TimeZoneOffset:()=>YXA,TimeZoneNamedFromSelf:()=>Ig,TimeZoneNamed:()=>GXA,TimeZoneFromSelf:()=>on,TimeZone:()=>JXA,TemplateLiteralParser:()=>yeA,TemplateLiteral:()=>T8A,TaggedStruct:()=>i2,TaggedRequest:()=>rQQ,TaggedError:()=>vD,TaggedClass:()=>Gg,SymbolFromSelf:()=>aS,Symbol:()=>y9A,Struct:()=>hB,StringFromUriComponent:()=>uAQ,StringFromHex:()=>dAQ,StringFromBase64Url:()=>fAQ,StringFromBase64:()=>mAQ,String:()=>lQ,StartsWithSchemaId:()=>An,SortedSetFromSelf:()=>gXA,SortedSet:()=>hQQ,SetFromSelf:()=>ZXA,Set:()=>KQQ,RefineSchemaId:()=>Pn,RedactedFromSelf:()=>u9A,Redacted:()=>TAQ,Record:()=>$O,ReadonlySetFromSelf:()=>NXA,ReadonlySet:()=>WQQ,ReadonlyMapFromSelf:()=>tn,ReadonlyMapFromRecord:()=>XQQ,ReadonlyMap:()=>Ao,PropertySignatureTypeId:()=>Tn,PropertySignatureTransformation:()=>gZ,PropertySignatureDeclaration:()=>Y6,PropertyKey:()=>Go,PositiveBigIntFromSelf:()=>MAQ,PositiveBigInt:()=>$AQ,PositiveBigDecimalSchemaId:()=>HXA,PositiveBigDecimalFromSelf:()=>wQQ,Positive:()=>_9A,PatternSchemaId:()=>ei,OptionFromUndefinedOr:()=>IQQ,OptionFromSelf:()=>D2,OptionFromNullishOr:()=>EQQ,OptionFromNullOr:()=>CQQ,OptionFromNonEmptyTrimmedString:()=>UXA,Option:()=>an,Object:()=>MO,NumberFromString:()=>LO,Number:()=>TI,NullishOr:()=>ZO,NullOr:()=>NO,Null:()=>rS,Not:()=>v9A,NonPositiveBigIntFromSelf:()=>LAQ,NonPositiveBigInt:()=>OAQ,NonPositiveBigDecimalSchemaId:()=>zXA,NonPositiveBigDecimalFromSelf:()=>RQQ,NonPositive:()=>x9A,NonNegativeInt:()=>cS,NonNegativeBigIntFromSelf:()=>f9A,NonNegativeBigInt:()=>RAQ,NonNegativeBigDecimalSchemaId:()=>KXA,NonNegativeBigDecimalFromSelf:()=>LQQ,NonNegative:()=>Bg,NonNaNSchemaId:()=>$9A,NonNaN:()=>P9A,NonEmptyTrimmedString:()=>J4,NonEmptyString:()=>Ag,NonEmptyChunkFromSelf:()=>OXA,NonEmptyChunk:()=>PQQ,NonEmptyArrayEnsure:()=>peA,NonEmptyArray:()=>F9,Never:()=>N2,NegativeBigIntFromSelf:()=>zAQ,NegativeBigInt:()=>wAQ,NegativeBigDecimalSchemaId:()=>MXA,NegativeBigDecimalFromSelf:()=>OQQ,Negative:()=>j9A,MultipleOfSchemaId:()=>X9A,MsgPack:()=>uBB,MinLengthSchemaId:()=>f8A,MinItemsSchemaId:()=>a9A,MaxLengthSchemaId:()=>m8A,MaxItemsSchemaId:()=>s9A,MapFromSelf:()=>en,MapFromRecord:()=>FQQ,Map:()=>ZQQ,LowercasedSchemaId:()=>p8A,Lowercased:()=>jn,Lowercase:()=>t8A,Literal:()=>J0,ListFromSelf:()=>SXA,List:()=>bQQ,LessThanSchemaId:()=>H9A,LessThanOrEqualToSchemaId:()=>K9A,LessThanOrEqualToDurationSchemaId:()=>SAQ,LessThanOrEqualToDateSchemaId:()=>rAQ,LessThanOrEqualToBigIntSchemaId:()=>Yn,LessThanOrEqualToBigDecimalSchemaId:()=>Mn,LessThanDurationSchemaId:()=>HO,LessThanDateSchemaId:()=>WO,LessThanBigIntSchemaId:()=>In,LessThanBigDecimalSchemaId:()=>Vn,LengthSchemaId:()=>ti,JsonValue:()=>X6A,JsonNumberSchemaId:()=>S9A,JsonNumber:()=>g9A,ItemsCountSchemaId:()=>t9A,IntSchemaId:()=>F9A,Int:()=>SD,InstanceOfSchemaId:()=>ni,IncludesSchemaId:()=>Bn,HashSetFromSelf:()=>jXA,HashSet:()=>yQQ,HashMapFromSelf:()=>xXA,HashMap:()=>kQQ,GreaterThanSchemaId:()=>D9A,GreaterThanOrEqualToSchemaId:()=>N9A,GreaterThanOrEqualToDurationSchemaId:()=>Dn,GreaterThanOrEqualToDateSchemaId:()=>Xn,GreaterThanOrEqualToBigIntSchemaId:()=>En,GreaterThanOrEqualToBigDecimalSchemaId:()=>Kn,GreaterThanDurationSchemaId:()=>Jn,GreaterThanDateSchemaId:()=>Zn,GreaterThanBigIntSchemaId:()=>Cn,GreaterThanBigDecimalSchemaId:()=>Wn,FromPropertySignature:()=>G6,FiniteSchemaId:()=>J9A,Finite:()=>q9A,FiberIdFromSelf:()=>Eo,FiberId:()=>PXA,ExitFromSelf:()=>_XA,Exit:()=>KO,Enums:()=>geA,EndsWithSchemaId:()=>Qn,EitherFromUnion:()=>UQQ,EitherFromSelf:()=>sn,Either:()=>DQQ,DurationFromSelf:()=>OO,DurationFromNanos:()=>p9A,DurationFromMillis:()=>c9A,Duration:()=>l9A,Defect:()=>wG,DateTimeZonedFromSelf:()=>rn,DateTimeZoned:()=>DXA,DateTimeUtcFromSelf:()=>RO,DateTimeUtcFromNumber:()=>CXA,DateTimeUtcFromDate:()=>EXA,DateTimeUtc:()=>IXA,DateFromString:()=>ln,DateFromSelfSchemaId:()=>Hn,DateFromSelf:()=>m3,DateFromNumber:()=>QXA,Date:()=>nn,DataFromSelf:()=>TXA,Data:()=>_QQ,Config:()=>mQQ,Class:()=>N4,ChunkFromSelf:()=>f3,Chunk:()=>qQQ,Char:()=>s8A,CauseFromSelf:()=>iS,Cause:()=>Io,CapitalizedSchemaId:()=>n8A,Capitalized:()=>Sn,Capitalize:()=>A9A,BrandSchemaId:()=>ii,BooleanFromUnknown:()=>vXA,BooleanFromString:()=>yXA,Boolean:()=>jD,BigIntFromSelf:()=>G4,BigIntFromNumber:()=>d9A,BigInt:()=>U4,BigDecimalFromSelf:()=>U6,BigDecimalFromNumber:()=>FXA,BigDecimal:()=>XXA,BetweenSchemaId:()=>M9A,BetweenDurationSchemaId:()=>Un,BetweenDateSchemaId:()=>Fn,BetweenBigIntSchemaId:()=>Gn,BetweenBigDecimalSchemaId:()=>$n,Base64FromUint8Array:()=>nBB,ArrayFormatterIssue:()=>Jo,ArrayEnsure:()=>ueA,Array:()=>Z0,Any:()=>wW});var J1A=Symbol.for("@effect/platform/CommandExecutor"),r2Q=Symbol.for("@effect/platform/Process"),a2Q=Hz(),s2Q=Hz(),D1A=pA("@effect/platform/CommandExecutor"),t2Q=(A)=>{let Q=(C)=>xJ(h(A(C),(E)=>E.stdout)),B=(C,E)=>{let I=new TextDecoder(E);return $o(Ho(Q(C),N0((Y)=>I.decode(Y))))};return{[J1A]:J1A,start:A,exitCode:(C)=>fC(v(A(C),(E)=>E.exitCode)),stream:Q,string:(C,E="utf-8")=>{let I=new TextDecoder(E);return H(A(C),v((Y)=>F4(Y.stdout,utQ)),h((Y)=>I.decode(Y)),fC)},lines:(C,E="utf-8")=>{return H(B(C,E),Vo,h(ih))},streamLines:B}},utQ=ABQ(new Uint8Array,(A,Q)=>hN(Q,A,(B,C)=>{let E=new Uint8Array(B.length+C.length);return E.set(B),E.set(C,B.length),E}));var U1A=Symbol.for("@effect/platform/Command");var ADQ=(A)=>Array.from(N1A(A)),N1A=(A)=>{switch(A._tag){case"StandardCommand":return dA(A);case"PipedCommand":return tQ(N1A(A.left),N1A(A.right))}};var QDQ={[U1A]:U1A,pipe(){return e(this,arguments)},...V8},ptQ={...QDQ,_tag:"StandardCommand",toJSON(){return{_id:"@effect/platform/Command",_tag:this._tag,command:this.command,args:this.args,env:Object.fromEntries(this.env),cwd:this.cwd.toJSON(),shell:this.shell,gid:this.gid.toJSON(),uid:this.uid.toJSON()}}},ctQ=(A)=>Object.assign(Object.create(ptQ),A),ltQ={...QDQ,_tag:"PipedCommand",toJSON(){return{_id:"@effect/platform/Command",_tag:this._tag,left:this.left.toJSON(),right:this.right.toJSON()}}},itQ=(A)=>Object.assign(Object.create(ltQ),A);var Z1A=F(2,(A,Q)=>{switch(A._tag){case"StandardCommand":return ctQ({...A,stdin:Q});case"PipedCommand":return itQ({...A,left:Z1A(A.left,Q)})}});var X1A=ADQ;var F1A=Z1A;var BDQ=D1A,W1A=r2Q,CDQ=a2Q,EDQ=s2Q,IDQ=t2Q;var V1A=Symbol.for("@effect/platform/Error/PlatformErrorTypeId"),YDQ=(A)=>(Q)=>TH({[V1A]:V1A,_tag:A,...Q}),GDQ=YDQ("BadArgument"),JDQ=YDQ("SystemError");var nY=(A,Q)=>{class B extends xw{_tag=Q}return B.prototype[A]=A,B.prototype.name=Q,B},yD=GDQ,V9=JDQ;var DDQ=Symbol.for("@effect/platform/Cookies");var UDQ=Symbol.for("@effect/platform/Cookies/Cookie");var atQ={[DDQ]:DDQ,...V8,toJSON(){return{_id:"@effect/platform/Cookies",cookies:O1(this.cookies,(A)=>A.toJSON())}},pipe(){return e(this,arguments)}},stQ=(A)=>{let Q=Object.create(atQ);return Q.cookies=A,Q},ZDQ=(A)=>{let Q={};for(let B of A)Q[B.name]=B;return stQ(Q)},fO=(A)=>{let Q=typeof A==="string"?[A]:A,B=[];for(let C of Q){let E=ttQ(C.trim());if(XA(E))B.push(E.value)}return ZDQ(B)};function ttQ(A){let Q=A.split(";").map((G)=>G.trim()).filter((G)=>G!=="");if(Q.length===0)return x();let B=Q[0].indexOf("=");if(B===-1)return x();let C=Q[0].slice(0,B);if(!etQ.test(C))return x();let E=Q[0].slice(B+1),I=XDQ(E);if(Q.length===1)return j(Object.assign(Object.create(NDQ),{name:C,value:I,valueEncoded:E}));let Y={};for(let G=1;G<Q.length;G++){let J=Q[G],D=J.indexOf("="),U=D===-1?J:J.slice(0,D).trim(),N=D===-1?void 0:J.slice(D+1).trim();switch(U.toLowerCase()){case"domain":{if(N===void 0)break;let Z=N.trim().replace(/^\./,"");if(Z)Y.domain=Z;break}case"expires":{if(N===void 0)break;let Z=new Date(N);if(!isNaN(Z.getTime()))Y.expires=Z;break}case"max-age":{if(N===void 0)break;let Z=parseInt(N,10);if(!isNaN(Z))Y.maxAge=dJ(Z);break}case"path":{if(N===void 0)break;if(N[0]==="/")Y.path=N;break}case"priority":{if(N===void 0)break;switch(N.toLowerCase()){case"low":Y.priority="low";break;case"medium":Y.priority="medium";break;case"high":Y.priority="high";break}break}case"httponly":{Y.httpOnly=!0;break}case"secure":{Y.secure=!0;break}case"partitioned":{Y.partitioned=!0;break}case"samesite":{if(N===void 0)break;switch(N.toLowerCase()){case"lax":Y.sameSite="lax";break;case"strict":Y.sameSite="strict";break;case"none":Y.sameSite="none";break}break}}}return j(Object.assign(Object.create(NDQ),{name:C,value:I,valueEncoded:E,options:Object.keys(Y).length>0?Y:void 0}))}var H4=ZDQ([]),wg=(A)=>_q(A.cookies),etQ=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,NDQ={[UDQ]:UDQ,...V8,toJSON(){return{_id:"@effect/platform/Cookies/Cookie",name:this.name,value:this.value,options:this.options}}};function AeQ(A){let Q=A.name+"="+A.valueEncoded;if(A.options===void 0)return Q;let B=A.options;if(B.maxAge!==void 0){let C=u0A(B.maxAge);Q+="; Max-Age="+Math.trunc(C)}if(B.domain!==void 0)Q+="; Domain="+B.domain;if(B.path!==void 0)Q+="; Path="+B.path;if(B.priority!==void 0)switch(B.priority){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break}if(B.expires!==void 0)Q+="; Expires="+B.expires.toUTCString();if(B.httpOnly)Q+="; HttpOnly";if(B.secure)Q+="; Secure";if(B.partitioned)Q+="; Partitioned";if(B.sameSite!==void 0)switch(B.sameSite){case"lax":Q+="; SameSite=Lax";break;case"strict":Q+="; SameSite=Strict";break;case"none":Q+="; SameSite=None";break}return Q}var lo=(A)=>Object.values(A.cookies).map(AeQ);function io(A){let Q={},B=A.length,C=0,E=0;while(!0){if(E===B)break;if(E=A.indexOf(";",C),E===-1)E=B;let I=A.indexOf("=",C);if(I===-1)break;if(I>E){C=E+1;continue}let Y=A.substring(C,I++).trim();if(Q[Y]===void 0){let G=A.charCodeAt(I)===34?A.substring(I+1,E-1).trim():A.substring(I,E).trim();Q[Y]=G.indexOf("%")!==-1?XDQ(G):G}C=E+1}return Q}var XDQ=(A)=>{try{return decodeURIComponent(A)}catch{return A}};var FDQ=(A,Q,B)=>(...C)=>OB((E)=>{try{A(...C,(I,Y)=>{if(I)E(ZA(Q?Q(I,C):I));else E(c(Y))})}catch(I){E(B?ZA(B(I,C)):MC(I))}});var qI=FDQ;var Lg=Symbol.for("@effect/platform/Etag/Generator"),dO=pA("@effect/platform/Etag/Generator"),HDQ=(A)=>{switch(A._tag){case"Weak":return`W/"${A.value}"`;case"Strong":return`"${A.value}"`}},WDQ=(A)=>{let Q=A.mtime._tag==="Some"?A.mtime.value.getTime().toString(16):"0";return`${A.size.toString(16)}-${Q}`},KDQ=(A)=>{return`${A.size.toString(16)}-${A.lastModified.toString(16)}`},VDQ=q0(dO,dO.of({[Lg]:Lg,fromFileInfo(A){return r(()=>({_tag:"Strong",value:WDQ(A)}))},fromFileWeb(A){return r(()=>({_tag:"Strong",value:KDQ(A)}))}})),no=q0(dO,dO.of({[Lg]:Lg,fromFileInfo(A){return r(()=>({_tag:"Weak",value:WDQ(A)}))},fromFileWeb(A){return r(()=>({_tag:"Weak",value:KDQ(A)}))}}));var M1A=HDQ;var $DQ=dO,zDQ=VDQ,Og=no;var $1A=Symbol.for("@effect/platform/Headers"),CeQ=(A)=>o(A,$1A),Rg=Object.assign(Object.create(null),{[$1A]:$1A,[zq](A){return i3(this,p8(A,Tg))}}),ro=(A)=>Object.assign(Object.create(Rg),A),z1A=K0(CeQ,{identifier:"Headers",equivalence:()=>nzA(KyA)}),wDQ=qQ($O({key:lQ,value:lQ}),z1A,{strict:!0,decode:(A)=>hI(A),encode:s}),o2=Object.create(Rg),hI=(A)=>{if(A===void 0)return o2;else if(Symbol.iterator in A){let B=Object.create(Rg);for(let[C,E]of A)B[C.toLowerCase()]=E;return B}let Q=Object.create(Rg);for(let[B,C]of Object.entries(A))if(Array.isArray(C))Q[B.toLowerCase()]=C.join(", ");else if(C!==void 0)Q[B.toLowerCase()]=C;return Q},qW=(A)=>Object.setPrototypeOf(A,Rg);var PW=F(3,(A,Q,B)=>{let C=ro(A);return C[Q.toLowerCase()]=B,C}),w1A=F(2,(A,Q)=>ro({...A,...hI(Q)})),F6=F(2,(A,Q)=>{let B=ro(A);return Object.assign(B,Q),B}),L1A=F(2,(A,Q)=>{let B=ro(A),C=(E)=>{if(typeof E==="string"){let I=E.toLowerCase();if(I in A)delete B[I]}else for(let I in A)if(E.test(I))delete B[I]};if(Array.isArray(Q))for(let E=0;E<Q.length;E++)C(Q[E]);else C(Q);return B}),i3=F(2,(A,Q)=>{let B={...A},C=(E)=>{if(typeof E==="string"){let I=E.toLowerCase();if(I in A)B[I]=Z9(A[I])}else for(let I in A)if(E.test(I))B[I]=Z9(A[I])};if(Array.isArray(Q))for(let E=0;E<Q.length;E++)C(Q[E]);else C(Q);return B}),Tg=xA("@effect/platform/Headers/currentRedactedNames",()=>II(["authorization","cookie","set-cookie","x-api-key"]));var LDQ=Symbol.for("@effect/platform/HttpClientError");var ODQ=LDQ;class aU extends nY(ODQ,"RequestError"){get methodAndUrl(){return`${this.request.method} ${this.request.url}`}get message(){return this.description?`${this.reason}: ${this.description} (${this.methodAndUrl})`:`${this.reason} error (${this.methodAndUrl})`}}class sU extends nY(ODQ,"ResponseError"){get methodAndUrl(){return`${this.request.method} ${this.request.url}`}get message(){let A=`${this.response.status} ${this.methodAndUrl}`;return this.description?`${this.reason}: ${this.description} (${A})`:`${this.reason} error (${A})`}}var ao=pA("@effect/platform/FileSystem"),Pg=(A)=>typeof A==="bigint"?A:BigInt(A);var qg=BigInt(1024),V20=qg*qg*qg*qg*qg;var RDQ=(A)=>{return ao.of({...A,exists:(Q)=>H(A.access(Q),IB(!0),HG("SystemError",(B)=>B.reason==="NotFound"?c(!1):ZA(B))),readFileString:(Q,B)=>XZ(A.readFile(Q),{try:(C)=>new TextDecoder(B).decode(C),catch:()=>yD({module:"FileSystem",method:"readFileString",message:"invalid encoding"})}),stream:(Q,B)=>H(A.open(Q,{flag:"r"}),B?.offset?VB((C)=>C.seek(B.offset,"start")):s,h((C)=>IeQ(C,B)),xJ),sink:(Q,B)=>H(A.open(Q,{flag:"w",...B}),h((C)=>QBQ((E)=>C.writeAll(E))),CBQ),writeFileString:(Q,B,C)=>v(VE({try:()=>new TextEncoder().encode(B),catch:()=>yD({module:"FileSystem",method:"writeFileString",message:"could not encode string"})}),(E)=>A.writeFile(Q,E,C))})},CY=(A,Q)=>V9({module:"FileSystem",method:A,reason:"NotFound",message:"No such file or directory",pathOrDescriptor:Q}),TDQ=(A)=>{return{access(Q){return ZA(CY("access",Q))},chmod(Q){return ZA(CY("chmod",Q))},chown(Q){return ZA(CY("chown",Q))},copy(Q){return ZA(CY("copy",Q))},copyFile(Q){return ZA(CY("copyFile",Q))},exists(){return c(!1)},link(Q){return ZA(CY("link",Q))},makeDirectory(){return MC("not implemented")},makeTempDirectory(){return MC("not implemented")},makeTempDirectoryScoped(){return MC("not implemented")},makeTempFile(){return MC("not implemented")},makeTempFileScoped(){return MC("not implemented")},open(Q){return ZA(CY("open",Q))},readDirectory(Q){return ZA(CY("readDirectory",Q))},readFile(Q){return ZA(CY("readFile",Q))},readFileString(Q){return ZA(CY("readFileString",Q))},readLink(Q){return ZA(CY("readLink",Q))},realPath(Q){return ZA(CY("realPath",Q))},remove(){return u},rename(Q){return ZA(CY("rename",Q))},sink(Q){return eQQ(CY("sink",Q))},stat(Q){return ZA(CY("stat",Q))},stream(Q){return OW(CY("stream",Q))},symlink(Q){return ZA(CY("symlink",Q))},truncate(Q){return ZA(CY("truncate",Q))},utimes(Q){return ZA(CY("utimes",Q))},watch(Q){return OW(CY("watch",Q))},writeFile(Q){return ZA(CY("writeFile",Q))},writeFileString(Q){return ZA(CY("writeFileString",Q))},...A}},O1A=(A)=>q0(ao,TDQ(A)),IeQ=(A,{bufferSize:Q=16,bytesToRead:B,chunkSize:C=Pg(65536)}={})=>{let E=B!==void 0?Pg(B):void 0,I=Pg(C);function Y(G){if(E!==void 0&&E<=G)return e5;let J=E!==void 0&&E-G<I?E-G:I;return lU(A.readAlloc(J),HA({onNone:()=>e5,onSome:(D)=>lU(G9(dA(D)),(U)=>Y(G+BigInt(D.length)))}))}return Uo(X4(Y(BigInt(0))),{capacity:Q})};var M9=Pg;var oY=ao,PDQ=RDQ;var so=Symbol.for("@effect/platform/FileSystem/File");var _DQ=Hz(),jDQ=s7("Create"),xDQ=s7("Update"),SDQ=s7("Remove");class R1A extends uB("@effect/platform/FileSystem/WatchBackend")(){}var kD=(A)=>{let Q=gDQ(A),B=[];for(let C=0;C<Q.length;C++)if(Array.isArray(Q[C][0])){let[E,I]=Q[C];B.push([`${E[0]}[${E.slice(1).join("][")}]`,I])}else B.push(Q[C]);return B},gDQ=(A)=>{let Q=Symbol.iterator in A?aA(A):Object.entries(A),B=[];for(let[C,E]of Q)if(Array.isArray(E)){for(let I=0;I<E.length;I++)if(E[I]!==void 0)B.push([C,String(E[I])])}else if(typeof E==="object"){let I=gDQ(E);for(let[Y,G]of I)B.push([[C,...typeof Y==="string"?[Y]:Y],G])}else if(E!==void 0)B.push([C,String(E)]);return B};var vDQ=[];var yDQ=F(2,(A,Q)=>{let B=kD(Q),C=B.map(([E])=>E);return CX(kV(A,([E])=>C.includes(E)),B)});var kDQ=(A,Q,B)=>{try{let C=new URL(A,YeQ());for(let E=0;E<Q.length;E++){let[I,Y]=Q[E];if(Y!==void 0)C.searchParams.append(I,Y)}if(B._tag==="Some")C.hash=B.value;return $A(C)}catch(C){return wA(C)}};var YeQ=()=>{if("location"in globalThis&&globalThis.location!==void 0&&globalThis.location.origin!==void 0&&globalThis.location.pathname!==void 0)return location.origin+location.pathname;return};var gJ=Symbol.for("@effect/platform/HttpIncomingMessage");var _W=xA("@effect/platform/HttpIncomingMessage/maxBodySize",()=>II(x()));var W4=(A,Q)=>{let B=A.headers["content-type"]??"",C;if(B.includes("application/json"))try{C=eB(A.json)}catch{}else if(B.includes("text/")||B.includes("urlencoded"))try{C=eB(A.text)}catch{}let E={...Q,headers:ON(A.headers),remoteAddress:A.remoteAddress.toJSON()};if(C!==void 0)E.body=C;return E};var bDQ=(A)=>qW({b3:`${A.traceId}-${A.spanId}-${A.sampled?"1":"0"}${A.parent._tag==="Some"?`-${A.parent.value.spanId}`:""}`,traceparent:`00-${A.traceId}-${A.spanId}-${A.sampled?"01":"00"}`}),hDQ=(A)=>{let Q=NeQ(A);if(Q._tag==="Some")return Q;if(Q=GeQ(A),Q._tag==="Some")return Q;return JeQ(A)},GeQ=(A)=>{if(!("b3"in A))return x();let Q=A.b3.split("-");if(Q.length<2)return x();return j(Cd({traceId:Q[0],spanId:Q[1],sampled:Q[2]?Q[2]==="1":!0}))},JeQ=(A)=>{if(!A["x-b3-traceid"]||!A["x-b3-spanid"])return x();return j(Cd({traceId:A["x-b3-traceid"],spanId:A["x-b3-spanid"],sampled:A["x-b3-sampled"]?A["x-b3-sampled"]==="1":!0}))},DeQ=/^[0-9a-f]{32}$/i,UeQ=/^[0-9a-f]{16}$/i,NeQ=(A)=>{if(!A.traceparent)return x();let Q=A.traceparent.split("-");if(Q.length!==4)return x();let[B,C,E,I]=Q;switch(B){case"00":{if(DeQ.test(C)===!1||UeQ.test(E)===!1)return x();return j(Cd({traceId:C,spanId:E,sampled:(parseInt(I,16)&1)===1}))}default:return x()}};var to=Symbol.for("@effect/platform/HttpBody");class _g{[to];constructor(){this[to]=to}[sA](){return this.toJSON()}toString(){return PQ(this)}}class mDQ extends _g{_tag="Empty";toJSON(){return{_id:"@effect/platform/HttpBody",_tag:"Empty"}}}var jg=new mDQ;class fDQ extends _g{body;contentType;contentLength;_tag="Raw";constructor(A,Q,B){super();this.body=A,this.contentType=Q,this.contentLength=B}toJSON(){return{_id:"@effect/platform/HttpBody",_tag:"Raw",body:this.body,contentType:this.contentType,contentLength:this.contentLength}}}var P1A=(A,Q)=>new fDQ(A,Q?.contentType,Q?.contentLength);class dDQ extends _g{body;contentType;_tag="Uint8Array";constructor(A,Q){super();this.body=A,this.contentType=Q}get contentLength(){return this.body.length}toJSON(){return{_id:"@effect/platform/HttpBody",_tag:"Uint8Array",body:this.contentType.startsWith("text/")||this.contentType.endsWith("json")?new TextDecoder().decode(this.body):`Uint8Array(${this.body.length})`,contentType:this.contentType,contentLength:this.contentLength}}}var xg=(A,Q)=>new dDQ(A,Q??"application/octet-stream"),ZeQ=new TextEncoder,Sg=(A,Q)=>xg(ZeQ.encode(A),Q??"text/plain"),eo=(A)=>Sg(JSON.stringify(A),"application/json");class uDQ extends _g{stream;contentType;contentLength;_tag="Stream";constructor(A,Q,B){super();this.stream=A,this.contentType=Q,this.contentLength=B}toJSON(){return{_id:"@effect/platform/HttpBody",_tag:"Stream",contentType:this.contentType,contentLength:this.contentLength}}}var Ar=(A,Q,B)=>new uDQ(A,Q??"application/octet-stream",B);var pDQ=Symbol.for("@effect/platform/HttpClientRequest"),WeQ={[pDQ]:pDQ,...V8,toJSON(){return{_id:"@effect/platform/HttpClientRequest",method:this.method,url:this.url,urlParams:this.urlParams,hash:this.hash,headers:ON(this.headers),body:this.body.toJSON()}},pipe(){return e(this,arguments)}};function V4(A,Q,B,C,E,I){let Y=Object.create(WeQ);return Y.method=A,Y.url=Q,Y.urlParams=B,Y.hash=C,Y.headers=E,Y.body=I,Y}var KeQ=V4("GET","",vDQ,x(),o2,jg),jW=(A)=>(Q,B)=>nDQ(KeQ,{method:A,url:Q,...B??void 0}),j1A=jW("GET"),x1A=jW("POST"),S1A=jW("PUT"),g1A=jW("PATCH"),v1A=jW("DELETE"),y1A=jW("HEAD"),k1A=jW("OPTIONS"),nDQ=F(2,(A,Q)=>{let B=A;if(Q.method)B=rDQ(B,Q.method);if(Q.url)B=m1A(B,Q.url);if(Q.headers)B=Qr(B,Q.headers);if(Q.urlParams)B=sDQ(B,Q.urlParams);if(Q.hash)B=tDQ(B,Q.hash);if(Q.body)B=eDQ(B,Q.body);if(Q.accept)B=h1A(B,Q.accept);if(Q.acceptJson)B=oDQ(B);return B}),b1A=F(3,(A,Q,B)=>V4(A.method,A.url,A.urlParams,A.hash,PW(A.headers,Q,B),A.body)),Qr=F(2,(A,Q)=>V4(A.method,A.url,A.urlParams,A.hash,w1A(A.headers,Q),A.body));var h1A=F(2,(A,Q)=>b1A(A,"Accept",Q)),oDQ=h1A("application/json"),rDQ=F(2,(A,Q)=>V4(Q,A.url,A.urlParams,A.hash,A.headers,A.body)),m1A=F(2,(A,Q)=>{if(typeof Q==="string")return V4(A.method,Q,A.urlParams,A.hash,A.headers,A.body);let B=new URL(Q.toString()),C=kD(B.searchParams),E=B.hash?j(B.hash.slice(1)):x();return B.search="",B.hash="",V4(A.method,B.toString(),C,E,A.headers,A.body)});var aDQ=F(2,(A,Q)=>V4(A.method,Q.endsWith("/")&&A.url.startsWith("/")?Q+A.url.slice(1):Q+A.url,A.urlParams,A.hash,A.headers,A.body));var sDQ=F(2,(A,Q)=>V4(A.method,A.url,yDQ(A.urlParams,Q),A.hash,A.headers,A.body)),tDQ=F(2,(A,Q)=>V4(A.method,A.url,A.urlParams,j(Q),A.headers,A.body));var eDQ=F(2,(A,Q)=>{let B=A.headers;if(Q._tag==="Empty"||Q._tag==="FormData")B=L1A(B,["Content-type","Content-length"]);else{let C=Q.contentType;if(C)B=PW(B,"content-type",C);let E=Q.contentLength;if(E)B=PW(B,"content-length",E.toString())}return V4(A.method,A.url,A.urlParams,A.hash,B,Q)});var gg=Symbol.for("@effect/platform/HttpClientResponse");var d1A=Symbol.for("@effect/platform/HttpClient"),p1A=pA("@effect/platform/HttpClient"),QUQ=xA(Symbol.for("@effect/platform/HttpClient/tracerDisabledWhen"),()=>II(x0));var BUQ=xA(Symbol.for("@effect/platform/HttpClient/currentTracerPropagation"),()=>II(!0));var CUQ=YG()("@effect/platform/HttpClient/SpanNameGenerator",{defaultValue:()=>(A)=>`http.client ${A.method}`});var zeQ={[d1A]:d1A,pipe(){return e(this,arguments)},...V8,toJSON(){return{_id:"@effect/platform/HttpClient"}},get(A,Q){return this.execute(j1A(A,Q))},head(A,Q){return this.execute(y1A(A,Q))},post(A,Q){return this.execute(x1A(A,Q))},put(A,Q){return this.execute(S1A(A,Q))},patch(A,Q){return this.execute(g1A(A,Q))},del(A,Q){return this.execute(v1A(A,Q))},options(A,Q){return this.execute(k1A(A,Q))}};var Cr=(A,Q)=>{let B=Object.create(zeQ);return B.preprocess=Q,B.postprocess=A,B.execute=function(C){return A(Q(C))},B},Br=xA("@effect/platform/HttpClient/responseRegistry",()=>{if("FinalizationRegistry"in globalThis&&globalThis.FinalizationRegistry){let Q=new FinalizationRegistry((B)=>{B.abort()});return{register(B,C){Q.register(B,C,B)},unregister(B){Q.unregister(B)}}}let A=new Map;return{register(Q,B){A.set(Q,setTimeout(()=>B.abort(),5000))},unregister(Q){let B=A.get(Q);if(B===void 0)return;clearTimeout(B),A.delete(Q)}}}),c1A=(A)=>Cr((Q)=>v(Q,(B)=>KB((C)=>{let E=new AbortController,I=kDQ(B.url,B.urlParams,B.hash);if(I._tag==="Left")return ZA(new aU({request:B,reason:"InvalidUrl",cause:I.left}));let Y=I.right;if(!C.getFiberRef($2A)||C.getFiberRef(QUQ)(B))return eI((D)=>aC(D(A(B,Y,E.signal,C)),{onSuccess(U){return Br.register(U,E),c(new u1A(U,E))},onFailure(U){if(k2(U))E.abort();return z0(U)}}));let J=nQ(C.currentContext,CUQ);return uX(J(B),{kind:"client",captureStackTrace:!1},(D)=>{if(D.attribute("http.request.method",B.method),D.attribute("server.address",Y.origin),Y.port!=="")D.attribute("server.port",+Y.port);D.attribute("url.full",Y.toString()),D.attribute("url.path",Y.pathname),D.attribute("url.scheme",Y.protocol.slice(0,-1));let U=Y.search.slice(1);if(U!=="")D.attribute("url.query",U);let N=C.getFiberRef(Tg),Z=i3(B.headers,N);for(let X in Z)D.attribute(`http.request.header.${X}`,String(Z[X]));return B=C.getFiberRef(BUQ)?Qr(B,bDQ(D)):B,eI((X)=>X(A(B,Y,E.signal,C)).pipe(zZ(D),aC({onSuccess:(W)=>{D.attribute("http.response.status_code",W.status);let K=i3(W.headers,N);for(let V in K)D.attribute(`http.response.header.${V}`,String(K[V]));return Br.register(W,E),c(new u1A(W,E))},onFailure(W){if(k2(W))E.abort();return z0(W)}})))})})),c);class u1A{original;controller;constructor(A,Q){this.original=A,this.controller=Q}[gg]=gg;[gJ]=gJ;applyInterrupt(A){return LA(()=>{return Br.unregister(this.original),rw(A,()=>r(()=>{this.controller.abort()}))})}get request(){return this.original.request}get status(){return this.original.status}get headers(){return this.original.headers}get cookies(){return this.original.cookies}get remoteAddress(){return this.original.remoteAddress}get formData(){return this.applyInterrupt(this.original.formData)}get text(){return this.applyInterrupt(this.original.text)}get json(){return this.applyInterrupt(this.original.json)}get urlParamsBody(){return this.applyInterrupt(this.original.urlParamsBody)}get arrayBuffer(){return this.applyInterrupt(this.original.arrayBuffer)}get stream(){return zo(()=>{return Br.unregister(this.original),qO(this.original.stream,(A)=>{if(Bw(A))this.controller.abort();return u})})}toJSON(){return this.original.toJSON()}[sA](){return this.original[sA]()}}var EUQ=F(2,(A,Q)=>{let B=A;return Cr((C)=>Q(B.postprocess(C)),B.preprocess)});var IUQ=F(2,(A,Q)=>{let B=A;return Cr(B.postprocess,(C)=>h(B.preprocess(C),Q))});var l1A=(A)=>GB(p1A,v(xC(),(Q)=>h(A,(B)=>EUQ(B,B9((C)=>E0(Q,C))))));var OeQ=Symbol.for("@effect/platform/HttpApiSchema/AnnotationStatus");var W6=(A)=>{let Q=li(A,"status");if(A.status!==void 0)Q[OeQ]=A.status;return Q};var i1A=(A)=>{function Q(C){if(kF(C))for(let E of C.types)Q(E);else B.push(C)}let B=[];return Q(A),B},JUQ=(A,Q)=>kC.make(Array.from(new Set([...i1A(A),...i1A(Q)]))),$9=(A,Q)=>$B(JUQ(A.ast,Q.ast));var ReQ=(A)=>Y4.annotations(W6({status:A}));var DUQ=ReQ(204);var UUQ=Symbol.for("@effect/platform/HttpApi");var xeQ={[UUQ]:UUQ,pipe(){return e(this,arguments)},add(A){return n3({identifier:this.identifier,groups:IBA(this.groups,A.identifier,A),errorSchema:this.errorSchema,annotations:this.annotations,middlewares:this.middlewares})},addHttpApi(A){let Q={...this.groups};for(let B in A.groups){let C=A.groups[B].annotateContext(F0());C.annotations=E0(A.annotations,C.annotations),C.middlewares=new Set([...A.middlewares,...C.middlewares]),Q[B]=C}return n3({identifier:this.identifier,groups:Q,errorSchema:$9(this.errorSchema,A.errorSchema),annotations:this.annotations,middlewares:this.middlewares})},addError(A,Q){return n3({identifier:this.identifier,groups:this.groups,errorSchema:$9(this.errorSchema,Q?.status?A.annotations(W6({status:Q.status})):A),annotations:this.annotations,middlewares:this.middlewares})},prefix(A){return n3({identifier:this.identifier,groups:O1(this.groups,(Q)=>Q.prefix(A)),errorSchema:this.errorSchema,annotations:this.annotations,middlewares:this.middlewares})},middleware(A){return n3({identifier:this.identifier,groups:this.groups,errorSchema:$9(this.errorSchema,A.failure),annotations:this.annotations,middlewares:new Set([...this.middlewares,A])})},annotate(A,Q){return n3({identifier:this.identifier,groups:this.groups,errorSchema:this.errorSchema,annotations:DQ(this.annotations,A,Q),middlewares:this.middlewares})},annotateContext(A){return n3({identifier:this.identifier,groups:this.groups,errorSchema:this.errorSchema,annotations:E0(this.annotations,A),middlewares:this.middlewares})}},n3=(A)=>{function Q(){}return Object.setPrototypeOf(Q,xeQ),Q.groups=A.groups,Q.errorSchema=A.errorSchema,Q.annotations=A.annotations,Q.middlewares=A.middlewares,Q};var Ir=Symbol.for("@effect/platform/HttpServerResponse"),SeQ=Symbol.for("@effect/platform/HttpServerRespondable");class vg extends q7{status;statusText;cookies;body;[Ir];headers;constructor(A,Q,B,C,E){super();if(this.status=A,this.statusText=Q,this.cookies=C,this.body=E,this[Ir]=Ir,E.contentType||E.contentLength){let I={...B};if(E.contentType)I["content-type"]=E.contentType;if(E.contentLength)I["content-length"]=E.contentLength.toString();this.headers=I}else this.headers=B}commit(){return c(this)}[SeQ](){return c(this)}[sA](){return this.toJSON()}toString(){return PQ(this)}toJSON(){return{_id:"@effect/platform/HttpServerResponse",status:this.status,statusText:this.statusText,headers:ON(this.headers),cookies:this.cookies.toJSON(),body:this.body.toJSON()}}}var Yr=(A)=>typeof A==="object"&&A!==null&&(Ir in A),uO=(A)=>new vg(A?.status??204,A?.statusText,A?.headers?hI(A.headers):o2,A?.cookies??H4,jg);var ZUQ=(A,Q)=>new vg(Q?.status??200,Q?.statusText,Q?.headers?hI(Q.headers):o2,Q?.cookies??H4,eo(A));var XUQ=(A,Q)=>new vg(Q?.status??200,Q?.statusText,Q?.headers?hI(Q.headers):o2,Q?.cookies??H4,P1A(A,{contentType:Q?.contentType,contentLength:Q?.contentLength}));var yg=(A,Q)=>{let B=Q?.headers?hI(Q.headers):o2;return new vg(Q?.status??200,Q?.statusText,B,Q?.cookies??H4,Ar(A,geQ(Q,B),Q?.contentLength))},geQ=(A,Q)=>{if(A?.contentType)return A.contentType;else if(A?.headers)return Q["content-type"];else return};var FUQ=(A,Q)=>{let B=new globalThis.Headers(A.headers);if(!wg(A.cookies)){let E=lo(A.cookies);for(let I of E)B.append("set-cookie",I)}if(Q?.withoutBody)return new Response(void 0,{status:A.status,statusText:A.statusText,headers:B});let C=A.body;switch(C._tag){case"Empty":return new Response(void 0,{status:A.status,statusText:A.statusText,headers:B});case"Uint8Array":case"Raw":return new Response(C.body,{status:A.status,statusText:A.statusText,headers:B});case"FormData":return new Response(C.formData,{status:A.status,statusText:A.statusText,headers:B});case"Stream":return new Response(wo(C.stream,Q?.runtime??dU),{status:A.status,statusText:A.statusText,headers:B})}};var kg=Yr,tU=uO;var HUQ=ZUQ;var a1A=XUQ;var WUQ=yg;var KUQ=FUQ;var SW=Symbol.for("@effect/platform/HttpServerRespondable"),VUQ=(A)=>o(A,SW),veQ=tU({status:400}),yeQ=tU({status:404}),s1A=(A)=>{if(kg(A))return c(A);return YB(A[SW]())},MUQ=(A,Q)=>{if(kg(A))return c(A);else if(VUQ(A))return dQ(A[SW](),()=>c(Q));else if(AO(A))return c(veQ);else if(Uj(A))return c(yeQ);return c(Q)},$UQ=(A,Q)=>{if(kg(A))return c(A);else if(VUQ(A))return dQ(A[SW](),()=>c(Q));return c(Q)};var zUQ=Symbol.for("@effect/platform/HttpServerError");var t1A=xA("@effect/platform/HttpServerError/clientAbortFiberId",()=>Vm(-499,0)),wUQ=(A)=>{let[Q,B]=$GA(A,[c(Jr),wH],(C,E)=>{switch(E._tag){case"Empty":return j(C);case"Fail":return j([MUQ(E.error,Jr),E]);case"Die":return j([$UQ(E.defect,Jr),E]);case"Interrupt":{if(C[1]._tag!=="Empty")return x();let I=E.fiberId===t1A?keQ:beQ;return j([c(I),E])}default:return x()}});return h(Q,(C)=>{if(KGA(B))return[C,MI(C)];return[C,Yj(B,MI(C))]})},LUQ=(A)=>{let Q,B=MGA(A,(C)=>{if(Yr(C))return Q=C,j(wH);return x()});return[Q??Jr,B]},Jr=uO({status:500}),keQ=uO({status:499}),beQ=uO({status:503}),OUQ=(A)=>{if(A._tag==="Success")return A.value;return LUQ(A.cause)[0]};var Dr=zUQ;class yZ extends nY(Dr,"RequestError"){[SW](){return tU({status:400})}get methodAndUrl(){return`${this.request.method} ${this.request.url}`}get message(){return this.description?`${this.reason}: ${this.description} (${this.methodAndUrl})`:`${this.reason} error (${this.methodAndUrl})`}}class Ur extends nY(Dr,"RouteNotFound"){constructor(A){super(A);this.stack=`${this.name}: ${this.message}`}[SW](){return tU({status:404})}get message(){return`${this.request.method} ${this.request.url} not found`}}class Nr extends nY(Dr,"ResponseError"){[SW](){return tU({status:500})}get methodAndUrl(){return`${this.request.method} ${this.request.url}`}get message(){let A=`${this.response.status} ${this.methodAndUrl}`;return this.description?`${this.description} (${A})`:`${this.reason} error (${A})`}}class e1A extends nY(Dr,"ServeError"){}var bg=t1A,hg=wUQ;var RUQ=OUQ;var TUQ=/; *([!#$%&'*+.^\w`|~-]+)=("(?:[\v\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\v\u0020-\u00ff])*"|[!#$%&'*+.^\w`|~-]+) */gu,qUQ=/\\([\v\u0020-\u00ff])/gu,meQ=/^[!#$%&'*+.^\w|~-]+\/[!#$%&'*+.^\w|~-]+$/u,feQ=/^[!#$%&'*+.^\w|~-]+$/u,Zr={value:"",parameters:Object.create(null)};function Xr(A,Q=!1){if(typeof A!=="string")return Zr;let B=A.indexOf(";"),C=B!==-1?A.slice(0,B).trim():A.trim();if((Q?feQ:meQ).test(C)===!1)return Zr;let I={value:C.toLowerCase(),parameters:Object.create(null)};if(B===-1)return I;let Y,G,J;TUQ.lastIndex=B;while(G=TUQ.exec(A)){if(G.index!==B)return Zr;if(B+=G[0].length,Y=G[1].toLowerCase(),J=G[2],J[0]==='"')J=J.slice(1,J.length-1),!Q&&qUQ.test(J)&&(J=J.replace(qUQ,"$1"));I.parameters[Y]=J}if(B!==A.length)return Zr;return I}var kZ;(function(A){A[A.key=0]="key",A[A.whitespace=1]="whitespace",A[A.value=2]="value"})(kZ||(kZ={}));var mg={_tag:"Continue"},ueQ=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1],peQ=[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1];function PUQ(){let A=new TextDecoder,Q={state:kZ.key,headers:Object.create(null),key:"",value:void 0,crlf:0,previousChunk:void 0,pairs:0,size:0};function B(I){return Q.state=kZ.key,Q.headers=Object.create(null),Q.key="",Q.value=void 0,Q.crlf=0,Q.previousChunk=void 0,Q.pairs=0,Q.size=0,I}function C(I,Y){let G=new Uint8Array(I.length+Y.length);return G.set(I),G.set(Y,I.length),G}function E(I){return B({_tag:"Failure",reason:I,headers:Q.headers})}return function I(Y,G){let J=0,D;if(Q.previousChunk!==void 0){J=Q.previousChunk.length,D=J;let N=new Uint8Array(Y.length+J);N.set(Q.previousChunk),N.set(Y,J),Q.previousChunk=void 0,Y=N}let U=Y.length;A:while(G<U){if(Q.state===kZ.key){let N=G;for(;N<U;N++){if(Q.size++>16384)return E("HeaderTooLarge");if(Y[N]===58){if(Q.key+=A.decode(Y.subarray(G,N)).toLowerCase(),Q.key.length===0)return E("InvalidHeaderName");if(Y[N+1]===32&&Y[N+2]!==32&&Y[N+2]!==9)G=N+2,Q.state=kZ.value,Q.size++;else if(Y[N+1]!==32&&Y[N+1]!==9)G=N+1,Q.state=kZ.value;else G=N+1,Q.state=kZ.whitespace;break}else if(ueQ[Y[N]]!==1)return E("InvalidHeaderName")}if(N===U)return Q.key+=A.decode(Y.subarray(G,U)).toLowerCase(),mg}if(Q.state===kZ.whitespace){for(;G<U;G++){if(Q.size++>16384)return E("HeaderTooLarge");if(Y[G]!==32&&Y[G]!==9){Q.state=kZ.value;break}}if(G===U)return mg}if(Q.state===kZ.value){let N=G;if(D!==void 0)N=D,D=void 0;for(;N<U;N++){if(Q.size++>16384)return E("HeaderTooLarge");if(Y[N]===13||Q.crlf>0){let Z=Y[N];if(Z===13&&Q.crlf===0)Q.crlf=1,N++,Q.size++,Z=Y[N];if(Z===10&&Q.crlf===1)Q.crlf=2,N++,Q.size++,Z=Y[N];if(Z===13&&Q.crlf===2)Q.crlf=3,N++,Q.size++,Z=Y[N];if(Z===10&&Q.crlf===3)Q.crlf=4,N++,Q.size++;if(Q.crlf<4&&N>=U)return Q.previousChunk=Y.subarray(G),mg;else if(Q.crlf>=2){Q.value=Q.value===void 0?Y.subarray(G,N-Q.crlf):C(Q.value,Y.subarray(G,N-Q.crlf));let X=A.decode(Q.value);if(Q.headers[Q.key]===void 0)Q.headers[Q.key]=X;else if(typeof Q.headers[Q.key]==="string")Q.headers[Q.key]=[Q.headers[Q.key],X];else Q.headers[Q.key].push(X);if(G=N,Q.size--,Q.crlf!==4&&Q.pairs===100)return E("TooManyHeaders");else if(Q.crlf===3)return E("InvalidHeaderValue");else if(Q.crlf===4)return B({_tag:"Headers",headers:Q.headers,endPosition:G-J});Q.pairs++,Q.key="",Q.value=void 0,Q.crlf=0,Q.state=kZ.key;continue A}}else if(peQ[Y[N]]!==1)return E("InvalidHeaderValue")}if(N===U)return Q.value=Q.value===void 0?Y.subarray(G,U):C(Q.value,Y.subarray(G,U)),mg}}if(G>U)Q.size+=U-G;return mg}}function leQ(A){let Q=new TextEncoder().encode(A),B=Q.length,C={};for(let E=0;E<B;E++){let I=Q[E];if(C[I]===void 0)C[I]=[];C[I].push(E)}return{needle:Q,needleLength:B,indexes:C,firstByte:Q[0],previousChunk:void 0,previousChunkLength:0,matchIndex:0}}function _UQ(A,Q,B){let C=leQ(A);if(B!==void 0)C.previousChunk=B,C.previousChunkLength=B.length;function E(){if("Buffer"in globalThis&&!(("Bun"in globalThis)||("Deno"in globalThis)))return function(D,U,N){return Buffer.prototype.indexOf.call(D,U,N)};let J=new Uint8Array(256).fill(C.needle.length);for(let D=0,U=C.needle.length-1;D<U;++D)J[C.needle[D]]=U-D;return function(D,U,N){let Z=D.length,X=N+C.needleLength-1;while(X<Z){for(let W=C.needleLength-1,K=X;W>=0&&D[K]===U[W];W--,K--)if(W===0)return K;X+=J[D[X]]}return-1}}let I=E();function Y(J){let D=J.length;if(C.previousChunk!==void 0){let N=new Uint8Array(C.previousChunkLength+D);N.set(C.previousChunk),N.set(J,C.previousChunkLength),J=N,D=C.previousChunkLength+D,C.previousChunk=void 0}if(D<C.needleLength){C.previousChunk=J,C.previousChunkLength=D;return}let U=0;while(U<D){let N=I(J,C.needle,U);if(N>-1){if(N>U)Q(C.matchIndex,J.subarray(U,N));C.matchIndex+=1,U=N+C.needleLength;continue}else if(J[D-1]in C.indexes){let Z=C.indexes[J[D-1]],X=-1;for(let W=0,K=Z.length;W<K;W++){let V=Z[W];if(J[D-1-V]===C.firstByte&&W>X)X=V}if(X===-1)if(U===0)Q(C.matchIndex,J);else Q(C.matchIndex,J.subarray(U));else{if(D-1-X>U)Q(C.matchIndex,J.subarray(U,D-1-X));C.previousChunk=J.subarray(D-1-X),C.previousChunkLength=X+1}}else if(U===0)Q(C.matchIndex,J);else Q(C.matchIndex,J.subarray(U));break}}function G(){if(C.previousChunk!==void 0&&C.previousChunk!==B)Q(C.matchIndex,C.previousChunk);C.previousChunk=B,C.previousChunkLength=B?.length??0,C.matchIndex=0}return{write:Y,end:G}}var K6;(function(A){A[A.headers=0]="headers",A[A.body=1]="body"})(K6||(K6={}));var neQ={_tag:"InvalidDisposition"},oeQ={_tag:"EndNotReached"},reQ={_tag:"ReachedLimit",limit:"MaxParts"},aeQ={_tag:"ReachedLimit",limit:"MaxTotalSize"},seQ={_tag:"ReachedLimit",limit:"MaxPartSize"},jUQ={_tag:"ReachedLimit",limit:"MaxFieldSize"},teQ=new TextEncoder().encode(`\r
`);function A5A(A){return A.filename!==void 0||A.contentType==="application/octet-stream"}function eeQ(A){return Xr(A["content-type"]).parameters.boundary}function Fr(A){}function SUQ({headers:A,onFile:Q,onField:B,onError:C,onDone:E,isFile:I=A5A,maxParts:Y=1/0,maxTotalSize:G=1/0,maxPartSize:J=1/0,maxFieldSize:D=1048576}){let U=eeQ(A);if(U===void 0)return C({_tag:"InvalidBoundary"}),{write:Fr,end(){}};let N={state:K6.headers,index:0,parts:0,onChunk:Fr,info:void 0,headerSkip:0,partSize:0,totalSize:0,isFile:!1,fieldChunks:[],fieldSize:0};function Z(){N.state=K6.body,N.isFile=!0,N.onChunk=Fr}let X=PUQ(),W=_UQ(`\r
--${U}`,function(K,V){if(K===0){Z();return}else if(K!==N.index){if(N.index>0)if(N.isFile)N.onChunk(null),N.partSize=0;else{if(N.fieldChunks.length===1)B(N.info,N.fieldChunks[0]);else{let M=new Uint8Array(N.fieldSize),z=0;for(let L=0;L<N.fieldChunks.length;L++){let O=N.fieldChunks[L];M.set(O,z),z+=O.length}B(N.info,M)}N.fieldSize=0,N.fieldChunks=[]}if(N.state=K6.headers,N.index=K,N.headerSkip=2,V[0]===45&&V[1]===45)return E();if(N.parts++,N.parts>Y)C(reQ)}if((N.partSize+=V.length)>J)C(seQ);if(N.state===K6.headers){let M=X(V,N.headerSkip);if(N.headerSkip=0,M._tag==="Continue")return;else if(M._tag==="Failure")return Z(),C({_tag:"BadHeaders",error:M});let z=Xr(M.headers["content-type"]),L=Xr(M.headers["content-disposition"],!0);if(L.value==="form-data"&&!("name"in L.parameters))return Z(),C(neQ);let O;if("filename*"in L.parameters){let R=L.parameters["filename*"].split("''");if(R.length===2)O=decodeURIComponent(R[1])}if(N.info={name:L.parameters.name??"",filename:O??L.parameters.filename,contentType:z.value===""?L.parameters.filename!==void 0?"application/octet-stream":"text/plain":z.value,contentTypeParameters:z.parameters,contentDisposition:L.value,contentDispositionParameters:L.parameters,headers:M.headers},N.state=K6.body,N.isFile=I(N.info),N.isFile)N.onChunk=Q(N.info);if(M.endPosition<V.length)if(N.isFile)N.onChunk(V.subarray(M.endPosition));else{let R=V.subarray(M.endPosition);if((N.fieldSize+=R.length)>D)C(jUQ);N.fieldChunks.push(R)}}else if(N.isFile)N.onChunk(V);else{if((N.fieldSize+=V.length)>D)C(jUQ);N.fieldChunks.push(V)}},teQ);return{write(K){if((N.totalSize+=K.length)>G)return C(aeQ);return W.write(K)},end(){if(W.end(),N.state===K6.body)C(oeQ);N.state=K6.headers,N.index=0,N.parts=0,N.onChunk=Fr,N.info=void 0,N.totalSize=0,N.partSize=0,N.fieldChunks=[],N.fieldSize=0}}}var xUQ=new TextDecoder("utf-8");function AAB(A){if(A==="utf-8"||A==="utf8"||A==="")return xUQ;try{return new TextDecoder(A)}catch(Q){return xUQ}}function gUQ(A,Q){return AAB(A.contentTypeParameters.charset??"utf-8").decode(Q)}var Hr=SUQ,vUQ=A5A,Wr=gUQ;var Vr=Symbol.for("@effect/platform/Path"),Mr=pA("@effect/platform/Path");function kUQ(A,Q){let B="",C=0,E=-1,I=0,Y;for(let G=0;G<=A.length;++G){if(G<A.length)Y=A.charCodeAt(G);else if(Y===47)break;else Y=47;if(Y===47){if(E===G-1||I===1);else if(E!==G-1&&I===2){if(B.length<2||C!==2||B.charCodeAt(B.length-1)!==46||B.charCodeAt(B.length-2)!==46){if(B.length>2){let J=B.lastIndexOf("/");if(J!==B.length-1){if(J===-1)B="",C=0;else B=B.slice(0,J),C=B.length-1-B.lastIndexOf("/");E=G,I=0;continue}}else if(B.length===2||B.length===1){B="",C=0,E=G,I=0;continue}}if(Q){if(B.length>0)B+="/..";else B="..";C=2}}else{if(B.length>0)B+="/"+A.slice(E+1,G);else B=A.slice(E+1,G);C=G-E-1}E=G,I=0}else if(Y===46&&I!==-1)++I;else I=-1}return B}function BAB(A,Q){let B=Q.dir||Q.root,C=Q.base||(Q.name||"")+(Q.ext||"");if(!B)return C;if(B===Q.root)return B+C;return B+A+C}function CAB(A){if(A.protocol!=="file:")return ZA(yD({module:"Path",method:"fromFileUrl",message:"URL must be of scheme file"}));else if(A.hostname!=="")return ZA(yD({module:"Path",method:"fromFileUrl",message:"Invalid file URL host"}));let Q=A.pathname;for(let B=0;B<Q.length;B++)if(Q[B]==="%"){let C=Q.codePointAt(B+2)|32;if(Q[B+1]==="2"&&C===102)return ZA(yD({module:"Path",method:"fromFileUrl",message:"must not include encoded / characters"}))}return c(decodeURIComponent(Q))}var bUQ=function A(){let Q="",B=!1,C=void 0;for(let E=arguments.length-1;E>=-1&&!B;E--){let I;if(E>=0)I=arguments[E];else{let Y=globalThis.process;if(C===void 0&&"process"in globalThis&&typeof Y==="object"&&Y!==null&&typeof Y.cwd==="function")C=Y.cwd();I=C}if(I.length===0)continue;Q=I+"/"+Q,B=I.charCodeAt(0)===47}if(Q=kUQ(Q,!B),B)if(Q.length>0)return"/"+Q;else return"/";else if(Q.length>0)return Q;else return"."},EAB=47;function IAB(A){let Q=new URL("file://"),B=bUQ(A);if(A.charCodeAt(A.length-1)===EAB&&B[B.length-1]!=="/")B+="/";return Q.pathname=NAB(B),c(Q)}var YAB=/%/g,GAB=/\\/g,JAB=/\n/g,DAB=/\r/g,UAB=/\t/g;function NAB(A){if(A.includes("%"))A=A.replace(YAB,"%25");if(A.includes("\\"))A=A.replace(GAB,"%5C");if(A.includes(`
`))A=A.replace(JAB,"%0A");if(A.includes("\r"))A=A.replace(DAB,"%0D");if(A.includes("\t"))A=A.replace(UAB,"%09");return A}var Kr=Mr.of({[Vr]:Vr,resolve:bUQ,normalize(A){if(A.length===0)return".";let Q=A.charCodeAt(0)===47,B=A.charCodeAt(A.length-1)===47;if(A=kUQ(A,!Q),A.length===0&&!Q)A=".";if(A.length>0&&B)A+="/";if(Q)return"/"+A;return A},isAbsolute(A){return A.length>0&&A.charCodeAt(0)===47},join(){if(arguments.length===0)return".";let A;for(let Q=0;Q<arguments.length;++Q){let B=arguments[Q];if(B.length>0)if(A===void 0)A=B;else A+="/"+B}if(A===void 0)return".";return Kr.normalize(A)},relative(A,Q){if(A===Q)return"";if(A=Kr.resolve(A),Q=Kr.resolve(Q),A===Q)return"";let B=1;for(;B<A.length;++B)if(A.charCodeAt(B)!==47)break;let C=A.length,E=C-B,I=1;for(;I<Q.length;++I)if(Q.charCodeAt(I)!==47)break;let G=Q.length-I,J=E<G?E:G,D=-1,U=0;for(;U<=J;++U){if(U===J){if(G>J){if(Q.charCodeAt(I+U)===47)return Q.slice(I+U+1);else if(U===0)return Q.slice(I+U)}else if(E>J){if(A.charCodeAt(B+U)===47)D=U;else if(U===0)D=0}break}let Z=A.charCodeAt(B+U),X=Q.charCodeAt(I+U);if(Z!==X)break;else if(Z===47)D=U}let N="";for(U=B+D+1;U<=C;++U)if(U===C||A.charCodeAt(U)===47)if(N.length===0)N+="..";else N+="/..";if(N.length>0)return N+Q.slice(I+D);else{if(I+=D,Q.charCodeAt(I)===47)++I;return Q.slice(I)}},dirname(A){if(A.length===0)return".";let Q=A.charCodeAt(0),B=Q===47,C=-1,E=!0;for(let I=A.length-1;I>=1;--I)if(Q=A.charCodeAt(I),Q===47){if(!E){C=I;break}}else E=!1;if(C===-1)return B?"/":".";if(B&&C===1)return"//";return A.slice(0,C)},basename(A,Q){let B=0,C=-1,E=!0,I;if(Q!==void 0&&Q.length>0&&Q.length<=A.length){if(Q.length===A.length&&Q===A)return"";let Y=Q.length-1,G=-1;for(I=A.length-1;I>=0;--I){let J=A.charCodeAt(I);if(J===47){if(!E){B=I+1;break}}else{if(G===-1)E=!1,G=I+1;if(Y>=0)if(J===Q.charCodeAt(Y)){if(--Y===-1)C=I}else Y=-1,C=G}}if(B===C)C=G;else if(C===-1)C=A.length;return A.slice(B,C)}else{for(I=A.length-1;I>=0;--I)if(A.charCodeAt(I)===47){if(!E){B=I+1;break}}else if(C===-1)E=!1,C=I+1;if(C===-1)return"";return A.slice(B,C)}},extname(A){let Q=-1,B=0,C=-1,E=!0,I=0;for(let Y=A.length-1;Y>=0;--Y){let G=A.charCodeAt(Y);if(G===47){if(!E){B=Y+1;break}continue}if(C===-1)E=!1,C=Y+1;if(G===46){if(Q===-1)Q=Y;else if(I!==1)I=1}else if(Q!==-1)I=-1}if(Q===-1||C===-1||I===0||I===1&&Q===C-1&&Q===B+1)return"";return A.slice(Q,C)},format:function A(Q){if(Q===null||typeof Q!=="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof Q);return BAB("/",Q)},parse(A){let Q={root:"",dir:"",base:"",ext:"",name:""};if(A.length===0)return Q;let B=A.charCodeAt(0),C=B===47,E;if(C)Q.root="/",E=1;else E=0;let I=-1,Y=0,G=-1,J=!0,D=A.length-1,U=0;for(;D>=E;--D){if(B=A.charCodeAt(D),B===47){if(!J){Y=D+1;break}continue}if(G===-1)J=!1,G=D+1;if(B===46){if(I===-1)I=D;else if(U!==1)U=1}else if(I!==-1)U=-1}if(I===-1||G===-1||U===0||U===1&&I===G-1&&I===Y+1){if(G!==-1)if(Y===0&&C)Q.base=Q.name=A.slice(1,G);else Q.base=Q.name=A.slice(Y,G)}else{if(Y===0&&C)Q.name=A.slice(1,I),Q.base=A.slice(1,G);else Q.name=A.slice(Y,I),Q.base=A.slice(Y,G);Q.ext=A.slice(I,G)}if(Y>0)Q.dir=A.slice(0,Y-1);else if(C)Q.dir="/";return Q},sep:"/",fromFileUrl:CAB,toFileUrl:IAB,toNamespacedPath:s}),Q5A=q0(Mr,Kr);var r3=Vr,bD=Mr;var fg=Symbol.for("@effect/platform/Multipart");var fUQ=Symbol.for("@effect/platform/Multipart/MultipartError");class w9 extends nY(fUQ,"MultipartError"){get message(){return this.reason}}var dUQ=xA("@effect/platform/Multipart/maxParts",()=>II(x()));var uUQ=xA("@effect/platform/Multipart/maxFieldSize",()=>II(M9(10485760)));var pUQ=xA("@effect/platform/Multipart/maxFileSize",()=>II(x()));var cUQ=xA("@effect/platform/Multipart/fieldMimeTypes",()=>II(bN("application/json")));var B5A=(A)=>KB((Q)=>{let B=Q.getFiberRef(cUQ);return c({headers:A,maxParts:gB(Q.getFiberRef(dUQ)),maxFieldSize:Number(Q.getFiberRef(uUQ)),maxPartSize:Q.getFiberRef(pUQ).pipe(RQ(Number),gB),maxTotalSize:Q.getFiberRef(_W).pipe(RQ(Number),gB),isFile:B.length===0?void 0:(C)=>!sh(B,(E)=>C.contentType.includes(E))&&vUQ(C)})}),lUQ=(A,Q=16)=>R3(tI([B5A(A),RI(Q)]),([B,C])=>{let E=[],I=x(),Y={awaitRead:()=>u,emit(U){return C.offer(U)},error(U){return I=j(iB(U)),C.end},done(U){return C.end}},G=Hr({...B,onField(U,N){E.push(new iUQ(U.name,U.contentType,Wr(U,N)))},onFile(U){let N=[],Z=!1,X=HS(()=>{if(N.length===0)return Z?e5:sX(J,X);let W=tA(N);return N=[],Z?G9(W):sX(G9(W),sX(J,X))});return E.push(new nUQ(U,X)),function(W){if(W===null)Z=!0;else N.push(W)}},onError(U){I=j(f0(ZAB(U)))},onDone(){I=j(_C)}}),J=lU(C.takeAll,([U,N])=>lNA(()=>{if(Mz(U,Mz(G.write)),N)G.end()})),D=lU(J,()=>{if(E.length===0)return I._tag==="None"?D:mUQ(I.value);let U=tA(E);return E=[],sX(G9(U),I._tag==="None"?D:mUQ(I.value))});return NW(D,Y)},([,B])=>B.shutdown),mUQ=(A)=>A._tag==="Success"?e5:FS(A.cause);function ZAB(A){switch(A._tag){case"ReachedLimit":switch(A.limit){case"MaxParts":return new w9({reason:"TooManyParts",cause:A});case"MaxFieldSize":return new w9({reason:"FieldTooLarge",cause:A});case"MaxPartSize":return new w9({reason:"FileTooLarge",cause:A});case"MaxTotalSize":return new w9({reason:"BodyTooLarge",cause:A})}default:return new w9({reason:"Parse",cause:A})}}class $r extends O2{[fg];constructor(){super();this[fg]=fg}}class iUQ extends $r{key;contentType;value;_tag="Field";constructor(A,Q,B){super();this.key=A,this.contentType=Q,this.value=B}toJSON(){return{_id:"@effect/platform/Multipart/Part",_tag:"Field",key:this.key,contentType:this.contentType,value:this.value}}}class nUQ extends $r{_tag="File";key;name;contentType;content;constructor(A,Q){super();this.key=A.name,this.name=A.filename??A.name,this.contentType=A.contentType,this.content=X4(Q)}toJSON(){return{_id:"@effect/platform/Multipart/Part",_tag:"File",key:this.key,name:this.name,contentType:this.contentType}}}var XAB=(A,Q)=>v(oY,(B)=>fE(F4(Q.content,B.sink(A)),(C)=>new w9({reason:"InternalError",cause:C}))),oUQ=(A,Q=XAB)=>KA(function*(){let B=yield*oY,C=yield*bD,E=yield*B.makeTempDirectoryScoped(),I=Object.create(null);return yield*Mo(A,(Y)=>{if(Y._tag==="Field"){if(!(Y.key in I))I[Y.key]=Y.value;else if(typeof I[Y.key]==="string")I[Y.key]=[I[Y.key],Y.value];else I[Y.key].push(Y.value);return u}else if(Y.name==="")return u;let G=Y,J=C.join(E,C.basename(G.name).slice(-128)),D=new rUQ(G.key,G.name,G.contentType,J);if(Array.isArray(I[Y.key]))I[Y.key].push(D);else I[Y.key]=[D];return Q(J,G)}),I}).pipe(j5({SystemError:(B)=>ZA(new w9({reason:"InternalError",cause:B})),BadArgument:(B)=>ZA(new w9({reason:"InternalError",cause:B}))}));class rUQ extends $r{key;name;contentType;path;_tag="PersistedFile";constructor(A,Q,B,C){super();this.key=A,this.name=Q,this.contentType=B,this.path=C}toJSON(){return{_id:"@effect/platform/Multipart/Part",_tag:"PersistedFile",key:this.key,name:this.name,contentType:this.contentType,path:this.path}}}var zr=fg;var M4=w9;var aUQ=lUQ,sUQ=B5A,wr=oUQ;var dg=Symbol.for("@effect/platform/Socket");var eU=pA("@effect/platform/Socket"),WAB=Symbol.for("@effect/platform/Socket/CloseEvent");var E5A=(A)=>o(A,WAB),I5A=Symbol.for("@effect/platform/Socket/SocketError"),KAB=(A)=>o(A,I5A);class a3 extends nY(I5A,"SocketError"){get message(){return`An error occurred during ${this.reason}`}}class gW extends nY(I5A,"SocketError"){static is(A){return KAB(A)&&A.reason==="Close"}static isClean(A){return function(Q){return gW.is(Q)&&A(Q.code)}}get message(){if(this.closeReason)return`${this.reason}: ${this.code}: ${this.closeReason}`;return`${this.reason}: ${this.code}`}}var VAB=(A,Q)=>KA(function*(){let B=yield*ME,C=yield*RI(),E=yield*RH(B,K5),I=yield*IE(A.writer,E);function*Y(J){for(let D of J)yield*I(D)}let G={awaitRead:()=>u,emit(J){return dQ(KA(()=>Y(J)),(D)=>C.failCause(D))},error(J){return VA(KE(E,_C),C.failCause(J))},done(){return KE(E,_C)}};return yield*A.runRaw((J)=>{C.unsafeOffer(Q(J))}).pipe(WtA(C),uQ(B),zQ),NW(bi(C),G)}).pipe(Ci),MAB=(A)=>{let Q=new TextEncoder;return VAB(A,(B)=>typeof B==="string"?Q.encode(B):B)};var Y5A=()=>(A)=>MAB(A);var $AB=(A)=>A!==1000&&A!==1006,G5A=pA("@effect/platform/Socket/WebSocket"),cO=pA("@effect/platform/Socket/WebSocketConstructor");var ug=(A,Q)=>pg(kQ((typeof A==="string"?c(A):A).pipe(v((B)=>h(cO,(C)=>C(B,Q?.protocols)))),(B)=>r(()=>B.close(1000))),Q),pg=(A,Q)=>KB((B)=>{let C,E=cY(!1),I=B.currentContext,Y=Q?.closeCodeIsError??$AB,G=(Z)=>kU((X)=>KA(function*(){let W=yield*PJ().pipe(IE(X)),K=yield*IE(A,X),V=yield*Y0(tX(W)(),G5A,K),M=!1;function z(R){if(R.data instanceof Blob)return kX(()=>R.data.arrayBuffer()).pipe(r0((S)=>Z(new Uint8Array(S))),V);let _=Z(R.data);if(nB(_))V(_)}function L(R){K.removeEventListener("message",z),K.removeEventListener("close",O),VC(W.deferred,ZA(new a3({reason:M?"Read":"Open",cause:R})))}function O(R){K.removeEventListener("message",z),K.removeEventListener("error",L),VC(W.deferred,ZA(new gW({reason:"Close",code:R.code,closeReason:R.reason})))}if(K.addEventListener("close",O,{once:!0}),K.addEventListener("error",L,{once:!0}),K.addEventListener("message",z),K.readyState!==1){let R=tN(B.id());K.addEventListener("open",()=>{M=!0,VC(R,u)},{once:!0}),yield*WQ(R).pipe(sw({duration:Q?.openTimeout??1e4,onTimeout:()=>new a3({reason:"OpenTimeout",cause:'timeout waiting for "open"'})}),ew(q3(W)))}return M=!0,C=K,yield*E.open,yield*q3(W).pipe(VD(gW.isClean((R)=>!Y(R)),(R)=>u))})).pipe(B9((X)=>E0(I,X)),$C(r(()=>{E.unsafeClose(),C=void 0})),zQ),J=new TextEncoder,D=(Z)=>G((X)=>typeof X==="string"?Z(J.encode(X)):X instanceof Uint8Array?Z(X):Z(new Uint8Array(X))),N=c((Z)=>E.whenOpen(r(()=>{let X=C;if(E5A(Z))X.close(Z.code,Z.reason);else X.send(Z)})));return c(eU.of({[dg]:dg,run:D,runRaw:G,writer:N}))});var cg=Symbol.for("@effect/platform/HttpServerRequest"),eUQ=pA("@effect/platform/HttpServerRequest"),ANQ=pA("@effect/platform/HttpServerRequest/ParsedSearchParams");var QNQ=(A)=>new J5A(A,LAB(A.url)),LAB=(A)=>{if(A[0]==="/")return A;let Q=A.indexOf("/",A.indexOf("//")+2);return Q===-1?"/":A.slice(Q)};class J5A extends O2{source;url;headersOverride;remoteAddressOverride;[cg];[gJ];constructor(A,Q,B,C){super();this.source=A,this.url=Q,this.headersOverride=B,this.remoteAddressOverride=C,this[cg]=cg,this[gJ]=gJ}toJSON(){return W4(this,{_id:"@effect/platform/HttpServerRequest",method:this.method,url:this.originalUrl})}modify(A){return new J5A(this.source,A.url??this.url,A.headers??this.headersOverride,A.remoteAddress??this.remoteAddressOverride)}get method(){return this.source.method.toUpperCase()}get originalUrl(){return this.source.url}get remoteAddress(){return this.remoteAddressOverride?j(this.remoteAddressOverride):x()}get headers(){return this.headersOverride??=hI(this.source.headers),this.headersOverride}cachedCookies;get cookies(){if(this.cachedCookies)return this.cachedCookies;return this.cachedCookies=io(this.headers.cookie??"")}get stream(){return this.source.body?RW(()=>this.source.body,(A)=>new yZ({request:this,reason:"Decode",cause:A})):OW(new yZ({request:this,reason:"Decode",description:"can not create stream from empty body"}))}textEffect;get text(){if(this.textEffect)return this.textEffect;return this.textEffect=eB(LJ(YE({try:()=>this.source.text(),catch:(A)=>new yZ({request:this,reason:"Decode",cause:A})}))),this.textEffect}get json(){return XZ(this.text,{try:(A)=>JSON.parse(A),catch:(A)=>new yZ({request:this,reason:"Decode",cause:A})})}get urlParamsBody(){return v(this.text,(A)=>VE({try:()=>kD(new URLSearchParams(A)),catch:(Q)=>new yZ({request:this,reason:"Decode",cause:Q})}))}multipartEffect;get multipart(){if(this.multipartEffect)return this.multipartEffect;return this.multipartEffect=eB(LJ(wr(this.multipartStream))),this.multipartEffect}get multipartStream(){return Ko(jO(this.stream,(A)=>new M4({reason:"InternalError",cause:A})),aUQ(this.headers))}arrayBufferEffect;get arrayBuffer(){if(this.arrayBufferEffect)return this.arrayBufferEffect;return this.arrayBufferEffect=eB(LJ(YE({try:()=>this.source.arrayBuffer(),catch:(A)=>new yZ({request:this,reason:"Decode",cause:A})}))),this.arrayBufferEffect}get upgrade(){return ZA(new yZ({request:this,reason:"Decode",description:"Not an upgradeable ServerRequest"}))}}var BNQ=(A)=>{let Q=A.headers.host??"localhost",B=A.headers["x-forwarded-proto"]==="https"?"https":"http";try{return j(new URL(A.url,`${B}://${Q}`))}catch{return x()}};var Lr=cg,rY=eUQ,Or=ANQ;var CNQ=QNQ,ENQ=BNQ;var INQ=xA(Symbol.for("@effect/platform/HttpApp/preResponseHandlers"),()=>II(x()));var GNQ=(A)=>A;var JNQ=xA(Symbol.for("@effect/platform/HttpMiddleware/tracerDisabledWhen"),()=>II(x0));var DNQ=YG()("@effect/platform/HttpMiddleware/SpanNameGenerator",{defaultValue:()=>(A)=>`http.server ${A.method}`});var D5A=GNQ((A)=>KB((Q)=>{let B=v0(Q.currentContext,rY);if(Q.getFiberRef(JNQ)(B))return A;let E=gB(ENQ(B));if(E!==void 0&&(E.username!==""||E.password!==""))E.username="REDACTED",E.password="REDACTED";let I=Q.getFiberRef(Tg),Y=i3(B.headers,I),G=nQ(Q.currentContext,DNQ);return uX(G(B),{parent:gB(hDQ(B.headers)),kind:"server",captureStackTrace:!1},(J)=>{if(J.attribute("http.request.method",B.method),E!==void 0){if(J.attribute("url.full",E.toString()),J.attribute("url.path",E.pathname),E.search.slice(1)!=="")J.attribute("url.query",E.search.slice(1));J.attribute("url.scheme",E.protocol.slice(0,-1))}if(B.headers["user-agent"]!==void 0)J.attribute("user_agent.original",B.headers["user-agent"]);for(let D in Y)J.attribute(`http.request.header.${D}`,String(Y[D]));if(B.remoteAddress._tag==="Some")J.attribute("client.address",B.remoteAddress.value);return v(rC(zZ(A,J)),(D)=>{let U=RUQ(D);J.attribute("http.response.status_code",U.status);let N=i3(U.headers,I);for(let Z in N)J.attribute(`http.response.header.${Z}`,String(N[Z]));return D})})}));var lO=Symbol.for("@effect/platform/HttpApp/handled"),Rr=(A,Q,B)=>{let C=KB((Y)=>v(A,(G)=>{let J=v0(Y.currentContext,rY),D=Y.getFiberRef(NNQ);if(D._tag==="None")return J[lO]=!0,IB(Q(J,G),G);return VB(D.value(J,G),(U)=>{return J[lO]=!0,Q(J,U)})})),E=dQ(C,(Y)=>KB((G)=>v(hg(Y),([J,D])=>{let U=v0(G.currentContext,rY),N=G.getFiberRef(NNQ);if(N._tag==="None")return U[lO]=!0,VA(Q(U,J),z0(D));return VA(VB(N.value(U,J),(Z)=>{return U[lO]=!0,Q(U,Z)}),z0(D))}))),I=Oo(B===void 0?D5A(E):aC(B(D5A(E)),{onFailure:(Y)=>KB((G)=>{let J=v0(G.currentContext,rY);if(lO in J)return u;return aC(hg(Y),{onFailure:(D)=>Q(J,tU({status:500})),onSuccess:([D])=>Q(J,D)})}),onSuccess:(Y)=>KB((G)=>{let J=v0(G.currentContext,rY);return lO in J?u:Q(J,Y)})}));return E2(fC(I))},NNQ=INQ;var U5A=(A)=>{let Q=pE(A);return(B,C)=>{let E=Symbol.for("@effect/platform/HttpApp/resolve"),I=Rr(B,(Y,G)=>{return Y[E](KUQ(G,{withoutBody:Y.method==="HEAD",runtime:A})),u},C);return(Y,G)=>new Promise((J)=>{let D=new Map(A.context.unsafeMap);if(EP(G))for(let[Z,X]of G.unsafeMap)D.set(Z,X);let U=CNQ(Y);D.set(rY.key,U),U[E]=J;let N=Q(T0(I,gC,yN(D)));Y.signal?.addEventListener("abort",()=>{N.unsafeInterruptAsFork(bg)},{once:!0})})}};var ZNQ=/\+/g,XNQ=function(){};XNQ.prototype=Object.create(null);function FNQ(A){let Q=new XNQ;if(typeof A!=="string")return Q;let B=A.length,C="",E="",I=-1,Y=-1,G=!1,J=!1,D=!1,U=!1,N=!1,Z=0;for(let X=0;X<B+1;X++)if(Z=X!==B?A.charCodeAt(X):38,Z===38){if(N=Y>I,!N)Y=X;if(C=A.slice(I+1,Y),N||C.length>0){if(D)C=C.replace(ZNQ," ");if(G)C=decodeURIComponent(C)||C;if(N){if(E=A.slice(Y+1,X),U)E=E.replace(ZNQ," ");if(J)E=decodeURIComponent(E)||E}let W=Q[C];if(W===void 0)Q[C]=E;else if(W.pop)W.push(E);else Q[C]=[W,E]}E="",I=X,Y=X,G=!1,J=!1,D=!1,U=!1}else if(Z===61)if(Y<=I)Y=X;else J=!0;else if(Z===43)if(Y>I)U=!0;else D=!0;else if(Z===37)if(Y>I)J=!0;else G=!0;return Q}var qAB=/^https?:\/\/.*?\//,Z5A=/(\/:[^/()]*?)\?(\/?)/,VNQ=(A={})=>new MNQ(A);class MNQ{constructor(A={}){this.options={ignoreTrailingSlash:!0,ignoreDuplicateSlashes:!0,caseSensitive:!1,maxParamLength:100,...A}}options;routes=[];trees={};on(A,Q,B){let C=Q.match(Z5A);if(C&&C.index!==void 0){PAB(Q.length===C.index+C[0].length,"Optional Parameter needs to be the last parameter of the path");let I=Q.replace(Z5A,"$1$2"),Y=Q.replace(Z5A,"$2");this.on(A,I,B),this.on(A,Y,B);return}if(this.options.ignoreDuplicateSlashes)Q=HNQ(Q);if(this.options.ignoreTrailingSlash)Q=WNQ(Q);let E=typeof A==="string"?[A]:A;for(let I of E)this._on(I,Q,B)}all(A,Q){this.on(vAB,A,Q)}_on(A,Q,B){if(this.trees[A]===void 0)this.trees[A]=new lg("/");let C=Q;if(C==="*"&&this.trees[A].prefix.length!==0){let J=this.trees[A];this.trees[A]=new lg(""),this.trees[A].staticChildren["/"]=J}let E=this.trees[A].prefix.length,I=this.trees[A],Y=[];for(let J=0;J<=C.length;J++){if(C.charCodeAt(J)===58&&C.charCodeAt(J+1)===58){J++;continue}let D=C.charCodeAt(J)===58&&C.charCodeAt(J+1)!==58,U=C.charCodeAt(J)===42;if(D||U||J===C.length&&J!==E){let N=C.slice(E,J);if(!this.options.caseSensitive)N=N.toLowerCase();N=N.split("::").join(":"),N=N.split("%").join("%25"),I=I.createStaticChild(N)}if(D){let N=!1,Z=[],X=J+1;for(let W=X;;W++){let K=C.charCodeAt(W),V=K===40,M=K===45||K===46,z=K===47||W===C.length;if(V||M||z){let L=C.slice(X,W);if(Y.push(L),N=N||V||M,V){let _=jAB(C,W),S=C.slice(W,_+1);Z.push(xAB(S)),W=_+1}else Z.push("(.*?)");let O=W;for(;W<C.length;W++){let _=C.charCodeAt(W);if(_===47)break;if(_===58)if(C.charCodeAt(W+1)===58)W++;else break}let R=C.slice(O,W);if(R)R=R.split("::").join(":"),R=R.split("%").join("%25"),Z.push(SAB(R));if(X=W+1,z||C.charCodeAt(W)===47||W===C.length){let _=N?"()"+R:R,S=C.slice(J,W);C=C.slice(0,J+1)+_+C.slice(W),J+=_.length;let q=N?new RegExp("^"+Z.join("")+"$"):void 0;I=I.createParametricChild(q,R,S),E=J+1;break}}}}else if(U){if(Y.push("*"),I=I.createWildcardChild(),E=J+1,J!==C.length-1)throw new Error("Wildcard must be the last character in the route")}}if(!this.options.caseSensitive)C=C.toLowerCase();if(C==="*")C="/*";for(let J of this.routes)if(J.method===A&&J.pattern===C)throw new Error(`Method '${A}' already declared for route '${C}'`);let G={method:A,path:Q,pattern:C,params:Y,handler:B};this.routes.push(G),I.addRoute(G)}has(A,Q){let B=this.trees[A];if(B===void 0)return!1;let C=B.getStaticChild(Q);if(C===void 0)return!1;return C.isLeafNode}find(A,Q){let B=this.trees[A];if(B===void 0)return;if(Q.charCodeAt(0)!==47)Q=Q.replace(qAB,"/");if(this.options.ignoreDuplicateSlashes)Q=HNQ(Q);let C,E,I;try{C=gAB(Q),Q=C.path,E=C.querystring,I=C.shouldDecodeParam}catch(Z){return}if(this.options.ignoreTrailingSlash)Q=WNQ(Q);let Y=Q;if(this.options.caseSensitive===!1)Q=Q.toLowerCase();let G=this.options.maxParamLength,J=B.prefix.length,D=[],U=Q.length,N=[];while(!0){if(J===U&&B.isLeafNode){let X=B.handlerStorage?.find();if(X!==void 0)return{handler:X.handler,params:X.createParams(D),searchParams:FNQ(E)}}let Z=B.getNextNode(Q,J,N,D.length);if(Z===void 0){if(N.length===0)return;let X=N.pop();J=X.brotherPathIndex,D.splice(X.paramsCount),Z=X.brotherNode}if(B=Z,B._tag==="StaticNode"){J+=B.prefix.length;continue}if(B._tag==="WildcardNode"){let X=Y.slice(J);if(I)X=KNQ(X);D.push(X),J=U;continue}if(B._tag==="ParametricNode"){let X=Y.indexOf("/",J);if(X===-1)X=U;let W=Y.slice(J,X);if(I)W=KNQ(W);if(B.regex!==void 0){let K=B.regex.exec(W);if(K===null)continue;for(let V=1;V<K.length;V++){let M=K[V];if(M.length>G)return;D.push(M)}}else{if(W.length>G)return;D.push(W)}J=X}}}}class $NQ{handlers=[];unconstrainedHandler;find(){return this.unconstrainedHandler}add(A){let Q={params:A.params,handler:A.handler,createParams:_AB(A.params)};this.handlers.push(Q),this.unconstrainedHandler=this.handlers[0]}}class X5A{isLeafNode=!1;routes;handlerStorage;addRoute(A){if(this.routes===void 0)this.routes=[A];else this.routes.push(A);if(this.handlerStorage===void 0)this.handlerStorage=new $NQ;this.isLeafNode=!0,this.handlerStorage.add(A)}}class F5A extends X5A{staticChildren={};findStaticMatchingChild(A,Q){let B=this.staticChildren[A.charAt(Q)];if(B===void 0||!B.matchPrefix(A,Q))return;return B}getStaticChild(A,Q=0){if(A.length===Q)return this;let B=this.findStaticMatchingChild(A,Q);if(B===void 0)return;return B.getStaticChild(A,Q+B.prefix.length)}createStaticChild(A){if(A.length===0)return this;let Q=this.staticChildren[A.charAt(0)];if(Q){let C=1;for(;C<Q.prefix.length;C++)if(A.charCodeAt(C)!==Q.prefix.charCodeAt(C)){Q=Q.split(this,C);break}return Q.createStaticChild(A.slice(C))}let B=A.charAt(0);return this.staticChildren[B]=new lg(A),this.staticChildren[B]}}class lg extends F5A{_tag="StaticNode";constructor(A){super();this.setPrefix(A)}prefix;matchPrefix;parametricChildren=[];wildcardChild;setPrefix(A){if(this.prefix=A,A.length===1)this.matchPrefix=(Q,B)=>!0;else{let Q=A.length;this.matchPrefix=function(B,C){for(let E=1;E<Q;E++)if(B.charCodeAt(C+E)!==this.prefix.charCodeAt(E))return!1;return!0}}}getParametricChild(A){if(A===void 0)return this.parametricChildren.find((B)=>B.isRegex===!1);let Q=A.source;return this.parametricChildren.find((B)=>{if(B.regex===void 0)return!1;return B.regex.source===Q})}createParametricChild(A,Q,B){let C=this.getParametricChild(A);if(C!==void 0)return C.nodePaths.add(B),C;return C=new zNQ(A,Q,B),this.parametricChildren.push(C),this.parametricChildren.sort((E,I)=>{if(!E.isRegex)return 1;if(!I.isRegex)return-1;if(E.staticSuffix===void 0)return 1;if(I.staticSuffix===void 0)return-1;if(I.staticSuffix.endsWith(E.staticSuffix))return 1;if(E.staticSuffix.endsWith(I.staticSuffix))return-1;return 0}),C}createWildcardChild(){if(this.wildcardChild===void 0)this.wildcardChild=new wNQ;return this.wildcardChild}split(A,Q){let B=this.prefix.slice(0,Q),C=this.prefix.slice(Q);this.setPrefix(C);let E=new lg(B);return E.staticChildren[C.charAt(0)]=this,A.staticChildren[B.charAt(0)]=E,E}getNextNode(A,Q,B,C){let E=this.findStaticMatchingChild(A,Q),I=0;if(E===void 0){if(this.parametricChildren.length===0)return this.wildcardChild;E=this.parametricChildren[0],I=1}if(this.wildcardChild!==void 0)B.push({paramsCount:C,brotherPathIndex:Q,brotherNode:this.wildcardChild});for(let Y=this.parametricChildren.length-1;Y>=I;Y--)B.push({paramsCount:C,brotherPathIndex:Q,brotherNode:this.parametricChildren[Y]});return E}}class zNQ extends F5A{regex;staticSuffix;_tag="ParametricNode";constructor(A,Q,B){super();this.regex=A,this.staticSuffix=Q,this.isRegex=!!A,this.nodePaths=new Set([B])}isRegex;nodePaths;getNextNode(A,Q){return this.findStaticMatchingChild(A,Q)}}class wNQ extends X5A{_tag="WildcardNode";getNextNode(A,Q,B,C){return}}var PAB=(A,Q)=>{if(!A)throw new Error(Q)};function HNQ(A){return A.replace(/\/\/+/g,"/")}function WNQ(A){if(A.length>1&&A.charCodeAt(A.length-1)===47)return A.slice(0,-1);return A}function _AB(A){let Q=A.length;return function(B){let C={};for(let E=0;E<Q;E++)C[A[E]]=B[E];return C}}function jAB(A,Q){let B=1;while(Q<A.length){if(Q++,A[Q]==="\\"){Q++;continue}if(A[Q]===")")B--;else if(A[Q]==="(")B++;if(!B)return Q}throw new TypeError('Invalid regexp expression in "'+A+'"')}function xAB(A){if(A.charCodeAt(1)===94)A=A.slice(0,1)+A.slice(2);if(A.charCodeAt(A.length-2)===36)A=A.slice(0,A.length-2)+A.slice(A.length-1);return A}function SAB(A){return A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function LNQ(A,Q){if(A===50){if(Q===53)return"%";if(Q===51)return"#";if(Q===52)return"$";if(Q===54)return"&";if(Q===66)return"+";if(Q===98)return"+";if(Q===67)return",";if(Q===99)return",";if(Q===70)return"/";if(Q===102)return"/";return}if(A===51){if(Q===65)return":";if(Q===97)return":";if(Q===66)return";";if(Q===98)return";";if(Q===68)return"=";if(Q===100)return"=";if(Q===70)return"?";if(Q===102)return"?";return}if(A===52&&Q===48)return"@";return}function gAB(A){let Q=!1,B=!1,C="";for(let I=1;I<A.length;I++){let Y=A.charCodeAt(I);if(Y===37){let G=A.charCodeAt(I+1),J=A.charCodeAt(I+2);if(LNQ(G,J)===void 0)Q=!0;else{if(B=!0,G===50&&J===53)Q=!0,A=A.slice(0,I+1)+"25"+A.slice(I+1),I+=2;I+=2}}else if(Y===63||Y===59||Y===35){C=A.slice(I+1),A=A.slice(0,I);break}}return{path:Q?decodeURI(A):A,querystring:C,shouldDecodeParam:B}}function KNQ(A){let Q=A.indexOf("%");if(Q===-1)return A;let B="",C=Q;for(let E=Q;E<A.length;E++)if(A.charCodeAt(E)===37){let I=A.charCodeAt(E+1),Y=A.charCodeAt(E+2),G=LNQ(I,Y);B+=A.slice(C,E)+G,C=E+3}return A.slice(0,Q)+B+A.slice(C)}var vAB=["ACL","BIND","CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LINK","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCALENDAR","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REBIND","REPORT","SEARCH","SOURCE","SUBSCRIBE","TRACE","UNBIND","UNLINK","UNLOCK","UNSUBSCRIBE"];var ONQ=VNQ;var z4={};ZQ(z4,{withLogAddress:()=>lAB,serveEffect:()=>dAB,serve:()=>jr,make:()=>w5A,logAddress:()=>cAB,layerTestClient:()=>L5A,layerContext:()=>iAB,formatAddress:()=>uAB,addressWith:()=>pAB,addressFormattedWith:()=>rg,TypeId:()=>fAB,HttpServer:()=>og});var s3=p1A;var ig=c1A;var iO=IUQ;var ng=l1A;var nO=aDQ;var H5A=Symbol.for("@effect/platform/HttpPlatform"),Pr=pA("@effect/platform/HttpPlatform"),W5A=(A)=>KA(function*(){let Q=yield*oY,B=yield*$DQ;return Pr.of({[H5A]:H5A,fileResponse(C,E){return H(hp(Q.stat(C),"info"),uj("etag",({info:I})=>B.fromFileInfo(I)),h(({etag:I,info:Y})=>{let G=Number(E?.offset??0),J=E?.bytesToRead!==void 0?G+Number(E.bytesToRead):void 0,D=PW(E?.headers?hI(E.headers):o2,"etag",M1A(I));if(Y.mtime._tag==="Some")D["last-modified"]=Y.mtime.value.toUTCString();let U=J!==void 0?J-G:Number(Y.size)-G;return A.fileResponse(C,E?.status??200,E?.statusText,D,G,J,U)}))},fileWebResponse(C,E){return h(B.fromFileWeb(C),(I)=>{let Y=F6(E?.headers?hI(E.headers):o2,qW({etag:M1A(I),"last-modified":new Date(C.lastModified).toUTCString()}));return A.fileWebResponse(C,E?.status??200,E?.statusText,Y,E)})}})}),K5A=GB(Pr,v(oY,(A)=>W5A({fileResponse(Q,B,C,E,I,Y,G){return yg(A.stream(Q,{offset:I,bytesToRead:Y!==void 0?Y-I:void 0}),{contentLength:G,headers:E,status:B,statusText:C})},fileWebResponse(Q,B,C,E,I){return yg(RW(()=>Q.stream(),s),{headers:E,status:B,statusText:C})}}))).pipe(mA(Og));var _r=Symbol.for("@effect/platform/HttpServer"),rO=pA("@effect/platform/HttpServer"),bAB={[_r]:_r};var TNQ=(A)=>Object.assign(Object.create(bAB),A),qNQ=F((A)=>nB(A[0]),(A,Q)=>eG(v(rO,(B)=>B.serve(A,Q)))),PNQ=F((A)=>nB(A[0]),(A,Q)=>v(rO,(B)=>B.serve(A,Q))),V5A=(A)=>{switch(A._tag){case"UnixAddress":return`unix://${A.path}`;case"TcpAddress":return`http://${A.hostname}:${A.port}`}},M5A=(A)=>v(rO,(Q)=>A(Q.address)),$5A=(A)=>v(rO,(Q)=>A(V5A(Q.address))),z5A=$5A((A)=>cj(`Listening on ${A}`)),_NQ=(A)=>mU(z5A).pipe(zC(A)),hAB=M5A((A)=>v(s3,(Q)=>{if(A._tag==="UnixAddress")return MC(new Error("HttpServer.layerTestClient: UnixAddress not supported"));let C=`http://${A.hostname==="0.0.0.0"?"127.0.0.1":A.hostname}:${A.port}`;return c(iO(Q,nO(C)))})),jNQ=GB(s3,hAB),xNQ=wZ(K5A,Q5A,no).pipe(zC(O1A({})));var fAB=_r,og=rO,w5A=TNQ,jr=qNQ,dAB=PNQ,uAB=V5A,pAB=M5A,rg=$5A,cAB=z5A,lAB=_NQ,L5A=jNQ,iAB=xNQ;var aO=Symbol.for("@effect/platform/HttpRouter"),xr=Symbol.for("@effect/platform/HttpRouter/Route"),Sr=Symbol.for("@effect/platform/HttpRouter/RouteContext"),O5A=pA("@effect/platform/HttpRouter/RouteContext"),nAB=(A)=>o(A,aO);var gNQ=xA("@effect/platform/HttpRouter/currentRouterConfig",()=>II({}));class t3 extends q7{routes;mounts;[aO];constructor(A,Q){super();this.routes=A,this.mounts=Q,this[aO]=aO,this.httpApp=pX(gNQ).pipe(v((B)=>this.httpApp=oAB(this,B)))}httpApp;commit(){return this.httpApp}toJSON(){return{_id:"Router",routes:this.routes.toJSON(),mounts:this.mounts.toJSON()}}toString(){return PQ(this)}[sA](){return this.toJSON()}}var oAB=(A,Q)=>{let B=ONQ(Q),C=CB(A.mounts).map(([I,Y,G])=>[I,new R5A(new gr("*",G?.includePrefix?`${I}/*`:"/*",Y,G?.includePrefix?x():j(I),!1),{}),G]),E=C.length;return Mz(A.routes,(I)=>{if(I.method==="*")B.all(I.path,I);else B.on(I.method,I.path,I)}),KB((I)=>{let Y=yN(new Map(I.getFiberRef(gC).unsafeMap)),G=v0(Y,rY);if(E>0)for(let Z=0;Z<E;Z++){let[X,W,K]=C[Z];if(G.url.startsWith(X)){if(Y.unsafeMap.set(O5A.key,W),K?.includePrefix!==!0)Y.unsafeMap.set(rY.key,SNQ(G,X));return T0(v(W.route.handler,s1A),gC,Y)}}let J=B.find(G.method,G.url);if(J===void 0&&G.method==="HEAD")J=B.find("GET",G.url);if(J===void 0)return ZA(new Ur({request:G}));let D=J.handler;if(D.prefix._tag==="Some")Y.unsafeMap.set(rY.key,SNQ(G,D.prefix.value));Y.unsafeMap.set(Or.key,J.searchParams),Y.unsafeMap.set(O5A.key,new R5A(D,J.params));let U=eE(Y,x7);if(U._tag==="Some"&&U.value._tag==="Span")U.value.attribute("http.route",D.path);let N=v(D.handler,s1A);return T0(D.uninterruptible?N:zQ(N),gC,Y)})};function SNQ(A,Q){let B=Q.length;return A.modify({url:A.url.length<=B?"/":A.url.slice(B)})}class gr extends O2{method;path;handler;prefix;uninterruptible;[xr];constructor(A,Q,B,C=x(),E=!1){super();this.method=A,this.path=Q,this.handler=B,this.prefix=C,this.uninterruptible=E,this[xr]=xr}toJSON(){return{_id:"@effect/platform/HttpRouter/Route",method:this.method,path:this.path,prefix:this.prefix.toJSON()}}}class R5A{route;params;[Sr];constructor(A,Q){this.route=A,this.params=Q,this[Sr]=Sr}}var vNQ=new t3(hA(),hA());var yNQ=F(2,(A,Q)=>new t3(QE(A.routes,Q),A.mounts)),T5A=F(2,(A,Q)=>kNQ(A,Q)),kNQ=(...A)=>new t3(A.reduce((Q,B)=>tQ(Q,B.routes),hA()),A.reduce((Q,B)=>tQ(Q,B.mounts),hA())),q5A=(A)=>A.endsWith("/")?A.slice(0,-1):A,bNQ=F(2,(A,Q)=>{return Q=q5A(Q),A==="/"?Q:Q+A}),hNQ=F(2,(A,Q)=>{return Q=q5A(Q),new t3(N0(A.routes,(B)=>new gr(B.method,B.path==="/"?Q:Q+B.path,B.handler,KI(RQ(B.prefix,(C)=>Q+C),()=>j(Q)),B.uninterruptible)),N0(A.mounts,([B,C])=>[B==="/"?Q:Q+B,C]))}),mNQ=F(3,(A,Q,B)=>T5A(A,hNQ(B,Q))),fNQ=F((A)=>o(A[0],aO),(A,Q,B,C)=>new t3(A.routes,QE(A.mounts,[q5A(Q),B,C]))),$6=(A)=>F((Q)=>nAB(Q[0]),(Q,B,C,E)=>new t3(QE(Q.routes,new gr(A,B,C,x(),E?.uninterruptible??!1)),Q.mounts)),dNQ=$6("*"),uNQ=$6("GET"),pNQ=$6("POST"),cNQ=$6("PUT"),lNQ=$6("PATCH"),iNQ=$6("DELETE"),nNQ=$6("HEAD"),oNQ=$6("OPTIONS");var rAB=()=>{let A=vNQ;return{addRoute(Q){return r(()=>{A=yNQ(A,Q)})},all(Q,B,C){return r(()=>{A=dNQ(A,Q,B,C)})},get(Q,B,C){return r(()=>{A=uNQ(A,Q,B,C)})},post(Q,B,C){return r(()=>{A=pNQ(A,Q,B,C)})},put(Q,B,C){return r(()=>{A=cNQ(A,Q,B,C)})},patch(Q,B,C){return r(()=>{A=lNQ(A,Q,B,C)})},del(Q,B,C){return r(()=>{A=iNQ(A,Q,B,C)})},head(Q,B,C){return r(()=>{A=nNQ(A,Q,B,C)})},options(Q,B,C){return r(()=>{A=oNQ(A,Q,B,C)})},router:r(()=>A),mount(Q,B){return r(()=>{A=mNQ(A,Q,B)})},mountApp(Q,B,C){return r(()=>{A=fNQ(A,Q,B,C)})},concat(Q){return r(()=>{A=T5A(A,Q)})}}},rNQ=(A)=>()=>{let Q=globalThis.Error,B=Q.stackTraceLimit;Q.stackTraceLimit=2;let C=new Q;Q.stackTraceLimit=B;function E(){}let I=E;return Object.setPrototypeOf(E,Object.getPrototypeOf(pA(A))),E.key=A,Object.defineProperty(E,"stack",{get(){return C.stack}}),I.Live=RJ(I,rAB),I.router=v(I,(Y)=>Y.router),I.use=(Y)=>I.pipe(v(Y),eG,mA(I.Live)),I.unwrap=(Y)=>I.pipe(v((G)=>G.router),h(Y),AJ,mA(I.Live)),I.serve=(Y)=>I.unwrap(jr(Y)),E};var aNQ=bNQ;var sNQ=rNQ;class bZ extends sNQ("@effect/platform/HttpRouter/Default")(){}var tAB=Symbol.for("@effect/platform/HttpApiBuilder/Handlers"),eAB={[tAB]:{_Endpoints:s},pipe(){return e(this,arguments)},handle(A,Q,B){let C=this.group.endpoints[A];return AZQ({group:this.group,handlers:QE(this.handlers,{endpoint:C,handler:Q,withFullResponse:!1,uninterruptible:B?.uninterruptible??!1})})},handleRaw(A,Q,B){let C=this.group.endpoints[A];return AZQ({group:this.group,handlers:QE(this.handlers,{endpoint:C,handler:Q,withFullResponse:!0,uninterruptible:B?.uninterruptible??!1})})}},AZQ=(A)=>{let Q=Object.create(eAB);return Q.group=A.group,Q.handlers=A.handlers,Q};var P5A=xg,_5A=Sg;var z6=gg;var CZQ=Symbol.for("@effect/platform/HttpApiEndpoint");var BQB={[CZQ]:CZQ,pipe(){return e(this,arguments)},addSuccess(A,Q){return A=Q?.status?A.annotations(W6({status:Q.status})):A,w4({...this,successSchema:this.successSchema===DUQ?A:$9(this.successSchema,A)})},addError(A,Q){return w4({...this,errorSchema:$9(this.errorSchema,Q?.status?A.annotations(W6({status:Q.status})):A)})},setPayload(A){return w4({...this,payloadSchema:j(A)})},setPath(A){return w4({...this,pathSchema:j(A)})},setUrlParams(A){return w4({...this,urlParamsSchema:j(A)})},setHeaders(A){return w4({...this,headersSchema:j(A)})},prefix(A){return w4({...this,path:aNQ(this.path,A)})},middleware(A){return w4({...this,errorSchema:$9(this.errorSchema,A.failure),middlewares:new Set([...this.middlewares,A])})},annotate(A,Q){return w4({...this,annotations:DQ(this.annotations,A,Q)})},annotateContext(A){return w4({...this,annotations:E0(this.annotations,A)})}},w4=(A)=>Object.assign(Object.create(BQB),A);var EZQ=Symbol.for("@effect/platform/HttpApiGroup");var EQB={[EZQ]:EZQ,add(A){return w6({identifier:this.identifier,topLevel:this.topLevel,endpoints:{...this.endpoints,[A.name]:A},errorSchema:this.errorSchema,annotations:this.annotations,middlewares:this.middlewares})},addError(A,Q){return w6({identifier:this.identifier,topLevel:this.topLevel,endpoints:this.endpoints,errorSchema:$9(this.errorSchema,Q?.status?A.annotations(W6({status:Q.status})):A),annotations:this.annotations,middlewares:this.middlewares})},prefix(A){return w6({identifier:this.identifier,topLevel:this.topLevel,endpoints:O1(this.endpoints,(Q)=>Q.prefix(A)),errorSchema:this.errorSchema,annotations:this.annotations,middlewares:this.middlewares})},middleware(A){return w6({identifier:this.identifier,topLevel:this.topLevel,endpoints:this.endpoints,errorSchema:$9(this.errorSchema,A.failure),annotations:this.annotations,middlewares:new Set([...this.middlewares,A])})},middlewareEndpoints(A){return w6({identifier:this.identifier,topLevel:this.topLevel,endpoints:O1(this.endpoints,(Q)=>Q.middleware(A)),errorSchema:this.errorSchema,annotations:this.annotations,middlewares:this.middlewares})},annotateContext(A){return w6({identifier:this.identifier,topLevel:this.topLevel,endpoints:this.endpoints,errorSchema:this.errorSchema,annotations:E0(this.annotations,A),middlewares:this.middlewares})},annotate(A,Q){return w6({identifier:this.identifier,topLevel:this.topLevel,endpoints:this.endpoints,errorSchema:this.errorSchema,annotations:DQ(this.annotations,A,Q),middlewares:this.middlewares})},annotateEndpointsContext(A){return w6({identifier:this.identifier,topLevel:this.topLevel,endpoints:O1(this.endpoints,(Q)=>Q.annotateContext(A)),errorSchema:this.errorSchema,annotations:this.annotations,middlewares:this.middlewares})},annotateEndpoints(A,Q){return w6({identifier:this.identifier,topLevel:this.topLevel,endpoints:O1(this.endpoints,(B)=>B.annotate(A,Q)),errorSchema:this.errorSchema,annotations:this.annotations,middlewares:this.middlewares})},pipe(){return e(this,arguments)}},w6=(A)=>{function Q(){}return Object.setPrototypeOf(Q,EQB),Object.assign(Q,A)};var IZQ=Symbol.for("@effect/platform/HttpApiSecurity"),Q80={[IZQ]:IZQ,pipe(){return e(this,arguments)}};var YZQ=Pr,GZQ=W5A;var vW={};ZQ(vW,{prefix:()=>zQB,makeStringOnly:()=>$QB,make:()=>MQB,layerStorage:()=>FZQ,layerSchema:()=>OQB,layerMemory:()=>wQB,layerFileSystem:()=>S5A,TypeId:()=>KQB,SchemaStoreTypeId:()=>LQB,KeyValueStore:()=>VQB});var yr=Symbol.for("@effect/platform/KeyValueStore"),AM=pA("@effect/platform/KeyValueStore"),sg=(A)=>AM.of({[yr]:yr,has:(Q)=>h(A.get(Q),XA),isEmpty:h(A.size,(Q)=>Q===0),modify:(Q,B)=>v(A.get(Q),(C)=>{if(cA(C))return h2;let E=B(C.value);return IB(A.set(Q,E),j(E))}),modifyUint8Array:(Q,B)=>v(A.getUint8Array(Q),(C)=>{if(cA(C))return h2;let E=B(C.value);return IB(A.set(Q,E),j(E))}),forSchema(Q){return HQB(this,Q)},...A}),x5A=(A)=>{let Q=new TextEncoder;return sg({...A,getUint8Array:(B)=>A.get(B).pipe(h(RQ((C)=>sB($S(C),{onLeft:()=>Q.encode(C),onRight:s})))),set:(B,C)=>typeof C==="string"?A.set(B,C):LA(()=>A.set(B,nL(C)))})},DZQ=F(2,(A,Q)=>({...A,get:(B)=>A.get(`${Q}${B}`),set:(B,C)=>A.set(`${Q}${B}`,C),remove:(B)=>A.remove(`${Q}${B}`),has:(B)=>A.has(`${Q}${B}`),modify:(B,C)=>A.modify(`${Q}${B}`,C)})),kr=Symbol.for("@effect/platform/KeyValueStore/SchemaStore"),HQB=(A,Q)=>{let B=D4(Q),C=iE(B),E=EJ(B),I=(J)=>v(A.get(J),HA({onNone:()=>h2,onSome:(D)=>x5(C(D))})),Y=(J,D)=>v(E(D),(U)=>A.set(J,U)),G=(J,D)=>v(I(J),(U)=>{if(cA(U))return h2;let N=D(U.value);return IB(Y(J,N),j(N))});return{[kr]:kr,get:I,set:Y,modify:G,remove:A.remove,clear:A.clear,size:A.size,has:A.has,isEmpty:A.isEmpty}},UZQ=RJ(AM,()=>{let A=new Map,Q=new TextEncoder;return sg({get:(B)=>r(()=>aQ(A.get(B)).pipe(RQ((C)=>typeof C==="string"?C:nL(C)))),getUint8Array:(B)=>r(()=>aQ(A.get(B)).pipe(RQ((C)=>typeof C==="string"?Q.encode(C):C))),set:(B,C)=>r(()=>A.set(B,C)),remove:(B)=>r(()=>A.delete(B)),clear:r(()=>A.clear()),size:r(()=>A.size)})}),NZQ=(A)=>GB(AM,KA(function*(){let Q=yield*oY,B=yield*bD,C=(E)=>B.join(A,encodeURIComponent(E));if(!(yield*Q.exists(A)))yield*Q.makeDirectory(A,{recursive:!0});return sg({get:(E)=>H(h(Q.readFileString(C(E)),j),HG("SystemError",(I)=>I.reason==="NotFound"?c(x()):ZA(I))),getUint8Array:(E)=>H(h(Q.readFile(C(E)),j),HG("SystemError",(I)=>I.reason==="NotFound"?c(x()):ZA(I))),set:(E,I)=>typeof I==="string"?Q.writeFileString(C(E),I):Q.writeFile(C(E),I),remove:(E)=>Q.remove(C(E)),has:(E)=>Q.exists(C(E)),clear:VA(Q.remove(A,{recursive:!0}),Q.makeDirectory(A,{recursive:!0})),size:h(Q.readDirectory(A),(E)=>E.length)})})),ZZQ=(A,Q)=>{let B=pA(Q),C=GB(B,h(AM,(E)=>E.forSchema(A)));return{tag:B,layer:C}},ag=(A)=>V9({reason:"PermissionDenied",module:"KeyValueStore",...A}),XZQ=(A)=>RJ(AM,()=>{let Q=A();return x5A({get:(B)=>VE({try:()=>aQ(Q.getItem(B)),catch:()=>ag({pathOrDescriptor:B,method:"get",message:`Unable to get item with key ${B}`})}),set:(B,C)=>VE({try:()=>Q.setItem(B,C),catch:()=>ag({pathOrDescriptor:B,method:"set",message:`Unable to set item with key ${B}`})}),remove:(B)=>VE({try:()=>Q.removeItem(B),catch:()=>ag({pathOrDescriptor:B,method:"remove",message:`Unable to remove item with key ${B}`})}),clear:VE({try:()=>Q.clear(),catch:()=>ag({pathOrDescriptor:"clear",method:"clear",message:"Unable to clear storage"})}),size:VE({try:()=>Q.length,catch:()=>ag({pathOrDescriptor:"size",method:"size",message:"Unable to get size"})})})});var KQB=yr,VQB=AM,MQB=sg,$QB=x5A,zQB=DZQ,wQB=UZQ,S5A=NZQ,LQB=kr,OQB=ZZQ,FZQ=XZQ;var BR={};ZQ(BR,{useRecords:()=>FBB,unpackMultiple:()=>bZQ,unpack:()=>ur,roundFloat32:()=>mZQ,pack:()=>nr,mapsAsObjects:()=>HBB,isNativeAccelerationEnabled:()=>f5A,encodeIter:()=>G8Q,encode:()=>i5A,decodeIter:()=>Y8Q,decode:()=>p5A,clearSource:()=>eg,addExtension:()=>l5A,UnpackrStream:()=>sr,Unpackr:()=>hD,PackrStream:()=>ar,Packr:()=>L9,NEVER:()=>sZQ,FLOAT32_OPTIONS:()=>Av,EncoderStream:()=>ar,Encoder:()=>aZQ,DecoderStream:()=>sr,Decoder:()=>kZQ,DECIMAL_ROUND:()=>eZQ,DECIMAL_FIT:()=>A8Q,C1:()=>fr,ALWAYS:()=>tZQ});var v5A;try{v5A=new TextDecoder}catch(A){}var BQ,QN,t=0;var h5A=[],BM=h5A,tg=0,nE={},e0,L6,AN=0,hZ=0,LG,O6,Z2=[],u0,HZQ={useRecords:!1,mapsAsObjects:!0};class mr{}var fr=new mr;fr.name="MessagePack 0xC1";var yW=!1,OZQ=2,y5A,k5A,b5A;try{new Function("")}catch(A){OZQ=1/0}class hD{constructor(A){if(A){if(A.useRecords===!1&&A.mapsAsObjects===void 0)A.mapsAsObjects=!0;if(A.sequential&&A.trusted!==!1){if(A.trusted=!0,!A.structures&&A.useRecords!=!1){if(A.structures=[],!A.maxSharedStructures)A.maxSharedStructures=0}}if(A.structures)A.structures.sharedLength=A.structures.length;else if(A.getStructures)(A.structures=[]).uninitialized=!0,A.structures.sharedLength=0;if(A.int64AsNumber)A.int64AsType="number"}Object.assign(this,A)}unpack(A,Q){if(BQ)return vZQ(()=>{return eg(),this?this.unpack(A,Q):hD.prototype.unpack.call(HZQ,A,Q)});if(!A.buffer&&A.constructor===ArrayBuffer)A=typeof Buffer!=="undefined"?Buffer.from(A):new Uint8Array(A);if(typeof Q==="object")QN=Q.end||A.length,t=Q.start||0;else t=0,QN=Q>-1?Q:A.length;tg=0,hZ=0,L6=null,BM=h5A,LG=null,BQ=A;try{u0=A.dataView||(A.dataView=new DataView(A.buffer,A.byteOffset,A.byteLength))}catch(B){if(BQ=null,A instanceof Uint8Array)throw B;throw new Error("Source must be a Uint8Array or Buffer but was a "+(A&&typeof A=="object"?A.constructor.name:typeof A))}if(this instanceof hD){if(nE=this,this.structures)return e0=this.structures,br(Q);else if(!e0||e0.length>0)e0=[]}else if(nE=HZQ,!e0||e0.length>0)e0=[];return br(Q)}unpackMultiple(A,Q){let B,C=0;try{yW=!0;let E=A.length,I=this?this.unpack(A,E):dr.unpack(A,E);if(Q){if(Q(I,C,t)===!1)return;while(t<E)if(C=t,Q(br(),C,t)===!1)return}else{B=[I];while(t<E)C=t,B.push(br());return B}}catch(E){throw E.lastPosition=C,E.values=B,E}finally{yW=!1,eg()}}_mergeStructures(A,Q){if(k5A)A=k5A.call(this,A);if(A=A||[],Object.isFrozen(A))A=A.map((B)=>B.slice(0));for(let B=0,C=A.length;B<C;B++){let E=A[B];if(E){if(E.isShared=!0,B>=32)E.highByte=B-32>>5}}A.sharedLength=A.length;for(let B in Q||[])if(B>=0){let C=A[B],E=Q[B];if(E){if(C)(A.restoreStructures||(A.restoreStructures=[]))[B]=C;A[B]=E}}return this.structures=A}decode(A,Q){return this.unpack(A,Q)}}function br(A){try{if(!nE.trusted&&!yW){let B=e0.sharedLength||0;if(B<e0.length)e0.length=B}let Q;if(nE.randomAccessStructure&&BQ[t]<64&&BQ[t]>=32&&y5A){if(Q=y5A(BQ,t,QN,nE),BQ=null,!(A&&A.lazy)&&Q)Q=Q.toJSON();t=QN}else Q=qY();if(LG)t=LG.postBundlePosition,LG=null;if(yW)e0.restoreStructures=null;if(t==QN){if(e0&&e0.restoreStructures)WZQ();if(e0=null,BQ=null,O6)O6=null}else if(t>QN)throw new Error("Unexpected end of MessagePack data");else if(!yW){let B;try{B=JSON.stringify(Q,(C,E)=>typeof E==="bigint"?`${E}n`:E).slice(0,100)}catch(C){B="(JSON view not available "+C+")"}throw new Error("Data read, but end of buffer not reached "+B)}return Q}catch(Q){if(e0&&e0.restoreStructures)WZQ();if(eg(),Q instanceof RangeError||Q.message.startsWith("Unexpected end of buffer")||t>QN)Q.incomplete=!0;throw Q}}function WZQ(){for(let A in e0.restoreStructures)e0[A]=e0.restoreStructures[A];e0.restoreStructures=null}function qY(){let A=BQ[t++];if(A<160)if(A<128)if(A<64)return A;else{let Q=e0[A&63]||nE.getStructures&&RZQ()[A&63];if(Q){if(!Q.read)Q.read=m5A(Q,A&63);return Q.read()}else return A}else if(A<144)if(A-=128,nE.mapsAsObjects){let Q={};for(let B=0;B<A;B++){let C=SZQ();if(C==="__proto__")C="__proto_";Q[C]=qY()}return Q}else{let Q=new Map;for(let B=0;B<A;B++)Q.set(qY(),qY());return Q}else{A-=144;let Q=new Array(A);for(let B=0;B<A;B++)Q[B]=qY();if(nE.freezeData)return Object.freeze(Q);return Q}else if(A<192){let Q=A-160;if(hZ>=t)return L6.slice(t-AN,(t+=Q)-AN);if(hZ==0&&QN<140){let B=Q<16?d5A(Q):xZQ(Q);if(B!=null)return B}return hr(Q)}else{let Q;switch(A){case 192:return null;case 193:if(LG)if(Q=qY(),Q>0)return LG[1].slice(LG.position1,LG.position1+=Q);else return LG[0].slice(LG.position0,LG.position0-=Q);return fr;case 194:return!1;case 195:return!0;case 196:if(Q=BQ[t++],Q===void 0)throw new Error("Unexpected end of buffer");return g5A(Q);case 197:return Q=u0.getUint16(t),t+=2,g5A(Q);case 198:return Q=u0.getUint32(t),t+=4,g5A(Q);case 199:return QM(BQ[t++]);case 200:return Q=u0.getUint16(t),t+=2,QM(Q);case 201:return Q=u0.getUint32(t),t+=4,QM(Q);case 202:if(Q=u0.getFloat32(t),nE.useFloat32>2){let B=kW[(BQ[t]&127)<<1|BQ[t+1]>>7];return t+=4,(B*Q+(Q>0?0.5:-0.5)>>0)/B}return t+=4,Q;case 203:return Q=u0.getFloat64(t),t+=8,Q;case 204:return BQ[t++];case 205:return Q=u0.getUint16(t),t+=2,Q;case 206:return Q=u0.getUint32(t),t+=4,Q;case 207:if(nE.int64AsType==="number")Q=u0.getUint32(t)*4294967296,Q+=u0.getUint32(t+4);else if(nE.int64AsType==="string")Q=u0.getBigUint64(t).toString();else if(nE.int64AsType==="auto"){if(Q=u0.getBigUint64(t),Q<=BigInt(2)<<BigInt(52))Q=Number(Q)}else Q=u0.getBigUint64(t);return t+=8,Q;case 208:return u0.getInt8(t++);case 209:return Q=u0.getInt16(t),t+=2,Q;case 210:return Q=u0.getInt32(t),t+=4,Q;case 211:if(nE.int64AsType==="number")Q=u0.getInt32(t)*4294967296,Q+=u0.getUint32(t+4);else if(nE.int64AsType==="string")Q=u0.getBigInt64(t).toString();else if(nE.int64AsType==="auto"){if(Q=u0.getBigInt64(t),Q>=BigInt(-2)<<BigInt(52)&&Q<=BigInt(2)<<BigInt(52))Q=Number(Q)}else Q=u0.getBigInt64(t);return t+=8,Q;case 212:if(Q=BQ[t++],Q==114)return wZQ(BQ[t++]&63);else{let B=Z2[Q];if(B)if(B.read)return t++,B.read(qY());else if(B.noBuffer)return t++,B();else return B(BQ.subarray(t,++t));else throw new Error("Unknown extension "+Q)}case 213:if(Q=BQ[t],Q==114)return t++,wZQ(BQ[t++]&63,BQ[t++]);else return QM(2);case 214:return QM(4);case 215:return QM(8);case 216:return QM(16);case 217:if(Q=BQ[t++],hZ>=t)return L6.slice(t-AN,(t+=Q)-AN);return TZQ(Q);case 218:if(Q=u0.getUint16(t),t+=2,hZ>=t)return L6.slice(t-AN,(t+=Q)-AN);return qZQ(Q);case 219:if(Q=u0.getUint32(t),t+=4,hZ>=t)return L6.slice(t-AN,(t+=Q)-AN);return PZQ(Q);case 220:return Q=u0.getUint16(t),t+=2,VZQ(Q);case 221:return Q=u0.getUint32(t),t+=4,VZQ(Q);case 222:return Q=u0.getUint16(t),t+=2,MZQ(Q);case 223:return Q=u0.getUint32(t),t+=4,MZQ(Q);default:if(A>=224)return A-256;if(A===void 0){let B=new Error("Unexpected end of MessagePack data");throw B.incomplete=!0,B}throw new Error("Unknown MessagePack token "+A)}}}var RQB=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function m5A(A,Q){function B(){if(B.count++>OZQ){let E=A.read=new Function("r","return function(){return "+(nE.freezeData?"Object.freeze":"")+"({"+A.map((I)=>I==="__proto__"?"__proto_:r()":RQB.test(I)?I+":r()":"["+JSON.stringify(I)+"]:r()").join(",")+"})}")(qY);if(A.highByte===0)A.read=KZQ(Q,A.read);return E()}let C={};for(let E=0,I=A.length;E<I;E++){let Y=A[E];if(Y==="__proto__")Y="__proto_";C[Y]=qY()}if(nE.freezeData)return Object.freeze(C);return C}if(B.count=0,A.highByte===0)return KZQ(Q,B);return B}var KZQ=(A,Q)=>{return function(){let B=BQ[t++];if(B===0)return Q();let C=A<32?-(A+(B<<5)):A+(B<<5),E=e0[C]||RZQ()[C];if(!E)throw new Error("Record id is not defined for "+C);if(!E.read)E.read=m5A(E,A);return E.read()}};function RZQ(){let A=vZQ(()=>{return BQ=null,nE.getStructures()});return e0=nE._mergeStructures(A,e0)}var hr=CM,TZQ=CM,qZQ=CM,PZQ=CM,f5A=!1;function _ZQ(A){f5A=!0,hr=Q(1),TZQ=Q(2),qZQ=Q(3),PZQ=Q(5);function Q(B){return function C(E){let I=BM[tg++];if(I==null){if(LG)return CM(E);let G=BQ.byteOffset,J=A(t-B+G,QN+G,BQ.buffer);if(typeof J=="string")I=J,BM=h5A;else if(BM=J,tg=1,hZ=1,I=BM[0],I===void 0)throw new Error("Unexpected end of buffer")}let Y=I.length;if(Y<=E)return t+=E,I;return L6=I,AN=t,hZ=t+Y,t+=E,I.slice(0,E)}}}function CM(A){let Q;if(A<16){if(Q=d5A(A))return Q}if(A>64&&v5A)return v5A.decode(BQ.subarray(t,t+=A));let B=t+A,C=[];Q="";while(t<B){let E=BQ[t++];if((E&128)===0)C.push(E);else if((E&224)===192){let I=BQ[t++]&63;C.push((E&31)<<6|I)}else if((E&240)===224){let I=BQ[t++]&63,Y=BQ[t++]&63;C.push((E&31)<<12|I<<6|Y)}else if((E&248)===240){let I=BQ[t++]&63,Y=BQ[t++]&63,G=BQ[t++]&63,J=(E&7)<<18|I<<12|Y<<6|G;if(J>65535)J-=65536,C.push(J>>>10&1023|55296),J=56320|J&1023;C.push(J)}else C.push(E);if(C.length>=4096)Q+=YJ.apply(String,C),C.length=0}if(C.length>0)Q+=YJ.apply(String,C);return Q}function jZQ(A,Q,B){let C=BQ;BQ=A,t=Q;try{return CM(B)}finally{BQ=C}}function VZQ(A){let Q=new Array(A);for(let B=0;B<A;B++)Q[B]=qY();if(nE.freezeData)return Object.freeze(Q);return Q}function MZQ(A){if(nE.mapsAsObjects){let Q={};for(let B=0;B<A;B++){let C=SZQ();if(C==="__proto__")C="__proto_";Q[C]=qY()}return Q}else{let Q=new Map;for(let B=0;B<A;B++)Q.set(qY(),qY());return Q}}var YJ=String.fromCharCode;function xZQ(A){let Q=t,B=new Array(A);for(let C=0;C<A;C++){let E=BQ[t++];if((E&128)>0){t=Q;return}B[C]=E}return YJ.apply(String,B)}function d5A(A){if(A<4)if(A<2)if(A===0)return"";else{let Q=BQ[t++];if((Q&128)>1){t-=1;return}return YJ(Q)}else{let Q=BQ[t++],B=BQ[t++];if((Q&128)>0||(B&128)>0){t-=2;return}if(A<3)return YJ(Q,B);let C=BQ[t++];if((C&128)>0){t-=3;return}return YJ(Q,B,C)}else{let Q=BQ[t++],B=BQ[t++],C=BQ[t++],E=BQ[t++];if((Q&128)>0||(B&128)>0||(C&128)>0||(E&128)>0){t-=4;return}if(A<6)if(A===4)return YJ(Q,B,C,E);else{let I=BQ[t++];if((I&128)>0){t-=5;return}return YJ(Q,B,C,E,I)}else if(A<8){let I=BQ[t++],Y=BQ[t++];if((I&128)>0||(Y&128)>0){t-=6;return}if(A<7)return YJ(Q,B,C,E,I,Y);let G=BQ[t++];if((G&128)>0){t-=7;return}return YJ(Q,B,C,E,I,Y,G)}else{let I=BQ[t++],Y=BQ[t++],G=BQ[t++],J=BQ[t++];if((I&128)>0||(Y&128)>0||(G&128)>0||(J&128)>0){t-=8;return}if(A<10)if(A===8)return YJ(Q,B,C,E,I,Y,G,J);else{let D=BQ[t++];if((D&128)>0){t-=9;return}return YJ(Q,B,C,E,I,Y,G,J,D)}else if(A<12){let D=BQ[t++],U=BQ[t++];if((D&128)>0||(U&128)>0){t-=10;return}if(A<11)return YJ(Q,B,C,E,I,Y,G,J,D,U);let N=BQ[t++];if((N&128)>0){t-=11;return}return YJ(Q,B,C,E,I,Y,G,J,D,U,N)}else{let D=BQ[t++],U=BQ[t++],N=BQ[t++],Z=BQ[t++];if((D&128)>0||(U&128)>0||(N&128)>0||(Z&128)>0){t-=12;return}if(A<14)if(A===12)return YJ(Q,B,C,E,I,Y,G,J,D,U,N,Z);else{let X=BQ[t++];if((X&128)>0){t-=13;return}return YJ(Q,B,C,E,I,Y,G,J,D,U,N,Z,X)}else{let X=BQ[t++],W=BQ[t++];if((X&128)>0||(W&128)>0){t-=14;return}if(A<15)return YJ(Q,B,C,E,I,Y,G,J,D,U,N,Z,X,W);let K=BQ[t++];if((K&128)>0){t-=15;return}return YJ(Q,B,C,E,I,Y,G,J,D,U,N,Z,X,W,K)}}}}}function $ZQ(){let A=BQ[t++],Q;if(A<192)Q=A-160;else switch(A){case 217:Q=BQ[t++];break;case 218:Q=u0.getUint16(t),t+=2;break;case 219:Q=u0.getUint32(t),t+=4;break;default:throw new Error("Expected string")}return CM(Q)}function g5A(A){return nE.copyBuffers?Uint8Array.prototype.slice.call(BQ,t,t+=A):BQ.subarray(t,t+=A)}function QM(A){let Q=BQ[t++];if(Z2[Q]){let B;return Z2[Q](BQ.subarray(t,B=t+=A),(C)=>{t=C;try{return qY()}finally{t=B}})}else throw new Error("Unknown extension type "+Q)}var zZQ=new Array(4096);function SZQ(){let A=BQ[t++];if(A>=160&&A<192){if(A=A-160,hZ>=t)return L6.slice(t-AN,(t+=A)-AN);else if(!(hZ==0&&QN<180))return hr(A)}else return t--,gZQ(qY());let Q=(A<<5^(A>1?u0.getUint16(t):A>0?BQ[t]:0))&4095,B=zZQ[Q],C=t,E=t+A-3,I,Y=0;if(B&&B.bytes==A){while(C<E){if(I=u0.getUint32(C),I!=B[Y++]){C=1879048192;break}C+=4}E+=3;while(C<E)if(I=BQ[C++],I!=B[Y++]){C=1879048192;break}if(C===E)return t=C,B.string;E-=3,C=t}B=[],zZQ[Q]=B,B.bytes=A;while(C<E)I=u0.getUint32(C),B.push(I),C+=4;E+=3;while(C<E)I=BQ[C++],B.push(I);let G=A<16?d5A(A):xZQ(A);if(G!=null)return B.string=G;return B.string=hr(A)}function gZQ(A){if(typeof A==="string")return A;if(typeof A==="number"||typeof A==="boolean"||typeof A==="bigint")return A.toString();if(A==null)return A+"";throw new Error("Invalid property type for record",typeof A)}var wZQ=(A,Q)=>{let B=qY().map(gZQ),C=A;if(Q!==void 0)A=A<32?-((Q<<5)+A):(Q<<5)+A,B.highByte=Q;let E=e0[A];if(E&&(E.isShared||yW))(e0.restoreStructures||(e0.restoreStructures=[]))[A]=E;return e0[A]=B,B.read=m5A(B,C),B.read()};Z2[0]=()=>{};Z2[0].noBuffer=!0;Z2[66]=(A)=>{let Q=A.length,B=BigInt(A[0]&128?A[0]-256:A[0]);for(let C=1;C<Q;C++)B<<=BigInt(8),B+=BigInt(A[C]);return B};var TQB={Error,TypeError,ReferenceError};Z2[101]=()=>{let A=qY();return(TQB[A[0]]||Error)(A[1],{cause:A[2]})};Z2[105]=(A)=>{if(nE.structuredClone===!1)throw new Error("Structured clone extension is disabled");let Q=u0.getUint32(t-4);if(!O6)O6=new Map;let B=BQ[t],C;if(B>=144&&B<160||B==220||B==221)C=[];else C={};let E={target:C};O6.set(Q,E);let I=qY();if(E.used)return Object.assign(C,I);return E.target=I,I};Z2[112]=(A)=>{if(nE.structuredClone===!1)throw new Error("Structured clone extension is disabled");let Q=u0.getUint32(t-4),B=O6.get(Q);return B.used=!0,B.target};Z2[115]=()=>new Set(qY());var u5A=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map((A)=>A+"Array"),qQB=typeof globalThis==="object"?globalThis:window;Z2[116]=(A)=>{let Q=A[0],B=u5A[Q];if(!B){if(Q===16){let C=new ArrayBuffer(A.length-1);return new Uint8Array(C).set(A.subarray(1)),C}throw new Error("Could not find typed array for code "+Q)}return new qQB[B](Uint8Array.prototype.slice.call(A,1).buffer)};Z2[120]=()=>{let A=qY();return new RegExp(A[0],A[1])};var PQB=[];Z2[98]=(A)=>{let Q=(A[0]<<24)+(A[1]<<16)+(A[2]<<8)+A[3],B=t;return t+=Q-A.length,LG=PQB,LG=[$ZQ(),$ZQ()],LG.position0=0,LG.position1=0,LG.postBundlePosition=t,t=B,qY()};Z2[255]=(A)=>{if(A.length==4)return new Date((A[0]*16777216+(A[1]<<16)+(A[2]<<8)+A[3])*1000);else if(A.length==8)return new Date(((A[0]<<22)+(A[1]<<14)+(A[2]<<6)+(A[3]>>2))/1e6+((A[3]&3)*4294967296+A[4]*16777216+(A[5]<<16)+(A[6]<<8)+A[7])*1000);else if(A.length==12)return new Date(((A[0]<<24)+(A[1]<<16)+(A[2]<<8)+A[3])/1e6+((A[4]&128?-281474976710656:0)+A[6]*1099511627776+A[7]*4294967296+A[8]*16777216+(A[9]<<16)+(A[10]<<8)+A[11])*1000);else return new Date("invalid")};function vZQ(A){if(b5A)b5A();let Q=QN,B=t,C=tg,E=AN,I=hZ,Y=L6,G=BM,J=O6,D=LG,U=new Uint8Array(BQ.slice(0,QN)),N=e0,Z=e0.slice(0,e0.length),X=nE,W=yW,K=A();return QN=Q,t=B,tg=C,AN=E,hZ=I,L6=Y,BM=G,O6=J,LG=D,BQ=U,yW=W,e0=N,e0.splice(0,e0.length,...Z),nE=X,u0=new DataView(BQ.buffer,BQ.byteOffset,BQ.byteLength),K}function eg(){BQ=null,O6=null,e0=null}function yZQ(A){if(A.unpack)Z2[A.type]=A.unpack;else Z2[A.type]=A}var kW=new Array(147);for(let A=0;A<256;A++)kW[A]=+("1e"+Math.floor(45.15-A*0.30103));var kZQ=hD,dr=new hD({useRecords:!1}),ur=dr.unpack,bZQ=dr.unpackMultiple,p5A=dr.unpack,Av={NEVER:0,ALWAYS:1,DECIMAL_ROUND:3,DECIMAL_FIT:4},hZQ=new Float32Array(1),LZQ=new Uint8Array(hZQ.buffer,0,4);function mZQ(A){hZQ[0]=A;let Q=kW[(LZQ[3]&127)<<1|LZQ[2]>>7];return(Q*A+(A>0?0.5:-0.5)>>0)/Q}function fZQ(A,Q,B){y5A=A,k5A=Q,b5A=B}var cr;try{cr=new TextEncoder}catch(A){}var lr,c5A,ir=typeof Buffer!=="undefined",pr=ir?function(A){return Buffer.allocUnsafeSlow(A)}:Uint8Array,lZQ=ir?Buffer:Uint8Array,dZQ=ir?4294967296:2144337920,DA,Qv,oE,BA=0,a2,mI=null,iZQ,_QB=21760,jQB=/[\u0080-\uFFFF]/,L4=Symbol("record-id");class L9 extends hD{constructor(A){super(A);this.offset=0;let Q,B,C,E,I,Y=lZQ.prototype.utf8Write?function(d,AA){return DA.utf8Write(d,AA,DA.byteLength-AA)}:cr&&cr.encodeInto?function(d,AA){return cr.encodeInto(d,DA.subarray(AA)).written}:!1,G=this;if(!A)A={};let J=A&&A.sequential,D=A.structures||A.saveStructures,U=A.maxSharedStructures;if(U==null)U=D?32:0;if(U>8160)throw new Error("Maximum maxSharedStructure is 8160");if(A.structuredClone&&A.moreTypes==null)this.moreTypes=!0;let N=A.maxOwnStructures;if(N==null)N=D?32:64;if(!this.structures&&A.useRecords!=!1)this.structures=[];let Z=U>32||N+U>64,X=U+64,W=U+N+64;if(W>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let K=[],V=0,M=0;this.pack=this.encode=function(d,AA){if(!DA)DA=new pr(8192),oE=DA.dataView||(DA.dataView=new DataView(DA.buffer,0,8192)),BA=0;if(a2=DA.length-10,a2-BA<2048)DA=new pr(DA.length),oE=DA.dataView||(DA.dataView=new DataView(DA.buffer,0,DA.length)),a2=DA.length-10,BA=0;else BA=BA+7&2147483640;if(B=BA,AA&yQB)BA+=AA&255;if(I=G.structuredClone?new Map:null,G.bundleStrings&&typeof d!=="string")mI=[],mI.size=1/0;else mI=null;if(E=G.structures,E){if(E.uninitialized)E=G._mergeStructures(G.getStructures());let UA=E.sharedLength||0;if(UA>U)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+E.sharedLength);if(!E.transitions){E.transitions=Object.create(null);for(let NA=0;NA<UA;NA++){let bA=E[NA];if(!bA)continue;let FQ,IQ=E.transitions;for(let KQ=0,U0=bA.length;KQ<U0;KQ++){let kJ=bA[KQ];if(FQ=IQ[kJ],!FQ)FQ=IQ[kJ]=Object.create(null);IQ=FQ}IQ[L4]=NA+64}this.lastNamedStructuresLength=UA}if(!J)E.nextId=UA+64}if(C)C=!1;let IA;try{if(G.randomAccessStructure&&d&&d.constructor&&d.constructor===Object)MA(d);else O(d);let UA=mI;if(mI)cZQ(B,O,0);if(I&&I.idsToInsert){let NA=I.idsToInsert.sort((KQ,U0)=>KQ.offset>U0.offset?1:-1),bA=NA.length,FQ=-1;while(UA&&bA>0){let KQ=NA[--bA].offset+B;if(KQ<UA.stringsPosition+B&&FQ===-1)FQ=0;if(KQ>UA.position+B){if(FQ>=0)FQ+=6}else{if(FQ>=0)oE.setUint32(UA.position+B,oE.getUint32(UA.position+B)+FQ),FQ=-1;UA=UA.previous,bA++}}if(FQ>=0&&UA)oE.setUint32(UA.position+B,oE.getUint32(UA.position+B)+FQ);if(BA+=NA.length*6,BA>a2)y(BA);G.offset=BA;let IQ=SQB(DA.subarray(B,BA),NA);return I=null,IQ}if(G.offset=BA,AA&gQB)return DA.start=B,DA.end=BA,DA;return DA.subarray(B,BA)}catch(UA){throw IA=UA,UA}finally{if(E){if(z(),C&&G.saveStructures){let UA=E.sharedLength||0,NA=DA.subarray(B,BA),bA=nZQ(E,G);if(!IA){if(G.saveStructures(bA,bA.isCompatible)===!1)return G.pack(d,AA);if(G.lastNamedStructuresLength=UA,DA.length>1073741824)DA=null;return NA}}}if(DA.length>1073741824)DA=null;if(AA&vQB)BA=B}};let z=()=>{if(M<10)M++;let d=E.sharedLength||0;if(E.length>d&&!J)E.length=d;if(V>1e4){if(E.transitions=null,M=0,V=0,K.length>0)K=[]}else if(K.length>0&&!J){for(let AA=0,IA=K.length;AA<IA;AA++)K[AA][L4]=0;K=[]}},L=(d)=>{var AA=d.length;if(AA<16)DA[BA++]=144|AA;else if(AA<65536)DA[BA++]=220,DA[BA++]=AA>>8,DA[BA++]=AA&255;else DA[BA++]=221,oE.setUint32(BA,AA),BA+=4;for(let IA=0;IA<AA;IA++)O(d[IA])},O=(d)=>{if(BA>a2)DA=y(BA);var AA=typeof d,IA;if(AA==="string"){let UA=d.length;if(mI&&UA>=4&&UA<4096){if((mI.size+=UA)>_QB){let IQ,KQ=(mI[0]?mI[0].length*3+mI[1].length:0)+10;if(BA+KQ>a2)DA=y(BA+KQ);let U0;if(mI.position)U0=mI,DA[BA]=200,BA+=3,DA[BA++]=98,IQ=BA-B,BA+=4,cZQ(B,O,0),oE.setUint16(IQ+B-3,BA-B-IQ);else DA[BA++]=214,DA[BA++]=98,IQ=BA-B,BA+=4;mI=["",""],mI.previous=U0,mI.size=0,mI.position=IQ}let FQ=jQB.test(d);mI[FQ?0:1]+=d,DA[BA++]=193,O(FQ?-UA:UA);return}let NA;if(UA<32)NA=1;else if(UA<256)NA=2;else if(UA<65536)NA=3;else NA=5;let bA=UA*3;if(BA+bA>a2)DA=y(BA+bA);if(UA<64||!Y){let FQ,IQ,KQ,U0=BA+NA;for(FQ=0;FQ<UA;FQ++)if(IQ=d.charCodeAt(FQ),IQ<128)DA[U0++]=IQ;else if(IQ<2048)DA[U0++]=IQ>>6|192,DA[U0++]=IQ&63|128;else if((IQ&64512)===55296&&((KQ=d.charCodeAt(FQ+1))&64512)===56320)IQ=65536+((IQ&1023)<<10)+(KQ&1023),FQ++,DA[U0++]=IQ>>18|240,DA[U0++]=IQ>>12&63|128,DA[U0++]=IQ>>6&63|128,DA[U0++]=IQ&63|128;else DA[U0++]=IQ>>12|224,DA[U0++]=IQ>>6&63|128,DA[U0++]=IQ&63|128;IA=U0-BA-NA}else IA=Y(d,BA+NA);if(IA<32)DA[BA++]=160|IA;else if(IA<256){if(NA<2)DA.copyWithin(BA+2,BA+1,BA+1+IA);DA[BA++]=217,DA[BA++]=IA}else if(IA<65536){if(NA<3)DA.copyWithin(BA+3,BA+2,BA+2+IA);DA[BA++]=218,DA[BA++]=IA>>8,DA[BA++]=IA&255}else{if(NA<5)DA.copyWithin(BA+5,BA+3,BA+3+IA);DA[BA++]=219,oE.setUint32(BA,IA),BA+=4}BA+=IA}else if(AA==="number")if(d>>>0===d)if(d<32||d<128&&this.useRecords===!1||d<64&&!this.randomAccessStructure)DA[BA++]=d;else if(d<256)DA[BA++]=204,DA[BA++]=d;else if(d<65536)DA[BA++]=205,DA[BA++]=d>>8,DA[BA++]=d&255;else DA[BA++]=206,oE.setUint32(BA,d),BA+=4;else if(d>>0===d)if(d>=-32)DA[BA++]=256+d;else if(d>=-128)DA[BA++]=208,DA[BA++]=d+256;else if(d>=-32768)DA[BA++]=209,oE.setInt16(BA,d),BA+=2;else DA[BA++]=210,oE.setInt32(BA,d),BA+=4;else{let UA;if((UA=this.useFloat32)>0&&d<4294967296&&d>=-2147483648){DA[BA++]=202,oE.setFloat32(BA,d);let NA;if(UA<4||(NA=d*kW[(DA[BA]&127)<<1|DA[BA+1]>>7])>>0===NA){BA+=4;return}else BA--}DA[BA++]=203,oE.setFloat64(BA,d),BA+=8}else if(AA==="object"||AA==="function")if(!d)DA[BA++]=192;else{if(I){let NA=I.get(d);if(NA){if(!NA.id){let bA=I.idsToInsert||(I.idsToInsert=[]);NA.id=bA.push(NA)}DA[BA++]=214,DA[BA++]=112,oE.setUint32(BA,NA.id),BA+=4;return}else I.set(d,{offset:BA-B})}let UA=d.constructor;if(UA===Object)q(d);else if(UA===Array)L(d);else if(UA===Map)if(this.mapAsEmptyObject)DA[BA++]=128;else{if(IA=d.size,IA<16)DA[BA++]=128|IA;else if(IA<65536)DA[BA++]=222,DA[BA++]=IA>>8,DA[BA++]=IA&255;else DA[BA++]=223,oE.setUint32(BA,IA),BA+=4;for(let[NA,bA]of d)O(NA),O(bA)}else{for(let NA=0,bA=lr.length;NA<bA;NA++){let FQ=c5A[NA];if(d instanceof FQ){let IQ=lr[NA];if(IQ.write){if(IQ.type)DA[BA++]=212,DA[BA++]=IQ.type,DA[BA++]=0;let W8=IQ.write.call(this,d);if(W8===d)if(Array.isArray(d))L(d);else q(d);else O(W8);return}let KQ=DA,U0=oE,kJ=BA;DA=null;let ED;try{ED=IQ.pack.call(this,d,(W8)=>{if(DA=KQ,KQ=null,BA+=W8,BA>a2)y(BA);return{target:DA,targetView:oE,position:BA-W8}},O)}finally{if(KQ)DA=KQ,oE=U0,BA=kJ,a2=DA.length-10}if(ED){if(ED.length+BA>a2)y(ED.length+BA);BA=xQB(ED,DA,BA,IQ.type)}return}}if(Array.isArray(d))L(d);else{if(d.toJSON){let NA=d.toJSON();if(NA!==d)return O(NA)}if(AA==="function")return O(this.writeFunction&&this.writeFunction(d));q(d)}}}else if(AA==="boolean")DA[BA++]=d?195:194;else if(AA==="bigint"){if(d<BigInt(1)<<BigInt(63)&&d>=-(BigInt(1)<<BigInt(63)))DA[BA++]=211,oE.setBigInt64(BA,d);else if(d<BigInt(1)<<BigInt(64)&&d>0)DA[BA++]=207,oE.setBigUint64(BA,d);else if(this.largeBigIntToFloat)DA[BA++]=203,oE.setFloat64(BA,Number(d));else if(this.largeBigIntToString)return O(d.toString());else if(this.useBigIntExtension&&d<BigInt(2)**BigInt(1023)&&d>-(BigInt(2)**BigInt(1023))){DA[BA++]=199,BA++,DA[BA++]=66;let UA=[],NA;do{let bA=d&BigInt(255);NA=(bA&BigInt(128))===(d<BigInt(0)?BigInt(128):BigInt(0)),UA.push(bA),d>>=BigInt(8)}while(!((d===BigInt(0)||d===BigInt(-1))&&NA));DA[BA-2]=UA.length;for(let bA=UA.length;bA>0;)DA[BA++]=Number(UA[--bA]);return}else throw new RangeError(d+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension, or set largeBigIntToFloat to convert to float-64, or set largeBigIntToString to convert to string");BA+=8}else if(AA==="undefined")if(this.encodeUndefinedAsNil)DA[BA++]=192;else DA[BA++]=212,DA[BA++]=0,DA[BA++]=0;else throw new Error("Unknown type: "+AA)},R=this.variableMapSize||this.coercibleKeyAsNumber||this.skipValues?(d)=>{let AA;if(this.skipValues){AA=[];for(let NA in d)if((typeof d.hasOwnProperty!=="function"||d.hasOwnProperty(NA))&&!this.skipValues.includes(d[NA]))AA.push(NA)}else AA=Object.keys(d);let IA=AA.length;if(IA<16)DA[BA++]=128|IA;else if(IA<65536)DA[BA++]=222,DA[BA++]=IA>>8,DA[BA++]=IA&255;else DA[BA++]=223,oE.setUint32(BA,IA),BA+=4;let UA;if(this.coercibleKeyAsNumber)for(let NA=0;NA<IA;NA++){UA=AA[NA];let bA=Number(UA);O(isNaN(bA)?UA:bA),O(d[UA])}else for(let NA=0;NA<IA;NA++)O(UA=AA[NA]),O(d[UA])}:(d)=>{DA[BA++]=222;let AA=BA-B;BA+=2;let IA=0;for(let UA in d)if(typeof d.hasOwnProperty!=="function"||d.hasOwnProperty(UA))O(UA),O(d[UA]),IA++;if(IA>65535)throw new Error('Object is too large to serialize with fast 16-bit map size, use the "variableMapSize" option to serialize this object');DA[AA+++B]=IA>>8,DA[AA+B]=IA&255},_=this.useRecords===!1?R:A.progressiveRecords&&!Z?(d)=>{let AA,IA=E.transitions||(E.transitions=Object.create(null)),UA=BA++-B,NA;for(let bA in d)if(typeof d.hasOwnProperty!=="function"||d.hasOwnProperty(bA)){if(AA=IA[bA],AA)IA=AA;else{let FQ=Object.keys(d),IQ=IA;IA=E.transitions;let KQ=0;for(let U0=0,kJ=FQ.length;U0<kJ;U0++){let ED=FQ[U0];if(AA=IA[ED],!AA)AA=IA[ED]=Object.create(null),KQ++;IA=AA}if(UA+B+1==BA)BA--,p(IA,FQ,KQ);else i(IA,FQ,UA,KQ);NA=!0,IA=IQ[bA]}O(d[bA])}if(!NA){let bA=IA[L4];if(bA)DA[UA+B]=bA;else i(IA,Object.keys(d),UA,0)}}:(d)=>{let AA,IA=E.transitions||(E.transitions=Object.create(null)),UA=0;for(let bA in d)if(typeof d.hasOwnProperty!=="function"||d.hasOwnProperty(bA)){if(AA=IA[bA],!AA)AA=IA[bA]=Object.create(null),UA++;IA=AA}let NA=IA[L4];if(NA)if(NA>=96&&Z)DA[BA++]=((NA-=96)&31)+96,DA[BA++]=NA>>5;else DA[BA++]=NA;else p(IA,IA.__keys__||Object.keys(d),UA);for(let bA in d)if(typeof d.hasOwnProperty!=="function"||d.hasOwnProperty(bA))O(d[bA])},S=typeof this.useRecords=="function"&&this.useRecords,q=S?(d)=>{S(d)?_(d):R(d)}:_,y=(d)=>{let AA;if(d>16777216){if(d-B>dZQ)throw new Error("Packed buffer would be larger than maximum buffer size");AA=Math.min(dZQ,Math.round(Math.max((d-B)*(d>67108864?1.25:2),4194304)/4096)*4096)}else AA=(Math.max(d-B<<2,DA.length-1)>>12)+1<<12;let IA=new pr(AA);if(oE=IA.dataView||(IA.dataView=new DataView(IA.buffer,0,AA)),d=Math.min(d,DA.length),DA.copy)DA.copy(IA,0,B,d);else IA.set(DA.slice(B,d));return BA-=B,B=0,a2=IA.length-10,DA=IA},p=(d,AA,IA)=>{let UA=E.nextId;if(!UA)UA=64;if(UA<X&&this.shouldShareStructure&&!this.shouldShareStructure(AA)){if(UA=E.nextOwnId,!(UA<W))UA=X;E.nextOwnId=UA+1}else{if(UA>=W)UA=X;E.nextId=UA+1}let NA=AA.highByte=UA>=96&&Z?UA-96>>5:-1;if(d[L4]=UA,d.__keys__=AA,E[UA-64]=AA,UA<X)if(AA.isShared=!0,E.sharedLength=UA-63,C=!0,NA>=0)DA[BA++]=(UA&31)+96,DA[BA++]=NA;else DA[BA++]=UA;else{if(NA>=0)DA[BA++]=213,DA[BA++]=114,DA[BA++]=(UA&31)+96,DA[BA++]=NA;else DA[BA++]=212,DA[BA++]=114,DA[BA++]=UA;if(IA)V+=M*IA;if(K.length>=N)K.shift()[L4]=0;K.push(d),O(AA)}},i=(d,AA,IA,UA)=>{let NA=DA,bA=BA,FQ=a2,IQ=B;if(DA=Qv,BA=0,B=0,!DA)Qv=DA=new pr(8192);a2=DA.length-10,p(d,AA,UA),Qv=DA;let KQ=BA;if(DA=NA,BA=bA,a2=FQ,B=IQ,KQ>1){let U0=BA+KQ-1;if(U0>a2)y(U0);let kJ=IA+B;DA.copyWithin(kJ+KQ,kJ+1,BA),DA.set(Qv.slice(0,KQ),kJ),BA=U0}else DA[IA+B]=Qv[0]},MA=(d)=>{let AA=iZQ(d,DA,B,BA,E,y,(IA,UA,NA)=>{if(NA)return C=!0;BA=UA;let bA=DA;if(O(IA),z(),bA!==DA)return{position:BA,targetView:oE,target:DA};return BA},this);if(AA===0)return q(d);BA=AA}}useBuffer(A){DA=A,DA.dataView||(DA.dataView=new DataView(DA.buffer,DA.byteOffset,DA.byteLength)),BA=0}set position(A){BA=A}get position(){return BA}clearSharedData(){if(this.structures)this.structures=[];if(this.typedStructs)this.typedStructs=[]}}c5A=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,mr];lr=[{pack(A,Q,B){let C=A.getTime()/1000;if((this.useTimestamp32||A.getMilliseconds()===0)&&C>=0&&C<4294967296){let{target:E,targetView:I,position:Y}=Q(6);E[Y++]=214,E[Y++]=255,I.setUint32(Y,C)}else if(C>0&&C<4294967296){let{target:E,targetView:I,position:Y}=Q(10);E[Y++]=215,E[Y++]=255,I.setUint32(Y,A.getMilliseconds()*4000000+(C/1000/4294967296>>0)),I.setUint32(Y+4,C)}else if(isNaN(C)){if(this.onInvalidDate)return Q(0),B(this.onInvalidDate());let{target:E,targetView:I,position:Y}=Q(3);E[Y++]=212,E[Y++]=255,E[Y++]=255}else{let{target:E,targetView:I,position:Y}=Q(15);E[Y++]=199,E[Y++]=12,E[Y++]=255,I.setUint32(Y,A.getMilliseconds()*1e6),I.setBigInt64(Y+4,BigInt(Math.floor(C)))}}},{pack(A,Q,B){if(this.setAsEmptyObject)return Q(0),B({});let C=Array.from(A),{target:E,position:I}=Q(this.moreTypes?3:0);if(this.moreTypes)E[I++]=212,E[I++]=115,E[I++]=0;B(C)}},{pack(A,Q,B){let{target:C,position:E}=Q(this.moreTypes?3:0);if(this.moreTypes)C[E++]=212,C[E++]=101,C[E++]=0;B([A.name,A.message,A.cause])}},{pack(A,Q,B){let{target:C,position:E}=Q(this.moreTypes?3:0);if(this.moreTypes)C[E++]=212,C[E++]=120,C[E++]=0;B([A.source,A.flags])}},{pack(A,Q){if(this.moreTypes)uZQ(A,16,Q);else pZQ(ir?Buffer.from(A):new Uint8Array(A),Q)}},{pack(A,Q){let B=A.constructor;if(B!==lZQ&&this.moreTypes)uZQ(A,u5A.indexOf(B.name),Q);else pZQ(A,Q)}},{pack(A,Q){let{target:B,position:C}=Q(1);B[C]=193}}];function uZQ(A,Q,B,C){let E=A.byteLength;if(E+1<256){var{target:I,position:Y}=B(4+E);I[Y++]=199,I[Y++]=E+1}else if(E+1<65536){var{target:I,position:Y}=B(5+E);I[Y++]=200,I[Y++]=E+1>>8,I[Y++]=E+1&255}else{var{target:I,position:Y,targetView:G}=B(7+E);I[Y++]=201,G.setUint32(Y,E+1),Y+=4}if(I[Y++]=116,I[Y++]=Q,!A.buffer)A=new Uint8Array(A);I.set(new Uint8Array(A.buffer,A.byteOffset,A.byteLength),Y)}function pZQ(A,Q){let B=A.byteLength;var C,E;if(B<256){var{target:C,position:E}=Q(B+2);C[E++]=196,C[E++]=B}else if(B<65536){var{target:C,position:E}=Q(B+3);C[E++]=197,C[E++]=B>>8,C[E++]=B&255}else{var{target:C,position:E,targetView:I}=Q(B+5);C[E++]=198,I.setUint32(E,B),E+=4}C.set(A,E)}function xQB(A,Q,B,C){let E=A.length;switch(E){case 1:Q[B++]=212;break;case 2:Q[B++]=213;break;case 4:Q[B++]=214;break;case 8:Q[B++]=215;break;case 16:Q[B++]=216;break;default:if(E<256)Q[B++]=199,Q[B++]=E;else if(E<65536)Q[B++]=200,Q[B++]=E>>8,Q[B++]=E&255;else Q[B++]=201,Q[B++]=E>>24,Q[B++]=E>>16&255,Q[B++]=E>>8&255,Q[B++]=E&255}return Q[B++]=C,Q.set(A,B),B+=E,B}function SQB(A,Q){let B,C=Q.length*6,E=A.length-C;while(B=Q.pop()){let{offset:I,id:Y}=B;A.copyWithin(I+C,I,E),C-=6;let G=I+C;A[G++]=214,A[G++]=105,A[G++]=Y>>24,A[G++]=Y>>16&255,A[G++]=Y>>8&255,A[G++]=Y&255,E=I}return A}function cZQ(A,Q,B){if(mI.length>0){oE.setUint32(mI.position+A,BA+B-mI.position-A),mI.stringsPosition=BA-A;let C=mI;mI=null,Q(C[0]),Q(C[1])}}function l5A(A){if(A.Class){if(!A.pack&&!A.write)throw new Error("Extension has no pack or write function");if(A.pack&&!A.type)throw new Error("Extension has no type (numeric code to identify the extension)");c5A.unshift(A.Class),lr.unshift(A)}yZQ(A)}function nZQ(A,Q){return A.isCompatible=(B)=>{let C=!B||(Q.lastNamedStructuresLength||0)===B.length;if(!C)Q._mergeStructures(B);return C},A}function oZQ(A,Q){iZQ=A,nZQ=Q}var rZQ=new L9({useRecords:!1}),nr=rZQ.pack,i5A=rZQ.pack,aZQ=L9,{NEVER:sZQ,ALWAYS:tZQ,DECIMAL_ROUND:eZQ,DECIMAL_FIT:A8Q}=Av,gQB=512,vQB=1024,yQB=2048;var n5A=3,eO=0,Bv=2,or=1,r5A=16,B8Q=["num","object","string","ascii"];B8Q[r5A]="date";var kQB=[!1,!0,!0,!1,!1,!0,!0,!1],C8Q;try{new Function(""),C8Q=!0}catch(A){}var EM,bQB=typeof Buffer!=="undefined",rr,O4;try{rr=new TextEncoder}catch(A){}var hQB=bQB?function(A,Q,B){return A.utf8Write(Q,B,A.byteLength-B)}:rr&&rr.encodeInto?function(A,Q,B){return rr.encodeInto(Q,A.subarray(B)).written}:!1,q80=Symbol("type"),P80=Symbol("parent");oZQ(E8Q,pQB);function E8Q(A,Q,B,C,E,I,Y,G){let J=G.typedStructs||(G.typedStructs=[]),D=Q.dataView,U=(J.lastStringStart||100)+C,N=Q.length-10,Z=C;if(C>N)Q=I(C),D=Q.dataView,C-=B,Z-=B,U-=B,B=0,N=Q.length-10;let X,W=U,K=J.transitions||(J.transitions=Object.create(null)),V=J.nextId||J.length,M=V<15?1:V<240?2:V<61440?3:V<15728640?4:0;if(M===0)return 0;C+=M;let z=[],L,O=0;for(let _ in A){let S=A[_],q=K[_];if(!q)K[_]=q={key:_,parent:K,enumerationOffset:0,ascii0:null,ascii8:null,num8:null,string16:null,object16:null,num32:null,float64:null,date64:null};if(C>N)Q=I(C),D=Q.dataView,C-=B,Z-=B,U-=B,W-=B,B=0,N=Q.length-10;switch(typeof S){case"number":let y=S;if(V<200||!q.num64){if(y>>0===y&&y<536870912&&y>-520093696){if(y<246&&y>=0&&(q.num8&&!(V>200&&q.num32)||y<32&&!q.num32))K=q.num8||mD(q,eO,1),Q[C++]=y;else K=q.num32||mD(q,eO,4),D.setUint32(C,y,!0),C+=4;break}else if(y<4294967296&&y>=-2147483648){if(D.setFloat32(C,y,!0),kQB[Q[C+3]>>>5]){let d;if((d=y*kW[(Q[C+3]&127)<<1|Q[C+2]>>7])>>0===d){K=q.num32||mD(q,eO,4),C+=4;break}}}}K=q.num64||mD(q,eO,8),D.setFloat64(C,y,!0),C+=8;break;case"string":let p=S.length;if(X=W-U,(p<<2)+W>N)Q=I((p<<2)+W),D=Q.dataView,C-=B,Z-=B,U-=B,W-=B,B=0,N=Q.length-10;if(p>65280+X>>2){z.push(_,S,C-Z);break}let i,MA=W;if(p<64){let d,AA,IA;for(d=0;d<p;d++)if(AA=S.charCodeAt(d),AA<128)Q[W++]=AA;else if(AA<2048)i=!0,Q[W++]=AA>>6|192,Q[W++]=AA&63|128;else if((AA&64512)===55296&&((IA=S.charCodeAt(d+1))&64512)===56320)i=!0,AA=65536+((AA&1023)<<10)+(IA&1023),d++,Q[W++]=AA>>18|240,Q[W++]=AA>>12&63|128,Q[W++]=AA>>6&63|128,Q[W++]=AA&63|128;else i=!0,Q[W++]=AA>>12|224,Q[W++]=AA>>6&63|128,Q[W++]=AA&63|128}else W+=hQB(Q,S,W),i=W-MA>p;if(X<160||X<246&&(q.ascii8||q.string8)){if(i){if(!(K=q.string8))if(J.length>10&&(K=q.ascii8))K.__type=Bv,q.ascii8=null,q.string8=K,Y(null,0,!0);else K=mD(q,Bv,1)}else if(X===0&&!L){L=!0,K=q.ascii0||mD(q,n5A,0);break}else if(!(K=q.ascii8)&&!(J.length>10&&(K=q.string8)))K=mD(q,n5A,1);Q[C++]=X}else K=q.string16||mD(q,Bv,2),D.setUint16(C,X,!0),C+=2;break;case"object":if(S){if(S.constructor===Date)K=q.date64||mD(q,r5A,8),D.setFloat64(C,S.getTime(),!0),C+=8;else z.push(_,S,O);break}else if(q=Q8Q(q,C,D,-10),q)K=q,C=EM;else z.push(_,S,O);break;case"boolean":K=q.num8||q.ascii8||mD(q,eO,1),Q[C++]=S?249:248;break;case"undefined":if(q=Q8Q(q,C,D,-9),q)K=q,C=EM;else z.push(_,S,O);break;default:z.push(_,S,O)}O++}for(let _=0,S=z.length;_<S;){let q=z[_++],y=z[_++],p=z[_++],i=K[q];if(!i)K[q]=i={key:q,parent:K,enumerationOffset:p-O,ascii0:null,ascii8:null,num8:null,string16:null,object16:null,num32:null,float64:null};let MA;if(y){let d;if(X=W-U,X<65280)if(K=i.object16,K)d=2;else if(K=i.object32)d=4;else K=mD(i,or,2),d=2;else K=i.object32||mD(i,or,4),d=4;if(MA=Y(y,W),typeof MA==="object")W=MA.position,D=MA.targetView,Q=MA.target,U-=B,C-=B,Z-=B,B=0;else W=MA;if(d===2)D.setUint16(C,X,!0),C+=2;else D.setUint32(C,X,!0),C+=4}else K=i.object16||mD(i,or,2),D.setInt16(C,y===null?-10:-9,!0),C+=2;O++}let R=K[L4];if(R==null){R=G.typedStructs.length;let _=[],S=K,q,y;while((y=S.__type)!==void 0){let p=S.__size;S=S.__parent,q=S.key;let i=[y,p,q];if(S.enumerationOffset)i.push(S.enumerationOffset);_.push(i),S=S.parent}_.reverse(),K[L4]=R,G.typedStructs[R]=_,Y(null,0,!0)}switch(M){case 1:if(R>=16)return 0;Q[Z]=R+32;break;case 2:if(R>=256)return 0;Q[Z]=56,Q[Z+1]=R;break;case 3:if(R>=65536)return 0;Q[Z]=57,D.setUint16(Z+1,R,!0);break;case 4:if(R>=16777216)return 0;D.setUint32(Z,(R<<8)+58,!0);break}if(C<U){if(U===W)return C;Q.copyWithin(C,U,W),W+=C-U,J.lastStringStart=C-Z}else if(C>U){if(U===W)return C;return J.lastStringStart=C-Z,E8Q(A,Q,B,Z,E,I,Y,G)}return W}function Q8Q(A,Q,B,C){let E;if(E=A.ascii8||A.num8)return B.setInt8(Q,C,!0),EM=Q+1,E;if(E=A.string16||A.object16)return B.setInt16(Q,C,!0),EM=Q+2,E;if(E=A.num32)return B.setUint32(Q,3758096640+C,!0),EM=Q+4,E;if(E=A.num64)return B.setFloat64(Q,NaN,!0),B.setInt8(Q,C),EM=Q+8,E;EM=Q;return}function mD(A,Q,B){let C=B8Q[Q]+(B<<3),E=A[C]||(A[C]=Object.create(null));return E.__type=Q,E.__size=B,E.__parent=A,E}function mQB(A){if(!(A instanceof Map))return A;let Q=A.get("typed")||[];if(Object.isFrozen(Q))Q=Q.map((E)=>E.slice(0));let B=A.get("named"),C=Object.create(null);for(let E=0,I=Q.length;E<I;E++){let Y=Q[E],G=C;for(let[J,D,U]of Y){let N=G[U];if(!N)G[U]=N={key:U,parent:G,enumerationOffset:0,ascii0:null,ascii8:null,num8:null,string16:null,object16:null,num32:null,float64:null,date64:null};G=mD(N,J,D)}G[L4]=E}return Q.transitions=C,this.typedStructs=Q,this.lastTypedStructuresLength=Q.length,B}var o5A=Symbol.for("source");function fQB(A,Q,B,C){let E=A[Q++]-32;if(E>=24)switch(E){case 24:E=A[Q++];break;case 25:E=A[Q++]+(A[Q++]<<8);break;case 26:E=A[Q++]+(A[Q++]<<8)+(A[Q++]<<16);break;case 27:E=A[Q++]+(A[Q++]<<8)+(A[Q++]<<16)+(A[Q++]<<24);break}let I=C.typedStructs&&C.typedStructs[E];if(!I){if(A=Uint8Array.prototype.slice.call(A,Q,B),B-=Q,Q=0,!C.getStructures)throw new Error(`Reference to shared structure ${E} without getStructures method`);if(C._mergeStructures(C.getStructures()),!C.typedStructs)throw new Error("Could not find any shared typed structures");if(C.lastTypedStructuresLength=C.typedStructs.length,I=C.typedStructs[E],!I)throw new Error("Could not find typed structure "+E)}var Y=I.construct;if(!Y){Y=I.construct=function Z(){};var G=Y.prototype;let D=[],U=0,N;for(let Z=0,X=I.length;Z<X;Z++){let W=I[Z],[K,V,M,z]=W;if(M==="__proto__")M="__proto_";let L={key:M,offset:U};if(z)D.splice(Z+z,0,L);else D.push(L);let O;switch(V){case 0:O=()=>0;break;case 1:O=(_,S)=>{let q=_.bytes[S+L.offset];return q>=246?tO(q):q};break;case 2:O=(_,S)=>{let q=_.bytes,p=(q.dataView||(q.dataView=new DataView(q.buffer,q.byteOffset,q.byteLength))).getUint16(S+L.offset,!0);return p>=65280?tO(p&255):p};break;case 4:O=(_,S)=>{let q=_.bytes,p=(q.dataView||(q.dataView=new DataView(q.buffer,q.byteOffset,q.byteLength))).getUint32(S+L.offset,!0);return p>=4294967040?tO(p&255):p};break}L.getRef=O,U+=V;let R;switch(K){case n5A:if(N&&!N.next)N.next=L;N=L,L.multiGetCount=0,R=function(_){let{bytes:S,position:q}=_,y=U+q,p=O(_,q);if(typeof p!=="number")return p;let i,MA=L.next;while(MA){if(i=MA.getRef(_,q),typeof i==="number")break;else i=null;MA=MA.next}if(i==null)i=_.bytesEnd-y;if(_.srcString)return _.srcString.slice(p,i);return jZQ(S,p+y,i-p)};break;case Bv:case or:if(N&&!N.next)N.next=L;N=L,R=function(_){let S=_.position,q=U+S,y=O(_,S);if(typeof y!=="number")return y;let p=_.bytes,i,MA=L.next;while(MA){if(i=MA.getRef(_,S),typeof i==="number")break;else i=null;MA=MA.next}if(i==null)i=_.bytesEnd-q;if(K===Bv)return p.toString("utf8",y+q,i+q);else{O4=_;try{return C.unpack(p,{start:y+q,end:i+q})}finally{O4=null}}};break;case eO:switch(V){case 4:R=function(_){let S=_.bytes,q=S.dataView||(S.dataView=new DataView(S.buffer,S.byteOffset,S.byteLength)),y=_.position+L.offset,p=q.getInt32(y,!0);if(p<536870912){if(p>-520093696)return p;if(p>-536870912)return tO(p&255)}let i=q.getFloat32(y,!0),MA=kW[(S[y+3]&127)<<1|S[y+2]>>7];return(MA*i+(i>0?0.5:-0.5)>>0)/MA};break;case 8:R=function(_){let S=_.bytes,y=(S.dataView||(S.dataView=new DataView(S.buffer,S.byteOffset,S.byteLength))).getFloat64(_.position+L.offset,!0);if(isNaN(y)){let p=S[_.position+L.offset];if(p>=246)return tO(p)}return y};break;case 1:R=function(_){let q=_.bytes[_.position+L.offset];return q<246?q:tO(q)};break}break;case r5A:R=function(_){let S=_.bytes,q=S.dataView||(S.dataView=new DataView(S.buffer,S.byteOffset,S.byteLength));return new Date(q.getFloat64(_.position+L.offset,!0))};break}L.get=R}if(C8Q){let Z=[],X=[],W=0,K;for(let M of D){if(C.alwaysLazyProperty&&C.alwaysLazyProperty(M.key)){K=!0;continue}Object.defineProperty(G,M.key,{get:dQB(M.get),enumerable:!0});let z="v"+W++;X.push(z),Z.push("["+JSON.stringify(M.key)+"]:"+z+"(s)")}if(K)Z.push("__proto__:this");let V=new Function(...X,"return function(s){return{"+Z.join(",")+"}}").apply(null,D.map((M)=>M.get));Object.defineProperty(G,"toJSON",{value(M){return V.call(this,this[o5A])}})}else Object.defineProperty(G,"toJSON",{value(Z){let X={};for(let W=0,K=D.length;W<K;W++){let V=D[W].key;X[V]=this[V]}return X}})}var J=new Y;return J[o5A]={bytes:A,position:Q,srcString:"",bytesEnd:B},J}function tO(A){switch(A){case 246:return null;case 247:return;case 248:return!1;case 249:return!0}throw new Error("Unknown constant")}function dQB(A){return function(){return A(this[o5A])}}function uQB(){if(O4)O4.bytes=Uint8Array.prototype.slice.call(O4.bytes,O4.position,O4.bytesEnd),O4.position=0,O4.bytesEnd=O4.bytes.length}function pQB(A,Q){if(Q.typedStructs){let C=new Map;C.set("named",A),C.set("typed",Q.typedStructs),A=C}let B=Q.lastTypedStructuresLength||0;return A.isCompatible=(C)=>{let E=!0;if(C instanceof Map){if((C.get("named")||[]).length!==(Q.lastNamedStructuresLength||0))E=!1;if((C.get("typed")||[]).length!==B)E=!1}else if(C instanceof Array||Array.isArray(C)){if(C.length!==(Q.lastNamedStructuresLength||0))E=!1}if(!E)Q._mergeStructures(C);return E},Q.lastTypedStructuresLength=Q.typedStructs&&Q.typedStructs.length,A}fZQ(fQB,mQB,uQB);import{Transform as I8Q}from"stream";class ar extends I8Q{constructor(A){if(!A)A={};A.writableObjectMode=!0;super(A);A.sequential=!0,this.packr=A.packr||new L9(A)}_transform(A,Q,B){this.push(this.packr.pack(A)),B()}}class sr extends I8Q{constructor(A){if(!A)A={};A.objectMode=!0;super(A);A.structures=[],this.unpackr=A.unpackr||new hD(A)}_transform(A,Q,B){if(this.incompleteBuffer)A=Buffer.concat([this.incompleteBuffer,A]),this.incompleteBuffer=null;let C;try{C=this.unpackr.unpackMultiple(A)}catch(E){if(E.incomplete)this.incompleteBuffer=A.slice(E.lastPosition),C=E.values;else throw E}finally{for(let E of C||[]){if(E===null)E=this.getNullValue();this.push(E)}}if(B)B()}getNullValue(){return Symbol.for(null)}}function cQB(A,Q={}){if(!A||typeof A!=="object")throw new Error("first argument must be an Iterable, Async Iterable, or a Promise for an Async Iterable");else if(typeof A[Symbol.iterator]==="function")return lQB(A,Q);else if(typeof A.then==="function"||typeof A[Symbol.asyncIterator]==="function")return iQB(A,Q);else throw new Error("first argument must be an Iterable, Async Iterable, Iterator, Async Iterator, or a Promise")}function*lQB(A,Q){let B=new L9(Q);for(let C of A)yield B.pack(C)}async function*iQB(A,Q){let B=new L9(Q);for await(let C of A)yield B.pack(C)}function nQB(A,Q={}){if(!A||typeof A!=="object")throw new Error("first argument must be an Iterable, Async Iterable, Iterator, Async Iterator, or a promise");let B=new hD(Q),C,E=(I)=>{let Y;if(C)I=Buffer.concat([C,I]),C=void 0;try{Y=B.unpackMultiple(I)}catch(G){if(G.incomplete)C=I.slice(G.lastPosition),Y=G.values;else throw G}return Y};if(typeof A[Symbol.iterator]==="function")return function*I(){for(let Y of A)yield*E(Y)}();else if(typeof A[Symbol.asyncIterator]==="function")return async function*I(){for await(let Y of A)yield*E(Y)}()}var Y8Q=nQB,G8Q=cQB;var FBB=!1,HBB=!0,WBB=process.env.MSGPACKR_NATIVE_ACCELERATION_DISABLED!==void 0&&process.env.MSGPACKR_NATIVE_ACCELERATION_DISABLED.toLowerCase()==="true";if(!WBB){let A;try{if(A=n8Q(),A)_ZQ(A.extractStrings)}catch(Q){}}var qBB=(A,Q)=>{Q(mY(A)&&!XG(A.cause)?1:0)},s8Q=(A,Q)=>{let B=p8(A,rp);if(!KU(B,vS))return A;return tEA(A,{fiberId:Q,fiberRef:rp,value:B.pipe(NX(vS),uJ(gi))})},C6A=(A)=>F((Q)=>nB(Q[0]),(Q,B)=>{let C=B?.disableErrorReporting===!0?lY(Q,{updateRefs:B?.disablePrettyLogger===!0?void 0:s8Q}):lY(pY(Q,(I)=>{if(XG(I))return u;return MD(I)}),{updateRefs:B?.disablePrettyLogger===!0?void 0:s8Q}),E=B?.teardown??qBB;return A({fiber:C,teardown:E})});class mZ extends uB("@effect/platform/SocketServer")(){}var t8Q=Symbol.for("@effect/platform/SocketServer/SocketServerError");class Ba extends gX("SocketServerError"){[t8Q]=t8Q;get message(){return this.reason}}var e8Q=pA("@effect/platform/Terminal");class E6A extends gX("QuitException"){}var BN=e8Q;var s2={};ZQ(s2,{unsafeMakeCollector:()=>P4,schema:()=>Ea,makeCollector:()=>jBB,addAll:()=>A9Q,Uint8Array:()=>gBB,MessagePort:()=>SBB,ImageData:()=>xBB,Collector:()=>dZ});class dZ extends uB("@effect/platform/Transferable/Collector")(){}var P4=()=>{let A=[],Q=(E)=>{A.push(...E)},B=()=>A,C=()=>{let E=A;return A=[],E};return dZ.of({unsafeAddAll:Q,addAll:(E)=>r(()=>Q(E)),unsafeRead:B,read:r(B),unsafeClear:C,clear:r(C)})},jBB=r(P4),A9Q=(A)=>v(yH(dZ),HA({onNone:()=>u,onSome:(Q)=>Q.addAll(A)})),Ea=F(2,(A,Q)=>dC(h3(A),A,{strict:!0,decode:L0,encode:(B)=>IB(A9Q(Q(B)),B)})),xBB=Ea(wW,(A)=>[A.data.buffer]),SBB=Ea(wW,(A)=>[A]),gBB=Ea(D6,(A)=>[A.buffer]);var Q9Q=Symbol.for("@effect/platform/WorkerError");var B9Q=Q9Q;class X2 extends vD()("WorkerError",{reason:J0("spawn","decode","send","unknown","encode"),cause:wG}){[B9Q]=B9Q;static Cause=Io({error:this,defect:wG});static encodeCause=xZ(this.Cause);static decodeCause=A4(this.Cause);get message(){switch(this.reason){case"send":return"An error occurred calling .postMessage";case"spawn":return"An error occurred while spawning a worker";case"decode":return"An error occurred during decoding";case"encode":return"An error occurred during encoding";case"unknown":return"An unexpected error occurred"}}}var I6A=Symbol.for("@effect/platform/Worker/PlatformWorker"),Ia=pA("@effect/platform/Worker/PlatformWorker"),Y6A=Symbol.for("@effect/platform/Worker/WorkerManager"),G6A=pA("@effect/platform/Worker/WorkerManager"),J6A=pA("@effect/platform/Worker/Spawner"),E9Q=KA(function*(){let A=yield*Ia,Q=0;return G6A.of({[Y6A]:Y6A,spawn({encode:B,initialMessage:C}){return KA(function*(){let E=Q++,I=0,Y=new Map,G=P4(),J=B?(V)=>VA(G.clear,Y0(B(V),dZ,G)):c,D=yield*WB(),U=yield*A.spawn(E);yield*U.run((V)=>{if(V[0]===0)return F_(D,u);return N(V[1])}).pipe(hX((V)=>LB(Y.values(),(M)=>(C5 in M)?XD(M,V):M.failCause(V))),pY(f2),OY(LI(1000)),a0({package:"@effect/platform",module:"Worker"}),zQ,R0),yield*HZ(()=>VA(LB(Y.values(),(V)=>(C5 in V)?Qw(V):V.end,{discard:!0}),r(()=>Y.clear())));let N=(V)=>LA(()=>{let M=Y.get(V[0]);if(!M)return u;switch(V[1]){case 0:return C5 in M?nC(M,V[2][0]):M.offerAll(V[2]);case 1:{if(V.length===2)return C5 in M?Qw(M):M.end;return C5 in M?nC(M,V[2][0]):VA(M.offerAll(V[2]),M.end)}case 2:case 3:{if(V[1]===2)return C5 in M?Aw(M,V[2]):M.fail(V[2]);let z=X2.decodeCause(V[2]);return C5 in M?XD(M,z):M.failCause(z)}}}),Z=(V,M)=>KB((z)=>{let L=z.getFiberRef(gC),O=eE(L,x7).pipe(GU((_)=>_._tag==="Span")),R=I++;return M.pipe(VB((_)=>{return Y.set(R,_),J(V).pipe(VB((S)=>U.send([R,0,S,O._tag==="Some"?[O.value.traceId,O.value.spanId,O.value.sampled]:void 0],G.unsafeRead())),dQ((S)=>HtA(_)?_.failCause(S):XD(_,S)))}),h((_)=>({id:R,mailbox:_})))}),X=({id:V},M)=>{let z=r(()=>Y.delete(V));return mY(M)?VA(YB(U.send([V,1])),z):z},W=(V)=>X4(R3(Z(V,RI()),({mailbox:M})=>bi(M),X)),K=(V)=>FZ(Z(V,WB()),({mailbox:M})=>WQ(M),X);if(yield*WQ(D),C)yield*r(C).pipe(v(K),fE((V)=>new X2({reason:"spawn",cause:V})));return{id:E,execute:W,executeEffect:K}})}})}),I9Q=GB(G6A,E9Q);var Y9Q=(A)=>q0(J6A,A),G9Q=()=>(A)=>Ia.of({[I6A]:I6A,spawn(Q){return KA(function*(){let B=yield*J6A,C,E=[];return{run:(G)=>eI((J)=>KA(function*(){let D=yield*ME,U=yield*A.setup({worker:B(Q),scope:D});C=U,yield*jC(D,r(()=>{C=void 0}));let N=(yield*wI()).pipe(Lx(hF(aI))),Z=yield*PJ(),X=pE(N);if(yield*A.listen({port:U,scope:D,emit(W){J9(Z,X(G(W)))},deferred:Z.deferred}),E.length>0){for(let[W,K]of E)U.postMessage([0,W],K);E.length=0}return yield*J(q3(Z))}).pipe(fC)),send:(G,J)=>VE({try:()=>{if(C===void 0)E.push([G,J]);else C.postMessage([0,G],J)},catch:(D)=>new X2({reason:"send",cause:D})})}})}});var D6A=G9Q,Ya=Ia;var U6A=I9Q;var Ga=Y9Q;var J9Q=Symbol.for("@effect/platform/Runner/PlatformRunner"),D9Q=pA("@effect/platform/Runner/PlatformRunner"),Ja=YG()("@effect/platform/WorkerRunner/CloseLatch",{defaultValue:()=>tN(TC)}),U9Q=GB(Ja,WB());var N9Q=(A)=>kU(XQ(function*(Q){let B=yield*QL(zC(A,U9Q),Q),C=nQ(B,Ja);return yield*WQ(C)}));var Da=J9Q,CR=D9Q,Z9Q=Ja;var N6A=N9Q;var fBB=(A)=>(Q,B)=>{let C=[];return Z6A(A.ast,Q,B,"",C),C},Z6A=(A,Q,B,C,E)=>{if(EQ.equivalence({ast:A})(Q,B)===!1)if(bG.isUnion(A))if(dBB(A)){E.push({path:C,a:Q,b:B,ast:A});return}else for(let Y of A.types)try{Z6A(Y,Q,B,C,E);return}catch{}else if(bG.isTypeLiteral(A)){let Y=bG.getPropertySignatures(A);for(let G of Y)Z6A(G.type,Q[G.name],B[G.name],`${C}.${G.name.toString()}`,E)}else E.push({path:C,a:Q,b:B,ast:A})},dBB=(A)=>{if(bG.isUnion(A))return A.types.every((Q)=>{if(bG.isTypeLiteral(Q)===!1)return!1;return bG.getPropertySignatures(Q).some((C)=>C.name.toString()==="_tag")})};var uBB=(A)=>EQ.transform(EQ.Uint8ArrayFromSelf,A,{encode:(Q)=>nr(Q),decode:(Q)=>ur(Q)});var pBB=(A)=>{try{return BB.string(JSON.stringify(A.ast,null,2))}catch{return console.warn("Schema hashing failed, falling back to hashing the shortend schema AST string. This is less reliable and may cause false positives."),BB.hash(A.ast.toString())}},cBB=(A,Q)=>(B,C)=>b.gen(function*(){let E=yield*s2.makeCollector;return[yield*EQ.encode(A,Q)(B,C).pipe(b.provideService(s2.Collector,E)),E.unsafeRead()]}),lBB=(A,Q)=>(B,C)=>{let E=EQ.decodeEither(A,Q)(B,C);if(E._tag==="Left")return Y4A("decodeSyncDebug failed:",E.left);else return E.right},iBB=(A,Q)=>(B,C)=>{let E=EQ.encodeEither(A,Q)(B,C);if(E._tag==="Left")return Y4A("encodeSyncDebug failed:",E.left);else return E.right},X9Q=(A)=>EQ.transformOrFail(EQ.typeSchema(A),EQ.encodedSchema(A),{decode:gE.encode(A),encode:gE.decode(A)}),nBB=X9Q(EQ.Uint8ArrayFromBase64),X6A=EQ.Union(EQ.String,EQ.Number,EQ.Boolean,EQ.Null,EQ.Array(EQ.suspend(()=>X6A)),EQ.Record({key:EQ.String,value:EQ.suspend(()=>X6A)})).annotations({title:"JsonValue"});var CN={};ZQ(CN,{make:()=>F2,isRpc:()=>rBB,isFork:()=>Yv,fromTaggedRequest:()=>H6A,fork:()=>tBB,exitSchema:()=>IM,TypeId:()=>Ua,ForkTypeId:()=>Na});var Iv=Symbol.for("@effect/rpc/RpcSchema/Stream"),ER=(A)=>A.ast.annotations[SF]===Iv;var IR=(A)=>A.annotations[Iv]?j(A.annotations[Iv]):x(),H9Q=({failure:A,success:Q})=>Object.assign(K0([Q,A],{decode:(B,C)=>F9Q(UI(f3(B)),UI(C)),encode:(B,C)=>F9Q(NI(f3(B)),NI(C))},{schemaId:Iv,[Iv]:{success:Q,failure:A}}),{success:Q,failure:A}),oBB=(A)=>o(A,LW),F9Q=(A,Q)=>(B,C,E)=>v(xC(),(I)=>{if(!oBB(B))return ZA(new JB(E,B));return c(B.pipe(Wo((Y)=>A(Y,C)),Dg((Y)=>{if(AO(Y))return No(Y);return w0(Q(Y,C),{onFailure:MC,onSuccess:ZA})}),TW(I)))});var Ua=Symbol.for("@effect/rpc/Rpc"),rBB=(A)=>o(A,Ua),aBB={[Ua]:Ua,pipe(){return e(this,arguments)},setSuccess(A){return mW({...this,successSchema:A})},setError(A){return mW({...this,errorSchema:A})},setPayload(A){return mW({...this,payloadSchema:ZI(A)?A:hB(A)})},middleware(A){return mW({...this,middlewares:new Set([...this.middlewares,A])})},annotate(A,Q){return mW({...this,annotations:DQ(this.annotations,A,Q)})},annotateContext(A){return mW({...this,annotations:E0(this.annotations,A)})}},mW=(A)=>{let Q=Object.assign(Object.create(aBB),A);return Q.key=`@effect/rpc/Rpc/${A._tag}`,Q},sBB=hB({}),F2=(A,Q)=>{let B=Q?.success??Y4,C=Q?.error??N2;return mW({_tag:A,payloadSchema:ZI(Q?.payload)?Q?.payload:Q?.payload?hB(Q?.payload):sBB,successSchema:Q?.stream?H9Q({success:B,failure:C}):B,errorSchema:Q?.stream?N2:C,annotations:F0(),middlewares:new Set})},H6A=(A)=>mW({_tag:A._tag,payloadSchema:A,successSchema:A.success,errorSchema:A.failure,annotations:F0(),middlewares:new Set}),F6A=xA("@effect/rpc/Rpc/exitSchemaCache",()=>new WeakMap),IM=(A)=>{if(F6A.has(A))return F6A.get(A);let Q=A,B=IR(Q.successSchema.ast),C=KO({success:XA(B)?Y4:Q.successSchema,failure:XA(B)?_0(B.value.failure,Q.errorSchema):Q.errorSchema,defect:wG});return F6A.set(A,C),C},Na=Symbol.for("@effect/rpc/Rpc/Fork"),tBB=(A)=>({[Na]:Na,value:A}),Yv=(A)=>(Na in A);var Za=()=>(A)=>LA(()=>{let Q=hU(1),B=[],C=(...E)=>fX((I)=>{B.push([E,I])});return h(A((...E)=>C(...E)),(E)=>({...E,run(I){return Q.withPermits(1)(KA(function*(){let Y=C;C=I;for(let[G,J]of B)yield*SC(C(...G),J);return B=[],yield*WZ(ZZ,()=>{return C=Y,u})}))}}))});var OG=(A)=>typeof A==="bigint"?A:BigInt(A),W9Q={_tag:"Eof"},K9Q={_tag:"Ping"};var eBB=xZ(wG),GR=(A)=>({_tag:"Defect",defect:eBB(A)}),V9Q={_tag:"Pong"};var EN={};ZQ(EN,{ndjson:()=>z9Q,msgPack:()=>w9Q,layerNdjson:()=>R6,layerMsgPack:()=>T6,layerJson:()=>A0B,json:()=>$9Q,RpcSerialization:()=>EY});class EY extends uB("@effect/rpc/RpcSerialization")(){}var $9Q=r(()=>{let A=new TextDecoder;return EY.of({contentType:"application/json",unsafeMake:()=>({decode:(Q)=>[JSON.parse(typeof Q==="string"?Q:A.decode(Q))],encode:(Q)=>JSON.stringify(Q)})})}),z9Q=r(()=>{let A=new TextDecoder;return EY.of({contentType:"application/ndjson",unsafeMake:()=>{let Q="";return{decode:(B)=>{Q+=typeof B==="string"?B:A.decode(B);let C=0,E=Q.indexOf(`
`,C),I=[];while(E!==-1){let Y=JSON.parse(Q.slice(C,E));I.push(Y),C=E+1,E=Q.indexOf(`
`,C)}return Q=Q.slice(C),I},encode:(B)=>JSON.stringify(B)+`
`}}})}),w9Q=EY.of({contentType:"application/msgpack",unsafeMake:()=>{let A=new BR.Unpackr,Q=new BR.Packr,B=new TextEncoder;return{decode:(C)=>A.unpackMultiple(typeof C==="string"?B.encode(C):C),encode:(C)=>Q.pack(C)}}}),A0B=GB(EY,$9Q),R6=GB(EY,z9Q),T6=q0(EY,w9Q);var Q0B=BigInt(0),Gv=XQ(function*(A,Q){let B=Q?.spanPrefix??"RpcClient",C=Q?.supportsAck??!0,E=Q?.disableTracing??!1,I=Q?.generateRequestId??(()=>Q0B++),Y=yield*xC(),G=nQ(Y,aI),J=new Map,D=!1;yield*jC(G,aG((z)=>{return D=!0,U(I5(z))}));let U=XQ(function*(z){for(let[L,O]of J)if(J.delete(L),O._tag==="Mailbox")yield*O.mailbox.done(z);else O.resume(z)}),N=(z)=>{let L=ER(z.successSchema),O=W(z);return(R,_)=>{let S=_?.headers?hI(_.headers):o2;if(!L){let y=uX(`${B}.${z._tag}`,{captureStackTrace:!1},(p)=>Z(z,O,p,"make"in z.payloadSchema?z.payloadSchema.make(R??{}):{},S,_?.context??F0(),_?.discard??!1));return E?ij(y,!1):y}let q=LA(()=>X(z,O,R?z.payloadSchema.make(R):{},S,_?.streamBufferSize??16,_?.context??F0()));if(_?.asMailbox)return q;return xJ(h(q,EO))}},Z=(z,L,O,R,_,S,q)=>KB((y)=>{if(D)return GE;let p=I(),i=L({_tag:"Request",id:p,tag:z._tag,payload:R,traceId:O.traceId,spanId:O.spanId,sampled:O.sampled,headers:F6(y.getFiberRef(L9Q),_)});if(q)return v(i,(AA)=>Q.onFromClient({message:AA,context:S,discard:q}));let MA=wx({context:y.currentContext,fiberRefs:y.getFiberRefs(),runtimeFlags:dU.runtimeFlags}),d;return rw(OB((AA)=>{let IA={_tag:"Effect",rpc:z,context:S,resume(UA){if(AA(UA),d&&!d.unsafePoll())y.currentScheduler.scheduleTask(()=>{d.unsafeInterruptAsFork(y.id())},0)}};J.set(p,IA),d=i.pipe(v((UA)=>Q.onFromClient({message:UA,context:S,discard:q})),zZ(O),pE(MA)),d.addObserver((UA)=>{if(UA._tag==="Failure")return AA(UA)})}),(AA)=>{J.delete(p);let IA=Array.from(AA).flatMap((UA)=>Array.from(WCA(UA)));return VA($I(d),K(p,IA,S))})}),X=XQ(function*(z,L,O,R,_,S){if(D)return yield*GE;let q=yield*nj(`${B}.${z._tag}`,{captureStackTrace:!1}).pipe(E?ij(!1):s),y=YU(_H()),p=I(),i=v0(y.currentContext,aI);yield*KD(i,(d)=>{if(!J.has(p))return u;return J.delete(p),K(p,mY(d)?Array.from(Jj(d.cause)).flatMap((AA)=>Array.from(WCA(AA))):[],S)});let MA=yield*RI(_);return J.set(p,{_tag:"Mailbox",rpc:z,mailbox:MA,scope:i,context:S}),yield*L({_tag:"Request",id:p,tag:z._tag,traceId:q.traceId,payload:O,spanId:q.spanId,sampled:q.sampled,headers:F6(y.getFiberRef(L9Q),R)}).pipe(v((d)=>Q.onFromClient({message:d,context:S,discard:!1})),zZ(q),dQ((d)=>MA.failCause(d)),zQ,uQ(i)),MA}),W=(z)=>{let L=[];for(let O of z.middlewares.values()){let R=Y.unsafeMap.get(`${O.key}/Client`);if(!R)continue;L.push(R)}return L.length===0?c:function(O){let R=0;return h(RY({while:()=>R<L.length,body:()=>L[R]({rpc:z,request:O}),step(_){O=_,R++}}),()=>O)}},K=(z,L,O)=>OB((R)=>{let _=YU(_H()),S=wx({context:_.currentContext,fiberRefs:_.getFiberRefs(),runtimeFlags:dU.runtimeFlags});Q.onFromClient({message:{_tag:"Interrupt",requestId:z,interruptors:L},context:O,discard:!1}).pipe(mX(1000),pE(S)).addObserver(()=>{R(u)})}),V=(z)=>{switch(z._tag){case"Chunk":{let L=z.requestId,O=J.get(L);if(!O||O._tag!=="Mailbox")return u;return O.mailbox.offerAll(z.values).pipe(C?VA(Q.onFromClient({message:{_tag:"Ack",requestId:z.requestId},context:O.context,discard:!1})):s,dQ((R)=>O.mailbox.done(iB(R))))}case"Exit":{let L=z.requestId,O=J.get(L);if(!O)return u;if(J.delete(L),O._tag==="Effect")return O.resume(z.exit),u;return O.mailbox.done(fqA(z.exit))}case"Defect":return U(BI(z.defect));case"ClientEnd":return u}},M={};for(let z of A.requests.values())M[z._tag]=N(z);return{client:M,write:V}}),Xa=XQ(function*(A,Q){let{run:B,send:C,supportsAck:E,supportsTransferables:I}=yield*fW,Y=new Map,{client:G,write:J}=yield*Gv(A,{...Q,supportsAck:E,onFromClient({message:D}){switch(D._tag){case"Request":{let U=A.requests.get(D.tag),N=IR(U.successSchema.ast),Z=I?P4():void 0,X=YU(_H()),W={rpc:U,context:Z?DQ(X.currentContext,dZ,Z):X.currentContext,decodeChunk:XA(N)?iE(F9(N.value.success)):void 0};return Y.set(D.id,W),EJ(U.payloadSchema)(D.payload).pipe(T0(gC,W.context),YB,v((K)=>C({...D,id:String(D.id),payload:K,headers:Object.entries(D.headers)},Z&&Z.unsafeClear())))}case"Ack":{if(!Y.get(D.requestId))return u;return C({_tag:"Ack",requestId:String(D.requestId)})}case"Interrupt":{if(!Y.get(D.requestId))return u;return Y.delete(D.requestId),C({_tag:"Interrupt",requestId:String(D.requestId)})}case"Eof":return u}}});return yield*B((D)=>{switch(D._tag){case"Chunk":{let U=OG(D.requestId),N=Y.get(U);if(!N||!N.decodeChunk)return u;return N.decodeChunk(D.values).pipe(T0(gC,N.context),YB,v((Z)=>J({_tag:"Chunk",clientId:0,requestId:OG(D.requestId),values:Z})),hX((Z)=>J({_tag:"Exit",clientId:0,requestId:OG(D.requestId),exit:iB(Z)})))}case"Exit":{let U=OG(D.requestId),N=Y.get(U);if(!N)return u;return Y.delete(U),jJ(IM(N.rpc))(D.exit).pipe(T0(gC,N.context),YB,aC({onSuccess:(Z)=>J({_tag:"Exit",clientId:0,requestId:U,exit:Z}),onFailure:(Z)=>J({_tag:"Exit",clientId:0,requestId:U,exit:iB(Z)})}))}case"Defect":return J({_tag:"Defect",clientId:0,defect:B0B(D.defect)});default:return u}}).pipe(dQ(MD),zQ,R0),G}),L9Q=xA("@effect/rpc/RpcClient/currentHeaders",()=>II(o2));class fW extends uB("@effect/rpc/RpcClient/Protocol")(){static make=Za()}var O9Q=(A)=>fW.make(XQ(function*(Q){let B=yield*EY,C=B.contentType==="application/json";return{send:(I)=>{if(I._tag!=="Request")return u;let Y=B.unsafeMake(),G=Y.encode(I),J=typeof G==="string"?_5A(G,B.contentType):P5A(G,B.contentType);if(C)return A.post("",{body:J}).pipe(v((D)=>D.json),fC,v((D)=>{if(!Array.isArray(D))return xE(`Expected an array of responses, but got: ${D}`);let U=0;return RY({while:()=>U<D.length,body:()=>Q(D[U++]),step:l0})}),YB);return A.post("",{body:J}).pipe(v((D)=>K9(D.stream,(U)=>{let N=CB(U).flatMap(Y.decode);if(N.length===0)return u;let Z=0;return RY({while:()=>Z<N.length,body:()=>Q(N[Z++]),step:l0})})),YB)},supportsAck:!1,supportsTransferables:!1}}));var Fa=(A)=>fW.make(XQ(function*(Q){let B=yield*eU,C=yield*EY,E=yield*B.writer,I=C.unsafeMake();return yield*LA(()=>{return I=C.unsafeMake(),B.runRaw((Y)=>{try{let G=I.decode(Y);if(G.length===0)return;let J=0;return RY({while:()=>J<G.length,body:()=>Q(G[J++]),step:l0})}catch(G){return Q({_tag:"Defect",defect:G})}})}).pipe(VA(ZA(new gW({reason:"Close",code:1000}))),pY((Y)=>{let G=Dj(Y);if(A?.retryTransientErrors&&XA(G)&&(G.value.reason==="Open"||G.value.reason==="OpenTimeout"))return u;return Q({_tag:"Defect",defect:WE(Y)})}),OY(LI(1000)),a0({module:"RpcClient",method:"makeProtocolSocket"}),zQ,R0),yield*LA(()=>E(I.encode(K9Q))).pipe(bU("30 seconds"),WG,QY,zQ,R0),{send(Y){return YB(E(I.encode(Y)))},supportsAck:!0,supportsTransferables:!1}}));var B0B=A4(wG);var dW={};ZQ(dW,{make:()=>JR,TypeId:()=>C0B});var C0B=Symbol.for("@effect/rpc/RpcGroup"),E0B={add(...A){return YM({requests:R9Q(...this.requests.values(),...A),annotations:this.annotations})},merge(...A){let Q=new Map(this.requests),B=new Map(this.annotations.unsafeMap);for(let C of A){for(let[E,I]of C.requests)Q.set(E,I);for(let[E,I]of C.annotations.unsafeMap)B.set(E,I)}return YM({requests:Q,annotations:yN(B)})},middleware(A){let Q=new Map;for(let[B,C]of this.requests)Q.set(B,C.middleware(A));return YM({requests:Q,annotations:this.annotations})},toHandlersContext(A){return KA(this,function*(){let Q=yield*xC(),B=nB(A)?yield*A:A,C=new Map;for(let[E,I]of Object.entries(B)){let Y=this.requests.get(E);C.set(Y.key,{handler:I,context:Q})}return yN(C)})},toLayer(A){return ej(this.toHandlersContext(A))},toLayerHandler(A,Q){return ej(KA(this,function*(){let B=yield*xC(),C=nB(Q)?yield*Q:Q,E=new Map,I=this.requests.get(A);return E.set(I.key,{handler:C,context:B}),yN(E)}))},accessHandler(A){return fX((Q)=>{let B=this.requests.get(A),{context:C,handler:E}=Q.unsafeMap.get(B.key);return(I,Y)=>{let G=E(I,Y),J=Yv(G)?G.value:G;return nB(J)?SC(J,C):TW(J,C)}})},annotate(A,Q){return YM({requests:this.requests,annotations:DQ(this.annotations,A,Q)})},annotateRpcs(A,Q){return this.annotateRpcsContext(hG(A,Q))},annotateContext(A){return YM({requests:this.requests,annotations:E0(this.annotations,A)})},annotateRpcsContext(A){let Q=new Map;for(let[B,C]of this.requests)Q.set(B,C.annotateContext(E0(A,C.annotations)));return YM({requests:Q,annotations:this.annotations})}},YM=(A)=>Object.assign(function(){},E0B,{requests:A.requests,annotations:A.annotations}),R9Q=(...A)=>{let Q=new Map;for(let B of A)Q.set(B._tag,ZI(B)?H6A(B):B);return Q},JR=(...A)=>YM({requests:R9Q(...A),annotations:F0()});var fD={};ZQ(fD,{toWebHandler:()=>G0B,toHttpAppWebsocket:()=>M6A,toHttpApp:()=>Wa,makeProtocolWorkerRunner:()=>j9Q,makeProtocolWithHttpAppWebsocket:()=>K6A,makeProtocolWithHttpApp:()=>V6A,makeProtocolWebsocket:()=>P9Q,makeProtocolSocketServer:()=>q9Q,makeProtocolHttp:()=>_9Q,makeNoSerialization:()=>DR,make:()=>Ha,layerProtocolWorkerRunner:()=>Y0B,layerProtocolWebsocket:()=>Uv,layerProtocolSocketServer:()=>Dv,layerProtocolHttp:()=>Nv,layer:()=>Jv,Protocol:()=>uZ});var DR=XQ(function*(A,Q){let B=Q.disableTracing!==!0,C=Q.disableSpanPropagation!==!0,E=Q.disableClientAcks!==!0,I=Q.spanPrefix??"RpcServer",Y=Q.concurrency??"unbounded",G=yield*xC(),J=nQ(G,aI),D=yield*PJ(),U=yield*tX(D)().pipe(zQ),N=Y==="unbounded"?void 0:yield*VZ(Y),Z=new Map,X=!1,W=cY(!1);yield*jC(J,aG((R)=>{X=!0;for(let _ of Z.values()){if(_.ended=!0,_.fibers.size===0){U(M(_));continue}for(let S of _.fibers.values())S.unsafeInterruptAsFork(R)}if(Z.size===0)return u;return W.await}));let K=(R)=>aG((_)=>{let S=Z.get(R);if(!S)return u;for(let q of S.fibers.values())q.unsafeInterruptAsFork(_);return Z.delete(R),u}),V=(R,_)=>_5(KB((S)=>{if(X)return GE;let q=Z.get(R);if(!q)q={id:R,latches:new Map,fibers:new Map,ended:!1},Z.set(R,q);else if(q.ended)return GE;switch(_._tag){case"Request":return z(S,q,_);case"Ack":{let y=q.latches.get(_.requestId);return y?y.open:u}case"Interrupt":{let y=q.fibers.get(_.requestId);return y?yJA(y):Q.onFromServer({_tag:"Exit",clientId:R,requestId:_.requestId,exit:I5(TC)})}case"Eof":{if(q.ended=!0,q.fibers.size>0)return u;return M(q)}default:return O(q,`Unknown request tag: ${_._tag}`)}}),(S)=>O(Z.get(R),S)),M=(R)=>{Z.delete(R.id);let _=Q.onFromServer({_tag:"ClientEnd",clientId:R.id});if(X&&Z.size===0)return VA(_,W.open);return _},z=(R,_,S)=>{if(_.fibers.has(S.id))return GE;let q=A.requests.get(S.tag),y=G.unsafeMap.get(q?.key);if(!q||!y){let bA=_5(Q.onFromServer({_tag:"Exit",clientId:_.id,requestId:S.id,exit:BI(`Unknown request tag: ${S.tag}`)}),(FQ)=>O(_,FQ));if(!_.ended||_.fibers.size>0)return bA;return VA(bA,M(_))}let p=ER(q.successSchema),i=y.handler(S.payload,S.headers),MA=Yv(i),d=MA?i.value:i,AA=!1,IA=E2(aC(zQ(I0B(q,G,S.payload,S.headers,p?L(_,S,d):d)),{onSuccess:(bA)=>{return AA=!0,Q.onFromServer({_tag:"Exit",clientId:_.id,requestId:S.id,exit:hQ(bA)})},onFailure:(bA)=>{return AA=!0,Q.onFromServer({_tag:"Exit",clientId:_.id,requestId:S.id,exit:iB(bA)})}}));if(B){let bA=R.currentContext.unsafeMap.get(x7.key);IA=oj(IA,`${I}.${S.tag}`,{captureStackTrace:!1,parent:C?{_tag:"ExternalSpan",traceId:S.traceId,spanId:S.spanId,sampled:S.sampled,context:F0()}:void 0,links:C&&bA?[{_tag:"SpanLink",span:bA,attributes:{}}]:void 0})}if(!MA&&N)IA=N.withPermits(1)(IA);let UA=wx({context:E0(y.context,R.currentContext),fiberRefs:R.getFiberRefs(),runtimeFlags:dU.runtimeFlags}),NA=pE(UA,IA);return J9(D,NA),_.fibers.set(S.id,NA),NA.addObserver((bA)=>{if(!AA&&bA._tag==="Failure")J9(D,pE(UA,Q.onFromServer({_tag:"Exit",clientId:_.id,requestId:S.id,exit:I5(TC)})));if(_.fibers.delete(S.id),_.latches.delete(S.id),_.ended&&_.fibers.size===0)J9(D,pE(UA,M(_)))}),u},L=(R,_,S)=>{let q=R.latches.get(_.id);if(E&&!q)q=cY(!1),R.latches.set(_.id,q);if(nB(S)){let y=!1;return S.pipe(v((p)=>RY({while:()=>!y,body:bJ(v(p.takeAll,([i,MA])=>{if(y=MA,!qB(i))return u;let d=Q.onFromServer({_tag:"Chunk",clientId:R.id,requestId:_.id,values:CB(i)});if(!q)return d;return q.unsafeClose(),VA(d,q.await)})),step:l0})),fC)}return K9(S,(y)=>{if(!qB(y))return u;let p=Q.onFromServer({_tag:"Chunk",clientId:R.id,requestId:_.id,values:CB(y)});if(!q)return p;return q.unsafeClose(),VA(p,q.await)})},O=(R,_)=>LA(()=>{let S=R.ended&&R.fibers.size===0,q=Q.onFromServer({_tag:"Defect",clientId:R.id,defect:_});if(!S)return q;return VA(q,M(R))});return s({write:V,disconnect:K})}),I0B=(A,Q,B,C,E)=>{if(A.middlewares.size===0)return E;let I={rpc:A,payload:B,headers:C};for(let Y of A.middlewares)if(Y.wrap)E=v0(Q,Y)({...I,next:E});else if(Y.optional){let G=v0(Q,Y),J=E;E=w0(G(I),{onFailure:()=>J,onSuccess:Y.provides!==void 0?(D)=>Y0(J,Y.provides,D):(D)=>J})}else{let G=v0(Q,Y);E=Y.provides!==void 0?vH(E,Y.provides,G(I)):VA(G(I),E)}return E},Ha=XQ(function*(A,Q){let{disconnects:B,end:C,run:E,send:I,supportsAck:Y,supportsSpanPropagation:G,supportsTransferables:J}=yield*uZ,D=yield*xC(),U=yield*oG(),N=yield*DR(A,{...Q,disableClientAcks:!Y,disableSpanPropagation:!G,onFromServer(z){let L=W.get(z.clientId);if(!L)return u;switch(z._tag){case"Chunk":{let O=L.schemas.get(z.requestId);if(!O)return u;return K(L,z.requestId,O.collector,SC(O.encodeChunk(z.values),O.context),(R)=>({_tag:"Chunk",requestId:String(z.requestId),values:R}))}case"Exit":{let O=L.schemas.get(z.requestId);if(!O)return u;return L.schemas.delete(z.requestId),K(L,z.requestId,O.collector,SC(O.encodeExit(z.exit),O.context),(R)=>({_tag:"Exit",requestId:String(z.requestId),exit:R}))}case"Defect":return M(L,z.defect);case"ClientEnd":return W.delete(z.clientId),C(z.clientId)}}}).pipe(IE(U));yield*aw(zQ(RY({while:ZY,body:bJ(v(B.take,(z)=>{return W.delete(z),N.disconnect(z)})),step:l0})));let Z=new WeakMap,X=(z)=>{let L=Z.get(z);if(!L){let O=D.unsafeMap.get(z.key),R=IR(z.successSchema.ast),_=new Set([z.errorSchema]);if(XA(R))_.add(R.value.failure);for(let S of z.middlewares)_.add(S.failure);L={decode:iE(z.payloadSchema),encodeChunk:I4(Z0(XA(R)?R.value.success:wW)),encodeExit:I4(IM(z)),context:O.context},Z.set(z,L)}return L},W=new Map,K=(z,L,O,R,_)=>(O?Y0(R,dZ,O):R).pipe(v((S)=>I(z.id,_(S),O&&O.unsafeClear())),dQ((S)=>{z.schemas.delete(L);let q=WE(Q2(S,PD.formatErrorSync));return VA(N.write(z.id,{_tag:"Interrupt",requestId:L,interruptors:[]}),V(z,L,q))})),V=(z,L,O)=>dQ(I(z.id,{_tag:"Exit",requestId:String(L),exit:{_tag:"Failure",cause:{_tag:"Die",defect:O}}}),(R)=>M(z,WE(R))),M=(z,L)=>dQ(I(z.id,{_tag:"Defect",defect:L}),(O)=>a0($E(O),{module:"RpcServer",method:"sendDefect"}));return yield*E((z,L)=>{let O=W.get(z);if(!O)O={id:z,schemas:new Map},W.set(z,O);switch(L._tag){case"Request":{let R=o(L,"tag")?L.tag:"",_=A.requests.get(R);if(!_)return M(O,`Unknown request tag: ${R}`);let S;switch(typeof L.id){case"bigint":case"string":{S=OG(L.id);break}default:return M(O,`Invalid request id: ${L.id}`)}let q=X(_);return w0(SC(q.decode(L.payload),q.context),{onFailure:(y)=>V(O,S,PD.formatErrorSync(y)),onSuccess:(y)=>{return O.schemas.set(S,J?{...q,collector:P4()}:q),N.write(z,{...L,id:S,payload:y,headers:hI(L.headers)})}})}case"Ping":return dQ(I(O.id,V9Q),(R)=>M(O,WE(R)));case"Eof":return N.write(z,L);case"Ack":return N.write(z,{...L,requestId:OG(L.requestId)});case"Interrupt":return N.write(z,{...L,requestId:OG(L.requestId),interruptors:[]});default:return M(O,`Unknown request tag: ${L._tag}`)}}).pipe(zQ,pY((z)=>pp("BUG: RpcServer protocol crashed",z)),WZ((z)=>KE(U,z)))}),Jv=(A,Q)=>eG(R0(zQ(Ha(A,Q))));class uZ extends uB("@effect/rpc/RpcServer/Protocol")(){static make=Za()}var q9Q=KA(function*(){let A=yield*mZ,{onSocket:Q,protocol:B}=yield*x9Q;return yield*R0(zQ(A.run(XQ(Q,fC)))),B}),Dv=t0(uZ,q9Q),K6A=KA(function*(){let{onSocket:A,protocol:Q}=yield*x9Q,B=KA(function*(){let C=yield*rY,E=yield*YB(C.upgrade);return yield*A(E),tU()});return{protocol:Q,httpApp:B}}),P9Q=XQ(function*(A){let{httpApp:Q,protocol:B}=yield*K6A;return yield*(yield*A.routerTag??bZ).get(A.path,Q),B}),Uv=(A)=>{let Q=A.routerTag??bZ;return GB(uZ,P9Q(A)).pipe(mA(Q.Live))},V6A=KA(function*(){let A=yield*EY,Q=A.contentType==="application/json",B=yield*RI(),C,E=0,I=new Map,Y=KA(function*(){let J=yield*rY,D=yield*YB(J.arrayBuffer),U=E++,N=yield*RI(),Z=A.unsafeMake(),X=new TextEncoder,W=(V)=>typeof V==="string"?N.offer(X.encode(V)):N.offer(V);I.set(U,{write:(V)=>{try{return Q?N.offer(V):W(Z.encode(V))}catch(M){return Q?N.offer(GR(M)):W(Z.encode(GR(M)))}},end:N.end});let K=[];try{let V=Z.decode(new Uint8Array(D));for(let M of V){if(M._tag==="Request")K.push(OG(M.id));yield*C(U,M)}}catch(V){yield*W(Z.encode(GR(V)))}if(yield*C(U,W9Q),Q){let V=!1;yield*HZ(()=>{if(I.delete(U),B.unsafeOffer(U),V)return u;return LB(K,(z)=>C(U,{_tag:"Interrupt",requestId:String(z)}),{discard:!0})});let M=i0();while(!0){let[z,L]=yield*N.takeAll;if(M.push(...z),L)break}return V=!0,HUQ(M)}return WUQ(qO(EO(N),(V)=>{if(I.delete(U),B.unsafeOffer(U),!Bw(V))return u;return LB(K,(M)=>C(U,{_tag:"Interrupt",requestId:String(M)}),{discard:!0})}),{contentType:A.contentType})}).pipe(zQ);return{protocol:yield*uZ.make((J)=>{return C=J,c({disconnects:B,send:(D,U)=>{let N=I.get(D);if(!N)return u;return N.write(U)},end(D){let U=I.get(D);if(!U)return u;return U.end},initialMessage:h2,supportsAck:!1,supportsTransferables:!1,supportsSpanPropagation:!1})}),httpApp:Y}}),_9Q=XQ(function*(A){let{httpApp:Q,protocol:B}=yield*V6A;return yield*(yield*A.routerTag??bZ).post(A.path,Q),B}),j9Q=uZ.make(XQ(function*(A){let Q=yield*KB(c),B=yield*CR,C=yield*Z9Q,E=yield*B.start(C),I=yield*WB();return yield*WQ(C).pipe(WZ(()=>{return Q.currentScheduler.scheduleTask(()=>Q.unsafeInterruptAsFork(Q.id()),0),u}),R0),yield*E.run((Y,G)=>{if(G._tag==="InitialMessage")return nC(I,G.value);return A(Y,G)}),{disconnects:E.disconnects??(yield*RI()),send:E.send,end(Y){return u},initialMessage:x5(WQ(I)),supportsAck:!0,supportsTransferables:!0,supportsSpanPropagation:!0}})),Y0B=t0(uZ,j9Q),Nv=(A)=>{let Q=A.routerTag??bZ;return GB(uZ,_9Q(A)).pipe(mA(Q.Live))},Wa=XQ(function*(A,Q){let{httpApp:B,protocol:C}=yield*V6A;return yield*Ha(A,Q).pipe(Y0(uZ,C),zQ,R0),B}),M6A=XQ(function*(A,Q){let{httpApp:B,protocol:C}=yield*K6A;return yield*Ha(A,Q).pipe(Y0(uZ,C),zQ,R0),B}),G0B=(A,Q)=>{let B=oZA(wZ(Q.layer,T2A),Q?.memoMap),C,E=KA(function*(){let Y=yield*Wa(A,Q),G=yield*B.runtimeEffect,J=U5A(G)(Q?.middleware?Q.middleware(Y):Y);return C=J,J}).pipe(B.runPromise);function I(Y,G){if(C!==void 0)return C(Y,G);return E.then((J)=>J(Y,G))}return{handler:I,dispose:B.dispose}},x9Q=KA(function*(){let A=yield*EY,Q=yield*RI(),B=0,C=new Map,E,I=function*(G){let J=yield*ME,D=A.unsafeMake(),U=B++;yield*KD(J,()=>{return C.delete(U),Q.offer(U)});let N=yield*G.writer,Z=(X)=>{try{return YB(N(D.encode(X)))}catch(W){return YB(N(D.encode(GR(W))))}};C.set(U,{write:Z}),yield*G.runRaw((X)=>{try{let W=D.decode(X);if(W.length===0)return u;let K=0;return RY({while:()=>K<W.length,body:()=>E(U,W[K++]),step:l0})}catch(W){return N(D.encode(GR(W)))}}).pipe(zQ,VD((X)=>X.reason==="Close",()=>u),YB)};return{protocol:yield*uZ.make((G)=>{return E=G,c({disconnects:Q,send:(J,D)=>{let U=C.get(J);if(!U)return u;return YB(U.write(D))},end(J){return u},initialMessage:h2,supportsAck:!0,supportsTransferables:!1,supportsSpanPropagation:!0})}),onSocket:I}});var V0B=xA("@effect/platform-browser/Worker/cachedPorts",()=>new Set);function M0B(A){V0B.add(A.ports[0])}if(typeof self!=="undefined"&&"onconnect"in self)self.onconnect=M0B;var y9Q=Symbol.for("@effect/platform-browser/Geolocation"),k9Q=pA("@effect/platform-browser/Geolocation"),w0B=Symbol.for("@effect/platform-browser/Geolocation/GeolocationError");class $6A extends nY(w0B,"GeolocationError"){get message(){return this.reason}}var b9Q=(A)=>hH(A?.bufferSize??16).pipe(VB((Q)=>kQ(r(()=>navigator.geolocation.watchPosition((B)=>Q.unsafeOffer($A(B)),(B)=>{if(B.code===B.PERMISSION_DENIED)Q.unsafeOffer(wA(new $6A({reason:"PermissionDenied",cause:B})));else if(B.code===B.TIMEOUT)Q.unsafeOffer(wA(new $6A({reason:"Timeout",cause:B})))},A)),(B)=>r(()=>navigator.geolocation.clearWatch(B))))),yX0=q0(k9Q,k9Q.of({[y9Q]:y9Q,getCurrentPosition:(A)=>b9Q(A).pipe(v(BY),AY,fC),watchPosition:(A)=>b9Q(A).pipe(h(Fo),xJ,_O(s))}));var h9Q=Symbol.for("@effect/platform-browser/Permissions"),O0B=Symbol.for("@effect/platform-browser/Permissions/PermissionsError");class f9Q extends nY(O0B,"PermissionsError"){get message(){return this.reason}}var m9Q=pA("@effect/platform-browser/Permissions"),bX0=q0(m9Q,m9Q.of({[h9Q]:h9Q,query:(A)=>YE({try:()=>navigator.permissions.query({name:A}),catch:(Q)=>new f9Q({reason:Q instanceof DOMException?"InvalidStateError":"TypeError",cause:Q})})}));var GM={};ZQ(GM,{zipWith:()=>klA,zipRight:()=>ylA,zipLeft:()=>vlA,windowed:()=>glA,whileOutputEffect:()=>SlA,whileOutput:()=>xlA,whileInputEffect:()=>jlA,whileInput:()=>_lA,upTo:()=>PlA,untilOutputEffect:()=>qlA,untilOutput:()=>TlA,untilInputEffect:()=>RlA,untilInput:()=>OlA,unionWith:()=>LlA,union:()=>Dl,unfold:()=>wlA,tapOutput:()=>zlA,tapInput:()=>$lA,sync:()=>MlA,succeed:()=>VlA,stop:()=>KlA,spaced:()=>LI,secondOfMinute:()=>zcA,run:()=>WlA,resetWhen:()=>HlA,resetAfter:()=>FlA,repetitions:()=>XlA,repeatForever:()=>ZlA,reduceEffect:()=>NlA,reduce:()=>UlA,recurs:()=>DlA,recurWhileEffect:()=>JlA,recurWhile:()=>GlA,recurUpTo:()=>YlA,recurUntilOption:()=>IlA,recurUntilEffect:()=>ElA,recurUntil:()=>ClA,provideService:()=>BlA,provideContext:()=>QlA,passthrough:()=>pcA,once:()=>AlA,onDecision:()=>ecA,modifyDelayEffect:()=>tcA,modifyDelay:()=>scA,minuteOfHour:()=>wcA,mapInputEffect:()=>KcA,mapInputContext:()=>VcA,mapInput:()=>WcA,mapEffect:()=>acA,mapBothEffect:()=>xcA,mapBoth:()=>jcA,map:()=>rcA,makeWithState:()=>tpA,linear:()=>ocA,jitteredWith:()=>ncA,jittered:()=>icA,isSchedule:()=>epA,intersectWith:()=>lcA,intersect:()=>ccA,identity:()=>ucA,hourOfDay:()=>LcA,fromFunction:()=>dcA,fromDelays:()=>fcA,fromDelay:()=>mcA,forever:()=>Jl,fixed:()=>hcA,fibonacci:()=>bcA,exponentialBackoff10Sec:()=>T0B,exponential:()=>Gl,ensuring:()=>kcA,elapsed:()=>ycA,eitherWith:()=>vcA,either:()=>gcA,duration:()=>ScA,driver:()=>cX,delays:()=>_cA,delayedSchedule:()=>PcA,delayedEffect:()=>qcA,delayed:()=>TcA,dayOfWeek:()=>RcA,dayOfMonth:()=>OcA,cron:()=>$cA,count:()=>McA,compose:()=>HcA,collectWhileEffect:()=>FcA,collectWhile:()=>XcA,collectUntilEffect:()=>ZcA,collectUntil:()=>NcA,collectAllOutputs:()=>UcA,collectAllInputs:()=>DcA,checkEffect:()=>JcA,check:()=>GcA,bothInOut:()=>YcA,asVoid:()=>IcA,as:()=>EcA,andThenEither:()=>CcA,andThen:()=>BcA,addDelayEffect:()=>QcA,addDelay:()=>AcA,ScheduleTypeId:()=>bDA,ScheduleDriverTypeId:()=>spA});var T0B=H(BJ.exponential(H0.millis(10),4),BJ.andThenEither(BJ.spaced(H0.seconds(1))),BJ.compose(BJ.elapsed),BJ.whileOutput(H0.lessThanOrEqualTo(H0.seconds(10))));var R9={};ZQ(R9,{toString:()=>uW,nextPair:()=>Ka,max:()=>n9Q,make:()=>x0B,localEventSequenceNumber:()=>d9Q,isGreaterThanOrEqual:()=>i9Q,isGreaterThan:()=>l9Q,isEqual:()=>c9Q,globalEventSequenceNumber:()=>p9Q,fromString:()=>P0B,diff:()=>j0B,compare:()=>q0B,clientDefault:()=>JM,ROOT:()=>_0B,GlobalEventSequenceNumber:()=>Zv,EventSequenceNumber:()=>GJ,ClientEventSequenceNumber:()=>u9Q});var d9Q=JX.nominal(),u9Q=g.fromBrand(d9Q)(g.Int),p9Q=JX.nominal(),Zv=g.fromBrand(p9Q)(g.Int),JM=0,GJ=g.Struct({global:Zv,client:u9Q}).annotations({title:"LiveStore.EventSequenceNumber"}),q0B=(A,Q)=>{if(A.global!==Q.global)return A.global-Q.global;return A.client-Q.client},uW=(A)=>A.client===0?`e${A.global}`:`e${A.global}+${A.client}`,P0B=(A)=>{let[Q,B]=A.slice(1,-1).split(",").map(Number);if(Q===void 0||B===void 0)throw new Error("Invalid event sequence number string");return{global:Q,client:B}},c9Q=(A,Q)=>A.global===Q.global&&A.client===Q.client,_0B={global:0,client:JM},l9Q=(A,Q)=>{return A.global>Q.global||A.global===Q.global&&A.client>Q.client},i9Q=(A,Q)=>{return A.global>Q.global||A.global===Q.global&&A.client>=Q.client},n9Q=(A,Q)=>{return A.global>Q.global||A.global===Q.global&&A.client>Q.client?A:Q},j0B=(A,Q)=>{return{global:A.global-Q.global,client:A.client-Q.client}},x0B=(A)=>{return g.is(GJ)(A)?A:g.decodeSync(GJ)(A)},Ka=(A,Q)=>{if(Q)return{seqNum:{global:A.global,client:A.client+1},parentSeqNum:A};return{seqNum:{global:A.global+1,client:JM},parentSeqNum:{global:A.global,client:JM}}};var G40=g.Struct({mergeCounter:g.Number,eventNum:GJ}),J40=g.Struct({fileName:g.String},{key:g.String,value:g.Any}).annotations({title:"LiveStore.PersistenceInfo"}),z6A=g.Struct({done:g.Number,total:g.Number}),D40=g.Union(g.Struct({stage:g.Literal("loading")}),g.Struct({stage:g.Literal("migrating"),progress:z6A}),g.Struct({stage:g.Literal("rehydrating"),progress:z6A}),g.Struct({stage:g.Literal("syncing"),progress:z6A}),g.Struct({stage:g.Literal("done")})).annotations({title:"BootStatus"}),U40=Symbol.for("@livestore/session-id");class _4 extends g.TaggedError()("LiveStore.UnexpectedError",{cause:g.Defect,note:g.optional(g.String),payload:g.optional(g.Any)}){static mapToUnexpectedError=(A)=>A.pipe(eQ.mapError((Q)=>g.is(_4)(Q)?Q:new _4({cause:Q})),eQ.catchAllDefect((Q)=>new _4({cause:Q})));static mapToUnexpectedErrorStream=(A)=>A.pipe(n2.mapError((Q)=>g.is(_4)(Q)?Q:new _4({cause:Q})))}class S0B extends g.TaggedError()("LiveStore.IntentionalShutdownCause",{reason:g.Literal("devtools-reset","devtools-import","adapter-reset","manual")}){}class g0B extends g.TaggedError()("LiveStore.StoreInterrupted",{reason:g.String}){}class v0B extends g.TaggedError()("LiveStore.SqliteError",{query:g.optional(g.Struct({sql:g.String,bindValues:g.Union(g.Record({key:g.String,value:g.Any}),g.Array(g.Any))})),code:g.optional(g.Union(g.Number,g.String)),cause:g.Defect,note:g.optional(g.String)}){}var y0B=g.Struct({tableName:g.String,hashes:g.Struct({expected:g.Number,actual:g.optional(g.Number)})}),N40=g.Struct({migrations:g.Array(y0B)});var o9Q=g.Union(g.String,g.Number,g.Uint8Array,g.Null),Va=g.Union(g.Array(o9Q),g.Record({key:g.String,value:o9Q})).pipe(g.brand("PreparedBindValues"));var K40=g.Struct({name:g.String,args:g.Any,seqNum:GJ,parentSeqNum:GJ,clientId:g.String,sessionId:g.String}).annotations({title:"LiveStoreEvent.AnyDecoded"}),V40=g.Struct({name:g.String,args:g.Any,seqNum:GJ,parentSeqNum:GJ,clientId:g.String,sessionId:g.String}).annotations({title:"LiveStoreEvent.AnyEncoded"}),r9Q=g.Struct({name:g.String,args:g.Any,seqNum:Zv,parentSeqNum:Zv,clientId:g.String,sessionId:g.String}).annotations({title:"LiveStoreEvent.AnyEncodedGlobal"}),a9Q=g.Struct({name:g.String,args:g.Any});var k0B=(A)=>g.Union(...[...A.eventsDefsMap.values()].map((Q)=>g.Struct({name:g.Literal(Q.name),args:Q.schema,seqNum:GJ,parentSeqNum:GJ,clientId:g.String,sessionId:g.String}))).annotations({title:"EventDef"});var M40=u2Q(k0B);class IN extends g.Class("LiveStoreEvent.EncodedWithMeta")({name:g.String,args:g.Any,seqNum:GJ,parentSeqNum:GJ,clientId:g.String,sessionId:g.String,meta:g.Struct({sessionChangeset:g.Union(g.TaggedStruct("sessionChangeset",{data:g.Uint8Array,debug:g.Any.pipe(g.optional)}),g.TaggedStruct("no-op",{}),g.TaggedStruct("unset",{})),syncMetadata:g.Option(g.JsonValue),materializerHashLeader:g.Option(g.Number),materializerHashSession:g.Option(g.Number)}).pipe(g.mutable,g.optional,g.withDefaults({constructor:()=>({sessionChangeset:{_tag:"unset"},syncMetadata:EA.none(),materializerHashLeader:EA.none(),materializerHashSession:EA.none()}),decoding:()=>({sessionChangeset:{_tag:"unset"},syncMetadata:EA.none(),materializerHashLeader:EA.none(),materializerHashSession:EA.none()})}))}){toJSON=()=>{return{seqNum:`${uW(this.seqNum)} → ${uW(this.parentSeqNum)} (${this.clientId}, ${this.sessionId})`,name:this.name,args:this.args}};rebase=(A,Q)=>new IN({...this,...Ka(A,Q)});static fromGlobal=(A,Q)=>new IN({...A,seqNum:{global:A.seqNum,client:JM},parentSeqNum:{global:A.parentSeqNum,client:JM},meta:{sessionChangeset:{_tag:"unset"},syncMetadata:Q.syncMetadata,materializerHashLeader:Q.materializerHashLeader,materializerHashSession:Q.materializerHashSession}});toGlobal=()=>({...this,seqNum:this.seqNum.global,parentSeqNum:this.parentSeqNum.global})}class Ma extends g.Class("SyncState")({pending:g.Array(IN),upstreamHead:GJ,localHead:GJ}){toJSON=()=>({pending:this.pending.map((A)=>A.toJSON()),upstreamHead:uW(this.upstreamHead),localHead:uW(this.localHead)})}class L6A extends g.TaggedStruct("upstream-rebase",{rollbackEvents:g.Array(IN),newEvents:g.Array(IN)}){}class O6A extends g.TaggedStruct("upstream-advance",{newEvents:g.Array(IN)}){}class s9Q extends g.TaggedStruct("local-push",{newEvents:g.Array(IN)}){}class t9Q extends g.Union(L6A,O6A,s9Q){}class R6A extends g.Union(L6A,O6A){}class $a extends g.Class("MergeContext")({payload:t9Q,syncState:Ma}){toJSON=()=>{return{payload:Q4.value(this.payload).pipe(Q4.tag("local-push",()=>({_tag:"local-push",newEvents:this.payload.newEvents.map((Q)=>Q.toJSON())})),Q4.tag("upstream-advance",()=>({_tag:"upstream-advance",newEvents:this.payload.newEvents.map((Q)=>Q.toJSON())})),Q4.tag("upstream-rebase",(Q)=>({_tag:"upstream-rebase",newEvents:Q.newEvents.map((B)=>B.toJSON()),rollbackEvents:Q.rollbackEvents.map((B)=>B.toJSON())})),Q4.exhaustive),syncState:this.syncState.toJSON()}}}class e9Q extends g.Class("MergeResultAdvance")({_tag:g.Literal("advance"),newSyncState:Ma,newEvents:g.Array(IN),confirmedEvents:g.Array(IN),mergeContext:$a}){toJSON=()=>{return{_tag:this._tag,newSyncState:this.newSyncState.toJSON(),newEvents:this.newEvents.map((A)=>A.toJSON()),confirmedEvents:this.confirmedEvents.map((A)=>A.toJSON()),mergeContext:this.mergeContext.toJSON()}}}class AXQ extends g.Class("MergeResultRebase")({_tag:g.Literal("rebase"),newSyncState:Ma,newEvents:g.Array(IN),rollbackEvents:g.Array(IN),mergeContext:$a}){toJSON=()=>{return{_tag:this._tag,newSyncState:this.newSyncState.toJSON(),newEvents:this.newEvents.map((A)=>A.toJSON()),rollbackEvents:this.rollbackEvents.map((A)=>A.toJSON()),mergeContext:this.mergeContext.toJSON()}}}class QXQ extends g.Class("MergeResultReject")({_tag:g.Literal("reject"),expectedMinimumId:GJ,mergeContext:$a}){toJSON=()=>{return{_tag:this._tag,expectedMinimumId:uW(this.expectedMinimumId),mergeContext:this.mergeContext.toJSON()}}}class BXQ extends g.Class("MergeResultUnexpectedError")({_tag:g.Literal("unexpected-error"),cause:_4}){}class b0B extends g.Union(e9Q,AXQ,QXQ,BXQ){}var Hv={};ZQ(Hv,{sessionId:()=>j6A,requestId:()=>NR,makeSessionInfoBroadcastChannel:()=>t0B,makeNodeName:()=>a0B,makeChannelName:()=>qFA,liveStoreVersion:()=>Xv,isChannelName:()=>s0B,clientId:()=>Oa,SessionInfo:()=>wa,NetworkStatus:()=>_6A,LeaderReqResMessage:()=>Fv,Leader:()=>TFA,LSDReqResMessage:()=>XI,LSDMessage:()=>ZR,LSDClientSessionReqResMessage:()=>IY,LSDClientSessionChannelMessage:()=>x6A,LSDChannelMessage:()=>DXQ,DevtoolsModeTag:()=>r0B,DevtoolsMode:()=>NXQ,ClientSession:()=>e6A});import{webcrypto as IXQ}from"node:crypto";var EXQ="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var h0B=128,DM,UR;function m0B(A){if(!DM||DM.length<A)DM=Buffer.allocUnsafe(A*h0B),IXQ.getRandomValues(DM),UR=0;else if(UR+A>DM.length)IXQ.getRandomValues(DM),UR=0;UR+=A}function T6A(A=21){m0B(A|=0);let Q="";for(let B=UR-A;B<UR;B++)Q+=EXQ[DM[B]&63];return Q}var wa={};ZQ(wa,{requestSessionInfoSubscription:()=>d0B,provideSessionInfo:()=>f0B,SessionInfo:()=>q6A,RequestSessions:()=>za,Message:()=>P6A});var za=g.TaggedStruct("RequestSessions",{}),q6A=g.TaggedStruct("SessionInfo",{storeId:g.String,clientId:g.String,sessionId:g.String,schemaAlias:g.String,isLeader:g.Boolean}),P6A=g.Union(za,q6A),f0B=({webChannel:A,sessionInfo:Q})=>eQ.gen(function*(){yield*A.send(Q),yield*A.listen.pipe(n2.flatten(),n2.filter(g.is(za)),n2.tap(()=>A.send(Q)),n2.runDrain)}),d0B=({webChannel:A,pollInterval:Q=H0.seconds(1),staleTimeout:B=H0.seconds(5)})=>eQ.gen(function*(){yield*A.send(za.make({})).pipe(eQ.repeat(GM.spaced(Q)),eQ.interruptible,eQ.tapCauseLogPretty,eQ.forkScoped);let C=yield*T3.make(),E=yield*xO.make(WC.empty());return yield*A.listen.pipe(n2.flatten(),n2.filter(g.is(q6A)),n2.map(sI.struct),n2.tap(eQ.fn(function*(I){yield*xO.getAndUpdate(E,WC.add(I)),yield*T3.run(C,I,eQ.gen(function*(){yield*eQ.sleep(B),yield*xO.getAndUpdate(E,WC.remove(I))}))})),n2.runDrain,eQ.tapCauseLogPretty,eQ.forkScoped),To.make({get:E.get.pipe(eQ.map((I)=>new Set(I))),changes:E.changes.pipe(n2.map((I)=>new Set(I)))})});var e6A={};ZQ(e6A,{SyncHeadUnsubscribe:()=>u6A,SyncHeadSubscribe:()=>d6A,SyncHeadRes:()=>p6A,SerializedLiveQuery:()=>r6A,ReactivityGraphUnsubscribe:()=>l6A,ReactivityGraphSubscribe:()=>c6A,ReactivityGraphRes:()=>i6A,Pong:()=>t6A,Ping:()=>s6A,MessageToApp:()=>l0B,MessageFromApp:()=>i0B,LiveQueriesUnsubscribe:()=>o6A,LiveQueriesSubscribe:()=>n6A,LiveQueriesRes:()=>a6A,Disconnect:()=>Ra,DebugInfoResetRes:()=>h6A,DebugInfoResetReq:()=>b6A,DebugInfoRes:()=>g6A,DebugInfoRerunQueryRes:()=>f6A,DebugInfoRerunQueryReq:()=>m6A,DebugInfoReq:()=>S6A,DebugInfoHistoryUnsubscribe:()=>k6A,DebugInfoHistorySubscribe:()=>v6A,DebugInfoHistoryRes:()=>y6A});class YXQ{#A=new Map;#Q;constructor(A){this.#Q=A}onEvict;set=(A,Q)=>{if(this.#A.set(A,Q),this.#A.size>this.#Q){let B=this.#A.keys().next().value,C=this.#A.get(B);if(this.#A.delete(B),this.onEvict)this.onEvict(B,C)}};get=(A)=>{return this.#A.get(A)};delete=(A)=>{this.#A.delete(A)};keys=()=>{return this.#A.keys()}}class u0B{#A;constructor(A){this.#A=new YXQ(A),this.#A.onEvict=this.#Q}#Q=(A)=>{if(this.onEvict)this.onEvict(A)};onEvict;add=(A)=>{this.#A.set(A,A)};[Symbol.iterator]=()=>{return this.#A.keys()}}class pW{#A=[];sizeLimit;constructor(A){this.sizeLimit=A}static make=(A,Q=[])=>{let B=new pW(A);for(let C of Q)B.push(C);return B};onEvict;push=(A)=>{if(this.#A.push(A),this.#A.length>this.sizeLimit){let Q=this.#A.shift();if(Q&&this.onEvict)this.onEvict(Q)}};get=(A)=>{return this.#A[A]};delete=(A)=>{this.#A.splice(A,1)};get length(){return this.#A.length}[Symbol.iterator]=()=>{return this.#A[Symbol.iterator]()};map=(A)=>{return this.#A.map(A)};clear=()=>{this.#A=[]};sort=(A)=>{return this.#A.sort(A)}}var p0B=g.Struct({queryStr:g.String,bindValues:g.UndefinedOr(Va),durationMs:g.Number,rowsCount:g.UndefinedOr(g.Number),queriedTables:g.ReadonlySet(g.String),startTimePerfNow:g.Number}),c0B=(A)=>g.declare([A],{decode:(Q)=>(B,C,E)=>{if(B instanceof pW){let I=gE.decodeUnknown(g.Array(Q))([...B],C);return gE.map(I,(Y)=>pW.make(B.sizeLimit,Y))}return gE.fail(new gE.Type(E,B))},encode:(Q)=>(B,C,E)=>{if(B instanceof pW){let I=gE.encodeUnknown(g.Array(Q))([...B],C);return gE.map(I,(Y)=>pW.make(B.sizeLimit,Y))}return gE.fail(new gE.Type(E,B))}},{description:`BoundArray<${g.format(A)}>`,pretty:()=>(Q)=>`BoundArray(${Q.length})`,arbitrary:()=>(Q)=>Q.anything(),equivalence:()=>(Q,B)=>Q===B}),GXQ=(A)=>g.transform(g.Struct({size:g.Number,items:g.Array(A)}),c0B(g.typeSchema(A)),{encode:(Q)=>({size:Q.sizeLimit,items:[...Q]}),decode:(Q)=>pW.make(Q.size,Q.items)}),La=g.Struct({slowQueries:GXQ(p0B),queryFrameDuration:g.Number,queryFrameCount:g.Number,events:GXQ(g.Tuple(g.String,g.Any))}),f40=g.mutable(La);var JXQ="0.3.1";var _6A=g.Struct({isConnected:g.Boolean,timestampMs:g.Number,latchClosed:g.Boolean}),NR=g.String,Oa=g.String,j6A=g.String,Xv=g.Literal(JXQ),ZR=(A,Q)=>g.TaggedStruct(A,{liveStoreVersion:Xv,...Q}).annotations({identifier:A}),DXQ=(A,Q)=>ZR(A,{clientId:Oa,...Q}),x6A=(A,Q)=>ZR(A,{clientId:Oa,sessionId:j6A,...Q}),IY=(A,Q)=>ZR(A,{clientId:Oa,sessionId:j6A,requestId:NR,...Q}),XI=(A,Q)=>DXQ(A,{requestId:NR,...Q}),Fv=(A,Q)=>{let B=g.TaggedStruct(`${A}.Response.Success`,{requestId:NR,liveStoreVersion:Xv,...Q.success}).annotations({identifier:`${A}.Response.Success`}),C=Q.error?g.TaggedStruct(`${A}.Response.Error`,{requestId:NR,liveStoreVersion:Xv,...Q.error}).annotations({identifier:`${A}.Response.Error`}):g.Never;return{Request:g.TaggedStruct(`${A}.Request`,{requestId:NR,liveStoreVersion:Xv,...Q.payload}).annotations({identifier:`${A}.Request`}),Response:g.Union(B,C),Success:B,Error:C}};class S6A extends IY("LSD.ClientSession.DebugInfoReq",{}){}class g6A extends IY("LSD.ClientSession.DebugInfoRes",{debugInfo:La}){}class v6A extends IY("LSD.ClientSession.DebugInfoHistorySubscribe",{subscriptionId:g.String}){}class y6A extends IY("LSD.ClientSession.DebugInfoHistoryRes",{debugInfoHistory:g.Array(La),subscriptionId:g.String}){}class k6A extends IY("LSD.ClientSession.DebugInfoHistoryUnsubscribe",{subscriptionId:g.String}){}class b6A extends IY("LSD.ClientSession.DebugInfoResetReq",{}){}class h6A extends IY("LSD.ClientSession.DebugInfoResetRes",{}){}class m6A extends IY("LSD.ClientSession.DebugInfoRerunQueryReq",{queryStr:g.String,bindValues:g.UndefinedOr(Va),queriedTables:g.ReadonlySet(g.String)}){}class f6A extends IY("LSD.ClientSession.DebugInfoRerunQueryRes",{}){}class d6A extends IY("LSD.ClientSession.SyncHeadSubscribe",{subscriptionId:g.String}){}class u6A extends IY("LSD.ClientSession.SyncHeadUnsubscribe",{subscriptionId:g.String}){}class p6A extends IY("LSD.ClientSession.SyncHeadRes",{local:R9.EventSequenceNumber,upstream:R9.EventSequenceNumber,subscriptionId:g.String}){}class c6A extends IY("LSD.ClientSession.ReactivityGraphSubscribe",{includeResults:g.Boolean,subscriptionId:g.String}){}class l6A extends IY("LSD.ClientSession.ReactivityGraphUnsubscribe",{subscriptionId:g.String}){}class i6A extends IY("LSD.ClientSession.ReactivityGraphRes",{reactivityGraph:g.Any,subscriptionId:g.String}){}class n6A extends IY("LSD.ClientSession.LiveQueriesSubscribe",{subscriptionId:g.String}){}class o6A extends IY("LSD.ClientSession.LiveQueriesUnsubscribe",{subscriptionId:g.String}){}class r6A extends g.Struct({_tag:g.Literal("computed","db","graphql","signal"),id:g.Number,label:g.String,hash:g.String,runs:g.Number,executionTimes:g.Array(g.Number),lastestResult:g.Any,activeSubscriptions:g.Array(g.Struct({frames:g.Array(g.Struct({name:g.String,filePath:g.String}))}))}){}class a6A extends IY("LSD.ClientSession.LiveQueriesRes",{liveQueries:g.Array(r6A),subscriptionId:g.String}){}class s6A extends IY("LSD.ClientSession.Ping",{}){}class t6A extends IY("LSD.ClientSession.Pong",{}){}class Ra extends x6A("LSD.ClientSession.Disconnect",{}){}var l0B=g.Union(S6A,v6A,k6A,b6A,m6A,c6A,l6A,n6A,o6A,Ra,s6A,d6A,u6A).annotations({identifier:"LSD.ClientSession.MessageToApp"}),i0B=g.Union(g6A,y6A,h6A,f6A,i6A,a6A,Ra,t6A,p6A).annotations({identifier:"LSD.ClientSession.MessageFromApp"});var TFA={};ZQ(TFA,{SyncingInfoRes:()=>GFA,SyncingInfoReq:()=>IFA,SyncingInfo:()=>YFA,SyncPull:()=>KFA,SyncHistoryUnsubscribe:()=>DFA,SyncHistorySubscribe:()=>JFA,SyncHistoryRes:()=>UFA,SyncHeadUnsubscribe:()=>ZFA,SyncHeadSubscribe:()=>NFA,SyncHeadRes:()=>XFA,SnapshotRes:()=>HFA,SnapshotReq:()=>FFA,SetSyncLatch:()=>OFA,ResetAllDataReq:()=>UXQ,ResetAllData:()=>RFA,Pong:()=>LFA,Ping:()=>wFA,NetworkStatusUnsubscribe:()=>CFA,NetworkStatusSubscribe:()=>BFA,NetworkStatusRes:()=>EFA,MessageToApp:()=>n0B,MessageFromApp:()=>o0B,LoadDatabaseFile:()=>WFA,EventlogRes:()=>zFA,EventlogReq:()=>$FA,Disconnect:()=>qa,DatabaseFileInfoRes:()=>QFA,DatabaseFileInfoReq:()=>AFA,DatabaseFileInfo:()=>Ta,CommitEventRes:()=>MFA,CommitEventReq:()=>VFA});class UXQ extends XI("LSD.Leader.ResetAllDataReq",{mode:g.Literal("all-data","only-app-db")}){}class AFA extends XI("LSD.Leader.DatabaseFileInfoReq",{}){}class Ta extends g.Struct({fileSize:g.Number,persistenceInfo:g.Struct({fileName:g.String},{key:g.String,value:g.Any})}){}class QFA extends XI("LSD.Leader.DatabaseFileInfoRes",{state:Ta,eventlog:Ta}){}class BFA extends XI("LSD.Leader.NetworkStatusSubscribe",{subscriptionId:g.String}){}class CFA extends XI("LSD.Leader.NetworkStatusUnsubscribe",{subscriptionId:g.String}){}class EFA extends XI("LSD.Leader.NetworkStatusRes",{networkStatus:_6A,subscriptionId:g.String}){}class IFA extends XI("LSD.Leader.SyncingInfoReq",{}){}class YFA extends g.Struct({enabled:g.Boolean,metadata:g.Record({key:g.String,value:g.Any})}){}class GFA extends XI("LSD.Leader.SyncingInfoRes",{syncingInfo:YFA}){}class JFA extends XI("LSD.Leader.SyncHistorySubscribe",{subscriptionId:g.String}){}class DFA extends XI("LSD.Leader.SyncHistoryUnsubscribe",{subscriptionId:g.String}){}class UFA extends XI("LSD.Leader.SyncHistoryRes",{eventEncoded:r9Q,metadata:g.Option(g.JsonValue),subscriptionId:g.String}){}class NFA extends XI("LSD.Leader.SyncHeadSubscribe",{subscriptionId:g.String}){}class ZFA extends XI("LSD.Leader.SyncHeadUnsubscribe",{subscriptionId:g.String}){}class XFA extends XI("LSD.Leader.SyncHeadRes",{local:R9.EventSequenceNumber,upstream:R9.EventSequenceNumber,subscriptionId:g.String}){}class FFA extends XI("LSD.Leader.SnapshotReq",{}){}class HFA extends XI("LSD.Leader.SnapshotRes",{snapshot:s2.Uint8Array}){}var WFA=Fv("LSD.Leader.LoadDatabaseFile",{payload:{data:s2.Uint8Array},success:{},error:{cause:g.Union(g.TaggedStruct("unsupported-file",{}),g.TaggedStruct("unsupported-database",{}),g.TaggedStruct("unexpected-error",{cause:g.Defect}))}});class KFA extends ZR("LSD.Leader.SyncPull",{payload:R6A}){}class VFA extends XI("LSD.Leader.CommitEventReq",{eventEncoded:a9Q}){}class MFA extends XI("LSD.Leader.CommitEventRes",{}){}class $FA extends XI("LSD.Leader.EventlogReq",{}){}class zFA extends XI("LSD.Leader.EventlogRes",{eventlog:s2.Uint8Array}){}class wFA extends XI("LSD.Leader.Ping",{}){}class LFA extends XI("LSD.Leader.Pong",{}){}class qa extends XI("LSD.Leader.Disconnect",{}){}var OFA=Fv("LSD.Leader.SetSyncLatch",{payload:{closeLatch:g.Boolean},success:{}}),RFA=Fv("LSD.Leader.ResetAllData",{payload:{mode:g.Literal("all-data","only-app-db")},success:{}}),n0B=g.Union(FFA,WFA.Request,$FA,RFA.Request,BFA,CFA,qa,VFA,wFA,AFA,JFA,DFA,IFA,NFA,ZFA,OFA.Request).annotations({identifier:"LSD.Leader.MessageToApp"}),o0B=g.Union(HFA,WFA.Response,zFA,qa,KFA,EFA,MFA,LFA,QFA,UFA,GFA,XFA,RFA.Success,OFA.Success).annotations({identifier:"LSD.Leader.MessageFromApp"});var NXQ=g.Union(g.TaggedStruct("node",{url:g.String}),g.TaggedStruct("web",{}),g.TaggedStruct("browser-extension",{})),r0B=NXQ.pipe(g.pluck("_tag"),g.typeSchema),a0B={devtools:{random:()=>`devtools-instance-${T6A()}`},client:{session:({storeId:A,clientId:Q,sessionId:B})=>`client-session-${A}-${Q}-${B}`,leader:({storeId:A,clientId:Q})=>`client-leader-${A}-${Q}`}},qFA={sessionInfo:()=>"session-info",devtoolsClientSession:({storeId:A,clientId:Q,sessionId:B})=>`devtools-channel(client-session-${A}-${Q}-${B})`,devtoolsClientLeader:({storeId:A,clientId:Q,sessionId:B})=>`devtools-channel(client-leader-${A}-${Q}-${B})`},s0B={devtoolsClientSession:(A,{storeId:Q,clientId:B,sessionId:C})=>A===qFA.devtoolsClientSession({storeId:Q,clientId:B,sessionId:C}),devtoolsClientLeader:(A,{storeId:Q,clientId:B})=>A.startsWith(`devtools-channel(client-leader-${Q}-${B}`)},t0B=(A)=>A.makeBroadcastChannel({channelName:qFA.sessionInfo(),schema:P6A});import*as _qQ from"node:os";import{Readable as TvB}from"node:stream";class _B extends Error{}var xB=({error:A,value:Q})=>{if(Q!==void 0&&A!==void 0)throw new Error(`Received both left and right values at runtime when opening a Result
Success: ${JSON.stringify(Q)}
Error: ${JSON.stringify(A)}`);if(A!==void 0)return A;if(Q!==void 0)return Q;throw new Error("Received no value or error values at runtime when opening Result")},ZB=(A)=>{return A.error!==void 0};var GQ=(A)=>({error:A}),V0=(A)=>({value:A});class PFA extends _B{_tag="HttpRequestFetchError";constructor(A){super(`Failed to interact with the Generous API: ${A}`)}static make=(A)=>new PFA(A.cause.code)}class _FA extends _B{_tag="HttpResponseParseError";constructor(A){super(`Failed to parse response body from the Generous API: ${A}`)}static make=(A)=>new _FA(A)}function ZXQ(A){async function Q(C,E){try{let I=await fetch(`${A.baseUrl}${C}`,{...E,headers:{...E.headers,Accept:"application/json","User-Agent":"@generousbuilders/js-sdk"}});return V0(I)}catch(I){return GQ(PFA.make(I))}}async function B(C){try{let E=await C.json(),I=C.status;return V0({body:E,status:I})}catch(E){return GQ(_FA.make(E))}}return{request:Q,parseResponseBody:B}}function XXQ(A){return{httpAdapter:ZXQ(A)}}var vE=new TextEncoder,JJ=new TextDecoder;function DJ(...A){let Q=A.reduce((E,{length:I})=>E+I,0),B=new Uint8Array(Q),C=0;for(let E of A)B.set(E,C),C+=E.length;return B}function jFA(A,Q,B){if(Q<0||Q>=4294967296)throw new RangeError(`value must be >= 0 and <= 4294967295. Received ${Q}`);A.set([Q>>>24,Q>>>16,Q>>>8,Q&255],B)}function Pa(A){let Q=Math.floor(A/4294967296),B=A%4294967296,C=new Uint8Array(8);return jFA(C,Q,0),jFA(C,B,4),C}function _a(A){let Q=new Uint8Array(4);return jFA(Q,A),Q}function FXQ(A){if(Uint8Array.prototype.toBase64)return A.toBase64();let Q=32768,B=[];for(let C=0;C<A.length;C+=Q)B.push(String.fromCharCode.apply(null,A.subarray(C,C+Q)));return btoa(B.join(""))}function HXQ(A){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(A);let Q=atob(A),B=new Uint8Array(Q.length);for(let C=0;C<Q.length;C++)B[C]=Q.charCodeAt(C);return B}function PY(A){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(typeof A==="string"?A:JJ.decode(A),{alphabet:"base64url"});let Q=A;if(Q instanceof Uint8Array)Q=JJ.decode(Q);Q=Q.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return HXQ(Q)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}}function _Y(A){let Q=A;if(typeof Q==="string")Q=vE.encode(Q);if(Uint8Array.prototype.toBase64)return Q.toBase64({alphabet:"base64url",omitPadding:!0});return FXQ(Q).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class j4 extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(A,Q){super(A,Q);this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class pZ extends j4{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(A,Q,B="unspecified",C="unspecified"){super(A,{cause:{claim:B,reason:C,payload:Q}});this.claim=B,this.reason=C,this.payload=Q}}class ja extends j4{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(A,Q,B="unspecified",C="unspecified"){super(A,{cause:{claim:B,reason:C,payload:Q}});this.claim=B,this.reason=C,this.payload=Q}}class XR extends j4{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class j0 extends j4{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class Wv extends j4{static code="ERR_JWE_DECRYPTION_FAILED";code="ERR_JWE_DECRYPTION_FAILED";constructor(A="decryption operation failed",Q){super(A,Q)}}class yQ extends j4{static code="ERR_JWE_INVALID";code="ERR_JWE_INVALID"}class yE extends j4{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"}class Kv extends j4{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class xFA extends j4{static code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";constructor(A="signature verification failed",Q){super(A,Q)}}function SFA(A){switch(A){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new j0(`Unsupported JWE Algorithm: ${A}`)}}var WXQ=(A)=>crypto.getRandomValues(new Uint8Array(SFA(A)>>3));var xa=(A,Q)=>{if(Q.length<<3!==SFA(A))throw new yQ("Invalid Initialization Vector length")};var FR=(A,Q)=>{let B=A.byteLength<<3;if(B!==Q)throw new yQ(`Invalid Content Encryption Key length. Expected ${Q} bits, got ${B} bits`)};function vJ(A,Q="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${Q} must be ${A}`)}function P6(A,Q){return A.name===Q}function Sa(A){return parseInt(A.name.slice(4),10)}function QCB(A){switch(A){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function KXQ(A,Q){if(Q&&!A.usages.includes(Q))throw new TypeError(`CryptoKey does not support this operation, its usages must include ${Q}.`)}function VXQ(A,Q,B){switch(Q){case"HS256":case"HS384":case"HS512":{if(!P6(A.algorithm,"HMAC"))throw vJ("HMAC");let C=parseInt(Q.slice(2),10);if(Sa(A.algorithm.hash)!==C)throw vJ(`SHA-${C}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!P6(A.algorithm,"RSASSA-PKCS1-v1_5"))throw vJ("RSASSA-PKCS1-v1_5");let C=parseInt(Q.slice(2),10);if(Sa(A.algorithm.hash)!==C)throw vJ(`SHA-${C}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!P6(A.algorithm,"RSA-PSS"))throw vJ("RSA-PSS");let C=parseInt(Q.slice(2),10);if(Sa(A.algorithm.hash)!==C)throw vJ(`SHA-${C}`,"algorithm.hash");break}case"Ed25519":case"EdDSA":{if(!P6(A.algorithm,"Ed25519"))throw vJ("Ed25519");break}case"ES256":case"ES384":case"ES512":{if(!P6(A.algorithm,"ECDSA"))throw vJ("ECDSA");let C=QCB(Q);if(A.algorithm.namedCurve!==C)throw vJ(C,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}KXQ(A,B)}function dD(A,Q,B){switch(Q){case"A128GCM":case"A192GCM":case"A256GCM":{if(!P6(A.algorithm,"AES-GCM"))throw vJ("AES-GCM");let C=parseInt(Q.slice(1,4),10);if(A.algorithm.length!==C)throw vJ(C,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!P6(A.algorithm,"AES-KW"))throw vJ("AES-KW");let C=parseInt(Q.slice(1,4),10);if(A.algorithm.length!==C)throw vJ(C,"algorithm.length");break}case"ECDH":{switch(A.algorithm.name){case"ECDH":case"X25519":break;default:throw vJ("ECDH or X25519")}break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!P6(A.algorithm,"PBKDF2"))throw vJ("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!P6(A.algorithm,"RSA-OAEP"))throw vJ("RSA-OAEP");let C=parseInt(Q.slice(9),10)||1;if(Sa(A.algorithm.hash)!==C)throw vJ(`SHA-${C}`,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}KXQ(A,B)}function MXQ(A,Q,...B){if(B=B.filter(Boolean),B.length>2){let C=B.pop();A+=`one of type ${B.join(", ")}, or ${C}.`}else if(B.length===2)A+=`one of type ${B[0]} or ${B[1]}.`;else A+=`of type ${B[0]}.`;if(Q==null)A+=` Received ${Q}`;else if(typeof Q==="function"&&Q.name)A+=` Received function ${Q.name}`;else if(typeof Q==="object"&&Q!=null){if(Q.constructor?.name)A+=` Received an instance of ${Q.constructor.name}`}return A}var x4=(A,...Q)=>{return MXQ("Key must be ",A,...Q)};function gFA(A,Q,...B){return MXQ(`Key for the ${A} algorithm must be `,Q,...B)}function UM(A){if(!S4(A))throw new Error("CryptoKey instance expected")}function S4(A){return A?.[Symbol.toStringTag]==="CryptoKey"}function Vv(A){return A?.[Symbol.toStringTag]==="KeyObject"}var vFA=(A)=>{return S4(A)||Vv(A)};async function BCB(A,Q){if(!(A instanceof Uint8Array))throw new TypeError("First argument must be a buffer");if(!(Q instanceof Uint8Array))throw new TypeError("Second argument must be a buffer");let B={name:"HMAC",hash:"SHA-256"},C=await crypto.subtle.generateKey(B,!1,["sign"]),E=new Uint8Array(await crypto.subtle.sign(B,C,A)),I=new Uint8Array(await crypto.subtle.sign(B,C,Q)),Y=0,G=-1;while(++G<32)Y|=E[G]^I[G];return Y===0}async function CCB(A,Q,B,C,E,I){if(!(Q instanceof Uint8Array))throw new TypeError(x4(Q,"Uint8Array"));let Y=parseInt(A.slice(1,4),10),G=await crypto.subtle.importKey("raw",Q.subarray(Y>>3),"AES-CBC",!1,["decrypt"]),J=await crypto.subtle.importKey("raw",Q.subarray(0,Y>>3),{hash:`SHA-${Y<<1}`,name:"HMAC"},!1,["sign"]),D=DJ(I,C,B,Pa(I.length<<3)),U=new Uint8Array((await crypto.subtle.sign("HMAC",J,D)).slice(0,Y>>3)),N;try{N=await BCB(E,U)}catch{}if(!N)throw new Wv;let Z;try{Z=new Uint8Array(await crypto.subtle.decrypt({iv:C,name:"AES-CBC"},G,B))}catch{}if(!Z)throw new Wv;return Z}async function ECB(A,Q,B,C,E,I){let Y;if(Q instanceof Uint8Array)Y=await crypto.subtle.importKey("raw",Q,"AES-GCM",!1,["decrypt"]);else dD(Q,A,"decrypt"),Y=Q;try{return new Uint8Array(await crypto.subtle.decrypt({additionalData:I,iv:C,name:"AES-GCM",tagLength:128},Y,DJ(B,E)))}catch{throw new Wv}}var ga=async(A,Q,B,C,E,I)=>{if(!S4(Q)&&!(Q instanceof Uint8Array))throw new TypeError(x4(Q,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));if(!C)throw new yQ("JWE Initialization Vector missing");if(!E)throw new yQ("JWE Authentication Tag missing");switch(xa(A,C),A){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":if(Q instanceof Uint8Array)FR(Q,parseInt(A.slice(-3),10));return CCB(A,Q,B,C,E,I);case"A128GCM":case"A192GCM":case"A256GCM":if(Q instanceof Uint8Array)FR(Q,parseInt(A.slice(1,4),10));return ECB(A,Q,B,C,E,I);default:throw new j0("Unsupported JWE Content Encryption Algorithm")}};var cW=(...A)=>{let Q=A.filter(Boolean);if(Q.length===0||Q.length===1)return!0;let B;for(let C of Q){let E=Object.keys(C);if(!B||B.size===0){B=new Set(E);continue}for(let I of E){if(B.has(I))return!1;B.add(I)}}return!0};function ICB(A){return typeof A==="object"&&A!==null}var H2=(A)=>{if(!ICB(A)||Object.prototype.toString.call(A)!=="[object Object]")return!1;if(Object.getPrototypeOf(A)===null)return!0;let Q=A;while(Object.getPrototypeOf(Q)!==null)Q=Object.getPrototypeOf(Q);return Object.getPrototypeOf(A)===Q};function $XQ(A,Q){if(A.algorithm.length!==parseInt(Q.slice(1,4),10))throw new TypeError(`Invalid key size for alg: ${Q}`)}function zXQ(A,Q,B){if(A instanceof Uint8Array)return crypto.subtle.importKey("raw",A,"AES-KW",!0,[B]);return dD(A,Q,B),A}async function Mv(A,Q,B){let C=await zXQ(Q,A,"wrapKey");$XQ(C,A);let E=await crypto.subtle.importKey("raw",B,{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.wrapKey("raw",E,C,"AES-KW"))}async function $v(A,Q,B){let C=await zXQ(Q,A,"unwrapKey");$XQ(C,A);let E=await crypto.subtle.unwrapKey("raw",B,C,"AES-KW",{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.exportKey("raw",E))}var wXQ=async(A,Q)=>{let B=`SHA-${A.slice(-3)}`;return new Uint8Array(await crypto.subtle.digest(B,Q))};function kFA(A){return DJ(_a(A.length),A)}async function YCB(A,Q,B){let C=Math.ceil((Q>>3)/32),E=new Uint8Array(C*32);for(let I=0;I<C;I++){let Y=new Uint8Array(4+A.length+B.length);Y.set(_a(I+1)),Y.set(A,4),Y.set(B,4+A.length),E.set(await wXQ("sha256",Y),I*32)}return E.slice(0,Q>>3)}async function va(A,Q,B,C,E=new Uint8Array(0),I=new Uint8Array(0)){dD(A,"ECDH"),dD(Q,"ECDH","deriveBits");let Y=DJ(kFA(vE.encode(B)),kFA(E),kFA(I),_a(C)),G;if(A.algorithm.name==="X25519")G=256;else G=Math.ceil(parseInt(A.algorithm.namedCurve.slice(-3),10)/8)<<3;let J=new Uint8Array(await crypto.subtle.deriveBits({name:A.algorithm.name,public:A},Q,G));return YCB(J,C,Y)}function ya(A){switch(A.algorithm.namedCurve){case"P-256":case"P-384":case"P-521":return!0;default:return A.algorithm.name==="X25519"}}function GCB(A,Q){if(A instanceof Uint8Array)return crypto.subtle.importKey("raw",A,"PBKDF2",!1,["deriveBits"]);return dD(A,Q,"deriveBits"),A}var JCB=(A,Q)=>DJ(vE.encode(A),new Uint8Array([0]),Q);async function OXQ(A,Q,B,C){if(!(A instanceof Uint8Array)||A.length<8)throw new yQ("PBES2 Salt Input must be 8 or more octets");let E=JCB(Q,A),I=parseInt(Q.slice(13,16),10),Y={hash:`SHA-${Q.slice(8,11)}`,iterations:B,name:"PBKDF2",salt:E},G=await GCB(C,Q);return new Uint8Array(await crypto.subtle.deriveBits(Y,G,I))}async function RXQ(A,Q,B,C=2048,E=crypto.getRandomValues(new Uint8Array(16))){let I=await OXQ(E,A,C,Q);return{encryptedKey:await Mv(A.slice(-6),I,B),p2c:C,p2s:_Y(E)}}async function TXQ(A,Q,B,C,E){let I=await OXQ(E,A,C,Q);return $v(A.slice(-6),I,B)}var NM=(A,Q)=>{if(A.startsWith("RS")||A.startsWith("PS")){let{modulusLength:B}=Q.algorithm;if(typeof B!=="number"||B<2048)throw new TypeError(`${A} requires key modulusLength to be 2048 bits or larger`)}};var PXQ=(A)=>{switch(A){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new j0(`alg ${A} is not supported either by JOSE or your javascript runtime`)}};async function _XQ(A,Q,B){return dD(Q,A,"encrypt"),NM(A,Q),new Uint8Array(await crypto.subtle.encrypt(PXQ(A),Q,B))}async function jXQ(A,Q,B){return dD(Q,A,"decrypt"),NM(A,Q),new Uint8Array(await crypto.subtle.decrypt(PXQ(A),Q,B))}function zv(A){switch(A){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new j0(`Unsupported JWE Algorithm: ${A}`)}}var lW=(A)=>crypto.getRandomValues(new Uint8Array(zv(A)>>3));function DCB(A){let Q,B;switch(A.kty){case"RSA":{switch(A.alg){case"PS256":case"PS384":case"PS512":Q={name:"RSA-PSS",hash:`SHA-${A.alg.slice(-3)}`},B=A.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":Q={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${A.alg.slice(-3)}`},B=A.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":Q={name:"RSA-OAEP",hash:`SHA-${parseInt(A.alg.slice(-3),10)||1}`},B=A.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new j0('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(A.alg){case"ES256":Q={name:"ECDSA",namedCurve:"P-256"},B=A.d?["sign"]:["verify"];break;case"ES384":Q={name:"ECDSA",namedCurve:"P-384"},B=A.d?["sign"]:["verify"];break;case"ES512":Q={name:"ECDSA",namedCurve:"P-521"},B=A.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":Q={name:"ECDH",namedCurve:A.crv},B=A.d?["deriveBits"]:[];break;default:throw new j0('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(A.alg){case"Ed25519":case"EdDSA":Q={name:"Ed25519"},B=A.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":Q={name:A.crv},B=A.d?["deriveBits"]:[];break;default:throw new j0('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new j0('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:Q,keyUsages:B}}var ka=async(A)=>{if(!A.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:Q,keyUsages:B}=DCB(A),C={...A};return delete C.alg,delete C.use,crypto.subtle.importKey("jwk",C,Q,A.ext??(A.d?!1:!0),A.key_ops??B)};async function t2(A,Q,B){if(!H2(A))throw new TypeError("JWK must be an object");let C;switch(Q??=A.alg,C??=B?.extractable??A.ext,A.kty){case"oct":if(typeof A.k!=="string"||!A.k)throw new TypeError('missing "k" (Key Value) Parameter value');return PY(A.k);case"RSA":if("oth"in A&&A.oth!==void 0)throw new j0('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return ka({...A,alg:Q,ext:C});default:throw new j0('Unsupported "kty" (Key Type) Parameter value')}}async function UCB(A,Q,B,C,E){if(!(B instanceof Uint8Array))throw new TypeError(x4(B,"Uint8Array"));let I=parseInt(A.slice(1,4),10),Y=await crypto.subtle.importKey("raw",B.subarray(I>>3),"AES-CBC",!1,["encrypt"]),G=await crypto.subtle.importKey("raw",B.subarray(0,I>>3),{hash:`SHA-${I<<1}`,name:"HMAC"},!1,["sign"]),J=new Uint8Array(await crypto.subtle.encrypt({iv:C,name:"AES-CBC"},Y,Q)),D=DJ(E,C,J,Pa(E.length<<3)),U=new Uint8Array((await crypto.subtle.sign("HMAC",G,D)).slice(0,I>>3));return{ciphertext:J,tag:U,iv:C}}async function NCB(A,Q,B,C,E){let I;if(B instanceof Uint8Array)I=await crypto.subtle.importKey("raw",B,"AES-GCM",!1,["encrypt"]);else dD(B,A,"encrypt"),I=B;let Y=new Uint8Array(await crypto.subtle.encrypt({additionalData:E,iv:C,name:"AES-GCM",tagLength:128},I,Q)),G=Y.slice(-16);return{ciphertext:Y.slice(0,-16),tag:G,iv:C}}var ba=async(A,Q,B,C,E)=>{if(!S4(B)&&!(B instanceof Uint8Array))throw new TypeError(x4(B,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));if(C)xa(A,C);else C=WXQ(A);switch(A){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":if(B instanceof Uint8Array)FR(B,parseInt(A.slice(-3),10));return UCB(A,Q,B,C,E);case"A128GCM":case"A192GCM":case"A256GCM":if(B instanceof Uint8Array)FR(B,parseInt(A.slice(1,4),10));return NCB(A,Q,B,C,E);default:throw new j0("Unsupported JWE Content Encryption Algorithm")}};async function SXQ(A,Q,B,C){let E=A.slice(0,7),I=await ba(E,B,Q,C,new Uint8Array(0));return{encryptedKey:I.ciphertext,iv:_Y(I.iv),tag:_Y(I.tag)}}async function gXQ(A,Q,B,C,E){let I=A.slice(0,7);return ga(I,Q,B,C,E,new Uint8Array(0))}var vXQ=async(A,Q,B,C,E)=>{switch(A){case"dir":{if(B!==void 0)throw new yQ("Encountered unexpected JWE Encrypted Key");return Q}case"ECDH-ES":if(B!==void 0)throw new yQ("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!H2(C.epk))throw new yQ('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(UM(Q),!ya(Q))throw new j0("ECDH with the provided key is not allowed or not supported by your javascript runtime");let I=await t2(C.epk,A);UM(I);let Y,G;if(C.apu!==void 0){if(typeof C.apu!=="string")throw new yQ('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{Y=PY(C.apu)}catch{throw new yQ("Failed to base64url decode the apu")}}if(C.apv!==void 0){if(typeof C.apv!=="string")throw new yQ('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{G=PY(C.apv)}catch{throw new yQ("Failed to base64url decode the apv")}}let J=await va(I,Q,A==="ECDH-ES"?C.enc:A,A==="ECDH-ES"?zv(C.enc):parseInt(A.slice(-5,-2),10),Y,G);if(A==="ECDH-ES")return J;if(B===void 0)throw new yQ("JWE Encrypted Key missing");return $v(A.slice(-6),J,B)}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(B===void 0)throw new yQ("JWE Encrypted Key missing");return UM(Q),jXQ(A,Q,B)}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{if(B===void 0)throw new yQ("JWE Encrypted Key missing");if(typeof C.p2c!=="number")throw new yQ('JOSE Header "p2c" (PBES2 Count) missing or invalid');let I=E?.maxPBES2Count||1e4;if(C.p2c>I)throw new yQ('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if(typeof C.p2s!=="string")throw new yQ('JOSE Header "p2s" (PBES2 Salt) missing or invalid');let Y;try{Y=PY(C.p2s)}catch{throw new yQ("Failed to base64url decode the p2s")}return TXQ(A,Q,B,C.p2c,Y)}case"A128KW":case"A192KW":case"A256KW":{if(B===void 0)throw new yQ("JWE Encrypted Key missing");return $v(A,Q,B)}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{if(B===void 0)throw new yQ("JWE Encrypted Key missing");if(typeof C.iv!=="string")throw new yQ('JOSE Header "iv" (Initialization Vector) missing or invalid');if(typeof C.tag!=="string")throw new yQ('JOSE Header "tag" (Authentication Tag) missing or invalid');let I;try{I=PY(C.iv)}catch{throw new yQ("Failed to base64url decode the iv")}let Y;try{Y=PY(C.tag)}catch{throw new yQ("Failed to base64url decode the tag")}return gXQ(A,Q,B,I,Y)}default:throw new j0('Invalid or unsupported "alg" (JWE Algorithm) header value')}};var iW=(A,Q,B,C,E)=>{if(E.crit!==void 0&&C?.crit===void 0)throw new A('"crit" (Critical) Header Parameter MUST be integrity protected');if(!C||C.crit===void 0)return new Set;if(!Array.isArray(C.crit)||C.crit.length===0||C.crit.some((Y)=>typeof Y!=="string"||Y.length===0))throw new A('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let I;if(B!==void 0)I=new Map([...Object.entries(B),...Q.entries()]);else I=Q;for(let Y of C.crit){if(!I.has(Y))throw new j0(`Extension Header Parameter "${Y}" is not recognized`);if(E[Y]===void 0)throw new A(`Extension Header Parameter "${Y}" is missing`);if(I.get(Y)&&C[Y]===void 0)throw new A(`Extension Header Parameter "${Y}" MUST be integrity protected`)}return new Set(C.crit)};var wv=(A,Q)=>{if(Q!==void 0&&(!Array.isArray(Q)||Q.some((B)=>typeof B!=="string")))throw new TypeError(`"${A}" option must be an array of strings`);if(!Q)return;return new Set(Q)};function Lv(A){return H2(A)&&typeof A.kty==="string"}function yXQ(A){return A.kty!=="oct"&&typeof A.d==="string"}function kXQ(A){return A.kty!=="oct"&&typeof A.d==="undefined"}function bXQ(A){return A.kty==="oct"&&typeof A.k==="string"}var HR,hXQ=async(A,Q,B,C=!1)=>{HR||=new WeakMap;let E=HR.get(A);if(E?.[B])return E[B];let I=await ka({...Q,alg:B});if(C)Object.freeze(A);if(!E)HR.set(A,{[B]:I});else E[B]=I;return I},XCB=(A,Q)=>{HR||=new WeakMap;let B=HR.get(A);if(B?.[Q])return B[Q];let C=A.type==="public",E=C?!0:!1,I;if(A.asymmetricKeyType==="x25519"){switch(Q){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}I=A.toCryptoKey(A.asymmetricKeyType,E,C?[]:["deriveBits"])}if(A.asymmetricKeyType==="ed25519"){if(Q!=="EdDSA"&&Q!=="Ed25519")throw new TypeError("given KeyObject instance cannot be used for this algorithm");I=A.toCryptoKey(A.asymmetricKeyType,E,[C?"verify":"sign"])}if(A.asymmetricKeyType==="rsa"){let Y;switch(Q){case"RSA-OAEP":Y="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":Y="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":Y="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":Y="SHA-512";break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}if(Q.startsWith("RSA-OAEP"))return A.toCryptoKey({name:"RSA-OAEP",hash:Y},E,C?["encrypt"]:["decrypt"]);I=A.toCryptoKey({name:Q.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:Y},E,[C?"verify":"sign"])}if(A.asymmetricKeyType==="ec"){let G=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(A.asymmetricKeyDetails?.namedCurve);if(!G)throw new TypeError("given KeyObject instance cannot be used for this algorithm");if(Q==="ES256"&&G==="P-256")I=A.toCryptoKey({name:"ECDSA",namedCurve:G},E,[C?"verify":"sign"]);if(Q==="ES384"&&G==="P-384")I=A.toCryptoKey({name:"ECDSA",namedCurve:G},E,[C?"verify":"sign"]);if(Q==="ES512"&&G==="P-521")I=A.toCryptoKey({name:"ECDSA",namedCurve:G},E,[C?"verify":"sign"]);if(Q.startsWith("ECDH-ES"))I=A.toCryptoKey({name:"ECDH",namedCurve:G},E,C?[]:["deriveBits"])}if(!I)throw new TypeError("given KeyObject instance cannot be used for this algorithm");if(!B)HR.set(A,{[Q]:I});else B[Q]=I;return I},g4=async(A,Q)=>{if(A instanceof Uint8Array)return A;if(S4(A))return A;if(Vv(A)){if(A.type==="secret")return A.export();if("toCryptoKey"in A&&typeof A.toCryptoKey==="function")try{return XCB(A,Q)}catch(C){if(C instanceof TypeError)throw C}let B=A.export({format:"jwk"});return hXQ(A,B,Q)}if(Lv(A)){if(A.k)return PY(A.k);return hXQ(A,A,Q,!0)}throw new Error("unreachable")};var WR=(A)=>A?.[Symbol.toStringTag],bFA=(A,Q,B)=>{if(Q.use!==void 0){let C;switch(B){case"sign":case"verify":C="sig";break;case"encrypt":case"decrypt":C="enc";break}if(Q.use!==C)throw new TypeError(`Invalid key for this operation, its "use" must be "${C}" when present`)}if(Q.alg!==void 0&&Q.alg!==A)throw new TypeError(`Invalid key for this operation, its "alg" must be "${A}" when present`);if(Array.isArray(Q.key_ops)){let C;switch(!0){case(B==="sign"||B==="verify"):case A==="dir":case A.includes("CBC-HS"):C=B;break;case A.startsWith("PBES2"):C="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(A):if(!A.includes("GCM")&&A.endsWith("KW"))C=B==="encrypt"?"wrapKey":"unwrapKey";else C=B;break;case(B==="encrypt"&&A.startsWith("RSA")):C="wrapKey";break;case B==="decrypt":C=A.startsWith("RSA")?"unwrapKey":"deriveBits";break}if(C&&Q.key_ops?.includes?.(C)===!1)throw new TypeError(`Invalid key for this operation, its "key_ops" must include "${C}" when present`)}return!0},FCB=(A,Q,B)=>{if(Q instanceof Uint8Array)return;if(Lv(Q)){if(bXQ(Q)&&bFA(A,Q,B))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!vFA(Q))throw new TypeError(gFA(A,Q,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if(Q.type!=="secret")throw new TypeError(`${WR(Q)} instances for symmetric algorithms must be of type "secret"`)},HCB=(A,Q,B)=>{if(Lv(Q))switch(B){case"decrypt":case"sign":if(yXQ(Q)&&bFA(A,Q,B))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"encrypt":case"verify":if(kXQ(Q)&&bFA(A,Q,B))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!vFA(Q))throw new TypeError(gFA(A,Q,"CryptoKey","KeyObject","JSON Web Key"));if(Q.type==="secret")throw new TypeError(`${WR(Q)} instances for asymmetric algorithms must not be of type "secret"`);if(Q.type==="public")switch(B){case"sign":throw new TypeError(`${WR(Q)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw new TypeError(`${WR(Q)} instances for asymmetric algorithm decryption must be of type "private"`);default:break}if(Q.type==="private")switch(B){case"verify":throw new TypeError(`${WR(Q)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw new TypeError(`${WR(Q)} instances for asymmetric algorithm encryption must be of type "public"`);default:break}},nW=(A,Q,B)=>{if(A.startsWith("HS")||A==="dir"||A.startsWith("PBES2")||/^A(?:128|192|256)(?:GCM)?(?:KW)?$/.test(A)||/^A(?:128|192|256)CBC-HS(?:256|384|512)$/.test(A))FCB(A,Q,B);else HCB(A,Q,B)};async function mXQ(A,Q,B){if(!H2(A))throw new yQ("Flattened JWE must be an object");if(A.protected===void 0&&A.header===void 0&&A.unprotected===void 0)throw new yQ("JOSE Header missing");if(A.iv!==void 0&&typeof A.iv!=="string")throw new yQ("JWE Initialization Vector incorrect type");if(typeof A.ciphertext!=="string")throw new yQ("JWE Ciphertext missing or incorrect type");if(A.tag!==void 0&&typeof A.tag!=="string")throw new yQ("JWE Authentication Tag incorrect type");if(A.protected!==void 0&&typeof A.protected!=="string")throw new yQ("JWE Protected Header incorrect type");if(A.encrypted_key!==void 0&&typeof A.encrypted_key!=="string")throw new yQ("JWE Encrypted Key incorrect type");if(A.aad!==void 0&&typeof A.aad!=="string")throw new yQ("JWE AAD incorrect type");if(A.header!==void 0&&!H2(A.header))throw new yQ("JWE Shared Unprotected Header incorrect type");if(A.unprotected!==void 0&&!H2(A.unprotected))throw new yQ("JWE Per-Recipient Unprotected Header incorrect type");let C;if(A.protected)try{let O=PY(A.protected);C=JSON.parse(JJ.decode(O))}catch{throw new yQ("JWE Protected Header is invalid")}if(!cW(C,A.header,A.unprotected))throw new yQ("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let E={...C,...A.header,...A.unprotected};if(iW(yQ,new Map,B?.crit,C,E),E.zip!==void 0)throw new j0('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:I,enc:Y}=E;if(typeof I!=="string"||!I)throw new yQ("missing JWE Algorithm (alg) in JWE Header");if(typeof Y!=="string"||!Y)throw new yQ("missing JWE Encryption Algorithm (enc) in JWE Header");let G=B&&wv("keyManagementAlgorithms",B.keyManagementAlgorithms),J=B&&wv("contentEncryptionAlgorithms",B.contentEncryptionAlgorithms);if(G&&!G.has(I)||!G&&I.startsWith("PBES2"))throw new XR('"alg" (Algorithm) Header Parameter value not allowed');if(J&&!J.has(Y))throw new XR('"enc" (Encryption Algorithm) Header Parameter value not allowed');let D;if(A.encrypted_key!==void 0)try{D=PY(A.encrypted_key)}catch{throw new yQ("Failed to base64url decode the encrypted_key")}let U=!1;if(typeof Q==="function")Q=await Q(C,A),U=!0;nW(I==="dir"?Y:I,Q,"decrypt");let N=await g4(Q,I),Z;try{Z=await vXQ(I,N,D,E,B)}catch(O){if(O instanceof TypeError||O instanceof yQ||O instanceof j0)throw O;Z=lW(Y)}let X,W;if(A.iv!==void 0)try{X=PY(A.iv)}catch{throw new yQ("Failed to base64url decode the iv")}if(A.tag!==void 0)try{W=PY(A.tag)}catch{throw new yQ("Failed to base64url decode the tag")}let K=vE.encode(A.protected??""),V;if(A.aad!==void 0)V=DJ(K,vE.encode("."),vE.encode(A.aad));else V=K;let M;try{M=PY(A.ciphertext)}catch{throw new yQ("Failed to base64url decode the ciphertext")}let L={plaintext:await ga(Y,Z,M,X,W,V)};if(A.protected!==void 0)L.protectedHeader=C;if(A.aad!==void 0)try{L.additionalAuthenticatedData=PY(A.aad)}catch{throw new yQ("Failed to base64url decode the aad")}if(A.unprotected!==void 0)L.sharedUnprotectedHeader=A.unprotected;if(A.header!==void 0)L.unprotectedHeader=A.header;if(U)return{...L,key:N};return L}async function hFA(A,Q,B){if(A instanceof Uint8Array)A=JJ.decode(A);if(typeof A!=="string")throw new yQ("Compact JWE must be a string or Uint8Array");let{0:C,1:E,2:I,3:Y,4:G,length:J}=A.split(".");if(J!==5)throw new yQ("Invalid Compact JWE");let D=await mXQ({ciphertext:Y,iv:I||void 0,protected:C,tag:G||void 0,encrypted_key:E||void 0},Q,B),U={plaintext:D.plaintext,protectedHeader:D.protectedHeader};if(typeof Q==="function")return{...U,key:D.key};return U}var fXQ=Symbol();async function mFA(A){if(Vv(A))if(A.type==="secret")A=A.export();else return A.export({format:"jwk"});if(A instanceof Uint8Array)return{kty:"oct",k:_Y(A)};if(!S4(A))throw new TypeError(x4(A,"CryptoKey","KeyObject","Uint8Array"));if(!A.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:Q,key_ops:B,alg:C,use:E,...I}=await crypto.subtle.exportKey("jwk",A);return I}async function _6(A){return mFA(A)}var dXQ=async(A,Q,B,C,E={})=>{let I,Y,G;switch(A){case"dir":{G=B;break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(UM(B),!ya(B))throw new j0("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:J,apv:D}=E,U;if(E.epk)U=await g4(E.epk,A);else U=(await crypto.subtle.generateKey(B.algorithm,!0,["deriveBits"])).privateKey;let{x:N,y:Z,crv:X,kty:W}=await _6(U),K=await va(B,U,A==="ECDH-ES"?Q:A,A==="ECDH-ES"?zv(Q):parseInt(A.slice(-5,-2),10),J,D);if(Y={epk:{x:N,crv:X,kty:W}},W==="EC")Y.epk.y=Z;if(J)Y.apu=_Y(J);if(D)Y.apv=_Y(D);if(A==="ECDH-ES"){G=K;break}G=C||lW(Q);let V=A.slice(-6);I=await Mv(V,K,G);break}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{G=C||lW(Q),UM(B),I=await _XQ(A,B,G);break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{G=C||lW(Q);let{p2c:J,p2s:D}=E;({encryptedKey:I,...Y}=await RXQ(A,B,G,J,D));break}case"A128KW":case"A192KW":case"A256KW":{G=C||lW(Q),I=await Mv(A,B,G);break}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{G=C||lW(Q);let{iv:J}=E;({encryptedKey:I,...Y}=await SXQ(A,B,G,J));break}default:throw new j0('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:G,encryptedKey:I,parameters:Y}};class fFA{#A;#Q;#B;#C;#I;#E;#J;#Y;constructor(A){if(!(A instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this.#A=A}setKeyManagementParameters(A){if(this.#Y)throw new TypeError("setKeyManagementParameters can only be called once");return this.#Y=A,this}setProtectedHeader(A){if(this.#Q)throw new TypeError("setProtectedHeader can only be called once");return this.#Q=A,this}setSharedUnprotectedHeader(A){if(this.#B)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this.#B=A,this}setUnprotectedHeader(A){if(this.#C)throw new TypeError("setUnprotectedHeader can only be called once");return this.#C=A,this}setAdditionalAuthenticatedData(A){return this.#I=A,this}setContentEncryptionKey(A){if(this.#E)throw new TypeError("setContentEncryptionKey can only be called once");return this.#E=A,this}setInitializationVector(A){if(this.#J)throw new TypeError("setInitializationVector can only be called once");return this.#J=A,this}async encrypt(A,Q){if(!this.#Q&&!this.#C&&!this.#B)throw new yQ("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!cW(this.#Q,this.#C,this.#B))throw new yQ("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let B={...this.#Q,...this.#C,...this.#B};if(iW(yQ,new Map,Q?.crit,this.#Q,B),B.zip!==void 0)throw new j0('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:C,enc:E}=B;if(typeof C!=="string"||!C)throw new yQ('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(typeof E!=="string"||!E)throw new yQ('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let I;if(this.#E&&(C==="dir"||C==="ECDH-ES"))throw new TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${C}`);nW(C==="dir"?E:C,A,"encrypt");let Y;{let W,K=await g4(A,C);if({cek:Y,encryptedKey:I,parameters:W}=await dXQ(C,E,K,this.#E,this.#Y),W)if(Q&&fXQ in Q)if(!this.#C)this.setUnprotectedHeader(W);else this.#C={...this.#C,...W};else if(!this.#Q)this.setProtectedHeader(W);else this.#Q={...this.#Q,...W}}let G,J,D;if(this.#Q)J=vE.encode(_Y(JSON.stringify(this.#Q)));else J=vE.encode("");if(this.#I)D=_Y(this.#I),G=DJ(J,vE.encode("."),vE.encode(D));else G=J;let{ciphertext:U,tag:N,iv:Z}=await ba(E,this.#A,Y,this.#J,G),X={ciphertext:_Y(U)};if(Z)X.iv=_Y(Z);if(N)X.tag=_Y(N);if(I)X.encrypted_key=_Y(I);if(D)X.aad=D;if(this.#Q)X.protected=JJ.decode(J);if(this.#B)X.unprotected=this.#B;if(this.#C)X.header=this.#C;return X}}var ha=(A,Q)=>{let B=`SHA-${A.slice(-3)}`;switch(A){case"HS256":case"HS384":case"HS512":return{hash:B,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:B,name:"RSA-PSS",saltLength:parseInt(A.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:B,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:B,name:"ECDSA",namedCurve:Q.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};default:throw new j0(`alg ${A} is not supported either by JOSE or your javascript runtime`)}};var ma=async(A,Q,B)=>{if(Q instanceof Uint8Array){if(!A.startsWith("HS"))throw new TypeError(x4(Q,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",Q,{hash:`SHA-${A.slice(-3)}`,name:"HMAC"},!1,[B])}return VXQ(Q,A,B),Q};var uXQ=async(A,Q,B,C)=>{let E=await ma(A,Q,"verify");NM(A,E);let I=ha(A,E.algorithm);try{return await crypto.subtle.verify(I,E,B,C)}catch{return!1}};async function pXQ(A,Q,B){if(!H2(A))throw new yE("Flattened JWS must be an object");if(A.protected===void 0&&A.header===void 0)throw new yE('Flattened JWS must have either of the "protected" or "header" members');if(A.protected!==void 0&&typeof A.protected!=="string")throw new yE("JWS Protected Header incorrect type");if(A.payload===void 0)throw new yE("JWS Payload missing");if(typeof A.signature!=="string")throw new yE("JWS Signature missing or incorrect type");if(A.header!==void 0&&!H2(A.header))throw new yE("JWS Unprotected Header incorrect type");let C={};if(A.protected)try{let V=PY(A.protected);C=JSON.parse(JJ.decode(V))}catch{throw new yE("JWS Protected Header is invalid")}if(!cW(C,A.header))throw new yE("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let E={...C,...A.header},I=iW(yE,new Map([["b64",!0]]),B?.crit,C,E),Y=!0;if(I.has("b64")){if(Y=C.b64,typeof Y!=="boolean")throw new yE('The "b64" (base64url-encode payload) Header Parameter must be a boolean')}let{alg:G}=E;if(typeof G!=="string"||!G)throw new yE('JWS "alg" (Algorithm) Header Parameter missing or invalid');let J=B&&wv("algorithms",B.algorithms);if(J&&!J.has(G))throw new XR('"alg" (Algorithm) Header Parameter value not allowed');if(Y){if(typeof A.payload!=="string")throw new yE("JWS Payload must be a string")}else if(typeof A.payload!=="string"&&!(A.payload instanceof Uint8Array))throw new yE("JWS Payload must be a string or an Uint8Array instance");let D=!1;if(typeof Q==="function")Q=await Q(C,A),D=!0;nW(G,Q,"verify");let U=DJ(vE.encode(A.protected??""),vE.encode("."),typeof A.payload==="string"?vE.encode(A.payload):A.payload),N;try{N=PY(A.signature)}catch{throw new yE("Failed to base64url decode the signature")}let Z=await g4(Q,G);if(!await uXQ(G,Z,N,U))throw new xFA;let W;if(Y)try{W=PY(A.payload)}catch{throw new yE("Failed to base64url decode the payload")}else if(typeof A.payload==="string")W=vE.encode(A.payload);else W=A.payload;let K={payload:W};if(A.protected!==void 0)K.protectedHeader=C;if(A.header!==void 0)K.unprotectedHeader=A.header;if(D)return{...K,key:Z};return K}async function cXQ(A,Q,B){if(A instanceof Uint8Array)A=JJ.decode(A);if(typeof A!=="string")throw new yE("Compact JWS must be a string or Uint8Array");let{0:C,1:E,2:I,length:Y}=A.split(".");if(Y!==3)throw new yE("Invalid Compact JWS");let G=await pXQ({payload:E,protected:C,signature:I},Q,B),J={payload:G.payload,protectedHeader:G.protectedHeader};if(typeof Q==="function")return{...J,key:G.key};return J}var j6=(A)=>Math.floor(A.getTime()/1000);var WCB=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,KR=(A)=>{let Q=WCB.exec(A);if(!Q||Q[4]&&Q[1])throw new TypeError("Invalid time period format");let B=parseFloat(Q[2]),C=Q[3].toLowerCase(),E;switch(C){case"sec":case"secs":case"second":case"seconds":case"s":E=Math.round(B);break;case"minute":case"minutes":case"min":case"mins":case"m":E=Math.round(B*60);break;case"hour":case"hours":case"hr":case"hrs":case"h":E=Math.round(B*3600);break;case"day":case"days":case"d":E=Math.round(B*86400);break;case"week":case"weeks":case"w":E=Math.round(B*604800);break;default:E=Math.round(B*31557600);break}if(Q[1]==="-"||Q[4]==="ago")return-E;return E};function ZM(A,Q){if(!Number.isFinite(Q))throw new TypeError(`Invalid ${A} input`);return Q}var lXQ=(A)=>{if(A.includes("/"))return A.toLowerCase();return`application/${A.toLowerCase()}`},KCB=(A,Q)=>{if(typeof A==="string")return Q.includes(A);if(Array.isArray(A))return Q.some(Set.prototype.has.bind(new Set(A)));return!1};function iXQ(A,Q,B={}){let C;try{C=JSON.parse(JJ.decode(Q))}catch{}if(!H2(C))throw new Kv("JWT Claims Set must be a top-level JSON object");let{typ:E}=B;if(E&&(typeof A.typ!=="string"||lXQ(A.typ)!==lXQ(E)))throw new pZ('unexpected "typ" JWT header value',C,"typ","check_failed");let{requiredClaims:I=[],issuer:Y,subject:G,audience:J,maxTokenAge:D}=B,U=[...I];if(D!==void 0)U.push("iat");if(J!==void 0)U.push("aud");if(G!==void 0)U.push("sub");if(Y!==void 0)U.push("iss");for(let W of new Set(U.reverse()))if(!(W in C))throw new pZ(`missing required "${W}" claim`,C,W,"missing");if(Y&&!(Array.isArray(Y)?Y:[Y]).includes(C.iss))throw new pZ('unexpected "iss" claim value',C,"iss","check_failed");if(G&&C.sub!==G)throw new pZ('unexpected "sub" claim value',C,"sub","check_failed");if(J&&!KCB(C.aud,typeof J==="string"?[J]:J))throw new pZ('unexpected "aud" claim value',C,"aud","check_failed");let N;switch(typeof B.clockTolerance){case"string":N=KR(B.clockTolerance);break;case"number":N=B.clockTolerance;break;case"undefined":N=0;break;default:throw new TypeError("Invalid clockTolerance option type")}let{currentDate:Z}=B,X=j6(Z||new Date);if((C.iat!==void 0||D)&&typeof C.iat!=="number")throw new pZ('"iat" claim must be a number',C,"iat","invalid");if(C.nbf!==void 0){if(typeof C.nbf!=="number")throw new pZ('"nbf" claim must be a number',C,"nbf","invalid");if(C.nbf>X+N)throw new pZ('"nbf" claim timestamp check failed',C,"nbf","check_failed")}if(C.exp!==void 0){if(typeof C.exp!=="number")throw new pZ('"exp" claim must be a number',C,"exp","invalid");if(C.exp<=X-N)throw new ja('"exp" claim timestamp check failed',C,"exp","check_failed")}if(D){let W=X-C.iat,K=typeof D==="number"?D:KR(D);if(W-N>K)throw new ja('"iat" claim timestamp check failed (too far in the past)',C,"iat","check_failed");if(W<0-N)throw new pZ('"iat" claim timestamp check failed (it should be in the past)',C,"iat","check_failed")}return C}class VCB{#A;constructor(A){if(!H2(A))throw new TypeError("JWT Claims Set MUST be an object");this.#A=structuredClone(A)}data(){return vE.encode(JSON.stringify(this.#A))}get iss(){return this.#A.iss}set iss(A){this.#A.iss=A}get sub(){return this.#A.sub}set sub(A){this.#A.sub=A}get aud(){return this.#A.aud}set aud(A){this.#A.aud=A}set jti(A){this.#A.jti=A}set nbf(A){if(typeof A==="number")this.#A.nbf=ZM("setNotBefore",A);else if(A instanceof Date)this.#A.nbf=ZM("setNotBefore",j6(A));else this.#A.nbf=j6(new Date)+KR(A)}set exp(A){if(typeof A==="number")this.#A.exp=ZM("setExpirationTime",A);else if(A instanceof Date)this.#A.exp=ZM("setExpirationTime",j6(A));else this.#A.exp=j6(new Date)+KR(A)}set iat(A){if(typeof A==="undefined")this.#A.iat=j6(new Date);else if(A instanceof Date)this.#A.iat=ZM("setIssuedAt",j6(A));else if(typeof A==="string")this.#A.iat=ZM("setIssuedAt",j6(new Date)+KR(A));else this.#A.iat=ZM("setIssuedAt",A)}}async function dFA(A,Q,B){let C=await cXQ(A,Q,B);if(C.protectedHeader.crit?.includes("b64")&&C.protectedHeader.b64===!1)throw new Kv("JWTs MUST NOT use unencoded payload");let I={payload:iXQ(C.protectedHeader,C.payload,B),protectedHeader:C.protectedHeader};if(typeof Q==="function")return{...I,key:C.key};return I}class fa{#A;constructor(A){this.#A=new fFA(A)}setContentEncryptionKey(A){return this.#A.setContentEncryptionKey(A),this}setInitializationVector(A){return this.#A.setInitializationVector(A),this}setProtectedHeader(A){return this.#A.setProtectedHeader(A),this}setKeyManagementParameters(A){return this.#A.setKeyManagementParameters(A),this}async encrypt(A,Q){let B=await this.#A.encrypt(A,Q);return[B.protected,B.encrypted_key,B.iv,B.ciphertext,B.tag].join(".")}}var nXQ=async(A,Q,B)=>{let C=await ma(A,Q,"sign");NM(A,C);let E=await crypto.subtle.sign(ha(A,C.algorithm),C,B);return new Uint8Array(E)};class uFA{#A;#Q;#B;constructor(A){if(!(A instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this.#A=A}setProtectedHeader(A){if(this.#Q)throw new TypeError("setProtectedHeader can only be called once");return this.#Q=A,this}setUnprotectedHeader(A){if(this.#B)throw new TypeError("setUnprotectedHeader can only be called once");return this.#B=A,this}async sign(A,Q){if(!this.#Q&&!this.#B)throw new yE("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!cW(this.#Q,this.#B))throw new yE("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let B={...this.#Q,...this.#B},C=iW(yE,new Map([["b64",!0]]),Q?.crit,this.#Q,B),E=!0;if(C.has("b64")){if(E=this.#Q.b64,typeof E!=="boolean")throw new yE('The "b64" (base64url-encode payload) Header Parameter must be a boolean')}let{alg:I}=B;if(typeof I!=="string"||!I)throw new yE('JWS "alg" (Algorithm) Header Parameter missing or invalid');nW(I,A,"sign");let Y=this.#A;if(E)Y=vE.encode(_Y(Y));let G;if(this.#Q)G=vE.encode(_Y(JSON.stringify(this.#Q)));else G=vE.encode("");let J=DJ(G,vE.encode("."),Y),D=await g4(A,I),U=await nXQ(I,D,J),N={signature:_Y(U),payload:""};if(E)N.payload=JJ.decode(Y);if(this.#B)N.header=this.#B;if(this.#Q)N.protected=JJ.decode(G);return N}}class da{#A;constructor(A){this.#A=new uFA(A)}setProtectedHeader(A){return this.#A.setProtectedHeader(A),this}async sign(A,Q){let B=await this.#A.sign(A,Q);if(B.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${B.protected}.${B.payload}.${B.signature}`}}function pFA(A){let Q=A?.modulusLength??2048;if(typeof Q!=="number"||Q<2048)throw new j0("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return Q}async function Ov(A,Q){let B,C;switch(A){case"PS256":case"PS384":case"PS512":B={name:"RSA-PSS",hash:`SHA-${A.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:pFA(Q)},C=["sign","verify"];break;case"RS256":case"RS384":case"RS512":B={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${A.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:pFA(Q)},C=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":B={name:"RSA-OAEP",hash:`SHA-${parseInt(A.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:pFA(Q)},C=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":B={name:"ECDSA",namedCurve:"P-256"},C=["sign","verify"];break;case"ES384":B={name:"ECDSA",namedCurve:"P-384"},C=["sign","verify"];break;case"ES512":B={name:"ECDSA",namedCurve:"P-521"},C=["sign","verify"];break;case"Ed25519":case"EdDSA":{C=["sign","verify"],B={name:"Ed25519"};break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{C=["deriveBits"];let E=Q?.crv??"P-256";switch(E){case"P-256":case"P-384":case"P-521":{B={name:"ECDH",namedCurve:E};break}case"X25519":B={name:"X25519"};break;default:throw new j0("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, and X25519")}break}default:throw new j0('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return crypto.subtle.generateKey(B,Q?.extractable??!1,C)}var T9="RSA-OAEP-512",rXQ="A256GCM";async function aXQ(A,Q){let B=await t2(A,T9);return new fa(new TextEncoder().encode(Q)).setProtectedHeader({alg:T9,enc:rXQ}).encrypt(B)}class Rv extends _B{cause;_tag="EncryptError";constructor(A){super(`failed encrypt contents: ${A}`);this.cause=A}}function sXQ(){return async function A(Q){try{let B=await aXQ(Q.publicJwk,Q.contents);return V0(B)}catch(B){return GQ(new Rv(B))}}}async function tXQ(A,Q){let B=await t2(A,T9),C=await hFA(Q,B);return new TextDecoder().decode(C.plaintext)}class Tv extends _B{cause;_tag="DecryptError";constructor(A){super(`failed decrypt contents: ${A}`);this.cause=A}}function eXQ(){return async function A(Q){try{let B=await tXQ(Q.privateJwk,Q.encryptedContents);return V0(B)}catch(B){return GQ(new Tv(B))}}}async function A4Q(){let{privateKey:A,publicKey:Q}=await Ov(T9,{extractable:!0,modulusLength:4096});return{privateKey:A,publicKey:Q}}function Q4Q(){return{serialize:async function A(Q){let[B,C]=await Promise.all([_6(Q.privateKey),_6(Q.publicKey)]);return{privateKey:B,publicKey:C}},deserialize:async function A(Q){let[B,C]=await Promise.all([t2(Q.privateKey,T9),t2(Q.publicKey,T9)]);return{privateKey:B,publicKey:C}},deserializeSingleKey:async function A(Q){return await t2(Q,T9)}}}class B4Q extends _B{cause;_tag="CreateEncryptionKeypairError";constructor(A){super(`failed to create encryption keypair: ${A}`);this.cause=A}}function C4Q(){return async function A(){try{let Q=await A4Q(),B=Q4Q(),{privateKey:C,publicKey:E}=await B.serialize(Q);return V0({privateKey:C,publicKey:E})}catch(Q){return GQ(new B4Q(Q))}}}class E4Q extends _B{cause;_tag="VerifySignedJwtError";constructor(A){super(`failed to verify a signed JWT: ${A}`);this.cause=A}}function I4Q(){return async function A(Q){try{let{payload:B}=await dFA(Q.jwt,Q.publicJwk);return V0(B)}catch(B){return GQ(new E4Q(B))}}}function ua(){return{createKeypair:C4Q(),verifySignedJwt:I4Q(),encrypt:sXQ(),decrypt:eXQ()}}function cFA(A){if(A===null||typeof A!=="object")return A;if(Array.isArray(A))return A.map((C)=>cFA(C));let Q=Object.keys(A).sort(),B={};for(let C of Q)B[C]=cFA(A[C]);return B}async function MCB(A){let Q=cFA(A),B=JSON.stringify(Q),E=new TextEncoder().encode(B),I=await crypto.subtle.digest("SHA-256",E),Y=new Uint8Array(I);return Array.from(Y).map((J)=>J.toString(16).padStart(2,"0")).join("")}async function Y4Q(A){return await MCB(A)}var wK=wN(a1Q(),1);async function s1Q(){let[A,Q,B,C,E,I,Y]=await Promise.all([wK.default.system(),wK.default.bios(),wK.default.baseboard(),wK.default.cpu(),wK.default.mem(),wK.default.osInfo(),wK.default.blockDevices()]);return{manufacturer:A.manufacturer,model:A.model,serial:A.serial,uuid:A.uuid,version:A.version,bios:{vendor:Q.vendor,version:Q.version},mainboard:{assetTag:B.assetTag,manufacturer:B.manufacturer,model:B.model,serial:B.serial,version:B.version},cpu:{brand:C.brand,cores:C.cores,flags:C.flags,manufacturer:C.manufacturer,model:C.model,vendor:C.vendor},memory:{total:E.total},os:{arch:I.arch,platform:I.platform}}}class t1Q extends _B{cause;_tag="GatherDeviceInformationError";constructor(A){super(`failed to gather information about the device: ${A}`);this.cause=A}}function e1Q(){return async function A(){try{let Q=await s1Q(),C={fingerprint:await Y4Q(Q),hardware:Q};return V0(C)}catch(Q){return GQ(new t1Q(Q))}}}class A5Q extends _B{_tag="Base64EncodingError"}class Q5Q extends _B{_tag="Base64DecodingError"}function Ls(A){try{let B=new TextEncoder().encode(A),E=XUB(B).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return V0(E)}catch(Q){return GQ(new A5Q(`failed to encode base64: ${Q}`))}}function gHA(A){try{let Q=A.replace(/-/g,"+").replace(/_/g,"/"),B=Q.length%4;if(B>0)Q+="=".repeat(4-B);let C=FUB(Q),I=new TextDecoder().decode(C);return V0(I)}catch(Q){return GQ(new Q5Q(`failed decode base64: ${Q}`))}}function XUB(A){let B="",C;for(C=0;C<A.length;C+=3){let E=A[C]<<16|(C+1<A.length?A[C+1]<<8:0)|(C+2<A.length?A[C+2]:0);B+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[E>>18&63],B+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[E>>12&63],B+=C+1<A.length?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[E>>6&63]:"=",B+=C+2<A.length?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[E&63]:"="}return B}function FUB(A){let B=A.replace(/[^A-Za-z0-9\+\/=]/g,""),C=B.length*3/4-(B.endsWith("==")?2:B.endsWith("=")?1:0),E=new Uint8Array(C),I=0,Y,G;for(Y=0,G=0;Y<B.length;Y+=4){let J="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(B[Y]),D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(B[Y+1]),U="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(B[Y+2]),N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(B[Y+3]),Z=J<<18|D<<12|(U&63)<<6|N&63;if(G<E.length)E[G++]=Z>>16&255;if(G<E.length)E[G++]=Z>>8&255;if(G<E.length)E[G++]=Z&255}return E}class vHA extends _B{_tag="JsonEncodingError"}function b6(A){try{return V0(JSON.stringify(A))}catch(Q){return GQ(new vHA(`failed to encode to JSON: ${Q}`))}}function LK(A){try{return V0(JSON.parse(A))}catch(Q){return GQ(new vHA(`failed to decode to JSON: ${Q}`))}}class yR extends _B{_tag="DecodeDeviceRegistrationManifestError"}class vR extends _B{_tag="EncodeDeviceRegistrationManifestError"}var C5Q=".";function Os(A){let Q=b6(A.encryption.keypair);if(ZB(Q))return GQ(new vR(`failed to encode the device registration manifest: ${Q.error}`));let B=Ls(Q.value);if(ZB(B))return GQ(new vR(`failed to encode the device registration manifest: ${B.error}`));let C=b6(A.signing.keypair);if(ZB(C))return GQ(new vR(`failed to encode the device registration manifest: ${C.error}`));let E=Ls(C.value);if(ZB(E))return GQ(new vR(`failed to encode the device registration manifest: ${E.error}`));let I=Ls(A.registration);if(ZB(I))return GQ(new vR(`failed to encode the device registration manifest: ${I.error}`));let Y=xB(B),G=xB(E),J=xB(I),D=[Y,G,J].join(C5Q);return V0(D)}function B5Q(A){let Q=gHA(A);if(ZB(Q))return GQ(new yR("failed to decode the device registration manifest, because it is malformed."));let B=xB(Q),C=LK(B);if(ZB(C))return GQ(new yR("failed to decode the device registration manifest, because it is malformed."));return C}function h4(A){let Q=A.split(C5Q);if(Q.length!==3)return GQ(new yR("failed to decode the device registration manifest, because it is malformed."));let[B,C,E]=Q;if(!B||!C||!E)return GQ(new yR("failed to decode the device registration manifest, because it is malformed."));let I=B5Q(B),Y=B5Q(C),G=gHA(E);if(ZB(I)||ZB(Y)||ZB(G))return GQ(new yR("failed to decode the device registration manifest, because it is malformed."));let J=xB(I),D=xB(Y),U=xB(G);return V0({_tag:"DeviceRegistrationManifest",encryption:{keypair:J},signing:{keypair:D},registration:U})}class ev extends _B{cause;_tag="GetLicenseError";constructor(A){super(`failed to get license: ${A}`);this.cause=A}}function E5Q(){return async function A(Q){let B=ua(),C=h4(Q);if(ZB(C))return GQ(new ev(C.error));let E=xB(C),I=await B.decrypt({privateJwk:E.encryption.keypair.privateKey,encryptedContents:E.registration});if(ZB(I))return GQ(new ev(I.error));let Y=xB(I),G=LK(Y);if(ZB(G))return GQ(new ev(G.error));let{license:J,signing:D}=xB(G),U=await B.verifySignedJwt({jwt:J.jwt,publicJwk:D.publicKey});if(ZB(U))return GQ(new ev(U.error));let N=xB(U);return V0({id:N.azp,supporter:{id:N.sub,name:N.name,avatarUrl:N["generous.builders:supporter-avatar-url"]},flags:N["generous.builders:flags"]})}}function I5Q(){return{gather:e1Q(),getLicense:E5Q()}}class Ay extends _B{cause;_tag="DeregisterDeviceClientError";constructor(A){super("failed to deregister a device, because the client had a problem communicating with the Generous platform failed.");this.cause=A}}class yHA extends _B{cause;_tag="DeregisterDevicePlatformError";constructor(A){super("failed to deregister a device, because the Generous platform had a problem while processing the request.");this.cause=A}}class kHA extends _B{_tag="DeviceIsAlreadyDeregisteredError"}function Y5Q(A){return async function Q(B){let{httpAdapter:C}=A.infrastructure,E=b6(B);if(ZB(E))return GQ(new Ay(`failed to encode the DTO: ${E.error}`));let I=await C.request("/licensing/devices",{method:"DELETE",body:xB(E)});if(ZB(I))return GQ(new Ay(I.error));let Y=xB(I),G=await C.parseResponseBody(Y);if(ZB(G))return GQ(new Ay(G.error));let{body:J,status:D}=xB(G);if(D!==200){let N=J,Z=N.type,X=N.message;switch(D){case 410:return GQ(new kHA(X));default:return GQ(new yHA(X))}}return V0(J.success)}}class S9 extends _B{_tag="DeviceRegistrationError"}class bHA extends _B{_tag="DeviceExpiredError"}class hHA extends _B{_tag="DeviceDeregisteredError"}class Qy extends _B{cause;_tag="EnsureDeviceClientError";constructor(A){super("failed to ensure that a device is valid, because the client had a problem communicating with the Generous platform failed.");this.cause=A}}class mHA extends _B{cause;_tag="EnsureDevicePlatformError";constructor(A){super("failed to ensure that a device is valid, because the Generous platform had a problem while processing the request.");this.cause=A}}function G5Q(A){return async function Q(B){let{httpAdapter:C}=A.infrastructure,E=b6(B);if(ZB(E))return GQ(new Qy(`failed to encode the DTO: ${E.error}`));let I=await C.request(`/licensing/devices/${B.device.id}/verifications`,{method:"PUT",body:xB(E)});if(ZB(I))return GQ(new Qy(I.error));let Y=xB(I),G=await C.parseResponseBody(Y);if(ZB(G))return GQ(new Qy(G.error));let{body:J,status:D}=xB(G);if(D!==201){let Z=J.message;switch(D){case 400:return GQ(new S9(Z));case 403:return GQ(new bHA(Z));case 410:return GQ(new hHA(Z));default:return GQ(new mHA(Z))}}let{registration:U}=J;return V0(U)}}class By extends _B{cause;_tag="RegisterDeviceClientError";constructor(A){super("failed to register a device, because the client had a problem communicating with the Generous platform failed.");this.cause=A}}class fHA extends _B{cause;_tag="RegisterDevicePlatformError";constructor(A){super("failed to register a device, because the Generous platform had a problem while processing the request.");this.cause=A}}class dHA extends _B{_tag="DeviceQuotaExceededError"}class Rs extends _B{_tag="InvalidDeviceRegistrationCodeError"}class uHA extends _B{_tag="InvalidDeviceRegistrationWindowError"}class pHA extends _B{_tag="DeviceAlreadyRegisteredError"}class cHA extends _B{_tag="DeviceRegistrationEligibilityError"}function J5Q(A){return async function Q(B){let{httpAdapter:C}=A.infrastructure;if(/^\s*$/.test(B.code))return GQ(new Rs("Device registration code can't be empty."));let I=b6(B);if(ZB(I))return GQ(new By(`failed to encode the DTO: ${I.error}`));let Y=await C.request("/licensing/devices",{method:"POST",body:xB(I)});if(ZB(Y))return GQ(new By(Y.error));let G=xB(Y),J=await C.parseResponseBody(G);if(ZB(J))return GQ(new By(J.error));let{body:D,status:U}=xB(J);if(U!==201){let Z=D,X=Z.type,W=Z.message;switch(U){case 429:return GQ(new dHA(W));case 409:return GQ(new pHA(W));case 403:return GQ(new cHA(W));case 400:return GQ(X==="InvalidDeviceRegistrationCodeError"?new Rs(W):new uHA(W));default:return GQ(new fHA(W))}}let{registration:N}=D;return V0(N)}}function D5Q(A){return{registerDevice:J5Q(A),ensureDevice:G5Q(A),deregisterDevice:Y5Q(A)}}function U5Q(A){return{licensing:D5Q(A)}}var OK="EdDSA",N5Q="Ed25519";function Ts(){return{serialize:async function A(Q){let[B,C]=await Promise.all([_6(Q.privateKey),_6(Q.publicKey)]);return{privateKey:B,publicKey:C}},deserialize:async function A(Q){let[B,C]=await Promise.all([t2(Q.privateKey,OK),t2(Q.publicKey,OK)]);return{privateKey:B,publicKey:C}},deserializeSingleKey:async function A(Q){return await t2(Q,OK)}}}async function Z5Q(){let{privateKey:A,publicKey:Q}=await Ov(OK,{extractable:!0,crv:N5Q});return{privateKey:A,publicKey:Q}}class X5Q extends _B{cause;_tag="CreateSigningKeypairError";constructor(A){super(`failed to create signing keypair: ${A}`);this.cause=A}}function F5Q(){return async function A(){try{let{privateKey:Q,publicKey:B}=await Z5Q(),E=await Ts().serialize({privateKey:Q,publicKey:B});return V0(E)}catch(Q){return GQ(new X5Q(Q))}}}class H5Q extends _B{cause;_tag="SigningError";constructor(A){super(`failed to sign data: ${A}`);this.cause=A}}function W5Q(){return async function A(Q,B){try{let C=new TextEncoder().encode(typeof B==="object"?JSON.stringify(B):B),I=await Ts().deserializeSingleKey(Q),Y=await new da(C).setProtectedHeader({alg:OK,typ:"JWT"}).sign(I);return V0(Y)}catch(C){return GQ(new H5Q(C))}}}function K5Q(){return{createKeypair:F5Q(),sign:W5Q()}}function V5Q(A){return{crypto:ua(),device:I5Q(),signing:K5Q(),platform:U5Q(A)}}function M5Q(A){return async function Q(B){let{services:C}=A.deps,E=h4(B.manifest);if(ZB(E))return GQ(new Tv("Unable to decrypt contents, because the given registration manifest is malformed"));let I=xB(E);return await C.crypto.decrypt({privateJwk:I.encryption.keypair.privateKey,encryptedContents:B.encryptedContents})}}function $5Q(A){return async function Q(B){let{services:C}=A.deps,E=h4(B.manifest);if(ZB(E))return GQ(new Rv("Unable to encrypt contents, because the given registration manifest is malformed"));let I=xB(E);return await C.crypto.encrypt({publicJwk:I.encryption.keypair.publicKey,contents:B.contents})}}function z5Q(A){return{encrypt:$5Q(A),decrypt:M5Q(A)}}function w5Q(A){return async function Q(B){let{deps:{services:C}}=A,E=h4(B.manifest);if(ZB(E))return GQ(new S9("Unable to ensure the device integrity, because the given registration manifest is malformed"));let I=await C.device.gather();if(ZB(I))return I;let Y=xB(I),G=xB(E),J=await C.crypto.decrypt({privateJwk:G.encryption.keypair.privateKey,encryptedContents:G.registration});if(ZB(J))return GQ(new S9("Unable to ensure the device integrity, because the given registration manifest is malformed"));let D=xB(J),U=LK(D);if(ZB(U))return GQ(new S9("Unable to ensure the device integrity, because the given registration manifest is malformed"));let N=xB(U),Z=await C.platform.licensing.deregisterDevice({device:{id:N.device.id,fingerprint:Y.fingerprint}});if(ZB(Z))return Z;return V0(Z.value)}}function L5Q(A){return async function Q(B){let{deps:{services:C}}=A,E=h4(B.manifest);if(ZB(E))return GQ(new S9("Unable to ensure the device integrity, because the given registration manifest is malformed"));let I=xB(E),Y=await C.device.gather();if(ZB(Y))return Y;let G=xB(Y),J=await C.crypto.decrypt({privateJwk:I.encryption.keypair.privateKey,encryptedContents:I.registration});if(ZB(J))return GQ(new S9("Unable to ensure the device integrity, because the given registration manifest is malformed"));let D=xB(J),U=LK(D);if(ZB(U))return GQ(new S9("Unable to ensure the device integrity, because the given registration manifest is malformed"));let N=xB(U),Z=await C.platform.licensing.ensureDevice({device:{id:N.device.id,fingerprint:G.fingerprint},license:{jwt:N.license.jwt}});if(ZB(Z))return Z;let X=xB(Z),W={_tag:"DeviceRegistrationManifest",encryption:{keypair:I.encryption.keypair},signing:{keypair:I.signing.keypair},registration:X};return Os(W)}}function O5Q(A){return async function Q(B){let{deps:{services:C}}=A,E=await C.crypto.createKeypair();if(ZB(E))return E;let I=xB(E),Y=await C.signing.createKeypair();if(ZB(Y))return Y;let G=xB(Y),J=await C.device.gather();if(ZB(J))return J;let D=xB(J),U=await C.platform.licensing.registerDevice({code:B.code,nonce:Date.now(),device:D,encryption:{publicKey:I.publicKey},signing:{publicKey:G.publicKey}});if(ZB(U))return U;let N=xB(U);return Os({_tag:"DeviceRegistrationManifest",encryption:{keypair:I},signing:{keypair:G},registration:N})}}function R5Q(A){return{register:O5Q(A),deregister:w5Q(A),ensure:L5Q(A)}}class T5Q extends _B{_tag="GetFeatureFlagError"}function q5Q(A){return async function Q(B){let{deps:{services:C}}=A,E=await C.device.getLicense(B.manifest);if(ZB(E))return GQ(new T5Q);let Y=xB(E).flags?.find((G)=>G.key===B.key);return V0(Y?.value)}}function P5Q(A){return{getFeatureFlag:q5Q(A)}}function _5Q(A){let Q=R5Q(A),B=P5Q(A);return{devices:Q,features:B}}class j5Q extends _B{_tag="GetSupporterError"}function x5Q(A){return async function Q(B){let{deps:{services:C}}=A,E=await C.device.getLicense(B.manifest);if(ZB(E))return GQ(new j5Q);let I=xB(E);return V0(I.supporter)}}function S5Q(A){return{getSupporter:x5Q(A)}}function g5Q(A){let E=`${(A._development?.ssl===void 0?!0:A._development.ssl)?"https":"http"}://${A.domain}/api/v1`,I=XXQ({baseUrl:E}),Y=V5Q({infrastructure:I}),G=z5Q({deps:{services:Y}}),J=_5Q({deps:{services:Y}}),D=S5Q({deps:{services:Y}});return{crypto:G,licensing:J,users:D}}var m4=JX.nominal();function v5Q(A){return(Q)=>{return b.gen(function*(){let B=yield*b.promise(()=>A.crypto.decrypt({manifest:Q.manifest,encryptedContents:Q.encryptedContents}));if(B.error)return yield*b.fail(B.error);let C=B.value;return oU.make(C)})}}function y5Q(A){return(Q)=>{return b.gen(function*(){let B=yield*b.promise(()=>A.crypto.encrypt({manifest:Q.manifest,contents:oU.value(Q.contents)}));if(B.error)return yield*b.fail(B.error);return B.value})}}function k5Q(A){return(Q)=>{return b.gen(function*(){let B=yield*b.promise(()=>A.licensing.devices.deregister({manifest:Q.manifest}));if(B.error)return yield*b.fail(B.error);return yield*b.void})}}function b5Q(A){return(Q)=>{return b.gen(function*(){let B=yield*b.promise(()=>A.licensing.devices.ensure({manifest:Q.manifest}));if(B.error)return yield*b.fail(B.error);return m4(B.value)})}}function h5Q(A){return(Q)=>{return b.gen(function*(){let B=yield*b.promise(()=>A.licensing.devices.register(Q));if(B.error)return yield*b.fail(B.error);return m4(B.value)})}}function m5Q(A){return(Q)=>{return b.gen(function*(){let B=yield*b.promise(()=>A.licensing.features.getFeatureFlag({manifest:Q.manifest,key:Q.key}));if(B.error)return yield*b.fail(B.error);if(!B.value)return EA.none();return EA.some(B.value)})}}function f5Q(A){return(Q)=>{return b.gen(function*(){let B=yield*b.promise(()=>A.users.getSupporter({manifest:Q.manifest}));if(B.error)return yield*b.fail(B.error);return B.value})}}function HUB(A){return b.sync(()=>{let Q=g5Q(A);return{crypto:{encrypt:y5Q(Q),decrypt:v5Q(Q)},licensing:{devices:{register:h5Q(Q),deregister:k5Q(Q),ensure:b5Q(Q)},features:{getFeatureFlag:m5Q(Q)}},users:{getSupporter:f5Q(Q)}}})}var WUB=SA.Tag("builders.generous.sdk.effect")();class Cy extends WUB{static layer=(A)=>lA.effect(Cy,HUB(A))}var Ey={};ZQ(Ey,{GenerousRpc:()=>u5Q,DeviceInfo:()=>d5Q});var d5Q=g.Struct({supporter:g.Option(g.Struct({id:g.String,name:g.String,avatarUrl:g.optional(g.String),expiresAt:g.optional(g.Date)}))});class u5Q extends dW.make(CN.make("RegisterDevice",{payload:g.Struct({code:g.NonEmptyString}),success:g.Void,error:g.String}),CN.make("GetRegisteredDevice",{success:d5Q,error:g.String}),CN.make("DeregisterDevice",{success:g.Void,error:g.String})){}class MUB extends g.TaggedStruct("Background.CopyToClipboard",{text:g.String}){}class $UB extends g.TaggedStruct("EscapeKey",{}){}import*as PqQ from"node:http";var M6B=wN(n5Q(),1),$6B=wN(e5Q(),1);var v5B=lWA(),y5B=wy(),k5B=_WA(),CKA=Ly(),b5B=Gy(),gK=XC(),h5B=PK(),m5B=eY(),f5B=jK(),d5B=xK(),M30=Zt(),u5B=AKA(),p5B=QKA(),c5B=BKA(),Ht=GHQ(),JHQ=Iy();var i5B=v5B.Composer,n5B=y5B.Document,o5B=k5B.Schema,r5B=CKA.YAMLError,a5B=CKA.YAMLParseError,s5B=CKA.YAMLWarning,t5B=b5B.Alias,e5B=gK.isAlias,A6B=gK.isCollection,Q6B=gK.isDocument,B6B=gK.isMap,C6B=gK.isNode,E6B=gK.isPair,I6B=gK.isScalar,Y6B=gK.isSeq,G6B=h5B.Pair,J6B=m5B.Scalar,D6B=f5B.YAMLMap,U6B=d5B.YAMLSeq;var N6B=u5B.Lexer,Z6B=p5B.LineCounter,X6B=c5B.Parser,DHQ=Ht.parse,F6B=Ht.parseAllDocuments,H6B=Ht.parseDocument,W6B=Ht.stringify,K6B=JHQ.visit,V6B=JHQ.visitAsync;function UHQ(A,Q){return function(B){if(Array.isArray(B))return B.reduce(Q,A);let C=A;for(let E of B)C=Q(C,E);return C}}function NHQ(A){return function(Q){if(Array.isArray(Q))return Q.map(A);return function*(){for(let B of Q)yield A(B)}()}}var ZHQ=(A)=>(Q)=>{let B=Object.keys(Q);return A.imap(A.productAll(B.map((C)=>Q[C])),(C)=>{let E={};for(let I=0;I<C.length;I++)E[B[I]]=C[I];return E},(C)=>B.map((E)=>C[E]))};var d6=(A,Q=(B,C)=>UHQ(B,A)(C))=>({combine:A,combineMany:Q});var w6B=(A)=>d6(()=>A,()=>A);var XHQ=()=>d6((A)=>A,(A)=>A);var L6B=F(3,(A,Q,B)=>d6((C,E)=>Q(A.combine(B(C),B(E))),(C,E)=>Q(A.combineMany(B(C),NHQ(B)(E)))));var O6B=(A,Q)=>d6(([B,C],[E,I])=>[A.combine(B,E),Q.combine(C,I)]),FHQ=(A)=>{return d6((Q,B)=>{let C=Math.min(Q.length,B.length),E=[],I=0;for(let Y of A){if(I>=C)break;E.push(Y.combine(Q[I],B[I])),I++}return E})},R6B=(A,Q)=>{let B=FHQ(Q);return d6((C,E)=>[A.combine(C[0],E[0]),...B.combine(C.slice(1),E.slice(1))])};var T6B=w6B,q6B={of:T6B,imap:L6B,product:O6B,productMany:R6B,productAll:FHQ};var Wt=()=>d6((A,Q)=>A.concat(Q)),Kt=ZHQ(q6B);var _y=(A,Q)=>({combine:A.combine,combineMany:A.combineMany,empty:Q,combineAll:(B)=>A.combineMany(Q,B)});var WHQ=()=>_y(Wt(),[]),KHQ=(A)=>{let Q={};for(let B in A)if(Object.prototype.hasOwnProperty.call(A,B))Q[B]=A[B].empty;return _y(Kt(A),Q)};var iR=(A)=>{switch(A._tag){case"Black":return 0;case"Red":return 1;case"Green":return 2;case"Yellow":return 3;case"Blue":return 4;case"Magenta":return 5;case"Cyan":return 6;case"White":return 7}};var VHQ={_tag:"Reset"};var _6B=(A)=>{switch(A._tag){case"Reset":return 0;case"SetBold":return A.bold?1:22;case"SetColor":switch(A.layer){case"foreground":return A.vivid?90+iR(A.color):30+iR(A.color);case"background":return A.vivid?100+iR(A.color):40+iR(A.color)}case"SetItalicized":return A.italicized?3:23;case"SetStrikethrough":return A.strikethrough?9:29;case"SetUnderlined":return A.underlined?4:24}},MHQ=(A)=>j6B("m",A),j6B=(A,Q)=>{return`\x1B[${Array.from(Q).map((C)=>`${_6B(C)}`).join(";")}${A}`};var f6B="@effect/printer-ansi/Ansi",Vt=Symbol.for(f6B),y9=(A)=>({...zHQ.empty,...A}),$HQ=XHQ(),qM=d6((A,Q)=>XA(A)?A:Q),d6B=Kt({[Vt]:$HQ,commands:Wt(),foreground:qM,background:qM,bold:qM,italicized:qM,strikethrough:qM,underlined:qM}),u6B=_y($HQ,Vt),nR=_y(qM,x()),zHQ=KHQ({[Vt]:u6B,commands:WHQ(),foreground:nR,background:nR,bold:nR,italicized:nR,strikethrough:nR,underlined:nR}),wHQ=zHQ.empty,k9="\x1B[";var LHQ=y9({commands:$0(`${k9}G`)}),OHQ=y9({commands:$0(`${k9}s`)}),RHQ=y9({commands:$0(`${k9}u`)});var THQ=y9({commands:$0(`${k9}?25l`)}),YKA=y9({commands:$0(`${k9}?25h`)});var qHQ=y9({commands:$0(`${k9}K`)}),PHQ=y9({commands:$0(`${k9}1K`)}),_HQ=y9({commands:$0(`${k9}2K`)}),jHQ=y9({commands:$0(`${k9}J`)}),xHQ=y9({commands:$0(`${k9}1J`)}),SHQ=y9({commands:$0(`${k9}2J`)}),Mt=(A)=>c6B(A),GKA=F(2,(A,Q)=>p6B(A,Q)),p6B=(A,Q)=>d6B.combine(A,Q),c6B=(A)=>{let Q=MHQ(n$([j(VHQ),A.foreground,A.background,A.bold,A.italicized,A.strikethrough,A.underlined])),B=yG(A.commands,"");return`${Q}${B}`};var $t="@effect/printer/Flatten",vHQ=Symbol.for($t),QFB={Flattened:(A)=>FA(QA(A.value))(LQ($t)),AlreadyFlat:(A)=>FA(LQ("@effect/printer/Flattened/AlreadyFlat"))(LQ($t)),NeverFlat:(A)=>FA(LQ("@effect/printer/Flattened/NeverFlat"))(LQ($t))},BFB={Flattened:(A,Q)=>DKA(Q)&&Q._tag==="Flattened"&&JA(A.value,Q.value),AlreadyFlat:(A,Q)=>DKA(Q)&&Q._tag==="AlreadyFlat",NeverFlat:(A,Q)=>DKA(Q)&&Q._tag==="NeverFlat"},wM0={[vHQ]:{_A:(A)=>A},[TA](){return rA(this,QFB[this._tag](this))},[PA](A){return BFB[this._tag](this,A)}},DKA=(A)=>typeof A==="object"&&A!=null&&(vHQ in A);var cD="@effect/printer/Doc",UKA=Symbol.for(cD),IFB={Fail:(A)=>FA(QA(cD))(QA("@effect/printer/Doc/Fail")),Empty:(A)=>FA(QA(cD))(QA("@effect/printer/Doc/Empty")),Char:(A)=>FA(QA(cD))(LQ(A.char)),Text:(A)=>FA(QA(cD))(LQ(A.text)),Line:(A)=>FA(QA(cD))(QA("@effect/printer/Doc/Line")),FlatAlt:(A)=>FA(QA(cD))(FA(QA(A.left))(QA(A.right))),Cat:(A)=>FA(QA(cD))(FA(QA(A.left))(QA(A.right))),Nest:(A)=>FA(QA(cD))(FA(QA(A.indent))(QA(A.doc))),Union:(A)=>FA(QA(cD))(FA(QA(A.left))(QA(A.right))),Column:(A)=>FA(QA(cD))(QA(A.react)),WithPageWidth:(A)=>FA(QA(cD))(QA(A.react)),Nesting:(A)=>FA(QA(cD))(QA(A.react)),Annotated:(A)=>FA(QA(cD))(FA(QA(A.annotation))(QA(A.doc)))},YFB={Fail:(A,Q)=>lD(Q)&&Q._tag==="Fail",Empty:(A,Q)=>lD(Q)&&Q._tag==="Empty",Char:(A,Q)=>lD(Q)&&Q._tag==="Char"&&A.char===Q.char,Text:(A,Q)=>lD(Q)&&Q._tag==="Text"&&A.text===Q.text,Line:(A,Q)=>lD(Q)&&Q._tag==="Line",FlatAlt:(A,Q)=>lD(Q)&&Q._tag==="FlatAlt"&&JA(Q.left)(A.left)&&JA(Q.right)(A.right),Cat:(A,Q)=>lD(Q)&&Q._tag==="Cat"&&JA(Q.left)(A.left)&&JA(Q.right)(A.right),Nest:(A,Q)=>lD(Q)&&Q._tag==="Nest"&&A.indent===Q.indent&&JA(Q.doc)(A.doc),Union:(A,Q)=>lD(Q)&&Q._tag==="Union"&&JA(Q.left)(A.left)&&JA(Q.right)(A.right),Column:(A,Q)=>lD(Q)&&Q._tag==="Column"&&JA(Q.react)(A.react),WithPageWidth:(A,Q)=>lD(Q)&&Q._tag==="WithPageWidth"&&JA(Q.react)(A.react),Nesting:(A,Q)=>lD(Q)&&Q._tag==="Nesting"&&JA(Q.react)(A.react),Annotated:(A,Q)=>lD(Q)&&Q._tag==="Annotated"&&JA(Q.annotation)(A.annotation)&&JA(Q.doc)(A.doc)},NKA={[UKA]:{_A:(A)=>A},[TA](){return rA(this,IFB[this._tag](this))},[PA](A){return YFB[this._tag](this,A)},pipe(){return e(this,arguments)}},lD=(A)=>typeof A==="object"&&A!=null&&(UKA in A);var ZKA=(A)=>{let Q=Object.create(NKA);return Q._tag="Text",Q.text=A,Q};var yHQ=(()=>{let A=Object.create(NKA);return A._tag="Empty",A})();var XKA=F(2,(A,Q)=>{let B=Object.create(NKA);return B._tag="Annotated",B.doc=A,B.annotation=Q,B});var vK="@effect/printer/DocStream",bHQ=Symbol.for(vK),GFB={FailedStream:(A)=>H(LQ("@effect/printer/DocStream/FailedStream"),FA(LQ(vK))),EmptyStream:(A)=>H(LQ("@effect/printer/DocStream/EmptyStream"),FA(LQ(vK))),CharStream:(A)=>H(QA("@effect/printer/DocStream/CharStream"),FA(LQ(vK)),FA(LQ(A.char)),FA(QA(A.stream))),TextStream:(A)=>H(LQ("@effect/printer/DocStream/TextStream"),FA(LQ(vK)),FA(LQ(A.text)),FA(QA(A.stream))),LineStream:(A)=>H(LQ("@effect/printer/DocStream/LineStream"),FA(LQ(vK)),FA(QA(A.stream))),PushAnnotationStream:(A)=>H(LQ("@effect/printer/DocStream/PopAnnotationStream"),FA(LQ(vK)),FA(QA(A.annotation)),FA(QA(A.stream))),PopAnnotationStream:(A)=>H(LQ("@effect/printer/DocStream/PopAnnotationStream"),FA(LQ(vK)),FA(QA(A.stream)))},JFB={FailedStream:(A,Q)=>PM(Q)&&Q._tag==="FailedStream",EmptyStream:(A,Q)=>PM(Q)&&Q._tag==="EmptyStream",CharStream:(A,Q)=>PM(Q)&&Q._tag==="CharStream"&&A.char===Q.char&&JA(A.stream,Q.stream),TextStream:(A,Q)=>PM(Q)&&Q._tag==="TextStream"&&A.text===Q.text&&JA(A.stream,Q.stream),LineStream:(A,Q)=>PM(Q)&&Q._tag==="LineStream"&&JA(A.stream,Q.stream),PushAnnotationStream:(A,Q)=>PM(Q)&&Q._tag==="PushAnnotationStream"&&JA(A.annotation,Q.annotation)&&JA(A.stream,Q.stream),PopAnnotationStream:(A,Q)=>PM(Q)&&Q._tag==="PopAnnotationStream"&&JA(A.stream,Q.stream)},_M={[bHQ]:{_A:(A)=>A},[TA](){return rA(this,GFB[this._tag](this))},[PA](A){return JFB[this._tag](this,A)}},PM=(A)=>typeof A==="object"&&A!=null&&(bHQ in A);var hHQ=(A)=>A._tag==="EmptyStream";var mHQ=(A)=>A._tag==="LineStream";var FKA=(()=>{let A=Object.create(_M);return A._tag="FailedStream",A})(),HKA=(()=>{let A=Object.create(_M);return A._tag="EmptyStream",A})(),WKA=F(2,(A,Q)=>{let B=Object.create(_M);return B._tag="CharStream",B.char=Q,B.stream=A,B}),KKA=F(2,(A,Q)=>{let B=Object.create(_M);return B._tag="TextStream",B.text=Q,B.stream=A,B}),VKA=F(2,(A,Q)=>{let B=Object.create(_M);return B._tag="LineStream",B.indentation=Q,B.stream=A,B}),fHQ=F(2,(A,Q)=>{let B=Object.create(_M);return B._tag="PushAnnotationStream",B.annotation=Q,B.stream=A,B}),dHQ=(A)=>{let Q=Object.create(_M);return Q._tag="PopAnnotationStream",Q.stream=A,Q};var uHQ={_tag:"Nil"},B8=(A,Q,B)=>({_tag:"Cons",indent:A,document:Q,pipeline:B}),pHQ=(A)=>({_tag:"UndoAnnotation",pipeline:A});var MKA="@effect/printer/PageWidth",zt=Symbol.for(MKA),NFB={AvailablePerLine:(A)=>H(QA("@effect/printer/PageWidth/AvailablePerLine"),FA(QA(MKA)),FA(QA(A.lineWidth)),FA(QA(A.ribbonFraction))),Unbounded:(A)=>H(QA("@effect/printer/PageWidth/Unbounded"),FA(QA(MKA)))},ZFB={AvailablePerLine:(A,Q)=>$KA(Q)&&Q._tag==="AvailablePerLine"&&A.lineWidth===Q.lineWidth&&A.ribbonFraction===Q.ribbonFraction,Unbounded:(A,Q)=>$KA(Q)&&Q._tag==="Unbounded"},cHQ={[zt]:zt,[TA](){return rA(this,NFB[this._tag](this))},[PA](A){return ZFB[this._tag](this,A)}},$KA=(A)=>typeof A==="object"&&A!=null&&(zt in A);var lHQ=(A,Q)=>{let B=Object.create(cHQ);return B._tag="AvailablePerLine",B.lineWidth=A,B.ribbonFraction=Q,B},wt=(()=>{let A=Object.create(cHQ);return A._tag="Unbounded",A})(),Lt=lHQ(80,1),Ot=(A,Q,B,C)=>{let E=A-C,I=Math.max(0,Math.min(A,Math.floor(A*Q))),Y=B+I-C;return Math.min(E,Y)};var wKA=(A)=>({pageWidth:A});var Rt=F(3,(A,Q,B)=>eB(XFB(B8(0,A,uHQ),0,0,Q,B))),XFB=(A,Q,B,C,E)=>{let I=(Y,G,J)=>KA(function*(){switch(Y._tag){case"Nil":return HKA;case"Cons":switch(Y.document._tag){case"Fail":return FKA;case"Empty":return yield*I(Y.pipeline,G,J);case"Char":{let D=yield*I(Y.pipeline,G,J+1);return WKA(D,Y.document.char)}case"Text":{let D=Y.document.text.length,U=yield*I(Y.pipeline,G,J+D);return KKA(U,Y.document.text)}case"Line":{let D=yield*I(Y.pipeline,Y.indent,Y.indent),U=hHQ(D)||mHQ(D)?0:Y.indent;return VKA(D,U)}case"FlatAlt":{let D=B8(Y.indent,Y.document.left,Y.pipeline);return yield*I(D,G,J)}case"Cat":{let D=B8(Y.indent,Y.document.right,Y.pipeline),U=B8(Y.indent,Y.document.left,D);return yield*I(U,G,J)}case"Nest":{let D=Y.indent+Y.document.indent,U=B8(D,Y.document.doc,Y.pipeline);return yield*I(U,G,J)}case"Union":{let D=B8(Y.indent,Y.document.left,Y.pipeline),U=B8(Y.indent,Y.document.right,Y.pipeline),N=I(D,G,J),Z=I(U,G,J);return FFB(C,G,J,N,Z)}case"Column":{let D=Y.document.react(J),U=B8(Y.indent,D,Y.pipeline);return yield*I(U,G,J)}case"WithPageWidth":{let D=Y.document.react(E.pageWidth),U=B8(Y.indent,D,Y.pipeline);return yield*I(U,G,J)}case"Nesting":{let D=Y.document.react(Y.indent),U=B8(Y.indent,D,Y.pipeline);return yield*I(U,G,J)}case"Annotated":{let D=pHQ(Y.pipeline),U=B8(Y.indent,Y.document.doc,D),N=yield*I(U,G,J);return fHQ(N,Y.document.annotation)}}case"UndoAnnotation":{let D=yield*I(Y.pipeline,Q,B);return dHQ(D)}}});return I(A,Q,B)},FFB=(A,Q,B,C,E)=>{let I=eB(C),Y=void 0;return A(I,Q,B,()=>Y??(Y=eB(E),Y))?I:Y??eB(E)},LKA=(A)=>eB(GN(c1(A),0)),GN=(A,Q)=>KA(function*(){if(pJ(A))return HKA;let{head:B,tail:C}=A;switch(B._tag){case"Fail":return FKA;case"Empty":return yield*GN(C,Q);case"Char":{let E=yield*GN(C,Q+1);return WKA(E,B.char)}case"Text":{let E=yield*GN(C,Q+B.text.length);return KKA(E,B.text)}case"Line":{let E=yield*GN(C,0);return VKA(E,0)}case"FlatAlt":return yield*GN(KY(B.left,C),Q);case"Cat":{let E=KY(B.left,KY(B.right,C));return yield*GN(E,Q)}case"Nest":return yield*GN(KY(B.doc,C),Q);case"Union":return yield*GN(KY(B.right,C),Q);case"Column":return yield*GN(KY(B.react(Q),C),Q);case"WithPageWidth":return yield*GN(KY(B.react(wt),C),Q);case"Nesting":return yield*GN(KY(B.react(0),C),Q);case"Annotated":return yield*GN(KY(B.doc,C),Q)}}),OKA=F(2,(A,Q)=>{let B=Q.pageWidth;if(B._tag==="AvailablePerLine")return Rt(A,(C,E,I)=>{let Y=Ot(B.lineWidth,B.ribbonFraction,E,I);return HFB(C,Y)},Q);return TKA(A)}),HFB=(A,Q)=>{let B=Q,C=A;while(B>=0)switch(C._tag){case"FailedStream":return!1;case"EmptyStream":return!0;case"CharStream":{B=B-1,C=C.stream;break}case"TextStream":{B=B-C.text.length,C=C.stream;break}case"LineStream":return!0;case"PushAnnotationStream":{C=C.stream;break}case"PopAnnotationStream":{C=C.stream;break}}return!1},RKA=F(2,(A,Q)=>{let B=Q.pageWidth;if(B._tag==="AvailablePerLine")return Rt(A,WFB(B.lineWidth,B.ribbonFraction),Q);return TKA(A)}),WFB=(A,Q)=>{return(B,C,E,I)=>{let Y=Ot(A,Q,C,E);return KFB(B,I,A,E,Y)}},KFB=(A,Q,B,C,E)=>{let I,Y=A,G=E;while(G>=0)switch(Y._tag){case"FailedStream":return!1;case"EmptyStream":return!0;case"CharStream":{G=G-1,Y=Y.stream;break}case"TextStream":{G=G-Y.text.length,Y=Y.stream;break}case"LineStream":{if(!I)I=HA(VFB(Q()),{onNone:()=>C,onSome:(J)=>Math.min(J,C)});if(I<Y.indentation)return!1;G=B-Y.indentation,Y=Y.stream;break}case"PushAnnotationStream":{Y=Y.stream;break}case"PopAnnotationStream":{Y=Y.stream;break}}return!1},VFB=(A)=>{let Q=A;while(Q._tag==="LineStream"||Q._tag==="PushAnnotationStream"||Q._tag==="PopAnnotationStream"){if(Q._tag==="LineStream")return j(Q.indentation);Q=Q.stream}return x()},TKA=(A)=>Rt(A,(Q)=>!MFB(Q),{pageWidth:wt}),MFB=(A)=>{let Q=A;while(!0)switch(Q._tag){case"FailedStream":return!0;case"EmptyStream":return!1;case"CharStream":{Q=Q.stream;break}case"TextStream":{Q=Q.stream;break}case"LineStream":return!1;case"PushAnnotationStream":{Q=Q.stream;break}case"PopAnnotationStream":{Q=Q.stream;break}}throw new Error("bug")};var p0=ZKA;var p4=yHQ;var JN=XKA;var nHQ=JN(p4,YKA);var Tt=Lt;var qKA=wKA;var oHQ=LKA,rHQ=OKA,aHQ=RKA;var tHQ=F(2,(A,Q)=>{switch(Q.style){case"compact":return PKA(oHQ(A));case"pretty":{let B=Object.assign({},Tt,Q.options);return PKA(rHQ(A,qKA(B)))}case"smart":{let B=Object.assign({},Tt,Q.options);return PKA(aHQ(A,qKA(B)))}}}),PKA=(A)=>eB(oR(A,c1(wHQ))),sHQ=(A)=>{if(pJ(A))throw new Error("BUG: AnsiRender.unsafePeek - peeked at an empty stack - please report an issue at https://github.com/Effect-TS/printer/issues");return A.head},bFB=(A)=>{if(pJ(A))throw new Error("BUG: AnsiRender.unsafePop - popped from an empty stack - please report an issue at https://github.com/Effect-TS/printer/issues");return[A.head,A.tail]},oR=(A,Q)=>{switch(A._tag){case"FailedStream":return xE("BUG: AnsiRender.renderSafe - attempted to render a failed doc stream - please report an issue at https://github.com/Effect-TS/printer/issues");case"EmptyStream":return c("");case"CharStream":return h(LA(()=>oR(A.stream,Q)),(B)=>A.char+B);case"TextStream":return h(LA(()=>oR(A.stream,Q)),(B)=>A.text+B);case"LineStream":{let B=`
`;for(let C=0;C<A.indentation;C++)B=B+=" ";return h(LA(()=>oR(A.stream,Q)),(C)=>B+C)}case"PushAnnotationStream":{let B=sHQ(Q),C=GKA(A.annotation,B);return h(LA(()=>oR(A.stream,KY(A.annotation,Q))),(E)=>Mt(C)+E)}case"PopAnnotationStream":{let[,B]=bFB(Q),C=sHQ(B);return h(LA(()=>oR(A.stream,B)),(E)=>Mt(C)+E)}}};var eHQ=nHQ;var h9=tHQ;var c4=s8();var uFB="@effect/cli/Prompt",AWQ=Symbol.for(uFB),RL0={...c8,[AWQ]:{_Output:(A)=>A},commit(){return jy(this)},pipe(){return e(this,arguments)}};var jy=(A)=>v(BN,(Q)=>{let B=A;switch(B._tag){case"Loop":return(nB(B.initialState)?B.initialState.pipe(v(DC)):DC(B.initialState)).pipe(v((E)=>{let I=(Y)=>d0(E).pipe(v((G)=>B.render(G,Y).pipe(v((J)=>YB(Q.display(J))),VA(Q.readInput),v((J)=>B.process(J,G)),v((J)=>{switch(J._tag){case"Beep":return I(J);case"NextFrame":return B.clear(G,J).pipe(v((D)=>YB(Q.display(D))),VA(EI(E,J.state)),VA(I(J)));case"Submit":return B.clear(G,J).pipe(v((D)=>YB(Q.display(D))),VA(B.render(G,J)),v((D)=>YB(Q.display(D))),VA(c(J.value)))}}))));return d0(E).pipe(v((Y)=>I(c4.NextFrame({state:Y}))))}),$C(YB(Q.display(h9(eHQ,{style:"pretty"})))));case"OnSuccess":return v(jy(B.prompt),(C)=>jy(B.onSuccess(C)));case"Succeed":return c(B.value)}});var _t={arrowUp:p0("↑"),arrowDown:p0("↓"),arrowLeft:p0("←"),arrowRight:p0("→"),radioOn:p0("◉"),radioOff:p0("◯"),checkboxOn:p0("☒"),checkboxOff:p0("☐"),tick:p0("✔"),cross:p0("✖"),ellipsis:p0("…"),pointerSmall:p0("›"),line:p0("─"),pointer:p0("❯")},_L0={arrowUp:_t.arrowUp,arrowDown:_t.arrowDown,arrowLeft:_t.arrowLeft,arrowRight:_t.arrowRight,radioOn:p0("(*)"),radioOff:p0("( )"),checkboxOn:p0("[*]"),checkboxOff:p0("[ ]"),tick:p0("√"),cross:p0("×"),ellipsis:p0("..."),pointerSmall:p0("»"),line:p0("─"),pointer:p0(">")};var nFB="@effect/cli/Primitive",JWQ=Symbol.for(nFB),iL0={[JWQ]:{_A:(A)=>A},pipe(){return e(this,arguments)}};var uKA=Symbol.for("@effect/cli/ValidationError"),oFB={[uKA]:uKA};var CHB="@effect/cli/Args",PWQ=Symbol.for(CHB),aL0={[PWQ]:{_A:(A)=>A},pipe(){return e(this,arguments)}};var LHB="@effect/cli/Options",gWQ=Symbol.for(LHB),yO0={[gWQ]:{_A:(A)=>A},pipe(){return e(this,arguments)}};var QWB="@effect/cli/CommandDescriptor",uWQ=Symbol.for(QWB),lR0={[uWQ]:{_A:(A)=>A},pipe(){return e(this,arguments)}};var WWB="@effect/cli/Command",tKA=Symbol.for(WWB);var FT0={...c8,[tKA]:tKA,commit(){return this.tag},pipe(){return e(this,arguments)}};var eKA=Symbol.for("@effect/cli/ConfigFile/ConfigFileError"),hT0=Object.assign(Object.create(HGA.prototype),{[eKA]:eKA});var WQA={};ZQ(WQA,{Undici:()=>o9,NodeWorkerRunner:()=>W$A,NodeWorker:()=>GQA,NodeTerminal:()=>H$A,NodeStream:()=>Ik,NodeSocketServer:()=>F$A,NodeSocket:()=>wb,NodeSink:()=>Be,NodeRuntime:()=>X$A,NodePath:()=>Z$A,NodeMultipart:()=>N$A,NodeKeyValueStore:()=>U$A,NodeHttpServerRequest:()=>D$A,NodeHttpServer:()=>$b,NodeHttpPlatform:()=>J$A,NodeHttpClient:()=>Qq,NodeFileSystem:()=>NQA,NodeContext:()=>DQA,NodeCommandExecutor:()=>G$A,NodeClusterShardManagerSocket:()=>Y$A,NodeClusterShardManagerHttp:()=>I$A,NodeClusterRunnerSocket:()=>C$A,NodeClusterRunnerHttp:()=>Q$A});var Q$A={};ZQ(Q$A,{layerHttpServer:()=>A$A,layer:()=>ngB});var hy=J4.pipe(vZ("EntityId"));var kt=J4.pipe(vZ("EntityType"));var iD=SD.pipe(vZ("ShardId"),wO({pretty:()=>(A)=>`ShardId(${A})`}));var AKQ="@effect/cluster/EntityAddress",eWQ=Symbol.for(AKQ);class nD extends N4(AKQ)({shardId:iD,entityType:kt,entityId:hy}){[eWQ]=eWQ;[TA](){return rA(this)(LQ(`${this.shardId}:${this.entityType}:${this.entityId}`))}}var QKQ=vQ(nD);var CKQ="@effect/cluster/RunnerAddress",BKQ=Symbol.for(CKQ);class YY extends N4(CKQ)({host:Ag,port:SD}){[BKQ]=BKQ;[TA](){return rA(this)(LQ(this.toString()))}toString(){return`RunnerAddress(${this.host}:${this.port})`}[sA](){return this.toString()}}var xWB=Symbol.for("@effect/cluster/Snowflake"),K2=(A)=>typeof A==="string"?BigInt(A):A;var QD=U4.pipe(vZ(xWB)),EKQ=Date.UTC(2025,0,1),Nq0=EKQ-Date.UTC(1970,0,1),SWB=BigInt(12),gWB=BigInt(22);var vWB=(A)=>BigInt(A.timestamp-EKQ)<<gWB|BigInt(A.machineId%1024)<<SWB|BigInt(A.sequence%4096);var IKQ=KA(function*(){let A=Math.floor(Math.random()*1024),Q=yield*OJ,B=0,C=Q.unsafeCurrentTimeMillis();return s({setMachineId:(E)=>r(()=>{A=E}),unsafeNext(){let E=Q.unsafeCurrentTimeMillis();if(E<C)E=C;else if(E>C)B=0,C=E;else if(B>=1024)C++,B=0;return vWB({machineId:A,sequence:B++,timestamp:C})}})});class E8 extends uB("@effect/cluster/Snowflake/Generator")(){}var pK=GB(E8,IKQ);var GY=Symbol.for("@effect/cluster/ClusterError");class UN extends vD()("EntityNotAssignedToRunner",{address:nD}){[GY]=GY;static is(A){return o(A,GY)&&dI(A,"EntityNotAssignedToRunner")}}class cK extends vD()("EntityNotManagedByRunner",{address:nD}){[GY]=GY;static is(A){return o(A,GY)&&dI(A,"EntityNotManagedByRunner")}}class oD extends vD()("MalformedMessage",{cause:wG}){[GY]=GY;static is(A){return o(A,GY)&&dI(A,"MalformedMessage")}static refail=fE((A)=>new oD({cause:A}))}class jY extends vD()("PersistenceError",{cause:wG}){[GY]=GY;static refail(A){return dQ(A,(Q)=>ZA(new jY({cause:WE(Q)})))}}class AVA extends vD()("RunnerNotRegistered",{address:YY}){[GY]=GY}class lK extends vD()("RunnerUnavailable",{address:YY}){[GY]=GY;static is(A){return o(A,GY)&&dI(A,"RunnerUnavailable")}}class my extends vD()("MailboxFull",{address:nD}){[GY]=GY;static is(A){return o(A,GY)&&dI(A,"MailboxFull")}}class iK extends vD()("AlreadyProcessingMessage",{envelopeId:QD,address:nD}){[GY]=GY;static is(A){return o(A,GY)&&dI(A,"AlreadyProcessingMessage")}}class l4 extends YG()("@effect/cluster/ClusterSchema/Persisted",{defaultValue:x0}){}var nK=Symbol.for("@effect/cluster/Envelope");class i6 extends Gg("@effect/cluster/Envelope/AckChunk")("AckChunk",{id:QD,address:nD,requestId:QD,replyId:QD}){[nK]=nK;withRequestId(A){return new i6({...this,requestId:A})}}class n6 extends Gg("@effect/cluster/Envelope/Interrupt")("Interrupt",{id:QD,address:nD,requestId:QD}){[nK]=nK;withRequestId(A){return new n6({...this,requestId:A})}}var yWB=(A)=>o(A,nK),oK=(A)=>({[nK]:nK,_tag:"Request",requestId:A.requestId,tag:A.tag,address:A.address,payload:A.payload,headers:A.headers,traceId:A.traceId,spanId:A.spanId,sampled:A.sampled});var YKQ=K0((A)=>yWB(A)&&A._tag==="Request",{identifier:"Envelope"}),bt=hB({_tag:J0("Request"),requestId:QD,address:nD,tag:lQ,payload:rU,headers:wDQ,traceId:lQ,spanId:lQ,sampled:jD}),QT=_0(bt,i6,n6);var GKQ=hB({_tag:J0("Request"),requestId:vQ(QD),address:QKQ,tag:lQ,payload:rU,headers:z1A,traceId:lQ,spanId:lQ,sampled:jD});var JKQ=(A)=>{if(A._tag!=="Request"||!o(A.payload,J8A))return null;let Q=ptA(A.payload);return`${A.address.entityType}/${A.address.entityId}/${A.tag}/${Q}`};var fy=(A)=>{if(A._tag==="OutgoingEnvelope")return new i4({envelope:A.envelope});return new dy({envelope:A.envelope,respond:A.respond,lastSentReply:x()})};class fM extends a8("IncomingRequest"){}class dy extends a8("IncomingRequestLocal"){}class i4 extends a8("IncomingEnvelope"){}class uy extends a8("OutgoingRequest"){encodedCache}class CT extends a8("OutgoingEnvelope"){}var QVA=(A)=>{if(A._tag!=="OutgoingRequest")return c(A.envelope);return LA(()=>A.encodedCache?c(A.encodedCache):ht(A))},BVA=(A)=>v(QVA(A),(Q)=>oD.refail(EJ(QT)(Q))),ht=(A)=>{let Q=A.rpc;return EJ(Q.payloadSchema)(A.envelope.payload).pipe(T0(gC,A.context),oD.refail,h((B)=>({...A.envelope,payload:B})))},DKQ=(A,Q)=>{if(Q._tag!=="Request")return c(new i4({envelope:Q}));else if(A._tag!=="OutgoingRequest")return ZA(new oD({cause:new Error("Can only deserialize a Request with an OutgoingRequest message")}));let B=A.rpc;return jJ(B.payloadSchema)(Q.payload).pipe(T0(gC,A.context),oD.refail,h((C)=>new dy({envelope:oK({...Q,payload:C}),lastSentReply:x(),respond:A.respond})))};var UKQ=Symbol.for("@effect/cluster/DeliverAt"),kWB=(A)=>o(A,UKQ),NKQ=(A)=>{if(kWB(A))return A[UKQ]().epochMillis;return null};var cy=Symbol.for("@effect/cluster/Reply"),ZKQ=(A)=>o(A,cy);class n4 extends a8("ReplyWithContext"){static fromDefect(A){return new n4({reply:new rD({requestId:A.requestId,id:A.id,exit:BI(xZ(wG)(A.defect))}),context:F0(),rpc:hWB})}}var hWB=F2("Never",{success:N2,error:N2,payload:{}}),CVA=new WeakMap,o6=(A)=>{if(CVA.has(A))return CVA.get(A);let Q=_0(rD.schema(A),rK.schema(A));return CVA.set(A,Q),Q},XKQ=_0(hB({_tag:J0("WithExit"),requestId:lQ,id:lQ,exit:rU}),hB({_tag:J0("Chunk"),requestId:lQ,id:lQ,sequence:TI,values:Z0(rU)}));class rK extends a8("Chunk"){[cy]=cy;static emptyFrom(A){return new rK({requestId:A,id:K2(BigInt(0)),sequence:0,values:[void 0]})}static schemaFromSelf=K0((A)=>ZKQ(A)&&A._tag==="Chunk");static schema(A){let Q=A.successSchema.success;if(!Q)return N2;return qQ(hB({_tag:J0("Chunk"),requestId:QD,id:QD,sequence:TI,values:F9(Q)}),rK.schemaFromSelf,{decode:(B)=>new rK(B),encode:s})}withRequestId(A){return new rK({...this,requestId:A})}}class rD extends a8("WithExit"){[cy]=cy;static schema(A){return qQ(hB({_tag:J0("WithExit"),requestId:QD,id:QD,exit:IM(A)}),K0((Q)=>ZKQ(Q)&&Q._tag==="WithExit"),{decode:(Q)=>new rD(Q),encode:s})}withRequestId(A){return new rD({...this,requestId:A})}}var ly=(A)=>{let Q=o6(A.rpc);return oD.refail(T0(EJ(Q)(A.reply),gC,A.context))};class I8 extends uB("@effect/cluster/MessageStorage")(){}var mt=s8(),ny=s8(),FKQ=(A)=>r(()=>{let Q=new Map;return I8.of({...A,registerReplyHandler:(B)=>r(()=>{Q.set(B.envelope.requestId,B._tag==="IncomingRequest"?B.respond:(C)=>B.respond(C.reply))}),saveReply(B){return v(A.saveReply(B),()=>{let C=Q.get(B.reply.requestId);if(!C)return u;else if(B.reply._tag==="WithExit")Q.delete(B.reply.requestId);return C(B)})}})}),IVA=XQ(function*(A){let Q=yield*E8,B=yield*OJ,C=yield*FKQ({saveRequest:(Y)=>BVA(Y).pipe(v((G)=>A.saveEnvelope({envelope:G,primaryKey:JKQ(Y.envelope),deliverAt:NKQ(Y.envelope.payload)})),v((G)=>{if(G._tag==="Success"||G.lastReceivedReply._tag==="None")return c(G);let J=G,D=o6(Y.rpc);return jJ(D)(G.lastReceivedReply.value).pipe(T0(gC,Y.context),oD.refail,h((U)=>mt.Duplicate({originalId:J.originalId,lastReceivedReply:j(U)})))})),saveEnvelope:(Y)=>BVA(Y).pipe(v((G)=>A.saveEnvelope({envelope:G,primaryKey:null,deliverAt:null})),JE),saveReply:(Y)=>v(ly(Y),A.saveReply),repliesFor:XQ(function*(Y){let G=i0(),J=new Map;for(let U of Y){let N=String(U.envelope.requestId);G.push(N),J.set(N,U)}if(G.length===0)return[];let D=yield*A.repliesFor(G);return yield*I(J,D)}),unprocessedMessages:(Y)=>{let G=Array.from(Y);if(G.length===0)return c([]);return v(LA(()=>A.unprocessedMessages(G,B.unsafeCurrentTimeMillis())),E)},unprocessedMessagesById(Y){let G=Array.from(Y);if(G.length===0)return c([]);return v(LA(()=>A.unprocessedMessagesById(G,B.unsafeCurrentTimeMillis())),E)},resetAddress:(Y)=>A.resetAddress(Y),resetShards:(Y)=>A.resetShards(Array.from(Y))}),E=(Y)=>{let G=[],J=0,D=zI(LA(()=>{let U=Y[J];if(!U)return c(void 0);return fWB(U)}),(U)=>{let N=Y[J];return C.saveReply(n4.fromDefect({id:Q.unsafeNext(),requestId:K2(N.envelope.requestId),defect:U.toString()})).pipe(KG,JE)});return IB(RY({while:()=>J<Y.length,body:()=>D,step:(U)=>{let N=Y[J++];if(!U)return;G.push(U.envelope._tag==="Request"?new fM({envelope:U.envelope,lastSentReply:N.lastSentReply,respond:C.saveReply}):new i4({envelope:U.envelope}))}}),G)},I=(Y,G)=>{let J=[],D=new Set,U=0,N=zI(LA(()=>{let Z=G[U];if(D.has(Z.requestId))return u;let X=Y.get(Z.requestId);if(!X)return u;let W=o6(X.rpc);return jJ(W)(Z).pipe(T0(gC,X.context))}),(Z)=>{let X=G[U];return D.add(X.requestId),c(new rD({id:Q.unsafeNext(),requestId:K2(X.requestId),exit:BI(Z)}))});return IB(RY({while:()=>U<G.length,body:()=>N,step:(Z)=>{if(U++,Z)J.push(Z)}}),J)};return C}),dM=xA("@effect/cluster/MessageStorage/noop",()=>eB(FKQ({saveRequest:()=>c(mt.Success()),saveEnvelope:()=>u,saveReply:()=>u,repliesFor:()=>c([]),unprocessedMessages:()=>c([]),unprocessedMessagesById:()=>c([]),resetAddress:()=>u,resetShards:()=>u})));class EVA extends AL()("@effect/cluster/MessageStorage/MemoryDriver",{dependencies:[pK],effect:KA(function*(){let A=new Map,Q=new Map,B=new Set,C=new Set,E=[],I=new WeakMap,Y=(U)=>{let N=[];for(let Z of B){if(!U(Z))continue;if(Z._tag==="Request"){let X=A.get(Z.requestId);N.push({envelope:Z,lastSentReply:aQ(X?.replies[X.replies.length-1])})}else N.push({envelope:Z,lastSentReply:x()})}return N},G=yield*MZ(),J={saveEnvelope:({envelope:U,primaryKey:N})=>r(()=>{let Z=N?Q.get(N):U._tag==="Request"&&A.get(U.requestId);if(Z)return ny.Duplicate({originalId:K2(Z.envelope.requestId),lastReceivedReply:Z.lastReceivedChunk});if(U._tag==="Request"){let X={envelope:U,replies:[],lastReceivedChunk:x()};if(A.set(U.requestId,X),N)Q.set(N,X);B.add(U)}else if(U._tag==="AckChunk"){let X=A.get(U.requestId);if(X)X.lastReceivedChunk=q1(X.replies,(W)=>W._tag==="Chunk"&&W.id===U.replyId).pipe(KI(()=>X.lastReceivedChunk))}return E.push(U),ny.Success()}),saveReply:(U)=>r(()=>{let N=A.get(U.requestId);if(!N||C.has(U.id))return;if(U._tag==="WithExit")B.delete(N.envelope);N.replies.push(U),C.add(U.id),G.unsafeOpen()}),repliesFor:(U)=>r(()=>{let N=i0();for(let Z of U){let X=A.get(Z);if(!X)continue;else if(cA(X.lastReceivedChunk)){N.push(...X.replies);continue}let W=X.lastReceivedChunk.value.sequence;for(let K of X.replies){if(K._tag==="Chunk"&&K.sequence<=W)continue;N.push(K)}}return N}),unprocessedMessages:(U)=>r(()=>{if(B.size===0)return[];let N=i0(),Z=E.indexOf(JU(B));for(;Z<E.length;Z++){let X=E[Z];if(!U.includes(X.address.shardId))continue;if(X._tag==="Request"){let W=A.get(X.requestId);N.push({envelope:X,lastSentReply:c$(W.replies)})}else N.push({envelope:X,lastSentReply:x()})}return N}),unprocessedMessagesById:(U)=>r(()=>{let N=new Set;for(let Z of U)N.add(String(Z));return Y((Z)=>N.has(Z.requestId))}),resetAddress:()=>u,resetShards:()=>u};return{storage:yield*IVA(J),encoded:J,requests:A,requestsByPrimaryKey:Q,unprocessed:B,replyIds:C,journal:E,cursors:I}})}){}var m9=q0(I8,dM),_q0=GB(I8,h(EVA,(A)=>A.storage)).pipe(zC(EVA.Default)),mWB=hB({envelope:QT,lastSentReply:D2(XKQ)}),fWB=jJ(mWB);class fI extends uB("@effect/cluster/ShardingConfig")(){}var YVA=YY.make({host:"localhost",port:34431}),NN={runnerAddress:j(YVA),serverVersion:1,numberOfShards:300,shardManagerAddress:YY.make({host:"localhost",port:8080}),shardManagerUnavailableTimeout:j8(10),entityMailboxCapacity:4096,entityMaxIdleTime:j8(1),entityTerminationTimeout:dJ(15),entityMessagePollInterval:dJ(10),entityReplyPollInterval:lC(200),sendRetryInterval:lC(100),refreshAssignmentsInterval:j8(5),simulateRemoteSerialization:!0};var dWB=pL({runnerAddress:pL({host:cL("host").pipe(lE(YVA.host),JI("The hostname or IP address of the runner.")),port:FW("port").pipe(lE(YVA.port),JI("The port used for inter-runner communication."))}).pipe(Gi((A)=>YY.make(A)),BZA),serverVersion:FW("serverVersion").pipe(lE(NN.serverVersion),JI("The version of the current runner.")),numberOfShards:FW("numberOfShards").pipe(lE(NN.numberOfShards),JI("The number of shards to allocate to a runner.")),shardManagerAddress:pL({host:cL("shardManagerHost").pipe(lE(NN.shardManagerAddress.host),JI("The host of the shard manager.")),port:FW("shardManagerPort").pipe(lE(NN.shardManagerAddress.port),JI("The port of the shard manager."))}).pipe(Gi((A)=>YY.make(A))),shardManagerUnavailableTimeout:c2("shardManagerUnavailableTimeout").pipe(lE(NN.shardManagerUnavailableTimeout),JI("If the shard is unavilable for this duration, all the shard assignments will be reset.")),entityMailboxCapacity:FW("entityMailboxCapacity").pipe(lE(NN.entityMailboxCapacity),JI("The default capacity of the mailbox for entities.")),entityMaxIdleTime:c2("entityMaxIdleTime").pipe(lE(NN.entityMaxIdleTime),JI("The maximum duration of inactivity (i.e. without receiving a message) after which an entity will be interrupted.")),entityTerminationTimeout:c2("entityTerminationTimeout").pipe(lE(NN.entityTerminationTimeout),JI("The maximum duration of time to wait for an entity to terminate.")),entityMessagePollInterval:c2("entityMessagePollInterval").pipe(lE(NN.entityMessagePollInterval),JI("The interval at which to poll for unprocessed messages from storage.")),entityReplyPollInterval:c2("entityReplyPollInterval").pipe(lE(NN.entityReplyPollInterval),JI("The interval at which to poll for client replies from storage.")),sendRetryInterval:c2("sendRetryInterval").pipe(lE(NN.sendRetryInterval),JI("The interval to retry a send if EntityNotManagedByRunner is returned.")),refreshAssignmentsInterval:c2("refreshAssignmentsInterval").pipe(lE(NN.refreshAssignmentsInterval),JI("The interval at which to refresh shard assignments.")),simulateRemoteSerialization:HaA("simulateRemoteSerialization").pipe(lE(NN.simulateRemoteSerialization),JI("Simulate serialization and deserialization to remote runners for local entities."))}),HKQ=dWB.pipe(tw(Ji().pipe(Di))),aK=(A)=>GB(fI,A?h(HKQ,(Q)=>({...Q,...A})):HKQ);class r6 extends uB("@effect/cluster/Runners")(){}var uWB=XQ(function*(A){let Q=yield*I8,B=yield*E8,C=yield*fI,E=new Map;function I(U,N){let Z=U.rpc;if(!nQ(Z.annotations,l4))return xE("Runners.notify only supports persisted messages");if(U._tag==="OutgoingEnvelope"){let W=E.get(U.envelope.requestId),K=W??U.envelope.requestId,V=Y.get(K);if(W)U=new CT({...U,envelope:U.envelope.withRequestId(W)});return Q.saveEnvelope(U).pipe(HG("MalformedMessage",MC),VA(V?VA(V.latch.open,N(U,!1)):N(U,!1)))}return v(HG(Q.saveRequest(U),"MalformedMessage",MC),mt.$match({Success:()=>N(U,!1),Duplicate:({lastReceivedReply:W,originalId:K})=>{return E.set(U.envelope.requestId,K),N(new uy({...U,lastReceivedReply:W,envelope:oK({...U.envelope,requestId:K}),respond(V){if(V._tag==="WithExit")E.delete(U.envelope.requestId);return U.respond(V.withRequestId(U.envelope.requestId))}}),!0)}}))}let Y=new Map,G=new Map,J=XQ(function*(U){let N={latch:cY(!1),replies:[]};Y.set(U.envelope.requestId,N);while(!0){N.latch.unsafeClose(),G.set(U.envelope.requestId,U),yield*D.open,yield*N.latch.await;for(let Z of N.replies){if(Z._tag==="WithExit")return yield*U.respond(Z);N.latch.unsafeClose(),yield*U.respond(Z),yield*N.latch.await}N.replies=[]}},(U,N)=>$C(U,r(()=>{Y.delete(N.envelope.requestId),G.delete(N.envelope.requestId)}))),D=cY(!1);if(Q!==dM)yield*KA(function*(){while(!0){yield*D.await,D.unsafeClose();let U=yield*Q.repliesFor(G.values()).pipe(dQ((Z)=>IB(a0($E(Z),{package:"@effect/cluster",module:"Runners",fiber:"Read replies loop"}),[]))),N=new Set;for(let Z of U){let X=Y.get(Z.requestId);if(!X)continue;X.replies.push(Z),G.delete(Z.requestId),N.add(X)}for(let Z of N)Z.latch.unsafeOpen()}}).pipe(zQ,R0),yield*LA(()=>{if(G.size===0)return D.await;return D.open}).pipe(bU(C.entityReplyPollInterval),QY,zQ,R0);return r6.of({...A,sendLocal(U){let N=U.message;if(!U.simulateRemoteSerialization)return U.send(fy(N));return QVA(N).pipe(v((Z)=>DKQ(N,Z)),v(U.send),HG("MalformedMessage",(Z)=>{if(N._tag==="OutgoingEnvelope")return MC(Z);return N.respond(new rD({id:B.unsafeNext(),requestId:N.envelope.requestId,exit:BI(Z)}))}))},notify(U){let{discard:N,message:Z}=U;return I(Z,(X,W)=>{if(X._tag==="OutgoingEnvelope")return A.notify(U);else if(!W&&U.address._tag==="Some")return zI(A.send({address:U.address.value,message:X}),(K)=>{if(K._tag==="EntityNotManagedByRunner")return ZA(K);return J(X)});return N?A.notify(U):A.notify(U).pipe(r0(J(X)))})},notifyLocal(U){return I(U.message,(N,Z)=>{if(U.discard||N._tag==="OutgoingEnvelope")return HG(U.notify(fy(N)),"EntityNotAssignedToRunner",()=>u);else if(!Z)return Q.registerReplyHandler(N).pipe(r0(U.notify(fy(N))),HG("EntityNotAssignedToRunner",()=>u));return U.notify(fy(N)).pipe(HG("EntityNotAssignedToRunner",()=>u),r0(J(N)))})}})});var GVA=_0(cK,UN,my,iK);class ET extends JR(F2("Ping"),F2("Notify",{payload:{envelope:QT},success:Y4,error:_0(cK,UN,iK)}),F2("Effect",{payload:{request:bt,persisted:jD},success:MO,error:GVA}),F2("Stream",{payload:{request:bt,persisted:jD},error:GVA,success:MO,stream:!0}),F2("Envelope",{payload:{envelope:_0(i6,n6),persisted:jD},error:GVA})){}var pWB=Xa(ET,{spanPrefix:"Runners",disableTracing:!0}),cWB=KA(function*(){let A=yield*a6,Q=yield*E8,B=yield*dZA({lookup:(C)=>v(A(C),(E)=>Y0(pWB,fW,E)),idleTimeToLive:"1 minute"});return yield*uWB({ping(C){return x3(B,C).pipe(v((E)=>E.Ping()),dQ(()=>ZA(new lK({address:C}))),fC)},send({address:C,message:E}){let I=E.rpc,Y=nQ(I.annotations,l4);if(E._tag==="OutgoingEnvelope")return x3(B,C).pipe(v((J)=>J.Envelope({envelope:E.envelope,persisted:Y})),fC,_5(()=>ZA(new lK({address:C}))));if(!ER(I.successSchema))return w0(ht(E),{onSuccess:(J)=>x3(B,C).pipe(v((D)=>D.Effect({request:J,persisted:Y})),v((D)=>jJ(o6(E.rpc))(D).pipe(T0(gC,E.context),YB)),v(E.respond),fC,_5(()=>ZA(new lK({address:C})))),onFailure:(J)=>E.respond(new rD({id:Q.unsafeNext(),requestId:E.envelope.requestId,exit:BI(J)}))});return w0(ht(E),{onSuccess:(J)=>x3(B,C).pipe(v((D)=>D.Stream({request:J,persisted:Y},{asMailbox:!0})),v((D)=>{let U=jJ(o6(E.rpc));return D.take.pipe(v((N)=>YB(U(N))),v(E.respond),QY,T0(gC,E.context),VD(Uj,()=>u),_5(()=>ZA(new lK({address:C}))))}),fC),onFailure:(J)=>E.respond(new rD({id:Q.unsafeNext(),requestId:E.envelope.requestId,exit:BI(J)}))})},notify({address:C,message:E}){if(cA(C))return u;let I=E.envelope;return x3(B,C.value).pipe(v((Y)=>Y.Notify({envelope:I})),fC,zI((Y)=>{if(Y._tag==="EntityNotManagedByRunner")return ZA(Y);return u}))}})}),f9=t0(r6,cWB).pipe(mA(pK));class a6 extends uB("@effect/cluster/Runners/RpcClientProtocol")(){}var YT=(A)=>GB(a6,KA(function*(){let Q=yield*EY,B=yield*s3,C=A.https??!1;return(E)=>{let I=iO(B,nO(`http${C?"s":""}://${E.host}:${E.port}/${A.path}`));return O9Q(I).pipe(Y0(EY,Q))}})),GT=(A)=>GB(a6,KA(function*(){let Q=yield*EY,B=A.https??!1,C=yield*cO;return XQ(function*(E){let I=yield*ug(`ws${B?"s":""}://${E.host}:${E.port}/${A.path}`).pipe(Y0(cO,C));return yield*Fa().pipe(Y0(eU,I),Y0(EY,Q))})}));var WKQ=JO("effect_cluster_entities",{bigint:!0}),KKQ=JO("effect_cluster_mailbox_size",{bigint:!0});var dt=JO("effect_cluster_runners"),ut=JO("effect_cluster_shards_assigned"),oy=JO("effect_cluster_shards_unassigned"),VKQ=B8A("effect_cluster_rebalances"),MKQ=B8A("effect_cluster_runner_health_checked");var lWB=(A)=>A&3221225471|A>>>1&1073741824,JVA=(A)=>{let Q=5381,B=A.length;while(B)Q=Q*33^A.charCodeAt(--B);return lWB(Q)};class uM{lookup;entries;isClosed;constructor(A,Q,B){this.lookup=A,this.entries=Q,this.isClosed=B}static make=XQ(function*(A){let Q=yield*ME,B=yield*xC(),C=SI(!1),E=jE();return yield*KD(Q,(I)=>{return hE(C,!0),LB(E,([Y,{scope:G}])=>{return mC(E,Y),rC(KE(G,I))},{concurrency:"unbounded",discard:!0})}),new uM((I,Y)=>SC(A(I),DQ(B,aI,Y)),E,C)});get(A){return KB((Q)=>{if(EB(this.isClosed))return GE;let B=tB(this.entries,A);if(XA(B))return WQ(B.value.deferred);let C=eB(oG()),E=tN(Q.id());return S0(this.entries,A,{scope:C,deferred:E}),WZ(this.lookup(A,C),(I)=>{if(I._tag==="Success")return RX(E,I);return mC(this.entries,A),RX(E,I)})})}remove(A){return LA(()=>{let Q=tB(this.entries,A);if(cA(Q))return u;return mC(this.entries,A),KE(Q.value.scope,_C)})}removeIgnore(A){return dQ(this.remove(A),(Q)=>a0($E(Q),{module:"ResourceMap",method:"removeIgnore",key:A}))}}var DVA=Symbol.for("@effect/cluster/Entity"),iWB=(A)=>o(A,DVA),nWB={[DVA]:DVA,[TA](){return LV({type:this.type})},[PA](A){return iWB(A)&&this.type===A.type},annotate(A,Q){return pt(this.type,this.protocol.annotate(A,Q))},annotateRpcs(A,Q){return pt(this.type,this.protocol.annotateRpcs(A,Q))},annotateContext(A){return pt(this.type,this.protocol.annotateContext(A))},annotateRpcsContext(A){return pt(this.type,this.protocol.annotateRpcsContext(A))},get client(){return zKQ.pipe(v((A)=>A.makeClient(this)))},toLayer(A,Q){return zKQ.pipe(v((B)=>B.registerEntity(this,nB(A)?A:c(A),Q)),mU)},toLayerMailbox(A,Q){let B=KA(this,function*(){let C=nB(A)?yield*A:A,E=yield*RI(),I=(U)=>{return OB((N)=>{E.unsafeOffer(U),G.set(U,N)})},Y={};for(let U of this.protocol.requests.keys())Y[U]=I;let G=new Map,J=(U,N)=>r(()=>{let Z=G.get(U);if(Z)G.delete(U),Z(N)});return yield*C(E,{succeed:(U,N)=>J(U,hQ(N)),fail:(U,N)=>J(U,f0(N)),failCause:(U,N)=>J(U,iB(N)),complete:J}).pipe(dQ((U)=>{let N=iB(U);for(let Z of G.values())Z(N);return u}),zQ,R0),Y});return this.toLayer(B,{...Q,concurrency:"unbounded"})}},pt=(A,Q)=>{let B=Object.create(nWB);return B.type=kt.make(A),B.protocol=Q,B};class UVA extends uB("@effect/cluster/Entity/EntityAddress")(){}class NVA extends uB("@effect/cluster/Entity/RunnerAddress")(){}class ct extends t7{get lastSentChunkValue(){return this.lastSentChunk.pipe(RQ((A)=>xq(A.values)))}get nextSequence(){if(cA(this.lastSentChunk))return 0;return this.lastSentChunk.value.sequence+1}}var zKQ=pA("@effect/cluster/Sharding");class pM extends AL()("@effect/cluster/EntityReaper",{scoped:KA(function*(){let A=30000,Q=[],B=yield*MZ(),C=(I)=>LA(()=>{return A=Math.max(Math.min(A,I.maxIdleTime),5000),Q.push(I),B.open}),E=yield*OJ;return yield*KA(function*(){while(!0){yield*sG(A);let I=E.unsafeCurrentTimeMillis();for(let{entities:Y,maxIdleTime:G,servers:J}of Q)for(let D of J.values()){let U=I-D.lastActiveCheck;if(D.activeRequests.size>0||U<G)continue;yield*aw(Y.removeIgnore(D.address))}}}).pipe(B.whenOpen,zQ,R0),{register:C}})}){}var s6=new WeakSet;class lt{state;acquire;static from=XQ(function*(A,Q){let B=SI({_tag:"Closed"});yield*KD(A,(I)=>{let Y=EB(B);if(Y._tag==="Closed")return u;let G=Y.scope;return hE(B,{_tag:"Closed"}),KE(G,I)});let C=yield*oG();hE(B,{_tag:"Acquiring",scope:C});let E=yield*Q(C);return hE(B,{_tag:"Acquired",scope:C,value:E}),new lt(B,Q)});constructor(A,Q){this.state=A,this.acquire=Q}latch=cY(!0);unsafeGet(){if(this.state.current._tag==="Acquired")return j(this.state.current.value);return x()}unsafeRebuild(){let A=this.state.current;if(A._tag==="Closed")return GE;let Q=A.scope,B=eB(oG());return this.latch.unsafeClose(),hE(this.state,{_tag:"Acquiring",scope:B}),aG((C)=>{return s6.add(C),KE(Q,_C)}).pipe(r0(this.acquire(B)),v((C)=>{return hE(this.state,{_tag:"Acquired",scope:B,value:C}),this.latch.open}))}await=LA(()=>{let A=this.state.current;if(A._tag==="Closed")return GE;else if(A._tag==="Acquired")return c(A.value);return VA(this.latch.await,this.await)})}var wKQ=XQ(function*(A,Q,B){let C=yield*fI,E=yield*E8,I=yield*ME,Y=B.storage!==dM,G=B.mailboxCapacity??C.entityMailboxCapacity,J=yield*OJ,D=yield*xC(),U=new Map,N=yield*uM.make(XQ(function*(z){if(yield*B.sharding.isShutdown)return yield*new UN({address:z});let L=yield*ME,O=yield*MZ();yield*jC(L,WG(B.storage.resetAddress(z)));let R=new Map,_=[],S=yield*lt.from(L,XQ(function*(y){let p=!1,i=yield*A.protocol.toHandlersContext(Q).pipe(SC(D.pipe(DQ(UVA,z),DQ(NVA,B.runnerAddress),DQ(aI,y))),T0(D3,VI())),MA=yield*DR(A.protocol,{spanPrefix:`${A.type}(${z.entityId})`,concurrency:B.concurrency??1,onFromServer(d){switch(d._tag){case"Exit":{let AA=R.get(d.requestId);if(!AA)return u;if(AA.sentReply=!0,Y&&p&&nQ(AA.rpc.annotations,l4)&&Bw(d.exit))return u;return ZVA(4,LA(()=>AA.message.respond(new rD({requestId:K2(d.requestId),id:E.unsafeNext(),exit:d.exit})))).pipe(v(()=>{if(R.delete(d.requestId),R.size===0)q.lastActiveCheck=J.unsafeCurrentTimeMillis();return u}),YB)}case"Chunk":{let AA=R.get(d.requestId);if(!AA)return u;let IA=AA.sequence;if(AA.sequence++,!AA.sentReply)AA.sentReply=!0;return YB(ZVA(4,LA(()=>{let UA=new rK({requestId:K2(d.requestId),id:E.unsafeNext(),sequence:IA,values:d.values});return AA.lastSentChunk=j(UA),AA.message.respond(UA)})))}case"Defect":{let AA=S.unsafeRebuild();return _=Array.from(R.keys()),MD("Defect in entity, restarting",MI(d.defect)).pipe(r0(AA.pipe(pY(MD),OY(LI(500)))),a0({module:"EntityManager",address:z,runner:B.runnerAddress}))}case"ClientEnd":return O.open}}}).pipe(IE(y),SC(i));yield*jC(y,r(()=>{p=!0}));for(let d of _){let{lastSentChunk:AA,message:IA}=R.get(d);yield*MA.write(0,{...IA.envelope,id:OG(IA.envelope.requestId),tag:IA.envelope.tag,payload:new ct({...IA.envelope,lastSentChunk:AA})})}return _=[],MA.write})),q={address:z,mailboxGauge:KKQ.pipe(B4("type",A.type),B4("entityId",z.entityId)),write(y,p){if(S.state.current._tag!=="Acquired")return v(S.await,(i)=>i(y,p));return S.state.current.value(y,p)},activeRequests:R,lastActiveCheck:J.unsafeCurrentTimeMillis()};return yield*jC(L,KB((y)=>{return U.delete(z.entityId),s6.add(y.id()),q.write(0,{_tag:"Eof"}).pipe(r0(zQ(O.await)),kp(C.entityTerminationTimeout))})),U.set(z.entityId,q),q},T0(D3,VI()))),Z=yield*pM,X=b0(B.maxIdleTime??C.entityMaxIdleTime);if(Number.isFinite(X))yield*Z.register({maxIdleTime:X,servers:U,entities:N});let W=WKQ.pipe(B4("type",A.type));yield*r(()=>{W.unsafeUpdate(BigInt(U.size),[]);for(let z of U.values())z.mailboxGauge.unsafeUpdate(BigInt(z.activeRequests.size),[])}).pipe(r0(sG(1000)),QY,uQ(I));function K(z){return T0(v(N.get(z.envelope.address),(L)=>{switch(z._tag){case"IncomingRequestLocal":{let O=L.activeRequests.get(z.envelope.requestId);if(O)return ZA(new iK({envelopeId:z.envelope.requestId,address:z.envelope.address}));let R=A.protocol.requests.get(z.envelope.tag);if(!Y&&nQ(R.annotations,l4))return xE("EntityManager.sendLocal: Cannot process a persisted message without MessageStorage");if(G!=="unbounded"&&L.activeRequests.size>=G)return ZA(new my({address:z.envelope.address}));return O={rpc:R,message:z,sentReply:!1,lastSentChunk:z.lastSentReply,sequence:HA(z.lastSentReply,{onNone:()=>0,onSome:(_)=>_._tag==="Chunk"?_.sequence+1:0})},L.activeRequests.set(z.envelope.requestId,O),L.write(0,{...z.envelope,id:OG(z.envelope.requestId),payload:new ct({...z.envelope,lastSentChunk:z.lastSentReply})})}case"IncomingEnvelope":{let O=L.activeRequests.get(z.envelope.requestId);if(!O)return ZA(new UN({address:z.envelope.address}));else if(z.envelope._tag==="AckChunk"&&XA(O.lastSentChunk)&&z.envelope.replyId!==O.lastSentChunk.value.id)return u;return L.write(0,z.envelope._tag==="AckChunk"?{_tag:"Ack",requestId:OG(z.envelope.requestId)}:{_tag:"Interrupt",requestId:OG(z.envelope.requestId),interruptors:[]})}}}),D3,VI())}let V=(z)=>LA(function L(){let O=new Set;for(let R of U.values())if(z===R.address.shardId)O.add(R);if(O.size===0)return u;return v(LB(O,(R)=>N.removeIgnore(R.address),{concurrency:"unbounded",discard:!0}),L)}),M=jJ(oWB(A));return s({interruptShard:V,isProcessingFor(z,L){let O=U.get(z.envelope.address.entityId);if(!O)return!1;let R=O.activeRequests.get(z.envelope.requestId);if(R===void 0)return!1;else if(L?.excludeReplies&&R.sentReply)return!1;return!0},sendLocal:K,send:(z)=>M(z).pipe(w0({onFailure:(L)=>{if(z._tag==="IncomingEnvelope")return MC(new oD({cause:L}));return YB(z.respond(new n4({reply:new rD({id:E.unsafeNext(),requestId:z.envelope.requestId,exit:BI(new oD({cause:L}))}),rpc:A.protocol.requests.get(z.envelope.tag),context:D})))},onSuccess:(L)=>{if(L._tag==="IncomingEnvelope")return K(new i4(L));let O=z,R=A.protocol.requests.get(L.envelope.tag);return K(new dy({envelope:L.envelope,lastSentReply:L.lastSentReply,respond:(_)=>O.respond(new n4({reply:_,rpc:R,context:D}))}))}}),SC(D)),activeEntityCount:r(()=>U.size)})}),oWB=(A)=>{let Q=i0();for(let B of A.protocol.requests.values())Q.push(i2("IncomingRequest",{envelope:qQ(hB({...GKQ.fields,tag:J0(B._tag),payload:B.payloadSchema}),YKQ,{decode:(C)=>oK(C),encode:s}),lastSentReply:D2(o6(B))}));return _0(...Q,i2("IncomingEnvelope",{envelope:_0(vQ(i6),vQ(n6))}))},ZVA=(A,Q)=>A===0?Q:zI(Q,()=>bU(ZVA(A-1,Q),200));var{$match:GP0,EntityRegistered:LKQ,SingletonRegistered:OKQ}=s8();class cM extends uB("@effect/cluster/RunnerHealth")(){}var aWB=KA(function*(){let A=yield*r6;function Q(B){return dp(mX(A.ping(B),3000))}return cM.of({isAlive:Q})}),sWB=GB(cM,aWB),ry=sWB.pipe(mA(f9),mA(m9));var qKQ="@effect/cluster/Runner",TKQ=Symbol.for(qKQ);class r4 extends N4(qKQ)({address:YY,version:SD}){static pretty=utA(this);[TKQ]=TKQ;static decodeSync=A4(D4(r4));static encodeSync=xZ(D4(r4));[sA](){return this.toString()}}class Y8 extends uB("@effect/cluster/ShardStorage")(){}var _KQ=XQ(function*(A){let Q=new Set;return Y8.of({getAssignments:h(A.getAssignments,(B)=>{let C=new Map;for(let[E,I]of B)C.set(iD.make(E),I===null?x():j(PKQ(I)));return C}),saveAssignments:(B)=>A.saveAssignments(Array.from(B,([C,E])=>[C,cA(E)?null:JT(E.value)])),getRunners:KA(function*(){let B=yield*A.getRunners,C=new Array(B.length);for(let E=0;E<B.length;E++){let[I,Y]=B[E];C[E]=[PKQ(I),r4.decodeSync(Y)]}return C}),saveRunners:(B)=>LA(()=>A.saveRunners(Array.from(B,([C,E])=>[JT(C),r4.encodeSync(E)]))),acquire:(B,C)=>A.acquire(JT(B),Array.from(C)),refresh:(B,C)=>A.refresh(JT(B),Array.from(C)),release:XQ(function*(B,C){Q.delete(C),yield*A.release(JT(B),C).pipe(hX(()=>r(()=>Q.add(C))))}),releaseAll:XQ(function*(B){Q.clear(),yield*A.releaseAll(JT(B))})})}),a4=RJ(Y8,()=>{let A=[];return Y8.of({getAssignments:c(new Map),saveAssignments:()=>u,getRunners:r(()=>[]),saveRunners:()=>u,acquire:(Q,B)=>{return A=Array.from(B),c(Array.from(B))},refresh:()=>r(()=>A),release:()=>u,releaseAll:()=>u})});var JT=(A)=>`${A.host}:${A.port}`,PKQ=(A)=>{let[Q,B]=A.split(":");return new YY({host:Q,port:Number(B)})};class it{runners;shards;static fromStorage=XQ(function*(A){let Q=yield*Y8,B=yield*cM,C=yield*Q.getRunners,E=yield*Q.getAssignments,I=i0(),Y=jE();if(yield*LB(C,([Z,X])=>h(B.isAlive(Z),(W)=>{if(W)S0(Y,Z,X);else I.push(X)}),{concurrency:"unbounded",discard:!0}),I.length>0)yield*f2("Ignoring runners that are no longer considered alive:",I);let G=new Map,J=i0();for(let[Z,X]of E)if(XA(X)&&mE(Y,X.value))G.set(Z,X.value);else if(XA(X))J.push([Z,X.value]);if(J.length>0)yield*f2("Ignoring shard assignments for runners that are no longer considered alive: ",J);let D=yield*wJ,U=jE();for(let[Z,X]of Y)S0(U,Z,XVA({runner:X,registeredAt:D}));let N=new Map;for(let Z=1;Z<=A;Z++){let X=iD.make(Z);N.set(X,aQ(G.get(X)))}return new it(U,N)});constructor(A,Q){this.runners=A,this.shards=Q}get maxVersion(){if(pG(this.runners)===0)return x();let A=void 0;for(let[,Q]of this.runners)if(A===void 0||Q.runner.version>A)A=Q.runner.version;return j(A)}allRunnersHaveVersion(A){return A.pipe(RQ((Q)=>yq(this.runnerVersions,(B)=>B===Q)),YQ(x0))}get shardsPerRunner(){let A=jE();if(oqA(this.runners))return A;K_(this.runners,(Q,B)=>{S0(A,B,new Set)});for(let[Q,B]of this.shards){if(cA(B))continue;gB(tB(A,B.value)).add(Q)}return A}get averageShardsPerRunner(){let A=pG(this.runners);return A>0?this.shards.size/A:0}get unassignedShards(){let A=[];for(let[Q,B]of this.shards)if(cA(B))A.push(Q);return A}get runnerVersions(){let A=[];for(let[,Q]of this.runners)A.push(Q.runner.version);return A}}var XVA=(A)=>A;function jKQ(A){return SKQ(A.unassignedShards,A,!0,1)}var tWB=bzA(R2(_V,([,A])=>A),R2(_V,([,,A])=>A));function xKQ(A,Q){let{shardsPerRunner:B,maxVersion:C}=A,E=i0();if(A.allRunnersHaveVersion(C)){let Y=A.averageShardsPerRunner;K_(B,(G)=>{let J=Math.max(0,G.size-Y);for(let D of eWB(G,J)){let U=A.shards.get(D)??x();if(cA(U)){E.push([D,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER]);continue}let N=U.value;E.push([D,HA(tB(B,N),{onNone:()=>Number.MIN_SAFE_INTEGER,onSome:(Z)=>-Z.size}),HA(tB(A.runners,N),{onNone:()=>Number.MIN_SAFE_INTEGER,onSome:(Z)=>Z.registeredAt})])}})}let I=E.sort(tWB).map(([Y])=>Y);return SKQ(I,A,!1,Q,B,C)}function SKQ(A,Q,B,C,E=Q.shardsPerRunner,I=Q.maxVersion){let Y=jE(),G=jE(),J=pi();if(cA(I))return[Y,G,J];let D=I.value;for(let U of A){let N,Z;for(let[K,V]of E){let M=tB(Q.runners,K);if(cA(M))continue;if(M.value.runner.version!==D)continue;if(mE(G,K))continue;if(!B){if((gB(tB(Y,K))?.size??0)>=Q.shards.size*C)continue}if(N===void 0||V.size<Z.size)N=K,Z=V}if(!N||!Z)break;let X=gB(Q.shards.get(U)??x());if(X&&X.toString()===N.toString())continue;let W=X&&gB(tB(E,X));if(W&&Z.size+1>=W.size)continue;if(OEA(Y,N,HA({onNone:()=>j(new Set([U])),onSome:(K)=>{return K.add(U),j(K)}})),X)OEA(G,X,HA({onNone:()=>j(new Set([U])),onSome:(K)=>{return K.add(U),j(K)}}));if(Z.add(U),W)W.delete(U);if(g3(J,N),X)g3(J,X)}return[Y,G,J]}function eWB(A,Q){let B=Array.from(A),C=B.length;while(C!=0){let E=Math.floor(Math.random()*C);C=C-1,AKB(B,C,E)}return Q<B.length?B.slice(0,Q):B}function AKB(A,Q,B){let C=A[Q];return A[Q]=A[B],A[B]=C,A}var FVA=SD.pipe(vZ("MachineId"),wO({pretty:()=>(A)=>`MachineId(${A})`})),gKQ=(A)=>FVA.make(A);class nt extends uB("@effect/cluster/ShardManager")(){}class d9 extends uB("@effect/cluster/ShardManager/Config")(){static defaults={rebalanceDebounce:lC(500),rebalanceInterval:dJ(20),rebalanceRetryInterval:dJ(10),rebalanceRate:0.02,persistRetryCount:100,persistRetryInterval:dJ(3),runnerHealthCheckInterval:j8(1),runnerPingTimeout:dJ(3)}}var BKB=pL({rebalanceDebounce:c2("rebalanceDebounce").pipe(lE(d9.defaults.rebalanceDebounce),JI("The duration to wait before rebalancing shards after a change.")),rebalanceInterval:c2("rebalanceInterval").pipe(lE(d9.defaults.rebalanceInterval),JI("The interval on which regular rebalancing of shards will occur.")),rebalanceRetryInterval:c2("rebalanceRetryInterval").pipe(lE(d9.defaults.rebalanceRetryInterval),JI("The interval on which rebalancing of shards which failed to be rebalanced will be retried.")),rebalanceRate:WaA("rebalanceRate").pipe(lE(d9.defaults.rebalanceRate),JI("The maximum ratio of shards to rebalance at once.")),persistRetryCount:FW("persistRetryCount").pipe(lE(d9.defaults.persistRetryCount),JI("The number of times persistence of runners will be retried if it fails.")),persistRetryInterval:c2("persistRetryInterval").pipe(lE(d9.defaults.persistRetryInterval),JI("The interval on which persistence of runners will be retried if it fails.")),runnerHealthCheckInterval:c2("runnerHealthCheckInterval").pipe(lE(d9.defaults.runnerHealthCheckInterval),JI("The interval on which runner health will be checked.")),runnerPingTimeout:c2("runnerPingTimeout").pipe(lE(d9.defaults.runnerPingTimeout),JI("The length of time to wait for a runner to respond to a ping."))}),CKB=BKB.pipe(tw(Ji().pipe(Di)));var ot=GB(d9,CKB);class lM extends uB("@effect/cluster/ShardManager/ShardManagerClient")(){}var EKB=_0(i2("StreamStarted",{}),i2("ShardsAssigned",{address:YY,shards:Z0(iD)}),i2("ShardsUnassigned",{address:YY,shards:Z0(iD)}),i2("RunnerRegistered",{address:YY}),i2("RunnerUnregistered",{address:YY}));class sy extends JR(F2("Register",{payload:{runner:r4},success:FVA}),F2("Unregister",{payload:{address:YY}}),F2("NotifyUnhealthyRunner",{payload:{address:YY}}),F2("GetAssignments",{success:Ao({key:iD,value:an(YY)})}),F2("ShardingEvents",{success:EKB,stream:!0}),F2("GetTime",{success:TI})){}var ay=s8();var IKB=KA(function*(){let A=yield*fI,Q=yield*Xa(sy,{spanPrefix:"ShardManagerClient",disableTracing:!0});return lM.of({register:(B)=>Q.Register({runner:r4.make({address:B,version:A.serverVersion})}),unregister:(B)=>Q.Unregister({address:B}),notifyUnhealthyRunner:(B)=>Q.NotifyUnhealthyRunner({address:B}),getAssignments:Q.GetAssignments(),shardingEvents:Q.ShardingEvents({},{asMailbox:!0}),getTime:Q.GetTime()})});var rt=t0(lM,IKB).pipe(mA(t0(fW,KA(function*(){let A=yield*fI;return yield*(yield*a6)(A.shardManagerAddress)})))),YKB=KA(function*(){let A=yield*Y8,Q=yield*r6,B=yield*cM,C=yield*OJ,E=yield*d9,I=yield*fI,Y=yield*YB(it.fromStorage(I.numberOfShards)),G=yield*ME,J=yield*kH();yield*VW(dt,pG(Y.runners));for(let p of Y.shards.values()){let i=XA(p)?B4(ut,"address",p.toString()):oy;yield*kS(i)}function D(p){return p.pipe(OY({schedule:LI(E.persistRetryCount),times:E.persistRetryCount}),WG)}let U=hU(1).withPermits(1)(D(LA(()=>A.saveRunners(tb(Y.runners,([p,i])=>[p,i.runner]))))),N=hU(1).withPermits(1)(D(LA(()=>A.saveAssignments(Y.shards)))),Z=XQ(function*(p){if(!mE(Y.runners,p))return;if(yield*kS(B4(MKQ,"runner_address",p.toString())),!(yield*B.isAlive(p)))yield*f2(`Runner at address '${p.toString()}' is not alive`),yield*M(p)});function X(p,i){return LA(()=>{if(XA(i)&&!mE(Y.runners,i.value))return ZA(new AVA({address:i.value}));for(let MA of p){if(!Y.shards.has(MA))continue;Y.shards.set(MA,i)}return u})}let W=r(()=>Y.shards),K=0,V=XQ(function*(p){yield*m2(`Registering runner ${r4.pretty(p)}`);let i=C.unsafeCurrentTimeMillis();if(S0(Y.runners,p.address,XVA({runner:p,registeredAt:i})),yield*kS(dt),yield*C9(J,ay.RunnerRegistered({address:p.address})),Y.unassignedShards.length>0)yield*_(!1);return yield*uQ(U,G),gKQ(++K)}),M=XQ(function*(p){if(!mE(Y.runners,p))return;yield*m2("Unregistering runner at address:",p);let i=i0();for(let[MA,d]of Y.shards)if(XA(d)&&JA(d.value,p))i.push(MA),Y.shards.set(MA,x());if(mC(Y.runners,p),yield*VW(dt,-1),i.length>0)yield*VW(B4(oy,"runner_address",p.toString()),i.length),yield*C9(J,ay.RunnerUnregistered({address:p}));yield*uQ(U,G),yield*uQ(_(!0),G)}),z=!1,L=!1,O,R=yield*PJ(),_=(p)=>KB((i)=>{if(!z)return z=!0,S(p);if(p)L=!0;if(!O)O=tN(i.id());return WQ(O)}),S=(p)=>LA(()=>{let i=O;if(O=void 0,!p)p=L,L=!1;return q(p).pipe(i?I2(i):s,WZ(()=>{if(!O)return z=!1,u;return uQ(S(),G)}))}),q=op("ShardManager.rebalance")(function*(p){yield*lp("immmediate",p),yield*sG(E.rebalanceDebounce);let[i,MA,d]=p||Y.unassignedShards.length>0?jKQ(Y):xKQ(Y,E.rebalanceRate);if(yield*$E(`Rebalancing shards (immediate = ${p})`),C8A(d)===0)return;yield*kS(VKQ);let AA=pi();for(let NA of d)yield*LS(R,Q.ping(NA).pipe(mX(E.runnerPingTimeout),zI(()=>{return g3(AA,NA),mC(i,NA),mC(MA,NA),u})));yield*wi(R);let IA=new Set;for(let[NA,bA]of MA)yield*LS(R,X(bA,x()).pipe(w0({onFailure:()=>{g3(AA,NA);for(let FQ of bA)IA.add(FQ);return mC(i,NA),u},onSuccess:()=>{let FQ=bA.size;return VW(B4(ut,"runner_address",NA.toString()),-FQ).pipe(VA(VW(oy,FQ)),VA(C9(J,ay.ShardsUnassigned({address:NA,shards:Array.from(bA)}))))}})));yield*wi(R),K_(i,(NA,bA)=>{for(let FQ of IA)NA.delete(FQ);if(NA.size===0)mC(i,bA)});for(let[NA,bA]of i)yield*LS(R,X(bA,j(NA)).pipe(w0({onFailure:()=>{return g3(AA,NA),u},onSuccess:()=>{let FQ=bA.size;return VW(B4(ut,"runner_address",NA.toString()),-FQ).pipe(VA(VW(oy,-FQ)),VA(C9(J,ay.ShardsAssigned({address:NA,shards:Array.from(bA)}))))}})));yield*wi(R);let UA=C8A(AA)>0;if(UA)yield*LB(AA,Z,{discard:!0}).pipe(uQ(G)),yield*f2("Failed to rebalance runners: ",AA);if(UA&&p)yield*AZ(E.rebalanceRetryInterval).pipe(VA(_(p)),uQ(G));yield*N}),y=LA(()=>LB(LEA(Y.runners),Z,{concurrency:10,discard:!0}));return yield*HZ(()=>N.pipe(dQ((p)=>f2("Failed to persist assignments on shutdown",p)),VA(U.pipe(dQ((p)=>f2("Failed to persist runners on shutdown",p)))))),yield*uQ(U,G),yield*uQ(_(Y.unassignedShards.length>0),G),yield*_(!1).pipe(r0(sG(E.rebalanceInterval)),QY,uQ(G)),yield*y.pipe(r0(sG(E.runnerHealthCheckInterval)),QY,uQ(G)),yield*KA(function*(){let p=yield*zD(J);while(!0)yield*m2("Shard manager event:",yield*BY(p))}).pipe(uQ(G)),yield*m2("Shard manager initialized"),nt.of({getAssignments:W,shardingEvents:zD(J),register:V,unregister:M,rebalance:_,notifyUnhealthyRunner:Z,checkRunnerHealth:y})}),ty=t0(nt,YKB),vKQ=sy.toLayer(KA(function*(){let A=yield*nt,Q=yield*OJ;return{Register:({runner:B})=>A.register(B),Unregister:({address:B})=>A.unregister(B),NotifyUnhealthyRunner:({address:B})=>A.notifyUnhealthyRunner(B),GetAssignments:()=>A.getAssignments,ShardingEvents:XQ(function*(){let B=yield*A.shardingEvents,C=yield*RI();return yield*C.offer(ay.StreamStarted()),yield*GL(B,1,Number.MAX_SAFE_INTEGER).pipe(v((E)=>C.offerAll(E)),QY,R0),C}),GetTime:()=>Q.currentTimeMillis}})),ey=Jv(sy,{spanPrefix:"ShardManager",disableTracing:!0}).pipe(mA(vKQ));var yKQ=Symbol.for("@effect/cluster/SingletonAddress");class HVA extends N4("@effect/cluster/SingletonAddress")({shardId:iD,name:J4}){[yKQ]=yKQ;[TA](){return rA(this)(LQ(`${this.shardId}:${this.name}`))}[PA](A){return this.shardId===A.shardId&&this.name===A.name}}class Ak extends uB("@effect/cluster/Sharding")(){}var GKB=KA(function*(){let A=yield*fI,Q=yield*r6,B=yield*lM,C=yield*E8,E=yield*ME,I=SI(!1),Y=yield*I8,G=Y!==dM,J=yield*Y8,D=new Map,U=jE(),N=new Set,Z=new Set,X=yield*MZ(!1),W=yield*kH(),K=Xo(W),V=(CQ)=>XA(A.runnerAddress)&&JA(CQ,A.runnerAddress.value);function M(CQ){return iD.make(Math.abs(JVA(CQ)%A.numberOfShards)+1)}function z(CQ){return Z.has(CQ.shardId)}if(XA(A.runnerAddress)){let CQ=A.runnerAddress.value;yield*KD(E,()=>{return WG(J.releaseAll(CQ))});let mQ=new Set;yield*KA(function*(){while(!0){yield*X.await;for(let UB of Z){if(N.has(UB))continue;Z.delete(UB),mQ.add(UB)}let MQ=new Set;for(let UB of N){if(Z.has(UB)||mQ.has(UB))continue;MQ.add(UB)}if(mQ.size>0)yield*uQ(q,E),yield*zB;if(MQ.size===0){yield*X.close;continue}let _Q=yield*J.acquire(CQ,MQ);yield*WG(Y.resetShards(_Q));for(let UB of _Q)Z.add(UB);if(_Q.length>0)yield*y.open,yield*uQ(q,E);yield*sG(1000)}}).pipe(dQ((MQ)=>f2("Could not acquire/release shards",MQ)),v5(LI(A.entityMessagePollInterval)),a0({package:"@effect/cluster",module:"Sharding",fiber:"Shard acquisition loop",runner:CQ}),zQ,uQ(E)),yield*LA(()=>J.refresh(CQ,[...Z,...mQ])).pipe(v((MQ)=>{for(let _Q of Z)if(!MQ.includes(_Q))Z.delete(_Q),mQ.add(_Q);return mQ.size>0?r0(uQ(q,E),zB):u}),OY({times:5,schedule:LI(250)}),dQ((MQ)=>MD("Could not refresh shard locks",MQ).pipe(r0(L))),bU("10 seconds"),QY,zQ,uQ(E));let zB=hU(1).withPermits(1)(LA(()=>LB(mQ,(MQ)=>LB(D.values(),(_Q)=>_Q.manager.interruptShard(MQ),{concurrency:"unbounded",discard:!0}).pipe(r0(J.release(CQ,MQ)),a0({runner:CQ}),r0(()=>{mQ.delete(MQ)})),{concurrency:"unbounded",discard:!0})))}let L=LA(()=>{return N.clear(),X.open}),O=new Map,R=yield*wS(),_=hU(1).withPermits(1),S=XQ(function*(CQ,mQ){let QB=new HVA({shardId:M(hy.make(CQ)),name:CQ}),zB=O.get(QB.shardId);if(!zB)zB=jE(),O.set(QB.shardId,zB);if(mE(zB,QB))return yield*xE(`Singleton '${CQ}' is already registered`);let MQ=yield*xC(),_Q=mQ.pipe(T0(D3,VI()),r0(ZZ),fC,SC(MQ),YB,zQ);if(S0(zB,QB,_Q),yield*C9(W,OKQ({address:QB})),Z.has(QB.shardId))yield*$E("Starting singleton",QB),yield*zi(R,QB,_Q)},_),q=_(KA(function*(){for(let[CQ,mQ]of O)for(let[QB,zB]of mQ){let MQ=rL(R,QB),_Q=Z.has(CQ);if(MQ&&!_Q)yield*$E("Stopping singleton",QB),s6.add(yield*vp),yield*$ZA(R,QB);else if(!MQ&&_Q)yield*$E("Starting singleton",QB),yield*zi(R,QB,zB)}})),y=yield*MZ(!0),p=bJ(y.open),i=hU(1),MA=i.withPermits(1),d=(CQ)=>!0;if(G&&XA(A.runnerAddress)){let CQ=A.runnerAddress.value;yield*KA(function*(){yield*$E("Starting"),yield*HZ(()=>$E("Shutting down"));let MQ=new Set,_Q=new Set;d=(UB)=>{if(!MQ.has(UB.envelope.requestId))return!1;let _G=D.get(UB.envelope.address.entityType);if(!_G)return!0;return!_G.manager.isProcessingFor(UB,{excludeReplies:!0})};while(!0){yield*y.await,y.unsafeClose(),yield*i.take(1);let UB=yield*Y.unprocessedMessages(Z),_G=new Set;_Q.add(_G);let jG=dQ(LA(()=>{let XE=UB[ID];if(XE._tag==="IncomingRequest"){if(MQ.has(XE.envelope.requestId))return u;MQ.add(XE.envelope.requestId),_G.add(XE.envelope.requestId)}let L2=XE.envelope.address;if(!Z.has(L2.shardId))return u;let QG=D.get(L2.entityType);if(!QG){if(XE._tag==="IncomingRequest")return YB(XE.respond(n4.fromDefect({id:C.unsafeNext(),requestId:XE.envelope.requestId,defect:new cK({address:L2})})));return u}let KV=QG.manager.isProcessingFor(XE);if(XE._tag==="IncomingEnvelope"&&KV)return QG.manager.send(XE);else if(KV)return u;let R$=tB(mQ,L2);if(XA(R$)){if(R$.value.unprocessed.add(XE.envelope.requestId),XE.envelope._tag==="Interrupt")R$.value.interrupts.set(XE.envelope.requestId,XE);return u}return QG.manager.send(XE)}),(XE)=>{let L2=UB[ID],QG=Dj(XE);if(cA(QG))return Y.saveReply(n4.fromDefect({id:C.unsafeNext(),requestId:L2.envelope.requestId,defect:WE(XE)}));if(QG.value._tag==="MailboxFull")return QB(L2);return u}),ID=0;yield*RY({while:()=>ID<UB.length,step:()=>ID++,body:bJ(jG)}),yield*i.release(1);while(_Q.size>30){let XE=JU(_Q);_Q.delete(XE);for(let L2 of XE)MQ.delete(L2)}}}).pipe(fC,$C(i.releaseAll),dQ((MQ)=>f2("Could not read messages from storage",MQ)),v5(LI(A.entityMessagePollInterval)),a0({package:"@effect/cluster",module:"Sharding",fiber:"Storage read loop",runner:CQ}),zQ,uQ(E)),yield*y.open.pipe(bU(A.entityMessagePollInterval),QY,zQ,uQ(E));let mQ=jE(),QB=(MQ)=>{let _Q=MQ.envelope.address,UB=tB(mQ,_Q);if(XA(UB))return UB.value.unprocessed.add(MQ.envelope.requestId),u;return S0(mQ,_Q,{unprocessed:new Set([MQ.envelope.requestId]),interrupts:new Map}),zB(_Q)},zB=XQ(function*(MQ){let _Q=D.get(MQ.entityType);if(!_Q){mC(mQ,MQ);return}let UB=YU(tB(mQ,MQ)),_G=!1;while(!_G){if(!Z.has(MQ.shardId))return;let jG=i0();for(let QG of UB.unprocessed){if(jG.length===1024)break;jG.push(QG)}let ID=yield*Y.unprocessedMessagesById(jG);if(ID.length===0){yield*sG(A.entityMessagePollInterval);continue}let XE=0,L2=j5(LA(()=>{if(!Z.has(MQ.shardId))return ZA(new UN({address:MQ}));let QG=ID[XE],KV=QG._tag==="IncomingRequest"&&UB.interrupts.get(QG.envelope.requestId);return KV?v(_Q.manager.send(QG),()=>{return UB.interrupts.delete(QG.envelope.requestId),_Q.manager.send(KV)}):_Q.manager.send(QG)}),{MailboxFull:()=>bU(L2,A.sendRetryInterval),AlreadyProcessingMessage:()=>u});yield*RY({while:()=>XE<ID.length,body:bJ(L2),step:()=>XE++});for(let QG of jG)UB.unprocessed.delete(QG);if(UB.unprocessed.size>0)continue;yield*MA(r(()=>{if(UB.unprocessed.size===0)mC(mQ,MQ),_G=!0}))}},OY({while:(MQ)=>MQ._tag==="PersistenceError",schedule:LI(A.entityMessagePollInterval)}),dQ((MQ)=>MD("Could not resume unprocessed messages",MQ)),(MQ,_Q)=>a0(MQ,{package:"@effect/cluster",module:"Sharding",fiber:"Resuming unprocessed messages",runner:CQ,entity:_Q}),(MQ,_Q)=>$C(MQ,r(()=>mC(mQ,_Q))),zQ,uQ(E))}let AA=(CQ)=>LA(()=>{let mQ=CQ.envelope.address;if(!z(mQ))return ZA(new UN({address:mQ}));let QB=D.get(mQ.entityType);if(!QB)return ZA(new cK({address:mQ}));return CQ._tag==="IncomingRequest"||CQ._tag==="IncomingEnvelope"?QB.manager.send(CQ):Q.sendLocal({message:CQ,send:QB.manager.sendLocal,simulateRemoteSerialization:A.simulateRemoteSerialization})}),IA=(CQ,mQ)=>LA(()=>{let QB=CQ.envelope.address;if(!z(QB))return ZA(new UN({address:QB}));else if(!D.has(QB.entityType))return ZA(new cK({address:QB}));let zB=G?p:()=>xE("Sharding.notifyLocal: storage is disabled");if(CQ._tag==="IncomingRequest"||CQ._tag==="IncomingEnvelope"){if(CQ._tag==="IncomingRequest"&&d(CQ))return ZA(new iK({address:QB,envelopeId:CQ.envelope.requestId}));return zB()}return Q.notifyLocal({message:CQ,notify:zB,discard:mQ})}),UA=hQA(lK.is,UN.is);function NA(CQ,mQ,QB){return VD(LA(()=>{let zB=CQ.envelope.address,MQ=tB(U,zB.shardId),_Q=nQ(CQ.rpc.annotations,l4);if(_Q&&!G)return xE("Sharding.sendOutgoing: Persisted messages require MessageStorage");let UB=XA(MQ)&&V(MQ.value);if(_Q)return UB?IA(CQ,mQ):Q.notify({address:MQ,message:CQ,discard:mQ});else if(cA(MQ))return ZA(new UN({address:zB}));return UB?AA(CQ):Q.send({address:MQ.value,message:CQ})}),UA,(zB)=>{if(QB===0)return MC(zB);return bU(NA(CQ,mQ,QB&&QB-1),A.sendRetryInterval)})}let bA=yield*caA().pipe(IE(E)),FQ=naA(bA,v(sG(A.shardManagerUnavailableTimeout),()=>{return W_(U),L}),{onlyIfMissing:!0}),IQ=iaA(bA);yield*KA(function*(){if(yield*$E("Registering with shard manager"),XA(A.runnerAddress)){let MQ=yield*B.register(A.runnerAddress.value);yield*C.setMachineId(MQ)}yield*IQ,yield*$E("Subscribing to sharding events");let CQ=yield*B.shardingEvents,mQ=yield*WB(),QB=yield*KA(function*(){while(!0){let[MQ]=yield*CQ.takeAll;for(let _Q of MQ)switch(yield*$E("Received sharding event",_Q),_Q._tag){case"StreamStarted":{yield*RX(mQ,_C);break}case"ShardsAssigned":{for(let UB of _Q.shards)S0(U,UB,_Q.address);if(!EB(I)&&V(_Q.address)){for(let UB of _Q.shards){if(N.has(UB))continue;N.add(UB)}yield*X.open}break}case"ShardsUnassigned":{for(let UB of _Q.shards)mC(U,UB);if(V(_Q.address)){for(let UB of _Q.shards)N.delete(UB);yield*X.open}break}}}}).pipe(I2(mQ),R0);yield*WQ(mQ);let zB=yield*KQ.pipe(r0(sG(A.refreshAssignmentsInterval)),QY,R0);yield*kJA([QB,zB])}).pipe(fC,dQ((CQ)=>$E(CQ)),VA(FQ),v5(Gl(1000).pipe(Dl(LI(1e4)))),a0({package:"@effect/cluster",module:"Sharding",fiber:"ShardManager sync",runner:A.runnerAddress}),zQ,uQ(E));let KQ=KA(function*(){let CQ=yield*B.getAssignments;yield*$E("Received shard assignments",CQ);for(let[mQ,QB]of CQ){if(cA(QB)){mC(U,mQ),N.delete(mQ);continue}if(S0(U,mQ,QB.value),!V(QB.value)){N.delete(mQ);continue}if(EB(I)||N.has(mQ))continue;N.add(mQ)}yield*X.open}),U0=new Map,kJ=yield*uM.make(XQ(function*(CQ){let mQ=yield*Gv(CQ.protocol,{supportsAck:!0,generateRequestId:()=>OG(C.unsafeNext()),onFromClient(zB){let MQ=v0(zB.context,KVA);switch(zB.message._tag){case"Request":{let _Q=YU(_H()),UB=K2(zB.message.id),_G=CQ.protocol.requests.get(zB.message.tag),jG;if(!zB.discard){let ID={rpc:_G,context:_Q.currentContext};U0.set(UB,ID),jG=KQA(ID,mQ.write)}else jG=W8;return NA(new uy({envelope:oK({requestId:UB,address:MQ,tag:zB.message.tag,payload:zB.message.payload,headers:zB.message.headers,traceId:zB.message.traceId,spanId:zB.message.spanId,sampled:zB.message.sampled}),lastReceivedReply:x(),rpc:_G,context:_Q.currentContext,respond:jG}),zB.discard)}case"Ack":{let _Q=K2(zB.message.requestId),UB=U0.get(_Q);if(!UB)return u;return NA(new CT({envelope:new i6({id:C.unsafeNext(),address:MQ,requestId:_Q,replyId:UB.lastChunkId}),rpc:UB.rpc}),!1)}case"Interrupt":{let _Q=K2(zB.message.requestId),UB=U0.get(_Q);if(!UB)return u;if(U0.delete(_Q),(EB(I)||zB.message.interruptors.some((jG)=>s6.has(jG)))&&nQ(UB.rpc.annotations,l4))return u;return WG(NA(new CT({envelope:new n6({id:C.unsafeNext(),address:MQ,requestId:_Q}),rpc:UB.rpc}),!1,3))}}return u}}),QB={};for(let zB of Object.keys(mQ.client))QB[zB]=function(MQ,_Q){return mQ.client[zB](MQ,{..._Q,context:_Q?.context?E0(_Q.context,this[WVA]):this[WVA]})};return yield*jC(yield*ME,KB((zB)=>{return s6.add(zB.id()),u})),(zB)=>{let MQ=hy.make(zB);return{...QB,[WVA]:KVA.context(nD.make({shardId:M(MQ),entityId:MQ,entityType:CQ.type}))}}})),ED=(CQ)=>kJ.get(CQ),W8=(CQ)=>u,KQA=(CQ,mQ)=>(QB)=>{switch(QB._tag){case"Chunk":return CQ.lastChunkId=QB.id,mQ({_tag:"Chunk",clientId:0,requestId:OG(QB.requestId),values:QB.values});case"WithExit":return U0.delete(QB.requestId),mQ({_tag:"Exit",clientId:0,requestId:OG(QB.requestId),exit:QB.exit})}},VQA=yield*xC(),MQA=yield*pM,$QA=XQ(function*(CQ,mQ,QB){if(D.has(CQ.type))return;let zB=yield*oG(),MQ=yield*wKQ(CQ,mQ,{...QB,storage:Y,runnerAddress:YU(A.runnerAddress),sharding:Rb}).pipe(SC(VQA.pipe(DQ(pM,MQA),DQ(aI,zB),DQ(E8,C))));D.set(CQ.type,{entity:CQ,scope:zB,manager:MQ}),yield*jC(zB,r(()=>D.delete(CQ.type))),yield*C9(W,LKQ({entity:CQ}))});if(yield*KD(E,(CQ)=>LB(D.values(),(mQ)=>dQ(KE(mQ.scope,CQ),(QB)=>a0(MD("Error closing entity manager",QB),{entity:mQ.entity.type})),{concurrency:"unbounded",discard:!0})),XA(A.runnerAddress)){let CQ=A.runnerAddress.value;yield*jC(E,KA(function*(){yield*$E("Unregistering runner from shard manager",CQ),yield*B.unregister(CQ).pipe(dQ((mQ)=>MD("Error calling unregister with shard manager",mQ))),yield*L}))}yield*jC(E,KB((CQ)=>{return hE(I,!0),s6.add(CQ.id()),u}));let zQA=KA(function*(){let CQ=0;for(let mQ of D.values())CQ+=yield*mQ.manager.activeEntityCount;return CQ}),Rb=Ak.of({getRegistrationEvents:K,getShardId:M,isShutdown:r(()=>EB(I)),registerEntity:$QA,registerSingleton:S,makeClient:ED,send:AA,notify:(CQ)=>IA(CQ,!1),activeEntityCount:zQA});return Rb}),at=t0(Ak,GKB).pipe(mA([pK,pM.Default])),KVA=pA("@effect/cluster/Sharding/ClientAddress"),WVA=Symbol.for(KVA.key);var JKB=XQ(function*(A){let Q=yield*OJ,B=0,C=BigInt(0);yield*A.pipe(yp,h(([Y,G])=>{let J=i0A(Y,2);G=G+b0(J)+1;let D=Q.unsafeCurrentTimeMillis();return G-D}),Pp(5),v((Y)=>{Y.sort();let G=(B+Y[2])/2;return B=Math.round(G),C=BigInt(Math.round(G*1e6)),$E("Current drift",B)}),r0(sG(j8(5))),QY,xp,OY(LI(j8(1))),a0({package:"@effect/cluster",service:"SynchronizedClock"}),R0);function E(){return Q.unsafeCurrentTimeMillis()+B}function I(){return Q.unsafeCurrentTimeNanos()+C}return z_.of({[iEA]:iEA,sleep:Q.sleep,unsafeCurrentTimeMillis:E,unsafeCurrentTimeNanos:I,currentTimeMillis:r(E),currentTimeNanos:r(I)})}),VVA=q2A(KA(function*(){let A=yield*lM,Q=yield*JKB(A.getTime);return P2A(Q)}));var DKB=bJ(u),hKQ=ET.toLayer(KA(function*(){let A=yield*Ak,Q=yield*I8;return{Ping:()=>u,Notify:({envelope:B})=>A.notify(B._tag==="Request"?new fM({envelope:B,respond:DKB,lastSentReply:x()}):new i4({envelope:B})),Effect:({persisted:B,request:C})=>{let E,I,Y=new fM({envelope:C,lastSentReply:x(),respond(G){return v(ly(G),(J)=>{if(E)E(c(J));else I=J;return u})}});return VA(B?VA(Q.registerReplyHandler(Y),A.notify(Y)):A.send(Y),OB((G)=>{if(I)G(c(I));else E=G}))},Stream:({persisted:B,request:C})=>v(RI(),(E)=>{let I=new fM({envelope:C,lastSentReply:x(),respond(Y){return v(ly(Y),(G)=>{return E.unsafeOffer(G),u})}});return IB(B?VA(Q.registerReplyHandler(I),A.notify(I)):A.send(I),E)}),Envelope:({envelope:B})=>A.send(new i4({envelope:B}))}})),UKB=Jv(ET,{spanPrefix:"RunnerServer",disableTracing:!0}).pipe(mA(hKQ)),Qk=UKB.pipe(zC(at),zC(f9),zC(VVA),mA(rt)),Bk=at.pipe(zC(f9),mA(rt),mA(a4),j2A(fI,(A)=>({...A,runnerAddress:x()})));var NKB=(A)=>{let Q=Qk.pipe(mA(Nv(A)));return A.logAddress?fKQ(Q):Q},ZKB=(A)=>{let Q=Qk.pipe(mA(Uv(A)));return A.logAddress?fKQ(Q):Q},fKQ=(A)=>mU(rg((Q)=>a0(m2(`Listening on: ${Q}`),{package:"@effect/cluster",service:"Runner"}))).pipe(zC(A)),dKQ=bZ.serve().pipe(zC(NKB({path:"/",logAddress:!0})),mA(YT({path:"/"}))),uKQ=Bk.pipe(mA(YT({path:"/"}))),pKQ=bZ.serve().pipe(zC(ZKB({path:"/",logAddress:!0})),mA(GT({path:"/"}))),cKQ=Bk.pipe(mA(GT({path:"/"})));var lKQ=pA("@effect/sql/SqlClient");var st=lKQ;class NT extends YG()("@effect/sql/SqlClient/SafeIntegers",{defaultValue:()=>!1}){}var VKB=XQ(function*(A){let Q=(yield*st).withoutTransforms(),B=A?.prefix??"cluster",C=(q)=>`${B}_${q}`,E=Q.literal(String(tt.AckChunk)),I=Q.literal(String(Ck.WithExit)),Y=C("messages"),G=Q(Y),J=C("replies"),D=Q(J);yield*Q.onDialectOrElse({mssql:()=>Q`
        IF OBJECT_ID(N'${G}', N'U') IS NULL
        CREATE TABLE ${G} (
          id BIGINT PRIMARY KEY,
          rowid BIGINT IDENTITY(1,1),
          message_id VARCHAR(255),
          shard_id INT NOT NULL,
          entity_type VARCHAR(255) NOT NULL,
          entity_id VARCHAR(255) NOT NULL,
          kind INT NOT NULL,
          tag VARCHAR(255),
          payload TEXT,
          headers TEXT,
          trace_id VARCHAR(255),
          span_id VARCHAR(255),
          sampled BIT,
          processed BIT NOT NULL DEFAULT 0,
          request_id BIGINT NOT NULL,
          reply_id BIGINT,
          last_reply_id BIGINT,
          last_read DATETIME,
          deliver_at BIGINT,
          UNIQUE (message_id),
          FOREIGN KEY (request_id) REFERENCES ${G} (id) ON DELETE CASCADE
        )
      `,mysql:()=>Q`
        CREATE TABLE IF NOT EXISTS ${G} (
          id BIGINT NOT NULL,
          rowid BIGINT NOT NULL AUTO_INCREMENT PRIMARY KEY,
          message_id VARCHAR(255),
          shard_id INT NOT NULL,
          entity_type VARCHAR(255) NOT NULL,
          entity_id VARCHAR(255) NOT NULL,
          kind INT NOT NULL,
          tag VARCHAR(255),
          payload TEXT,
          headers TEXT,
          trace_id VARCHAR(255),
          span_id VARCHAR(255),
          sampled BOOLEAN,
          processed BOOLEAN NOT NULL DEFAULT FALSE,
          request_id BIGINT NOT NULL,
          reply_id BIGINT,
          last_reply_id BIGINT,
          last_read DATETIME,
          deliver_at BIGINT,
          UNIQUE (id),
          UNIQUE (message_id),
          FOREIGN KEY (request_id) REFERENCES ${G} (id) ON DELETE CASCADE
        )
      `,pg:()=>Q`
        CREATE TABLE IF NOT EXISTS ${G} (
          id BIGINT PRIMARY KEY,
          rowid BIGSERIAL,
          message_id VARCHAR(255),
          shard_id INT NOT NULL,
          entity_type VARCHAR(255) NOT NULL,
          entity_id VARCHAR(255) NOT NULL,
          kind INT NOT NULL,
          tag VARCHAR(255),
          payload TEXT,
          headers TEXT,
          trace_id VARCHAR(255),
          span_id VARCHAR(255),
          sampled BOOLEAN,
          processed BOOLEAN NOT NULL DEFAULT FALSE,
          request_id BIGINT NOT NULL,
          reply_id BIGINT,
          last_reply_id BIGINT,
          last_read TIMESTAMP,
          deliver_at BIGINT,
          UNIQUE (message_id),
          FOREIGN KEY (request_id) REFERENCES ${G} (id) ON DELETE CASCADE
        )
      `.pipe(WG),orElse:()=>Q`
        CREATE TABLE IF NOT EXISTS ${G} (
          id INTEGER PRIMARY KEY,
          message_id TEXT,
          shard_id INTEGER NOT NULL,
          entity_type TEXT NOT NULL,
          entity_id TEXT NOT NULL,
          kind INTEGER NOT NULL,
          tag TEXT,
          payload TEXT,
          headers TEXT,
          trace_id TEXT,
          span_id TEXT,
          sampled BOOLEAN,
          processed BOOLEAN NOT NULL DEFAULT FALSE,
          request_id INTEGER NOT NULL,
          reply_id INTEGER,
          last_reply_id INTEGER,
          last_read TEXT,
          deliver_at INTEGER,
          UNIQUE (message_id),
          FOREIGN KEY (request_id) REFERENCES ${G} (id) ON DELETE CASCADE
        )
      `});let U=`${Y}_shard_idx`,N=`${Y}_request_id_idx`;yield*Q.onDialectOrElse({mssql:()=>Q`
        IF NOT EXISTS (SELECT * FROM sys.indexes WHERE name = ${U})
        CREATE INDEX ${Q(U)} 
        ON ${G} (shard_id, processed, last_read, deliver_at);

        IF NOT EXISTS (SELECT * FROM sys.indexes WHERE name = ${N})
        CREATE INDEX ${Q(N)}
        ON ${G} (request_id);
      `,mysql:()=>Q`
        CREATE INDEX ${Q(U)}
        ON ${G} (shard_id, processed, last_read, deliver_at);

        CREATE INDEX ${Q(N)}
        ON ${G} (request_id);
      `.unprepared.pipe(WG),pg:()=>Q`
        CREATE INDEX IF NOT EXISTS ${Q(U)}
        ON ${G} (shard_id, processed, last_read, deliver_at);

        CREATE INDEX IF NOT EXISTS ${Q(N)}
        ON ${G} (request_id);
      `.pipe(pj((q)=>a0($E("Failed to create indexes",q),{package:"@effect/cluster",module:"SqlMessageStorage"})),OY({schedule:LI(1000)})),orElse:()=>tI([Q`
          CREATE INDEX IF NOT EXISTS ${Q(U)}
          ON ${G} (shard_id, processed, last_read, deliver_at)
        `,Q`
          CREATE INDEX IF NOT EXISTS ${Q(N)}
          ON ${G} (request_id)
        `]).pipe(Q.withTransaction)}),yield*Q.onDialectOrElse({mssql:()=>Q`
        IF OBJECT_ID(N'${D}', N'U') IS NULL
        CREATE TABLE ${D} (
          id BIGINT PRIMARY KEY,
          rowid BIGINT IDENTITY(1,1),
          kind INT,
          request_id BIGINT NOT NULL,
          payload TEXT NOT NULL,
          sequence INT,
          acked BIT NOT NULL DEFAULT 0,
          CONSTRAINT ${Q(J+"_one_exit")} UNIQUE (request_id, kind),
          CONSTRAINT ${Q(J+"_sequence")} UNIQUE (request_id, sequence),
          FOREIGN KEY (request_id) REFERENCES ${G} (id) ON DELETE CASCADE
        )
      `,mysql:()=>Q`
        CREATE TABLE IF NOT EXISTS ${D} (
          id BIGINT NOT NULL,
          rowid BIGINT AUTO_INCREMENT PRIMARY KEY,
          kind INT,
          request_id BIGINT NOT NULL,
          payload TEXT NOT NULL,
          sequence INT,
          acked BOOLEAN NOT NULL DEFAULT FALSE,
          UNIQUE (id),
          UNIQUE (request_id, kind),
          UNIQUE (request_id, sequence),
          FOREIGN KEY (request_id) REFERENCES ${G} (id) ON DELETE CASCADE
        )
      `,pg:()=>Q`
        CREATE TABLE IF NOT EXISTS ${D} (
          id BIGINT PRIMARY KEY,
          rowid BIGSERIAL,
          kind INT,
          request_id BIGINT NOT NULL,
          payload TEXT NOT NULL,
          sequence INT,
          acked BOOLEAN NOT NULL DEFAULT FALSE,
          UNIQUE (request_id, kind),
          UNIQUE (request_id, sequence),
          FOREIGN KEY (request_id) REFERENCES ${G} (id) ON DELETE CASCADE
        )
      `,orElse:()=>Q`
        CREATE TABLE IF NOT EXISTS ${D} (
          id INTEGER PRIMARY KEY,
          kind INTEGER,
          request_id INTEGER NOT NULL,
          payload TEXT NOT NULL,
          sequence INTEGER,
          acked BOOLEAN NOT NULL DEFAULT FALSE,
          UNIQUE (request_id, kind),
          UNIQUE (request_id, sequence),
          FOREIGN KEY (request_id) REFERENCES ${G} (id) ON DELETE CASCADE
        )
      `});let Z=`${J}_request_lookup_idx`;yield*Q.onDialectOrElse({mssql:()=>Q`
        IF NOT EXISTS (SELECT * FROM sys.indexes WHERE name = ${Z})
        CREATE INDEX ${Q(Z)}
        ON ${D} (request_id, kind, acked);
      `,mysql:()=>Q`
        CREATE INDEX ${Q(Z)}
        ON ${D} (request_id, kind, acked);
      `.unprepared.pipe(WG),pg:()=>Q`
        CREATE INDEX IF NOT EXISTS ${Q(Z)}
        ON ${D} (request_id, kind, acked);
`.pipe(pj((q)=>a0($E("Failed to create indexes",q),{package:"@effect/cluster",module:"SqlMessageStorage"})),OY({schedule:LI(1000)})),orElse:()=>Q`
        CREATE INDEX IF NOT EXISTS ${Q(Z)}
        ON ${D} (request_id, kind, acked);
      `});let X=(q,y,p)=>{switch(q._tag){case"Request":return{id:q.requestId,message_id:y,shard_id:q.address.shardId,entity_type:q.address.entityType,entity_id:q.address.entityId,kind:tt.Request,tag:q.tag,payload:JSON.stringify(q.payload),headers:JSON.stringify(q.headers),trace_id:q.traceId,span_id:q.spanId,sampled:K?q.sampled:q.sampled?1:0,request_id:q.requestId,reply_id:null,deliver_at:p};case"AckChunk":return{id:q.id,message_id:y,shard_id:q.address.shardId,entity_type:q.address.entityType,entity_id:q.address.entityId,kind:tt.AckChunk,tag:null,payload:null,headers:null,trace_id:null,span_id:null,sampled:null,request_id:q.requestId,reply_id:q.replyId,deliver_at:p};case"Interrupt":return{id:q.id,message_id:y,shard_id:q.address.shardId,entity_type:q.address.entityType,entity_id:q.address.entityId,kind:tt.Interrupt,payload:null,tag:null,headers:null,trace_id:null,span_id:null,sampled:null,request_id:q.requestId,reply_id:null,deliver_at:p}}},W=(q)=>({id:q.id,kind:Ck[q._tag],request_id:q.requestId,payload:q._tag==="WithExit"?JSON.stringify(q.exit):JSON.stringify(q.values),sequence:q._tag==="Chunk"?q.sequence:null}),K=Q.onDialectOrElse({mssql:()=>!1,sqlite:()=>!1,orElse:()=>!0}),V=(q)=>{switch(Number(q.kind)){case 0:return{envelope:{_tag:"Request",requestId:String(q.id),address:{shardId:Number(q.shard_id),entityType:q.entity_type,entityId:q.entity_id},tag:q.tag,payload:JSON.parse(q.payload),headers:JSON.parse(q.headers),traceId:q.trace_id,spanId:q.span_id,sampled:!!q.sampled},lastSentReply:q.reply_reply_id?j({_tag:"Chunk",id:String(q.reply_reply_id),requestId:String(q.request_id),sequence:Number(q.reply_sequence),values:JSON.parse(q.reply_payload)}):x()};case 1:return{envelope:{_tag:"AckChunk",id:String(q.id),requestId:String(q.request_id),replyId:String(q.reply_id),address:{shardId:Number(q.shard_id),entityType:q.entity_type,entityId:q.entity_id}},lastSentReply:x()};case 2:return{envelope:{_tag:"Interrupt",id:String(q.id),requestId:String(q.request_id),address:{shardId:Number(q.shard_id),entityType:q.entity_type,entityId:q.entity_id}},lastSentReply:x()}}},M=Q.literal(K?"FALSE":"0"),z=Q.literal(K?"TRUE":"1"),L=Q.onDialectOrElse({pg:()=>(q,y)=>Q`
        WITH inserted AS (
          INSERT INTO ${G} ${Q.insert(q)}
          ON CONFLICT (message_id) DO NOTHING
          RETURNING id
        ),
        existing AS (
          SELECT m.id, r.id as reply_id, r.kind as reply_kind, r.payload as reply_payload, r.sequence as reply_sequence
          FROM ${G} m
          LEFT JOIN ${D} r ON r.id = m.last_reply_id
          WHERE m.message_id = ${y}
          AND NOT EXISTS (SELECT 1 FROM inserted)
        )
        SELECT * FROM existing
      `,mysql:()=>(q,y)=>Q`
        SELECT m.id, r.id as reply_id, r.kind as reply_kind, r.payload as reply_payload, r.sequence as reply_sequence
        FROM ${G} m
        LEFT JOIN ${D} r ON r.id = m.last_reply_id
        WHERE m.message_id = ${y};
        INSERT INTO ${G} ${Q.insert(q)}
        ON DUPLICATE KEY UPDATE id = id;
      `.unprepared.pipe(Q.withTransaction,OY({times:3}),h(([p])=>p)),mssql:()=>(q,y)=>Q`
        MERGE ${G} WITH (HOLDLOCK) AS target
        USING (SELECT ${y} as message_id) AS source
        ON target.message_id = source.message_id
        WHEN NOT MATCHED THEN
          INSERT ${Q.insert(q)}
        OUTPUT
          inserted.id,
          CASE
            WHEN inserted.id IS NULL THEN (
              SELECT r.id, r.kind, r.payload
              FROM ${D} r
              WHERE r.id = target.last_reply_id
            )
          END as reply_id,
          CASE
            WHEN inserted.id IS NULL THEN (
              SELECT r.kind
              FROM ${D} r
              WHERE r.id = target.last_reply_id
            )
          END as reply_kind,
          CASE
            WHEN inserted.id IS NULL THEN (
              SELECT r.payload
              FROM ${D} r
              WHERE r.id = target.last_reply_id
            )
          END as reply_payload,
          CASE
            WHEN inserted.id IS NULL THEN (
              SELECT r.sequence
              FROM ${D} r
              WHERE r.id = target.last_reply_id
            )
          END as reply_sequence;
      `,orElse:()=>(q,y)=>Q`
        SELECT m.id, r.id as reply_id, r.kind as reply_kind, r.payload as reply_payload, r.sequence as reply_sequence
        FROM ${G} m
        LEFT JOIN ${D} r ON r.id = m.last_reply_id
        WHERE m.message_id = ${y}
      `.pipe(VB(Q`INSERT OR IGNORE INTO ${G} ${Q.insert(q)}`),Q.withTransaction,OY({times:3}))}),O=Q.onDialectOrElse({mssql:()=>Q.literal("DATEADD(MINUTE, -5, GETDATE())"),mysql:()=>Q.literal("NOW() - INTERVAL 5 MINUTE"),pg:()=>Q.literal("NOW() - INTERVAL '5 minutes'"),orElse:()=>Q.literal("DATETIME('now', '-5 minute')")}),R=Q.onDialectOrElse({pg:()=>"NOW()",mysql:()=>"NOW()",mssql:()=>"GETDATE()",orElse:()=>"CURRENT_TIMESTAMP"}),_=Q.literal(R),S=Q.onDialectOrElse({pg:()=>(q,y)=>Q`
        UPDATE ${G} m
        SET last_read = ${_}
        FROM (
          SELECT m.*
          FROM ${G} m
          WHERE m.shard_id IN (${Q.literal(q.map(String).join(","))})
          AND NOT EXISTS (
            SELECT 1 FROM ${D}
            WHERE request_id = m.request_id
            AND (kind = ${I} OR acked = ${M})
          )
          AND m.processed = ${M}
          AND (m.last_read IS NULL OR m.last_read < ${O})
          AND (m.deliver_at IS NULL OR m.deliver_at <= ${Q.literal(String(y))})
          ORDER BY m.rowid ASC
          FOR UPDATE
        ) AS ids
        LEFT JOIN ${D} r ON r.id = ids.last_reply_id
        WHERE m.id = ids.id
        RETURNING ids.*, r.id as reply_reply_id, r.kind as reply_kind, r.payload as reply_payload, r.sequence as reply_sequence
      `,orElse:()=>(q,y)=>Q`
        SELECT m.*, r.id as reply_reply_id, r.kind as reply_kind, r.payload as reply_payload, r.sequence as reply_sequence
        FROM ${G} m
        LEFT JOIN ${D} r ON r.id = m.last_reply_id
        WHERE m.shard_id IN (${Q.literal(q.map(String).join(","))})
        AND NOT EXISTS (
          SELECT 1 FROM ${D}
          WHERE request_id = m.request_id
          AND (kind = ${I} OR acked = ${M})
        )
        AND processed = ${M}
        AND (m.last_read IS NULL OR m.last_read < ${O})
        AND (m.deliver_at IS NULL OR m.deliver_at <= ${Q.literal(String(y))})
        ORDER BY m.rowid ASC
      `.unprepared.pipe(VB((p)=>{if(p.length===0)return u;return Q`
            UPDATE ${G}
            SET last_read = ${_}
            WHERE id IN (${Q.literal(p.map((i)=>i.id).join(","))})
          `.unprepared}),Q.withTransaction)});return yield*IVA({saveEnvelope:({deliverAt:q,envelope:y,primaryKey:p})=>LA(()=>{let i=X(y,p,q),MA=p?L(i,p):IB(Q`INSERT INTO ${G} ${Q.insert(i)}`.unprepared,[]);if(y._tag==="AckChunk")MA=Q`UPDATE ${D} SET acked = ${z} WHERE id = ${y.replyId}`.pipe(r0(Q`UPDATE ${G} SET processed = ${z} WHERE processed = ${M} AND request_id = ${y.requestId} AND kind = ${E}`),r0(MA),Q.withTransaction);return MA.pipe(h((d)=>{if(d.length===0)return ny.Success();let AA=d[0];return ny.Duplicate({originalId:K2(AA.id),lastReceivedReply:AA.reply_id?j({id:String(AA.reply_id),requestId:String(AA.id),_tag:AA.reply_kind===Ck.WithExit?"WithExit":"Chunk",...AA.reply_kind===Ck.WithExit?{exit:JSON.parse(AA.reply_payload)}:{sequence:Number(AA.reply_sequence),values:JSON.parse(AA.reply_payload)}}):x()})}))}).pipe(Y0(NT,!0),jY.refail),saveReply:(q)=>LA(()=>{let y=W(q);return(q._tag==="Chunk"?Q`UPDATE ${G} SET last_reply_id = ${q.id} WHERE id = ${q.requestId}`:Q`UPDATE ${G} SET processed = ${z}, last_reply_id = NULL WHERE request_id = ${q.requestId}`).unprepared.pipe(r0(Q`INSERT INTO ${D} ${Q.insert(y)}`),Q.withTransaction)}).pipe(JE,jY.refail),repliesFor:(q)=>Q`
        SELECT id, kind, request_id, payload, sequence
        FROM ${D}
        WHERE request_id IN (${Q.literal(q.join(","))})
        AND (
          kind = ${I}
          OR (
            kind IS NULL
            AND acked = ${M}
          )
        )
        ORDER BY rowid ASC
      `.unprepared.pipe(Y0(NT,!0),h(n0((y)=>Number(y.kind)===Ck.WithExit?{_tag:"WithExit",id:String(y.id),requestId:String(y.request_id),exit:JSON.parse(y.payload)}:{_tag:"Chunk",id:String(y.id),requestId:String(y.request_id),values:JSON.parse(y.payload),sequence:Number(y.sequence)})),jY.refail),unprocessedMessages:XQ(function*(q,y){let p=yield*S(q,y);if(p.length===0)return[];let i=new Array(p.length),MA=new Array(p.length);for(let d=0;d<p.length;d++)i[d]=V(p[d]),MA[d]=String(p[d].id);return i},Y0(NT,!0),jY.refail),unprocessedMessagesById(q,y){let p=Array.from(q,(i)=>String(i));return Q`
        SELECT m.*, r.id as reply_id, r.kind as reply_kind, r.payload as reply_payload, r.sequence as reply_sequence
        FROM ${G} m
        LEFT JOIN ${D} r ON r.id = m.last_reply_id
        WHERE m.id IN (${Q.literal(p.join(","))})
        AND NOT EXISTS (
          SELECT 1 FROM ${D}
          WHERE request_id = m.request_id
          AND (kind = ${I} OR acked = ${M})
        )
        AND m.processed = ${M}
        AND (m.deliver_at IS NULL OR m.deliver_at <= ${Q.literal(String(y))})
        ORDER BY m.rowid ASC
      `.unprepared.pipe(h(n0(V)),Y0(NT,!0),jY.refail)},resetAddress:(q)=>Q`
        UPDATE ${G}
        SET last_read = NULL
        WHERE processed = ${M}
        AND shard_id = ${q.shardId}
        AND entity_type = ${q.entityType}
        AND entity_id = ${q.entityId}
      `.pipe(JE,jY.refail),resetShards:(q)=>Q`
        UPDATE ${G}
        SET last_read = NULL
        WHERE processed = ${M}
        AND shard_id IN (${Q.literal(q.join(","))})
      `.pipe(JE,jY.refail)})}),ZT=t0(I8,VKB()).pipe(mA(pK));var tt={Request:0,AckChunk:1,Interrupt:2},Ck={WithExit:0,Chunk:null};var MKB=XQ(function*(A){let Q=(yield*st).withoutTransforms(),B=A?.prefix??"cluster",C=(K)=>`${B}_${K}`,E=C("runners"),I=Q(E);yield*Q.onDialectOrElse({mssql:()=>Q`
        IF OBJECT_ID(N'${I}', N'U') IS NULL
        CREATE TABLE ${I} (
          address VARCHAR(255) PRIMARY KEY,
          runner TEXT NOT NULL
        )
      `,mysql:()=>Q`
        CREATE TABLE IF NOT EXISTS ${I} (
          address VARCHAR(255) PRIMARY KEY,
          runner TEXT NOT NULL
        )
      `,pg:()=>Q`
        CREATE TABLE IF NOT EXISTS ${I} (
          address VARCHAR(255) PRIMARY KEY,
          runner TEXT NOT NULL
        )
      `,orElse:()=>Q`
        CREATE TABLE IF NOT EXISTS ${I} (
          address TEXT PRIMARY KEY,
          runner TEXT NOT NULL
        )
      `});let Y=C("shards"),G=Q(Y);yield*Q.onDialectOrElse({mssql:()=>Q`
        IF OBJECT_ID(N'${G}', N'U') IS NULL
        CREATE TABLE ${G} (
          shard_id INT PRIMARY KEY,
          address VARCHAR(255)
        )
      `,mysql:()=>Q`
        CREATE TABLE IF NOT EXISTS ${G} (
          shard_id INT PRIMARY KEY,
          address VARCHAR(255)
        )
      `,pg:()=>Q`
        CREATE TABLE IF NOT EXISTS ${G} (
          shard_id INT PRIMARY KEY,
          address VARCHAR(255)
        )
      `,orElse:()=>Q`
        CREATE TABLE IF NOT EXISTS ${G} (
          shard_id INTEGER PRIMARY KEY,
          address TEXT
        )
      `});let J=C("locks"),D=Q(J);yield*Q.onDialectOrElse({mssql:()=>Q`
        IF OBJECT_ID(N'${D}', N'U') IS NULL
        CREATE TABLE ${D} (
          shard_id INT PRIMARY KEY,
          address VARCHAR(255) NOT NULL,
          acquired_at DATETIME NOT NULL
        )
      `,mysql:()=>Q`
        CREATE TABLE IF NOT EXISTS ${D} (
          shard_id INT PRIMARY KEY,
          address VARCHAR(255) NOT NULL,
          acquired_at DATETIME NOT NULL
        )
      `,pg:()=>Q`
        CREATE TABLE IF NOT EXISTS ${D} (
          shard_id INT PRIMARY KEY,
          address VARCHAR(255) NOT NULL,
          acquired_at TIMESTAMP NOT NULL
        )
      `,orElse:()=>Q`
        CREATE TABLE IF NOT EXISTS ${D} (
          shard_id INTEGER PRIMARY KEY,
          address TEXT NOT NULL,
          acquired_at DATETIME NOT NULL
        )
      `});let U=Q.onDialectOrElse({pg:()=>"NOW()",mysql:()=>"NOW()",mssql:()=>"GETDATE()",orElse:()=>"CURRENT_TIMESTAMP"}),N=Q.literal(U),Z=Q.onDialectOrElse({pg:()=>Q`${N} - INTERVAL '15 seconds'`,mysql:()=>Q`DATE_SUB(${N}, INTERVAL 15 SECOND)`,mssql:()=>Q`DATEADD(SECOND, -15, ${N})`,orElse:()=>Q`datetime(${N}, '-15 seconds')`}),X=Q.onDialectOrElse({pg:()=>(K,V)=>Q`
        INSERT INTO ${D} (shard_id, address, acquired_at) VALUES ${Q.csv(V)}
        ON CONFLICT (shard_id) DO UPDATE
        SET address = ${K}, acquired_at = ${N}
        WHERE ${D}.address = ${K}
          OR ${D}.acquired_at < ${Z}
      `,mysql:()=>(K,V)=>Q`
        INSERT INTO ${D} (shard_id, address, acquired_at) VALUES ${Q.csv(V)}
        ON DUPLICATE KEY UPDATE
        address = IF(address = VALUES(address) OR acquired_at < ${Z}, VALUES(address), address),
        acquired_at = IF(address = VALUES(address) OR acquired_at < ${Z}, VALUES(acquired_at), acquired_at)
      `.unprepared,mssql:()=>(K,V)=>Q`
        MERGE ${D} WITH (HOLDLOCK) AS target
        USING (SELECT * FROM (VALUES ${Q.csv(V)})) AS source (shard_id, address, acquired_at)
        ON target.shard_id = source.shard_id
        WHEN MATCHED AND (target.address = source.address OR DATEDIFF(SECOND, target.acquired_at, ${N}) > 15) THEN
          UPDATE SET address = source.address, acquired_at = source.acquired_at
        WHEN NOT MATCHED THEN
          INSERT (shard_id, address, acquired_at)
          VALUES (source.shard_id, source.address, source.acquired_at);
      `,orElse:()=>(K,V)=>Q`
        WITH source(shard_id, address, acquired_at) AS (VALUES ${Q.csv(V)})
        INSERT INTO ${D} (shard_id, address, acquired_at)
        SELECT source.shard_id, source.address, source.acquired_at
        FROM source
        WHERE NOT EXISTS (
          SELECT 1 FROM ${D}
          WHERE shard_id = source.shard_id
          AND address != ${K}
          AND (strftime('%s', ${N}) - strftime('%s', acquired_at)) <= 15
        )
        ON CONFLICT(shard_id) DO UPDATE
        SET address = ${K}, acquired_at = ${N}
      `}),W=Q.onDialectOrElse({sqlite:()=>Q.literal(""),orElse:()=>Q.literal("FOR UPDATE")});return yield*_KQ({getAssignments:Q`SELECT shard_id, address FROM ${G} ORDER BY shard_id`.values.pipe(jY.refail),saveAssignments:(K)=>{let V=Q`DELETE FROM ${G}`;if(K.length===0)return jY.refail(V);let M=K.map(([z,L])=>Q`(${z}, ${L})`);return V.pipe(r0(Q`INSERT INTO ${G} (shard_id, address) VALUES ${Q.csv(M)}`.unprepared),Q.withTransaction,jY.refail)},getRunners:Q`SELECT address, runner FROM ${I}`.values.pipe(jY.refail,h(n0(([K,V])=>[String(K),String(V)]))),saveRunners:(K)=>{let V=Q`DELETE FROM ${I}`;if(K.length===0)return jY.refail(V);let M=K.map(([L,O])=>Q`(${L}, ${O})`),z=Q`INSERT INTO ${I} (address, runner) VALUES ${Q.csv(M)}`.unprepared;return V.pipe(r0(z),Q.withTransaction,jY.refail)},acquire:XQ(function*(K,V){let M=V.map((L)=>Q`(${L}, ${K}, ${N})`);return yield*X(K,M),(yield*Q`
          SELECT shard_id FROM ${Q(J)}
          WHERE address = ${K} AND ${Q.in("shard_id",V)}
          ${W}
        `).map((L)=>L.shard_id)},Q.withTransaction,jY.refail),refresh:(K,V)=>Q`UPDATE ${D} SET acquired_at = ${N} WHERE address = ${K} AND ${Q.in("shard_id",V)}`.pipe(r0(Q`SELECT shard_id FROM ${D} WHERE address = ${K} AND acquired_at >= ${Z} ${W}`.values),h((M)=>M.map((z)=>Number(z[0]))),jY.refail),release:(K,V)=>Q`DELETE FROM ${D} WHERE address = ${K} AND shard_id = ${V}`.pipe(jY.refail),releaseAll:(K)=>Q`DELETE FROM ${D} WHERE address = ${K}`.pipe(jY.refail)})}),sK=GB(Y8,MKB());import{createServer as igB}from"node:http";var Qq={};ZQ(Qq,{makeUndici:()=>MxB,makeDispatcher:()=>WxB,makeAgentLayer:()=>FMA,makeAgent:()=>NxB,make:()=>XxB,layerWithoutAgent:()=>HMA,layerUndiciWithoutDispatcher:()=>$xB,layerUndici:()=>Aq,layer:()=>FxB,dispatcherLayerGlobal:()=>VxB,dispatcherLayer:()=>KxB,agentLayer:()=>ZxB,UndiciRequestOptions:()=>NRQ,HttpAgentTypeId:()=>DxB,HttpAgent:()=>UxB,Dispatcher:()=>HxB});import*as Ee from"node:http";import*as Ie from"node:https";import{Readable as EVQ}from"node:stream";import{pipeline as xKB}from"node:stream/promises";var Be={};ZQ(Be,{fromWritableChannel:()=>RKB,fromWritable:()=>LVA});import{Readable as $KB}from"node:stream";var tK=(A,Q,{chunkSize:B}={})=>X4(MVA(A,Q,B?Number(B):void 0)),oKQ=(A,Q)=>{let B=Q.maxBytes?Number(Q.maxBytes):void 0;return FZ(r(()=>{let C=A();return C.setEncoding(Q.encoding??"utf8"),C}),(C)=>OB((E)=>{let I="",Y=0;C.once("error",(G)=>{E(ZA(Q.onFailure(G)))}),C.once("end",()=>{E(c(I))}),C.on("data",(G)=>{if(I+=G,Y+=Buffer.byteLength(G),B&&Y>B)E(ZA(Q.onFailure(new Error("maxBytes exceeded"))))})}),(C)=>r(()=>{if("closed"in C&&!C.closed)C.destroy()}))},rKQ=(A,Q)=>{let B=Q.maxBytes?Number(Q.maxBytes):void 0;return FZ(r(A),(C)=>OB((E)=>{let I=Buffer.alloc(0),Y=0;C.once("error",(G)=>{E(ZA(Q.onFailure(G)))}),C.once("end",()=>{E(c(I))}),C.on("data",(G)=>{if(I=Buffer.concat([I,G]),Y+=G.length,B&&Y>B)E(ZA(Q.onFailure(new Error("maxBytes exceeded"))))})}),(C)=>r(()=>{if("closed"in C&&!C.closed)C.destroy()}))},Ae=(A,Q,B={})=>R3(VB(zE(r(A),RI()),([C,E])=>tKQ(C,E,Q)),([C,E])=>NW(eKQ(C,E,B.chunkSize?Number(B.chunkSize):void 0),$VA(C,(I)=>E.failCause(I),B)),([C,E])=>VA(r(()=>{if(!C.closed)C.destroy()}),E.shutdown)),aKQ=F((A)=>(LW in A[0]),(A,Q,B,C)=>Ug(A,Ae(Q,B,C))),sKQ=F(2,(A,Q)=>Ug(A,Ae(Q,(B)=>V9({module:"Stream",method:"pipeThroughSimple",pathOrDescriptor:"",reason:"Unknown",message:String(B)})))),MVA=(A,Q,B)=>R3(VB(zE(r(A),RI()),([C,E])=>tKQ(C,E,Q)),([C,E])=>eKQ(C,E,B),([C,E])=>VA(r(()=>{if("closed"in C&&!C.closed)C.destroy()}),E.shutdown)),$VA=(A,Q,{encoding:B,endOnDone:C=!0}={},E=u)=>{let I=zKB(A,B),Y=C?OB((G)=>{if("closed"in A&&A.closed)G(u);else A.once("finish",()=>G(u)),A.end()}):u;return{awaitRead:()=>u,emit:I,error:(G)=>VA(Y,Q(G)),done:(G)=>VA(Y,E)}},zKB=(A,Q)=>(B)=>B.length===0?u:OB((C)=>{let E=B[Symbol.iterator](),I=E.next();function Y(){let G=I;I=E.next();let J=A.write(G.value,Q);if(I.done)C(u);else if(J)Y();else A.once("drain",Y)}Y()}),tKQ=(A,Q,B)=>r(()=>{if(A.on("readable",()=>{Q.unsafeOffer(void 0)}),A.on("error",(C)=>{Q.unsafeDone(f0(B(C)))}),A.on("end",()=>{Q.unsafeDone(_C)}),A.readable)Q.unsafeOffer(void 0)}),eKQ=(A,Q,B)=>{let C=wKB(A,B),E=lU(Q.takeAll,([,I])=>I?C:sX(C,E));return E},wKB=(A,Q)=>HS(()=>{let B=[],C=A.read(Q);if(C===null)return e5;while(C!==null)B.push(C),C=A.read(Q);return G9(tA(B))});class zVA extends $KB{readLatch;fiber=void 0;constructor(A,Q){super({});this.readLatch=cY(!1),this.fiber=pE(A)(this.readLatch.whenOpen(K9(Q,(B)=>this.readLatch.whenOpen(r(()=>{if(B.length===0)return;this.readLatch.unsafeClose();for(let C of B)if(typeof C==="string")this.push(C,"utf8");else this.push(C)}))))),this.fiber.addObserver((B)=>{if(this.fiber=void 0,zY(B))this.push(null);else this.destroy(WE(B.cause))})}_read(A){this.readLatch.unsafeOpen()}_destroy(A,Q){if(!this.fiber)return Q(A);lY($I(this.fiber)).addObserver((B)=>{Q(B._tag==="Failure"?WE(B.cause):A)})}}var AVQ=(A)=>h(wI(),(Q)=>new zVA(Q,A)),QVQ=(A)=>new zVA(dU,A);var Qe=(A,Q,B)=>BBQ(wVA(A,Q,B)),wVA=(A,Q,B)=>lU(zE(r(()=>A()),WB()),([C,E])=>NW(LKB(C,E,Q),$VA(C,(I)=>XD(E,I),B,F_(E,u)))),LKB=(A,Q,B)=>LA(()=>{function C(E){VC(Q,ZA(B(E)))}return A.on("error",C),$C(WQ(Q),r(()=>{A.removeListener("error",C)}))});var LVA=Qe,RKB=wVA;var Ik={};ZQ(Ik,{toUint8Array:()=>TVA,toString:()=>RVA,toReadableNever:()=>jKB,toReadable:()=>OVA,pipeThroughSimple:()=>_KB,pipeThroughDuplex:()=>PKB,fromReadableChannel:()=>TKB,fromReadable:()=>Ek,fromDuplex:()=>qKB});var Ek=tK,TKB=MVA,qKB=Ae,PKB=aKQ,_KB=sKQ,OVA=AVQ,jKB=QVQ,RVA=oKQ,TVA=rKQ;class Yk extends O2{source;onError;remoteAddressOverride;[gJ];constructor(A,Q,B){super();this.source=A,this.onError=Q,this.remoteAddressOverride=B,this[gJ]=gJ}get headers(){return hI(this.source.headers)}get remoteAddress(){return aQ(this.remoteAddressOverride??this.source.socket.remoteAddress)}textEffect;get text(){if(this.textEffect)return this.textEffect;return this.textEffect=eB(LJ(v(pX(_W),(A)=>RVA(()=>this.source,{onFailure:this.onError,maxBytes:gB(A)})))),this.textEffect}get unsafeText(){return eB(this.text)}get json(){return XZ(this.text,{try:(A)=>A===""?null:JSON.parse(A),catch:this.onError})}get unsafeJson(){return eB(this.json)}get urlParamsBody(){return v(this.text,(A)=>VE({try:()=>kD(new URLSearchParams(A)),catch:this.onError}))}get stream(){return Ek(()=>this.source,this.onError)}get arrayBuffer(){return v(pX(_W),(A)=>TVA(()=>this.source,{onFailure:this.onError,maxBytes:gB(A)}))}}var Ce=Symbol.for("@effect/platform-node/Http/NodeClient/HttpAgent"),Ye=pA("@effect/platform-node/Http/NodeClient/HttpAgent"),qVA=(A)=>h(tI([kQ(r(()=>new Ee.Agent(A)),(Q)=>r(()=>Q.destroy())),kQ(r(()=>new Ie.Agent(A)),(Q)=>r(()=>Q.destroy()))]),([Q,B])=>({[Ce]:Ce,http:Q,https:B})),PVA=(A)=>t0(Ye,qVA(A)),_VA=PVA(),SKB=(A)=>ig((Q,B,C)=>{let E=B.protocol==="https:"?Ie.request(B,{agent:A.https,method:Q.method,headers:Q.headers,signal:C}):Ee.request(B,{agent:A.http,method:Q.method,headers:Q.headers,signal:C});return H(VA(gKB(E,Q,Q.body),vKB(E,Q),{concurrent:!0}),h((I)=>new IVQ(Q,I)))}),gKB=(A,Q,B)=>LA(()=>{switch(B._tag){case"Empty":return A.end(),CVQ(A,Q);case"Uint8Array":case"Raw":return A.end(B.body),CVQ(A,Q);case"FormData":{let C=new Response(B.formData);return C.headers.forEach((E,I)=>{A.setHeader(I,E)}),YE({try:()=>xKB(EVQ.fromWeb(C.body),A),catch:(E)=>new aU({request:Q,reason:"Transport",cause:E})})}case"Stream":return F4(jO(B.stream,(C)=>new aU({request:Q,reason:"Encode",cause:C})),LVA(()=>A,(C)=>new aU({request:Q,reason:"Transport",cause:C})))}}),vKB=(A,Q)=>OB((B)=>{function C(I){B(ZA(new aU({request:Q,reason:"Transport",cause:I})))}A.on("error",C);function E(I){A.off("error",C),B(c(I))}return A.on("upgrade",E),A.on("response",E),r(()=>{A.off("error",C),A.off("upgrade",E),A.off("response",E)})}),CVQ=(A,Q)=>OB((B)=>{function C(I){B(ZA(new aU({request:Q,reason:"Transport",cause:I})))}A.once("error",C);function E(){A.off("error",C),B(u)}return A.once("finish",E),r(()=>{A.off("error",C),A.off("finish",E)})});class IVQ extends Yk{request;[z6];constructor(A,Q){super(Q,(B)=>new sU({request:A,response:this,reason:"Decode",cause:B}));this.request=A,this[z6]=z6}get status(){return this.source.statusCode}cachedCookies;get cookies(){if(this.cachedCookies!==void 0)return this.cachedCookies;let A=this.source.headers["set-cookie"];if(Array.isArray(A))return this.cachedCookies=fO(A);return this.cachedCookies=H4}get formData(){return YE({try:()=>{let A={headers:new globalThis.Headers(this.source.headers)};if(this.source.statusCode)A.status=this.source.statusCode;if(this.source.statusMessage)A.statusText=this.source.statusMessage;return new Response(EVQ.toWeb(this.source),A).formData()},catch:this.onError})}toJSON(){return W4(this,{_id:"@effect/platform/HttpClientResponse",request:this.request.toJSON(),status:this.status})}}var jVA=h(Ye,SKB),xVA=ng(jVA),YVQ=mA(xVA,_VA);var o9={};ZQ(o9,{default:()=>GRQ.default});var GRQ=wN(JMA(),1);SQA(o9,wN(JMA(),1));var Eb=pA("@effect/platform-node/NodeHttpClient/Dispatcher"),DMA=kQ(r(()=>new o9.Agent),(A)=>kX(()=>A.close())),UMA=t0(Eb,DMA),JRQ=RJ(Eb,()=>o9.getGlobalDispatcher()),NMA="@effect/platform-node/NodeHttpClient/undiciOptions",ZMA=(A)=>ig((Q,B,C,E)=>{let Y=E.getFiberRef(gC).unsafeMap.get(NMA)??{};return YxB(Q.body).pipe(v((G)=>YE({try:()=>A.request({...Y,signal:C,method:Q.method,headers:Q.headers,origin:B.origin,path:B.pathname+B.search+B.hash,body:G,headersTimeout:3600000,bodyTimeout:0}),catch:(J)=>new aU({request:Q,reason:"Transport",cause:J})})),h((G)=>new DRQ(Q,G)))});function YxB(A){switch(A._tag){case"Empty":return c(null);case"Uint8Array":case"Raw":return c(A.body);case"FormData":return c(A.formData);case"Stream":return OVA(A.stream)}}function GxB(A){}class DRQ extends O2{request;source;[gJ];[z6];constructor(A,Q){super();this.request=A,this.source=Q,this[gJ]=gJ,this[z6]=z6,Q.body.on("error",GxB)}get status(){return this.source.statusCode}get statusText(){return}cachedCookies;get cookies(){if(this.cachedCookies!==void 0)return this.cachedCookies;let A=this.source.headers["set-cookie"];if(A!==void 0)return this.cachedCookies=fO(Array.isArray(A)?A:[A]);return this.cachedCookies=H4}get headers(){return hI(this.source.headers)}get remoteAddress(){return x()}get stream(){return Ek(()=>this.source.body,(A)=>new sU({request:this.request,response:this,reason:"Decode",cause:A}))}get json(){return XZ(this.text,{try:(A)=>A===""?null:JSON.parse(A),catch:(A)=>new sU({request:this.request,response:this,reason:"Decode",cause:A})})}textBody;get text(){return this.textBody??=YE({try:()=>this.source.body.text(),catch:(A)=>new sU({request:this.request,response:this,reason:"Decode",cause:A})}).pipe(LJ,eB)}get urlParamsBody(){return v(this.text,(A)=>VE({try:()=>kD(new URLSearchParams(A)),catch:(Q)=>new sU({request:this.request,response:this,reason:"Decode",cause:Q})}))}formDataBody;get formData(){return this.formDataBody??=YE({try:()=>this.source.body.formData(),catch:(A)=>new sU({request:this.request,response:this,reason:"Decode",cause:A})}).pipe(LJ,eB)}arrayBufferBody;get arrayBuffer(){return this.arrayBufferBody??=YE({try:()=>this.source.body.arrayBuffer(),catch:(A)=>new sU({request:this.request,response:this,reason:"Decode",cause:A})}).pipe(LJ,eB)}toJSON(){return W4(this,{_id:"@effect/platform/HttpClientResponse",request:this.request.toJSON(),status:this.status})}}var XMA=ng(h(Eb,ZMA)),URQ=mA(XMA,UMA);var DxB=Ce,UxB=Ye,NxB=qVA,ZxB=_VA,FMA=PVA,XxB=jVA,FxB=YVQ,HMA=xVA,HxB=Eb,WxB=DMA,KxB=UMA,VxB=JRQ;class NRQ extends uB(NMA)(){}var MxB=ZMA,Aq=URQ,$xB=XMA;var $b={};ZQ($b,{makeHandler:()=>hgB,make:()=>bgB,layerTest:()=>dgB,layerServer:()=>mgB,layerContext:()=>ugB,layerConfig:()=>fgB,layer:()=>Mb});import{Duplex as zxB,Readable as wxB}from"node:stream";class ZRQ extends zxB{_parser;_canWrite=!0;_writeCallback;constructor(A){super({readableObjectMode:!0});this._parser=Hr({...A,onField:(Q,B)=>{let C={_tag:"Field",info:Q,value:B};this.push(C),this.emit("field",C)},onFile:(Q)=>{let B=new FRQ(Q,this);return this.push(B),this.emit("file",B),(C)=>{if(this._canWrite=B.push(C),C===null&&!this._canWrite)this._resume()}},onError:(Q)=>{this.emit("error",Q)},onDone:()=>{this.push(null)}})}_resume(){if(this._canWrite=!0,this._writeCallback!==void 0){let A=this._writeCallback;this._writeCallback=void 0,A()}}_read(A){}_write(A,Q,B){if(this._parser.write(A instanceof Uint8Array?A:Buffer.from(A,Q)),this._canWrite)B();else this._writeCallback=B}_final(A){this._parser.end(),A()}}var XRQ=(A)=>new ZRQ(A);class FRQ extends wxB{info;_parent;_tag="File";filename;constructor(A,Q){super();this.info=A,this._parent=Q,this.filename=A.filename}_read(A){if(this._parent._canWrite===!1)this._parent._resume()}}import*as HRQ from"node:fs";import*as WRQ from"node:stream/promises";var WMA=(A,Q)=>H(sUQ(Q),h((B)=>tK(()=>{let C=XRQ(B);return A.pipe(C),C},(C)=>RxB(C))),N6,PO(OxB)),KRQ=(A,Q)=>wr(WMA(A,Q),(B,C)=>YE({try:(E)=>WRQ.pipeline(C.file,HRQ.createWriteStream(B),{signal:E}),catch:(E)=>new M4({reason:"InternalError",cause:E})})),OxB=(A)=>A._tag==="Field"?new VRQ(A.info,A.value):new MRQ(A);class KMA extends O2{[zr];constructor(){super();this[zr]=zr}}class VRQ extends KMA{_tag="Field";key;contentType;value;constructor(A,Q){super();this.key=A.name,this.contentType=A.contentType,this.value=Wr(A,Q)}toJSON(){return{_id:"@effect/platform/Multipart/Part",_tag:"Field",key:this.key,value:this.value,contentType:this.contentType}}}class MRQ extends KMA{file;_tag="File";key;name;contentType;content;constructor(A){super();this.file=A,this.key=A.info.name,this.name=A.filename??A.info.name,this.contentType=A.info.contentType,this.content=tK(()=>A,(Q)=>new M4({reason:"InternalError",cause:Q}))}toJSON(){return{_id:"@effect/platform/Multipart/Part",_tag:"File",key:this.key,name:this.name,contentType:this.contentType}}}var $RQ=(A)=>A.file;function RxB(A){switch(A._tag){case"ReachedLimit":switch(A.limit){case"MaxParts":return new M4({reason:"TooManyParts",cause:A});case"MaxFieldSize":return new M4({reason:"FieldTooLarge",cause:A});case"MaxPartSize":return new M4({reason:"FileTooLarge",cause:A});case"MaxTotalSize":return new M4({reason:"BodyTooLarge",cause:A})}default:return new M4({reason:"Parse",cause:A})}}var VMA=WMA,MMA=KRQ,qxB=$RQ;import*as ZQA from"node:http";import{Readable as vgB}from"node:stream";import{pipeline as ygB}from"node:stream/promises";var iSB=wN(HTQ(),1),nSB=wN(RMA(),1),oSB=wN(qMA(),1),vMA=wN(AQA(),1),Fb=wN(wTQ(),1);var DQA={};ZQ(DQA,{layer:()=>JQA});import*as OTQ from"node:child_process";var ZE=(A,Q)=>(B,[C])=>{let E="Unknown";switch(B.code){case"ENOENT":E="NotFound";break;case"EACCES":E="PermissionDenied";break;case"EEXIST":E="AlreadyExists";break;case"EISDIR":E="BadResource";break;case"ENOTDIR":E="BadResource";break;case"EBUSY":E="Busy";break;case"ELOOP":E="BadResource";break}return V9({reason:E,module:A,method:Q,pathOrDescriptor:C,syscall:B.syscall,message:B.message})};var rSB=(A)=>typeof A==="string"?A:"pipe",LTQ=(A)=>typeof A==="string"?A:"pipe",kMA=(A)=>A instanceof globalThis.Error?A:new globalThis.Error(String(A)),Gq=(A,Q,B)=>{let C=X1A(B).reduce((E,I)=>{let Y=`${I.command} ${I.args.join(" ")}`;return E.length===0?Y:`${E} | ${Y}`},"");return ZE("Command",A)(Q,[C])},aSB={[W1A]:W1A,...V8,toJSON(){return{_id:"@effect/platform/CommandExecutor/Process",pid:this.pid}}},Hb=(A)=>(Q)=>{switch(Q._tag){case"StandardCommand":{let B=v(WB(),(C)=>OB((E)=>{let I=OTQ.spawn(Q.command,Q.args,{stdio:[rSB(Q.stdin),LTQ(Q.stdout),LTQ(Q.stderr)],cwd:YQ(Q.cwd,KF),shell:Q.shell,env:{...process.env,...Object.fromEntries(Q.env)}});return I.on("error",(Y)=>{E(ZA(Gq("spawn",Y,Q)))}),I.on("exit",(...Y)=>{VC(C,c(Y))}),I.on("spawn",()=>{E(c([I,C]))}),r(()=>{I.kill("SIGTERM")})}));return H(HA(Q.cwd,{onNone:()=>u,onSome:(C)=>A.access(C)}),VA(kQ(B,([C,E])=>v(E5(E),(I)=>I?u:LA(()=>{if(C.kill("SIGTERM"))return WQ(E);return u})))),h(([C,E])=>{let I=tQQ;if(C.stdin!==null)I=Qe(()=>C.stdin,(Z)=>Gq("toWritable",kMA(Z),Q));let Y=v(WQ(E),([Z,X])=>{if(Z!==null)return c(CDQ(Z));return ZA(Gq("exitCode",new globalThis.Error(`Process interrupted due to receipt of signal: ${X}`),Q))}),G=Sp(E5(E)),J=(Z="SIGTERM")=>LA(()=>C.kill(Z)?JE(WQ(E)):ZA(Gq("kill",new globalThis.Error("Failed to kill process"),Q))),D=EDQ(C.pid),U=tK(()=>C.stderr,(Z)=>Gq("fromReadable(stderr)",kMA(Z),Q)),N=tK(()=>C.stdout,(Z)=>Gq("fromReadable(stdout)",kMA(Z),Q));if(typeof Q.stdout!=="string")N=Lo(N,Q.stdout);return Object.assign(Object.create(aSB),{pid:D,exitCode:Y,isRunning:G,kill:J,stdin:I,stderr:U,stdout:N})}),typeof Q.stdin==="string"?s:VB((C)=>KG(F4(Q.stdin,C.stdin))))}case"PipedCommand":{let B=X1A(Q);if(B.length===1)return H(B[0],Hb(A));let C=B[0],E=B.slice(1),I=E.slice(0,E.length-1),Y=E[E.length-1],G=I.reduce((J,D)=>H(F1A(D,J),Hb(A),h((U)=>U.stdout),xJ),H(Hb(A)(C),h((J)=>J.stdout),xJ));return H(F1A(Y,G),Hb(A))}}},RTQ=GB(BDQ,H(oY,h((A)=>IDQ(Hb(A)))));var BQA=RTQ;import*as qTQ from"node:crypto";import*as rQ from"node:fs";import*as PTQ from"node:os";import*as Jq from"node:path";var WI=(A)=>(Q)=>yD({module:"FileSystem",method:A,message:Q.message??String(Q)}),tSB=(()=>{let A=qI(rQ.access,ZE("FileSystem","access"),WI("access"));return(Q,B)=>{let C=rQ.constants.F_OK;if(B?.readable)C|=rQ.constants.R_OK;if(B?.writable)C|=rQ.constants.W_OK;return A(Q,C)}})(),eSB=(()=>{let A=qI(rQ.cp,ZE("FileSystem","copy"),WI("copy"));return(Q,B,C)=>A(Q,B,{force:C?.overwrite??!1,preserveTimestamps:C?.preserveTimestamps??!1,recursive:!0})})(),AgB=(()=>{let A=qI(rQ.copyFile,ZE("FileSystem","copyFile"),WI("copyFile"));return(Q,B)=>A(Q,B)})(),QgB=(()=>{let A=qI(rQ.chmod,ZE("FileSystem","chmod"),WI("chmod"));return(Q,B)=>A(Q,B)})(),BgB=(()=>{let A=qI(rQ.chown,ZE("FileSystem","chown"),WI("chown"));return(Q,B,C)=>A(Q,B,C)})(),CgB=(()=>{let A=qI(rQ.link,ZE("FileSystem","link"),WI("link"));return(Q,B)=>A(Q,B)})(),EgB=(()=>{let A=qI(rQ.mkdir,ZE("FileSystem","makeDirectory"),WI("makeDirectory"));return(Q,B)=>A(Q,{recursive:B?.recursive??!1,mode:B?.mode})})(),bMA=(A)=>{let Q=qI(rQ.mkdtemp,ZE("FileSystem",A),WI(A));return(B)=>LA(()=>{let C=B?.prefix??"",E=typeof B?.directory==="string"?Jq.join(B.directory,"."):PTQ.tmpdir();return Q(C?Jq.join(E,C):E+"/")})},IgB=bMA("makeTempDirectory"),hMA=(A)=>{let Q=qI(rQ.rm,ZE("FileSystem",A),WI(A));return(B,C)=>Q(B,{recursive:C?.recursive??!1,force:C?.force??!1})},YgB=hMA("remove"),GgB=(()=>{let A=bMA("makeTempDirectoryScoped"),Q=hMA("makeTempDirectoryScoped");return(B)=>kQ(A(B),(C)=>YB(Q(C,{recursive:!0})))})(),_TQ=(A)=>{let Q=qI(rQ.open,ZE("FileSystem",A),WI(A)),B=qI(rQ.close,ZE("FileSystem",A),WI(A));return(C,E)=>H(kQ(Q(C,E?.flag??"r",E?.mode),(I)=>YB(B(I))),h((I)=>DgB(_DQ(I),E?.flag?.startsWith("a")??!1)))},JgB=_TQ("open"),DgB=(()=>{let A=(U)=>qI(rQ.read,ZE("FileSystem",U),WI(U)),Q=A("read"),B=A("readAlloc"),C=qI(rQ.fstat,ZE("FileSystem","stat"),WI("stat")),E=qI(rQ.ftruncate,ZE("FileSystem","truncate"),WI("truncate")),I=qI(rQ.fsync,ZE("FileSystem","sync"),WI("sync")),Y=(U)=>qI(rQ.write,ZE("FileSystem",U),WI(U)),G=Y("write"),J=Y("writeAll");class D{fd;append;[so];semaphore=hU(1);position=0n;constructor(U,N){this.fd=U,this.append=N,this[so]=so}get stat(){return h(C(this.fd),xTQ)}get sync(){return I(this.fd)}seek(U,N){let Z=M9(U);return this.semaphore.withPermits(1)(r(()=>{if(N==="start")this.position=Z;else if(N==="current")this.position=this.position+Z;return this.position}))}read(U){return this.semaphore.withPermits(1)(h(LA(()=>Q(this.fd,{buffer:U,position:this.position})),(N)=>{let Z=M9(N);return this.position=this.position+Z,Z}))}readAlloc(U){let N=Number(U);return this.semaphore.withPermits(1)(v(r(()=>Buffer.allocUnsafeSlow(N)),(Z)=>h(B(this.fd,{buffer:Z,position:this.position}),(X)=>{if(X===0)return x();if(this.position=this.position+BigInt(X),X===N)return j(Z);let W=Buffer.allocUnsafeSlow(X);return Z.copy(W,0,0,X),j(W)})))}truncate(U){return this.semaphore.withPermits(1)(h(E(this.fd,U?Number(U):void 0),()=>{if(!this.append){let N=BigInt(U??0);if(this.position>N)this.position=N}}))}write(U){return this.semaphore.withPermits(1)(h(LA(()=>G(this.fd,U,void 0,void 0,this.append?void 0:Number(this.position))),(N)=>{let Z=M9(N);if(!this.append)this.position=this.position+Z;return Z}))}writeAllChunk(U){return v(LA(()=>J(this.fd,U,void 0,void 0,this.append?void 0:Number(this.position))),(N)=>{if(N===0)return ZA(V9({module:"FileSystem",method:"writeAll",reason:"WriteZero",pathOrDescriptor:this.fd,message:"write returned 0 bytes written"}));if(!this.append)this.position=this.position+BigInt(N);return N<U.length?this.writeAllChunk(U.subarray(N)):u})}writeAll(U){return this.semaphore.withPermits(1)(this.writeAllChunk(U))}}return(U,N)=>new D(U,N)})(),jTQ=(A)=>{let Q=bMA(A),B=_TQ(A),C=(E)=>r(()=>qTQ.randomBytes(E).toString("hex"));return(E)=>H(zE(Q(E),C(6)),h(([I,Y])=>Jq.join(I,Y)),VB((I)=>fC(B(I,{flag:"w+"}))))},UgB=jTQ("makeTempFile"),NgB=(()=>{let A=jTQ("makeTempFileScoped"),Q=hMA("makeTempFileScoped");return(B)=>kQ(A(B),(C)=>YB(Q(Jq.dirname(C),{recursive:!0})))})(),ZgB=(A,Q)=>YE({try:()=>rQ.promises.readdir(A,Q),catch:(B)=>ZE("FileSystem","readDirectory")(B,[A])}),XgB=(A)=>OB((Q,B)=>{try{rQ.readFile(A,{signal:B},(C,E)=>{if(C)Q(ZA(ZE("FileSystem","readFile")(C,[A])));else Q(c(E))})}catch(C){Q(ZA(WI("readFile")(C)))}}),FgB=(()=>{let A=qI(rQ.readlink,ZE("FileSystem","readLink"),WI("readLink"));return(Q)=>A(Q)})(),HgB=(()=>{let A=qI(rQ.realpath,ZE("FileSystem","realPath"),WI("realPath"));return(Q)=>A(Q)})(),WgB=(()=>{let A=qI(rQ.rename,ZE("FileSystem","rename"),WI("rename"));return(Q,B)=>A(Q,B)})(),xTQ=(A)=>({type:A.isFile()?"File":A.isDirectory()?"Directory":A.isSymbolicLink()?"SymbolicLink":A.isBlockDevice()?"BlockDevice":A.isCharacterDevice()?"CharacterDevice":A.isFIFO()?"FIFO":A.isSocket()?"Socket":"Unknown",mtime:aQ(A.mtime),atime:aQ(A.atime),birthtime:aQ(A.birthtime),dev:A.dev,rdev:aQ(A.rdev),ino:aQ(A.ino),mode:A.mode,nlink:aQ(A.nlink),uid:aQ(A.uid),gid:aQ(A.gid),size:M9(A.size),blksize:aQ(M9(A.blksize)),blocks:aQ(A.blocks)}),mMA=(()=>{let A=qI(rQ.stat,ZE("FileSystem","stat"),WI("stat"));return(Q)=>h(A(Q),xTQ)})(),KgB=(()=>{let A=qI(rQ.symlink,ZE("FileSystem","symlink"),WI("symlink"));return(Q,B)=>A(Q,B)})(),VgB=(()=>{let A=qI(rQ.truncate,ZE("FileSystem","truncate"),WI("truncate"));return(Q,B)=>A(Q,B!==void 0?Number(B):void 0)})(),MgB=(()=>{let A=qI(rQ.utimes,ZE("FileSystem","utime"),WI("utime"));return(Q,B,C)=>A(Q,B,C)})(),$gB=(A)=>Do((Q)=>kQ(r(()=>{let B=rQ.watch(A,{},(C,E)=>{if(!E)return;switch(C){case"rename":{Q.fromEffect(tG(mMA(E),{onSuccess:(I)=>jDQ({path:E}),onFailure:(I)=>SDQ({path:E})}));return}case"change":{Q.single(xDQ({path:E}));return}}});return B.on("error",(C)=>{Q.fail(V9({module:"FileSystem",reason:"Unknown",method:"watch",pathOrDescriptor:A,message:C.message}))}),B.on("close",()=>{Q.end()}),B}),(B)=>r(()=>B.close()))),zgB=(A,Q)=>mMA(Q).pipe(h((B)=>A.pipe(qE((C)=>C.register(Q,B)),YQ(()=>$gB(Q)))),N6),wgB=(A,Q,B)=>OB((C,E)=>{try{rQ.writeFile(A,Q,{signal:E,flag:B?.flag,mode:B?.mode},(I)=>{if(I)C(ZA(ZE("FileSystem","writeFile")(I,[A])));else C(u)})}catch(I){C(ZA(WI("writeFile")(I)))}}),LgB=h(yH(R1A),(A)=>PDQ({access:tSB,chmod:QgB,chown:BgB,copy:eSB,copyFile:AgB,link:CgB,makeDirectory:EgB,makeTempDirectory:IgB,makeTempDirectoryScoped:GgB,makeTempFile:UgB,makeTempFileScoped:NgB,open:JgB,readDirectory:ZgB,readFile:XgB,readLink:FgB,realPath:HgB,remove:YgB,rename:WgB,stat:mMA,symlink:KgB,truncate:VgB,utimes:MgB,watch(Q){return zgB(A,Q)},writeFile:wgB})),STQ=GB(oY,LgB);var Dq=STQ;import*as Wb from"node:path";import*as CQA from"node:url";var dMA=(A)=>VE({try:()=>CQA.fileURLToPath(A),catch:(Q)=>yD({module:"Path",method:"fromFileUrl",message:`${Q}`})}),uMA=(A)=>VE({try:()=>CQA.pathToFileURL(A),catch:(Q)=>yD({module:"Path",method:"toFileUrl",message:`${Q}`})}),gTQ=q0(bD,bD.of({[r3]:r3,...Wb.posix,fromFileUrl:dMA,toFileUrl:uMA})),vTQ=q0(bD,bD.of({[r3]:r3,...Wb.win32,fromFileUrl:dMA,toFileUrl:uMA})),yTQ=q0(bD,bD.of({[r3]:r3,...Wb,fromFileUrl:dMA,toFileUrl:uMA}));var Uq=yTQ,kTQ=gTQ,bTQ=vTQ;import*as EQA from"node:readline";var hTQ=(A)=>A.key.ctrl&&(A.key.name==="c"||A.key.name==="d"),cMA=(A=hTQ)=>KA(function*(){let Q=yield*r(()=>globalThis.process.stdin),B=yield*r(()=>globalThis.process.stdout),C=r(()=>EQA.createInterface({input:Q,escapeCodeTimeout:50})),E=(N)=>{if(EQA.emitKeypressEvents(Q,N),Q.isTTY)Q.setRawMode(!0);return N},I=(N)=>r(()=>{if(Q.isTTY)Q.setRawMode(!1);N.close()}),Y=(N)=>OB((Z)=>{let X=(W,K)=>{let V={input:aQ(W),key:{name:K.name||"",ctrl:K.ctrl||!1,meta:K.meta||!1,shift:K.shift||!1}};if(A(V))Z(ZA(new E6A));else Z(c(V))};return N.once("keypress",X),r(()=>{N.removeListener("keypress",X)})}),G=(N)=>OB((Z)=>{let X=(W)=>{Z(c(W))};return N.on("line",X),r(()=>{N.removeListener("line",X)})}),J=FZ(C.pipe(h(E)),()=>Y(Q),I),D=FZ(C,(N)=>G(N),I),U=(N)=>E2(OB((Z)=>{B.write(N,(X)=>{if(X)Z(ZA(yD({module:"Terminal",method:"display",message:X.message??String(X)})));Z(u)})}));return BN.of({columns:r(()=>B.columns||0),readInput:J,readLine:D,display:U})}),mTQ=t0(BN,cMA(hTQ));var fTQ=cMA,IQA=mTQ;var GQA={};ZQ(GQA,{layerWorker:()=>_gB,layerPlatform:()=>xgB,layerManager:()=>iMA,layer:()=>jgB});var qgB=D6A()({setup({scope:A,worker:Q}){return v(WB(),(B)=>{let C="postMessage"in Q?{postMessage(E,I){Q.postMessage(E,I)},kill:()=>Q.terminate(),worker:Q}:{postMessage(E,I){Q.send(E)},kill:()=>Q.kill("SIGKILL"),worker:Q};return Q.on("exit",()=>{VC(B,_C)}),IB(jC(A,LA(()=>{return C.postMessage([1]),WQ(B)}).pipe(zQ,mX(5000),dQ(()=>r(()=>C.kill())))),C)})},listen({deferred:A,emit:Q,port:B}){return B.worker.on("message",(C)=>{Q(C)}),B.worker.on("messageerror",(C)=>{VC(A,new X2({reason:"decode",cause:C}))}),B.worker.on("error",(C)=>{VC(A,new X2({reason:"unknown",cause:C}))}),B.worker.on("exit",(C)=>{VC(A,new X2({reason:"unknown",cause:new Error(`exited with code ${C}`)}))}),u}}),YQA=q0(Ya,qgB),lMA=mA(U6A,YQA),uTQ=(A)=>fU(lMA,Ga(A)),pTQ=(A)=>fU(YQA,Ga(A));var iMA=lMA,_gB=YQA,jgB=uTQ,xgB=pTQ;var JQA=H(wZ(Uq,BQA,IQA,iMA),zC(Dq));var oMA=wN(sTQ(),1);import*as tTQ from"node:fs";import{Readable as ggB}from"node:stream";var NQA={};ZQ(NQA,{layer:()=>nMA});var nMA=Dq;var rMA=GZQ({fileResponse(A,Q,B,C,E,I,Y){let G=tTQ.createReadStream(A,{start:E,end:I});return a1A(G,{headers:{...C,"content-type":C["content-type"]??oMA.default.getType(A)??"application/octet-stream","content-length":Y.toString()},status:Q,statusText:B})},fileWebResponse(A,Q,B,C,E){return a1A(ggB.fromWeb(A.stream()),{headers:F6(C,qW({"content-type":C["content-type"]??oMA.default.getType(A.name)??"application/octet-stream","content-length":A.size.toString()})),status:Q,statusText:B})}}),Kb=H(GB(YZQ,rMA),mA(nMA),mA(zDQ));var Vb=(A,Q)=>KA(function*(){let B=yield*ME,C=yield*kQ(r(A),(Y)=>OB((G)=>{if(!Y.listening)return G(u);Y.close((J)=>{if(J)G(MC(J));else G(u)})}));yield*OB((Y)=>{function G(J){Y(ZA(new e1A({cause:J})))}C.on("error",G),C.listen(Q,()=>{C.off("error",G),Y(u)})});let E=C.address(),I=yield*H(kQ(r(()=>new Fb.default({noServer:!0})),(Y)=>OB((G)=>{Y.close(()=>G(u))})),IE(B),LJ);return w5A({address:typeof E==="string"?{_tag:"UnixAddress",path:E}:{_tag:"TcpAddress",hostname:E.address==="::"?"0.0.0.0":E.address,port:E.port},serve:(Y,G)=>KA(function*(){let J=yield*sMA(Y,G),D=yield*kgB(I,Y,G);yield*HZ(()=>r(()=>{C.off("request",J),C.off("upgrade",D)})),C.on("request",J),C.on("upgrade",D)})})}).pipe(T0(_W,j(M9(10485760)))),sMA=(A,Q)=>{let B=Rr(A,CqQ,Q);return h(wI(),(C)=>{let E=pE(C);return function I(Y,G){let J=E(Y0(B,rY,new XQA(Y,G)));G.on("close",()=>{if(!G.writableEnded)J.unsafeInterruptAsFork(bg)})}})},kgB=(A,Q,B)=>{let C=Rr(Q,CqQ,B);return h(eaA(),(E)=>function I(Y,G,J){let D=void 0,U=()=>{if(D===void 0)D=new ZQA.ServerResponse(Y),D.assignSocket(G),D.on("finish",()=>{G.end()});return D},N=pg(v(A,(X)=>kQ(OB((W)=>X.handleUpgrade(Y,G,J,(K)=>{W(c(K))})),(W)=>r(()=>W.close())))),Z=E(Y0(C,rY,new XQA(Y,U,N)));G.on("close",()=>{if(!G.writableEnded)Z.unsafeInterruptAsFork(bg)})})};class XQA extends Yk{source;response;upgradeEffect;url;headersOverride;[Lr];constructor(A,Q,B,C=A.url,E,I){super(A,(Y)=>new yZ({request:this,reason:"Decode",cause:Y}),I);this.source=A,this.response=Q,this.upgradeEffect=B,this.url=C,this.headersOverride=E,this[Lr]=Lr}cachedCookies;get cookies(){if(this.cachedCookies)return this.cachedCookies;return this.cachedCookies=io(this.headers.cookie??"")}get resolvedResponse(){return typeof this.response==="function"?this.response():this.response}modify(A){return new XQA(this.source,this.response,this.upgradeEffect,A.url??this.url,A.headers??this.headersOverride,A.remoteAddress??this.remoteAddressOverride)}get originalUrl(){return this.source.url}get method(){return this.source.method.toUpperCase()}get headers(){return this.headersOverride??=this.source.headers,this.headersOverride}multipartEffect;get multipart(){if(this.multipartEffect)return this.multipartEffect;return this.multipartEffect=eB(LJ(MMA(this.source,this.source.headers))),this.multipartEffect}get multipartStream(){return VMA(this.source,this.source.headers)}get upgrade(){return this.upgradeEffect??ZA(new yZ({request:this,reason:"Decode",description:"not an upgradeable ServerRequest"}))}toString(){return`ServerRequest(${this.method} ${this.url})`}toJSON(){return W4(this,{_id:"@effect/platform/HttpServerRequest",method:this.method,url:this.originalUrl})}}var AqQ=(A,Q)=>t0(og,Vb(A,Q)),tMA=wZ(Kb,Og,JQA),eMA=(A,Q)=>wZ(t0(og,Vb(A,Q)),tMA),QqQ=L5A.pipe(mA(HMA),mA(FMA({keepAlive:!1})),zC(eMA(ZQA.createServer,{port:0}))),BqQ=(A,Q)=>wZ(t0(og,v(VaA(Q),(B)=>Vb(A,B))),Kb,Og,JQA),CqQ=(A,Q)=>LA(()=>{let B=A.resolvedResponse;if(B.writableEnded)return u;let C=Q.headers;if(!wg(Q.cookies)){C={...C};let I=lo(Q.cookies);if(C["set-cookie"]!==void 0)I.push(C["set-cookie"]);C["set-cookie"]=I}if(A.method==="HEAD")return B.writeHead(Q.status,C),OB((I)=>{B.end(()=>I(u))});let E=Q.body;switch(E._tag){case"Empty":return B.writeHead(Q.status,C),B.end(),u;case"Raw":{if(B.writeHead(Q.status,C),typeof E.body==="object"&&E.body!==null&&"pipe"in E.body&&typeof E.body.pipe==="function")return YE({try:(I)=>ygB(E.body,B,{signal:I,end:!0}),catch:(I)=>new Nr({request:A,response:Q,reason:"Decode",cause:I})}).pipe(zQ,pY(aMA(B)));return OB((I)=>{B.end(E.body,()=>I(u))})}case"Uint8Array":return B.writeHead(Q.status,C),OB((I)=>{B.end(E.body,()=>I(u))});case"FormData":return LA(()=>{let I=new Response(E.formData);return B.writeHead(Q.status,{...C,...Object.fromEntries(I.headers)}),OB((Y,G)=>{vgB.fromWeb(I.body,{signal:G}).pipe(B).on("error",(J)=>{Y(ZA(new Nr({request:A,response:Q,reason:"Decode",cause:J})))}).once("finish",()=>{Y(u)})}).pipe(zQ,pY(aMA(B)))});case"Stream":return B.writeHead(Q.status,C),E.stream.pipe(K9((I)=>OB((Y)=>{let G=CB(I);if(G.length===0){Y(u);return}for(let J=0;J<G.length-1;J++)B.write(G[J]);B.write(G[G.length-1],()=>Y(u))})),zQ,KZ({onSuccess:()=>B.end(),onFailure:aMA(B)}))}}),aMA=(A)=>(Q)=>hg(Q).pipe(v(([B,C])=>{if(!A.headersSent)A.writeHead(B.status);if(!A.writableEnded)A.end();return z0(C)})),EqQ=(A)=>A.source,IqQ=(A)=>{let Q=A.response;return typeof Q==="function"?Q():Q};var bgB=Vb,hgB=sMA,mgB=AqQ,Mb=eMA,fgB=BqQ,dgB=QqQ,ugB=tMA;var wb={};ZQ(wb,{makeNetChannel:()=>pgB,makeNet:()=>zb,layerWebSocketConstructor:()=>L$,layerWebSocket:()=>lgB,layerNet:()=>cgB,fromDuplex:()=>HQA,NetSocket:()=>FQA});import*as GqQ from"node:net";var FQA=pA("@effect/platform-node/NodeSocket/NetSocket"),zb=(A)=>HQA(kQ(OB((Q)=>{let B=GqQ.createConnection(A);return B.on("connect",()=>{B.removeAllListeners(),Q(c(B))}),B.on("error",(C)=>{B.removeAllListeners(),Q(ZA(new a3({reason:"Open",cause:C})))}),r(()=>{B.destroy()})}),(Q)=>r(()=>{if(Q.closed===!1)if("destroySoon"in Q)Q.destroySoon();else Q.destroy();Q.removeAllListeners()}))),HQA=(A)=>KB((Q)=>{let B,C=cY(!1),E=Q.currentContext,I=(J)=>kU(XQ(function*(D){let U=yield*PJ().pipe(IE(D)),N=yield*IE(A,D),Z=yield*Y0(tX(U)(),FQA,N);function X(M){let z=J(M);if(nB(z))Z(z)}function W(){VC(U.deferred,u)}function K(M){VC(U.deferred,ZA(new a3({reason:"Read",cause:M})))}function V(M){VC(U.deferred,ZA(new gW({reason:"Close",code:M?1006:1000})))}return yield*jC(D,r(()=>{N.off("data",X),N.off("end",W),N.off("error",K),N.off("close",V)})),N.on("data",X),N.on("end",W),N.on("error",K),N.on("close",V),B=N,yield*C.open,yield*q3(U)})).pipe(B9((D)=>E0(E,D)),$C(r(()=>{C.unsafeClose(),B=void 0})),zQ),G=kQ(c((J)=>C.whenOpen(OB((D)=>{let U=B;if(E5A(J))return U.destroy(J.code>1000?new Error(`closed with code ${J.code}`):void 0),D(u);B.write(J,(N)=>{D(N?ZA(new a3({reason:"Write",cause:N})):u)})}))),()=>r(()=>{if(!B||B.writableEnded)return;B.end()}));return c(eU.of({[dg]:dg,run:I,runRaw:I,writer:G}))}),pgB=(A)=>Ci(h(zb(A),Y5A())),cgB=(A)=>GB(eU,zb(A));var lgB=(A,Q)=>t0(eU,ug(A,Q)).pipe(mA(L$)),L$=RJ(cO,()=>{if("WebSocket"in globalThis)return(A,Q)=>new globalThis.WebSocket(A,Q);return(A,Q)=>new vMA.default(A,Q)});var ngB=(A)=>{return(A.clientOnly?A.transport==="http"?mA(uKQ,Aq):mA(cKQ,L$):A.transport==="http"?mA(dKQ,[A$A,Aq]):mA(pKQ,[A$A,L$])).pipe(mA(A?.storage==="sql"?A.clientOnly?[ZT]:[ZT,sK]:[m9,a4]),mA(aK(A?.shardingConfig)),mA(A?.serialization==="ndjson"?R6:T6))},A$A=KA(function*(){let A=yield*fI;if(cA(A.runnerAddress))return yield*xE("NodeClusterHttpRunner.layerHttpServer: ShardingConfig.podAddress is None");return Mb(igB,A.runnerAddress.value)}).pipe(AJ);var C$A={};ZQ(C$A,{layerSocketServer:()=>WqQ,layer:()=>sgB});var ogB=(A)=>mU(KA(function*(){let Q=yield*mZ,B=Q.address._tag==="UnixAddress"?Q.address.path:`${Q.address.hostname}:${Q.address.port}`;yield*a0(m2(`Listening on: ${B}`),{package:"@effect/cluster",service:"Runner"})})).pipe(zC(A)),DqQ=Qk.pipe(ogB,mA(Dv)),UqQ=Bk;var Lb=GB(a6,KA(function*(){let A=yield*EY;return XQ(function*(Q){let B=yield*zb({host:Q.host,port:Q.port});return yield*Fa().pipe(Y0(eU,B),Y0(EY,A))},YB)}));import*as NqQ from"node:net";class B$A extends uB("@effect/platform-node-shared/NodeSocketServer/IncomingMessage")(){}var ZqQ=XQ(function*(A){let Q=yield*kQ(r(()=>NqQ.createServer(A)),(E)=>OB((I)=>{E.close(()=>I(u))}));yield*OB((E)=>{Q.once("error",(I)=>{E(ZA(new Ba({reason:"Open",cause:I})))}),Q.listen(A,()=>{E(u)})});let B=XQ(function*(E){let I=yield*oG(),Y=yield*PJ().pipe(IE(I)),G=yield*tX(Y)();function J(D){H(HQA(kQ(c(D),(U)=>r(()=>{if(U.closed===!1)U.destroySoon()}))),v(E),dQ(FqQ),Y0(FQA,D),G)}return yield*OB((D)=>{return Q.on("connection",J),r(()=>{Q.off("connection",J)})}).pipe($C(KE(I,_C)))}),C=Q.address();return mZ.of({address:typeof C==="string"?{_tag:"UnixAddress",path:C}:{_tag:"TcpAddress",hostname:C.address,port:C.port},run:B})}),Ob=(A)=>t0(mZ,ZqQ(A)),XqQ=XQ(function*(A){let Q=yield*kQ(r(()=>new Fb.default(A)),(E)=>OB((I)=>{E.close(()=>I(u))}));yield*OB((E)=>{Q.once("error",(I)=>{E(ZA(new Ba({reason:"Open",cause:I})))}),Q.once("listening",()=>{E(u)})});let B=XQ(function*(E){let I=yield*oG(),Y=yield*PJ().pipe(IE(I)),G=yield*tX(Y)();function J(D,U){H(pg(kQ(c(D),(N)=>r(()=>{N.close()}))),v(E),dQ(FqQ),Y0(G5A,D),Y0(B$A,U),G)}return yield*OB((D)=>{return Q.on("connection",J),r(()=>{Q.off("connection",J)})}).pipe($C(KE(I,_C)))}),C=Q.address();return mZ.of({address:typeof C==="string"?{_tag:"UnixAddress",path:C}:{_tag:"TcpAddress",hostname:C.address,port:C.port},run:B})}),agB=(A)=>t0(mZ,XqQ(A)),FqQ=(A)=>KB((Q)=>{let B=Q.getFiberRef(M2A);if(B._tag==="Some")return up(B.value,A,"Unhandled error in SocketServer");return u});var WqQ=KA(function*(){let A=yield*fI;if(cA(A.runnerAddress))return yield*xE("layerSocketServer: ShardingConfig.runnerAddress is None");return Ob(A.runnerAddress.value)}).pipe(AJ),sgB=(A)=>{return((A?.clientOnly)?mA(UqQ,Lb):mA(DqQ,[WqQ,Lb])).pipe(mA(A?.storage==="sql"?A.clientOnly?[ZT]:[ZT,sK]:[m9,a4]),mA(aK(A?.shardingConfig)),mA(A?.serialization==="ndjson"?R6:T6))};var I$A={};ZQ(I$A,{layerHttpServer:()=>E$A,layer:()=>EvB});var tgB=(A)=>ty.pipe(mA(f9.pipe(mA([YT({path:A.runnerPath,https:A.runnerHttps}),m9])))),egB=(A)=>ty.pipe(mA(f9.pipe(mA([GT({path:A.runnerPath,https:A.runnerHttps}),m9])))),AvB=(A)=>{return(A.routerTag??bZ).serve().pipe(A.logAddress?KqQ:s,fU(ey),mA(Nv(A)),zC(tgB(A)))},QvB=(A)=>{return(A.routerTag??bZ).serve().pipe(A.logAddress?KqQ:s,fU(ey),mA(Uv(A)),zC(egB(A)))},KqQ=(A)=>mU(rg((Q)=>a0(m2(`Listening on: ${Q}`),{package:"@effect/cluster",service:"ShardManager"}))).pipe(zC(A)),VqQ=AvB({path:"/",runnerPath:"/"}),MqQ=QvB({path:"/",runnerPath:"/"}),$qQ=mA(ry,YT({path:"/"})),zqQ=mA(ry,GT({path:"/"}));import{createServer as CvB}from"node:http";var E$A=KA(function*(){let A=yield*fI;return Mb(CvB,A.shardManagerAddress)}).pipe(AJ),EvB=(A)=>{return(A.protocol==="http"?VqQ.pipe(mA([$qQ,E$A]),mA(Aq)):MqQ.pipe(mA([zqQ,E$A]),mA(L$))).pipe(mA(A?.storage==="sql"?sK:a4),mA([aK(A.shardingConfig),ot,A?.serialization==="ndjson"?R6:T6]))};var Y$A={};ZQ(Y$A,{layerSocketServer:()=>LqQ,layer:()=>GvB});var IvB=(A)=>mU(KA(function*(){let Q=yield*mZ,B=Q.address._tag==="UnixAddress"?Q.address.path:`${Q.address.hostname}:${Q.address.port}`;yield*a0(m2(`Listening on: ${B}`),{package:"@effect/cluster",service:"ShardManager"})})).pipe(zC(A)),wqQ=ey.pipe(IvB,mA(Dv),zC(ty),mA(f9),mA(m9));var LqQ=KA(function*(){let A=yield*fI;return Ob(A.shardManagerAddress)}).pipe(AJ),GvB=(A)=>wqQ.pipe(mA([ry,LqQ,ot]),mA(Lb),mA(A?.storage==="sql"?sK:a4),mA([A?.serialization==="ndjson"?R6:T6,aK(A?.shardingConfig)]));var G$A={};ZQ(G$A,{layer:()=>JvB});var JvB=BQA;var J$A={};ZQ(J$A,{make:()=>DvB,layer:()=>UvB});var DvB=rMA,UvB=Kb;var D$A={};ZQ(D$A,{toServerResponse:()=>ZvB,toIncomingMessage:()=>NvB});var NvB=EqQ,ZvB=IqQ;var U$A={};ZQ(U$A,{layerFileSystem:()=>FvB});var OqQ=(A)=>mA(S5A(A),fU(Dq,Uq));var FvB=OqQ;var N$A={};ZQ(N$A,{stream:()=>VMA,persisted:()=>MMA,fileToReadable:()=>qxB});var Z$A={};ZQ(Z$A,{layerWin32:()=>KvB,layerPosix:()=>WvB,layer:()=>HvB});var HvB=Uq,WvB=kTQ,KvB=bTQ;var X$A={};ZQ(X$A,{runMain:()=>$vB});var RqQ=C6A(({fiber:A,teardown:Q})=>{let B=setInterval(l0,2147483647),C=!1;A.addObserver((I)=>{if(!C)process.removeListener("SIGINT",E),process.removeListener("SIGTERM",E);clearInterval(B),Q(I,(Y)=>{if(C||Y!==0)process.exit(Y)})});function E(){C=!0,process.removeListener("SIGINT",E),process.removeListener("SIGTERM",E),A.unsafeInterruptAsFork(A.id())}process.on("SIGINT",E),process.on("SIGTERM",E)});var TqQ=RqQ;var $vB=TqQ;var F$A={};ZQ(F$A,{makeWebSocket:()=>XqQ,make:()=>ZqQ,layerWebSocket:()=>agB,layer:()=>Ob,IncomingMessage:()=>B$A});var H$A={};ZQ(H$A,{make:()=>zvB,layer:()=>wvB});var zvB=fTQ,wvB=IQA;var W$A={};ZQ(W$A,{layer:()=>RvB,launch:()=>N6A});import*as X1 from"node:worker_threads";var LvB=CR.of({[Da]:Da,start(A){return KA(function*(){if(!X1.parentPort&&!process.send)return yield*new X2({reason:"spawn",cause:new Error("not in a worker")});let Q=X1.parentPort?(E,I)=>X1.parentPort.postMessage(E,I):(E,I)=>process.send(E),B=(E,I,Y)=>r(()=>Q([1,I],Y));return{run:XQ(function*(E){let I=(yield*zQ(wI())).pipe(Lx(hF(aI))),Y=yield*PJ(),G=pE(I),J=(D)=>{if(D._tag==="Failure"&&!XG(D.cause))VC(A,BI(WE(D.cause)))};if((X1.parentPort??process).on("message",(D)=>{if(D[0]===0){let U=E(0,D[1]);if(nB(U)){let N=G(U);N.addObserver(J),J9(Y,N)}}else{if(X1.parentPort)X1.parentPort.close();else process.channel?.unref();VC(A,_C)}}),X1.parentPort)X1.parentPort.on("messageerror",(D)=>{VC(A,new X2({reason:"decode",cause:D}))}),X1.parentPort.on("error",(D)=>{VC(A,new X2({reason:"unknown",cause:D}))});Q([0])}),send:B}})}}),qqQ=q0(CR,LvB);var RvB=qqQ;var iS0=b.async((A,Q)=>{let B=PqQ.createServer();Q.addEventListener("abort",()=>{B.close()}),B.listen(0,()=>{let C=B.address();if(C&&typeof C==="object"){let E=C.port;B.close(()=>A(b.succeed(E)))}else B.close(()=>A(b.fail(new mO({cause:"Failed to get a free port"}))))}),B.on("error",(C)=>{B.close(()=>A(b.fail(new mO({cause:C}))))})}),nS0=lA.suspend(()=>{let A=lA.succeed(hO.OtelTracer,f2Q());return lA.unwrapEffect(b.map(hO.make,lA.setTracer)).pipe(lA.provideMerge(A))});var K$A={name:co?"livestore-sandbox":"livestore",id:"devtools",domain:co?"schickling-sandbox.generous.builders":"schickling.generous.builders"},qvB=lA.mergeAll(lA.provide(vW.layerFileSystem(`${_qQ.homedir()}/.config/${K$A.name}/${K$A.id}`),WQA.NodeContext.layer),Cy.layer({domain:K$A.domain})),O$="manifest",jqQ=eQ.gen(function*(){let A=yield*Cy,Q=yield*vW.KeyValueStore,B=!1;yield*eQ.repeat(eQ.gen(function*(){let Y=yield*Q.get(O$);if(EA.isSome(Y)){let G=m4(Y.value),J=yield*A.licensing.devices.ensure({manifest:G}).pipe(eQ.catchTags({DeviceExpiredError:()=>eQ.succeed(void 0),DeviceDeregisteredError:()=>eQ.succeed(void 0)}));if(J){if(!B){let D=yield*A.users.getSupporter({manifest:m4(Y.value)});if(co)yield*eQ.logInfo(`[@livestore/devtools-vite:license] Device is registered to ${D.name}`);B=!0}yield*Q.set(O$,J)}else yield*Q.remove(O$)}}),GM.addDelay(GM.forever,()=>"5 minutes")).pipe(eQ.catchTag("DeviceRegistrationError",()=>eQ.void),eQ.catchTag("EnsureDeviceClientError",()=>eQ.void),eQ.tapCauseLogPretty,eQ.forkDaemon),yield*eQ.yieldNow();let E=Ey.GenerousRpc.toLayer(eQ.gen(function*(){return{RegisterDevice:({code:Y})=>eQ.gen(function*(){let G=yield*A.licensing.devices.register({code:Y});yield*Q.set(O$,G)}).pipe(eQ.tapCauseLogPretty,eQ.mapError((G)=>Xg(G))),GetRegisteredDevice:()=>eQ.gen(function*(){let Y=yield*Q.get(O$);if(EA.isSome(Y)){let G=yield*A.users.getSupporter({manifest:m4(Y.value)});return{supporter:EA.some(G)}}return{supporter:EA.none()}}).pipe(eQ.tapCauseLogPretty,eQ.mapError((Y)=>Xg(Y))),DeregisterDevice:()=>eQ.gen(function*(){let Y=yield*Q.get(O$);if(EA.isSome(Y))yield*A.licensing.devices.deregister({manifest:m4(Y.value)}),yield*Q.remove(O$);else yield*eQ.logWarning("[@livestore/devtools-vite] Device not registered")}).pipe(eQ.tapCauseLogPretty,eQ.mapError((Y)=>Xg(Y)))}})),I=fD.toWebHandler(Ey.GenerousRpc,{layer:lA.mergeAll(E,EN.layerJson,z4.layerContext)});return PvB(I.handler)}).pipe(eQ.provide(qvB)),PvB=(A)=>async(Q,B)=>{try{if(B.setHeader("Access-Control-Allow-Origin","*"),B.setHeader("Access-Control-Allow-Methods","POST, OPTIONS"),B.setHeader("Access-Control-Allow-Headers","*"),Q.method==="OPTIONS"){B.end();return}let C=new URL(Q.url??"/",`http://${Q.headers.host??"localhost"}`),E=["GET","HEAD"].includes(Q.method??"")?void 0:Q,I=new Request(C,{method:Q.method,headers:Q.headers,body:E,duplex:"half"}),Y=await A(I);if(B.writeHead(Y.status,Y.statusText,Object.fromEntries(Y.headers)),Y.body)TvB.fromWeb(Y.body).pipe(B);else B.end()}catch(C){console.error(C),B.writeHead(500).end("Internal Server Error")}};import _vB from"node:path";var V$A=({path:A,base:Q})=>{let B=A??"/_livestore";return _vB.join(Q,B)};var xqQ=process.env.LSD_DEVTOOLS_LOCAL_PREVIEW!==void 0,jvB=g.Struct({schemaPath:g.Union(g.String,g.Array(g.String)),mode:g.optional(Hv.DevtoolsMode),path:g.optional(g.String),experimental:g.optional(g.Struct({continueOnError:g.optional(g.Boolean)}))}),SqQ="@livestore/devtools-vite",Jg0=(A)=>{let Q=g.validateEither(jvB)(A);if(Q._tag==="Left")return console.error(`[@livestore/devtools-vite] Invalid options: ${Q.left}`),{name:SqQ};return{name:SqQ,configureServer:(B)=>eQ.gen(function*(){let C=V$A({path:A.path,base:B.config.base}),I=(Array.isArray(A.schemaPath)?A.schemaPath:[A.schemaPath]).map((Z)=>HF.isAbsolute(Z)?Z:HF.resolve(HF.join(B.config.root,Z)));for(let Z of I){let X=yield*eQ.promise(()=>B.ssrLoadModule(Z)).pipe(_4.mapToUnexpectedError,eQ.either);if(X._tag==="Left")if(console.error(`[@livestore/devtools-vite] Error loading schema file ${Z}`,X.left),A.experimental?.continueOnError===!0)return;else return yield*eQ.die(X.left);let W=X.right;if(!("schema"in W)){console.error(`[@livestore/devtools-vite] Could not find an export named \`schema\` in the provided schema file.
Please make sure to export the schema from your schema file like this: \`export const schema = ...\`.

Found exports: ${Object.keys(W).join(", ")}
Resolved schema path: ${Z}
`);return}}let Y,G;if(xqQ)G=HF.resolve(import.meta.dirname,"..","..","devtools-react","dist","index.css"),Y=HF.join(import.meta.dirname,"..","devtools-react-bundle.ts");else{let Z=HF.join(import.meta.dirname,"..","dist","devtools-bundle");Y=HF.resolve(Z,"index.js"),G=HF.resolve(Z,"devtools-vite.css")}let J=yield*eQ.promise(()=>B.ssrLoadModule("@livestore/adapter-web").then(()=>!0).catch(()=>!1)),D=xvB({schemaPaths:I,bundlePath:Y,cssPath:G,mountPath:C,mode:A.mode,hasWebAdapterDep:J}),U=yield*eQ.promise(()=>B.transformIndexHtml(C,D)),N=yield*jqQ;B.middlewares.use(`${C}/livestore-devtools/rpc`,N),B.middlewares.use(C,async(Z,X,W)=>{if(Z.url===void 0){W();return}if(Z.url.startsWith("/livestore-devtools/rpc")){W();return}let K=new URL(Z.url,typeof B.config.server.host==="string"?B.config.server.host:"http://localhost");if(K.pathname.startsWith("/@")===!0||K.pathname.endsWith(".ts")||K.pathname.endsWith(".js")){W();return}else{X.setHeader("Content-Type","text/html");let V=U.split(`
`).filter((M)=>!M.includes("vinxi/runtime")).join(`
`);X.end(V);return}})}).pipe(eQ.scoped,eQ.tapCauseLogPretty,eQ.provide(qo.prettyWithThread("livestore-devtools-vite")),eQ.runPromise),config:async(B,C)=>{if(B.optimizeDeps===void 0)B.optimizeDeps={};if(B.optimizeDeps.exclude===void 0)B.optimizeDeps.exclude=[];if(C.command==="serve"){if(B.define===void 0)B.define={};let I=V$A({path:A.path,base:B.base??"/"});B.define.LIVESTORE_DEVTOOLS_PATH=`'${I}'`,B.define.LIVESTORE_DEVTOOLS_ENFORCE_LICENSE="true"}let E=["@livestore/devtools-vite","@livestore/wa-sqlite"];for(let I of E)if(!B.optimizeDeps.exclude.includes(I))B.optimizeDeps.exclude.push(I);if(xqQ){if(console.debug("[@livestore/devtools-vite] Using local preview"),B.resolve===void 0)B.resolve={};if(B.resolve.alias===void 0)B.resolve.alias={};let I=HF.resolve(import.meta.dirname,"..","src","empty-module.ts");B.resolve.alias["react-responsive-carousel"]=I,B.resolve.alias.marked=I}return B}}},xvB=({schemaPaths:A,bundlePath:Q,cssPath:B,mountPath:C,mode:E,hasWebAdapterDep:I})=>{return`
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="livestore-devtools" content="true" />
    <title>LiveStore Devtools</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module">
      import '${B}'

      import { run } from '${Q}'
${A.map((Y,G)=>`      import { schema as schema${G} } from '${Y}'`).join(`
`)}
      ${I?'import sharedWorker from "@livestore/adapter-web/shared-worker?sharedworker"':"const sharedWorker = undefined"}

      run({
        schemas: [${A.map((Y,G)=>`schema${G}`).join(", ")}],
        license: ${process.env.LSD_LICENSE} ? '${process.env.LSD_LICENSE}' : undefined,
        mode: ${E?g.encodeSync(g.parseJson(Hv.DevtoolsMode))(E):void 0},
        sharedWorker,
        mountPath: '${C}',
      })
    </script>
  </body>
</html>
	`};export{Jg0 as livestoreDevtoolsPlugin,jvB as PluginOptions};
