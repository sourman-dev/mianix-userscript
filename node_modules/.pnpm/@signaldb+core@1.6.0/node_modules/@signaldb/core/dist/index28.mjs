import isFieldExpression from "./index29.mjs";
import serializeValue from "./index20.mjs";
function getMatchingKeys(field, selector) {
  const result = { include: null, exclude: null };
  const fieldSelector = selector[field];
  if (fieldSelector instanceof RegExp)
    return result;
  if (fieldSelector == null)
    return result;
  if (isFieldExpression(fieldSelector)) {
    if (fieldSelector.$ne != null) {
      result.exclude = [serializeValue(fieldSelector.$ne)];
      return result;
    }
    if (Array.isArray(fieldSelector.$in) && fieldSelector.$in.length > 0) {
      result.include = fieldSelector.$in.map(serializeValue);
      return result;
    }
    if (Array.isArray(fieldSelector.$nin) && fieldSelector.$nin.length > 0) {
      result.exclude = fieldSelector.$nin.map(serializeValue);
      return result;
    }
    return { include: null, exclude: null };
  }
  result.include = [serializeValue(fieldSelector)];
  return result;
}
export {
  getMatchingKeys as default
};
