"use strict";
const get = require("./index.cjs24.js");
const set = require("./index.cjs25.js");
function project(item, fields) {
  const allFieldsDeactivated = Object.values(fields).every((value) => value === 0);
  if (allFieldsDeactivated) {
    const result2 = { ...item };
    Object.keys(fields).forEach((key) => {
      const fieldValue = get(item, key);
      if (fieldValue === void 0)
        return;
      set(result2, key, void 0, true);
    });
    return result2;
  }
  const result = {};
  Object.entries(fields).forEach(([key, value]) => {
    const fieldValue = get(item, key);
    if (fieldValue === void 0)
      return;
    if (fieldValue == null && value !== 1)
      return;
    set(result, key, value === 1 ? fieldValue : void 0);
  });
  return result;
}
module.exports = project;
